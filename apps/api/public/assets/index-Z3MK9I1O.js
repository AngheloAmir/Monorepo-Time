(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))v(R);new MutationObserver(R=>{for(const E of R)if(E.type==="childList")for(const y of E.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&v(y)}).observe(document,{childList:!0,subtree:!0});function m(R){const E={};return R.integrity&&(E.integrity=R.integrity),R.referrerPolicy&&(E.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?E.credentials="include":R.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function v(R){if(R.ep)return;R.ep=!0;const E=m(R);fetch(R.href,E)}})();var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sc(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Lh={exports:{}},xa={};var Em;function R_(){if(Em)return xa;Em=1;var c=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function m(v,R,E){var y=null;if(E!==void 0&&(y=""+E),R.key!==void 0&&(y=""+R.key),"key"in R){E={};for(var f in R)f!=="key"&&(E[f]=R[f])}else E=R;return R=E.ref,{$$typeof:c,type:v,key:y,ref:R!==void 0?R:null,props:E}}return xa.Fragment=_,xa.jsx=m,xa.jsxs=m,xa}var Am;function N_(){return Am||(Am=1,Lh.exports=R_()),Lh.exports}var N=N_(),Rh={exports:{}},Ie={};var km;function $_(){if(km)return Ie;km=1;var c=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),y=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),n=Symbol.for("react.activity"),i=Symbol.iterator;function r(W){return W===null||typeof W!="object"?null:(W=i&&W[i]||W["@@iterator"],typeof W=="function"?W:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,o={};function d(W,K,Y){this.props=W,this.context=K,this.refs=o,this.updater=Y||l}d.prototype.isReactComponent={},d.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},d.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function g(){}g.prototype=d.prototype;function x(W,K,Y){this.props=W,this.context=K,this.refs=o,this.updater=Y||l}var S=x.prototype=new g;S.constructor=x,h(S,d.prototype),S.isPureReactComponent=!0;var w=Array.isArray;function b(){}var k={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function T(W,K,Y){var X=Y.ref;return{$$typeof:c,type:W,key:K,ref:X!==void 0?X:null,props:Y}}function j(W,K){return T(W.type,K,W.props)}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===c}function $(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return K[Y]})}var D=/\/+/g;function M(W,K){return typeof W=="object"&&W!==null&&W.key!=null?$(""+W.key):K.toString(36)}function L(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(b,b):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function O(W,K,Y,X,q){var J=typeof W;(J==="undefined"||J==="boolean")&&(W=null);var V=!1;if(W===null)V=!0;else switch(J){case"bigint":case"string":case"number":V=!0;break;case"object":switch(W.$$typeof){case c:case _:V=!0;break;case s:return V=W._init,O(V(W._payload),K,Y,X,q)}}if(V)return q=q(W),V=X===""?"."+M(W,0):X,w(q)?(Y="",V!=null&&(Y=V.replace(D,"$&/")+"/"),O(q,K,Y,"",function(ie){return ie})):q!=null&&(F(q)&&(q=j(q,Y+(q.key==null||W&&W.key===q.key?"":(""+q.key).replace(D,"$&/")+"/")+V)),K.push(q)),1;V=0;var Q=X===""?".":X+":";if(w(W))for(var te=0;te<W.length;te++)X=W[te],J=Q+M(X,te),V+=O(X,K,Y,J,q);else if(te=r(W),typeof te=="function")for(W=te.call(W),te=0;!(X=W.next()).done;)X=X.value,J=Q+M(X,te++),V+=O(X,K,Y,J,q);else if(J==="object"){if(typeof W.then=="function")return O(L(W),K,Y,X,q);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return V}function z(W,K,Y){if(W==null)return W;var X=[],q=0;return O(W,X,"","",function(J){return K.call(Y,J,q++)}),X}function B(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var P=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},U={map:z,forEach:function(W,K,Y){z(W,function(){K.apply(this,arguments)},Y)},count:function(W){var K=0;return z(W,function(){K++}),K},toArray:function(W){return z(W,function(K){return K})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Ie.Activity=n,Ie.Children=U,Ie.Component=d,Ie.Fragment=m,Ie.Profiler=R,Ie.PureComponent=x,Ie.StrictMode=v,Ie.Suspense=a,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(W){return k.H.useMemoCache(W)}},Ie.cache=function(W){return function(){return W.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(W,K,Y){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=h({},W.props),q=W.key;if(K!=null)for(J in K.key!==void 0&&(q=""+K.key),K)!A.call(K,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&K.ref===void 0||(X[J]=K[J]);var J=arguments.length-2;if(J===1)X.children=Y;else if(1<J){for(var V=Array(J),Q=0;Q<J;Q++)V[Q]=arguments[Q+2];X.children=V}return T(W.type,q,X)},Ie.createContext=function(W){return W={$$typeof:y,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:E,_context:W},W},Ie.createElement=function(W,K,Y){var X,q={},J=null;if(K!=null)for(X in K.key!==void 0&&(J=""+K.key),K)A.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=K[X]);var V=arguments.length-2;if(V===1)q.children=Y;else if(1<V){for(var Q=Array(V),te=0;te<V;te++)Q[te]=arguments[te+2];q.children=Q}if(W&&W.defaultProps)for(X in V=W.defaultProps,V)q[X]===void 0&&(q[X]=V[X]);return T(W,J,q)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(W){return{$$typeof:f,render:W}},Ie.isValidElement=F,Ie.lazy=function(W){return{$$typeof:s,_payload:{_status:-1,_result:W},_init:B}},Ie.memo=function(W,K){return{$$typeof:u,type:W,compare:K===void 0?null:K}},Ie.startTransition=function(W){var K=k.T,Y={};k.T=Y;try{var X=W(),q=k.S;q!==null&&q(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(b,P)}catch(J){P(J)}finally{K!==null&&Y.types!==null&&(K.types=Y.types),k.T=K}},Ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ie.use=function(W){return k.H.use(W)},Ie.useActionState=function(W,K,Y){return k.H.useActionState(W,K,Y)},Ie.useCallback=function(W,K){return k.H.useCallback(W,K)},Ie.useContext=function(W){return k.H.useContext(W)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(W,K){return k.H.useDeferredValue(W,K)},Ie.useEffect=function(W,K){return k.H.useEffect(W,K)},Ie.useEffectEvent=function(W){return k.H.useEffectEvent(W)},Ie.useId=function(){return k.H.useId()},Ie.useImperativeHandle=function(W,K,Y){return k.H.useImperativeHandle(W,K,Y)},Ie.useInsertionEffect=function(W,K){return k.H.useInsertionEffect(W,K)},Ie.useLayoutEffect=function(W,K){return k.H.useLayoutEffect(W,K)},Ie.useMemo=function(W,K){return k.H.useMemo(W,K)},Ie.useOptimistic=function(W,K){return k.H.useOptimistic(W,K)},Ie.useReducer=function(W,K,Y){return k.H.useReducer(W,K,Y)},Ie.useRef=function(W){return k.H.useRef(W)},Ie.useState=function(W){return k.H.useState(W)},Ie.useSyncExternalStore=function(W,K,Y){return k.H.useSyncExternalStore(W,K,Y)},Ie.useTransition=function(){return k.H.useTransition()},Ie.version="19.2.4",Ie}var Tm;function Br(){return Tm||(Tm=1,Rh.exports=$_()),Rh.exports}var ne=Br();const _e=Sc(ne);var Nh={exports:{}},wa={},$h={exports:{}},Dh={};var Mm;function D_(){return Mm||(Mm=1,(function(c){function _(O,z){var B=O.length;O.push(z);e:for(;0<B;){var P=B-1>>>1,U=O[P];if(0<R(U,z))O[P]=z,O[B]=U,B=P;else break e}}function m(O){return O.length===0?null:O[0]}function v(O){if(O.length===0)return null;var z=O[0],B=O.pop();if(B!==z){O[0]=B;e:for(var P=0,U=O.length,W=U>>>1;P<W;){var K=2*(P+1)-1,Y=O[K],X=K+1,q=O[X];if(0>R(Y,B))X<U&&0>R(q,Y)?(O[P]=q,O[X]=B,P=X):(O[P]=Y,O[K]=B,P=K);else if(X<U&&0>R(q,B))O[P]=q,O[X]=B,P=X;else break e}}return z}function R(O,z){var B=O.sortIndex-z.sortIndex;return B!==0?B:O.id-z.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;c.unstable_now=function(){return E.now()}}else{var y=Date,f=y.now();c.unstable_now=function(){return y.now()-f}}var a=[],u=[],s=1,n=null,i=3,r=!1,l=!1,h=!1,o=!1,d=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function S(O){for(var z=m(u);z!==null;){if(z.callback===null)v(u);else if(z.startTime<=O)v(u),z.sortIndex=z.expirationTime,_(a,z);else break;z=m(u)}}function w(O){if(h=!1,S(O),!l)if(m(a)!==null)l=!0,b||(b=!0,$());else{var z=m(u);z!==null&&L(w,z.startTime-O)}}var b=!1,k=-1,A=5,T=-1;function j(){return o?!0:!(c.unstable_now()-T<A)}function F(){if(o=!1,b){var O=c.unstable_now();T=O;var z=!0;try{e:{l=!1,h&&(h=!1,g(k),k=-1),r=!0;var B=i;try{t:{for(S(O),n=m(a);n!==null&&!(n.expirationTime>O&&j());){var P=n.callback;if(typeof P=="function"){n.callback=null,i=n.priorityLevel;var U=P(n.expirationTime<=O);if(O=c.unstable_now(),typeof U=="function"){n.callback=U,S(O),z=!0;break t}n===m(a)&&v(a),S(O)}else v(a);n=m(a)}if(n!==null)z=!0;else{var W=m(u);W!==null&&L(w,W.startTime-O),z=!1}}break e}finally{n=null,i=B,r=!1}z=void 0}}finally{z?$():b=!1}}}var $;if(typeof x=="function")$=function(){x(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=F,$=function(){M.postMessage(null)}}else $=function(){d(F,0)};function L(O,z){k=d(function(){O(c.unstable_now())},z)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(O){O.callback=null},c.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},c.unstable_getCurrentPriorityLevel=function(){return i},c.unstable_next=function(O){switch(i){case 1:case 2:case 3:var z=3;break;default:z=i}var B=i;i=z;try{return O()}finally{i=B}},c.unstable_requestPaint=function(){o=!0},c.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=i;i=O;try{return z()}finally{i=B}},c.unstable_scheduleCallback=function(O,z,B){var P=c.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,O={id:s++,callback:z,priorityLevel:O,startTime:B,expirationTime:U,sortIndex:-1},B>P?(O.sortIndex=B,_(u,O),m(a)===null&&O===m(u)&&(h?(g(k),k=-1):h=!0,L(w,B-P))):(O.sortIndex=U,_(a,O),l||r||(l=!0,b||(b=!0,$()))),O},c.unstable_shouldYield=j,c.unstable_wrapCallback=function(O){var z=i;return function(){var B=i;i=z;try{return O.apply(this,arguments)}finally{i=B}}}})(Dh)),Dh}var Lm;function O_(){return Lm||(Lm=1,$h.exports=D_()),$h.exports}var Oh={exports:{}},cn={};var Rm;function j_(){if(Rm)return cn;Rm=1;var c=Br();function _(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)u+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var v={d:{f:m,r:function(){throw Error(_(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},R=Symbol.for("react.portal");function E(a,u,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:n==null?null:""+n,children:a,containerInfo:u,implementation:s}}var y=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(a,u){if(a==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,cn.createPortal=function(a,u){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(_(299));return E(a,u,null,s)},cn.flushSync=function(a){var u=y.T,s=v.p;try{if(y.T=null,v.p=2,a)return a()}finally{y.T=u,v.p=s,v.d.f()}},cn.preconnect=function(a,u){typeof a=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,v.d.C(a,u))},cn.prefetchDNS=function(a){typeof a=="string"&&v.d.D(a)},cn.preinit=function(a,u){if(typeof a=="string"&&u&&typeof u.as=="string"){var s=u.as,n=f(s,u.crossOrigin),i=typeof u.integrity=="string"?u.integrity:void 0,r=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;s==="style"?v.d.S(a,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:r}):s==="script"&&v.d.X(a,{crossOrigin:n,integrity:i,fetchPriority:r,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},cn.preinitModule=function(a,u){if(typeof a=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var s=f(u.as,u.crossOrigin);v.d.M(a,{crossOrigin:s,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&v.d.M(a)},cn.preload=function(a,u){if(typeof a=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var s=u.as,n=f(s,u.crossOrigin);v.d.L(a,s,{crossOrigin:n,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},cn.preloadModule=function(a,u){if(typeof a=="string")if(u){var s=f(u.as,u.crossOrigin);v.d.m(a,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:s,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else v.d.m(a)},cn.requestFormReset=function(a){v.d.r(a)},cn.unstable_batchedUpdates=function(a,u){return a(u)},cn.useFormState=function(a,u,s){return y.H.useFormState(a,u,s)},cn.useFormStatus=function(){return y.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var Nm;function o0(){if(Nm)return Oh.exports;Nm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(_){console.error(_)}}return c(),Oh.exports=j_(),Oh.exports}var $m;function I_(){if($m)return wa;$m=1;var c=O_(),_=Br(),m=o0();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)t+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var t=e,p=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(p=t.return),e=t.return;while(e)}return t.tag===3?p:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a(e){if(E(e)!==e)throw Error(v(188))}function u(e){var t=e.alternate;if(!t){if(t=E(e),t===null)throw Error(v(188));return t!==e?null:e}for(var p=e,C=t;;){var I=p.return;if(I===null)break;var H=I.alternate;if(H===null){if(C=I.return,C!==null){p=C;continue}break}if(I.child===H.child){for(H=I.child;H;){if(H===p)return a(I),e;if(H===C)return a(I),t;H=H.sibling}throw Error(v(188))}if(p.return!==C.return)p=I,C=H;else{for(var G=!1,Z=I.child;Z;){if(Z===p){G=!0,p=I,C=H;break}if(Z===C){G=!0,C=I,p=H;break}Z=Z.sibling}if(!G){for(Z=H.child;Z;){if(Z===p){G=!0,p=H,C=I;break}if(Z===C){G=!0,C=H,p=I;break}Z=Z.sibling}if(!G)throw Error(v(189))}}if(p.alternate!==C)throw Error(v(190))}if(p.tag!==3)throw Error(v(188));return p.stateNode.current===p?e:t}function s(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=s(e),t!==null)return t;e=e.sibling}return null}var n=Object.assign,i=Symbol.for("react.element"),r=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case h:return"Fragment";case d:return"Profiler";case o:return"StrictMode";case w:return"Suspense";case b:return"SuspenseList";case T:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case l:return"Portal";case x:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var L=Array.isArray,O=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},P=[],U=-1;function W(e){return{current:e}}function K(e){0>U||(e.current=P[U],P[U]=null,U--)}function Y(e,t){U++,P[U]=e.current,e.current=t}var X=W(null),q=W(null),J=W(null),V=W(null);function Q(e,t){switch(Y(J,t),Y(q,e),Y(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yg(t),e=Xg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(X),Y(X,e)}function te(){K(X),K(q),K(J)}function ie(e){e.memoizedState!==null&&Y(V,e);var t=X.current,p=Xg(t,e.type);t!==p&&(Y(q,e),Y(X,p))}function me(e){q.current===e&&(K(X),K(q)),V.current===e&&(K(V),va._currentValue=B)}var pe,Se;function ke(e){if(pe===void 0)try{throw Error()}catch(p){var t=p.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Se}var Ae=!1;function Ue(e,t){if(!e||Ae)return"";Ae=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(t){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(de){var he=de}Reflect.construct(e,[],ve)}else{try{ve.call()}catch(de){he=de}e.call(ve.prototype)}}else{try{throw Error()}catch(de){he=de}(ve=e())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(de){if(de&&he&&typeof de.stack=="string")return[de.stack,he.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=C.DetermineComponentFrameRoot(),G=H[0],Z=H[1];if(G&&Z){var re=G.split(`
`),ue=Z.split(`
`);for(I=C=0;C<re.length&&!re[C].includes("DetermineComponentFrameRoot");)C++;for(;I<ue.length&&!ue[I].includes("DetermineComponentFrameRoot");)I++;if(C===re.length||I===ue.length)for(C=re.length-1,I=ue.length-1;1<=C&&0<=I&&re[C]!==ue[I];)I--;for(;1<=C&&0<=I;C--,I--)if(re[C]!==ue[I]){if(C!==1||I!==1)do if(C--,I--,0>I||re[C]!==ue[I]){var fe=`
`+re[C].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=C&&0<=I);break}}}finally{Ae=!1,Error.prepareStackTrace=p}return(p=e?e.displayName||e.name:"")?ke(p):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return ke(e.type);case 16:return ke("Lazy");case 13:return e.child!==t&&t!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return ke("Activity");default:return""}}function Ce(e){try{var t="",p=null;do t+=we(e,p),p=e,e=e.return;while(e);return t}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var at=Object.prototype.hasOwnProperty,$t=c.unstable_scheduleCallback,qt=c.unstable_cancelCallback,Zt=c.unstable_shouldYield,mt=c.unstable_requestPaint,Ze=c.unstable_now,_t=c.unstable_getCurrentPriorityLevel,Dt=c.unstable_ImmediatePriority,xt=c.unstable_UserBlockingPriority,pt=c.unstable_NormalPriority,Yt=c.unstable_LowPriority,it=c.unstable_IdlePriority,rt=c.log,He=c.unstable_setDisableYieldValue,Tt=null,gt=null;function wt(e){if(typeof rt=="function"&&He(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Tt,e)}catch{}}var le=Math.clz32?Math.clz32:Pe,be=Math.log,Me=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(be(e)/Me|0)|0}var Pt=256,on=262144,On=4194304;function Wt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,t,p){var C=e.pendingLanes;if(C===0)return 0;var I=0,H=e.suspendedLanes,G=e.pingedLanes;e=e.warmLanes;var Z=C&134217727;return Z!==0?(C=Z&~H,C!==0?I=Wt(C):(G&=Z,G!==0?I=Wt(G):p||(p=Z&~e,p!==0&&(I=Wt(p))))):(Z=C&~H,Z!==0?I=Wt(Z):G!==0?I=Wt(G):p||(p=C&~e,p!==0&&(I=Wt(p)))),I===0?0:t!==0&&t!==I&&(t&H)===0&&(H=I&-I,p=t&-t,H>=p||H===32&&(p&4194048)!==0)?t:I}function ei(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var e=On;return On<<=1,(On&62914560)===0&&(On=4194304),e}function ti(e){for(var t=[],p=0;31>p;p++)t.push(e);return t}function Li(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,t,p,C,I,H){var G=e.pendingLanes;e.pendingLanes=p,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=p,e.entangledLanes&=p,e.errorRecoveryDisabledLanes&=p,e.shellSuspendCounter=0;var Z=e.entanglements,re=e.expirationTimes,ue=e.hiddenUpdates;for(p=G&~p;0<p;){var fe=31-le(p),ve=1<<fe;Z[fe]=0,re[fe]=-1;var he=ue[fe];if(he!==null)for(ue[fe]=null,fe=0;fe<he.length;fe++){var de=he[fe];de!==null&&(de.lane&=-536870913)}p&=~ve}C!==0&&ms(e,C,0),H!==0&&I===0&&e.tag!==0&&(e.suspendedLanes|=H&~(G&~t))}function ms(e,t,p){e.pendingLanes|=t,e.suspendedLanes&=~t;var C=31-le(t);e.entangledLanes|=t,e.entanglements[C]=e.entanglements[C]|1073741824|p&261930}function vs(e,t){var p=e.entangledLanes|=t;for(e=e.entanglements;p;){var C=31-le(p),I=1<<C;I&t|e[C]&t&&(e[C]|=t),p&=~I}}function ys(e,t){var p=t&-t;return p=(p&42)!==0?1:ir(p),(p&(e.suspendedLanes|t))!==0?0:p}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function In(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:ym(e.type))}function bs(e,t){var p=z.p;try{return z.p=e,t()}finally{z.p=p}}var Bn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Bn,Ut="__reactProps$"+Bn,bi="__reactContainer$"+Bn,hn="__reactEvents$"+Bn,Mo="__reactListeners$"+Bn,Lo="__reactHandles$"+Bn,_s="__reactResources$"+Bn,Ni="__reactMarker$"+Bn;function zr(e){delete e[Mt],delete e[Ut],delete e[hn],delete e[Mo],delete e[Lo]}function an(e){var t=e[Mt];if(t)return t;for(var p=e.parentNode;p;){if(t=p[bi]||p[Mt]){if(p=t.alternate,t.child!==null||p!==null&&p.child!==null)for(e=nm(e);e!==null;){if(p=e[Mt])return p;e=nm(e)}return t}e=p,p=e.parentNode}return null}function ni(e){if(e=e[Mt]||e[bi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $i(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function _i(e){var t=e[_s];return t||(t=e[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[Ni]=!0}var xs=new Set,Di={};function ii(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(Di[e]=t,e=0;e<t.length;e++)xs.add(t[e])}var Hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},Ss={};function Fr(e){return at.call(Ss,e)?!0:at.call(ws,e)?!1:Hn.test(e)?Ss[e]=!0:(ws[e]=!0,!1)}function Cs(e,t,p){if(Fr(t))if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var C=t.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+p)}}function Es(e,t,p){if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+p)}}function si(e,t,p,C){if(C===null)e.removeAttribute(p);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(p);return}e.setAttributeNS(t,p,""+C)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pr(e,t,p){var C=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var I=C.get,H=C.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return I.call(this)},set:function(G){p=""+G,H.call(this,G)}}),Object.defineProperty(e,t,{enumerable:C.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){if(!e._valueTracker){var t=Fa(e)?"checked":"value";e._valueTracker=Pr(e,t,""+e[t])}}function Ro(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var p=t.getValue(),C="";return e&&(C=Fa(e)?e.checked?"true":"false":e.value),e=C,e!==p?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rc=/[\n"\\]/g;function fn(e){return e.replace(Rc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function No(e,t,p,C,I,H,G,Z){e.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.type=G:e.removeAttribute("type"),t!=null?G==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):G!=="submit"&&G!=="reset"||e.removeAttribute("value"),t!=null?Do(e,G,Qt(t)):p!=null?Do(e,G,Qt(p)):C!=null&&e.removeAttribute("value"),I==null&&H!=null&&(e.defaultChecked=!!H),I!=null&&(e.checked=I&&typeof I!="function"&&typeof I!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?e.name=""+Qt(Z):e.removeAttribute("name")}function $o(e,t,p,C,I,H,G,Z){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(e.type=H),t!=null||p!=null){if(!(H!=="submit"&&H!=="reset"||t!=null)){As(e);return}p=p!=null?""+Qt(p):"",t=t!=null?""+Qt(t):p,Z||t===e.value||(e.value=t),e.defaultValue=t}C=C??I,C=typeof C!="function"&&typeof C!="symbol"&&!!C,e.checked=Z?e.checked:!!C,e.defaultChecked=!!C,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(e.name=G),As(e)}function Do(e,t,p){t==="number"&&ks(e.ownerDocument)===e||e.defaultValue===""+p||(e.defaultValue=""+p)}function rr(e,t,p,C){if(e=e.options,t){t={};for(var I=0;I<p.length;I++)t["$"+p[I]]=!0;for(p=0;p<e.length;p++)I=t.hasOwnProperty("$"+e[p].value),e[p].selected!==I&&(e[p].selected=I),I&&C&&(e[p].defaultSelected=!0)}else{for(p=""+Qt(p),t=null,I=0;I<e.length;I++){if(e[I].value===p){e[I].selected=!0,C&&(e[I].defaultSelected=!0);return}t!==null||e[I].disabled||(t=e[I])}t!==null&&(t.selected=!0)}}function Oo(e,t,p){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),p==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=p!=null?""+Qt(p):""}function Wr(e,t,p,C){if(t==null){if(C!=null){if(p!=null)throw Error(v(92));if(L(C)){if(1<C.length)throw Error(v(93));C=C[0]}p=C}p==null&&(p=""),t=p}p=Qt(t),e.defaultValue=p,C=e.textContent,C===p&&C!==""&&C!==null&&(e.value=C),As(e)}function Sn(e,t){if(t){var p=e.firstChild;if(p&&p===e.lastChild&&p.nodeType===3){p.nodeValue=t;return}}e.textContent=t}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pa(e,t,p){var C=t.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?C?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":C?e.setProperty(t,p):typeof p!="number"||p===0||Nc.has(t)?t==="float"?e.cssFloat=p:e[t]=(""+p).trim():e[t]=p+"px"}function oi(e,t,p){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,p!=null){for(var C in p)!p.hasOwnProperty(C)||t!=null&&t.hasOwnProperty(C)||(C.indexOf("--")===0?e.setProperty(C,""):C==="float"?e.cssFloat="":e[C]="");for(var I in t)C=t[I],t.hasOwnProperty(I)&&p[I]!==C&&Pa(e,I,C)}else for(var H in t)t.hasOwnProperty(H)&&Pa(e,H,t[H])}function jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return Dc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ai(){}var li=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sr=null,ci=null;function Wa(e){var t=ni(e);if(t&&(e=t.stateNode)){var p=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(No(e,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),t=p.name,p.type==="radio"&&t!=null){for(p=e;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+fn(""+t)+'"][type="radio"]'),t=0;t<p.length;t++){var C=p[t];if(C!==e&&C.form===e.form){var I=C[Ut]||null;if(!I)throw Error(v(90));No(C,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(t=0;t<p.length;t++)C=p[t],C.form===e.form&&Ro(C)}break e;case"textarea":Oo(e,p.value,p.defaultValue);break e;case"select":t=p.value,t!=null&&rr(e,!!p.multiple,t,!1)}}}var Ur=!1;function Ua(e,t,p){if(Ur)return e(t,p);Ur=!0;try{var C=e(t);return C}finally{if(Ur=!1,(sr!==null||ci!==null)&&(Tl(),sr&&(t=sr,e=ci,ci=sr=null,Wa(t),e)))for(t=0;t<e.length;t++)Wa(e[t])}}function or(e,t){var p=e.stateNode;if(p===null)return null;var C=p[Ut]||null;if(C===null)return null;p=C[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(e=e.type,C=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!C;break e;default:e=!1}if(e)return null;if(p&&typeof p!="function")throw Error(v(231,t,typeof p));return p}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(zn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Ls=!1}var hi=null,Io=null,Rs=null;function Va(){if(Rs)return Rs;var e,t=Io,p=t.length,C,I="value"in hi?hi.value:hi.textContent,H=I.length;for(e=0;e<p&&t[e]===I[e];e++);var G=p-e;for(C=1;C<=G&&t[p-C]===I[H-C];C++);return Rs=I.slice(e,1<C?1-C:void 0)}function ee(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oe(){return!0}function ye(){return!1}function xe(e){function t(p,C,I,H,G){this._reactName=p,this._targetInst=I,this.type=C,this.nativeEvent=H,this.target=G,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(p=e[Z],this[Z]=p?p(H):H[Z]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?oe:ye,this.isPropagationStopped=ye,this}return n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){},isPersistent:oe}),t}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},je=xe(Qe),lt=n({},Qe,{view:0,detail:0}),Ot=xe(lt),Lt,dt,Vt,ln=n({},lt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vt&&(Vt&&e.type==="mousemove"?(Lt=e.screenX-Vt.screenX,dt=e.screenY-Vt.screenY):dt=Lt=0,Vt=e),Lt)},movementY:function(e){return"movementY"in e?e.movementY:dt}}),Gt=xe(ln),pn=n({},ln,{dataTransfer:0}),gn=xe(pn),xi=n({},lt,{relatedTarget:0}),Cn=xe(xi),Oi=n({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=xe(Oi),Ns=n({},Qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$s=xe(Ns),Iy=n({},Qe,{data:0}),Zd=xe(Iy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zy[e])?!!t[e]:!1}function Oc(){return Fy}var Py=n({},lt,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ee(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?ee(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ee(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wy=xe(Py),Uy=n({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=xe(Uy),Vy=n({},lt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Gy=xe(Vy),Ky=n({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=xe(Ky),Xy=n({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=xe(Xy),Zy=n({},Qe,{newState:0,oldState:0}),Qy=xe(Zy),Jy=[9,13,27,32],jc=zn&&"CompositionEvent"in window,Bo=null;zn&&"documentMode"in document&&(Bo=document.documentMode);var eb=zn&&"TextEvent"in window&&!Bo,Jd=zn&&(!jc||Bo&&8<Bo&&11>=Bo),ef=" ",tf=!1;function nf(e,t){switch(e){case"keyup":return Jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function tb(e,t){switch(e){case"compositionend":return rf(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function nb(e,t){if(Ds)return e==="compositionend"||!jc&&nf(e,t)?(e=Va(),Rs=Io=hi=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ib[e.type]:t==="textarea"}function of(e,t,p,C){sr?ci?ci.push(C):ci=[C]:sr=C,t=Ol(t,"onChange"),0<t.length&&(p=new je("onChange","change",null,p,C),e.push({event:p,listeners:t}))}var Ho=null,zo=null;function rb(e){Pg(e,0)}function Ka(e){var t=$i(e);if(Ro(t))return e}function af(e,t){if(e==="change")return t}var lf=!1;if(zn){var Ic;if(zn){var Bc="oninput"in document;if(!Bc){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Bc=typeof cf.oninput=="function"}Ic=Bc}else Ic=!1;lf=Ic&&(!document.documentMode||9<document.documentMode)}function uf(){Ho&&(Ho.detachEvent("onpropertychange",hf),zo=Ho=null)}function hf(e){if(e.propertyName==="value"&&Ka(zo)){var t=[];of(t,zo,e,Ms(e)),Ua(rb,t)}}function sb(e,t,p){e==="focusin"?(uf(),Ho=t,zo=p,Ho.attachEvent("onpropertychange",hf)):e==="focusout"&&uf()}function ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(zo)}function ab(e,t){if(e==="click")return Ka(t)}function lb(e,t){if(e==="input"||e==="change")return Ka(t)}function cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:cb;function Fo(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var p=Object.keys(e),C=Object.keys(t);if(p.length!==C.length)return!1;for(C=0;C<p.length;C++){var I=p[C];if(!at.call(t,I)||!En(e[I],t[I]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var p=df(e);e=0;for(var C;p;){if(p.nodeType===3){if(C=e+p.textContent.length,e<=t&&C>=t)return{node:p,offset:t-e};e=C}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=df(p)}}function pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ks(e.document);t instanceof e.HTMLIFrameElement;){try{var p=typeof t.contentWindow.location.href=="string"}catch{p=!1}if(p)e=t.contentWindow;else break;t=ks(e.document)}return t}function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ub=zn&&"documentMode"in document&&11>=document.documentMode,Os=null,zc=null,Po=null,Fc=!1;function mf(e,t,p){var C=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Fc||Os==null||Os!==ks(C)||(C=Os,"selectionStart"in C&&Hc(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Po&&Fo(Po,C)||(Po=C,C=Ol(zc,"onSelect"),0<C.length&&(t=new je("onSelect","select",null,t,p),e.push({event:t,listeners:C}),t.target=Os)))}function Vr(e,t){var p={};return p[e.toLowerCase()]=t.toLowerCase(),p["Webkit"+e]="webkit"+t,p["Moz"+e]="moz"+t,p}var js={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Pc={},vf={};zn&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Gr(e){if(Pc[e])return Pc[e];if(!js[e])return e;var t=js[e],p;for(p in t)if(t.hasOwnProperty(p)&&p in vf)return Pc[e]=t[p];return e}var yf=Gr("animationend"),bf=Gr("animationiteration"),_f=Gr("animationstart"),hb=Gr("transitionrun"),db=Gr("transitionstart"),fb=Gr("transitioncancel"),xf=Gr("transitionend"),wf=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function di(e,t){wf.set(e,t),ii(t,[e])}var Ya=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Is=0,Uc=0;function Xa(){for(var e=Is,t=Uc=Is=0;t<e;){var p=Fn[t];Fn[t++]=null;var C=Fn[t];Fn[t++]=null;var I=Fn[t];Fn[t++]=null;var H=Fn[t];if(Fn[t++]=null,C!==null&&I!==null){var G=C.pending;G===null?I.next=I:(I.next=G.next,G.next=I),C.pending=I}H!==0&&Sf(p,I,H)}}function qa(e,t,p,C){Fn[Is++]=e,Fn[Is++]=t,Fn[Is++]=p,Fn[Is++]=C,Uc|=C,e.lanes|=C,e=e.alternate,e!==null&&(e.lanes|=C)}function Vc(e,t,p,C){return qa(e,t,p,C),Za(e)}function Kr(e,t){return qa(e,null,null,t),Za(e)}function Sf(e,t,p){e.lanes|=p;var C=e.alternate;C!==null&&(C.lanes|=p);for(var I=!1,H=e.return;H!==null;)H.childLanes|=p,C=H.alternate,C!==null&&(C.childLanes|=p),H.tag===22&&(e=H.stateNode,e===null||e._visibility&1||(I=!0)),e=H,H=H.return;return e.tag===3?(H=e.stateNode,I&&t!==null&&(I=31-le(p),e=H.hiddenUpdates,C=e[I],C===null?e[I]=[t]:C.push(t),t.lane=p|536870912),H):null}function Za(e){if(50<ua)throw ua=0,eh=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bs={};function pb(e,t,p,C){this.tag=e,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,p,C){return new pb(e,t,p,C)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,t){var p=e.alternate;return p===null?(p=An(e.tag,t,e.key,e.mode),p.elementType=e.elementType,p.type=e.type,p.stateNode=e.stateNode,p.alternate=e,e.alternate=p):(p.pendingProps=t,p.type=e.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=e.flags&65011712,p.childLanes=e.childLanes,p.lanes=e.lanes,p.child=e.child,p.memoizedProps=e.memoizedProps,p.memoizedState=e.memoizedState,p.updateQueue=e.updateQueue,t=e.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},p.sibling=e.sibling,p.index=e.index,p.ref=e.ref,p.refCleanup=e.refCleanup,p}function Cf(e,t){e.flags&=65011714;var p=e.alternate;return p===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=p.childLanes,e.lanes=p.lanes,e.child=p.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=p.memoizedProps,e.memoizedState=p.memoizedState,e.updateQueue=p.updateQueue,e.type=p.type,t=p.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qa(e,t,p,C,I,H){var G=0;if(C=e,typeof e=="function")Gc(e)&&(G=1);else if(typeof e=="string")G=b_(e,p,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case T:return e=An(31,p,t,I),e.elementType=T,e.lanes=H,e;case h:return Yr(p.children,I,H,t);case o:G=8,I|=24;break;case d:return e=An(12,p,t,I|2),e.elementType=d,e.lanes=H,e;case w:return e=An(13,p,t,I),e.elementType=w,e.lanes=H,e;case b:return e=An(19,p,t,I),e.elementType=b,e.lanes=H,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:G=10;break e;case g:G=9;break e;case S:G=11;break e;case k:G=14;break e;case A:G=16,C=null;break e}G=29,p=Error(v(130,e===null?"null":typeof e,"")),C=null}return t=An(G,p,t,I),t.elementType=e,t.type=C,t.lanes=H,t}function Yr(e,t,p,C){return e=An(7,e,C,t),e.lanes=p,e}function Kc(e,t,p){return e=An(6,e,null,t),e.lanes=p,e}function Ef(e){var t=An(18,null,null,0);return t.stateNode=e,t}function Yc(e,t,p){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=p,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Af=new WeakMap;function Pn(e,t){if(typeof e=="object"&&e!==null){var p=Af.get(e);return p!==void 0?p:(t={value:e,source:t,stack:Ce(t)},Af.set(e,t),t)}return{value:e,source:t,stack:Ce(t)}}var Hs=[],zs=0,Ja=null,Wo=0,Wn=[],Un=0,ar=null,wi=1,Si="";function Ii(e,t){Hs[zs++]=Wo,Hs[zs++]=Ja,Ja=e,Wo=t}function kf(e,t,p){Wn[Un++]=wi,Wn[Un++]=Si,Wn[Un++]=ar,ar=e;var C=wi;e=Si;var I=32-le(C)-1;C&=~(1<<I),p+=1;var H=32-le(t)+I;if(30<H){var G=I-I%5;H=(C&(1<<G)-1).toString(32),C>>=G,I-=G,wi=1<<32-le(t)+I|p<<I|C,Si=H+e}else wi=1<<H|p<<I|C,Si=e}function Xc(e){e.return!==null&&(Ii(e,1),kf(e,1,0))}function qc(e){for(;e===Ja;)Ja=Hs[--zs],Hs[zs]=null,Wo=Hs[--zs],Hs[zs]=null;for(;e===ar;)ar=Wn[--Un],Wn[Un]=null,Si=Wn[--Un],Wn[Un]=null,wi=Wn[--Un],Wn[Un]=null}function Tf(e,t){Wn[Un++]=wi,Wn[Un++]=Si,Wn[Un++]=ar,wi=t.id,Si=t.overflow,ar=e}var Jt=null,vt=null,qe=!1,lr=null,Vn=!1,Zc=Error(v(519));function cr(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Pn(t,e)),Zc}function Mf(e){var t=e.stateNode,p=e.type,C=e.memoizedProps;switch(t[Mt]=e,t[Ut]=C,p){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(p=0;p<da.length;p++)Ge(da[p],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),$o(t,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Wr(t,C.value,C.defaultValue,C.children)}p=C.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||t.textContent===""+p||C.suppressHydrationWarning===!0||Gg(t.textContent,p)?(C.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),C.onScroll!=null&&Ge("scroll",t),C.onScrollEnd!=null&&Ge("scrollend",t),C.onClick!=null&&(t.onclick=ai),t=!0):t=!1,t||cr(e,!0)}function Lf(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Jt=Jt.return}}function Fs(e){if(e!==Jt)return!1;if(!qe)return Lf(e),qe=!0,!1;var t=e.tag,p;if((p=t!==3&&t!==27)&&((p=t===5)&&(p=e.type,p=!(p!=="form"&&p!=="button")||gh(e.type,e.memoizedProps)),p=!p),p&&vt&&cr(e),Lf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=tm(e)}else t===27?(t=vt,Sr(e.type)?(e=_h,_h=null,vt=e):vt=t):vt=Jt?Kn(e.stateNode.nextSibling):null;return!0}function Xr(){vt=Jt=null,qe=!1}function Qc(){var e=lr;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),lr=null),e}function Uo(e){lr===null?lr=[e]:lr.push(e)}var Jc=W(null),qr=null,Bi=null;function ur(e,t,p){Y(Jc,t._currentValue),t._currentValue=p}function Hi(e){e._currentValue=Jc.current,K(Jc)}function eu(e,t,p){for(;e!==null;){var C=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,C!==null&&(C.childLanes|=t)):C!==null&&(C.childLanes&t)!==t&&(C.childLanes|=t),e===p)break;e=e.return}}function tu(e,t,p,C){var I=e.child;for(I!==null&&(I.return=e);I!==null;){var H=I.dependencies;if(H!==null){var G=I.child;H=H.firstContext;e:for(;H!==null;){var Z=H;H=I;for(var re=0;re<t.length;re++)if(Z.context===t[re]){H.lanes|=p,Z=H.alternate,Z!==null&&(Z.lanes|=p),eu(H.return,p,e),C||(G=null);break e}H=Z.next}}else if(I.tag===18){if(G=I.return,G===null)throw Error(v(341));G.lanes|=p,H=G.alternate,H!==null&&(H.lanes|=p),eu(G,p,e),G=null}else G=I.child;if(G!==null)G.return=I;else for(G=I;G!==null;){if(G===e){G=null;break}if(I=G.sibling,I!==null){I.return=G.return,G=I;break}G=G.return}I=G}}function Ps(e,t,p,C){e=null;for(var I=t,H=!1;I!==null;){if(!H){if((I.flags&524288)!==0)H=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var G=I.alternate;if(G===null)throw Error(v(387));if(G=G.memoizedProps,G!==null){var Z=I.type;En(I.pendingProps.value,G.value)||(e!==null?e.push(Z):e=[Z])}}else if(I===V.current){if(G=I.alternate,G===null)throw Error(v(387));G.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(e!==null?e.push(va):e=[va])}I=I.return}e!==null&&tu(t,e,p,C),t.flags|=262144}function el(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zr(e){qr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Rf(qr,e)}function tl(e,t){return qr===null&&Zr(e),Rf(e,t)}function Rf(e,t){var p=t._currentValue;if(t={context:t,memoizedValue:p,next:null},Bi===null){if(e===null)throw Error(v(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return p}var gb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(p,C){e.push(C)}};this.abort=function(){t.aborted=!0,e.forEach(function(p){return p()})}},mb=c.unstable_scheduleCallback,vb=c.unstable_NormalPriority,jt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new gb,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&mb(vb,function(){e.controller.abort()})}var Go=null,iu=0,Ws=0,Us=null;function yb(e,t){if(Go===null){var p=Go=[];iu=0,Ws=oh(),Us={status:"pending",value:void 0,then:function(C){p.push(C)}}}return iu++,t.then(Nf,Nf),t}function Nf(){if(--iu===0&&Go!==null){Us!==null&&(Us.status="fulfilled");var e=Go;Go=null,Ws=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bb(e,t){var p=[],C={status:"pending",value:null,reason:null,then:function(I){p.push(I)}};return e.then(function(){C.status="fulfilled",C.value=t;for(var I=0;I<p.length;I++)(0,p[I])(t)},function(I){for(C.status="rejected",C.reason=I,I=0;I<p.length;I++)(0,p[I])(void 0)}),C}var $f=O.S;O.S=function(e,t){mg=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yb(e,t),$f!==null&&$f(e,t)};var Qr=W(null);function ru(){var e=Qr.current;return e!==null?e:ft.pooledCache}function nl(e,t){t===null?Y(Qr,Qr.current):Y(Qr,t.pool)}function Df(){var e=ru();return e===null?null:{parent:jt._currentValue,pool:e}}var Vs=Error(v(460)),su=Error(v(474)),il=Error(v(542)),rl={then:function(){}};function Of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jf(e,t,p){switch(p=e[p],p===void 0?e.push(t):p!==t&&(t.then(ai,ai),t=p),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e;default:if(typeof t.status=="string")t.then(ai,ai);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(C){if(t.status==="pending"){var I=t;I.status="fulfilled",I.value=C}},function(C){if(t.status==="pending"){var I=t;I.status="rejected",I.reason=C}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e}throw es=t,Vs}}function Jr(e){try{var t=e._init;return t(e._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(es=p,Vs):p}}var es=null;function If(){if(es===null)throw Error(v(459));var e=es;return es=null,e}function Bf(e){if(e===Vs||e===il)throw Error(v(483))}var Gs=null,Ko=0;function sl(e){var t=Ko;return Ko+=1,Gs===null&&(Gs=[]),jf(Gs,e,t)}function Yo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ol(e,t){throw t.$$typeof===i?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hf(e){function t(ae,se){if(e){var ce=ae.deletions;ce===null?(ae.deletions=[se],ae.flags|=16):ce.push(se)}}function p(ae,se){if(!e)return null;for(;se!==null;)t(ae,se),se=se.sibling;return null}function C(ae){for(var se=new Map;ae!==null;)ae.key!==null?se.set(ae.key,ae):se.set(ae.index,ae),ae=ae.sibling;return se}function I(ae,se){return ae=ji(ae,se),ae.index=0,ae.sibling=null,ae}function H(ae,se,ce){return ae.index=ce,e?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<se?(ae.flags|=67108866,se):ce):(ae.flags|=67108866,se)):(ae.flags|=1048576,se)}function G(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function Z(ae,se,ce,ge){return se===null||se.tag!==6?(se=Kc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function re(ae,se,ce,ge){var Re=ce.type;return Re===h?fe(ae,se,ce.props.children,ge,ce.key):se!==null&&(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Jr(Re)===se.type)?(se=I(se,ce.props),Yo(se,ce),se.return=ae,se):(se=Qa(ce.type,ce.key,ce.props,null,ae.mode,ge),Yo(se,ce),se.return=ae,se)}function ue(ae,se,ce,ge){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=Yc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce.children||[]),se.return=ae,se)}function fe(ae,se,ce,ge,Re){return se===null||se.tag!==7?(se=Yr(ce,ae.mode,ge,Re),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function ve(ae,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Kc(""+se,ae.mode,ce),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case r:return ce=Qa(se.type,se.key,se.props,null,ae.mode,ce),Yo(ce,se),ce.return=ae,ce;case l:return se=Yc(se,ae.mode,ce),se.return=ae,se;case A:return se=Jr(se),ve(ae,se,ce)}if(L(se)||$(se))return se=Yr(se,ae.mode,ce,null),se.return=ae,se;if(typeof se.then=="function")return ve(ae,sl(se),ce);if(se.$$typeof===x)return ve(ae,tl(ae,se),ce);ol(ae,se)}return null}function he(ae,se,ce,ge){var Re=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Re!==null?null:Z(ae,se,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case r:return ce.key===Re?re(ae,se,ce,ge):null;case l:return ce.key===Re?ue(ae,se,ce,ge):null;case A:return ce=Jr(ce),he(ae,se,ce,ge)}if(L(ce)||$(ce))return Re!==null?null:fe(ae,se,ce,ge,null);if(typeof ce.then=="function")return he(ae,se,sl(ce),ge);if(ce.$$typeof===x)return he(ae,se,tl(ae,ce),ge);ol(ae,ce)}return null}function de(ae,se,ce,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ae=ae.get(ce)||null,Z(se,ae,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case r:return ae=ae.get(ge.key===null?ce:ge.key)||null,re(se,ae,ge,Re);case l:return ae=ae.get(ge.key===null?ce:ge.key)||null,ue(se,ae,ge,Re);case A:return ge=Jr(ge),de(ae,se,ce,ge,Re)}if(L(ge)||$(ge))return ae=ae.get(ce)||null,fe(se,ae,ge,Re,null);if(typeof ge.then=="function")return de(ae,se,ce,sl(ge),Re);if(ge.$$typeof===x)return de(ae,se,ce,tl(se,ge),Re);ol(se,ge)}return null}function Ee(ae,se,ce,ge){for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null;Te!==null&&ze<ce.length;ze++){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var et=he(ae,Te,ce[ze],ge);if(et===null){Te===null&&(Te=Ye);break}e&&Te&&et.alternate===null&&t(ae,Te),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et,Te=Ye}if(ze===ce.length)return p(ae,Te),qe&&Ii(ae,ze),Re;if(Te===null){for(;ze<ce.length;ze++)Te=ve(ae,ce[ze],ge),Te!==null&&(se=H(Te,se,ze),Je===null?Re=Te:Je.sibling=Te,Je=Te);return qe&&Ii(ae,ze),Re}for(Te=C(Te);ze<ce.length;ze++)Ye=de(Te,ae,ze,ce[ze],ge),Ye!==null&&(e&&Ye.alternate!==null&&Te.delete(Ye.key===null?ze:Ye.key),se=H(Ye,se,ze),Je===null?Re=Ye:Je.sibling=Ye,Je=Ye);return e&&Te.forEach(function(Tr){return t(ae,Tr)}),qe&&Ii(ae,ze),Re}function $e(ae,se,ce,ge){if(ce==null)throw Error(v(151));for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null,et=ce.next();Te!==null&&!et.done;ze++,et=ce.next()){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var Tr=he(ae,Te,et.value,ge);if(Tr===null){Te===null&&(Te=Ye);break}e&&Te&&Tr.alternate===null&&t(ae,Te),se=H(Tr,se,ze),Je===null?Re=Tr:Je.sibling=Tr,Je=Tr,Te=Ye}if(et.done)return p(ae,Te),qe&&Ii(ae,ze),Re;if(Te===null){for(;!et.done;ze++,et=ce.next())et=ve(ae,et.value,ge),et!==null&&(se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return qe&&Ii(ae,ze),Re}for(Te=C(Te);!et.done;ze++,et=ce.next())et=de(Te,ae,ze,et.value,ge),et!==null&&(e&&et.alternate!==null&&Te.delete(et.key===null?ze:et.key),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return e&&Te.forEach(function(L_){return t(ae,L_)}),qe&&Ii(ae,ze),Re}function ht(ae,se,ce,ge){if(typeof ce=="object"&&ce!==null&&ce.type===h&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case r:e:{for(var Re=ce.key;se!==null;){if(se.key===Re){if(Re=ce.type,Re===h){if(se.tag===7){p(ae,se.sibling),ge=I(se,ce.props.children),ge.return=ae,ae=ge;break e}}else if(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Jr(Re)===se.type){p(ae,se.sibling),ge=I(se,ce.props),Yo(ge,ce),ge.return=ae,ae=ge;break e}p(ae,se);break}else t(ae,se);se=se.sibling}ce.type===h?(ge=Yr(ce.props.children,ae.mode,ge,ce.key),ge.return=ae,ae=ge):(ge=Qa(ce.type,ce.key,ce.props,null,ae.mode,ge),Yo(ge,ce),ge.return=ae,ae=ge)}return G(ae);case l:e:{for(Re=ce.key;se!==null;){if(se.key===Re)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){p(ae,se.sibling),ge=I(se,ce.children||[]),ge.return=ae,ae=ge;break e}else{p(ae,se);break}else t(ae,se);se=se.sibling}ge=Yc(ce,ae.mode,ge),ge.return=ae,ae=ge}return G(ae);case A:return ce=Jr(ce),ht(ae,se,ce,ge)}if(L(ce))return Ee(ae,se,ce,ge);if($(ce)){if(Re=$(ce),typeof Re!="function")throw Error(v(150));return ce=Re.call(ce),$e(ae,se,ce,ge)}if(typeof ce.then=="function")return ht(ae,se,sl(ce),ge);if(ce.$$typeof===x)return ht(ae,se,tl(ae,ce),ge);ol(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,se!==null&&se.tag===6?(p(ae,se.sibling),ge=I(se,ce),ge.return=ae,ae=ge):(p(ae,se),ge=Kc(ce,ae.mode,ge),ge.return=ae,ae=ge),G(ae)):p(ae,se)}return function(ae,se,ce,ge){try{Ko=0;var Re=ht(ae,se,ce,ge);return Gs=null,Re}catch(Te){if(Te===Vs||Te===il)throw Te;var Je=An(29,Te,null,ae.mode);return Je.lanes=ge,Je.return=ae,Je}}}var ts=Hf(!0),zf=Hf(!1),hr=!1;function ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fr(e,t,p){var C=e.updateQueue;if(C===null)return null;if(C=C.shared,(tt&2)!==0){var I=C.pending;return I===null?t.next=t:(t.next=I.next,I.next=t),C.pending=t,t=Za(e),Sf(e,null,p),t}return qa(e,C,t,p),Za(e)}function Xo(e,t,p){if(t=t.updateQueue,t!==null&&(t=t.shared,(p&4194048)!==0)){var C=t.lanes;C&=e.pendingLanes,p|=C,t.lanes=p,vs(e,p)}}function lu(e,t){var p=e.updateQueue,C=e.alternate;if(C!==null&&(C=C.updateQueue,p===C)){var I=null,H=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};H===null?I=H=G:H=H.next=G,p=p.next}while(p!==null);H===null?I=H=t:H=H.next=t}else I=H=t;p={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:H,shared:C.shared,callbacks:C.callbacks},e.updateQueue=p;return}e=p.lastBaseUpdate,e===null?p.firstBaseUpdate=t:e.next=t,p.lastBaseUpdate=t}var cu=!1;function qo(){if(cu){var e=Us;if(e!==null)throw e}}function Zo(e,t,p,C){cu=!1;var I=e.updateQueue;hr=!1;var H=I.firstBaseUpdate,G=I.lastBaseUpdate,Z=I.shared.pending;if(Z!==null){I.shared.pending=null;var re=Z,ue=re.next;re.next=null,G===null?H=ue:G.next=ue,G=re;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,Z=fe.lastBaseUpdate,Z!==G&&(Z===null?fe.firstBaseUpdate=ue:Z.next=ue,fe.lastBaseUpdate=re))}if(H!==null){var ve=I.baseState;G=0,fe=ue=re=null,Z=H;do{var he=Z.lane&-536870913,de=he!==Z.lane;if(de?(Ke&he)===he:(C&he)===he){he!==0&&he===Ws&&(cu=!0),fe!==null&&(fe=fe.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ee=e,$e=Z;he=t;var ht=p;switch($e.tag){case 1:if(Ee=$e.payload,typeof Ee=="function"){ve=Ee.call(ht,ve,he);break e}ve=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=$e.payload,he=typeof Ee=="function"?Ee.call(ht,ve,he):Ee,he==null)break e;ve=n({},ve,he);break e;case 2:hr=!0}}he=Z.callback,he!==null&&(e.flags|=64,de&&(e.flags|=8192),de=I.callbacks,de===null?I.callbacks=[he]:de.push(he))}else de={lane:he,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},fe===null?(ue=fe=de,re=ve):fe=fe.next=de,G|=he;if(Z=Z.next,Z===null){if(Z=I.shared.pending,Z===null)break;de=Z,Z=de.next,de.next=null,I.lastBaseUpdate=de,I.shared.pending=null}}while(!0);fe===null&&(re=ve),I.baseState=re,I.firstBaseUpdate=ue,I.lastBaseUpdate=fe,H===null&&(I.shared.lanes=0),yr|=G,e.lanes=G,e.memoizedState=ve}}function Ff(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Pf(e,t){var p=e.callbacks;if(p!==null)for(e.callbacks=null,e=0;e<p.length;e++)Ff(p[e],t)}var Ks=W(null),al=W(0);function Wf(e,t){e=Yi,Y(al,e),Y(Ks,t),Yi=e|t.baseLanes}function uu(){Y(al,Yi),Y(Ks,Ks.current)}function hu(){Yi=al.current,K(Ks),K(al)}var kn=W(null),Gn=null;function pr(e){var t=e.alternate;Y(Rt,Rt.current&1),Y(kn,e),Gn===null&&(t===null||Ks.current!==null||t.memoizedState!==null)&&(Gn=e)}function du(e){Y(Rt,Rt.current),Y(kn,e),Gn===null&&(Gn=e)}function Uf(e){e.tag===22?(Y(Rt,Rt.current),Y(kn,e),Gn===null&&(Gn=e)):gr()}function gr(){Y(Rt,Rt.current),Y(kn,kn.current)}function Tn(e){K(kn),Gn===e&&(Gn=null),K(Rt)}var Rt=W(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var p=t.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||yh(p)||bh(p)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=0,Be=null,ct=null,It=null,cl=!1,Ys=!1,ns=!1,ul=0,Qo=0,Xs=null,_b=0;function Ct(){throw Error(v(321))}function fu(e,t){if(t===null)return!1;for(var p=0;p<t.length&&p<e.length;p++)if(!En(e[p],t[p]))return!1;return!0}function pu(e,t,p,C,I,H){return zi=H,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?kp:Mu,ns=!1,H=p(C,I),ns=!1,Ys&&(H=Gf(t,p,C,I)),Vf(e),H}function Vf(e){O.H=ta;var t=ct!==null&&ct.next!==null;if(zi=0,It=ct=Be=null,cl=!1,Qo=0,Xs=null,t)throw Error(v(300));e===null||Bt||(e=e.dependencies,e!==null&&el(e)&&(Bt=!0))}function Gf(e,t,p,C){Be=e;var I=0;do{if(Ys&&(Xs=null),Qo=0,Ys=!1,25<=I)throw Error(v(301));if(I+=1,It=ct=null,e.updateQueue!=null){var H=e.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}O.H=Tp,H=t(p,C)}while(Ys);return H}function xb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Jo(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Be.flags|=1024),t}function gu(){var e=ul!==0;return ul=0,e}function mu(e,t,p){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p}function vu(e){if(cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cl=!1}zi=0,It=ct=Be=null,Ys=!1,Qo=ul=0,Xs=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Be.memoizedState=It=e:It=It.next=e,It}function Nt(){if(ct===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=It===null?Be.memoizedState:It.next;if(t!==null)It=t,ct=e;else{if(e===null)throw Be.alternate===null?Error(v(467)):Error(v(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},It===null?Be.memoizedState=It=e:It=It.next=e}return It}function hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var t=Qo;return Qo+=1,Xs===null&&(Xs=[]),e=jf(Xs,e,t),t=Be,(It===null?t.memoizedState:It.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?kp:Mu),e}function dl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===x)return en(e)}throw Error(v(438,String(e)))}function yu(e){var t=null,p=Be.updateQueue;if(p!==null&&(t=p.memoCache),t==null){var C=Be.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(t={data:C.data.map(function(I){return I.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),p===null&&(p=hl(),Be.updateQueue=p),p.memoCache=t,p=t.data[t.index],p===void 0)for(p=t.data[t.index]=Array(e),C=0;C<e;C++)p[C]=j;return t.index++,p}function Fi(e,t){return typeof t=="function"?t(e):t}function fl(e){var t=Nt();return bu(t,ct,e)}function bu(e,t,p){var C=e.queue;if(C===null)throw Error(v(311));C.lastRenderedReducer=p;var I=e.baseQueue,H=C.pending;if(H!==null){if(I!==null){var G=I.next;I.next=H.next,H.next=G}t.baseQueue=I=H,C.pending=null}if(H=e.baseState,I===null)e.memoizedState=H;else{t=I.next;var Z=G=null,re=null,ue=t,fe=!1;do{var ve=ue.lane&-536870913;if(ve!==ue.lane?(Ke&ve)===ve:(zi&ve)===ve){var he=ue.revertLane;if(he===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),ve===Ws&&(fe=!0);else if((zi&he)===he){ue=ue.next,he===Ws&&(fe=!0);continue}else ve={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=ve,G=H):re=re.next=ve,Be.lanes|=he,yr|=he;ve=ue.action,ns&&p(H,ve),H=ue.hasEagerState?ue.eagerState:p(H,ve)}else he={lane:ve,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=he,G=H):re=re.next=he,Be.lanes|=ve,yr|=ve;ue=ue.next}while(ue!==null&&ue!==t);if(re===null?G=H:re.next=Z,!En(H,e.memoizedState)&&(Bt=!0,fe&&(p=Us,p!==null)))throw p;e.memoizedState=H,e.baseState=G,e.baseQueue=re,C.lastRenderedState=H}return I===null&&(C.lanes=0),[e.memoizedState,C.dispatch]}function _u(e){var t=Nt(),p=t.queue;if(p===null)throw Error(v(311));p.lastRenderedReducer=e;var C=p.dispatch,I=p.pending,H=t.memoizedState;if(I!==null){p.pending=null;var G=I=I.next;do H=e(H,G.action),G=G.next;while(G!==I);En(H,t.memoizedState)||(Bt=!0),t.memoizedState=H,t.baseQueue===null&&(t.baseState=H),p.lastRenderedState=H}return[H,C]}function Kf(e,t,p){var C=Be,I=Nt(),H=qe;if(H){if(p===void 0)throw Error(v(407));p=p()}else p=t();var G=!En((ct||I).memoizedState,p);if(G&&(I.memoizedState=p,Bt=!0),I=I.queue,Su(qf.bind(null,C,I,e),[e]),I.getSnapshot!==t||G||It!==null&&It.memoizedState.tag&1){if(C.flags|=2048,qs(9,{destroy:void 0},Xf.bind(null,C,I,p,t),null),ft===null)throw Error(v(349));H||(zi&127)!==0||Yf(C,t,p)}return p}function Yf(e,t,p){e.flags|=16384,e={getSnapshot:t,value:p},t=Be.updateQueue,t===null?(t=hl(),Be.updateQueue=t,t.stores=[e]):(p=t.stores,p===null?t.stores=[e]:p.push(e))}function Xf(e,t,p,C){t.value=p,t.getSnapshot=C,Zf(t)&&Qf(e)}function qf(e,t,p){return p(function(){Zf(t)&&Qf(e)})}function Zf(e){var t=e.getSnapshot;e=e.value;try{var p=t();return!En(e,p)}catch{return!0}}function Qf(e){var t=Kr(e,2);t!==null&&_n(t,e,2)}function xu(e){var t=dn();if(typeof e=="function"){var p=e;if(e=p(),ns){wt(!0);try{p()}finally{wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t}function Jf(e,t,p,C){return e.baseState=p,bu(e,ct,typeof C=="function"?C:Fi)}function wb(e,t,p,C,I){if(ml(e))throw Error(v(485));if(e=t.action,e!==null){var H={payload:I,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){H.listeners.push(G)}};O.T!==null?p(!0):H.isTransition=!1,C(H),p=t.pending,p===null?(H.next=t.pending=H,ep(t,H)):(H.next=p.next,t.pending=p.next=H)}}function ep(e,t){var p=t.action,C=t.payload,I=e.state;if(t.isTransition){var H=O.T,G={};O.T=G;try{var Z=p(I,C),re=O.S;re!==null&&re(G,Z),tp(e,t,Z)}catch(ue){wu(e,t,ue)}finally{H!==null&&G.types!==null&&(H.types=G.types),O.T=H}}else try{H=p(I,C),tp(e,t,H)}catch(ue){wu(e,t,ue)}}function tp(e,t,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(C){np(e,t,C)},function(C){return wu(e,t,C)}):np(e,t,p)}function np(e,t,p){t.status="fulfilled",t.value=p,ip(t),e.state=p,t=e.pending,t!==null&&(p=t.next,p===t?e.pending=null:(p=p.next,t.next=p,ep(e,p)))}function wu(e,t,p){var C=e.pending;if(e.pending=null,C!==null){C=C.next;do t.status="rejected",t.reason=p,ip(t),t=t.next;while(t!==C)}e.action=null}function ip(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rp(e,t){return t}function sp(e,t){if(qe){var p=ft.formState;if(p!==null){e:{var C=Be;if(qe){if(vt){t:{for(var I=vt,H=Vn;I.nodeType!==8;){if(!H){I=null;break t}if(I=Kn(I.nextSibling),I===null){I=null;break t}}H=I.data,I=H==="F!"||H==="F"?I:null}if(I){vt=Kn(I.nextSibling),C=I.data==="F!";break e}}cr(C)}C=!1}C&&(t=p[0])}}return p=dn(),p.memoizedState=p.baseState=t,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:t},p.queue=C,p=Cp.bind(null,Be,C),C.dispatch=p,C=xu(!1),H=Tu.bind(null,Be,!1,C.queue),C=dn(),I={state:t,dispatch:null,action:e,pending:null},C.queue=I,p=wb.bind(null,Be,I,H,p),I.dispatch=p,C.memoizedState=e,[t,p,!1]}function op(e){var t=Nt();return ap(t,ct,e)}function ap(e,t,p){if(t=bu(e,t,rp)[0],e=fl(Fi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var C=Jo(t)}catch(G){throw G===Vs?il:G}else C=t;t=Nt();var I=t.queue,H=I.dispatch;return p!==t.memoizedState&&(Be.flags|=2048,qs(9,{destroy:void 0},Sb.bind(null,I,p),null)),[C,H,e]}function Sb(e,t){e.action=t}function lp(e){var t=Nt(),p=ct;if(p!==null)return ap(t,p,e);Nt(),t=t.memoizedState,p=Nt();var C=p.queue.dispatch;return p.memoizedState=e,[t,C,!1]}function qs(e,t,p,C){return e={tag:e,create:p,deps:C,inst:t,next:null},t=Be.updateQueue,t===null&&(t=hl(),Be.updateQueue=t),p=t.lastEffect,p===null?t.lastEffect=e.next=e:(C=p.next,p.next=e,e.next=C,t.lastEffect=e),e}function cp(){return Nt().memoizedState}function pl(e,t,p,C){var I=dn();Be.flags|=e,I.memoizedState=qs(1|t,{destroy:void 0},p,C===void 0?null:C)}function gl(e,t,p,C){var I=Nt();C=C===void 0?null:C;var H=I.memoizedState.inst;ct!==null&&C!==null&&fu(C,ct.memoizedState.deps)?I.memoizedState=qs(t,H,p,C):(Be.flags|=e,I.memoizedState=qs(1|t,H,p,C))}function up(e,t){pl(8390656,8,e,t)}function Su(e,t){gl(2048,8,e,t)}function Cb(e){Be.flags|=4;var t=Be.updateQueue;if(t===null)t=hl(),Be.updateQueue=t,t.events=[e];else{var p=t.events;p===null?t.events=[e]:p.push(e)}}function hp(e){var t=Nt().memoizedState;return Cb({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function dp(e,t){return gl(4,2,e,t)}function fp(e,t){return gl(4,4,e,t)}function pp(e,t){if(typeof t=="function"){e=e();var p=t(e);return function(){typeof p=="function"?p():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gp(e,t,p){p=p!=null?p.concat([e]):null,gl(4,4,pp.bind(null,t,e),p)}function Cu(){}function mp(e,t){var p=Nt();t=t===void 0?null:t;var C=p.memoizedState;return t!==null&&fu(t,C[1])?C[0]:(p.memoizedState=[e,t],e)}function vp(e,t){var p=Nt();t=t===void 0?null:t;var C=p.memoizedState;if(t!==null&&fu(t,C[1]))return C[0];if(C=e(),ns){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[C,t],C}function Eu(e,t,p){return p===void 0||(zi&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=t:(e.memoizedState=p,e=yg(),Be.lanes|=e,yr|=e,p)}function yp(e,t,p,C){return En(p,t)?p:Ks.current!==null?(e=Eu(e,p,C),En(e,t)||(Bt=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Ke&261930)===0?(Bt=!0,e.memoizedState=p):(e=yg(),Be.lanes|=e,yr|=e,t)}function bp(e,t,p,C,I){var H=z.p;z.p=H!==0&&8>H?H:8;var G=O.T,Z={};O.T=Z,Tu(e,!1,t,p);try{var re=I(),ue=O.S;if(ue!==null&&ue(Z,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=bb(re,C);ea(e,t,fe,Rn(e))}else ea(e,t,C,Rn(e))}catch(ve){ea(e,t,{then:function(){},status:"rejected",reason:ve},Rn())}finally{z.p=H,G!==null&&Z.types!==null&&(G.types=Z.types),O.T=G}}function Eb(){}function Au(e,t,p,C){if(e.tag!==5)throw Error(v(476));var I=_p(e).queue;bp(e,I,t,B,p===null?Eb:function(){return xp(e),p(C)})}function _p(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:B},next:null};var p={};return t.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:p},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xp(e){var t=_p(e);t.next===null&&(t=e.alternate.memoizedState),ea(e,t.next.queue,{},Rn())}function ku(){return en(va)}function wp(){return Nt().memoizedState}function Sp(){return Nt().memoizedState}function Ab(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var p=Rn();e=dr(p);var C=fr(t,e,p);C!==null&&(_n(C,t,p),Xo(C,t,p)),t={cache:nu()},e.payload=t;return}t=t.return}}function kb(e,t,p){var C=Rn();p={lane:C,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ml(e)?Ep(t,p):(p=Vc(e,t,p,C),p!==null&&(_n(p,e,C),Ap(p,t,C)))}function Cp(e,t,p){var C=Rn();ea(e,t,p,C)}function ea(e,t,p,C){var I={lane:C,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ml(e))Ep(t,I);else{var H=e.alternate;if(e.lanes===0&&(H===null||H.lanes===0)&&(H=t.lastRenderedReducer,H!==null))try{var G=t.lastRenderedState,Z=H(G,p);if(I.hasEagerState=!0,I.eagerState=Z,En(Z,G))return qa(e,t,I,0),ft===null&&Xa(),!1}catch{}if(p=Vc(e,t,I,C),p!==null)return _n(p,e,C),Ap(p,t,C),!0}return!1}function Tu(e,t,p,C){if(C={lane:2,revertLane:oh(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(v(479))}else t=Vc(e,p,C,2),t!==null&&_n(t,e,2)}function ml(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Ep(e,t){Ys=cl=!0;var p=e.pending;p===null?t.next=t:(t.next=p.next,p.next=t),e.pending=t}function Ap(e,t,p){if((p&4194048)!==0){var C=t.lanes;C&=e.pendingLanes,p|=C,t.lanes=p,vs(e,p)}}var ta={readContext:en,use:dl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ta.useEffectEvent=Ct;var kp={readContext:en,use:dl,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:up,useImperativeHandle:function(e,t,p){p=p!=null?p.concat([e]):null,pl(4194308,4,pp.bind(null,t,e),p)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){pl(4,2,e,t)},useMemo:function(e,t){var p=dn();t=t===void 0?null:t;var C=e();if(ns){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[C,t],C},useReducer:function(e,t,p){var C=dn();if(p!==void 0){var I=p(t);if(ns){wt(!0);try{p(t)}finally{wt(!1)}}}else I=t;return C.memoizedState=C.baseState=I,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:I},C.queue=e,e=e.dispatch=kb.bind(null,Be,e),[C.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:function(e){e=xu(e);var t=e.queue,p=Cp.bind(null,Be,t);return t.dispatch=p,[e.memoizedState,p]},useDebugValue:Cu,useDeferredValue:function(e,t){var p=dn();return Eu(p,e,t)},useTransition:function(){var e=xu(!1);return e=bp.bind(null,Be,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,p){var C=Be,I=dn();if(qe){if(p===void 0)throw Error(v(407));p=p()}else{if(p=t(),ft===null)throw Error(v(349));(Ke&127)!==0||Yf(C,t,p)}I.memoizedState=p;var H={value:p,getSnapshot:t};return I.queue=H,up(qf.bind(null,C,H,e),[e]),C.flags|=2048,qs(9,{destroy:void 0},Xf.bind(null,C,H,p,t),null),p},useId:function(){var e=dn(),t=ft.identifierPrefix;if(qe){var p=Si,C=wi;p=(C&~(1<<32-le(C)-1)).toString(32)+p,t="_"+t+"R_"+p,p=ul++,0<p&&(t+="H"+p.toString(32)),t+="_"}else p=_b++,t="_"+t+"r_"+p.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ku,useFormState:sp,useActionState:sp,useOptimistic:function(e){var t=dn();t.memoizedState=t.baseState=e;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=p,t=Tu.bind(null,Be,!0,p),p.dispatch=t,[e,t]},useMemoCache:yu,useCacheRefresh:function(){return dn().memoizedState=Ab.bind(null,Be)},useEffectEvent:function(e){var t=dn(),p={impl:e};return t.memoizedState=p,function(){if((tt&2)!==0)throw Error(v(440));return p.impl.apply(void 0,arguments)}}},Mu={readContext:en,use:dl,useCallback:mp,useContext:en,useEffect:Su,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:vp,useReducer:fl,useRef:cp,useState:function(){return fl(Fi)},useDebugValue:Cu,useDeferredValue:function(e,t){var p=Nt();return yp(p,ct.memoizedState,e,t)},useTransition:function(){var e=fl(Fi)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Jo(e),t]},useSyncExternalStore:Kf,useId:wp,useHostTransitionStatus:ku,useFormState:op,useActionState:op,useOptimistic:function(e,t){var p=Nt();return Jf(p,ct,e,t)},useMemoCache:yu,useCacheRefresh:Sp};Mu.useEffectEvent=hp;var Tp={readContext:en,use:dl,useCallback:mp,useContext:en,useEffect:Su,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:vp,useReducer:_u,useRef:cp,useState:function(){return _u(Fi)},useDebugValue:Cu,useDeferredValue:function(e,t){var p=Nt();return ct===null?Eu(p,e,t):yp(p,ct.memoizedState,e,t)},useTransition:function(){var e=_u(Fi)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Jo(e),t]},useSyncExternalStore:Kf,useId:wp,useHostTransitionStatus:ku,useFormState:lp,useActionState:lp,useOptimistic:function(e,t){var p=Nt();return ct!==null?Jf(p,ct,e,t):(p.baseState=e,[e,p.queue.dispatch])},useMemoCache:yu,useCacheRefresh:Sp};Tp.useEffectEvent=hp;function Lu(e,t,p,C){t=e.memoizedState,p=p(C,t),p=p==null?t:n({},t,p),e.memoizedState=p,e.lanes===0&&(e.updateQueue.baseState=p)}var Ru={enqueueSetState:function(e,t,p){e=e._reactInternals;var C=Rn(),I=dr(C);I.payload=t,p!=null&&(I.callback=p),t=fr(e,I,C),t!==null&&(_n(t,e,C),Xo(t,e,C))},enqueueReplaceState:function(e,t,p){e=e._reactInternals;var C=Rn(),I=dr(C);I.tag=1,I.payload=t,p!=null&&(I.callback=p),t=fr(e,I,C),t!==null&&(_n(t,e,C),Xo(t,e,C))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var p=Rn(),C=dr(p);C.tag=2,t!=null&&(C.callback=t),t=fr(e,C,p),t!==null&&(_n(t,e,p),Xo(t,e,p))}};function Mp(e,t,p,C,I,H,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(C,H,G):t.prototype&&t.prototype.isPureReactComponent?!Fo(p,C)||!Fo(I,H):!0}function Lp(e,t,p,C){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(p,C),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(p,C),t.state!==e&&Ru.enqueueReplaceState(t,t.state,null)}function is(e,t){var p=t;if("ref"in t){p={};for(var C in t)C!=="ref"&&(p[C]=t[C])}if(e=e.defaultProps){p===t&&(p=n({},p));for(var I in e)p[I]===void 0&&(p[I]=e[I])}return p}function Rp(e){Ya(e)}function Np(e){console.error(e)}function $p(e){Ya(e)}function vl(e,t){try{var p=e.onUncaughtError;p(t.value,{componentStack:t.stack})}catch(C){setTimeout(function(){throw C})}}function Dp(e,t,p){try{var C=e.onCaughtError;C(p.value,{componentStack:p.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Nu(e,t,p){return p=dr(p),p.tag=3,p.payload={element:null},p.callback=function(){vl(e,t)},p}function Op(e){return e=dr(e),e.tag=3,e}function jp(e,t,p,C){var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var H=C.value;e.payload=function(){return I(H)},e.callback=function(){Dp(t,p,C)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(e.callback=function(){Dp(t,p,C),typeof I!="function"&&(br===null?br=new Set([this]):br.add(this));var Z=C.stack;this.componentDidCatch(C.value,{componentStack:Z!==null?Z:""})})}function Tb(e,t,p,C,I){if(p.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(t=p.alternate,t!==null&&Ps(t,p,I,!0),p=kn.current,p!==null){switch(p.tag){case 31:case 13:return Gn===null?Ml():p.alternate===null&&Et===0&&(Et=3),p.flags&=-257,p.flags|=65536,p.lanes=I,C===rl?p.flags|=16384:(t=p.updateQueue,t===null?p.updateQueue=new Set([C]):t.add(C),ih(e,C,I)),!1;case 22:return p.flags|=65536,C===rl?p.flags|=16384:(t=p.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([C])},p.updateQueue=t):(p=t.retryQueue,p===null?t.retryQueue=new Set([C]):p.add(C)),ih(e,C,I)),!1}throw Error(v(435,p.tag))}return ih(e,C,I),Ml(),!1}if(qe)return t=kn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=I,C!==Zc&&(e=Error(v(422),{cause:C}),Uo(Pn(e,p)))):(C!==Zc&&(t=Error(v(423),{cause:C}),Uo(Pn(t,p))),e=e.current.alternate,e.flags|=65536,I&=-I,e.lanes|=I,C=Pn(C,p),I=Nu(e.stateNode,C,I),lu(e,I),Et!==4&&(Et=2)),!1;var H=Error(v(520),{cause:C});if(H=Pn(H,p),ca===null?ca=[H]:ca.push(H),Et!==4&&(Et=2),t===null)return!0;C=Pn(C,p),p=t;do{switch(p.tag){case 3:return p.flags|=65536,e=I&-I,p.lanes|=e,e=Nu(p.stateNode,C,e),lu(p,e),!1;case 1:if(t=p.type,H=p.stateNode,(p.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(br===null||!br.has(H))))return p.flags|=65536,I&=-I,p.lanes|=I,I=Op(I),jp(I,e,p,C),lu(p,I),!1}p=p.return}while(p!==null);return!1}var $u=Error(v(461)),Bt=!1;function tn(e,t,p,C){t.child=e===null?zf(t,null,p,C):ts(t,e.child,p,C)}function Ip(e,t,p,C,I){p=p.render;var H=t.ref;if("ref"in C){var G={};for(var Z in C)Z!=="ref"&&(G[Z]=C[Z])}else G=C;return Zr(t),C=pu(e,t,p,G,H,I),Z=gu(),e!==null&&!Bt?(mu(e,t,I),Pi(e,t,I)):(qe&&Z&&Xc(t),t.flags|=1,tn(e,t,C,I),t.child)}function Bp(e,t,p,C,I){if(e===null){var H=p.type;return typeof H=="function"&&!Gc(H)&&H.defaultProps===void 0&&p.compare===null?(t.tag=15,t.type=H,Hp(e,t,H,C,I)):(e=Qa(p.type,null,C,t,t.mode,I),e.ref=t.ref,e.return=t,t.child=e)}if(H=e.child,!Fu(e,I)){var G=H.memoizedProps;if(p=p.compare,p=p!==null?p:Fo,p(G,C)&&e.ref===t.ref)return Pi(e,t,I)}return t.flags|=1,e=ji(H,C),e.ref=t.ref,e.return=t,t.child=e}function Hp(e,t,p,C,I){if(e!==null){var H=e.memoizedProps;if(Fo(H,C)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=C=H,Fu(e,I))(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,Pi(e,t,I)}return Du(e,t,p,C,I)}function zp(e,t,p,C){var I=C.children,H=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((t.flags&128)!==0){if(H=H!==null?H.baseLanes|p:p,e!==null){for(C=t.child=e.child,I=0;C!==null;)I=I|C.lanes|C.childLanes,C=C.sibling;C=I&~H}else C=0,t.child=null;return Fp(e,t,H,p,C)}if((p&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nl(t,H!==null?H.cachePool:null),H!==null?Wf(t,H):uu(),Uf(t);else return C=t.lanes=536870912,Fp(e,t,H!==null?H.baseLanes|p:p,p,C)}else H!==null?(nl(t,H.cachePool),Wf(t,H),gr(),t.memoizedState=null):(e!==null&&nl(t,null),uu(),gr());return tn(e,t,I,p),t.child}function na(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fp(e,t,p,C,I){var H=ru();return H=H===null?null:{parent:jt._currentValue,pool:H},t.memoizedState={baseLanes:p,cachePool:H},e!==null&&nl(t,null),uu(),Uf(t),e!==null&&Ps(e,t,C,!0),t.childLanes=I,null}function yl(e,t){return t=_l({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pp(e,t,p){return ts(t,e.child,null,p),e=yl(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function Mb(e,t,p){var C=t.pendingProps,I=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(C.mode==="hidden")return e=yl(t,C),t.lanes=536870912,na(null,e);if(du(t),(e=vt)?(e=em(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ar!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},p=Ef(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw cr(t);return t.lanes=536870912,null}return yl(t,C)}var H=e.memoizedState;if(H!==null){var G=H.dehydrated;if(du(t),I)if(t.flags&256)t.flags&=-257,t=Pp(e,t,p);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(Bt||Ps(e,t,p,!1),I=(p&e.childLanes)!==0,Bt||I){if(C=ft,C!==null&&(G=ys(C,p),G!==0&&G!==H.retryLane))throw H.retryLane=G,Kr(e,G),_n(C,e,G),$u;Ml(),t=Pp(e,t,p)}else e=H.treeContext,vt=Kn(G.nextSibling),Jt=t,qe=!0,lr=null,Vn=!1,e!==null&&Tf(t,e),t=yl(t,C),t.flags|=4096;return t}return e=ji(e.child,{mode:C.mode,children:C.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bl(e,t){var p=t.ref;if(p===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(v(284));(e===null||e.ref!==p)&&(t.flags|=4194816)}}function Du(e,t,p,C,I){return Zr(t),p=pu(e,t,p,C,void 0,I),C=gu(),e!==null&&!Bt?(mu(e,t,I),Pi(e,t,I)):(qe&&C&&Xc(t),t.flags|=1,tn(e,t,p,I),t.child)}function Wp(e,t,p,C,I,H){return Zr(t),t.updateQueue=null,p=Gf(t,C,p,I),Vf(e),C=gu(),e!==null&&!Bt?(mu(e,t,H),Pi(e,t,H)):(qe&&C&&Xc(t),t.flags|=1,tn(e,t,p,H),t.child)}function Up(e,t,p,C,I){if(Zr(t),t.stateNode===null){var H=Bs,G=p.contextType;typeof G=="object"&&G!==null&&(H=en(G)),H=new p(C,H),t.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Ru,t.stateNode=H,H._reactInternals=t,H=t.stateNode,H.props=C,H.state=t.memoizedState,H.refs={},ou(t),G=p.contextType,H.context=typeof G=="object"&&G!==null?en(G):Bs,H.state=t.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(Lu(t,p,G,C),H.state=t.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(G=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),G!==H.state&&Ru.enqueueReplaceState(H,H.state,null),Zo(t,C,H,I),qo(),H.state=t.memoizedState),typeof H.componentDidMount=="function"&&(t.flags|=4194308),C=!0}else if(e===null){H=t.stateNode;var Z=t.memoizedProps,re=is(p,Z);H.props=re;var ue=H.context,fe=p.contextType;G=Bs,typeof fe=="object"&&fe!==null&&(G=en(fe));var ve=p.getDerivedStateFromProps;fe=typeof ve=="function"||typeof H.getSnapshotBeforeUpdate=="function",Z=t.pendingProps!==Z,fe||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z||ue!==G)&&Lp(t,H,C,G),hr=!1;var he=t.memoizedState;H.state=he,Zo(t,C,H,I),qo(),ue=t.memoizedState,Z||he!==ue||hr?(typeof ve=="function"&&(Lu(t,p,ve,C),ue=t.memoizedState),(re=hr||Mp(t,p,re,C,he,ue,G))?(fe||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(t.flags|=4194308)):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=C,t.memoizedState=ue),H.props=C,H.state=ue,H.context=G,C=re):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),C=!1)}else{H=t.stateNode,au(e,t),G=t.memoizedProps,fe=is(p,G),H.props=fe,ve=t.pendingProps,he=H.context,ue=p.contextType,re=Bs,typeof ue=="object"&&ue!==null&&(re=en(ue)),Z=p.getDerivedStateFromProps,(ue=typeof Z=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(G!==ve||he!==re)&&Lp(t,H,C,re),hr=!1,he=t.memoizedState,H.state=he,Zo(t,C,H,I),qo();var de=t.memoizedState;G!==ve||he!==de||hr||e!==null&&e.dependencies!==null&&el(e.dependencies)?(typeof Z=="function"&&(Lu(t,p,Z,C),de=t.memoizedState),(fe=hr||Mp(t,p,fe,C,he,de,re)||e!==null&&e.dependencies!==null&&el(e.dependencies))?(ue||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,de,re),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,de,re)),typeof H.componentDidUpdate=="function"&&(t.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=C,t.memoizedState=de),H.props=C,H.state=de,H.context=re,C=fe):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),C=!1)}return H=C,bl(e,t),C=(t.flags&128)!==0,H||C?(H=t.stateNode,p=C&&typeof p.getDerivedStateFromError!="function"?null:H.render(),t.flags|=1,e!==null&&C?(t.child=ts(t,e.child,null,I),t.child=ts(t,null,p,I)):tn(e,t,p,I),t.memoizedState=H.state,e=t.child):e=Pi(e,t,I),e}function Vp(e,t,p,C){return Xr(),t.flags|=256,tn(e,t,p,C),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:Df()}}function Iu(e,t,p){return e=e!==null?e.childLanes&~p:0,t&&(e|=Ln),e}function Gp(e,t,p){var C=t.pendingProps,I=!1,H=(t.flags&128)!==0,G;if((G=H)||(G=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),G&&(I=!0,t.flags&=-129),G=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(I?pr(t):gr(),(e=vt)?(e=em(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ar!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},p=Ef(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw cr(t);return bh(e)?t.lanes=32:t.lanes=536870912,null}var Z=C.children;return C=C.fallback,I?(gr(),I=t.mode,Z=_l({mode:"hidden",children:Z},I),C=Yr(C,I,p,null),Z.return=t,C.return=t,Z.sibling=C,t.child=Z,C=t.child,C.memoizedState=ju(p),C.childLanes=Iu(e,G,p),t.memoizedState=Ou,na(null,C)):(pr(t),Bu(t,Z))}var re=e.memoizedState;if(re!==null&&(Z=re.dehydrated,Z!==null)){if(H)t.flags&256?(pr(t),t.flags&=-257,t=Hu(e,t,p)):t.memoizedState!==null?(gr(),t.child=e.child,t.flags|=128,t=null):(gr(),Z=C.fallback,I=t.mode,C=_l({mode:"visible",children:C.children},I),Z=Yr(Z,I,p,null),Z.flags|=2,C.return=t,Z.return=t,C.sibling=Z,t.child=C,ts(t,e.child,null,p),C=t.child,C.memoizedState=ju(p),C.childLanes=Iu(e,G,p),t.memoizedState=Ou,t=na(null,C));else if(pr(t),bh(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var ue=G.dgst;G=ue,C=Error(v(419)),C.stack="",C.digest=G,Uo({value:C,source:null,stack:null}),t=Hu(e,t,p)}else if(Bt||Ps(e,t,p,!1),G=(p&e.childLanes)!==0,Bt||G){if(G=ft,G!==null&&(C=ys(G,p),C!==0&&C!==re.retryLane))throw re.retryLane=C,Kr(e,C),_n(G,e,C),$u;yh(Z)||Ml(),t=Hu(e,t,p)}else yh(Z)?(t.flags|=192,t.child=e.child,t=null):(e=re.treeContext,vt=Kn(Z.nextSibling),Jt=t,qe=!0,lr=null,Vn=!1,e!==null&&Tf(t,e),t=Bu(t,C.children),t.flags|=4096);return t}return I?(gr(),Z=C.fallback,I=t.mode,re=e.child,ue=re.sibling,C=ji(re,{mode:"hidden",children:C.children}),C.subtreeFlags=re.subtreeFlags&65011712,ue!==null?Z=ji(ue,Z):(Z=Yr(Z,I,p,null),Z.flags|=2),Z.return=t,C.return=t,C.sibling=Z,t.child=C,na(null,C),C=t.child,Z=e.child.memoizedState,Z===null?Z=ju(p):(I=Z.cachePool,I!==null?(re=jt._currentValue,I=I.parent!==re?{parent:re,pool:re}:I):I=Df(),Z={baseLanes:Z.baseLanes|p,cachePool:I}),C.memoizedState=Z,C.childLanes=Iu(e,G,p),t.memoizedState=Ou,na(e.child,C)):(pr(t),p=e.child,e=p.sibling,p=ji(p,{mode:"visible",children:C.children}),p.return=t,p.sibling=null,e!==null&&(G=t.deletions,G===null?(t.deletions=[e],t.flags|=16):G.push(e)),t.child=p,t.memoizedState=null,p)}function Bu(e,t){return t=_l({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _l(e,t){return e=An(22,e,null,t),e.lanes=0,e}function Hu(e,t,p){return ts(t,e.child,null,p),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kp(e,t,p){e.lanes|=t;var C=e.alternate;C!==null&&(C.lanes|=t),eu(e.return,t,p)}function zu(e,t,p,C,I,H){var G=e.memoizedState;G===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:C,tail:p,tailMode:I,treeForkCount:H}:(G.isBackwards=t,G.rendering=null,G.renderingStartTime=0,G.last=C,G.tail=p,G.tailMode=I,G.treeForkCount=H)}function Yp(e,t,p){var C=t.pendingProps,I=C.revealOrder,H=C.tail;C=C.children;var G=Rt.current,Z=(G&2)!==0;if(Z?(G=G&1|2,t.flags|=128):G&=1,Y(Rt,G),tn(e,t,C,p),C=qe?Wo:0,!Z&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,p,t);else if(e.tag===19)Kp(e,p,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(I){case"forwards":for(p=t.child,I=null;p!==null;)e=p.alternate,e!==null&&ll(e)===null&&(I=p),p=p.sibling;p=I,p===null?(I=t.child,t.child=null):(I=p.sibling,p.sibling=null),zu(t,!1,I,p,H,C);break;case"backwards":case"unstable_legacy-backwards":for(p=null,I=t.child,t.child=null;I!==null;){if(e=I.alternate,e!==null&&ll(e)===null){t.child=I;break}e=I.sibling,I.sibling=p,p=I,I=e}zu(t,!0,p,null,H,C);break;case"together":zu(t,!1,null,null,void 0,C);break;default:t.memoizedState=null}return t.child}function Pi(e,t,p){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,(p&t.childLanes)===0)if(e!==null){if(Ps(e,t,p,!1),(p&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,p=ji(e,e.pendingProps),t.child=p,p.return=t;e.sibling!==null;)e=e.sibling,p=p.sibling=ji(e,e.pendingProps),p.return=t;p.sibling=null}return t.child}function Fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&el(e)))}function Lb(e,t,p){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),ur(t,jt,e.memoizedState.cache),Xr();break;case 27:case 5:ie(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:ur(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,du(t),null;break;case 13:var C=t.memoizedState;if(C!==null)return C.dehydrated!==null?(pr(t),t.flags|=128,null):(p&t.child.childLanes)!==0?Gp(e,t,p):(pr(t),e=Pi(e,t,p),e!==null?e.sibling:null);pr(t);break;case 19:var I=(e.flags&128)!==0;if(C=(p&t.childLanes)!==0,C||(Ps(e,t,p,!1),C=(p&t.childLanes)!==0),I){if(C)return Yp(e,t,p);t.flags|=128}if(I=t.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Y(Rt,Rt.current),C)break;return null;case 22:return t.lanes=0,zp(e,t,p,t.pendingProps);case 24:ur(t,jt,e.memoizedState.cache)}return Pi(e,t,p)}function Xp(e,t,p){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!Fu(e,p)&&(t.flags&128)===0)return Bt=!1,Lb(e,t,p);Bt=(e.flags&131072)!==0}else Bt=!1,qe&&(t.flags&1048576)!==0&&kf(t,Wo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var C=t.pendingProps;if(e=Jr(t.elementType),t.type=e,typeof e=="function")Gc(e)?(C=is(e,C),t.tag=1,t=Up(null,t,e,C,p)):(t.tag=0,t=Du(null,t,e,C,p));else{if(e!=null){var I=e.$$typeof;if(I===S){t.tag=11,t=Ip(null,t,e,C,p);break e}else if(I===k){t.tag=14,t=Bp(null,t,e,C,p);break e}}throw t=M(e)||e,Error(v(306,t,""))}}return t;case 0:return Du(e,t,t.type,t.pendingProps,p);case 1:return C=t.type,I=is(C,t.pendingProps),Up(e,t,C,I,p);case 3:e:{if(Q(t,t.stateNode.containerInfo),e===null)throw Error(v(387));C=t.pendingProps;var H=t.memoizedState;I=H.element,au(e,t),Zo(t,C,null,p);var G=t.memoizedState;if(C=G.cache,ur(t,jt,C),C!==H.cache&&tu(t,[jt],p,!0),qo(),C=G.element,H.isDehydrated)if(H={element:C,isDehydrated:!1,cache:G.cache},t.updateQueue.baseState=H,t.memoizedState=H,t.flags&256){t=Vp(e,t,C,p);break e}else if(C!==I){I=Pn(Error(v(424)),t),Uo(I),t=Vp(e,t,C,p);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,vt=Kn(e.firstChild),Jt=t,qe=!0,lr=null,Vn=!0,p=zf(t,null,C,p),t.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Xr(),C===I){t=Pi(e,t,p);break e}tn(e,t,C,p)}t=t.child}return t;case 26:return bl(e,t),e===null?(p=om(t.type,null,t.pendingProps,null))?t.memoizedState=p:qe||(p=t.type,e=t.pendingProps,C=jl(J.current).createElement(p),C[Mt]=t,C[Ut]=e,nn(C,p,e),St(C),t.stateNode=C):t.memoizedState=om(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ie(t),e===null&&qe&&(C=t.stateNode=im(t.type,t.pendingProps,J.current),Jt=t,Vn=!0,I=vt,Sr(t.type)?(_h=I,vt=Kn(C.firstChild)):vt=I),tn(e,t,t.pendingProps.children,p),bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((I=C=vt)&&(C=o_(C,t.type,t.pendingProps,Vn),C!==null?(t.stateNode=C,Jt=t,vt=Kn(C.firstChild),Vn=!1,I=!0):I=!1),I||cr(t)),ie(t),I=t.type,H=t.pendingProps,G=e!==null?e.memoizedProps:null,C=H.children,gh(I,H)?C=null:G!==null&&gh(I,G)&&(t.flags|=32),t.memoizedState!==null&&(I=pu(e,t,xb,null,null,p),va._currentValue=I),bl(e,t),tn(e,t,C,p),t.child;case 6:return e===null&&qe&&((e=p=vt)&&(p=a_(p,t.pendingProps,Vn),p!==null?(t.stateNode=p,Jt=t,vt=null,e=!0):e=!1),e||cr(t)),null;case 13:return Gp(e,t,p);case 4:return Q(t,t.stateNode.containerInfo),C=t.pendingProps,e===null?t.child=ts(t,null,C,p):tn(e,t,C,p),t.child;case 11:return Ip(e,t,t.type,t.pendingProps,p);case 7:return tn(e,t,t.pendingProps,p),t.child;case 8:return tn(e,t,t.pendingProps.children,p),t.child;case 12:return tn(e,t,t.pendingProps.children,p),t.child;case 10:return C=t.pendingProps,ur(t,t.type,C.value),tn(e,t,C.children,p),t.child;case 9:return I=t.type._context,C=t.pendingProps.children,Zr(t),I=en(I),C=C(I),t.flags|=1,tn(e,t,C,p),t.child;case 14:return Bp(e,t,t.type,t.pendingProps,p);case 15:return Hp(e,t,t.type,t.pendingProps,p);case 19:return Yp(e,t,p);case 31:return Mb(e,t,p);case 22:return zp(e,t,p,t.pendingProps);case 24:return Zr(t),C=en(jt),e===null?(I=ru(),I===null&&(I=ft,H=nu(),I.pooledCache=H,H.refCount++,H!==null&&(I.pooledCacheLanes|=p),I=H),t.memoizedState={parent:C,cache:I},ou(t),ur(t,jt,I)):((e.lanes&p)!==0&&(au(e,t),Zo(t,null,null,p),qo()),I=e.memoizedState,H=t.memoizedState,I.parent!==C?(I={parent:C,cache:C},t.memoizedState=I,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=I),ur(t,jt,C)):(C=H.cache,ur(t,jt,C),C!==I.cache&&tu(t,[jt],p,!0))),tn(e,t,t.pendingProps.children,p),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Wi(e){e.flags|=4}function Pu(e,t,p,C,I){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(I&335544128)===I)if(e.stateNode.complete)e.flags|=8192;else if(wg())e.flags|=8192;else throw es=rl,su}else e.flags&=-16777217}function qp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hm(t))if(wg())e.flags|=8192;else throw es=rl,su}function xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nr():536870912,e.lanes|=t,eo|=t)}function ia(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var p=null;t!==null;)t.alternate!==null&&(p=t),t=t.sibling;p===null?e.tail=null:p.sibling=null;break;case"collapsed":p=e.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:C.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,p=0,C=0;if(t)for(var I=e.child;I!==null;)p|=I.lanes|I.childLanes,C|=I.subtreeFlags&65011712,C|=I.flags&65011712,I.return=e,I=I.sibling;else for(I=e.child;I!==null;)p|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=e,I=I.sibling;return e.subtreeFlags|=C,e.childLanes=p,t}function Rb(e,t,p){var C=t.pendingProps;switch(qc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return yt(t),null;case 3:return p=t.stateNode,C=null,e!==null&&(C=e.memoizedState.cache),t.memoizedState.cache!==C&&(t.flags|=2048),Hi(jt),te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?Wi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qc())),yt(t),null;case 26:var I=t.type,H=t.memoizedState;return e===null?(Wi(t),H!==null?(yt(t),qp(t,H)):(yt(t),Pu(t,I,null,C,p))):H?H!==e.memoizedState?(Wi(t),yt(t),qp(t,H)):(yt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==C&&Wi(t),yt(t),Pu(t,I,e,C,p)),null;case 27:if(me(t),p=J.current,I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==C&&Wi(t);else{if(!C){if(t.stateNode===null)throw Error(v(166));return yt(t),null}e=X.current,Fs(t)?Mf(t):(e=im(I,C,p),t.stateNode=e,Wi(t))}return yt(t),null;case 5:if(me(t),I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==C&&Wi(t);else{if(!C){if(t.stateNode===null)throw Error(v(166));return yt(t),null}if(H=X.current,Fs(t))Mf(t);else{var G=jl(J.current);switch(H){case 1:H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":H=G.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild);break;case"select":H=typeof C.is=="string"?G.createElement("select",{is:C.is}):G.createElement("select"),C.multiple?H.multiple=!0:C.size&&(H.size=C.size);break;default:H=typeof C.is=="string"?G.createElement(I,{is:C.is}):G.createElement(I)}}H[Mt]=t,H[Ut]=C;e:for(G=t.child;G!==null;){if(G.tag===5||G.tag===6)H.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}t.stateNode=H;e:switch(nn(H,I,C),I){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Wi(t)}}return yt(t),Pu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,p),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==C&&Wi(t);else{if(typeof C!="string"&&t.stateNode===null)throw Error(v(166));if(e=J.current,Fs(t)){if(e=t.stateNode,p=t.memoizedProps,C=null,I=Jt,I!==null)switch(I.tag){case 27:case 5:C=I.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===p||C!==null&&C.suppressHydrationWarning===!0||Gg(e.nodeValue,p)),e||cr(t,!0)}else e=jl(e).createTextNode(C),e[Mt]=t,t.stateNode=e}return yt(t),null;case 31:if(p=t.memoizedState,e===null||e.memoizedState!==null){if(C=Fs(t),p!==null){if(e===null){if(!C)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[Mt]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),e=!1}else p=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if((t.flags&128)!==0)throw Error(v(558))}return yt(t),null;case 13:if(C=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I=Fs(t),C!==null&&C.dehydrated!==null){if(e===null){if(!I)throw Error(v(318));if(I=t.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(v(317));I[Mt]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),I=!1}else I=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=I),I=!0;if(!I)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),(t.flags&128)!==0?(t.lanes=p,t):(p=C!==null,e=e!==null&&e.memoizedState!==null,p&&(C=t.child,I=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(I=C.alternate.memoizedState.cachePool.pool),H=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(H=C.memoizedState.cachePool.pool),H!==I&&(C.flags|=2048)),p!==e&&p&&(t.child.flags|=8192),xl(t,t.updateQueue),yt(t),null);case 4:return te(),e===null&&uh(t.stateNode.containerInfo),yt(t),null;case 10:return Hi(t.type),yt(t),null;case 19:if(K(Rt),C=t.memoizedState,C===null)return yt(t),null;if(I=(t.flags&128)!==0,H=C.rendering,H===null)if(I)ia(C,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(H=ll(e),H!==null){for(t.flags|=128,ia(C,!1),e=H.updateQueue,t.updateQueue=e,xl(t,e),t.subtreeFlags=0,e=p,p=t.child;p!==null;)Cf(p,e),p=p.sibling;return Y(Rt,Rt.current&1|2),qe&&Ii(t,C.treeForkCount),t.child}e=e.sibling}C.tail!==null&&Ze()>Al&&(t.flags|=128,I=!0,ia(C,!1),t.lanes=4194304)}else{if(!I)if(e=ll(H),e!==null){if(t.flags|=128,I=!0,e=e.updateQueue,t.updateQueue=e,xl(t,e),ia(C,!0),C.tail===null&&C.tailMode==="hidden"&&!H.alternate&&!qe)return yt(t),null}else 2*Ze()-C.renderingStartTime>Al&&p!==536870912&&(t.flags|=128,I=!0,ia(C,!1),t.lanes=4194304);C.isBackwards?(H.sibling=t.child,t.child=H):(e=C.last,e!==null?e.sibling=H:t.child=H,C.last=H)}return C.tail!==null?(e=C.tail,C.rendering=e,C.tail=e.sibling,C.renderingStartTime=Ze(),e.sibling=null,p=Rt.current,Y(Rt,I?p&1|2:p&1),qe&&Ii(t,C.treeForkCount),e):(yt(t),null);case 22:case 23:return Tn(t),hu(),C=t.memoizedState!==null,e!==null?e.memoizedState!==null!==C&&(t.flags|=8192):C&&(t.flags|=8192),C?(p&536870912)!==0&&(t.flags&128)===0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),p=t.updateQueue,p!==null&&xl(t,p.retryQueue),p=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),C=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(C=t.memoizedState.cachePool.pool),C!==p&&(t.flags|=2048),e!==null&&K(Qr),null;case 24:return p=null,e!==null&&(p=e.memoizedState.cache),t.memoizedState.cache!==p&&(t.flags|=2048),Hi(jt),yt(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function Nb(e,t){switch(qc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(jt),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(v(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Rt),null;case 4:return te(),null;case 10:return Hi(t.type),null;case 22:case 23:return Tn(t),hu(),e!==null&&K(Qr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hi(jt),null;case 25:return null;default:return null}}function Zp(e,t){switch(qc(t),t.tag){case 3:Hi(jt),te();break;case 26:case 27:case 5:me(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:K(Rt);break;case 10:Hi(t.type);break;case 22:case 23:Tn(t),hu(),e!==null&&K(Qr);break;case 24:Hi(jt)}}function ra(e,t){try{var p=t.updateQueue,C=p!==null?p.lastEffect:null;if(C!==null){var I=C.next;p=I;do{if((p.tag&e)===e){C=void 0;var H=p.create,G=p.inst;C=H(),G.destroy=C}p=p.next}while(p!==I)}}catch(Z){ot(t,t.return,Z)}}function mr(e,t,p){try{var C=t.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var H=I.next;C=H;do{if((C.tag&e)===e){var G=C.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,I=t;var re=p,ue=Z;try{ue()}catch(fe){ot(I,re,fe)}}}C=C.next}while(C!==H)}}catch(fe){ot(t,t.return,fe)}}function Qp(e){var t=e.updateQueue;if(t!==null){var p=e.stateNode;try{Pf(t,p)}catch(C){ot(e,e.return,C)}}}function Jp(e,t,p){p.props=is(e.type,e.memoizedProps),p.state=e.memoizedState;try{p.componentWillUnmount()}catch(C){ot(e,t,C)}}function sa(e,t){try{var p=e.ref;if(p!==null){switch(e.tag){case 26:case 27:case 5:var C=e.stateNode;break;case 30:C=e.stateNode;break;default:C=e.stateNode}typeof p=="function"?e.refCleanup=p(C):p.current=C}}catch(I){ot(e,t,I)}}function Ci(e,t){var p=e.ref,C=e.refCleanup;if(p!==null)if(typeof C=="function")try{C()}catch(I){ot(e,t,I)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(I){ot(e,t,I)}else p.current=null}function eg(e){var t=e.type,p=e.memoizedProps,C=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":p.autoFocus&&C.focus();break e;case"img":p.src?C.src=p.src:p.srcSet&&(C.srcset=p.srcSet)}}catch(I){ot(e,e.return,I)}}function Wu(e,t,p){try{var C=e.stateNode;e_(C,e.type,p,t),C[Ut]=t}catch(I){ot(e,e.return,I)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sr(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,p){var C=e.tag;if(C===5||C===6)e=e.stateNode,t?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(e,t):(t=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,t.appendChild(e),p=p._reactRootContainer,p!=null||t.onclick!==null||(t.onclick=ai));else if(C!==4&&(C===27&&Sr(e.type)&&(p=e.stateNode,t=null),e=e.child,e!==null))for(Vu(e,t,p),e=e.sibling;e!==null;)Vu(e,t,p),e=e.sibling}function wl(e,t,p){var C=e.tag;if(C===5||C===6)e=e.stateNode,t?p.insertBefore(e,t):p.appendChild(e);else if(C!==4&&(C===27&&Sr(e.type)&&(p=e.stateNode),e=e.child,e!==null))for(wl(e,t,p),e=e.sibling;e!==null;)wl(e,t,p),e=e.sibling}function ng(e){var t=e.stateNode,p=e.memoizedProps;try{for(var C=e.type,I=t.attributes;I.length;)t.removeAttributeNode(I[0]);nn(t,C,p),t[Mt]=e,t[Ut]=p}catch(H){ot(e,e.return,H)}}var Ui=!1,Ht=!1,Gu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function $b(e,t){if(e=e.containerInfo,fh=Wl,e=gf(e),Hc(e)){if("selectionStart"in e)var p={start:e.selectionStart,end:e.selectionEnd};else e:{p=(p=e.ownerDocument)&&p.defaultView||window;var C=p.getSelection&&p.getSelection();if(C&&C.rangeCount!==0){p=C.anchorNode;var I=C.anchorOffset,H=C.focusNode;C=C.focusOffset;try{p.nodeType,H.nodeType}catch{p=null;break e}var G=0,Z=-1,re=-1,ue=0,fe=0,ve=e,he=null;t:for(;;){for(var de;ve!==p||I!==0&&ve.nodeType!==3||(Z=G+I),ve!==H||C!==0&&ve.nodeType!==3||(re=G+C),ve.nodeType===3&&(G+=ve.nodeValue.length),(de=ve.firstChild)!==null;)he=ve,ve=de;for(;;){if(ve===e)break t;if(he===p&&++ue===I&&(Z=G),he===H&&++fe===C&&(re=G),(de=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=de}p=Z===-1||re===-1?null:{start:Z,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(ph={focusedElem:e,selectionRange:p},Wl=!1,Xt=t;Xt!==null;)if(t=Xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xt=e;else for(;Xt!==null;){switch(t=Xt,H=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(p=0;p<e.length;p++)I=e[p],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&H!==null){e=void 0,p=t,I=H.memoizedProps,H=H.memoizedState,C=p.stateNode;try{var Ee=is(p.type,I);e=C.getSnapshotBeforeUpdate(Ee,H),C.__reactInternalSnapshotBeforeUpdate=e}catch($e){ot(p,p.return,$e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,p=e.nodeType,p===9)vh(e);else if(p===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,Xt=e;break}Xt=t.return}}function rg(e,t,p){var C=p.flags;switch(p.tag){case 0:case 11:case 15:Gi(e,p),C&4&&ra(5,p);break;case 1:if(Gi(e,p),C&4)if(e=p.stateNode,t===null)try{e.componentDidMount()}catch(G){ot(p,p.return,G)}else{var I=is(p.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(I,t,e.__reactInternalSnapshotBeforeUpdate)}catch(G){ot(p,p.return,G)}}C&64&&Qp(p),C&512&&sa(p,p.return);break;case 3:if(Gi(e,p),C&64&&(e=p.updateQueue,e!==null)){if(t=null,p.child!==null)switch(p.child.tag){case 27:case 5:t=p.child.stateNode;break;case 1:t=p.child.stateNode}try{Pf(e,t)}catch(G){ot(p,p.return,G)}}break;case 27:t===null&&C&4&&ng(p);case 26:case 5:Gi(e,p),t===null&&C&4&&eg(p),C&512&&sa(p,p.return);break;case 12:Gi(e,p);break;case 31:Gi(e,p),C&4&&ag(e,p);break;case 13:Gi(e,p),C&4&&lg(e,p),C&64&&(e=p.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(p=Pb.bind(null,p),l_(e,p))));break;case 22:if(C=p.memoizedState!==null||Ui,!C){t=t!==null&&t.memoizedState!==null||Ht,I=Ui;var H=Ht;Ui=C,(Ht=t)&&!H?Ki(e,p,(p.subtreeFlags&8772)!==0):Gi(e,p),Ui=I,Ht=H}break;case 30:break;default:Gi(e,p)}}function sg(e){var t=e.alternate;t!==null&&(e.alternate=null,sg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,mn=!1;function Vi(e,t,p){for(p=p.child;p!==null;)og(e,t,p),p=p.sibling}function og(e,t,p){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Tt,p)}catch{}switch(p.tag){case 26:Ht||Ci(p,t),Vi(e,t,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ht||Ci(p,t);var C=bt,I=mn;Sr(p.type)&&(bt=p.stateNode,mn=!1),Vi(e,t,p),pa(p.stateNode),bt=C,mn=I;break;case 5:Ht||Ci(p,t);case 6:if(C=bt,I=mn,bt=null,Vi(e,t,p),bt=C,mn=I,bt!==null)if(mn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(p.stateNode)}catch(H){ot(p,t,H)}else try{bt.removeChild(p.stateNode)}catch(H){ot(p,t,H)}break;case 18:bt!==null&&(mn?(e=bt,Qg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,p.stateNode),lo(e)):Qg(bt,p.stateNode));break;case 4:C=bt,I=mn,bt=p.stateNode.containerInfo,mn=!0,Vi(e,t,p),bt=C,mn=I;break;case 0:case 11:case 14:case 15:mr(2,p,t),Ht||mr(4,p,t),Vi(e,t,p);break;case 1:Ht||(Ci(p,t),C=p.stateNode,typeof C.componentWillUnmount=="function"&&Jp(p,t,C)),Vi(e,t,p);break;case 21:Vi(e,t,p);break;case 22:Ht=(C=Ht)||p.memoizedState!==null,Vi(e,t,p),Ht=C;break;default:Vi(e,t,p)}}function ag(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(p){ot(t,t.return,p)}}}function lg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(p){ot(t,t.return,p)}}function Db(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(v(435,e.tag))}}function Sl(e,t){var p=Db(e);t.forEach(function(C){if(!p.has(C)){p.add(C);var I=Wb.bind(null,e,C);C.then(I,I)}})}function vn(e,t){var p=t.deletions;if(p!==null)for(var C=0;C<p.length;C++){var I=p[C],H=e,G=t,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(Sr(Z.type)){bt=Z.stateNode,mn=!1;break e}break;case 5:bt=Z.stateNode,mn=!1;break e;case 3:case 4:bt=Z.stateNode.containerInfo,mn=!0;break e}Z=Z.return}if(bt===null)throw Error(v(160));og(H,G,I),bt=null,mn=!1,H=I.alternate,H!==null&&(H.return=null),I.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cg(t,e),t=t.sibling}var fi=null;function cg(e,t){var p=e.alternate,C=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(t,e),yn(e),C&4&&(mr(3,e,e.return),ra(3,e),mr(5,e,e.return));break;case 1:vn(t,e),yn(e),C&512&&(Ht||p===null||Ci(p,p.return)),C&64&&Ui&&(e=e.updateQueue,e!==null&&(C=e.callbacks,C!==null&&(p=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=p===null?C:p.concat(C))));break;case 26:var I=fi;if(vn(t,e),yn(e),C&512&&(Ht||p===null||Ci(p,p.return)),C&4){var H=p!==null?p.memoizedState:null;if(C=e.memoizedState,p===null)if(C===null)if(e.stateNode===null){e:{C=e.type,p=e.memoizedProps,I=I.ownerDocument||I;t:switch(C){case"title":H=I.getElementsByTagName("title")[0],(!H||H[Ni]||H[Mt]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=I.createElement(C),I.head.insertBefore(H,I.querySelector("head > title"))),nn(H,C,p),H[Mt]=e,St(H),C=H;break e;case"link":var G=cm("link","href",I).get(C+(p.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&H.getAttribute("rel")===(p.rel==null?null:p.rel)&&H.getAttribute("title")===(p.title==null?null:p.title)&&H.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(Z,1);break t}}H=I.createElement(C),nn(H,C,p),I.head.appendChild(H);break;case"meta":if(G=cm("meta","content",I).get(C+(p.content||""))){for(Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("content")===(p.content==null?null:""+p.content)&&H.getAttribute("name")===(p.name==null?null:p.name)&&H.getAttribute("property")===(p.property==null?null:p.property)&&H.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&H.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(Z,1);break t}}H=I.createElement(C),nn(H,C,p),I.head.appendChild(H);break;default:throw Error(v(468,C))}H[Mt]=e,St(H),C=H}e.stateNode=C}else um(I,e.type,e.stateNode);else e.stateNode=lm(I,C,e.memoizedProps);else H!==C?(H===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):H.count--,C===null?um(I,e.type,e.stateNode):lm(I,C,e.memoizedProps)):C===null&&e.stateNode!==null&&Wu(e,e.memoizedProps,p.memoizedProps)}break;case 27:vn(t,e),yn(e),C&512&&(Ht||p===null||Ci(p,p.return)),p!==null&&C&4&&Wu(e,e.memoizedProps,p.memoizedProps);break;case 5:if(vn(t,e),yn(e),C&512&&(Ht||p===null||Ci(p,p.return)),e.flags&32){I=e.stateNode;try{Sn(I,"")}catch(Ee){ot(e,e.return,Ee)}}C&4&&e.stateNode!=null&&(I=e.memoizedProps,Wu(e,I,p!==null?p.memoizedProps:I)),C&1024&&(Gu=!0);break;case 6:if(vn(t,e),yn(e),C&4){if(e.stateNode===null)throw Error(v(162));C=e.memoizedProps,p=e.stateNode;try{p.nodeValue=C}catch(Ee){ot(e,e.return,Ee)}}break;case 3:if(Hl=null,I=fi,fi=Il(t.containerInfo),vn(t,e),fi=I,yn(e),C&4&&p!==null&&p.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(Ee){ot(e,e.return,Ee)}Gu&&(Gu=!1,ug(e));break;case 4:C=fi,fi=Il(e.stateNode.containerInfo),vn(t,e),yn(e),fi=C;break;case 12:vn(t,e),yn(e);break;case 31:vn(t,e),yn(e),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,Sl(e,C)));break;case 13:vn(t,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(El=Ze()),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,Sl(e,C)));break;case 22:I=e.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,ue=Ui,fe=Ht;if(Ui=ue||I,Ht=fe||re,vn(t,e),Ht=fe,Ui=ue,yn(e),C&8192)e:for(t=e.stateNode,t._visibility=I?t._visibility&-2:t._visibility|1,I&&(p===null||re||Ui||Ht||rs(e)),p=null,t=e;;){if(t.tag===5||t.tag===26){if(p===null){re=p=t;try{if(H=re.stateNode,I)G=H.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=re.stateNode;var ve=re.memoizedProps.style,he=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;Z.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===6){if(p===null){re=t;try{re.stateNode.nodeValue=I?"":re.memoizedProps}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===18){if(p===null){re=t;try{var de=re.stateNode;I?Jg(de,!0):Jg(re.stateNode,!1)}catch(Ee){ot(re,re.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;p===t&&(p=null),t=t.return}p===t&&(p=null),t.sibling.return=t.return,t=t.sibling}C&4&&(C=e.updateQueue,C!==null&&(p=C.retryQueue,p!==null&&(C.retryQueue=null,Sl(e,p))));break;case 19:vn(t,e),yn(e),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,Sl(e,C)));break;case 30:break;case 21:break;default:vn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{for(var p,C=e.return;C!==null;){if(tg(C)){p=C;break}C=C.return}if(p==null)throw Error(v(160));switch(p.tag){case 27:var I=p.stateNode,H=Uu(e);wl(e,H,I);break;case 5:var G=p.stateNode;p.flags&32&&(Sn(G,""),p.flags&=-33);var Z=Uu(e);wl(e,Z,G);break;case 3:case 4:var re=p.stateNode.containerInfo,ue=Uu(e);Vu(e,ue,re);break;default:throw Error(v(161))}}catch(fe){ot(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ug(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rg(e,t.alternate,t),t=t.sibling}function rs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mr(4,t,t.return),rs(t);break;case 1:Ci(t,t.return);var p=t.stateNode;typeof p.componentWillUnmount=="function"&&Jp(t,t.return,p),rs(t);break;case 27:pa(t.stateNode);case 26:case 5:Ci(t,t.return),rs(t);break;case 22:t.memoizedState===null&&rs(t);break;case 30:rs(t);break;default:rs(t)}e=e.sibling}}function Ki(e,t,p){for(p=p&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var C=t.alternate,I=e,H=t,G=H.flags;switch(H.tag){case 0:case 11:case 15:Ki(I,H,p),ra(4,H);break;case 1:if(Ki(I,H,p),C=H,I=C.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ue){ot(C,C.return,ue)}if(C=H,I=C.updateQueue,I!==null){var Z=C.stateNode;try{var re=I.shared.hiddenCallbacks;if(re!==null)for(I.shared.hiddenCallbacks=null,I=0;I<re.length;I++)Ff(re[I],Z)}catch(ue){ot(C,C.return,ue)}}p&&G&64&&Qp(H),sa(H,H.return);break;case 27:ng(H);case 26:case 5:Ki(I,H,p),p&&C===null&&G&4&&eg(H),sa(H,H.return);break;case 12:Ki(I,H,p);break;case 31:Ki(I,H,p),p&&G&4&&ag(I,H);break;case 13:Ki(I,H,p),p&&G&4&&lg(I,H);break;case 22:H.memoizedState===null&&Ki(I,H,p),sa(H,H.return);break;case 30:break;default:Ki(I,H,p)}t=t.sibling}}function Ku(e,t){var p=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==p&&(e!=null&&e.refCount++,p!=null&&Vo(p))}function Yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vo(e))}function pi(e,t,p,C){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(e,t,p,C),t=t.sibling}function hg(e,t,p,C){var I=t.flags;switch(t.tag){case 0:case 11:case 15:pi(e,t,p,C),I&2048&&ra(9,t);break;case 1:pi(e,t,p,C);break;case 3:pi(e,t,p,C),I&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vo(e)));break;case 12:if(I&2048){pi(e,t,p,C),e=t.stateNode;try{var H=t.memoizedProps,G=H.id,Z=H.onPostCommit;typeof Z=="function"&&Z(G,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(re){ot(t,t.return,re)}}else pi(e,t,p,C);break;case 31:pi(e,t,p,C);break;case 13:pi(e,t,p,C);break;case 23:break;case 22:H=t.stateNode,G=t.alternate,t.memoizedState!==null?H._visibility&2?pi(e,t,p,C):oa(e,t):H._visibility&2?pi(e,t,p,C):(H._visibility|=2,Zs(e,t,p,C,(t.subtreeFlags&10256)!==0||!1)),I&2048&&Ku(G,t);break;case 24:pi(e,t,p,C),I&2048&&Yu(t.alternate,t);break;default:pi(e,t,p,C)}}function Zs(e,t,p,C,I){for(I=I&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var H=e,G=t,Z=p,re=C,ue=G.flags;switch(G.tag){case 0:case 11:case 15:Zs(H,G,Z,re,I),ra(8,G);break;case 23:break;case 22:var fe=G.stateNode;G.memoizedState!==null?fe._visibility&2?Zs(H,G,Z,re,I):oa(H,G):(fe._visibility|=2,Zs(H,G,Z,re,I)),I&&ue&2048&&Ku(G.alternate,G);break;case 24:Zs(H,G,Z,re,I),I&&ue&2048&&Yu(G.alternate,G);break;default:Zs(H,G,Z,re,I)}t=t.sibling}}function oa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var p=e,C=t,I=C.flags;switch(C.tag){case 22:oa(p,C),I&2048&&Ku(C.alternate,C);break;case 24:oa(p,C),I&2048&&Yu(C.alternate,C);break;default:oa(p,C)}t=t.sibling}}var aa=8192;function Qs(e,t,p){if(e.subtreeFlags&aa)for(e=e.child;e!==null;)dg(e,t,p),e=e.sibling}function dg(e,t,p){switch(e.tag){case 26:Qs(e,t,p),e.flags&aa&&e.memoizedState!==null&&__(p,fi,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,t,p);break;case 3:case 4:var C=fi;fi=Il(e.stateNode.containerInfo),Qs(e,t,p),fi=C;break;case 22:e.memoizedState===null&&(C=e.alternate,C!==null&&C.memoizedState!==null?(C=aa,aa=16777216,Qs(e,t,p),aa=C):Qs(e,t,p));break;default:Qs(e,t,p)}}function fg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function la(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var C=t[p];Xt=C,gg(C,e)}fg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pg(e),e=e.sibling}function pg(e){switch(e.tag){case 0:case 11:case 15:la(e),e.flags&2048&&mr(9,e,e.return);break;case 3:la(e);break;case 12:la(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cl(e)):la(e);break;default:la(e)}}function Cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var C=t[p];Xt=C,gg(C,e)}fg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mr(8,t,t.return),Cl(t);break;case 22:p=t.stateNode,p._visibility&2&&(p._visibility&=-3,Cl(t));break;default:Cl(t)}e=e.sibling}}function gg(e,t){for(;Xt!==null;){var p=Xt;switch(p.tag){case 0:case 11:case 15:mr(8,p,t);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var C=p.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Vo(p.memoizedState.cache)}if(C=p.child,C!==null)C.return=p,Xt=C;else e:for(p=e;Xt!==null;){C=Xt;var I=C.sibling,H=C.return;if(sg(C),C===p){Xt=null;break e}if(I!==null){I.return=H,Xt=I;break e}Xt=H}}}var Ob={getCacheForType:function(e){var t=en(jt),p=t.data.get(e);return p===void 0&&(p=e(),t.data.set(e,p)),p},cacheSignal:function(){return en(jt).controller.signal}},jb=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Ve=null,Ke=0,st=0,Mn=null,vr=!1,Js=!1,Xu=!1,Yi=0,Et=0,yr=0,ss=0,qu=0,Ln=0,eo=0,ca=null,bn=null,Zu=!1,El=0,mg=0,Al=1/0,kl=null,br=null,Kt=0,_r=null,to=null,Xi=0,Qu=0,Ju=null,vg=null,ua=0,eh=null;function Rn(){return(tt&2)!==0&&Ke!==0?Ke&-Ke:O.T!==null?oh():In()}function yg(){if(Ln===0)if((Ke&536870912)===0||qe){var e=on;on<<=1,(on&3932160)===0&&(on=262144),Ln=e}else Ln=536870912;return e=kn.current,e!==null&&(e.flags|=32),Ln}function _n(e,t,p){(e===ft&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(no(e,0),xr(e,Ke,Ln,!1)),Li(e,p),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(ss|=p),Et===4&&xr(e,Ke,Ln,!1)),Ei(e))}function bg(e,t,p){if((tt&6)!==0)throw Error(v(327));var C=!p&&(t&127)===0&&(t&e.expiredLanes)===0||ei(e,t),I=C?Hb(e,t):nh(e,t,!0),H=C;do{if(I===0){Js&&!C&&xr(e,t,0,!1);break}else{if(p=e.current.alternate,H&&!Ib(p)){I=nh(e,t,!1),H=!1;continue}if(I===2){if(H=t,e.errorRecoveryDisabledLanes&H)var G=0;else G=e.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){t=G;e:{var Z=e;I=ca;var re=Z.current.memoizedState.isDehydrated;if(re&&(no(Z,G).flags|=256),G=nh(Z,G,!1),G!==2){if(Xu&&!re){Z.errorRecoveryDisabledLanes|=H,ss|=H,I=4;break e}H=bn,bn=I,H!==null&&(bn===null?bn=H:bn.push.apply(bn,H))}I=G}if(H=!1,I!==2)continue}}if(I===1){no(e,0),xr(e,t,0,!0);break}e:{switch(C=e,H=I,H){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:xr(C,t,Ln,!vr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(I=El+300-Ze(),10<I)){if(xr(C,t,Ln,!vr),jn(C,0,!0)!==0)break e;Xi=t,C.timeoutHandle=qg(_g.bind(null,C,p,bn,kl,Zu,t,Ln,ss,eo,vr,H,"Throttled",-0,0),I);break e}_g(C,p,bn,kl,Zu,t,Ln,ss,eo,vr,H,null,-0,0)}}break}while(!0);Ei(e)}function _g(e,t,p,C,I,H,G,Z,re,ue,fe,ve,he,de){if(e.timeoutHandle=-1,ve=t.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},dg(t,H,ve);var Ee=(H&62914560)===H?El-Ze():(H&4194048)===H?mg-Ze():0;if(Ee=x_(ve,Ee),Ee!==null){Xi=H,e.cancelPendingCommit=Ee(Tg.bind(null,e,t,H,p,C,I,G,Z,re,fe,ve,null,he,de)),xr(e,H,G,!ue);return}}Tg(e,t,H,p,C,I,G,Z,re)}function Ib(e){for(var t=e;;){var p=t.tag;if((p===0||p===11||p===15)&&t.flags&16384&&(p=t.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var C=0;C<p.length;C++){var I=p[C],H=I.getSnapshot;I=I.value;try{if(!En(H(),I))return!1}catch{return!1}}if(p=t.child,t.subtreeFlags&16384&&p!==null)p.return=t,t=p;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t,p,C){t&=~qu,t&=~ss,e.suspendedLanes|=t,e.pingedLanes&=~t,C&&(e.warmLanes|=t),C=e.expirationTimes;for(var I=t;0<I;){var H=31-le(I),G=1<<H;C[H]=-1,I&=~G}p!==0&&ms(e,p,t)}function Tl(){return(tt&6)===0?(ha(0),!1):!0}function th(){if(Ve!==null){if(st===0)var e=Ve.return;else e=Ve,Bi=qr=null,vu(e),Gs=null,Ko=0,e=Ve;for(;e!==null;)Zp(e.alternate,e),e=e.return;Ve=null}}function no(e,t){var p=e.timeoutHandle;p!==-1&&(e.timeoutHandle=-1,i_(p)),p=e.cancelPendingCommit,p!==null&&(e.cancelPendingCommit=null,p()),Xi=0,th(),ft=e,Ve=p=ji(e.current,null),Ke=t,st=0,Mn=null,vr=!1,Js=ei(e,t),Xu=!1,eo=Ln=qu=ss=yr=Et=0,bn=ca=null,Zu=!1,(t&8)!==0&&(t|=t&32);var C=e.entangledLanes;if(C!==0)for(e=e.entanglements,C&=t;0<C;){var I=31-le(C),H=1<<I;t|=e[I],C&=~H}return Yi=t,Xa(),p}function xg(e,t){Be=null,O.H=ta,t===Vs||t===il?(t=If(),st=3):t===su?(t=If(),st=4):st=t===$u?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,Ve===null&&(Et=1,vl(e,Pn(t,e.current)))}function wg(){var e=kn.current;return e===null?!0:(Ke&4194048)===Ke?Gn===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===Gn:!1}function Sg(){var e=O.H;return O.H=ta,e===null?ta:e}function Cg(){var e=O.A;return O.A=Ob,e}function Ml(){Et=4,vr||(Ke&4194048)!==Ke&&kn.current!==null||(Js=!0),(yr&134217727)===0&&(ss&134217727)===0||ft===null||xr(ft,Ke,Ln,!1)}function nh(e,t,p){var C=tt;tt|=2;var I=Sg(),H=Cg();(ft!==e||Ke!==t)&&(kl=null,no(e,t)),t=!1;var G=Et;e:do try{if(st!==0&&Ve!==null){var Z=Ve,re=Mn;switch(st){case 8:th(),G=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(t=!0);var ue=st;if(st=0,Mn=null,io(e,Z,re,ue),p&&Js){G=0;break e}break;default:ue=st,st=0,Mn=null,io(e,Z,re,ue)}}Bb(),G=Et;break}catch(fe){xg(e,fe)}while(!0);return t&&e.shellSuspendCounter++,Bi=qr=null,tt=C,O.H=I,O.A=H,Ve===null&&(ft=null,Ke=0,Xa()),G}function Bb(){for(;Ve!==null;)Eg(Ve)}function Hb(e,t){var p=tt;tt|=2;var C=Sg(),I=Cg();ft!==e||Ke!==t?(kl=null,Al=Ze()+500,no(e,t)):Js=ei(e,t);e:do try{if(st!==0&&Ve!==null){t=Ve;var H=Mn;t:switch(st){case 1:st=0,Mn=null,io(e,t,H,1);break;case 2:case 9:if(Of(H)){st=0,Mn=null,Ag(t);break}t=function(){st!==2&&st!==9||ft!==e||(st=7),Ei(e)},H.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Of(H)?(st=0,Mn=null,Ag(t)):(st=0,Mn=null,io(e,t,H,7));break;case 5:var G=null;switch(Ve.tag){case 26:G=Ve.memoizedState;case 5:case 27:var Z=Ve;if(G?hm(G):Z.stateNode.complete){st=0,Mn=null;var re=Z.sibling;if(re!==null)Ve=re;else{var ue=Z.return;ue!==null?(Ve=ue,Ll(ue)):Ve=null}break t}}st=0,Mn=null,io(e,t,H,5);break;case 6:st=0,Mn=null,io(e,t,H,6);break;case 8:th(),Et=6;break e;default:throw Error(v(462))}}zb();break}catch(fe){xg(e,fe)}while(!0);return Bi=qr=null,O.H=C,O.A=I,tt=p,Ve!==null?0:(ft=null,Ke=0,Xa(),Et)}function zb(){for(;Ve!==null&&!Zt();)Eg(Ve)}function Eg(e){var t=Xp(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,t===null?Ll(e):Ve=t}function Ag(e){var t=e,p=t.alternate;switch(t.tag){case 15:case 0:t=Wp(p,t,t.pendingProps,t.type,void 0,Ke);break;case 11:t=Wp(p,t,t.pendingProps,t.type.render,t.ref,Ke);break;case 5:vu(t);default:Zp(p,t),t=Ve=Cf(t,Yi),t=Xp(p,t,Yi)}e.memoizedProps=e.pendingProps,t===null?Ll(e):Ve=t}function io(e,t,p,C){Bi=qr=null,vu(t),Gs=null,Ko=0;var I=t.return;try{if(Tb(e,I,t,p,Ke)){Et=1,vl(e,Pn(p,e.current)),Ve=null;return}}catch(H){if(I!==null)throw Ve=I,H;Et=1,vl(e,Pn(p,e.current)),Ve=null;return}t.flags&32768?(qe||C===1?e=!0:Js||(Ke&536870912)!==0?e=!1:(vr=e=!0,(C===2||C===9||C===3||C===6)&&(C=kn.current,C!==null&&C.tag===13&&(C.flags|=16384))),kg(t,e)):Ll(t)}function Ll(e){var t=e;do{if((t.flags&32768)!==0){kg(t,vr);return}e=t.return;var p=Rb(t.alternate,t,Yi);if(p!==null){Ve=p;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Et===0&&(Et=5)}function kg(e,t){do{var p=Nb(e.alternate,e);if(p!==null){p.flags&=32767,Ve=p;return}if(p=e.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=p}while(e!==null);Et=6,Ve=null}function Tg(e,t,p,C,I,H,G,Z,re){e.cancelPendingCommit=null;do Rl();while(Kt!==0);if((tt&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(H=t.lanes|t.childLanes,H|=Uc,To(e,p,H,G,Z,re),e===ft&&(Ve=ft=null,Ke=0),to=t,_r=e,Xi=p,Qu=H,Ju=I,vg=C,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ub(pt,function(){return $g(),null})):(e.callbackNode=null,e.callbackPriority=0),C=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||C){C=O.T,O.T=null,I=z.p,z.p=2,G=tt,tt|=4;try{$b(e,t,p)}finally{tt=G,z.p=I,O.T=C}}Kt=1,Mg(),Lg(),Rg()}}function Mg(){if(Kt===1){Kt=0;var e=_r,t=to,p=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||p){p=O.T,O.T=null;var C=z.p;z.p=2;var I=tt;tt|=4;try{cg(t,e);var H=ph,G=gf(e.containerInfo),Z=H.focusedElem,re=H.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&pf(Z.ownerDocument.documentElement,Z)){if(re!==null&&Hc(Z)){var ue=re.start,fe=re.end;if(fe===void 0&&(fe=ue),"selectionStart"in Z)Z.selectionStart=ue,Z.selectionEnd=Math.min(fe,Z.value.length);else{var ve=Z.ownerDocument||document,he=ve&&ve.defaultView||window;if(he.getSelection){var de=he.getSelection(),Ee=Z.textContent.length,$e=Math.min(re.start,Ee),ht=re.end===void 0?$e:Math.min(re.end,Ee);!de.extend&&$e>ht&&(G=ht,ht=$e,$e=G);var ae=ff(Z,$e),se=ff(Z,ht);if(ae&&se&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==se.node||de.focusOffset!==se.offset)){var ce=ve.createRange();ce.setStart(ae.node,ae.offset),de.removeAllRanges(),$e>ht?(de.addRange(ce),de.extend(se.node,se.offset)):(ce.setEnd(se.node,se.offset),de.addRange(ce))}}}}for(ve=[],de=Z;de=de.parentNode;)de.nodeType===1&&ve.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<ve.length;Z++){var ge=ve[Z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Wl=!!fh,ph=fh=null}finally{tt=I,z.p=C,O.T=p}}e.current=t,Kt=2}}function Lg(){if(Kt===2){Kt=0;var e=_r,t=to,p=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||p){p=O.T,O.T=null;var C=z.p;z.p=2;var I=tt;tt|=4;try{rg(e,t.alternate,t)}finally{tt=I,z.p=C,O.T=p}}Kt=3}}function Rg(){if(Kt===4||Kt===3){Kt=0,mt();var e=_r,t=to,p=Xi,C=vg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Kt=5:(Kt=0,to=_r=null,Ng(e,e.pendingLanes));var I=e.pendingLanes;if(I===0&&(br=null),Ri(p),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Tt,t,void 0,(t.current.flags&128)===128)}catch{}if(C!==null){t=O.T,I=z.p,z.p=2,O.T=null;try{for(var H=e.onRecoverableError,G=0;G<C.length;G++){var Z=C[G];H(Z.value,{componentStack:Z.stack})}}finally{O.T=t,z.p=I}}(Xi&3)!==0&&Rl(),Ei(e),I=e.pendingLanes,(p&261930)!==0&&(I&42)!==0?e===eh?ua++:(ua=0,eh=e):ua=0,ha(0)}}function Ng(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vo(t)))}function Rl(){return Mg(),Lg(),Rg(),$g()}function $g(){if(Kt!==5)return!1;var e=_r,t=Qu;Qu=0;var p=Ri(Xi),C=O.T,I=z.p;try{z.p=32>p?32:p,O.T=null,p=Ju,Ju=null;var H=_r,G=Xi;if(Kt=0,to=_r=null,Xi=0,(tt&6)!==0)throw Error(v(331));var Z=tt;if(tt|=4,pg(H.current),hg(H,H.current,G,p),tt=Z,ha(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Tt,H)}catch{}return!0}finally{z.p=I,O.T=C,Ng(e,t)}}function Dg(e,t,p){t=Pn(p,t),t=Nu(e.stateNode,t,2),e=fr(e,t,2),e!==null&&(Li(e,2),Ei(e))}function ot(e,t,p){if(e.tag===3)Dg(e,e,p);else for(;t!==null;){if(t.tag===3){Dg(t,e,p);break}else if(t.tag===1){var C=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(br===null||!br.has(C))){e=Pn(p,e),p=Op(2),C=fr(t,p,2),C!==null&&(jp(p,C,t,e),Li(C,2),Ei(C));break}}t=t.return}}function ih(e,t,p){var C=e.pingCache;if(C===null){C=e.pingCache=new jb;var I=new Set;C.set(t,I)}else I=C.get(t),I===void 0&&(I=new Set,C.set(t,I));I.has(p)||(Xu=!0,I.add(p),e=Fb.bind(null,e,t,p),t.then(e,e))}function Fb(e,t,p){var C=e.pingCache;C!==null&&C.delete(t),e.pingedLanes|=e.suspendedLanes&p,e.warmLanes&=~p,ft===e&&(Ke&p)===p&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Ze()-El?(tt&2)===0&&no(e,0):qu|=p,eo===Ke&&(eo=0)),Ei(e)}function Og(e,t){t===0&&(t=nr()),e=Kr(e,t),e!==null&&(Li(e,t),Ei(e))}function Pb(e){var t=e.memoizedState,p=0;t!==null&&(p=t.retryLane),Og(e,p)}function Wb(e,t){var p=0;switch(e.tag){case 31:case 13:var C=e.stateNode,I=e.memoizedState;I!==null&&(p=I.retryLane);break;case 19:C=e.stateNode;break;case 22:C=e.stateNode._retryCache;break;default:throw Error(v(314))}C!==null&&C.delete(t),Og(e,p)}function Ub(e,t){return $t(e,t)}var Nl=null,ro=null,rh=!1,$l=!1,sh=!1,wr=0;function Ei(e){e!==ro&&e.next===null&&(ro===null?Nl=ro=e:ro=ro.next=e),$l=!0,rh||(rh=!0,Gb())}function ha(e,t){if(!sh&&$l){sh=!0;do for(var p=!1,C=Nl;C!==null;){if(e!==0){var I=C.pendingLanes;if(I===0)var H=0;else{var G=C.suspendedLanes,Z=C.pingedLanes;H=(1<<31-le(42|e)+1)-1,H&=I&~(G&~Z),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(p=!0,Hg(C,H))}else H=Ke,H=jn(C,C===ft?H:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(H&3)===0||ei(C,H)||(p=!0,Hg(C,H));C=C.next}while(p);sh=!1}}function Vb(){jg()}function jg(){$l=rh=!1;var e=0;wr!==0&&n_()&&(e=wr);for(var t=Ze(),p=null,C=Nl;C!==null;){var I=C.next,H=Ig(C,t);H===0?(C.next=null,p===null?Nl=I:p.next=I,I===null&&(ro=p)):(p=C,(e!==0||(H&3)!==0)&&($l=!0)),C=I}Kt!==0&&Kt!==5||ha(e),wr!==0&&(wr=0)}function Ig(e,t){for(var p=e.suspendedLanes,C=e.pingedLanes,I=e.expirationTimes,H=e.pendingLanes&-62914561;0<H;){var G=31-le(H),Z=1<<G,re=I[G];re===-1?((Z&p)===0||(Z&C)!==0)&&(I[G]=Hr(Z,t)):re<=t&&(e.expiredLanes|=Z),H&=~Z}if(t=ft,p=Ke,p=jn(e,e===t?p:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),C=e.callbackNode,p===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return C!==null&&C!==null&&qt(C),e.callbackNode=null,e.callbackPriority=0;if((p&3)===0||ei(e,p)){if(t=p&-p,t===e.callbackPriority)return t;switch(C!==null&&qt(C),Ri(p)){case 2:case 8:p=xt;break;case 32:p=pt;break;case 268435456:p=it;break;default:p=pt}return C=Bg.bind(null,e),p=$t(p,C),e.callbackPriority=t,e.callbackNode=p,t}return C!==null&&C!==null&&qt(C),e.callbackPriority=2,e.callbackNode=null,2}function Bg(e,t){if(Kt!==0&&Kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var p=e.callbackNode;if(Rl()&&e.callbackNode!==p)return null;var C=Ke;return C=jn(e,e===ft?C:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),C===0?null:(bg(e,C,t),Ig(e,Ze()),e.callbackNode!=null&&e.callbackNode===p?Bg.bind(null,e):null)}function Hg(e,t){if(Rl())return null;bg(e,t,!0)}function Gb(){r_(function(){(tt&6)!==0?$t(Dt,Vb):jg()})}function oh(){if(wr===0){var e=Ws;e===0&&(e=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),wr=e}return wr}function zg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function Fg(e,t){var p=t.ownerDocument.createElement("input");return p.name=t.name,p.value=t.value,e.id&&p.setAttribute("form",e.id),t.parentNode.insertBefore(p,t),e=new FormData(e),p.parentNode.removeChild(p),e}function Kb(e,t,p,C,I){if(t==="submit"&&p&&p.stateNode===I){var H=zg((I[Ut]||null).action),G=C.submitter;G&&(t=(t=G[Ut]||null)?zg(t.formAction):G.getAttribute("formAction"),t!==null&&(H=t,G=null));var Z=new je("action","action",null,C,I);e.push({event:Z,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(wr!==0){var re=G?Fg(I,G):new FormData(I);Au(p,{pending:!0,data:re,method:I.method,action:H},null,re)}}else typeof H=="function"&&(Z.preventDefault(),re=G?Fg(I,G):new FormData(I),Au(p,{pending:!0,data:re,method:I.method,action:H},H,re))},currentTarget:I}]})}}for(var ah=0;ah<Wc.length;ah++){var lh=Wc[ah],Yb=lh.toLowerCase(),Xb=lh[0].toUpperCase()+lh.slice(1);di(Yb,"on"+Xb)}di(yf,"onAnimationEnd"),di(bf,"onAnimationIteration"),di(_f,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(hb,"onTransitionRun"),di(db,"onTransitionStart"),di(fb,"onTransitionCancel"),di(xf,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(da));function Pg(e,t){t=(t&4)!==0;for(var p=0;p<e.length;p++){var C=e[p],I=C.event;C=C.listeners;e:{var H=void 0;if(t)for(var G=C.length-1;0<=G;G--){var Z=C[G],re=Z.instance,ue=Z.currentTarget;if(Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ya(fe)}I.currentTarget=null,H=re}else for(G=0;G<C.length;G++){if(Z=C[G],re=Z.instance,ue=Z.currentTarget,Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ya(fe)}I.currentTarget=null,H=re}}}}function Ge(e,t){var p=t[hn];p===void 0&&(p=t[hn]=new Set);var C=e+"__bubble";p.has(C)||(Wg(t,e,2,!1),p.add(C))}function ch(e,t,p){var C=0;t&&(C|=4),Wg(p,e,C,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function uh(e){if(!e[Dl]){e[Dl]=!0,xs.forEach(function(p){p!=="selectionchange"&&(qb.has(p)||ch(p,!1,e),ch(p,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,ch("selectionchange",!1,t))}}function Wg(e,t,p,C){switch(ym(t)){case 2:var I=C_;break;case 8:I=E_;break;default:I=Eh}p=I.bind(null,t,p,e),I=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(I=!0),C?I!==void 0?e.addEventListener(t,p,{capture:!0,passive:I}):e.addEventListener(t,p,!0):I!==void 0?e.addEventListener(t,p,{passive:I}):e.addEventListener(t,p,!1)}function hh(e,t,p,C,I){var H=C;if((t&1)===0&&(t&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var Z=C.stateNode.containerInfo;if(Z===I)break;if(G===4)for(G=C.return;G!==null;){var re=G.tag;if((re===3||re===4)&&G.stateNode.containerInfo===I)return;G=G.return}for(;Z!==null;){if(G=an(Z),G===null)return;if(re=G.tag,re===5||re===6||re===26||re===27){C=H=G;continue e}Z=Z.parentNode}}C=C.return}Ua(function(){var ue=H,fe=Ms(p),ve=[];e:{var he=wf.get(e);if(he!==void 0){var de=je,Ee=e;switch(e){case"keypress":if(ee(p)===0)break e;case"keydown":case"keyup":de=Wy;break;case"focusin":Ee="focus",de=Cn;break;case"focusout":Ee="blur",de=Cn;break;case"beforeblur":case"afterblur":de=Cn;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Gy;break;case yf:case bf:case _f:de=Ga;break;case xf:de=Yy;break;case"scroll":case"scrollend":de=Ot;break;case"wheel":de=qy;break;case"copy":case"cut":case"paste":de=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Qd;break;case"toggle":case"beforetoggle":de=Qy}var $e=(t&4)!==0,ht=!$e&&(e==="scroll"||e==="scrollend"),ae=$e?he!==null?he+"Capture":null:he;$e=[];for(var se=ue,ce;se!==null;){var ge=se;if(ce=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ce===null||ae===null||(ge=or(se,ae),ge!=null&&$e.push(fa(se,ge,ce))),ht)break;se=se.return}0<$e.length&&(he=new de(he,Ee,null,p,fe),ve.push({event:he,listeners:$e}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",he&&p!==li&&(Ee=p.relatedTarget||p.fromElement)&&(an(Ee)||Ee[bi]))break e;if((de||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,de?(Ee=p.relatedTarget||p.toElement,de=ue,Ee=Ee?an(Ee):null,Ee!==null&&(ht=E(Ee),$e=Ee.tag,Ee!==ht||$e!==5&&$e!==27&&$e!==6)&&(Ee=null)):(de=null,Ee=ue),de!==Ee)){if($e=Gt,ge="onMouseLeave",ae="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&($e=Qd,ge="onPointerLeave",ae="onPointerEnter",se="pointer"),ht=de==null?he:$i(de),ce=Ee==null?he:$i(Ee),he=new $e(ge,se+"leave",de,p,fe),he.target=ht,he.relatedTarget=ce,ge=null,an(fe)===ue&&($e=new $e(ae,se+"enter",Ee,p,fe),$e.target=ce,$e.relatedTarget=ht,ge=$e),ht=ge,de&&Ee)t:{for($e=Zb,ae=de,se=Ee,ce=0,ge=ae;ge;ge=$e(ge))ce++;ge=0;for(var Re=se;Re;Re=$e(Re))ge++;for(;0<ce-ge;)ae=$e(ae),ce--;for(;0<ge-ce;)se=$e(se),ge--;for(;ce--;){if(ae===se||se!==null&&ae===se.alternate){$e=ae;break t}ae=$e(ae),se=$e(se)}$e=null}else $e=null;de!==null&&Ug(ve,he,de,$e,!1),Ee!==null&&ht!==null&&Ug(ve,ht,Ee,$e,!0)}}e:{if(he=ue?$i(ue):window,de=he.nodeName&&he.nodeName.toLowerCase(),de==="select"||de==="input"&&he.type==="file")var Je=af;else if(sf(he))if(lf)Je=lb;else{Je=ob;var Te=sb}else de=he.nodeName,!de||de.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&jo(ue.elementType)&&(Je=af):Je=ab;if(Je&&(Je=Je(e,ue))){of(ve,Je,p,fe);break e}Te&&Te(e,he,ue),e==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&Do(he,"number",he.value)}switch(Te=ue?$i(ue):window,e){case"focusin":(sf(Te)||Te.contentEditable==="true")&&(Os=Te,zc=ue,Po=null);break;case"focusout":Po=zc=Os=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,mf(ve,p,fe);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":mf(ve,p,fe)}var ze;if(jc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ds?nf(e,p)&&(Ye="onCompositionEnd"):e==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(Jd&&p.locale!=="ko"&&(Ds||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ds&&(ze=Va()):(hi=fe,Io="value"in hi?hi.value:hi.textContent,Ds=!0)),Te=Ol(ue,Ye),0<Te.length&&(Ye=new Zd(Ye,e,null,p,fe),ve.push({event:Ye,listeners:Te}),ze?Ye.data=ze:(ze=rf(p),ze!==null&&(Ye.data=ze)))),(ze=eb?tb(e,p):nb(e,p))&&(Ye=Ol(ue,"onBeforeInput"),0<Ye.length&&(Te=new Zd("onBeforeInput","beforeinput",null,p,fe),ve.push({event:Te,listeners:Ye}),Te.data=ze)),Kb(ve,e,ue,p,fe)}Pg(ve,t)})}function fa(e,t,p){return{instance:e,listener:t,currentTarget:p}}function Ol(e,t){for(var p=t+"Capture",C=[];e!==null;){var I=e,H=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||H===null||(I=or(e,p),I!=null&&C.unshift(fa(e,I,H)),I=or(e,t),I!=null&&C.push(fa(e,I,H))),e.tag===3)return C;e=e.return}return[]}function Zb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ug(e,t,p,C,I){for(var H=t._reactName,G=[];p!==null&&p!==C;){var Z=p,re=Z.alternate,ue=Z.stateNode;if(Z=Z.tag,re!==null&&re===C)break;Z!==5&&Z!==26&&Z!==27||ue===null||(re=ue,I?(ue=or(p,H),ue!=null&&G.unshift(fa(p,ue,re))):I||(ue=or(p,H),ue!=null&&G.push(fa(p,ue,re)))),p=p.return}G.length!==0&&e.push({event:t,listeners:G})}var Qb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function Vg(e){return(typeof e=="string"?e:""+e).replace(Qb,`
`).replace(Jb,"")}function Gg(e,t){return t=Vg(t),Vg(e)===t}function ut(e,t,p,C,I,H){switch(p){case"children":typeof C=="string"?t==="body"||t==="textarea"&&C===""||Sn(e,C):(typeof C=="number"||typeof C=="bigint")&&t!=="body"&&Sn(e,""+C);break;case"className":Es(e,"class",C);break;case"tabIndex":Es(e,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(e,p,C);break;case"style":oi(e,C,H);break;case"data":if(t!=="object"){Es(e,"data",C);break}case"src":case"href":if(C===""&&(t!=="a"||p!=="href")){e.removeAttribute(p);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){e.removeAttribute(p);break}C=Ts(""+C),e.setAttribute(p,C);break;case"action":case"formAction":if(typeof C=="function"){e.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(p==="formAction"?(t!=="input"&&ut(e,t,"name",I.name,I,null),ut(e,t,"formEncType",I.formEncType,I,null),ut(e,t,"formMethod",I.formMethod,I,null),ut(e,t,"formTarget",I.formTarget,I,null)):(ut(e,t,"encType",I.encType,I,null),ut(e,t,"method",I.method,I,null),ut(e,t,"target",I.target,I,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){e.removeAttribute(p);break}C=Ts(""+C),e.setAttribute(p,C);break;case"onClick":C!=null&&(e.onclick=ai);break;case"onScroll":C!=null&&Ge("scroll",e);break;case"onScrollEnd":C!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(v(61));if(p=C.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"multiple":e.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":e.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){e.removeAttribute("xlink:href");break}p=Ts(""+C),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,""+C):e.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,""):e.removeAttribute(p);break;case"capture":case"download":C===!0?e.setAttribute(p,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,C):e.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?e.setAttribute(p,C):e.removeAttribute(p);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?e.removeAttribute(p):e.setAttribute(p,C);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),Cs(e,"popover",C);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Cs(e,"is",C);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=$c.get(p)||p,Cs(e,p,C))}}function dh(e,t,p,C,I,H){switch(p){case"style":oi(e,C,H);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(v(61));if(p=C.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"children":typeof C=="string"?Sn(e,C):(typeof C=="number"||typeof C=="bigint")&&Sn(e,""+C);break;case"onScroll":C!=null&&Ge("scroll",e);break;case"onScrollEnd":C!=null&&Ge("scrollend",e);break;case"onClick":C!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(I=p.endsWith("Capture"),t=p.slice(2,I?p.length-7:void 0),H=e[Ut]||null,H=H!=null?H[p]:null,typeof H=="function"&&e.removeEventListener(t,H,I),typeof C=="function")){typeof H!="function"&&H!==null&&(p in e?e[p]=null:e.hasAttribute(p)&&e.removeAttribute(p)),e.addEventListener(t,C,I);break e}p in e?e[p]=C:C===!0?e.setAttribute(p,""):Cs(e,p,C)}}}function nn(e,t,p){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var C=!1,I=!1,H;for(H in p)if(p.hasOwnProperty(H)){var G=p[H];if(G!=null)switch(H){case"src":C=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,H,G,p,null)}}I&&ut(e,t,"srcSet",p.srcSet,p,null),C&&ut(e,t,"src",p.src,p,null);return;case"input":Ge("invalid",e);var Z=H=G=I=null,re=null,ue=null;for(C in p)if(p.hasOwnProperty(C)){var fe=p[C];if(fe!=null)switch(C){case"name":I=fe;break;case"type":G=fe;break;case"checked":re=fe;break;case"defaultChecked":ue=fe;break;case"value":H=fe;break;case"defaultValue":Z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(v(137,t));break;default:ut(e,t,C,fe,p,null)}}$o(e,H,Z,re,ue,G,I,!1);return;case"select":Ge("invalid",e),C=G=H=null;for(I in p)if(p.hasOwnProperty(I)&&(Z=p[I],Z!=null))switch(I){case"value":H=Z;break;case"defaultValue":G=Z;break;case"multiple":C=Z;default:ut(e,t,I,Z,p,null)}t=H,p=G,e.multiple=!!C,t!=null?rr(e,!!C,t,!1):p!=null&&rr(e,!!C,p,!0);return;case"textarea":Ge("invalid",e),H=I=C=null;for(G in p)if(p.hasOwnProperty(G)&&(Z=p[G],Z!=null))switch(G){case"value":C=Z;break;case"defaultValue":I=Z;break;case"children":H=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(v(91));break;default:ut(e,t,G,Z,p,null)}Wr(e,C,I,H);return;case"option":for(re in p)p.hasOwnProperty(re)&&(C=p[re],C!=null)&&(re==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":ut(e,t,re,C,p,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(C=0;C<da.length;C++)Ge(da[C],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in p)if(p.hasOwnProperty(ue)&&(C=p[ue],C!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,ue,C,p,null)}return;default:if(jo(t)){for(fe in p)p.hasOwnProperty(fe)&&(C=p[fe],C!==void 0&&dh(e,t,fe,C,p,void 0));return}}for(Z in p)p.hasOwnProperty(Z)&&(C=p[Z],C!=null&&ut(e,t,Z,C,p,null))}function e_(e,t,p,C){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,H=null,G=null,Z=null,re=null,ue=null,fe=null;for(de in p){var ve=p[de];if(p.hasOwnProperty(de)&&ve!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":re=ve;default:C.hasOwnProperty(de)||ut(e,t,de,null,C,ve)}}for(var he in C){var de=C[he];if(ve=p[he],C.hasOwnProperty(he)&&(de!=null||ve!=null))switch(he){case"type":H=de;break;case"name":I=de;break;case"checked":ue=de;break;case"defaultChecked":fe=de;break;case"value":G=de;break;case"defaultValue":Z=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(v(137,t));break;default:de!==ve&&ut(e,t,he,de,C,ve)}}No(e,G,Z,re,ue,fe,H,I);return;case"select":de=G=Z=he=null;for(H in p)if(re=p[H],p.hasOwnProperty(H)&&re!=null)switch(H){case"value":break;case"multiple":de=re;default:C.hasOwnProperty(H)||ut(e,t,H,null,C,re)}for(I in C)if(H=C[I],re=p[I],C.hasOwnProperty(I)&&(H!=null||re!=null))switch(I){case"value":he=H;break;case"defaultValue":Z=H;break;case"multiple":G=H;default:H!==re&&ut(e,t,I,H,C,re)}t=Z,p=G,C=de,he!=null?rr(e,!!p,he,!1):!!C!=!!p&&(t!=null?rr(e,!!p,t,!0):rr(e,!!p,p?[]:"",!1));return;case"textarea":de=he=null;for(Z in p)if(I=p[Z],p.hasOwnProperty(Z)&&I!=null&&!C.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ut(e,t,Z,null,C,I)}for(G in C)if(I=C[G],H=p[G],C.hasOwnProperty(G)&&(I!=null||H!=null))switch(G){case"value":he=I;break;case"defaultValue":de=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(v(91));break;default:I!==H&&ut(e,t,G,I,C,H)}Oo(e,he,de);return;case"option":for(var Ee in p)he=p[Ee],p.hasOwnProperty(Ee)&&he!=null&&!C.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:ut(e,t,Ee,null,C,he));for(re in C)he=C[re],de=p[re],C.hasOwnProperty(re)&&he!==de&&(he!=null||de!=null)&&(re==="selected"?e.selected=he&&typeof he!="function"&&typeof he!="symbol":ut(e,t,re,he,C,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in p)he=p[$e],p.hasOwnProperty($e)&&he!=null&&!C.hasOwnProperty($e)&&ut(e,t,$e,null,C,he);for(ue in C)if(he=C[ue],de=p[ue],C.hasOwnProperty(ue)&&he!==de&&(he!=null||de!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(v(137,t));break;default:ut(e,t,ue,he,C,de)}return;default:if(jo(t)){for(var ht in p)he=p[ht],p.hasOwnProperty(ht)&&he!==void 0&&!C.hasOwnProperty(ht)&&dh(e,t,ht,void 0,C,he);for(fe in C)he=C[fe],de=p[fe],!C.hasOwnProperty(fe)||he===de||he===void 0&&de===void 0||dh(e,t,fe,he,C,de);return}}for(var ae in p)he=p[ae],p.hasOwnProperty(ae)&&he!=null&&!C.hasOwnProperty(ae)&&ut(e,t,ae,null,C,he);for(ve in C)he=C[ve],de=p[ve],!C.hasOwnProperty(ve)||he===de||he==null&&de==null||ut(e,t,ve,he,C,de)}function Kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,p=performance.getEntriesByType("resource"),C=0;C<p.length;C++){var I=p[C],H=I.transferSize,G=I.initiatorType,Z=I.duration;if(H&&Z&&Kg(G)){for(G=0,Z=I.responseEnd,C+=1;C<p.length;C++){var re=p[C],ue=re.startTime;if(ue>Z)break;var fe=re.transferSize,ve=re.initiatorType;fe&&Kg(ve)&&(re=re.responseEnd,G+=fe*(re<Z?1:(Z-ue)/(re-ue)))}if(--C,t+=8*(H+G)/(I.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fh=null,ph=null;function jl(e){return e.nodeType===9?e:e.ownerDocument}function Yg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=null;function n_(){var e=window.event;return e&&e.type==="popstate"?e===mh?!1:(mh=e,!0):(mh=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,i_=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(s_)}:qg;function s_(e){setTimeout(function(){throw e})}function Sr(e){return e==="head"}function Qg(e,t){var p=t,C=0;do{var I=p.nextSibling;if(e.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"||p==="/&"){if(C===0){e.removeChild(I),lo(t);return}C--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")C++;else if(p==="html")pa(e.ownerDocument.documentElement);else if(p==="head"){p=e.ownerDocument.head,pa(p);for(var H=p.firstChild;H;){var G=H.nextSibling,Z=H.nodeName;H[Ni]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&H.rel.toLowerCase()==="stylesheet"||p.removeChild(H),H=G}}else p==="body"&&pa(e.ownerDocument.body);p=I}while(p);lo(t)}function Jg(e,t){var p=e;e=0;do{var C=p.nextSibling;if(p.nodeType===1?t?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(t?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(e===0)break;e--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||e++;p=C}while(p)}function vh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var p=t;switch(t=t.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":vh(p),zr(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}e.removeChild(p)}}function o_(e,t,p,C){for(;e.nodeType===1;){var I=p;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!C&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(C){if(!e[Ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(H=e.getAttribute("rel"),H==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(H!==I.rel||e.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||e.getAttribute("title")!==(I.title==null?null:I.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(H=e.getAttribute("src"),(H!==(I.src==null?null:I.src)||e.getAttribute("type")!==(I.type==null?null:I.type)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&H&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var H=I.name==null?null:""+I.name;if(I.type==="hidden"&&e.getAttribute("name")===H)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function a_(e,t,p){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!p||(e=Kn(e.nextSibling),e===null))return null;return e}function em(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kn(e.nextSibling),e===null))return null;return e}function yh(e){return e.data==="$?"||e.data==="$~"}function bh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l_(e,t){var p=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||p.readyState!=="loading")t();else{var C=function(){t(),p.removeEventListener("DOMContentLoaded",C)};p.addEventListener("DOMContentLoaded",C),e._reactRetry=C}}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _h=null;function tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="/$"||p==="/&"){if(t===0)return Kn(e.nextSibling);t--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||t++}e=e.nextSibling}return null}function nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(t===0)return e;t--}else p!=="/$"&&p!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,p){switch(t=jl(p),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function pa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zr(e)}var Yn=new Map,rm=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=z.d;z.d={f:c_,r:u_,D:h_,C:d_,L:f_,m:p_,X:m_,S:g_,M:v_};function c_(){var e=qi.f(),t=Tl();return e||t}function u_(e){var t=ni(e);t!==null&&t.tag===5&&t.type==="form"?xp(t):qi.r(e)}var so=typeof document>"u"?null:document;function sm(e,t,p){var C=so;if(C&&typeof t=="string"&&t){var I=fn(t);I='link[rel="'+e+'"][href="'+I+'"]',typeof p=="string"&&(I+='[crossorigin="'+p+'"]'),rm.has(I)||(rm.add(I),e={rel:e,crossOrigin:p,href:t},C.querySelector(I)===null&&(t=C.createElement("link"),nn(t,"link",e),St(t),C.head.appendChild(t)))}}function h_(e){qi.D(e),sm("dns-prefetch",e,null)}function d_(e,t){qi.C(e,t),sm("preconnect",e,t)}function f_(e,t,p){qi.L(e,t,p);var C=so;if(C&&e&&t){var I='link[rel="preload"][as="'+fn(t)+'"]';t==="image"&&p&&p.imageSrcSet?(I+='[imagesrcset="'+fn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(I+='[imagesizes="'+fn(p.imageSizes)+'"]')):I+='[href="'+fn(e)+'"]';var H=I;switch(t){case"style":H=oo(e);break;case"script":H=ao(e)}Yn.has(H)||(e=n({rel:"preload",href:t==="image"&&p&&p.imageSrcSet?void 0:e,as:t},p),Yn.set(H,e),C.querySelector(I)!==null||t==="style"&&C.querySelector(ga(H))||t==="script"&&C.querySelector(ma(H))||(t=C.createElement("link"),nn(t,"link",e),St(t),C.head.appendChild(t)))}}function p_(e,t){qi.m(e,t);var p=so;if(p&&e){var C=t&&typeof t.as=="string"?t.as:"script",I='link[rel="modulepreload"][as="'+fn(C)+'"][href="'+fn(e)+'"]',H=I;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=ao(e)}if(!Yn.has(H)&&(e=n({rel:"modulepreload",href:e},t),Yn.set(H,e),p.querySelector(I)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ma(H)))return}C=p.createElement("link"),nn(C,"link",e),St(C),p.head.appendChild(C)}}}function g_(e,t,p){qi.S(e,t,p);var C=so;if(C&&e){var I=_i(C).hoistableStyles,H=oo(e);t=t||"default";var G=I.get(H);if(!G){var Z={loading:0,preload:null};if(G=C.querySelector(ga(H)))Z.loading=5;else{e=n({rel:"stylesheet",href:e,"data-precedence":t},p),(p=Yn.get(H))&&xh(e,p);var re=G=C.createElement("link");St(re),nn(re,"link",e),re._p=new Promise(function(ue,fe){re.onload=ue,re.onerror=fe}),re.addEventListener("load",function(){Z.loading|=1}),re.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Bl(G,t,C)}G={type:"stylesheet",instance:G,count:1,state:Z},I.set(H,G)}}}function m_(e,t){qi.X(e,t);var p=so;if(p&&e){var C=_i(p).hoistableScripts,I=ao(e),H=C.get(I);H||(H=p.querySelector(ma(I)),H||(e=n({src:e,async:!0},t),(t=Yn.get(I))&&wh(e,t),H=p.createElement("script"),St(H),nn(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(I,H))}}function v_(e,t){qi.M(e,t);var p=so;if(p&&e){var C=_i(p).hoistableScripts,I=ao(e),H=C.get(I);H||(H=p.querySelector(ma(I)),H||(e=n({src:e,async:!0,type:"module"},t),(t=Yn.get(I))&&wh(e,t),H=p.createElement("script"),St(H),nn(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(I,H))}}function om(e,t,p,C){var I=(I=J.current)?Il(I):null;if(!I)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(t=oo(p.href),p=_i(I).hoistableStyles,C=p.get(t),C||(C={type:"style",instance:null,count:0,state:null},p.set(t,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){e=oo(p.href);var H=_i(I).hoistableStyles,G=H.get(e);if(G||(I=I.ownerDocument||I,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(e,G),(H=I.querySelector(ga(e)))&&!H._p&&(G.instance=H,G.state.loading=5),Yn.has(e)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Yn.set(e,p),H||y_(I,e,p,G.state))),t&&C===null)throw Error(v(528,""));return G}if(t&&C!==null)throw Error(v(529,""));return null;case"script":return t=p.async,p=p.src,typeof p=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ao(p),p=_i(I).hoistableScripts,C=p.get(t),C||(C={type:"script",instance:null,count:0,state:null},p.set(t,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function oo(e){return'href="'+fn(e)+'"'}function ga(e){return'link[rel="stylesheet"]['+e+"]"}function am(e){return n({},e,{"data-precedence":e.precedence,precedence:null})}function y_(e,t,p,C){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?C.loading=1:(t=e.createElement("link"),C.preload=t,t.addEventListener("load",function(){return C.loading|=1}),t.addEventListener("error",function(){return C.loading|=2}),nn(t,"link",p),St(t),e.head.appendChild(t))}function ao(e){return'[src="'+fn(e)+'"]'}function ma(e){return"script[async]"+e}function lm(e,t,p){if(t.count++,t.instance===null)switch(t.type){case"style":var C=e.querySelector('style[data-href~="'+fn(p.href)+'"]');if(C)return t.instance=C,St(C),C;var I=n({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return C=(e.ownerDocument||e).createElement("style"),St(C),nn(C,"style",I),Bl(C,p.precedence,e),t.instance=C;case"stylesheet":I=oo(p.href);var H=e.querySelector(ga(I));if(H)return t.state.loading|=4,t.instance=H,St(H),H;C=am(p),(I=Yn.get(I))&&xh(C,I),H=(e.ownerDocument||e).createElement("link"),St(H);var G=H;return G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),nn(H,"link",C),t.state.loading|=4,Bl(H,p.precedence,e),t.instance=H;case"script":return H=ao(p.src),(I=e.querySelector(ma(H)))?(t.instance=I,St(I),I):(C=p,(I=Yn.get(H))&&(C=n({},p),wh(C,I)),e=e.ownerDocument||e,I=e.createElement("script"),St(I),nn(I,"link",C),e.head.appendChild(I),t.instance=I);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(C=t.instance,t.state.loading|=4,Bl(C,p.precedence,e));return t.instance}function Bl(e,t,p){for(var C=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=C.length?C[C.length-1]:null,H=I,G=0;G<C.length;G++){var Z=C[G];if(Z.dataset.precedence===t)H=Z;else if(H!==I)break}H?H.parentNode.insertBefore(e,H.nextSibling):(t=p.nodeType===9?p.head:p,t.insertBefore(e,t.firstChild))}function xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function wh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hl=null;function cm(e,t,p){if(Hl===null){var C=new Map,I=Hl=new Map;I.set(p,C)}else I=Hl,C=I.get(p),C||(C=new Map,I.set(p,C));if(C.has(e))return C;for(C.set(e,null),p=p.getElementsByTagName(e),I=0;I<p.length;I++){var H=p[I];if(!(H[Ni]||H[Mt]||e==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var G=H.getAttribute(t)||"";G=e+G;var Z=C.get(G);Z?Z.push(H):C.set(G,[H])}}return C}function um(e,t,p){e=e.ownerDocument||e,e.head.insertBefore(p,t==="title"?e.querySelector("head > title"):null)}function b_(e,t,p){if(p===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function __(e,t,p,C){if(p.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var I=oo(C.href),H=t.querySelector(ga(I));if(H){t=H._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zl.bind(e),t.then(e,e)),p.state.loading|=4,p.instance=H,St(H);return}H=t.ownerDocument||t,C=am(C),(I=Yn.get(I))&&xh(C,I),H=H.createElement("link"),St(H);var G=H;G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),nn(H,"link",C),p.instance=H}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(p,t),(t=p.state.preload)&&(p.state.loading&3)===0&&(e.count++,p=zl.bind(e),t.addEventListener("load",p),t.addEventListener("error",p))}}var Sh=0;function x_(e,t){return e.stylesheets&&e.count===0&&Pl(e,e.stylesheets),0<e.count||0<e.imgCount?function(p){var C=setTimeout(function(){if(e.stylesheets&&Pl(e,e.stylesheets),e.unsuspend){var H=e.unsuspend;e.unsuspend=null,H()}},6e4+t);0<e.imgBytes&&Sh===0&&(Sh=62500*t_());var I=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pl(e,e.stylesheets),e.unsuspend)){var H=e.unsuspend;e.unsuspend=null,H()}},(e.imgBytes>Sh?50:800)+t);return e.unsuspend=p,function(){e.unsuspend=null,clearTimeout(C),clearTimeout(I)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function Pl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,t.forEach(w_,e),Fl=null,zl.call(e))}function w_(e,t){if(!(t.state.loading&4)){var p=Fl.get(e);if(p)var C=p.get(null);else{p=new Map,Fl.set(e,p);for(var I=e.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<I.length;H++){var G=I[H];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),C=G)}C&&p.set(null,C)}I=t.instance,G=I.getAttribute("data-precedence"),H=p.get(G)||C,H===C&&p.set(null,I),p.set(G,I),this.count++,C=zl.bind(this),I.addEventListener("load",C),I.addEventListener("error",C),H?H.parentNode.insertBefore(I,H.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(I,e.firstChild)),t.state.loading|=4}}var va={$$typeof:x,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function S_(e,t,p,C,I,H,G,Z,re){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=C,this.onUncaughtError=I,this.onCaughtError=H,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function dm(e,t,p,C,I,H,G,Z,re,ue,fe,ve){return e=new S_(e,t,p,G,re,ue,fe,ve,Z),t=1,H===!0&&(t|=24),H=An(3,null,null,t),e.current=H,H.stateNode=e,t=nu(),t.refCount++,e.pooledCache=t,t.refCount++,H.memoizedState={element:C,isDehydrated:p,cache:t},ou(H),e}function fm(e){return e?(e=Bs,e):Bs}function pm(e,t,p,C,I,H){I=fm(I),C.context===null?C.context=I:C.pendingContext=I,C=dr(t),C.payload={element:p},H=H===void 0?null:H,H!==null&&(C.callback=H),p=fr(e,C,t),p!==null&&(_n(p,e,t),Xo(p,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var p=e.retryLane;e.retryLane=p!==0&&p<t?p:t}}function Ch(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function mm(e){if(e.tag===13||e.tag===31){var t=Kr(e,67108864);t!==null&&_n(t,e,67108864),Ch(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=Rn();t=ir(t);var p=Kr(e,t);p!==null&&_n(p,e,t),Ch(e,t)}}var Wl=!0;function C_(e,t,p,C){var I=O.T;O.T=null;var H=z.p;try{z.p=2,Eh(e,t,p,C)}finally{z.p=H,O.T=I}}function E_(e,t,p,C){var I=O.T;O.T=null;var H=z.p;try{z.p=8,Eh(e,t,p,C)}finally{z.p=H,O.T=I}}function Eh(e,t,p,C){if(Wl){var I=Ah(C);if(I===null)hh(e,t,C,Ul,p),bm(e,C);else if(k_(I,e,t,p,C))C.stopPropagation();else if(bm(e,C),t&4&&-1<A_.indexOf(e)){for(;I!==null;){var H=ni(I);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var G=Wt(H.pendingLanes);if(G!==0){var Z=H;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var re=1<<31-le(G);Z.entanglements[1]|=re,G&=~re}Ei(H),(tt&6)===0&&(Al=Ze()+500,ha(0))}}break;case 31:case 13:Z=Kr(H,2),Z!==null&&_n(Z,H,2),Tl(),Ch(H,2)}if(H=Ah(C),H===null&&hh(e,t,C,Ul,p),H===I)break;I=H}I!==null&&C.stopPropagation()}else hh(e,t,C,null,p)}}function Ah(e){return e=Ms(e),kh(e)}var Ul=null;function kh(e){if(Ul=null,e=an(e),e!==null){var t=E(e);if(t===null)e=null;else{var p=t.tag;if(p===13){if(e=y(t),e!==null)return e;e=null}else if(p===31){if(e=f(t),e!==null)return e;e=null}else if(p===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ul=e,null}function ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Dt:return 2;case xt:return 8;case pt:case Yt:return 32;case it:return 268435456;default:return 32}default:return 32}}var Th=!1,Cr=null,Er=null,Ar=null,ya=new Map,ba=new Map,kr=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function _a(e,t,p,C,I,H){return e===null||e.nativeEvent!==H?(e={blockedOn:t,domEventName:p,eventSystemFlags:C,nativeEvent:H,targetContainers:[I]},t!==null&&(t=ni(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=C,t=e.targetContainers,I!==null&&t.indexOf(I)===-1&&t.push(I),e)}function k_(e,t,p,C,I){switch(t){case"focusin":return Cr=_a(Cr,e,t,p,C,I),!0;case"dragenter":return Er=_a(Er,e,t,p,C,I),!0;case"mouseover":return Ar=_a(Ar,e,t,p,C,I),!0;case"pointerover":var H=I.pointerId;return ya.set(H,_a(ya.get(H)||null,e,t,p,C,I)),!0;case"gotpointercapture":return H=I.pointerId,ba.set(H,_a(ba.get(H)||null,e,t,p,C,I)),!0}return!1}function _m(e){var t=an(e.target);if(t!==null){var p=E(t);if(p!==null){if(t=p.tag,t===13){if(t=y(p),t!==null){e.blockedOn=t,bs(e.priority,function(){vm(p)});return}}else if(t===31){if(t=f(p),t!==null){e.blockedOn=t,bs(e.priority,function(){vm(p)});return}}else if(t===3&&p.stateNode.current.memoizedState.isDehydrated){e.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var p=Ah(e.nativeEvent);if(p===null){p=e.nativeEvent;var C=new p.constructor(p.type,p);li=C,p.target.dispatchEvent(C),li=null}else return t=ni(p),t!==null&&mm(t),e.blockedOn=p,!1;t.shift()}return!0}function xm(e,t,p){Vl(e)&&p.delete(t)}function T_(){Th=!1,Cr!==null&&Vl(Cr)&&(Cr=null),Er!==null&&Vl(Er)&&(Er=null),Ar!==null&&Vl(Ar)&&(Ar=null),ya.forEach(xm),ba.forEach(xm)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,T_)))}var Kl=null;function wm(e){Kl!==e&&(Kl=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var p=e[t],C=e[t+1],I=e[t+2];if(typeof C!="function"){if(kh(C||p)===null)continue;break}var H=ni(p);H!==null&&(e.splice(t,3),t-=3,Au(H,{pending:!0,data:I,method:p.method,action:C},C,I))}}))}function lo(e){function t(re){return Gl(re,e)}Cr!==null&&Gl(Cr,e),Er!==null&&Gl(Er,e),Ar!==null&&Gl(Ar,e),ya.forEach(t),ba.forEach(t);for(var p=0;p<kr.length;p++){var C=kr[p];C.blockedOn===e&&(C.blockedOn=null)}for(;0<kr.length&&(p=kr[0],p.blockedOn===null);)_m(p),p.blockedOn===null&&kr.shift();if(p=(e.ownerDocument||e).$$reactFormReplay,p!=null)for(C=0;C<p.length;C+=3){var I=p[C],H=p[C+1],G=I[Ut]||null;if(typeof H=="function")G||wm(p);else if(G){var Z=null;if(H&&H.hasAttribute("formAction")){if(I=H,G=H[Ut]||null)Z=G.formAction;else if(kh(I)!==null)continue}else Z=G.action;typeof Z=="function"?p[C+1]=Z:(p.splice(C,3),C-=3),wm(p)}}}function Sm(){function e(H){H.canIntercept&&H.info==="react-transition"&&H.intercept({handler:function(){return new Promise(function(G){return I=G})},focusReset:"manual",scroll:"manual"})}function t(){I!==null&&(I(),I=null),C||setTimeout(p,20)}function p(){if(!C&&!navigation.transition){var H=navigation.currentEntry;H&&H.url!=null&&navigation.navigate(H.url,{state:H.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,I=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(p,100),function(){C=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),I!==null&&(I(),I=null)}}}function Mh(e){this._internalRoot=e}Yl.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var p=t.current,C=Rn();pm(p,C,e,t,null,null)},Yl.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),Tl(),t[bi]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=In();e={blockedOn:null,target:e,priority:t};for(var p=0;p<kr.length&&t!==0&&t<kr[p].priority;p++);kr.splice(p,0,e),p===0&&_m(e)}};var Cm=_.version;if(Cm!=="19.2.4")throw Error(v(527,Cm,"19.2.4"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=u(t),e=e!==null?s(e):null,e=e===null?null:e.stateNode,e};var M_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Tt=Xl.inject(M_),gt=Xl}catch{}}return wa.createRoot=function(e,t){if(!R(e))throw Error(v(299));var p=!1,C="",I=Rp,H=Np,G=$p;return t!=null&&(t.unstable_strictMode===!0&&(p=!0),t.identifierPrefix!==void 0&&(C=t.identifierPrefix),t.onUncaughtError!==void 0&&(I=t.onUncaughtError),t.onCaughtError!==void 0&&(H=t.onCaughtError),t.onRecoverableError!==void 0&&(G=t.onRecoverableError)),t=dm(e,1,!1,null,null,p,C,null,I,H,G,Sm),e[bi]=t.current,uh(e),new Mh(t)},wa.hydrateRoot=function(e,t,p){if(!R(e))throw Error(v(299));var C=!1,I="",H=Rp,G=Np,Z=$p,re=null;return p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onUncaughtError!==void 0&&(H=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(Z=p.onRecoverableError),p.formState!==void 0&&(re=p.formState)),t=dm(e,1,!0,t,p??null,C,I,re,H,G,Z,Sm),t.context=fm(null),p=t.current,C=Rn(),C=ir(C),I=dr(C),I.callback=null,fr(p,I,C),p=C,t.current.lanes=p,Li(t,p),Ei(t),e[bi]=t.current,uh(e),new Yl(t)},wa.version="19.2.4",wa}var Dm;function B_(){if(Dm)return Nh.exports;Dm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(_){console.error(_)}}return c(),Nh.exports=I_(),Nh.exports}var H_=B_();const z_=!1,F_=4792,Ne={apiPort:F_,serverPath:"/",useDemo:!1,isDev:z_},P_={},Om=c=>{let _;const m=new Set,v=(s,n)=>{const i=typeof s=="function"?s(_):s;if(!Object.is(i,_)){const r=_;_=n??(typeof i!="object"||i===null)?i:Object.assign({},_,i),m.forEach(l=>l(_,r))}},R=()=>_,a={setState:v,getState:R,getInitialState:()=>u,subscribe:s=>(m.add(s),()=>m.delete(s)),destroy:()=>{(P_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),m.clear()}},u=_=c(v,R,a);return a},a0=c=>c?Om(c):Om;var jh={exports:{}},Ih={},Bh={exports:{}},Hh={};var jm;function W_(){if(jm)return Hh;jm=1;var c=Br();function _(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var m=typeof Object.is=="function"?Object.is:_,v=c.useState,R=c.useEffect,E=c.useLayoutEffect,y=c.useDebugValue;function f(n,i){var r=i(),l=v({inst:{value:r,getSnapshot:i}}),h=l[0].inst,o=l[1];return E(function(){h.value=r,h.getSnapshot=i,a(h)&&o({inst:h})},[n,r,i]),R(function(){return a(h)&&o({inst:h}),n(function(){a(h)&&o({inst:h})})},[n]),y(r),r}function a(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!m(n,r)}catch{return!0}}function u(n,i){return i()}var s=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:f;return Hh.useSyncExternalStore=c.useSyncExternalStore!==void 0?c.useSyncExternalStore:s,Hh}var Im;function U_(){return Im||(Im=1,Bh.exports=W_()),Bh.exports}var Bm;function V_(){if(Bm)return Ih;Bm=1;var c=Br(),_=U_();function m(u,s){return u===s&&(u!==0||1/u===1/s)||u!==u&&s!==s}var v=typeof Object.is=="function"?Object.is:m,R=_.useSyncExternalStore,E=c.useRef,y=c.useEffect,f=c.useMemo,a=c.useDebugValue;return Ih.useSyncExternalStoreWithSelector=function(u,s,n,i,r){var l=E(null);if(l.current===null){var h={hasValue:!1,value:null};l.current=h}else h=l.current;l=f(function(){function d(b){if(!g){if(g=!0,x=b,b=i(b),r!==void 0&&h.hasValue){var k=h.value;if(r(k,b))return S=k}return S=b}if(k=S,v(x,b))return k;var A=i(b);return r!==void 0&&r(k,A)?(x=b,k):(x=b,S=A)}var g=!1,x,S,w=n===void 0?null:n;return[function(){return d(s())},w===null?void 0:function(){return d(w())}]},[s,n,i,r]);var o=R(u,l[0],l[1]);return y(function(){h.hasValue=!0,h.value=o},[o]),a(o),o},Ih}var Hm;function G_(){return Hm||(Hm=1,jh.exports=V_()),jh.exports}var K_=G_();const l0=Sc(K_),c0={},{useDebugValue:Y_}=_e,{useSyncExternalStoreWithSelector:X_}=l0;let zm=!1;const q_=c=>c;function Z_(c,_=q_,m){(c0?"production":void 0)!=="production"&&m&&!zm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zm=!0);const v=X_(c.subscribe,c.getState,c.getServerState||c.getInitialState,_,m);return Y_(v),v}const Fm=c=>{(c0?"production":void 0)!=="production"&&typeof c!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const _=typeof c=="function"?a0(c):c,m=(v,R)=>Z_(_,v,R);return Object.assign(m,_),m},Zn=c=>c?Fm(c):Fm,Qn=c=>{let _=c;_.use={};for(let m of Object.keys(_.getState()))_.use[m]=()=>_(v=>v[m]);return _},Oe={scanWorkspace:"scanworkspace",runCmdDev:"runcmddev",stopProcess:"stopprocess",listWorkspacesDir:"listworkspacedirs",newWorkspace:"newworkspace",interactvTerminal:"interactvterminal",stopInteractiveTerminal:"stopinteractiveterminal",stopTerminalWorkspace:"stopTerminalWorkspace",hideShowFileFolder:"hideshowfilefolder",updateWorkspace:"updateworkspace",getRootPath:"getrootpath",scaffoldRepo:"scaffoldrepo",turborepoExist:"turborepoexist",firstRun:"firstrun",notes:"notes",crudTest:"crudtest",gitControl:"gitcontrol",initMonorepoTime:"initmtime",processTree:"processtree",docker:"docker",availabletemplates:"availabletemplates",setWorkspaceTemplate:"setworkspacetemplate",deleteWorkspace:"deleteworkspace",scanProject:"scanproject",textEditor:"texteditor",gitStash:"gitstash",opencode:"opencode",opencodeCreateInstance:"opencode/createinstance",opencodeListInstances:"opencode/listinstances"},Q_=Zn()((c,_)=>({showTerminal:!1,setShowTerminal:m=>c({showTerminal:m}),rootDir:"",showAboutModal:!1,setShowAboutModal:m=>c({showAboutModal:m}),terminalFontSize:15,setTerminalFontSize:m=>{localStorage.setItem("terminalFontSize",m.toString()),c({terminalFontSize:m})},loadTerminalFontSize(){const m=localStorage.getItem("terminalFontSize");m&&c({terminalFontSize:parseInt(m)})},showGit:!1,setShowGit:m=>c({showGit:m}),projectTreeFontSize:14,setProjectTreeFontSize:m=>{localStorage.setItem("projectTreeFontSize",m.toString()),c({projectTreeFontSize:m})},loadProjectTreeFontSize(){const m=localStorage.getItem("projectTreeFontSize");m&&c({projectTreeFontSize:parseInt(m)})},loadRootDir:async()=>{if(!(_().rootDir.length>0))try{const v=await(await fetch(`${Ne.serverPath}${Oe.getRootPath}`)).json();c({rootDir:v.path})}catch{}},checkIfFirstTime:async()=>{try{return(await(await fetch(`${Ne.serverPath}${Oe.firstRun}`)).json()).isFirstTime}catch{return!1}},initMonorepoTime:async()=>{try{await fetch(`${Ne.serverPath}${Oe.initMonorepoTime}`)}catch(m){console.error("Error initializing Monorepo Time:",m)}},notes:"",noteNotFound:!0,setNotes:m=>c({notes:m}),loadNotes:async()=>{try{const m=await fetch(`${Ne.serverPath}${Oe.notes}`);if(!m.ok){c({noteNotFound:!0});return}const v=await m.json();c({notes:v.notes,noteNotFound:!1})}catch{c({noteNotFound:!0})}},saveNotes:async()=>{try{await fetch(`${Ne.serverPath}${Oe.notes}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:_().notes})})}catch(m){console.error("Error saving notes:",m)}},scaffoldRepo:async()=>await(await fetch(`${Ne.serverPath}${Oe.scaffoldRepo}`)).json(),hideShowFileFolder:async(m,v)=>await(await fetch(`${Ne.serverPath}${Oe.hideShowFileFolder}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hide:m,pathInclude:v})})).json(),getTemplates:async()=>await(await fetch(`${Ne.serverPath}${Oe.availabletemplates}`)).json()})),Xe=Qn(Q_);function J_(){return N.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-5 h-5"})})}const ex=Zn(c=>({showOrchestrator:!1,setShowOrchestrator:_=>c({showOrchestrator:_})})),hc=Qn(ex);function u0(){const c=Xe.use.setShowAboutModal(),_=Xe.use.setShowGit(),m=hc.use.setShowOrchestrator();return N.jsx("header",{className:"h-7 w-full px-6 py-2 sticky top-0",children:N.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(J_,{}),N.jsx("div",{children:N.jsxs("h1",{className:"text-md font-space tracking-tight text-white font-medium",children:["Monorepo",N.jsx("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-400",children:"Time"})]})})]}),N.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[N.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"text-2xl fa-brands fa-git-alt text-blue-400 group-hover:text-blue-300"}),N.jsxs("span",{className:"text-sm",children:[N.jsx("span",{className:"font-bold text-white",children:" Ctrl + S "}),"Git Panel"]})]}),N.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"text-xl fa-solid fa-terminal text-blue-400 group-hover:text-blue-300"}),N.jsxs("span",{className:"text-sm",children:[N.jsx("span",{className:"font-bold text-white",children:" Ctrl + D "}),"Agent Orchestrator"]})]}),N.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"fas fa-info-circle text-blue-400 group-hover:text-blue-300"}),N.jsx("span",{children:"About"})]})]})]})})}function tx(c){return N.jsxs("nav",{className:"w-14 h-full flex flex-col items-center py-4",children:[N.jsx("div",{className:"flex flex-col gap-2 w-full px-2",children:c.navs.map(_=>N.jsx(Pm,{isSelected:_.isSelected,icon:_.icon,name:_.name,label:_.label,onClick:()=>_.onClick()},_.name))}),N.jsx("div",{className:"h-full flex flex-col justify-end gap-2 mb-16",children:c.extraNavs?.map(_=>N.jsx(Pm,{isSelected:_.isSelected,icon:_.icon,name:_.name,label:_.label,onClick:()=>_.onClick()},_.name))})]})}function Pm(c){const _=c.isSelected?"bg-gradient-to-br from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-white/5 hover:text-white";return N.jsxs("button",{className:`nav-item group relative flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 outline-none ${_}`,onClick:c.onClick,children:[N.jsx("i",{className:`${c.icon} text-lg transition-transform duration-200 group-hover:scale-110`}),N.jsxs("div",{className:"z-50 absolute bg-black/90 backdrop-blur-md left-14 px-3 py-1.5 text-white text-sm font-medium rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 translate-x-2 group-hover:translate-x-0 shadow-xl border border-white/10 whitespace-nowrap",children:[c.label,N.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/90 border-l border-b border-white/10 rotate-45"})]})]})}function zh({children:c,className:_,onClick:m}){return N.jsx("div",{className:`bg-gray-800/20 rounded-2xl p-6 flex flex-col ${_}`,onClick:m,children:c})}const nx=Zn()((c,_)=>({dockerprocessInfo:[],loadDockerProcessInfo:async()=>{try{const v=await(await fetch(`${Ne.serverPath}${Oe.docker}`)).json();c({dockerprocessInfo:v.containers})}catch(m){console.error("Failed to load docker info",m)}},stopDockerContainer:async m=>{try{await fetch(`${Ne.serverPath}${Oe.docker}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:m})}),await _().loadDockerProcessInfo()}catch(v){console.error("Failed to stop container",v)}},stopAllDockerContainers:async()=>{try{await fetch(`${Ne.serverPath}${Oe.docker}/stop-all`,{method:"POST"}),await _().loadDockerProcessInfo()}catch(m){console.error("Failed to stop all containers",m)}}})),ql=Qn(nx);function ix(){const c=ql.use.dockerprocessInfo(),_=ql.use.loadDockerProcessInfo(),m=ql.use.stopDockerContainer(),v=ql.use.stopAllDockerContainers();ne.useEffect(()=>{_();const y=setInterval(()=>{_()},5e3);return()=>clearInterval(y)},[]);const R=c.reduce((y,f)=>y+(f.memoryBytes||0),0),E=Math.round(R/1024/1024);return N.jsxs("div",{className:"h-[420px] overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4 flex-none",children:[N.jsx("i",{className:"fab fa-docker text-blue-400"}),N.jsxs("div",{className:"flex items-center gap-3",children:[c.length>0&&N.jsxs("button",{id:"docker-stop-all-btn",onClick:()=>v(),className:"text-xs px-2 py-0.5 rounded bg-red-900/30 hover:bg-red-800/50 text-red-400 hover:text-red-200 transition-colors border border-red-800/30",title:"Stop All Containers",children:[N.jsx("i",{className:"fas fa-power-off"})," Stop All"]}),N.jsx("span",{id:"docker-mem-total",className:"text-xs text-blue-400 font-mono"}),N.jsxs("span",{id:"docker-count",className:"text-xs text-gray-400 font-mono",children:["Total RAM: ",E," MB (",c.length," active)"]})]})]}),N.jsxs("div",{className:"overflow-y-auto flex-1 space-y-2 pr-1 custom-scrollbar",id:"docker-list-container",children:[c.length===0&&N.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"No active containers"}),c.map((y,f)=>N.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 border border-gray-700/30 text-xs",children:[N.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("i",{className:"fab fa-docker text-blue-500"}),N.jsx("span",{className:"text-gray-200 font-bold truncate",title:y.name,children:y.name})]}),N.jsx("span",{className:"text-gray-500 text-[10px] truncate",title:y.image,children:y.image})]}),N.jsxs("div",{className:"flex items-center gap-3 flex-none ml-2",children:[N.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[N.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:y.memoryStr}),N.jsx("span",{className:`text-[10px] font-medium ${y.status.startsWith("Up")?"text-green-400":"text-gray-400"}`,children:y.status})]}),N.jsx("button",{onClick:()=>m(y.id),className:"p-1 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition-colors",title:"Stop Container",children:N.jsx("i",{className:"fas fa-power-off"})})]})]},f))]})]})}const rx=Zn()(c=>({childprocessInfo:[],totalRam:0,peakRam:0,loadChildProcessInfo:async()=>{try{const v=(await(await fetch(`${Ne.serverPath}${Oe.processTree}`)).json()).processes.map(E=>{let y=E.name;if(y.startsWith("Terminal (")&&y.endsWith(")")){const f=y.match(/Terminal \(\s*(.*?)\s*\)/);f&&f[1]&&(y=f[1])}return{name:y,pid:E.pid,mem:Math.round(E.memory/1024/1024)}}),R=v.reduce((E,y)=>E+y.mem,0);c(E=>{const y=R>E.peakRam?R:E.peakRam;return{childprocessInfo:v,totalRam:R,peakRam:y}})}catch(_){console.error("Failed to load process info",_)}}})),Zl=Qn(rx);function sx(){const c=Zl.use.childprocessInfo(),_=Zl.use.totalRam(),m=Zl.use.peakRam(),v=Zl.use.loadChildProcessInfo();return ne.useEffect(()=>{const R=setInterval(async()=>{await v()},5e3);return()=>clearInterval(R)},[]),N.jsxs("div",{className:"h-[420px]",children:[N.jsx("div",{className:"flex items-center justify-between mb-4",children:N.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-chart-line text-blue-500"}),"Processes Memory Usage"]})}),N.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[N.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[N.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Current RAM"}),N.jsxs("div",{className:"text-xl font-bold text-white font-mono",children:[_," MB"]})]}),N.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[N.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Peak RAM"}),N.jsxs("div",{className:"text-xl font-bold text-blue-400 font-mono",children:[m," MB"]})]})]}),N.jsxs("div",{className:"flex-none h-full overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"text-xs text-gray-400 uppercase mb-2 font-bold tracking-wider flex justify-between",children:["Top Processes",N.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:[c.length," Active"]})]}),N.jsxs("div",{className:"overflow-y-auto flex-1 space-y-1 pr-1 custom-scrollbar",children:[c.length===0&&N.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"Loading..."}),c.map((R,E)=>N.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 hover:bg-gray-800/60 border border-transparent hover:border-gray-700 transition-colors text-xs",children:[N.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[N.jsx("i",{className:"fas fa-boxes w-4 text-center"}),N.jsx("span",{className:"text-gray-300 font-mono truncate",children:R.name})]}),N.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[N.jsx("span",{className:"px-1.5 py-0.5 rounded bg-gray-800 text-[10px] text-gray-500",children:R.pid}),N.jsxs("span",{className:"font-mono text-white w-20 text-right",children:[N.jsx("span",{className:"text-orange-500",children:R.mem})," MB"]})]})]},E+R.name))]})]})]})}function ox({isVisible:c}){const _=Xe.use.notes(),m=Xe.use.noteNotFound(),v=Xe.use.loadNotes(),R=Xe.use.setNotes(),E=Xe.use.saveNotes();return ne.useEffect(()=>{c&&v()},[c]),ne.useEffect(()=>{const y=setTimeout(()=>{m||E()},2e3);return()=>clearTimeout(y)},[_,m,E]),m?N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"}),N.jsx("p",{className:"text-gray-400",children:"monorepotime.json not found"})]}):N.jsxs("div",{className:"h-[420px] overflow-y-auto flex flex-col",children:[N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:N.jsx("i",{className:"fas fa-sticky-note text-yellow-500"})}),N.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"})]})}),N.jsx("textarea",{value:_,onChange:y=>R(y.target.value),placeholder:"Write your project notes, todos, or ideas here...",className:"flex-1 w-full p-4 bg-transparent border-none outline-none resize-none text-gray-300 placeholder-gray-600 font-mono text-sm leading-relaxed",spellCheck:!1})]})}function $n(c){const{children:_,width:m}=c,v=m||"650px";return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),N.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 pointer-events-none",children:N.jsxs("div",{onClick:R=>R.stopPropagation(),className:`
                        pointer-events-auto
                        relative flex flex-col
                        w-[95%] md:w-[${v}]
                        rounded-2xl overflow-hidden 
                        shadow-2xl shadow-blue-900/20 
                        animate-fade-in-up
                    `,style:{width:v},children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/50 to-blue-400/50 pointer-events-none"}),N.jsx("div",{className:"absolute inset-[2px] bg-[#0A0A0A] rounded-[15px] pointer-events-none"}),N.jsx("div",{className:"relative flex flex-col h-full bg-transparent z-10",children:_})]})})]})}function Dn({close:c,title:_,description:m,icon:v}){return N.jsxs("header",{className:"px-5 py-2 flex justify-between items-center bg-white/[0.05]",children:[N.jsxs("div",{className:"text-md font-bold text-white flex items-center gap-4",children:[N.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-blue-500/20",children:N.jsx("i",{className:v||"fas fa-cube text-white text-lg"})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-lg font-bold bg-clip-text text-white",children:_}),N.jsx("span",{className:"text-gray-500 font-medium text-xs",children:m})]})]}),N.jsx("button",{onClick:c,className:"w-8 h-8 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all flex items-center justify-center",children:N.jsx("i",{className:"fas fa-times text-sm"})})]})}function Ji(c){return N.jsxs("button",{onClick:_=>{_.stopPropagation(),c.onClick()},className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]"+(c.className?" "+c.className:""),children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[c.icon&&N.jsx("i",{className:c.icon}),c.text,c.children]})]})}function ax({isOpen:c,onClose:_}){const m=Xe.use.loadTerminalFontSize(),v=Xe.use.loadProjectTreeFontSize(),R=Xe.use.terminalFontSize(),E=Xe.use.setTerminalFontSize(),y=Xe.use.projectTreeFontSize(),f=Xe.use.setProjectTreeFontSize();return ne.useEffect(()=>{const a=u=>{u.key==="Escape"&&_()};return c&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[c,_]),ne.useEffect(()=>{m(),v()},[]),c?N.jsxs($n,{width:"420px",children:[N.jsx(Dn,{close:_,title:"Settings",description:"Manage your preferences",icon:"fa-solid fa-cog"}),N.jsxs("div",{className:"p-6 space-y-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fa-solid fa-text-height"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-white text-sm",children:"Terminal Font Size"}),N.jsx("p",{className:"text-xs text-gray-500",children:"Adjust text readability"})]})]}),N.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>E(Math.max(10,R-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-minus text-xs"})}),N.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:R}),N.jsx("button",{onClick:()=>E(Math.min(32,R+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fa-solid fa-folder-tree"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-white text-sm",children:"Project Tree Font Size"}),N.jsx("p",{className:"text-xs text-gray-500",children:"Adjust tree readability"})]})]}),N.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>f(Math.max(10,y-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-minus text-xs"})}),N.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:y}),N.jsx("button",{onClick:()=>f(Math.min(32,y+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),N.jsx("div",{className:"flex justify-end",children:N.jsx(Ji,{onClick:_,icon:"",text:"Ok"})})]})]}):null}function lx(c){const[_,m]=ne.useState(!1);return N.jsxs("div",{className:`h-full w-full ${c.isVisible?"block":"hidden"}`,children:[N.jsxs("div",{className:"relative px-6 py-8 space-y-8 animate-fade-in max-w-[1600px] mx-auto",children:[N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6 h-[400px]",children:N.jsx(zh,{children:N.jsx(ox,{isVisible:c.isVisible})})}),N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:N.jsx(zh,{children:N.jsx(sx,{})})}),N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:N.jsx(zh,{children:N.jsx(ix,{})})})]}),N.jsx("button",{onClick:()=>m(!0),className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:N.jsx("i",{className:"fa-solid fa-cog text-xl text-blue-400 group-hover:rotate-90 transition-transform duration-500"})})]}),N.jsx(ax,{isOpen:_,onClose:()=>m(!1)})]})}const cx=Zn()(c=>({currentPage:"dashboard",action:{setCurrentPage:_=>c({currentPage:_})}})),Wm=Qn(cx),ux=async(c,_)=>{if(!_().loading){c({loading:!0});try{const v=await fetch(`${Ne.serverPath}${Oe.scanWorkspace}`);let R=await v.json();if(!v.ok)throw new Error("Failed to fetch workspace");c({workspaceDirs:R.workspaceDirs??[]});const E=[],y=_().workspace;R.workspace.forEach(a=>{y.find(u=>u.info.name===a.name)?E.push({isRunningAs:y.find(u=>u.info.name===a.name)?.isRunningAs??null,info:a}):E.push({isRunningAs:null,info:a})});const f=E.sort((a,u)=>a.info.name<u.info.name?-1:a.info.name>u.info.name?1:0);c({workspace:f})}catch(v){console.error("Error fetching workspace:",v)}c({loading:!1})}},hx=async(c,_,m)=>{if(_().loadingWorkspace!=m){c({loadingWorkspace:m});try{if(!(await fetch(`${Ne.serverPath}${Oe.stopProcess}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m}})})).ok)throw new Error("Failed to stop process")}catch(R){console.error("Error stopping process:",R)}c({loadingWorkspace:null})}},dx=async(c,_,m,v)=>{if(_().loadingWorkspace!=m){c({loadingWorkspace:m});try{if(!(await fetch(`${Ne.serverPath}${Oe.stopInteractiveTerminal}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m}})})).ok)throw new Error("Failed to stop interactive terminal");v||await new Promise(y=>setTimeout(y,1e3))}catch(E){console.error("Error stopping interactive terminal:",E)}c({loadingWorkspace:null})}},fx=async(c,_,m,v)=>{if(_().loadingWorkspace==m)return;c({loadingWorkspace:m});const y=_().workspace.find(f=>f.info.name===m)?.info.path;try{const f=await fetch(`${Ne.serverPath}${Oe.stopTerminalWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m,path:y}})});if(!f.ok){let a="Failed to stop interactive terminal";try{const u=await f.text();try{const s=JSON.parse(u);a=s.message||s.error||a}catch{u&&(a=u)}}catch{}throw console.error("[Frontend] Backend error:",a),new Error(a)}v||await new Promise(a=>setTimeout(a,1e3))}catch(f){console.error("Error stopping interactive terminal:",f)}c({loadingWorkspace:null})},px=async()=>{try{const c=await fetch(`${Ne.serverPath}${Oe.listWorkspacesDir}`);if(!c.ok)throw new Error("Failed to list workspace");return await c.json()}catch(c){return console.error("Error listing workspace:",c),[]}},gx=async c=>{try{return await(await fetch(`${Ne.serverPath}${Oe.newWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json(),!0}catch{return!1}},mx=async c=>{try{return await(await fetch(`${Ne.serverPath}${Oe.updateWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json(),!0}catch{return!1}},vx="modulepreload",yx=function(c){return"/"+c},Um={},h0=function(_,m,v){let R=Promise.resolve();if(m&&m.length>0){let u=function(s){return Promise.all(s.map(n=>Promise.resolve(n).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};var y=u;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),a=f?.nonce||f?.getAttribute("nonce");R=u(m.map(s=>{if(s=yx(s),s in Um)return;Um[s]=!0;const n=s.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":vx,n||(r.as="script"),r.crossOrigin="",r.href=s,a&&r.setAttribute("nonce",a),document.head.appendChild(r),n)return new Promise((l,h)=>{r.addEventListener("load",l),r.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}function E(f){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=f,window.dispatchEvent(a),!a.defaultPrevented)throw f}return R.then(f=>{for(const a of f||[])a.status==="rejected"&&E(a.reason);return _().catch(E)})},bx=async(c,_,m)=>{window.isLoadingCancelled=!1;const{io:v}=await h0(async()=>{const{io:R}=await import("./index-Crsm9Fe1.js");return{io:R}},[]);return new Promise((R,E)=>{const y=v(Ne.serverPath,{transports:["websocket"],forceNew:!0,reconnection:!1});c({loadMessage:"Connecting..."}),y.on("connect",()=>{c({loadMessage:`Starting template '${m}'...`}),y.emit("template:start",{workspace:_,templatename:m}),window.isLoadingCancelled&&(y.disconnect(),E(new Error("Loading cancelled")))}),y.on("template:progress",f=>{c({loadMessage:f.message}),console.log("[Template Progress]",f.message),window.isLoadingCancelled&&(y.disconnect(),E(new Error("Loading cancelled")))}),y.on("template:success",f=>{c({loadMessage:f.message}),console.log("[Template Success]",f.message),y.disconnect(),R()}),y.on("template:error",f=>{c({loadMessage:`Error: ${f.error}`}),console.error("[Template Error]",f.error),alert(f.error),y.disconnect(),E(new Error(f.error))}),y.on("connect_error",f=>{c({loadMessage:`Connection error: ${f.message}`}),console.error("[Template Connect Error]",f),alert(f.message),y.disconnect(),E(f)}),setTimeout(()=>{y.connected&&(y.disconnect(),c({loadMessage:"Template setup timed out"}),E(new Error("Template setup timed out")))},300*1e3)})},_x=async(c,_,m)=>{if(!_().loading){c({loading:!0});try{const R=await fetch(`${Ne.serverPath}${Oe.deleteWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:m})});if(!R.ok)throw new Error("Failed to delete workspace");const E=await R.json();return c({loading:!1}),E.message}catch(R){return console.error("Error deleting workspace:",R),c({loading:!1}),"Error deleting workspace"}}},xx=Zn()((c,_)=>({workspace:[],workspaceLoading:!1,workspaceDirs:["apps","packages"],activeTerminal:"",activeWorkspaceOptionModal:null,loadingWorkspace:null,loading:!1,showWorkspaceNew:!1,showNewTerminalWindow:null,loadMessage:"",setWorkSpaceRunningAs:(m,v)=>{_().workspace.find(E=>E.info.name===m)&&c({workspace:_().workspace.map(E=>E.info.name===m?{...E,isRunningAs:v}:E)})},setWorkspaceLoading:m=>{c({workspaceLoading:m})},setShowNewTerminalWindow:m=>{c({showNewTerminalWindow:m})},setActiveWorkspaceOptionModal:m=>{c({activeWorkspaceOptionModal:m})},setActiveTerminal:m=>{c({activeTerminal:m})},setShowWorkspaceNew:m=>{c({showWorkspaceNew:m})},listWorkspace:async()=>px(),loadWorkspace:()=>ux(c,_),stopProcess:m=>hx(c,_,m),stopInteractiveTerminal:async(m,v)=>dx(c,_,m,v),stopWorkspaceTerminal:async(m,v)=>fx(c,_,m,v),createNewWorkspace:async m=>await gx(m),updateWorkspace:async m=>await mx(m),setWorkspaceTemplate:async(m,v)=>await bx(c,m,v),deleteWorkspace:async m=>await _x(c,_,m)})),Fe=Qn(xx);var Fh={exports:{}},Vm;function wx(){return Vm||(Vm=1,(function(c,_){(function(m,v){c.exports=v()})(self,(()=>(()=>{var m={4567:function(y,f,a){var u=this&&this.__decorate||function(x,S,w,b){var k,A=arguments.length,T=A<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,w):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,S,w,b);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(S,w,T):k(S,w))||T);return A>3&&T&&Object.defineProperty(S,w,T),T},s=this&&this.__param||function(x,S){return function(w,b){S(w,b,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.AccessibilityManager=void 0;const n=a(9042),i=a(6114),r=a(9924),l=a(844),h=a(5596),o=a(4725),d=a(3656);let g=f.AccessibilityManager=class extends l.Disposable{constructor(x,S){super(),this._terminal=x,this._renderService=S,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new r.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((w=>this._handleResize(w.rows)))),this.register(this._terminal.onRender((w=>this._refreshRows(w.start,w.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((w=>this._handleChar(w)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((w=>this._handleTab(w)))),this.register(this._terminal.onKey((w=>this._handleKey(w.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new h.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,d.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,l.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(x){for(let S=0;S<x;S++)this._handleChar(" ")}_handleChar(x){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==x&&(this._charsToAnnounce+=x):this._charsToAnnounce+=x,x===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=n.tooMuchOutput)),i.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,i.isMac&&this._liveRegion.remove()}_handleKey(x){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(x)||this._charsToConsume.push(x)}_refreshRows(x,S){this._liveRegionDebouncer.refresh(x,S,this._terminal.rows)}_renderRows(x,S){const w=this._terminal.buffer,b=w.lines.length.toString();for(let k=x;k<=S;k++){const A=w.translateBufferLineToString(w.ydisp+k,!0),T=(w.ydisp+k+1).toString(),j=this._rowElements[k];j&&(A.length===0?j.innerText="":j.textContent=A,j.setAttribute("aria-posinset",T),j.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(x,S){const w=x.target,b=this._rowElements[S===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(S===0?"1":`${this._terminal.buffer.lines.length}`)||x.relatedTarget!==b)return;let k,A;if(S===0?(k=w,A=this._rowElements.pop(),this._rowContainer.removeChild(A)):(k=this._rowElements.shift(),A=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),A.removeEventListener("focus",this._bottomBoundaryFocusListener),S===0){const T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else{const T=this._createAccessibilityTreeNode();this._rowElements.push(T),this._rowContainer.appendChild(T)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(S===0?-1:1),this._rowElements[S===0?1:this._rowElements.length-2].focus(),x.preventDefault(),x.stopImmediatePropagation()}_handleResize(x){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let S=this._rowContainer.children.length;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);for(;this._rowElements.length>x;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const x=document.createElement("div");return x.setAttribute("role","listitem"),x.tabIndex=-1,this._refreshRowDimensions(x),x}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let x=0;x<this._terminal.rows;x++)this._refreshRowDimensions(this._rowElements[x])}}_refreshRowDimensions(x){x.style.height=`${this._renderService.dimensions.css.cell.height}px`}};f.AccessibilityManager=g=u([s(1,o.IRenderService)],g)},3614:(y,f)=>{function a(i){return i.replace(/\r?\n/g,"\r")}function u(i,r){return r?"\x1B[200~"+i+"\x1B[201~":i}function s(i,r,l,h){i=u(i=a(i),l.decPrivateModes.bracketedPasteMode&&h.rawOptions.ignoreBracketedPasteMode!==!0),l.triggerDataEvent(i,!0),r.value=""}function n(i,r,l){const h=l.getBoundingClientRect(),o=i.clientX-h.left-10,d=i.clientY-h.top-10;r.style.width="20px",r.style.height="20px",r.style.left=`${o}px`,r.style.top=`${d}px`,r.style.zIndex="1000",r.focus()}Object.defineProperty(f,"__esModule",{value:!0}),f.rightClickHandler=f.moveTextAreaUnderMouseCursor=f.paste=f.handlePasteEvent=f.copyHandler=f.bracketTextForPaste=f.prepareTextForTerminal=void 0,f.prepareTextForTerminal=a,f.bracketTextForPaste=u,f.copyHandler=function(i,r){i.clipboardData&&i.clipboardData.setData("text/plain",r.selectionText),i.preventDefault()},f.handlePasteEvent=function(i,r,l,h){i.stopPropagation(),i.clipboardData&&s(i.clipboardData.getData("text/plain"),r,l,h)},f.paste=s,f.moveTextAreaUnderMouseCursor=n,f.rightClickHandler=function(i,r,l,h,o){n(i,r,l),o&&h.rightClickSelect(i),r.value=h.selectionText,r.select()}},7239:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorContrastCache=void 0;const u=a(1505);f.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(s,n,i){this._css.set(s,n,i)}getCss(s,n){return this._css.get(s,n)}setColor(s,n,i){this._color.set(s,n,i)}getColor(s,n){return this._color.get(s,n)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addDisposableDomListener=void 0,f.addDisposableDomListener=function(a,u,s,n){a.addEventListener(u,s,n);let i=!1;return{dispose:()=>{i||(i=!0,a.removeEventListener(u,s,n))}}}},6465:function(y,f,a){var u=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Linkifier2=void 0;const n=a(3656),i=a(8460),r=a(844),l=a(2585);let h=f.Linkifier2=class extends r.Disposable{get currentLink(){return this._currentLink}constructor(o){super(),this._bufferService=o,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new i.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new i.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,r.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,r.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(o){return this._linkProviders.push(o),{dispose:()=>{const d=this._linkProviders.indexOf(o);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(o,d,g){this._element=o,this._mouseService=d,this._renderService=g,this.register((0,n.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,n.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,n.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,n.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){if(this._lastMouseEvent=o,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const g=o.composedPath();for(let x=0;x<g.length;x++){const S=g[x];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,d){var g,x;this._activeProviderReplies&&d||((g=this._activeProviderReplies)===null||g===void 0||g.forEach((w=>{w?.forEach((b=>{b.link.dispose&&b.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=o.y);let S=!1;for(const[w,b]of this._linkProviders.entries())d?!((x=this._activeProviderReplies)===null||x===void 0)&&x.get(w)&&(S=this._checkLinkProviderResult(w,o,S)):b.provideLinks(o.y,(k=>{var A,T;if(this._isMouseOut)return;const j=k?.map((F=>({link:F})));(A=this._activeProviderReplies)===null||A===void 0||A.set(w,j),S=this._checkLinkProviderResult(w,o,S),((T=this._activeProviderReplies)===null||T===void 0?void 0:T.size)===this._linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)}))}_removeIntersectingLinks(o,d){const g=new Set;for(let x=0;x<d.size;x++){const S=d.get(x);if(S)for(let w=0;w<S.length;w++){const b=S[w],k=b.link.range.start.y<o?0:b.link.range.start.x,A=b.link.range.end.y>o?this._bufferService.cols:b.link.range.end.x;for(let T=k;T<=A;T++){if(g.has(T)){S.splice(w--,1);break}g.add(T)}}}}_checkLinkProviderResult(o,d,g){var x;if(!this._activeProviderReplies)return g;const S=this._activeProviderReplies.get(o);let w=!1;for(let b=0;b<o;b++)this._activeProviderReplies.has(b)&&!this._activeProviderReplies.get(b)||(w=!0);if(!w&&S){const b=S.find((k=>this._linkAtPosition(k.link,d)));b&&(g=!0,this._handleNewLink(b))}if(this._activeProviderReplies.size===this._linkProviders.length&&!g)for(let b=0;b<this._activeProviderReplies.size;b++){const k=(x=this._activeProviderReplies.get(b))===null||x===void 0?void 0:x.find((A=>this._linkAtPosition(A.link,d)));if(k){g=!0,this._handleNewLink(k);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(o,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!o||!d||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,r.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(o.link,d)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:o.link.decorations===void 0||o.link.decorations.underline,pointerCursor:o.link.decorations===void 0||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>{var g,x;return(x=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||x===void 0?void 0:x.decorations.pointerCursor},set:g=>{var x,S;!((x=this._currentLink)===null||x===void 0)&&x.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&((S=this._element)===null||S===void 0||S.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:()=>{var g,x;return(x=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||x===void 0?void 0:x.decorations.underline},set:g=>{var x,S,w;!((x=this._currentLink)===null||x===void 0)&&x.state&&((w=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||w===void 0?void 0:w.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((g=>{if(!this._currentLink)return;const x=g.start===0?0:g.start+1+this._bufferService.buffer.ydisp,S=this._bufferService.buffer.ydisp+1+g.end;if(this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=S&&(this._clearCurrentLink(x,S),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}}))))}_linkHover(o,d,g){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(g,d.text)}_fireUnderlineEvent(o,d){const g=o.range,x=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-x-1,g.end.x,g.end.y-x-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)}_linkLeave(o,d,g){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(g,d.text)}_linkAtPosition(o,d){const g=o.range.start.y*this._bufferService.cols+o.range.start.x,x=o.range.end.y*this._bufferService.cols+o.range.end.x,S=d.y*this._bufferService.cols+d.x;return g<=S&&S<=x}_positionFromMouseEvent(o,d,g){const x=g.getCoords(o,d,this._bufferService.cols,this._bufferService.rows);if(x)return{x:x[0],y:x[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,d,g,x,S){return{x1:o,y1:d,x2:g,y2:x,cols:this._bufferService.cols,fg:S}}};f.Linkifier2=h=u([s(0,l.IBufferService)],h)},9042:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.tooMuchOutput=f.promptLabel=void 0,f.promptLabel="Terminal input",f.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,f,a){var u=this&&this.__decorate||function(h,o,d,g){var x,S=arguments.length,w=S<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,o,d,g);else for(var b=h.length-1;b>=0;b--)(x=h[b])&&(w=(S<3?x(w):S>3?x(o,d,w):x(o,d))||w);return S>3&&w&&Object.defineProperty(o,d,w),w},s=this&&this.__param||function(h,o){return function(d,g){o(d,g,h)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkProvider=void 0;const n=a(511),i=a(2585);let r=f.OscLinkProvider=class{constructor(h,o,d){this._bufferService=h,this._optionsService=o,this._oscLinkService=d}provideLinks(h,o){var d;const g=this._bufferService.buffer.lines.get(h-1);if(!g)return void o(void 0);const x=[],S=this._optionsService.rawOptions.linkHandler,w=new n.CellData,b=g.getTrimmedLength();let k=-1,A=-1,T=!1;for(let j=0;j<b;j++)if(A!==-1||g.hasContent(j)){if(g.loadCell(j,w),w.hasExtendedAttrs()&&w.extended.urlId){if(A===-1){A=j,k=w.extended.urlId;continue}T=w.extended.urlId!==k}else A!==-1&&(T=!0);if(T||A!==-1&&j===b-1){const F=(d=this._oscLinkService.getLinkData(k))===null||d===void 0?void 0:d.uri;if(F){const $={start:{x:A+1,y:h},end:{x:j+(T||j!==b-1?0:1),y:h}};let D=!1;if(!S?.allowNonHttpProtocols)try{const M=new URL(F);["http:","https:"].includes(M.protocol)||(D=!0)}catch{D=!0}D||x.push({text:F,range:$,activate:(M,L)=>S?S.activate(M,L,$):l(0,L),hover:(M,L)=>{var O;return(O=S?.hover)===null||O===void 0?void 0:O.call(S,M,L,$)},leave:(M,L)=>{var O;return(O=S?.leave)===null||O===void 0?void 0:O.call(S,M,L,$)}})}T=!1,w.hasExtendedAttrs()&&w.extended.urlId?(A=j,k=w.extended.urlId):(A=-1,k=-1)}}o(x)}};function l(h,o){if(confirm(`Do you want to navigate to ${o}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}f.OscLinkProvider=r=u([s(0,i.IBufferService),s(1,i.IOptionsService),s(2,i.IOscLinkService)],r)},6193:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderDebouncer=void 0,f.RenderDebouncer=class{constructor(a,u){this._parentWindow=a,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(a,u,s){this._rowCount=s,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ScreenDprMonitor=void 0;const u=a(844);class s extends u.Disposable{constructor(i){super(),this._parentWindow=i,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)((()=>{this.clearListener()})))}setListener(i){this._listener&&this.clearListener(),this._listener=i,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var i;this._outerListener&&((i=this._resolutionMediaMatchList)===null||i===void 0||i.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}f.ScreenDprMonitor=s},3236:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const u=a(3614),s=a(3656),n=a(6465),i=a(9042),r=a(3730),l=a(1680),h=a(3107),o=a(5744),d=a(2950),g=a(1296),x=a(428),S=a(4269),w=a(5114),b=a(8934),k=a(3230),A=a(9312),T=a(4725),j=a(6731),F=a(8055),$=a(8969),D=a(8460),M=a(844),L=a(6114),O=a(8437),z=a(2584),B=a(7399),P=a(5941),U=a(9074),W=a(2585),K=a(5435),Y=a(4567),X=typeof window<"u"?window.document:null;class q extends $.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(V={}){super(V),this.browser=L,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new M.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(n.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(r.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(U.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((Q,te)=>this.refresh(Q,te)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((Q=>this._reportWindowsOptions(Q)))),this.register(this._inputHandler.onColor((Q=>this._handleColorEvent(Q)))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((Q=>this._afterResize(Q.cols,Q.rows)))),this.register((0,M.toDisposable)((()=>{var Q,te;this._customKeyEventHandler=void 0,(te=(Q=this.element)===null||Q===void 0?void 0:Q.parentNode)===null||te===void 0||te.removeChild(this.element)})))}_handleColorEvent(V){if(this._themeService)for(const Q of V){let te,ie="";switch(Q.index){case 256:te="foreground",ie="10";break;case 257:te="background",ie="11";break;case 258:te="cursor",ie="12";break;default:te="ansi",ie="4;"+Q.index}switch(Q.type){case 0:const me=F.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[Q.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${ie};${(0,P.toRgbString)(me)}${z.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors((pe=>pe.ansi[Q.index]=F.rgba.toColor(...Q.color)));else{const pe=te;this._themeService.modifyColors((Se=>Se[pe]=F.rgba.toColor(...Q.color)))}break;case 2:this._themeService.restoreColor(Q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){V?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.updateCursorStyle(V),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return(V=this.textarea)===null||V===void 0?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const V=this.buffer.ybase+this.buffer.y,Q=this.buffer.lines.get(V);if(!Q)return;const te=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,me=Q.getWidth(te),pe=this._renderService.dimensions.css.cell.width*me,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,ke=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ke+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=pe+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",(Q=>{this.hasSelection()&&(0,u.copyHandler)(Q,this._selectionService)})));const V=Q=>(0,u.handlePasteEvent)(Q,this.textarea,this.coreService,this.optionsService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,s.addDisposableDomListener)(this.element,"paste",V)),L.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",(Q=>{Q.button===2&&(0,u.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",(Q=>{(0,u.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),L.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",(Q=>{Q.button===1&&(0,u.moveTextAreaUnderMouseCursor)(Q,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",(V=>this._keyUp(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",(V=>this._keyDown(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",(V=>this._keyPress(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",(V=>this._compositionHelper.compositionupdate(V)))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,s.addDisposableDomListener)(this.textarea,"input",(V=>this._inputEvent(V)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(V){var Q;if(!V)throw new Error("Terminal requires a parent element.");V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=V.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),V.appendChild(this.element);const te=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),te.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),te.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",i.promptLabel),L.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(Q=this._document.defaultView)!==null&&Q!==void 0?Q:window),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,s.addDisposableDomListener)(this.textarea,"focus",(ie=>this._handleTextAreaFocus(ie)))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(S.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ie=>this._onRender.fire(ie)))),this.onResize((ie=>this._renderService.resize(ie.cols,ie.rows))),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(te);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(b.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(A.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(h.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",(ie=>this._selectionService.handleMouseDown(ie)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ie=>this._handleScreenReaderModeOptionChange(ie)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const V=this,Q=this.element;function te(pe){const Se=V._mouseService.getMouseReportCoords(pe,V.screenElement);if(!Se)return!1;let ke,Ae;switch(pe.overrideType||pe.type){case"mousemove":Ae=32,pe.buttons===void 0?(ke=3,pe.button!==void 0&&(ke=pe.button<3?pe.button:3)):ke=1&pe.buttons?0:4&pe.buttons?1:2&pe.buttons?2:3;break;case"mouseup":Ae=0,ke=pe.button<3?pe.button:3;break;case"mousedown":Ae=1,ke=pe.button<3?pe.button:3;break;case"wheel":if(V.viewport.getLinesScrolled(pe)===0)return!1;Ae=pe.deltaY<0?0:1,ke=4;break;default:return!1}return!(Ae===void 0||ke===void 0||ke>4)&&V.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:ke,action:Ae,ctrl:pe.ctrlKey,alt:pe.altKey,shift:pe.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},me={mouseup:pe=>(te(pe),pe.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(pe)),wheel:pe=>(te(pe),this.cancel(pe,!0)),mousedrag:pe=>{pe.buttons&&te(pe)},mousemove:pe=>{pe.buttons||te(pe)}};this.register(this.coreMouseService.onProtocolChange((pe=>{pe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(pe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&pe?ie.mousemove||(Q.addEventListener("mousemove",me.mousemove),ie.mousemove=me.mousemove):(Q.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&pe?ie.wheel||(Q.addEventListener("wheel",me.wheel,{passive:!1}),ie.wheel=me.wheel):(Q.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&pe?ie.mouseup||(Q.addEventListener("mouseup",me.mouseup),ie.mouseup=me.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),Q.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&pe?ie.mousedrag||(ie.mousedrag=me.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(Q,"mousedown",(pe=>{if(pe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(pe))return te(pe),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(pe)}))),this.register((0,s.addDisposableDomListener)(Q,"wheel",(pe=>{if(!ie.wheel){if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(pe);if(Se===0)return;const ke=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(pe.deltaY<0?"A":"B");let Ae="";for(let Ue=0;Ue<Math.abs(Se);Ue++)Ae+=ke;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(pe,!0)}return this.viewport.handleWheel(pe)?this.cancel(pe):void 0}}),{passive:!1})),this.register((0,s.addDisposableDomListener)(Q,"touchstart",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(pe),this.cancel(pe)}),{passive:!0})),this.register((0,s.addDisposableDomListener)(Q,"touchmove",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(pe)?void 0:this.cancel(pe)}),{passive:!1}))}refresh(V,Q){var te;(te=this._renderService)===null||te===void 0||te.refreshRows(V,Q)}updateCursorStyle(V){var Q;!((Q=this._selectionService)===null||Q===void 0)&&Q.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,Q,te=0){var ie;te===1?(super.scrollLines(V,Q,te),this.refresh(0,this.rows-1)):(ie=this.viewport)===null||ie===void 0||ie.scrollLines(V)}paste(V){(0,u.paste)(V,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}registerLinkProvider(V){return this.linkifier2.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Q=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),Q}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,Q,te){this._selectionService.setSelection(V,Q,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;(V=this._selectionService)===null||V===void 0||V.clearSelection()}selectAll(){var V;(V=this._selectionService)===null||V===void 0||V.selectAll()}selectLines(V,Q){var te;(te=this._selectionService)===null||te===void 0||te.selectLines(V,Q)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;const Q=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!Q&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Q||V.key!=="Dead"&&V.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,B.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),te.type===3||te.type===2){const ie=this.rows-1;return this.scrollLines(te.type===2?-ie:ie),this.cancel(V,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(te.cancel&&this.cancel(V,!0),!te.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&V.key.length===1&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==z.C0.ETX&&te.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,Q){const te=V.isMac&&!this.options.macOptionIsMeta&&Q.altKey&&!Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.altKey&&Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.getModifierState("AltGraph");return Q.type==="keypress"?te:te&&(!Q.keyCode||Q.keyCode>47)}_keyUp(V){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1||((function(Q){return Q.keyCode===16||Q.keyCode===17||Q.keyCode===18})(V)||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let Q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;if(this.cancel(V),V.charCode)Q=V.charCode;else if(V.which===null||V.which===void 0)Q=V.keyCode;else{if(V.which===0||V.charCode===0)return!1;Q=V.which}return!(!Q||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(Q=String.fromCharCode(Q),this._onKey.fire({key:Q,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(Q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){if(V.data&&V.inputType==="insertText"&&(!V.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Q=V.data;return this.coreService.triggerDataEvent(Q,!0),this.cancel(V),!0}return!1}resize(V,Q){V!==this.cols||Q!==this.rows?super.resize(V,Q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,Q){var te,ie;(te=this._charSizeService)===null||te===void 0||te.measure(),(ie=this.viewport)===null||ie===void 0||ie.syncScrollArea(!0)}clear(){var V;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Q=1;Q<this.rows;Q++)this.buffer.lines.push(this.buffer.getBlankLine(O.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(V=this.viewport)===null||V===void 0||V.reset(),this.refresh(0,this.rows-1)}}reset(){var V,Q;this.options.rows=this.rows,this.options.cols=this.cols;const te=this._customKeyEventHandler;this._setup(),super.reset(),(V=this._selectionService)===null||V===void 0||V.reset(),this._decorationService.reset(),(Q=this.viewport)===null||Q===void 0||Q.reset(),this._customKeyEventHandler=te,this.refresh(0,this.rows-1)}clearTextureAtlas(){var V;(V=this._renderService)===null||V===void 0||V.clearTextureAtlas()}_reportFocus(){var V;!((V=this.element)===null||V===void 0)&&V.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Q=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${te};${Q}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),me=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${me};${ie}t`)}}cancel(V,Q){if(this.options.cancelEvents||Q)return V.preventDefault(),V.stopPropagation(),!1}}f.Terminal=q},9924:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TimeBasedDebouncer=void 0,f.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,s){this._rowCount=s,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){const i=n-this._lastRefreshMs,r=this._debounceThresholdMS-i;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),r)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(y,f,a){var u=this&&this.__decorate||function(d,g,x,S){var w,b=arguments.length,k=b<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,g,x,S);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(b<3?w(k):b>3?w(g,x,k):w(g,x))||k);return b>3&&k&&Object.defineProperty(g,x,k),k},s=this&&this.__param||function(d,g){return function(x,S){g(x,S,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Viewport=void 0;const n=a(3656),i=a(4725),r=a(8460),l=a(844),h=a(2585);let o=f.Viewport=class extends l.Disposable{constructor(d,g,x,S,w,b,k,A){super(),this._viewportElement=d,this._scrollArea=g,this._bufferService=x,this._optionsService=S,this._charSizeService=w,this._renderService=b,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new r.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((T=>this._activeBuffer=T.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((T=>this._renderDimensions=T))),this._handleThemeChange(A.colors),this.register(A.onChangeColors((T=>this._handleThemeChange(T)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,g){const x=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&x<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const g=this._getPixelsScrolled(d);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(d,g))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let g=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(d,g){var x;let S,w="";const b=[],k=g??this._bufferService.buffer.lines.length,A=this._bufferService.buffer.lines;for(let T=d;T<k;T++){const j=A.get(T);if(!j)continue;const F=(x=A.get(T+1))===null||x===void 0?void 0:x.isWrapped;if(w+=j.translateToString(!F),!F||T===A.length-1){const $=document.createElement("div");$.textContent=w,b.push($),w.length>0&&(S=$),w=""}}return{bufferElements:b,cursorElement:S}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let g=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(d,g){const x=this._optionsService.rawOptions.fastScrollModifier;return x==="alt"&&g.altKey||x==="ctrl"&&g.ctrlKey||x==="shift"&&g.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const g=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(d,g))}};f.Viewport=o=u([s(2,h.IBufferService),s(3,h.IOptionsService),s(4,i.ICharSizeService),s(5,i.IRenderService),s(6,i.ICoreBrowserService),s(7,i.IThemeService)],o)},3107:function(y,f,a){var u=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferDecorationRenderer=void 0;const n=a(3656),i=a(4725),r=a(844),l=a(2585);let h=f.BufferDecorationRenderer=class extends r.Disposable{constructor(o,d,g,x){super(),this._screenElement=o,this._bufferService=d,this._decorationService=g,this._renderService=x,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,n.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((S=>this._removeDecoration(S)))),this.register((0,r.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const o of this._decorationService.decorations)this._renderDecoration(o);this._dimensionsChanged=!1}_renderDecoration(o){this._refreshStyle(o),this._dimensionsChanged&&this._refreshXPosition(o)}_createElement(o){var d,g;const x=document.createElement("div");x.classList.add("xterm-decoration"),x.classList.toggle("xterm-decoration-top-layer",((d=o?.options)===null||d===void 0?void 0:d.layer)==="top"),x.style.width=`${Math.round((o.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,x.style.height=(o.options.height||1)*this._renderService.dimensions.css.cell.height+"px",x.style.top=(o.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",x.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const S=(g=o.options.x)!==null&&g!==void 0?g:0;return S&&S>this._bufferService.cols&&(x.style.display="none"),this._refreshXPosition(o,x),x}_refreshStyle(o){const d=o.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)o.element&&(o.element.style.display="none",o.onRenderEmitter.fire(o.element));else{let g=this._decorationElements.get(o);g||(g=this._createElement(o),o.element=g,this._decorationElements.set(o,g),this._container.appendChild(g),o.onDispose((()=>{this._decorationElements.delete(o),g.remove()}))),g.style.top=d*this._renderService.dimensions.css.cell.height+"px",g.style.display=this._altBufferIsActive?"none":"block",o.onRenderEmitter.fire(g)}}_refreshXPosition(o,d=o.element){var g;if(!d)return;const x=(g=o.options.x)!==null&&g!==void 0?g:0;(o.options.anchor||"left")==="right"?d.style.right=x?x*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=x?x*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(o){var d;(d=this._decorationElements.get(o))===null||d===void 0||d.remove(),this._decorationElements.delete(o),o.dispose()}};f.BufferDecorationRenderer=h=u([s(1,l.IBufferService),s(2,l.IDecorationService),s(3,i.IRenderService)],h)},5871:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorZoneStore=void 0,f.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,s){return u>=a.startBufferLine-this._linePadding[s||"full"]&&u<=a.endBufferLine+this._linePadding[s||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(y,f,a){var u=this&&this.__decorate||function(S,w,b,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(S,w,b,k);else for(var F=S.length-1;F>=0;F--)(A=S[F])&&(j=(T<3?A(j):T>3?A(w,b,j):A(w,b))||j);return T>3&&j&&Object.defineProperty(w,b,j),j},s=this&&this.__param||function(S,w){return function(b,k){w(b,k,S)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OverviewRulerRenderer=void 0;const n=a(5871),i=a(3656),r=a(4725),l=a(844),h=a(2585),o={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0};let x=f.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(S,w,b,k,A,T,j){var F;super(),this._viewportElement=S,this._screenElement=w,this._bufferService=b,this._decorationService=k,this._renderService=A,this._optionsService=T,this._coreBrowseService=j,this._colorZoneStore=new n.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(F=this._viewportElement.parentElement)===null||F===void 0||F.insertBefore(this._canvas,this._viewportElement);const $=this._canvas.getContext("2d");if(!$)throw new Error("Ctx cannot be null");this._ctx=$,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)((()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,i.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const S=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=S,d.center=w,d.right=S,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=d.left,g.right=d.left+d.center}_refreshDrawHeightConstants(){o.full=Math.round(2*this._coreBrowseService.dpr);const S=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(S,12),6)*this._coreBrowseService.dpr);o.left=w,o.center=w,o.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const S=this._colorZoneStore.zones;for(const w of S)w.position!=="full"&&this._renderColorZone(w);for(const w of S)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(S){this._ctx.fillStyle=S.color,this._ctx.fillRect(g[S.position||"full"],Math.round((this._canvas.height-1)*(S.startBufferLine/this._bufferService.buffers.active.lines.length)-o[S.position||"full"]/2),d[S.position||"full"],Math.round((this._canvas.height-1)*((S.endBufferLine-S.startBufferLine)/this._bufferService.buffers.active.lines.length)+o[S.position||"full"]))}_queueRefresh(S,w){this._shouldUpdateDimensions=S||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};f.OverviewRulerRenderer=x=u([s(2,h.IBufferService),s(3,h.IDecorationService),s(4,r.IRenderService),s(5,h.IOptionsService),s(6,r.ICoreBrowserService)],x)},2950:function(y,f,a){var u=this&&this.__decorate||function(h,o,d,g){var x,S=arguments.length,w=S<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,o,d,g);else for(var b=h.length-1;b>=0;b--)(x=h[b])&&(w=(S<3?x(w):S>3?x(o,d,w):x(o,d))||w);return S>3&&w&&Object.defineProperty(o,d,w),w},s=this&&this.__param||function(h,o){return function(d,g){o(d,g,h)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CompositionHelper=void 0;const n=a(4725),i=a(2585),r=a(2584);let l=f.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(h,o,d,g,x,S){this._textarea=h,this._compositionView=o,this._bufferService=d,this._optionsService=g,this._coreService=x,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(h){this._compositionView.textContent=h.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(h){if(this._isComposing||this._isSendingComposition){if(h.keyCode===229||h.keyCode===16||h.keyCode===17||h.keyCode===18)return!1;this._finalizeComposition(!1)}return h.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(h){if(this._compositionView.classList.remove("active"),this._isComposing=!1,h){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}}),0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const h=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const o=this._textarea.value,d=o.replace(h,"");this._dataAlreadySent=d,o.length>h.length?this._coreService.triggerDataEvent(d,!0):o.length<h.length?this._coreService.triggerDataEvent(`${r.C0.DEL}`,!0):o.length===h.length&&o!==h&&this._coreService.triggerDataEvent(o,!0)}}),0)}updateCompositionElements(h){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,x=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=x+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=x+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}h||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};f.CompositionHelper=l=u([s(2,i.IBufferService),s(3,i.IOptionsService),s(4,i.ICoreService),s(5,n.IRenderService)],l)},9806:(y,f)=>{function a(u,s,n){const i=n.getBoundingClientRect(),r=u.getComputedStyle(n),l=parseInt(r.getPropertyValue("padding-left")),h=parseInt(r.getPropertyValue("padding-top"));return[s.clientX-i.left-l,s.clientY-i.top-h]}Object.defineProperty(f,"__esModule",{value:!0}),f.getCoords=f.getCoordsRelativeToElement=void 0,f.getCoordsRelativeToElement=a,f.getCoords=function(u,s,n,i,r,l,h,o,d){if(!l)return;const g=a(u,s,n);return g?(g[0]=Math.ceil((g[0]+(d?h/2:0))/h),g[1]=Math.ceil(g[1]/o),g[0]=Math.min(Math.max(g[0],1),i+(d?1:0)),g[1]=Math.min(Math.max(g[1],1),r),g):void 0}},9504:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.moveToCellSequence=void 0;const u=a(2584);function s(o,d,g,x){const S=o-n(o,g),w=d-n(d,g),b=Math.abs(S-w)-(function(k,A,T){let j=0;const F=k-n(k,T),$=A-n(A,T);for(let D=0;D<Math.abs(F-$);D++){const M=i(k,A)==="A"?-1:1,L=T.buffer.lines.get(F+M*D);L?.isWrapped&&j++}return j})(o,d,g);return h(b,l(i(o,d),x))}function n(o,d){let g=0,x=d.buffer.lines.get(o),S=x?.isWrapped;for(;S&&o>=0&&o<d.rows;)g++,x=d.buffer.lines.get(--o),S=x?.isWrapped;return g}function i(o,d){return o>d?"A":"B"}function r(o,d,g,x,S,w){let b=o,k=d,A="";for(;b!==g||k!==x;)b+=S?1:-1,S&&b>w.cols-1?(A+=w.buffer.translateBufferLineToString(k,!1,o,b),b=0,o=0,k++):!S&&b<0&&(A+=w.buffer.translateBufferLineToString(k,!1,0,o+1),b=w.cols-1,o=b,k--);return A+w.buffer.translateBufferLineToString(k,!1,o,b)}function l(o,d){const g=d?"O":"[";return u.C0.ESC+g+o}function h(o,d){o=Math.floor(o);let g="";for(let x=0;x<o;x++)g+=d;return g}f.moveToCellSequence=function(o,d,g,x){const S=g.buffer.x,w=g.buffer.y;if(!g.buffer.hasScrollback)return(function(A,T,j,F,$,D){return s(T,F,$,D).length===0?"":h(r(A,T,A,T-n(T,$),!1,$).length,l("D",D))})(S,w,0,d,g,x)+s(w,d,g,x)+(function(A,T,j,F,$,D){let M;M=s(T,F,$,D).length>0?F-n(F,$):T;const L=F,O=(function(z,B,P,U,W,K){let Y;return Y=s(P,U,W,K).length>0?U-n(U,W):B,z<P&&Y<=U||z>=P&&Y<U?"C":"D"})(A,T,j,F,$,D);return h(r(A,M,j,L,O==="C",$).length,l(O,D))})(S,w,o,d,g,x);let b;if(w===d)return b=S>o?"D":"C",h(Math.abs(S-o),l(b,x));b=w>d?"D":"C";const k=Math.abs(w-d);return h((function(A,T){return T.cols-A})(w>d?o:S,g)+(k-1)*g.cols+1+((w>d?S:o)-1),l(b,x))}},1296:function(y,f,a){var u=this&&this.__decorate||function($,D,M,L){var O,z=arguments.length,B=z<3?D:L===null?L=Object.getOwnPropertyDescriptor(D,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate($,D,M,L);else for(var P=$.length-1;P>=0;P--)(O=$[P])&&(B=(z<3?O(B):z>3?O(D,M,B):O(D,M))||B);return z>3&&B&&Object.defineProperty(D,M,B),B},s=this&&this.__param||function($,D){return function(M,L){D(M,L,$)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRenderer=void 0;const n=a(3787),i=a(2550),r=a(2223),l=a(6171),h=a(4725),o=a(8055),d=a(8460),g=a(844),x=a(2585),S="xterm-dom-renderer-owner-",w="xterm-rows",b="xterm-fg-",k="xterm-bg-",A="xterm-focus",T="xterm-selection";let j=1,F=f.DomRenderer=class extends g.Disposable{constructor($,D,M,L,O,z,B,P,U,W){super(),this._element=$,this._screenElement=D,this._viewportElement=M,this._linkifier2=L,this._charSizeService=z,this._optionsService=B,this._bufferService=P,this._coreBrowserService=U,this._themeService=W,this._terminalClass=j++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((K=>this._injectCss(K)))),this._injectCss(this._themeService.colors),this._rowFactory=O.createInstance(n.DomRendererRowFactory,document),this._element.classList.add(S+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((K=>this._handleLinkHover(K)))),this.register(this._linkifier2.onHideLinkUnderline((K=>this._handleLinkLeave(K)))),this.register((0,g.toDisposable)((()=>{this._element.classList.remove(S+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new i.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const $=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*$,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*$),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/$),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/$),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const M of this._rowElements)M.style.width=`${this.dimensions.css.canvas.width}px`,M.style.height=`${this.dimensions.css.cell.height}px`,M.style.lineHeight=`${this.dimensions.css.cell.height}px`,M.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss($){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${w} { color: ${$.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${w} .xterm-dim { color: ${o.color.multiplyOpacity($.foreground,.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${$.cursor.css};  color: ${$.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${$.cursor.css}; }}`,D+=`${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${$.cursor.css}; color: ${$.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${$.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${$.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${$.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${$.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${$.selectionInactiveBackgroundOpaque.css};}`;for(const[M,L]of $.ansi.entries())D+=`${this._terminalSelector} .${b}${M} { color: ${L.css}; }${this._terminalSelector} .${b}${M}.xterm-dim { color: ${o.color.multiplyOpacity(L,.5).css}; }${this._terminalSelector} .${k}${M} { background-color: ${L.css}; }`;D+=`${this._terminalSelector} .${b}${r.INVERTED_DEFAULT_COLOR} { color: ${o.color.opaque($.background).css}; }${this._terminalSelector} .${b}${r.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${o.color.multiplyOpacity(o.color.opaque($.background),.5).css}; }${this._terminalSelector} .${k}${r.INVERTED_DEFAULT_COLOR} { background-color: ${$.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const $=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${$}px`,this._rowFactory.defaultSpacing=$}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements($,D){for(let M=this._rowElements.length;M<=D;M++){const L=document.createElement("div");this._rowContainer.appendChild(L),this._rowElements.push(L)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize($,D){this._refreshRowElements($,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(A)}handleFocus(){this._rowContainer.classList.add(A),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged($,D,M){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged($,D,M),this.renderRows(0,this._bufferService.rows-1),!$||!D)return;const L=$[1]-this._bufferService.buffer.ydisp,O=D[1]-this._bufferService.buffer.ydisp,z=Math.max(L,0),B=Math.min(O,this._bufferService.rows-1);if(z>=this._bufferService.rows||B<0)return;const P=document.createDocumentFragment();if(M){const U=$[0]>D[0];P.appendChild(this._createSelectionElement(z,U?D[0]:$[0],U?$[0]:D[0],B-z+1))}else{const U=L===z?$[0]:0,W=z===O?D[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(z,U,W));const K=B-z-1;if(P.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,K)),z!==B){const Y=O===B?D[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(B,0,Y))}}this._selectionContainer.appendChild(P)}_createSelectionElement($,D,M,L=1){const O=document.createElement("div");return O.style.height=L*this.dimensions.css.cell.height+"px",O.style.top=$*this.dimensions.css.cell.height+"px",O.style.left=D*this.dimensions.css.cell.width+"px",O.style.width=this.dimensions.css.cell.width*(M-D)+"px",O}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const $ of this._rowElements)$.replaceChildren()}renderRows($,D){const M=this._bufferService.buffer,L=M.ybase+M.y,O=Math.min(M.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,B=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let U=$;U<=D;U++){const W=U+M.ydisp,K=this._rowElements[U],Y=M.lines.get(W);if(!K||!Y)break;K.replaceChildren(...this._rowFactory.createRow(Y,W,W===L,B,P,O,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${S}${this._terminalClass}`}_handleLinkHover($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!0)}_handleLinkLeave($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!1)}_setCellUnderline($,D,M,L,O,z){M<0&&($=0),L<0&&(D=0);const B=this._bufferService.rows-1;M=Math.max(Math.min(M,B),0),L=Math.max(Math.min(L,B),0),O=Math.min(O,this._bufferService.cols);const P=this._bufferService.buffer,U=P.ybase+P.y,W=Math.min(P.x,O-1),K=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=M;q<=L;++q){const J=q+P.ydisp,V=this._rowElements[q],Q=P.lines.get(J);if(!V||!Q)break;V.replaceChildren(...this._rowFactory.createRow(Q,J,J===U,Y,X,W,K,this.dimensions.css.cell.width,this._widthCache,z?q===M?$:0:-1,z?(q===L?D:O)-1:-1))}}};f.DomRenderer=F=u([s(4,x.IInstantiationService),s(5,h.ICharSizeService),s(6,x.IOptionsService),s(7,x.IBufferService),s(8,h.ICoreBrowserService),s(9,h.IThemeService)],F)},3787:function(y,f,a){var u=this&&this.__decorate||function(b,k,A,T){var j,F=arguments.length,$=F<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(b,k,A,T);else for(var D=b.length-1;D>=0;D--)(j=b[D])&&($=(F<3?j($):F>3?j(k,A,$):j(k,A))||$);return F>3&&$&&Object.defineProperty(k,A,$),$},s=this&&this.__param||function(b,k){return function(A,T){k(A,T,b)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRendererRowFactory=void 0;const n=a(2223),i=a(643),r=a(511),l=a(2585),h=a(8055),o=a(4725),d=a(4269),g=a(6171),x=a(3734);let S=f.DomRendererRowFactory=class{constructor(b,k,A,T,j,F,$){this._document=b,this._characterJoinerService=k,this._optionsService=A,this._coreBrowserService=T,this._coreService=j,this._decorationService=F,this._themeService=$,this._workCell=new r.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(b,k,A){this._selectionStart=b,this._selectionEnd=k,this._columnSelectMode=A}createRow(b,k,A,T,j,F,$,D,M,L,O){const z=[],B=this._characterJoinerService.getJoinedCharacters(k),P=this._themeService.colors;let U,W=b.getNoBgTrimmedLength();A&&W<F+1&&(W=F+1);let K=0,Y="",X=0,q=0,J=0,V=!1,Q=0,te=!1,ie=0;const me=[],pe=L!==-1&&O!==-1;for(let Se=0;Se<W;Se++){b.loadCell(Se,this._workCell);let ke=this._workCell.getWidth();if(ke===0)continue;let Ae=!1,Ue=Se,we=this._workCell;if(B.length>0&&Se===B[0][0]){Ae=!0;const He=B.shift();we=new d.JoinedCellData(this._workCell,b.translateToString(!0,He[0],He[1]),He[1]-He[0]),Ue=He[1]-1,ke=we.getWidth()}const Ce=this._isCellInSelection(Se,k),at=A&&Se===F,$t=pe&&Se>=L&&Se<=O;let qt=!1;this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{qt=!0}));let Zt=we.getChars()||i.WHITESPACE_CELL_CHAR;if(Zt===" "&&(we.isUnderline()||we.isOverline())&&(Zt=""),ie=ke*D-M.get(Zt,we.isBold(),we.isItalic()),U){if(K&&(Ce&&te||!Ce&&!te&&we.bg===X)&&(Ce&&te&&P.selectionForeground||we.fg===q)&&we.extended.ext===J&&$t===V&&ie===Q&&!at&&!Ae&&!qt){Y+=Zt,K++;continue}K&&(U.textContent=Y),U=this._document.createElement("span"),K=0,Y=""}else U=this._document.createElement("span");if(X=we.bg,q=we.fg,J=we.extended.ext,V=$t,Q=ie,te=Ce,Ae&&F>=Se&&F<=Ue&&(F=Se),!this._coreService.isCursorHidden&&at){if(me.push("xterm-cursor"),this._coreBrowserService.isFocused)$&&me.push("xterm-cursor-blink"),me.push(T==="bar"?"xterm-cursor-bar":T==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":me.push("xterm-cursor-outline");break;case"block":me.push("xterm-cursor-block");break;case"bar":me.push("xterm-cursor-bar");break;case"underline":me.push("xterm-cursor-underline")}}if(we.isBold()&&me.push("xterm-bold"),we.isItalic()&&me.push("xterm-italic"),we.isDim()&&me.push("xterm-dim"),Y=we.isInvisible()?i.WHITESPACE_CELL_CHAR:we.getChars()||i.WHITESPACE_CELL_CHAR,we.isUnderline()&&(me.push(`xterm-underline-${we.extended.underlineStyle}`),Y===" "&&(Y=""),!we.isUnderlineColorDefault()))if(we.isUnderlineColorRGB())U.style.textDecorationColor=`rgb(${x.AttributeData.toColorRGB(we.getUnderlineColor()).join(",")})`;else{let He=we.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&we.isBold()&&He<8&&(He+=8),U.style.textDecorationColor=P.ansi[He].css}we.isOverline()&&(me.push("xterm-overline"),Y===" "&&(Y="")),we.isStrikethrough()&&me.push("xterm-strikethrough"),$t&&(U.style.textDecoration="underline");let mt=we.getFgColor(),Ze=we.getFgColorMode(),_t=we.getBgColor(),Dt=we.getBgColorMode();const xt=!!we.isInverse();if(xt){const He=mt;mt=_t,_t=He;const Tt=Ze;Ze=Dt,Dt=Tt}let pt,Yt,it,rt=!1;switch(this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{He.options.layer!=="top"&&rt||(He.backgroundColorRGB&&(Dt=50331648,_t=He.backgroundColorRGB.rgba>>8&16777215,pt=He.backgroundColorRGB),He.foregroundColorRGB&&(Ze=50331648,mt=He.foregroundColorRGB.rgba>>8&16777215,Yt=He.foregroundColorRGB),rt=He.options.layer==="top")})),!rt&&Ce&&(pt=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,_t=pt.rgba>>8&16777215,Dt=50331648,rt=!0,P.selectionForeground&&(Ze=50331648,mt=P.selectionForeground.rgba>>8&16777215,Yt=P.selectionForeground)),rt&&me.push("xterm-decoration-top"),Dt){case 16777216:case 33554432:it=P.ansi[_t],me.push(`xterm-bg-${_t}`);break;case 50331648:it=h.rgba.toColor(_t>>16,_t>>8&255,255&_t),this._addStyle(U,`background-color:#${w((_t>>>0).toString(16),"0",6)}`);break;default:xt?(it=P.foreground,me.push(`xterm-bg-${n.INVERTED_DEFAULT_COLOR}`)):it=P.background}switch(pt||we.isDim()&&(pt=h.color.multiplyOpacity(it,.5)),Ze){case 16777216:case 33554432:we.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(U,it,P.ansi[mt],we,pt,void 0)||me.push(`xterm-fg-${mt}`);break;case 50331648:const He=h.rgba.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(U,it,He,we,pt,Yt)||this._addStyle(U,`color:#${w(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(U,it,P.foreground,we,pt,void 0)||xt&&me.push(`xterm-fg-${n.INVERTED_DEFAULT_COLOR}`)}me.length&&(U.className=me.join(" "),me.length=0),at||Ae||qt?U.textContent=Y:K++,ie!==this.defaultSpacing&&(U.style.letterSpacing=`${ie}px`),z.push(U),Se=Ue}return U&&K&&(U.textContent=Y),z}_applyMinimumContrast(b,k,A,T,j,F){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.excludeFromContrastRatioDemands)(T.getCode()))return!1;const $=this._getContrastCache(T);let D;if(j||F||(D=$.getColor(k.rgba,A.rgba)),D===void 0){const M=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);D=h.color.ensureContrastRatio(j||k,F||A,M),$.setColor((j||k).rgba,(F||A).rgba,D??null)}return!!D&&(this._addStyle(b,`color:${D.css}`),!0)}_getContrastCache(b){return b.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(b,k){b.setAttribute("style",`${b.getAttribute("style")||""}${k};`)}_isCellInSelection(b,k){const A=this._selectionStart,T=this._selectionEnd;return!(!A||!T)&&(this._columnSelectMode?A[0]<=T[0]?b>=A[0]&&k>=A[1]&&b<T[0]&&k<=T[1]:b<A[0]&&k>=A[1]&&b>=T[0]&&k<=T[1]:k>A[1]&&k<T[1]||A[1]===T[1]&&k===A[1]&&b>=A[0]&&b<T[0]||A[1]<T[1]&&k===T[1]&&b<T[0]||A[1]<T[1]&&k===A[1]&&b>=A[0])}};function w(b,k,A){for(;b.length<A;)b=k+b;return b}f.DomRendererRowFactory=S=u([s(1,o.ICharacterJoinerService),s(2,l.IOptionsService),s(3,o.ICoreBrowserService),s(4,l.ICoreService),s(5,l.IDecorationService),s(6,o.IThemeService)],S)},2550:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WidthCache=void 0,f.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=a.createElement("span"),s=a.createElement("span");s.style.fontWeight="bold";const n=a.createElement("span");n.style.fontStyle="italic";const i=a.createElement("span");i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[u,s,n,i],this._container.appendChild(u),this._container.appendChild(s),this._container.appendChild(n),this._container.appendChild(i),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,u,s,n){a===this._font&&u===this._fontSize&&s===this._weight&&n===this._weightBold||(this._font=a,this._fontSize=u,this._weight=s,this._weightBold=n,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${s}`,this._measureElements[1].style.fontWeight=`${n}`,this._measureElements[2].style.fontWeight=`${s}`,this._measureElements[3].style.fontWeight=`${n}`,this.clear())}get(a,u,s){let n=0;if(!u&&!s&&a.length===1&&(n=a.charCodeAt(0))<256)return this._flat[n]!==-9999?this._flat[n]:this._flat[n]=this._measure(a,0);let i=a;u&&(i+="B"),s&&(i+="I");let r=this._holey.get(i);if(r===void 0){let l=0;u&&(l|=1),s&&(l|=2),r=this._measure(a,l),this._holey.set(i,r)}return r}_measure(a,u){const s=this._measureElements[u];return s.textContent=a.repeat(32),s.offsetWidth/32}}},2223:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TEXT_BASELINE=f.DIM_OPACITY=f.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);f.INVERTED_DEFAULT_COLOR=257,f.DIM_OPACITY=.5,f.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(y,f)=>{function a(u){return 57508<=u&&u<=57558}Object.defineProperty(f,"__esModule",{value:!0}),f.createRenderDimensions=f.excludeFromContrastRatioDemands=f.isRestrictedPowerlineGlyph=f.isPowerlineGlyph=f.throwIfFalsy=void 0,f.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},f.isPowerlineGlyph=a,f.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},f.excludeFromContrastRatioDemands=function(u){return a(u)||(function(s){return 9472<=s&&s<=9631})(u)},f.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionModel=void 0,f.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,f,a){var u=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharSizeService=void 0;const n=a(2585),i=a(8460),r=a(844);let l=f.CharSizeService=class extends r.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(o,d,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new i.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new h(o,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};f.CharSizeService=l=u([s(2,n.IOptionsService)],l);class h{constructor(d,g,x){this._document=d,this._parentElement=g,this._optionsService=x,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(y,f,a){var u=this&&this.__decorate||function(d,g,x,S){var w,b=arguments.length,k=b<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,g,x,S);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(b<3?w(k):b>3?w(g,x,k):w(g,x))||k);return b>3&&k&&Object.defineProperty(g,x,k),k},s=this&&this.__param||function(d,g){return function(x,S){g(x,S,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterJoinerService=f.JoinedCellData=void 0;const n=a(3734),i=a(643),r=a(511),l=a(2585);class h extends n.AttributeData{constructor(g,x,S){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=x,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.JoinedCellData=h;let o=f.CharacterJoinerService=class d0{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new r.CellData}register(g){const x={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(x),x.id}deregister(g){for(let x=0;x<this._characterJoiners.length;x++)if(this._characterJoiners[x].id===g)return this._characterJoiners.splice(x,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const x=this._bufferService.buffer.lines.get(g);if(!x||x.length===0)return[];const S=[],w=x.translateToString(!0);let b=0,k=0,A=0,T=x.getFg(0),j=x.getBg(0);for(let F=0;F<x.getTrimmedLength();F++)if(x.loadCell(F,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==j){if(F-b>1){const $=this._getJoinedRanges(w,A,k,x,b);for(let D=0;D<$.length;D++)S.push($[D])}b=F,A=k,T=this._workCell.fg,j=this._workCell.bg}k+=this._workCell.getChars().length||i.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-b>1){const F=this._getJoinedRanges(w,A,k,x,b);for(let $=0;$<F.length;$++)S.push(F[$])}return S}_getJoinedRanges(g,x,S,w,b){const k=g.substring(x,S);let A=[];try{A=this._characterJoiners[0].handler(k)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const j=this._characterJoiners[T].handler(k);for(let F=0;F<j.length;F++)d0._mergeRanges(A,j[F])}catch(j){console.error(j)}return this._stringRangesToCellRanges(A,w,b),A}_stringRangesToCellRanges(g,x,S){let w=0,b=!1,k=0,A=g[w];if(A){for(let T=S;T<this._bufferService.cols;T++){const j=x.getWidth(T),F=x.getString(T).length||i.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!b&&A[0]<=k&&(A[0]=T,b=!0),A[1]<=k){if(A[1]=T,A=g[++w],!A)break;A[0]<=k?(A[0]=T,b=!0):b=!1}k+=F}}A&&(A[1]=this._bufferService.cols)}}static _mergeRanges(g,x){let S=!1;for(let w=0;w<g.length;w++){const b=g[w];if(S){if(x[1]<=b[0])return g[w-1][1]=x[1],g;if(x[1]<=b[1])return g[w-1][1]=Math.max(x[1],b[1]),g.splice(w,1),g;g.splice(w,1),w--}else{if(x[1]<=b[0])return g.splice(w,0,x),g;if(x[1]<=b[1])return b[0]=Math.min(x[0],b[0]),g;x[0]<b[1]&&(b[0]=Math.min(x[0],b[0]),S=!0)}}return S?g[g.length-1][1]=x[1]:g.push(x),g}};f.CharacterJoinerService=o=u([s(0,l.IBufferService)],o)},5114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreBrowserService=void 0,f.CoreBrowserService=class{constructor(a,u){this._textarea=a,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(y,f,a){var u=this&&this.__decorate||function(l,h,o,d){var g,x=arguments.length,S=x<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(l,h,o,d);else for(var w=l.length-1;w>=0;w--)(g=l[w])&&(S=(x<3?g(S):x>3?g(h,o,S):g(h,o))||S);return x>3&&S&&Object.defineProperty(h,o,S),S},s=this&&this.__param||function(l,h){return function(o,d){h(o,d,l)}};Object.defineProperty(f,"__esModule",{value:!0}),f.MouseService=void 0;const n=a(4725),i=a(9806);let r=f.MouseService=class{constructor(l,h){this._renderService=l,this._charSizeService=h}getCoords(l,h,o,d,g){return(0,i.getCoords)(window,l,h,o,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(l,h){const o=(0,i.getCoordsRelativeToElement)(window,l,h);if(this._charSizeService.hasValidSize)return o[0]=Math.min(Math.max(o[0],0),this._renderService.dimensions.css.canvas.width-1),o[1]=Math.min(Math.max(o[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};f.MouseService=r=u([s(0,n.IRenderService),s(1,n.ICharSizeService)],r)},3230:function(y,f,a){var u=this&&this.__decorate||function(S,w,b,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(S,w,b,k);else for(var F=S.length-1;F>=0;F--)(A=S[F])&&(j=(T<3?A(j):T>3?A(w,b,j):A(w,b))||j);return T>3&&j&&Object.defineProperty(w,b,j),j},s=this&&this.__param||function(S,w){return function(b,k){w(b,k,S)}};Object.defineProperty(f,"__esModule",{value:!0}),f.RenderService=void 0;const n=a(3656),i=a(6193),r=a(5596),l=a(4725),h=a(8460),o=a(844),d=a(7226),g=a(2585);let x=f.RenderService=class extends o.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(S,w,b,k,A,T,j,F){if(super(),this._rowCount=S,this._charSizeService=k,this._renderer=this.register(new o.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new h.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new h.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new h.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new h.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new i.RenderDebouncer(j.window,(($,D)=>this._renderRows($,D))),this.register(this._renderDebouncer),this._screenDprMonitor=new r.ScreenDprMonitor(j.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var $;return($=this._renderer.value)===null||$===void 0?void 0:$.clear()}))),this.register(b.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(A.onDecorationRegistered((()=>this._fullRefresh()))),this.register(A.onDecorationRemoved((()=>this._fullRefresh()))),this.register(b.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(b.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register((0,n.addDisposableDomListener)(j.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(F.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in j.window){const $=new j.window.IntersectionObserver((D=>this._handleIntersectionChange(D[D.length-1])),{threshold:0});$.observe(w),this.register({dispose:()=>$.disconnect()})}}_handleIntersectionChange(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(S,w,b=!1){this._isPaused?this._needsFullRefresh=!0:(b||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,w,this._rowCount))}_renderRows(S,w){this._renderer.value&&(S=Math.min(S,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(S,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:S,end:w}),this._onRender.fire({start:S,end:w}),this._isNextRenderRedrawOnly=!0)}resize(S,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(S){this._renderer.value=S,this._renderer.value.onRequestRedraw((w=>this.refreshRows(w.start,w.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(S){return this._renderDebouncer.addRefreshCallback(S)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var S,w;this._renderer.value&&((w=(S=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(S),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(S,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(S,w))):this._renderer.value.handleResize(S,w),this._fullRefresh())}handleCharSizeChanged(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCharSizeChanged()}handleBlur(){var S;(S=this._renderer.value)===null||S===void 0||S.handleBlur()}handleFocus(){var S;(S=this._renderer.value)===null||S===void 0||S.handleFocus()}handleSelectionChanged(S,w,b){var k;this._selectionState.start=S,this._selectionState.end=w,this._selectionState.columnSelectMode=b,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(S,w,b)}handleCursorMove(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCursorMove()}clear(){var S;(S=this._renderer.value)===null||S===void 0||S.clear()}};f.RenderService=x=u([s(2,g.IOptionsService),s(3,l.ICharSizeService),s(4,g.IDecorationService),s(5,g.IBufferService),s(6,l.ICoreBrowserService),s(7,l.IThemeService)],x)},9312:function(y,f,a){var u=this&&this.__decorate||function(A,T,j,F){var $,D=arguments.length,M=D<3?T:F===null?F=Object.getOwnPropertyDescriptor(T,j):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(A,T,j,F);else for(var L=A.length-1;L>=0;L--)($=A[L])&&(M=(D<3?$(M):D>3?$(T,j,M):$(T,j))||M);return D>3&&M&&Object.defineProperty(T,j,M),M},s=this&&this.__param||function(A,T){return function(j,F){T(j,F,A)}};Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionService=void 0;const n=a(9806),i=a(9504),r=a(456),l=a(4725),h=a(8460),o=a(844),d=a(6114),g=a(4841),x=a(511),S=a(2585),w="",b=new RegExp(w,"g");let k=f.SelectionService=class extends o.Disposable{constructor(A,T,j,F,$,D,M,L,O){super(),this._element=A,this._screenElement=T,this._linkifier=j,this._bufferService=F,this._coreService=$,this._mouseService=D,this._optionsService=M,this._renderService=L,this._coreBrowserService=O,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new x.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new h.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new h.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new h.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new h.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((z=>this._handleTrim(z))),this.register(this._bufferService.buffers.onBufferActivate((z=>this._handleBufferActivate(z)))),this.enable(),this._model=new r.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!A||!T||A[0]===T[0]&&A[1]===T[1])}get selectionText(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!A||!T)return"";const j=this._bufferService.buffer,F=[];if(this._activeSelectionMode===3){if(A[0]===T[0])return"";const $=A[0]<T[0]?A[0]:T[0],D=A[0]<T[0]?T[0]:A[0];for(let M=A[1];M<=T[1];M++){const L=j.translateBufferLineToString(M,!0,$,D);F.push(L)}}else{const $=A[1]===T[1]?T[0]:void 0;F.push(j.translateBufferLineToString(A[1],!0,A[0],$));for(let D=A[1]+1;D<=T[1]-1;D++){const M=j.lines.get(D),L=j.translateBufferLineToString(D,!0);M?.isWrapped?F[F.length-1]+=L:F.push(L)}if(A[1]!==T[1]){const D=j.lines.get(T[1]),M=j.translateBufferLineToString(T[1],!0,0,T[0]);D&&D.isWrapped?F[F.length-1]+=M:F.push(M)}}return F.map(($=>$.replace(b," "))).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(A){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),d.isLinux&&A&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(A){const T=this._getMouseBufferCoords(A),j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(j&&F&&T)&&this._areCoordsInSelection(T,j,F)}isCellInSelection(A,T){const j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!j||!F)&&this._areCoordsInSelection([A,T],j,F)}_areCoordsInSelection(A,T,j){return A[1]>T[1]&&A[1]<j[1]||T[1]===j[1]&&A[1]===T[1]&&A[0]>=T[0]&&A[0]<j[0]||T[1]<j[1]&&A[1]===j[1]&&A[0]<j[0]||T[1]<j[1]&&A[1]===T[1]&&A[0]>=T[0]}_selectWordAtCursor(A,T){var j,F;const $=(F=(j=this._linkifier.currentLink)===null||j===void 0?void 0:j.link)===null||F===void 0?void 0:F.range;if($)return this._model.selectionStart=[$.start.x-1,$.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)($,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(A);return!!D&&(this._selectWordAt(D,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(A,T){this._model.clearSelection(),A=Math.max(A,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,A],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(A){this._model.handleTrim(A)&&this.refresh()}_getMouseBufferCoords(A){const T=this._mouseService.getCoords(A,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(A){let T=(0,n.getCoordsRelativeToElement)(this._coreBrowserService.window,A,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=j?0:(T>j&&(T-=j),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(A){return d.isMac?A.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:A.shiftKey}handleMouseDown(A){if(this._mouseDownTimeStamp=A.timeStamp,(A.button!==2||!this.hasSelection)&&A.button===0){if(!this._enabled){if(!this.shouldForceSelection(A))return;A.stopPropagation()}A.preventDefault(),this._dragScrollAmount=0,this._enabled&&A.shiftKey?this._handleIncrementalClick(A):A.detail===1?this._handleSingleClick(A):A.detail===2?this._handleDoubleClick(A):A.detail===3&&this._handleTripleClick(A),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(A){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(A))}_handleSingleClick(A){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(A)?3:0,this._model.selectionStart=this._getMouseBufferCoords(A),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(A){this._selectWordAtCursor(A,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(A){const T=this._getMouseBufferCoords(A);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(A){return A.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(A){if(A.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(A),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(A),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const F=j.lines.get(this._model.selectionEnd[1]);F&&F.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const A=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(A.ydisp+this._bufferService.rows,A.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=A.ydisp),this.refresh()}}_handleMouseUp(A){const T=A.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&A.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(A,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const F=(0,i.moveToCellSequence)(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,j=!(!A||!T||A[0]===T[0]&&A[1]===T[1]);j?A&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&A[0]===this._oldSelectionStart[0]&&A[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(A,T,j)):this._oldHasSelection&&this._fireOnSelectionChange(A,T,j)}_fireOnSelectionChange(A,T,j){this._oldSelectionStart=A,this._oldSelectionEnd=T,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(A){this.clearSelection(),this._trimListener.dispose(),this._trimListener=A.activeBuffer.lines.onTrim((T=>this._handleTrim(T)))}_convertViewportColToCharacterIndex(A,T){let j=T;for(let F=0;T>=F;F++){const $=A.loadCell(F,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:$>1&&T!==F&&(j+=$-1)}return j}setSelection(A,T,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[A,T],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(A){this._isClickInSelection(A)||(this._selectWordAtCursor(A,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(A,T,j=!0,F=!0){if(A[0]>=this._bufferService.cols)return;const $=this._bufferService.buffer,D=$.lines.get(A[1]);if(!D)return;const M=$.translateBufferLineToString(A[1],!1);let L=this._convertViewportColToCharacterIndex(D,A[0]),O=L;const z=A[0]-L;let B=0,P=0,U=0,W=0;if(M.charAt(L)===" "){for(;L>0&&M.charAt(L-1)===" ";)L--;for(;O<M.length&&M.charAt(O+1)===" ";)O++}else{let X=A[0],q=A[0];D.getWidth(X)===0&&(B++,X--),D.getWidth(q)===2&&(P++,q++);const J=D.getString(q).length;for(J>1&&(W+=J-1,O+=J-1);X>0&&L>0&&!this._isCharWordSeparator(D.loadCell(X-1,this._workCell));){D.loadCell(X-1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===0?(B++,X--):V>1&&(U+=V-1,L-=V-1),L--,X--}for(;q<D.length&&O+1<M.length&&!this._isCharWordSeparator(D.loadCell(q+1,this._workCell));){D.loadCell(q+1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,q++):V>1&&(W+=V-1,O+=V-1),O++,q++}}O++;let K=L+z-B+U,Y=Math.min(this._bufferService.cols,O-L+B+P-U-W);if(T||M.slice(L,O).trim()!==""){if(j&&K===0&&D.getCodePoint(0)!==32){const X=$.lines.get(A[1]-1);if(X&&D.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,A[1]-1],!1,!0,!1);if(q){const J=this._bufferService.cols-q.start;K-=J,Y+=J}}}if(F&&K+Y===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const X=$.lines.get(A[1]+1);if(X?.isWrapped&&X.getCodePoint(0)!==32){const q=this._getWordAt([0,A[1]+1],!1,!1,!0);q&&(Y+=q.length)}}return{start:K,length:Y}}}_selectWordAt(A,T){const j=this._getWordAt(A,T);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,A[1]--;this._model.selectionStart=[j.start,A[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(A){const T=this._getWordAt(A,!0);if(T){let j=A[1];for(;T.start<0;)T.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,j]}}_isCharWordSeparator(A){return A.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(A.getChars())>=0}_selectLineAt(A){const T=this._bufferService.buffer.getWrappedRangeForLine(A),j={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(j,this._bufferService.cols)}};f.SelectionService=k=u([s(3,S.IBufferService),s(4,S.ICoreService),s(5,l.IMouseService),s(6,S.IOptionsService),s(7,l.IRenderService),s(8,l.ICoreBrowserService)],k)},4725:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IThemeService=f.ICharacterJoinerService=f.ISelectionService=f.IRenderService=f.IMouseService=f.ICoreBrowserService=f.ICharSizeService=void 0;const u=a(8343);f.ICharSizeService=(0,u.createDecorator)("CharSizeService"),f.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),f.IMouseService=(0,u.createDecorator)("MouseService"),f.IRenderService=(0,u.createDecorator)("RenderService"),f.ISelectionService=(0,u.createDecorator)("SelectionService"),f.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),f.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(y,f,a){var u=this&&this.__decorate||function(k,A,T,j){var F,$=arguments.length,D=$<3?A:j===null?j=Object.getOwnPropertyDescriptor(A,T):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(k,A,T,j);else for(var M=k.length-1;M>=0;M--)(F=k[M])&&(D=($<3?F(D):$>3?F(A,T,D):F(A,T))||D);return $>3&&D&&Object.defineProperty(A,T,D),D},s=this&&this.__param||function(k,A){return function(T,j){A(T,j,k)}};Object.defineProperty(f,"__esModule",{value:!0}),f.ThemeService=f.DEFAULT_ANSI_COLORS=void 0;const n=a(7239),i=a(8055),r=a(8460),l=a(844),h=a(2585),o=i.css.toColor("#ffffff"),d=i.css.toColor("#000000"),g=i.css.toColor("#ffffff"),x=i.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};f.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[i.css.toColor("#2e3436"),i.css.toColor("#cc0000"),i.css.toColor("#4e9a06"),i.css.toColor("#c4a000"),i.css.toColor("#3465a4"),i.css.toColor("#75507b"),i.css.toColor("#06989a"),i.css.toColor("#d3d7cf"),i.css.toColor("#555753"),i.css.toColor("#ef2929"),i.css.toColor("#8ae234"),i.css.toColor("#fce94f"),i.css.toColor("#729fcf"),i.css.toColor("#ad7fa8"),i.css.toColor("#34e2e2"),i.css.toColor("#eeeeec")],A=[0,95,135,175,215,255];for(let T=0;T<216;T++){const j=A[T/36%6|0],F=A[T/6%6|0],$=A[T%6];k.push({css:i.channels.toCss(j,F,$),rgba:i.channels.toRgba(j,F,$)})}for(let T=0;T<24;T++){const j=8+10*T;k.push({css:i.channels.toCss(j,j,j),rgba:i.channels.toRgba(j,j,j)})}return k})());let w=f.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new n.ColorContrastCache,this._halfContrastCache=new n.ColorContrastCache,this._onChangeColors=this.register(new r.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:o,background:d,cursor:g,cursorAccent:x,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:i.color.blend(d,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:i.color.blend(d,S),ansi:f.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(k={}){const A=this._colors;if(A.foreground=b(k.foreground,o),A.background=b(k.background,d),A.cursor=b(k.cursor,g),A.cursorAccent=b(k.cursorAccent,x),A.selectionBackgroundTransparent=b(k.selectionBackground,S),A.selectionBackgroundOpaque=i.color.blend(A.background,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundTransparent=b(k.selectionInactiveBackground,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundOpaque=i.color.blend(A.background,A.selectionInactiveBackgroundTransparent),A.selectionForeground=k.selectionForeground?b(k.selectionForeground,i.NULL_COLOR):void 0,A.selectionForeground===i.NULL_COLOR&&(A.selectionForeground=void 0),i.color.isOpaque(A.selectionBackgroundTransparent)&&(A.selectionBackgroundTransparent=i.color.opacity(A.selectionBackgroundTransparent,.3)),i.color.isOpaque(A.selectionInactiveBackgroundTransparent)&&(A.selectionInactiveBackgroundTransparent=i.color.opacity(A.selectionInactiveBackgroundTransparent,.3)),A.ansi=f.DEFAULT_ANSI_COLORS.slice(),A.ansi[0]=b(k.black,f.DEFAULT_ANSI_COLORS[0]),A.ansi[1]=b(k.red,f.DEFAULT_ANSI_COLORS[1]),A.ansi[2]=b(k.green,f.DEFAULT_ANSI_COLORS[2]),A.ansi[3]=b(k.yellow,f.DEFAULT_ANSI_COLORS[3]),A.ansi[4]=b(k.blue,f.DEFAULT_ANSI_COLORS[4]),A.ansi[5]=b(k.magenta,f.DEFAULT_ANSI_COLORS[5]),A.ansi[6]=b(k.cyan,f.DEFAULT_ANSI_COLORS[6]),A.ansi[7]=b(k.white,f.DEFAULT_ANSI_COLORS[7]),A.ansi[8]=b(k.brightBlack,f.DEFAULT_ANSI_COLORS[8]),A.ansi[9]=b(k.brightRed,f.DEFAULT_ANSI_COLORS[9]),A.ansi[10]=b(k.brightGreen,f.DEFAULT_ANSI_COLORS[10]),A.ansi[11]=b(k.brightYellow,f.DEFAULT_ANSI_COLORS[11]),A.ansi[12]=b(k.brightBlue,f.DEFAULT_ANSI_COLORS[12]),A.ansi[13]=b(k.brightMagenta,f.DEFAULT_ANSI_COLORS[13]),A.ansi[14]=b(k.brightCyan,f.DEFAULT_ANSI_COLORS[14]),A.ansi[15]=b(k.brightWhite,f.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const T=Math.min(A.ansi.length-16,k.extendedAnsi.length);for(let j=0;j<T;j++)A.ansi[j+16]=b(k.extendedAnsi[j],f.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let A=0;A<this._restoreColors.ansi.length;++A)this._colors.ansi[A]=this._restoreColors.ansi[A]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function b(k,A){if(k!==void 0)try{return i.css.toColor(k)}catch{}return A}f.ThemeService=w=u([s(0,h.IOptionsService)],w)},6349:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CircularList=void 0;const u=a(8460),s=a(844);class n extends s.Disposable{constructor(r){super(),this._maxLength=r,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(r){if(this._maxLength===r)return;const l=new Array(r);for(let h=0;h<Math.min(r,this.length);h++)l[h]=this._array[this._getCyclicIndex(h)];this._array=l,this._maxLength=r,this._startIndex=0}get length(){return this._length}set length(r){if(r>this._length)for(let l=this._length;l<r;l++)this._array[l]=void 0;this._length=r}get(r){return this._array[this._getCyclicIndex(r)]}set(r,l){this._array[this._getCyclicIndex(r)]=l}push(r){this._array[this._getCyclicIndex(this._length)]=r,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(r,l,...h){if(l){for(let o=r;o<this._length-l;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+l)];this._length-=l,this.onDeleteEmitter.fire({index:r,amount:l})}for(let o=this._length-1;o>=r;o--)this._array[this._getCyclicIndex(o+h.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<h.length;o++)this._array[this._getCyclicIndex(r+o)]=h[o];if(h.length&&this.onInsertEmitter.fire({index:r,amount:h.length}),this._length+h.length>this._maxLength){const o=this._length+h.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=h.length}trimStart(r){r>this._length&&(r=this._length),this._startIndex+=r,this._length-=r,this.onTrimEmitter.fire(r)}shiftElements(r,l,h){if(!(l<=0)){if(r<0||r>=this._length)throw new Error("start argument out of range");if(r+h<0)throw new Error("Cannot shift elements in list beyond index 0");if(h>0){for(let d=l-1;d>=0;d--)this.set(r+d+h,this.get(r+d));const o=r+l+h-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<l;o++)this.set(r+o+h,this.get(r+o))}}_getCyclicIndex(r){return(this._startIndex+r)%this._maxLength}}f.CircularList=n},1439:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clone=void 0,f.clone=function a(u,s=5){if(typeof u!="object")return u;const n=Array.isArray(u)?[]:{};for(const i in u)n[i]=s<=1?u[i]:u[i]&&a(u[i],s-1);return n}},8055:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.contrastRatio=f.toPaddedHex=f.rgba=f.rgb=f.css=f.color=f.channels=f.NULL_COLOR=void 0;const u=a(6114);let s=0,n=0,i=0,r=0;var l,h,o,d,g;function x(w){const b=w.toString(16);return b.length<2?"0"+b:b}function S(w,b){return w<b?(b+.05)/(w+.05):(w+.05)/(b+.05)}f.NULL_COLOR={css:"#00000000",rgba:0},(function(w){w.toCss=function(b,k,A,T){return T!==void 0?`#${x(b)}${x(k)}${x(A)}${x(T)}`:`#${x(b)}${x(k)}${x(A)}`},w.toRgba=function(b,k,A,T=255){return(b<<24|k<<16|A<<8|T)>>>0}})(l||(f.channels=l={})),(function(w){function b(k,A){return r=Math.round(255*A),[s,n,i]=g.toChannels(k.rgba),{css:l.toCss(s,n,i,r),rgba:l.toRgba(s,n,i,r)}}w.blend=function(k,A){if(r=(255&A.rgba)/255,r===1)return{css:A.css,rgba:A.rgba};const T=A.rgba>>24&255,j=A.rgba>>16&255,F=A.rgba>>8&255,$=k.rgba>>24&255,D=k.rgba>>16&255,M=k.rgba>>8&255;return s=$+Math.round((T-$)*r),n=D+Math.round((j-D)*r),i=M+Math.round((F-M)*r),{css:l.toCss(s,n,i),rgba:l.toRgba(s,n,i)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,A,T){const j=g.ensureContrastRatio(k.rgba,A.rgba,T);if(j)return g.toColor(j>>24&255,j>>16&255,j>>8&255)},w.opaque=function(k){const A=(255|k.rgba)>>>0;return[s,n,i]=g.toChannels(A),{css:l.toCss(s,n,i),rgba:A}},w.opacity=b,w.multiplyOpacity=function(k,A){return r=255&k.rgba,b(k,r*A/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}})(h||(f.color=h={})),(function(w){let b,k;if(!u.isNode){const A=document.createElement("canvas");A.width=1,A.height=1;const T=A.getContext("2d",{willReadFrequently:!0});T&&(b=T,b.globalCompositeOperation="copy",k=b.createLinearGradient(0,0,1,1))}w.toColor=function(A){if(A.match(/#[\da-f]{3,8}/i))switch(A.length){case 4:return s=parseInt(A.slice(1,2).repeat(2),16),n=parseInt(A.slice(2,3).repeat(2),16),i=parseInt(A.slice(3,4).repeat(2),16),g.toColor(s,n,i);case 5:return s=parseInt(A.slice(1,2).repeat(2),16),n=parseInt(A.slice(2,3).repeat(2),16),i=parseInt(A.slice(3,4).repeat(2),16),r=parseInt(A.slice(4,5).repeat(2),16),g.toColor(s,n,i,r);case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}const T=A.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return s=parseInt(T[1]),n=parseInt(T[2]),i=parseInt(T[3]),r=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),g.toColor(s,n,i,r);if(!b||!k)throw new Error("css.toColor: Unsupported css format");if(b.fillStyle=k,b.fillStyle=A,typeof b.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(b.fillRect(0,0,1,1),[s,n,i,r]=b.getImageData(0,0,1,1).data,r!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(s,n,i,r),css:A}}})(o||(f.css=o={})),(function(w){function b(k,A,T){const j=k/255,F=A/255,$=T/255;return .2126*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.7152*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))}w.relativeLuminance=function(k){return b(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=b})(d||(f.rgb=d={})),(function(w){function b(A,T,j){const F=A>>24&255,$=A>>16&255,D=A>>8&255;let M=T>>24&255,L=T>>16&255,O=T>>8&255,z=S(d.relativeLuminance2(M,L,O),d.relativeLuminance2(F,$,D));for(;z<j&&(M>0||L>0||O>0);)M-=Math.max(0,Math.ceil(.1*M)),L-=Math.max(0,Math.ceil(.1*L)),O-=Math.max(0,Math.ceil(.1*O)),z=S(d.relativeLuminance2(M,L,O),d.relativeLuminance2(F,$,D));return(M<<24|L<<16|O<<8|255)>>>0}function k(A,T,j){const F=A>>24&255,$=A>>16&255,D=A>>8&255;let M=T>>24&255,L=T>>16&255,O=T>>8&255,z=S(d.relativeLuminance2(M,L,O),d.relativeLuminance2(F,$,D));for(;z<j&&(M<255||L<255||O<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),L=Math.min(255,L+Math.ceil(.1*(255-L))),O=Math.min(255,O+Math.ceil(.1*(255-O))),z=S(d.relativeLuminance2(M,L,O),d.relativeLuminance2(F,$,D));return(M<<24|L<<16|O<<8|255)>>>0}w.ensureContrastRatio=function(A,T,j){const F=d.relativeLuminance(A>>8),$=d.relativeLuminance(T>>8);if(S(F,$)<j){if($<F){const L=b(A,T,j),O=S(F,d.relativeLuminance(L>>8));if(O<j){const z=k(A,T,j);return O>S(F,d.relativeLuminance(z>>8))?L:z}return L}const D=k(A,T,j),M=S(F,d.relativeLuminance(D>>8));if(M<j){const L=b(A,T,j);return M>S(F,d.relativeLuminance(L>>8))?D:L}return D}},w.reduceLuminance=b,w.increaseLuminance=k,w.toChannels=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]},w.toColor=function(A,T,j,F){return{css:l.toCss(A,T,j,F),rgba:l.toRgba(A,T,j,F)}}})(g||(f.rgba=g={})),f.toPaddedHex=x,f.contrastRatio=S},8969:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreTerminal=void 0;const u=a(844),s=a(2585),n=a(4348),i=a(7866),r=a(744),l=a(7302),h=a(6975),o=a(8460),d=a(1753),g=a(1480),x=a(7994),S=a(9282),w=a(5435),b=a(5981),k=a(2660);let A=!1;class T extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event((F=>{var $;($=this._onScrollApi)===null||$===void 0||$.fire(F.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const $ in F)this.optionsService.options[$]=F[$]}constructor(F){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new n.InstantiationService,this.optionsService=this.register(new l.OptionsService(F)),this._instantiationService.setService(s.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(r.BufferService)),this._instantiationService.setService(s.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(i.LogService)),this._instantiationService.setService(s.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(h.CoreService)),this._instantiationService.setService(s.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(s.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(s.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(x.CharsetService),this._instantiationService.setService(s.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(s.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll(($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll(($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new b.WriteBuffer((($,D)=>this._inputHandler.parse($,D)))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(F,$){this._writeBuffer.write(F,$)}writeSync(F,$){this._logService.logLevel<=s.LogLevelEnum.WARN&&!A&&(this._logService.warn("writeSync is unreliable and will be removed soon."),A=!0),this._writeBuffer.writeSync(F,$)}resize(F,$){isNaN(F)||isNaN($)||(F=Math.max(F,r.MINIMUM_COLS),$=Math.max($,r.MINIMUM_ROWS),this._bufferService.resize(F,$))}scroll(F,$=!1){this._bufferService.scroll(F,$)}scrollLines(F,$,D){this._bufferService.scrollLines(F,$,D)}scrollPages(F){this.scrollLines(F*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(F){const $=F-this._bufferService.buffer.ydisp;$!==0&&this.scrollLines($)}registerEscHandler(F,$){return this._inputHandler.registerEscHandler(F,$)}registerDcsHandler(F,$){return this._inputHandler.registerDcsHandler(F,$)}registerCsiHandler(F,$){return this._inputHandler.registerCsiHandler(F,$)}registerOscHandler(F,$){return this._inputHandler.registerOscHandler(F,$)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let F=!1;const $=this.optionsService.rawOptions.windowsPty;$&&$.buildNumber!==void 0&&$.buildNumber!==void 0?F=$.backend==="conpty"&&$.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(F=!0),F?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const F=[];F.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},(()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)((()=>{for(const $ of F)$.dispose()}))}}}f.CoreTerminal=T},8460:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.forwardEvent=f.EventEmitter=void 0,f.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const s=[];for(let n=0;n<this._listeners.length;n++)s.push(this._listeners[n]);for(let n=0;n<s.length;n++)s[n].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},f.forwardEvent=function(a,u){return a((s=>u.fire(s)))}},5435:function(y,f,a){var u=this&&this.__decorate||function(z,B,P,U){var W,K=arguments.length,Y=K<3?B:U===null?U=Object.getOwnPropertyDescriptor(B,P):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(z,B,P,U);else for(var X=z.length-1;X>=0;X--)(W=z[X])&&(Y=(K<3?W(Y):K>3?W(B,P,Y):W(B,P))||Y);return K>3&&Y&&Object.defineProperty(B,P,Y),Y},s=this&&this.__param||function(z,B){return function(P,U){B(P,U,z)}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputHandler=f.WindowsOptionsReportType=void 0;const n=a(2584),i=a(7116),r=a(2015),l=a(844),h=a(482),o=a(8437),d=a(8460),g=a(643),x=a(511),S=a(3734),w=a(2585),b=a(6242),k=a(6351),A=a(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},j=131072;function F(z,B){if(z>24)return B.setWinLines||!1;switch(z){case 1:return!!B.restoreWin;case 2:return!!B.minimizeWin;case 3:return!!B.setWinPosition;case 4:return!!B.setWinSizePixels;case 5:return!!B.raiseWin;case 6:return!!B.lowerWin;case 7:return!!B.refreshWin;case 8:return!!B.setWinSizeChars;case 9:return!!B.maximizeWin;case 10:return!!B.fullscreenWin;case 11:return!!B.getWinState;case 13:return!!B.getWinPosition;case 14:return!!B.getWinSizePixels;case 15:return!!B.getScreenSizePixels;case 16:return!!B.getCellSizePixels;case 18:return!!B.getWinSizeChars;case 19:return!!B.getScreenSizeChars;case 20:return!!B.getIconTitle;case 21:return!!B.getWinTitle;case 22:return!!B.pushTitle;case 23:return!!B.popTitle;case 24:return!!B.setWinLines}return!1}var $;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})($||(f.WindowsOptionsReportType=$={}));let D=0;class M extends l.Disposable{getAttrData(){return this._curAttrData}constructor(B,P,U,W,K,Y,X,q,J=new r.EscapeSequenceParser){super(),this._bufferService=B,this._charsetService=P,this._coreService=U,this._logService=W,this._optionsService=K,this._oscLinkService=Y,this._coreMouseService=X,this._unicodeService=q,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new h.StringToUtf32,this._utf8Decoder=new h.Utf8ToUtf32,this._workCell=new x.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new L(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((V=>this._activeBuffer=V.activeBuffer))),this._parser.setCsiHandlerFallback(((V,Q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(V),params:Q.toArray()})})),this._parser.setEscHandlerFallback((V=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(V)})})),this._parser.setExecuteHandlerFallback((V=>{this._logService.debug("Unknown EXECUTE code: ",{code:V})})),this._parser.setOscHandlerFallback(((V,Q,te)=>{this._logService.debug("Unknown OSC code: ",{identifier:V,action:Q,data:te})})),this._parser.setDcsHandlerFallback(((V,Q,te)=>{Q==="HOOK"&&(te=te.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(V),action:Q,payload:te})})),this._parser.setPrintHandler(((V,Q,te)=>this.print(V,Q,te))),this._parser.registerCsiHandler({final:"@"},(V=>this.insertChars(V))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(V=>this.scrollLeft(V))),this._parser.registerCsiHandler({final:"A"},(V=>this.cursorUp(V))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(V=>this.scrollRight(V))),this._parser.registerCsiHandler({final:"B"},(V=>this.cursorDown(V))),this._parser.registerCsiHandler({final:"C"},(V=>this.cursorForward(V))),this._parser.registerCsiHandler({final:"D"},(V=>this.cursorBackward(V))),this._parser.registerCsiHandler({final:"E"},(V=>this.cursorNextLine(V))),this._parser.registerCsiHandler({final:"F"},(V=>this.cursorPrecedingLine(V))),this._parser.registerCsiHandler({final:"G"},(V=>this.cursorCharAbsolute(V))),this._parser.registerCsiHandler({final:"H"},(V=>this.cursorPosition(V))),this._parser.registerCsiHandler({final:"I"},(V=>this.cursorForwardTab(V))),this._parser.registerCsiHandler({final:"J"},(V=>this.eraseInDisplay(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(V=>this.eraseInDisplay(V,!0))),this._parser.registerCsiHandler({final:"K"},(V=>this.eraseInLine(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(V=>this.eraseInLine(V,!0))),this._parser.registerCsiHandler({final:"L"},(V=>this.insertLines(V))),this._parser.registerCsiHandler({final:"M"},(V=>this.deleteLines(V))),this._parser.registerCsiHandler({final:"P"},(V=>this.deleteChars(V))),this._parser.registerCsiHandler({final:"S"},(V=>this.scrollUp(V))),this._parser.registerCsiHandler({final:"T"},(V=>this.scrollDown(V))),this._parser.registerCsiHandler({final:"X"},(V=>this.eraseChars(V))),this._parser.registerCsiHandler({final:"Z"},(V=>this.cursorBackwardTab(V))),this._parser.registerCsiHandler({final:"`"},(V=>this.charPosAbsolute(V))),this._parser.registerCsiHandler({final:"a"},(V=>this.hPositionRelative(V))),this._parser.registerCsiHandler({final:"b"},(V=>this.repeatPrecedingCharacter(V))),this._parser.registerCsiHandler({final:"c"},(V=>this.sendDeviceAttributesPrimary(V))),this._parser.registerCsiHandler({prefix:">",final:"c"},(V=>this.sendDeviceAttributesSecondary(V))),this._parser.registerCsiHandler({final:"d"},(V=>this.linePosAbsolute(V))),this._parser.registerCsiHandler({final:"e"},(V=>this.vPositionRelative(V))),this._parser.registerCsiHandler({final:"f"},(V=>this.hVPosition(V))),this._parser.registerCsiHandler({final:"g"},(V=>this.tabClear(V))),this._parser.registerCsiHandler({final:"h"},(V=>this.setMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(V=>this.setModePrivate(V))),this._parser.registerCsiHandler({final:"l"},(V=>this.resetMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(V=>this.resetModePrivate(V))),this._parser.registerCsiHandler({final:"m"},(V=>this.charAttributes(V))),this._parser.registerCsiHandler({final:"n"},(V=>this.deviceStatus(V))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(V=>this.deviceStatusPrivate(V))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(V=>this.softReset(V))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(V=>this.setCursorStyle(V))),this._parser.registerCsiHandler({final:"r"},(V=>this.setScrollRegion(V))),this._parser.registerCsiHandler({final:"s"},(V=>this.saveCursor(V))),this._parser.registerCsiHandler({final:"t"},(V=>this.windowOptions(V))),this._parser.registerCsiHandler({final:"u"},(V=>this.restoreCursor(V))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(V=>this.insertColumns(V))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(V=>this.deleteColumns(V))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(V=>this.selectProtected(V))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(V=>this.requestMode(V,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(V=>this.requestMode(V,!1))),this._parser.setExecuteHandler(n.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(n.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(n.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(n.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(n.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(n.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(n.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(n.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(n.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new b.OscHandler((V=>(this.setTitle(V),this.setIconName(V),!0)))),this._parser.registerOscHandler(1,new b.OscHandler((V=>this.setIconName(V)))),this._parser.registerOscHandler(2,new b.OscHandler((V=>this.setTitle(V)))),this._parser.registerOscHandler(4,new b.OscHandler((V=>this.setOrReportIndexedColor(V)))),this._parser.registerOscHandler(8,new b.OscHandler((V=>this.setHyperlink(V)))),this._parser.registerOscHandler(10,new b.OscHandler((V=>this.setOrReportFgColor(V)))),this._parser.registerOscHandler(11,new b.OscHandler((V=>this.setOrReportBgColor(V)))),this._parser.registerOscHandler(12,new b.OscHandler((V=>this.setOrReportCursorColor(V)))),this._parser.registerOscHandler(104,new b.OscHandler((V=>this.restoreIndexedColor(V)))),this._parser.registerOscHandler(110,new b.OscHandler((V=>this.restoreFgColor(V)))),this._parser.registerOscHandler(111,new b.OscHandler((V=>this.restoreBgColor(V)))),this._parser.registerOscHandler(112,new b.OscHandler((V=>this.restoreCursorColor(V)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const V in i.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:V},(()=>this.selectCharset("("+V))),this._parser.registerEscHandler({intermediates:")",final:V},(()=>this.selectCharset(")"+V))),this._parser.registerEscHandler({intermediates:"*",final:V},(()=>this.selectCharset("*"+V))),this._parser.registerEscHandler({intermediates:"+",final:V},(()=>this.selectCharset("+"+V))),this._parser.registerEscHandler({intermediates:"-",final:V},(()=>this.selectCharset("-"+V))),this._parser.registerEscHandler({intermediates:".",final:V},(()=>this.selectCharset("."+V))),this._parser.registerEscHandler({intermediates:"/",final:V},(()=>this.selectCharset("/"+V)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((V=>(this._logService.error("Parsing error: ",V),V))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler(((V,Q)=>this.requestStatusString(V,Q))))}_preserveStack(B,P,U,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=B,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=U,this._parseStack.position=W}_logSlowResolvingAsync(B){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([B,new Promise(((P,U)=>setTimeout((()=>U("#SLOW_TIMEOUT")),5e3)))]).catch((P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(B,P){let U,W=this._activeBuffer.x,K=this._activeBuffer.y,Y=0;const X=this._parseStack.paused;if(X){if(U=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(U),U;W=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,B.length>j&&(Y=this._parseStack.position+j)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof B=="string"?` "${B}"`:` "${Array.prototype.map.call(B,(q=>String.fromCharCode(q))).join("")}"`),typeof B=="string"?B.split("").map((q=>q.charCodeAt(0))):B),this._parseBuffer.length<B.length&&this._parseBuffer.length<j&&(this._parseBuffer=new Uint32Array(Math.min(B.length,j))),X||this._dirtyRowTracker.clearRange(),B.length>j)for(let q=Y;q<B.length;q+=j){const J=q+j<B.length?q+j:B.length,V=typeof B=="string"?this._stringDecoder.decode(B.substring(q,J),this._parseBuffer):this._utf8Decoder.decode(B.subarray(q,J),this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,V))return this._preserveStack(W,K,V,q),this._logSlowResolvingAsync(U),U}else if(!X){const q=typeof B=="string"?this._stringDecoder.decode(B,this._parseBuffer):this._utf8Decoder.decode(B,this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,q))return this._preserveStack(W,K,q,0),this._logSlowResolvingAsync(U),U}this._activeBuffer.x===W&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(B,P,U){let W,K;const Y=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,q=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,V=this._coreService.modes.insertMode,Q=this._curAttrData;let te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&U-P>0&&te.getWidth(this._activeBuffer.x-1)===2&&te.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Q.fg,Q.bg,Q.extended);for(let ie=P;ie<U;++ie){if(W=B[ie],K=this._unicodeService.wcwidth(W),W<127&&Y){const me=Y[String.fromCharCode(W)];me&&(W=me.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,h.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=q){if(J){for(;this._activeBuffer.x<q;)te.setCellFromCodePoint(this._activeBuffer.x++,0,1,Q.fg,Q.bg,Q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=q-1,K===2)continue}if(V&&(te.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(Q),Q),te.getWidth(q-1)===2&&te.setCellFromCodePoint(q-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,Q.fg,Q.bg,Q.extended)),te.setCellFromCodePoint(this._activeBuffer.x++,W,K,Q.fg,Q.bg,Q.extended),K>0)for(;--K;)te.setCellFromCodePoint(this._activeBuffer.x++,0,0,Q.fg,Q.bg,Q.extended)}else te.getWidth(this._activeBuffer.x-1)?te.addCodepointToCell(this._activeBuffer.x-1,W):te.addCodepointToCell(this._activeBuffer.x-2,W)}U-P>0&&(te.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<q&&U-P>0&&te.getWidth(this._activeBuffer.x)===0&&!te.hasContent(this._activeBuffer.x)&&te.setCellFromCodePoint(this._activeBuffer.x,0,1,Q.fg,Q.bg,Q.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(B,P){return B.final!=="t"||B.prefix||B.intermediates?this._parser.registerCsiHandler(B,P):this._parser.registerCsiHandler(B,(U=>!F(U.params[0],this._optionsService.rawOptions.windowOptions)||P(U)))}registerDcsHandler(B,P){return this._parser.registerDcsHandler(B,new k.DcsHandler(P))}registerEscHandler(B,P){return this._parser.registerEscHandler(B,P)}registerOscHandler(B,P){return this._parser.registerOscHandler(B,new b.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var B;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||B===void 0)&&B.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const B=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-B),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(B=this._bufferService.cols-1){this._activeBuffer.x=Math.min(B,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(B,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=B,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=B,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(B,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+B,this._activeBuffer.y+P)}cursorUp(B){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,B.params[0]||1)):this._moveCursor(0,-(B.params[0]||1)),!0}cursorDown(B){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,B.params[0]||1)):this._moveCursor(0,B.params[0]||1),!0}cursorForward(B){return this._moveCursor(B.params[0]||1,0),!0}cursorBackward(B){return this._moveCursor(-(B.params[0]||1),0),!0}cursorNextLine(B){return this.cursorDown(B),this._activeBuffer.x=0,!0}cursorPrecedingLine(B){return this.cursorUp(B),this._activeBuffer.x=0,!0}cursorCharAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(B){return this._setCursor(B.length>=2?(B.params[1]||1)-1:0,(B.params[0]||1)-1),!0}charPosAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(B){return this._moveCursor(B.params[0]||1,0),!0}linePosAbsolute(B){return this._setCursor(this._activeBuffer.x,(B.params[0]||1)-1),!0}vPositionRelative(B){return this._moveCursor(0,B.params[0]||1),!0}hVPosition(B){return this.cursorPosition(B),!0}tabClear(B){const P=B.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(B){const P=B.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(B,P,U,W=!1,K=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);Y.replaceCells(P,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),W&&(Y.isWrapped=!1)}_resetBufferLine(B,P=!1){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);U&&(U.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+B),U.isWrapped=!1)}eraseInDisplay(B,P=!1){let U;switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);U<this._bufferService.rows;U++)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(U);break;case 1:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(U=this._bufferService.rows,this._dirtyRowTracker.markDirty(U-1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(B,P=!1){switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;P--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;P--;)this._activeBuffer.lines.splice(U,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(B.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(B){if(!this._parser.precedingCodepoint)return!0;const P=B.params[0]||1,U=new Uint32Array(P);for(let W=0;W<P;++W)U[W]=this._parser.precedingCodepoint;return this.print(U,0,U.length),!0}sendDeviceAttributesPrimary(B){return B.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(n.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(n.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(B){return B.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(n.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(n.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(B.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(n.C0.ESC+"[>83;40003;0c")),!0}_is(B){return(this._optionsService.rawOptions.termName+"").indexOf(B)===0}setMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),this._charsetService.setgCharset(1,i.DEFAULT_CHARSET),this._charsetService.setgCharset(2,i.DEFAULT_CHARSET),this._charsetService.setgCharset(3,i.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),B.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(B,P){const U=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:K}=this._coreMouseService,Y=this._coreService,{buffers:X,cols:q}=this._bufferService,{active:J,alt:V}=X,Q=this._optionsService.rawOptions,te=Se=>Se?1:2,ie=B.params[0];return me=ie,pe=P?ie===2?4:ie===4?te(Y.modes.insertMode):ie===12?3:ie===20?te(Q.convertEol):0:ie===1?te(U.applicationCursorKeys):ie===3?Q.windowOptions.setWinLines?q===80?2:q===132?1:0:0:ie===6?te(U.origin):ie===7?te(U.wraparound):ie===8?3:ie===9?te(W==="X10"):ie===12?te(Q.cursorBlink):ie===25?te(!Y.isCursorHidden):ie===45?te(U.reverseWraparound):ie===66?te(U.applicationKeypad):ie===67?4:ie===1e3?te(W==="VT200"):ie===1002?te(W==="DRAG"):ie===1003?te(W==="ANY"):ie===1004?te(U.sendFocus):ie===1005?4:ie===1006?te(K==="SGR"):ie===1015?4:ie===1016?te(K==="SGR_PIXELS"):ie===1048?1:ie===47||ie===1047||ie===1049?te(J===V):ie===2004?te(U.bracketedPasteMode):0,Y.triggerDataEvent(`${n.C0.ESC}[${P?"":"?"}${me};${pe}$y`),!0;var me,pe}_updateAttrColor(B,P,U,W,K){return P===2?(B|=50331648,B&=-16777216,B|=S.AttributeData.fromColorRGB([U,W,K])):P===5&&(B&=-50331904,B|=33554432|255&U),B}_extractColor(B,P,U){const W=[0,0,-1,0,0,0];let K=0,Y=0;do{if(W[Y+K]=B.params[P+Y],B.hasSubParams(P+Y)){const X=B.getSubParams(P+Y);let q=0;do W[1]===5&&(K=1),W[Y+q+1+K]=X[q];while(++q<X.length&&q+Y+1+K<W.length);break}if(W[1]===5&&Y+K>=2||W[1]===2&&Y+K>=5)break;W[1]&&(K=1)}while(++Y+P<B.length&&Y+K<W.length);for(let X=2;X<W.length;++X)W[X]===-1&&(W[X]=0);switch(W[0]){case 38:U.fg=this._updateAttrColor(U.fg,W[1],W[3],W[4],W[5]);break;case 48:U.bg=this._updateAttrColor(U.bg,W[1],W[3],W[4],W[5]);break;case 58:U.extended=U.extended.clone(),U.extended.underlineColor=this._updateAttrColor(U.extended.underlineColor,W[1],W[3],W[4],W[5])}return Y}_processUnderline(B,P){P.extended=P.extended.clone(),(!~B||B>5)&&(B=1),P.extended.underlineStyle=B,P.fg|=268435456,B===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(B){B.fg=o.DEFAULT_ATTR_DATA.fg,B.bg=o.DEFAULT_ATTR_DATA.bg,B.extended=B.extended.clone(),B.extended.underlineStyle=0,B.extended.underlineColor&=-67108864,B.updateExtended()}charAttributes(B){if(B.length===1&&B.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=B.length;let U;const W=this._curAttrData;for(let K=0;K<P;K++)U=B.params[K],U>=30&&U<=37?(W.fg&=-50331904,W.fg|=16777216|U-30):U>=40&&U<=47?(W.bg&=-50331904,W.bg|=16777216|U-40):U>=90&&U<=97?(W.fg&=-50331904,W.fg|=16777224|U-90):U>=100&&U<=107?(W.bg&=-50331904,W.bg|=16777224|U-100):U===0?this._processSGR0(W):U===1?W.fg|=134217728:U===3?W.bg|=67108864:U===4?(W.fg|=268435456,this._processUnderline(B.hasSubParams(K)?B.getSubParams(K)[0]:1,W)):U===5?W.fg|=536870912:U===7?W.fg|=67108864:U===8?W.fg|=1073741824:U===9?W.fg|=2147483648:U===2?W.bg|=134217728:U===21?this._processUnderline(2,W):U===22?(W.fg&=-134217729,W.bg&=-134217729):U===23?W.bg&=-67108865:U===24?(W.fg&=-268435457,this._processUnderline(0,W)):U===25?W.fg&=-536870913:U===27?W.fg&=-67108865:U===28?W.fg&=-1073741825:U===29?W.fg&=2147483647:U===39?(W.fg&=-67108864,W.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):U===49?(W.bg&=-67108864,W.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):U===38||U===48||U===58?K+=this._extractColor(B,K,W):U===53?W.bg|=1073741824:U===55?W.bg&=-1073741825:U===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):U===100?(W.fg&=-67108864,W.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0}deviceStatus(B){switch(B.params[0]){case 5:this._coreService.triggerDataEvent(`${n.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[${P};${U}R`)}return!0}deviceStatusPrivate(B){if(B.params[0]===6){const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[?${P};${U}R`)}return!0}softReset(B){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(B){const P=B.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const U=P%2==1;return this._optionsService.options.cursorBlink=U,!0}setScrollRegion(B){const P=B.params[0]||1;let U;return(B.length<2||(U=B.params[1])>this._bufferService.rows||U===0)&&(U=this._bufferService.rows),U>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0}windowOptions(B){if(!F(B.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=B.length>1?B.params[1]:0;switch(B.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire($.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire($.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${n.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(B){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(B){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(B){return this._windowTitle=B,this._onTitleChange.fire(B),!0}setIconName(B){return this._iconName=B,!0}setOrReportIndexedColor(B){const P=[],U=B.split(";");for(;U.length>1;){const W=U.shift(),K=U.shift();if(/^\d+$/.exec(W)){const Y=parseInt(W);if(O(Y))if(K==="?")P.push({type:0,index:Y});else{const X=(0,A.parseColor)(K);X&&P.push({type:1,index:Y,color:X})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(B){const P=B.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(B,P){this._getCurrentLinkId()&&this._finishHyperlink();const U=B.split(":");let W;const K=U.findIndex((Y=>Y.startsWith("id=")));return K!==-1&&(W=U[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(B,P){const U=B.split(";");for(let W=0;W<U.length&&!(P>=this._specialColors.length);++W,++P)if(U[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const K=(0,A.parseColor)(U[W]);K&&this._onColor.fire([{type:1,index:this._specialColors[P],color:K}])}return!0}setOrReportFgColor(B){return this._setOrReportSpecialColor(B,0)}setOrReportBgColor(B){return this._setOrReportSpecialColor(B,1)}setOrReportCursorColor(B){return this._setOrReportSpecialColor(B,2)}restoreIndexedColor(B){if(!B)return this._onColor.fire([{type:2}]),!0;const P=[],U=B.split(";");for(let W=0;W<U.length;++W)if(/^\d+$/.exec(U[W])){const K=parseInt(U[W]);O(K)&&P.push({type:2,index:K})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(B){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(B){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(B){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),!0}selectCharset(B){return B.length!==2?(this.selectDefaultCharset(),!0):(B[0]==="/"||this._charsetService.setgCharset(T[B[0]],i.CHARSETS[B[1]]||i.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const B=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,B,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(B){return this._charsetService.setgLevel(B),!0}screenAlignmentPattern(){const B=new x.CellData;B.content=4194373,B.fg=this._curAttrData.fg,B.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const U=this._activeBuffer.ybase+this._activeBuffer.y+P,W=this._activeBuffer.lines.get(U);W&&(W.fill(B),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(B,P){const U=this._bufferService.buffer,W=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${n.C0.ESC}${K}${n.C0.ESC}\\`),!0))(B==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:B==='"p'?'P1$r61;1"p':B==="r"?`P1$r${U.scrollTop+1};${U.scrollBottom+1}r`:B==="m"?"P1$r0m":B===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(B,P){this._dirtyRowTracker.markRangeDirty(B,P)}}f.InputHandler=M;let L=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,B){z>B&&(D=z,z=B,B=D),z<this.start&&(this.start=z),B>this.end&&(this.end=B)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function O(z){return 0<=z&&z<256}L=u([s(0,w.IBufferService)],L)},844:(y,f)=>{function a(u){for(const s of u)s.dispose();u.length=0}Object.defineProperty(f,"__esModule",{value:!0}),f.getDisposeArrayDisposable=f.disposeArray=f.toDisposable=f.MutableDisposable=f.Disposable=void 0,f.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const s=this._disposables.indexOf(u);s!==-1&&this._disposables.splice(s,1)}},f.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var s;this._isDisposed||u===this._value||((s=this._value)===null||s===void 0||s.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},f.toDisposable=function(u){return{dispose:u}},f.disposeArray=a,f.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FourKeyMap=f.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(s,n,i){this._data[s]||(this._data[s]={}),this._data[s][n]=i}get(s,n){return this._data[s]?this._data[s][n]:void 0}clear(){this._data={}}}f.TwoKeyMap=a,f.FourKeyMap=class{constructor(){this._data=new a}set(u,s,n,i,r){this._data.get(u,s)||this._data.set(u,s,new a),this._data.get(u,s).set(n,i,r)}get(u,s,n,i){var r;return(r=this._data.get(u,s))===null||r===void 0?void 0:r.get(n,i)}clear(){this._data.clear()}}},6114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isChromeOS=f.isLinux=f.isWindows=f.isIphone=f.isIpad=f.isMac=f.getSafariVersion=f.isSafari=f.isLegacyEdge=f.isFirefox=f.isNode=void 0,f.isNode=typeof navigator>"u";const a=f.isNode?"node":navigator.userAgent,u=f.isNode?"node":navigator.platform;f.isFirefox=a.includes("Firefox"),f.isLegacyEdge=a.includes("Edge"),f.isSafari=/^((?!chrome|android).)*safari/i.test(a),f.getSafariVersion=function(){if(!f.isSafari)return 0;const s=a.match(/Version\/(\d+)/);return s===null||s.length<2?0:parseInt(s[1])},f.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),f.isIpad=u==="iPad",f.isIphone=u==="iPhone",f.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),f.isLinux=u.indexOf("Linux")>=0,f.isChromeOS=/\bCrOS\b/.test(a)},6106:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SortedList=void 0;let a=0;f.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u)),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const s=this._getKey(u);if(s===void 0||(a=this._search(s),a===-1)||this._getKey(this._array[a])!==s)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===s);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,s){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do s(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return[...this._array].values()}_search(u){let s=0,n=this._array.length-1;for(;n>=s;){let i=s+n>>1;const r=this._getKey(this._array[i]);if(r>u)n=i-1;else{if(!(r<u)){for(;i>0&&this._getKey(this._array[i-1])===u;)i--;return i}s=i+1}}return s}}},7226:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DebouncedIdleTask=f.IdleTaskQueue=f.PriorityTaskQueue=void 0;const u=a(6114);class s{constructor(){this._tasks=[],this._i=0}enqueue(r){this._tasks.push(r),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(r){this._idleCallback=void 0;let l=0,h=0,o=r.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(l=Date.now(),this._tasks[this._i]()||this._i++,l=Math.max(1,Date.now()-l),h=Math.max(l,h),d=r.timeRemaining(),1.5*h>d)return o-l<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-l))}ms`),void this._start();o=d}this.clear()}}class n extends s{_requestCallback(r){return setTimeout((()=>r(this._createDeadline(16))))}_cancelCallback(r){clearTimeout(r)}_createDeadline(r){const l=Date.now()+r;return{timeRemaining:()=>Math.max(0,l-Date.now())}}}f.PriorityTaskQueue=n,f.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends s{_requestCallback(i){return requestIdleCallback(i)}_cancelCallback(i){cancelIdleCallback(i)}}:n,f.DebouncedIdleTask=class{constructor(){this._queue=new f.IdleTaskQueue}set(i){this._queue.clear(),this._queue.enqueue(i)}flush(){this._queue.flush()}}},9282:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.updateWindowsModeWrappedState=void 0;const u=a(643);f.updateWindowsModeWrappedState=function(s){const n=s.buffer.lines.get(s.buffer.ybase+s.buffer.y-1),i=n?.get(s.cols-1),r=s.buffer.lines.get(s.buffer.ybase+s.buffer.y);r&&i&&(r.isWrapped=i[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&i[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExtendedAttrs=f.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(n){return[n>>>16&255,n>>>8&255,255&n]}static fromColorRGB(n){return(255&n[0])<<16|(255&n[1])<<8|255&n[2]}clone(){const n=new a;return n.fg=this.fg,n.bg=this.bg,n.extended=this.extended.clone(),n}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}f.AttributeData=a;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(n){this._ext=n}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(n){this._ext&=-469762049,this._ext|=n<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(n){this._ext&=-67108864,this._ext|=67108863&n}get urlId(){return this._urlId}set urlId(n){this._urlId=n}constructor(n=0,i=0){this._ext=0,this._urlId=0,this._ext=n,this._urlId=i}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}f.ExtendedAttrs=u},9092:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Buffer=f.MAX_BUFFER_SIZE=void 0;const u=a(6349),s=a(7226),n=a(3734),i=a(8437),r=a(4634),l=a(511),h=a(643),o=a(4863),d=a(7116);f.MAX_BUFFER_SIZE=4294967295,f.Buffer=class{constructor(g,x,S){this._hasScrollback=g,this._optionsService=x,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=i.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,h.WHITESPACE_CELL_CHAR,h.WHITESPACE_CELL_WIDTH,h.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new s.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new n.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new n.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,x){return new i.BufferLine(this._bufferService.cols,this.getNullCell(g),x)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const x=g+this._optionsService.rawOptions.scrollback;return x>f.MAX_BUFFER_SIZE?f.MAX_BUFFER_SIZE:x}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=i.DEFAULT_ATTR_DATA);let x=this._rows;for(;x--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,x){const S=this.getNullCell(i.DEFAULT_ATTR_DATA);let w=0;const b=this._getCorrectBufferLength(x);if(b>this.lines.maxLength&&(this.lines.maxLength=b),this.lines.length>0){if(this._cols<g)for(let A=0;A<this.lines.length;A++)w+=+this.lines.get(A).resize(g,S);let k=0;if(this._rows<x)for(let A=this._rows;A<x;A++)this.lines.length<x+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new i.BufferLine(g,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new i.BufferLine(g,S)));else for(let A=this._rows;A>x;A--)this.lines.length>x+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(b<this.lines.maxLength){const A=this.lines.length-b;A>0&&(this.lines.trimStart(A),this.ybase=Math.max(this.ybase-A,0),this.ydisp=Math.max(this.ydisp-A,0),this.savedY=Math.max(this.savedY-A,0)),this.lines.maxLength=b}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,x-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=x-1,this._isReflowEnabled&&(this._reflow(g,x),this._cols>g))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(g,S);this._cols=g,this._rows=x,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let x=0;for(;this._memoryCleanupPosition<this.lines.length;)if(x+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),x>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,x){this._cols!==g&&(g>this._cols?this._reflowLarger(g,x):this._reflowSmaller(g,x))}_reflowLarger(g,x){const S=(0,r.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(i.DEFAULT_ATTR_DATA));if(S.length>0){const w=(0,r.reflowLargerCreateNewLayout)(this.lines,S);(0,r.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(g,x,w.countRemoved)}}_reflowLargerAdjustViewport(g,x,S){const w=this.getNullCell(i.DEFAULT_ATTR_DATA);let b=S;for(;b-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<x&&this.lines.push(new i.BufferLine(g,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(g,x){const S=this.getNullCell(i.DEFAULT_ATTR_DATA),w=[];let b=0;for(let k=this.lines.length-1;k>=0;k--){let A=this.lines.get(k);if(!A||!A.isWrapped&&A.getTrimmedLength()<=g)continue;const T=[A];for(;A.isWrapped&&k>0;)A=this.lines.get(--k),T.unshift(A);const j=this.ybase+this.y;if(j>=k&&j<k+T.length)continue;const F=T[T.length-1].getTrimmedLength(),$=(0,r.reflowSmallerGetNewLineLengths)(T,this._cols,g),D=$.length-T.length;let M;M=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const L=[];for(let W=0;W<D;W++){const K=this.getBlankLine(i.DEFAULT_ATTR_DATA,!0);L.push(K)}L.length>0&&(w.push({start:k+T.length+b,newLines:L}),b+=L.length),T.push(...L);let O=$.length-1,z=$[O];z===0&&(O--,z=$[O]);let B=T.length-D-1,P=F;for(;B>=0;){const W=Math.min(P,z);if(T[O]===void 0)break;if(T[O].copyCellsFrom(T[B],P-W,z-W,W,!0),z-=W,z===0&&(O--,z=$[O]),P-=W,P===0){B--;const K=Math.max(B,0);P=(0,r.getWrappedLineTrimmedLength)(T,K,this._cols)}}for(let W=0;W<T.length;W++)$[W]<g&&T[W].setCell($[W],S);let U=D-M;for(;U-- >0;)this.ybase===0?this.y<x-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+b)-x&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+x-1)}if(w.length>0){const k=[],A=[];for(let O=0;O<this.lines.length;O++)A.push(this.lines.get(O));const T=this.lines.length;let j=T-1,F=0,$=w[F];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+b);let D=0;for(let O=Math.min(this.lines.maxLength-1,T+b-1);O>=0;O--)if($&&$.start>j+D){for(let z=$.newLines.length-1;z>=0;z--)this.lines.set(O--,$.newLines[z]);O++,k.push({index:j+1,amount:$.newLines.length}),D+=$.newLines.length,$=w[++F]}else this.lines.set(O,A[j--]);let M=0;for(let O=k.length-1;O>=0;O--)k[O].index+=M,this.lines.onInsertEmitter.fire(k[O]),M+=k[O].amount;const L=Math.max(0,T+b-this.lines.maxLength);L>0&&this.lines.onTrimEmitter.fire(L)}}translateBufferLineToString(g,x,S=0,w){const b=this.lines.get(g);return b?b.translateToString(x,S,w):""}getWrappedRangeForLine(g){let x=g,S=g;for(;x>0&&this.lines.get(x).isWrapped;)x--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:x,last:S}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].line===g&&(this.markers[x].dispose(),this.markers.splice(x--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const x=new o.Marker(g);return this.markers.push(x),x.register(this.lines.onTrim((S=>{x.line-=S,x.line<0&&x.dispose()}))),x.register(this.lines.onInsert((S=>{x.line>=S.index&&(x.line+=S.amount)}))),x.register(this.lines.onDelete((S=>{x.line>=S.index&&x.line<S.index+S.amount&&x.dispose(),x.line>S.index&&(x.line-=S.amount)}))),x.register(x.onDispose((()=>this._removeMarker(x)))),x}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLine=f.DEFAULT_ATTR_DATA=void 0;const u=a(3734),s=a(511),n=a(643),i=a(482);f.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let r=0;class l{constructor(o,d,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const x=d||s.CellData.fromCharData([0,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE]);for(let S=0;S<o;++S)this.setCell(S,x);this.length=o}get(o){const d=this._data[3*o+0],g=2097151&d;return[this._data[3*o+1],2097152&d?this._combined[o]:g?(0,i.stringFromCodePoint)(g):"",d>>22,2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):g]}set(o,d){this._data[3*o+1]=d[n.CHAR_DATA_ATTR_INDEX],d[n.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=d[1],this._data[3*o+0]=2097152|o|d[n.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=d[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[n.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&d}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o]:2097151&d?(0,i.stringFromCodePoint)(2097151&d):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,d){return r=3*o,d.content=this._data[r+0],d.fg=this._data[r+1],d.bg=this._data[r+2],2097152&d.content&&(d.combinedData=this._combined[o]),268435456&d.bg&&(d.extended=this._extendedAttrs[o]),d}setCell(o,d){2097152&d.content&&(this._combined[o]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[o]=d.extended),this._data[3*o+0]=d.content,this._data[3*o+1]=d.fg,this._data[3*o+2]=d.bg}setCellFromCodePoint(o,d,g,x,S,w){268435456&S&&(this._extendedAttrs[o]=w),this._data[3*o+0]=d|g<<22,this._data[3*o+1]=x,this._data[3*o+2]=S}addCodepointToCell(o,d){let g=this._data[3*o+0];2097152&g?this._combined[o]+=(0,i.stringFromCodePoint)(d):(2097151&g?(this._combined[o]=(0,i.stringFromCodePoint)(2097151&g)+(0,i.stringFromCodePoint)(d),g&=-2097152,g|=2097152):g=d|4194304,this._data[3*o+0]=g)}insertCells(o,d,g,x){if((o%=this.length)&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs),d<this.length-o){const S=new s.CellData;for(let w=this.length-o-d-1;w>=0;--w)this.setCell(o+d+w,this.loadCell(o+w,S));for(let w=0;w<d;++w)this.setCell(o+w,g)}else for(let S=o;S<this.length;++S)this.setCell(S,g);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs)}deleteCells(o,d,g,x){if(o%=this.length,d<this.length-o){const S=new s.CellData;for(let w=0;w<this.length-o-d;++w)this.setCell(o+w,this.loadCell(o+d+w,S));for(let w=this.length-d;w<this.length;++w)this.setCell(w,g)}else for(let S=o;S<this.length;++S)this.setCell(S,g);o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs),this.getWidth(o)!==0||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs)}replaceCells(o,d,g,x,S=!1){if(S)for(o&&this.getWidth(o-1)===2&&!this.isProtected(o-1)&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs);o<d&&o<this.length;)this.isProtected(o)||this.setCell(o,g),o++;else for(o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new u.ExtendedAttrs);o<d&&o<this.length;)this.setCell(o++,g)}resize(o,d){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const x=new Uint32Array(g);x.set(this._data),this._data=x}for(let x=this.length;x<o;++x)this.setCell(x,d)}else{this._data=this._data.subarray(0,g);const x=Object.keys(this._combined);for(let w=0;w<x.length;w++){const b=parseInt(x[w],10);b>=o&&delete this._combined[b]}const S=Object.keys(this._extendedAttrs);for(let w=0;w<S.length;w++){const b=parseInt(S[w],10);b>=o&&delete this._extendedAttrs[b]}}return this.length=o,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,d=!1){if(d)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,o);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const d in o._combined)this._combined[d]=o._combined[d];this._extendedAttrs={};for(const d in o._extendedAttrs)this._extendedAttrs[d]=o._extendedAttrs[d];this.isWrapped=o.isWrapped}clone(){const o=new l(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const d in this._combined)o._combined[d]=this._combined[d];for(const d in this._extendedAttrs)o._extendedAttrs[d]=this._extendedAttrs[d];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}getNoBgTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0]||50331648&this._data[3*o+2])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,d,g,x,S){const w=o._data;if(S)for(let k=x-1;k>=0;k--){for(let A=0;A<3;A++)this._data[3*(g+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[g+k]=o._extendedAttrs[d+k])}else for(let k=0;k<x;k++){for(let A=0;A<3;A++)this._data[3*(g+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[g+k]=o._extendedAttrs[d+k])}const b=Object.keys(o._combined);for(let k=0;k<b.length;k++){const A=parseInt(b[k],10);A>=d&&(this._combined[A-d+g]=o._combined[A])}}translateToString(o=!1,d=0,g=this.length){o&&(g=Math.min(g,this.getTrimmedLength()));let x="";for(;d<g;){const S=this._data[3*d+0],w=2097151&S;x+=2097152&S?this._combined[d]:w?(0,i.stringFromCodePoint)(w):n.WHITESPACE_CELL_CHAR,d+=S>>22||1}return x}}f.BufferLine=l},4841:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getRangeLength=void 0,f.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(y,f)=>{function a(u,s,n){if(s===u.length-1)return u[s].getTrimmedLength();const i=!u[s].hasContent(n-1)&&u[s].getWidth(n-1)===1,r=u[s+1].getWidth(0)===2;return i&&r?n-1:n}Object.defineProperty(f,"__esModule",{value:!0}),f.getWrappedLineTrimmedLength=f.reflowSmallerGetNewLineLengths=f.reflowLargerApplyNewLayout=f.reflowLargerCreateNewLayout=f.reflowLargerGetLinesToRemove=void 0,f.reflowLargerGetLinesToRemove=function(u,s,n,i,r){const l=[];for(let h=0;h<u.length-1;h++){let o=h,d=u.get(++o);if(!d.isWrapped)continue;const g=[u.get(h)];for(;o<u.length&&d.isWrapped;)g.push(d),d=u.get(++o);if(i>=h&&i<o){h+=g.length-1;continue}let x=0,S=a(g,x,s),w=1,b=0;for(;w<g.length;){const A=a(g,w,s),T=A-b,j=n-S,F=Math.min(T,j);g[x].copyCellsFrom(g[w],b,S,F,!1),S+=F,S===n&&(x++,S=0),b+=F,b===A&&(w++,b=0),S===0&&x!==0&&g[x-1].getWidth(n-1)===2&&(g[x].copyCellsFrom(g[x-1],n-1,S++,1,!1),g[x-1].setCell(n-1,r))}g[x].replaceCells(S,n,r);let k=0;for(let A=g.length-1;A>0&&(A>x||g[A].getTrimmedLength()===0);A--)k++;k>0&&(l.push(h+g.length-k),l.push(k)),h+=g.length-1}return l},f.reflowLargerCreateNewLayout=function(u,s){const n=[];let i=0,r=s[i],l=0;for(let h=0;h<u.length;h++)if(r===h){const o=s[++i];u.onDeleteEmitter.fire({index:h-l,amount:o}),h+=o-1,l+=o,r=s[++i]}else n.push(h);return{layout:n,countRemoved:l}},f.reflowLargerApplyNewLayout=function(u,s){const n=[];for(let i=0;i<s.length;i++)n.push(u.get(s[i]));for(let i=0;i<n.length;i++)u.set(i,n[i]);u.length=s.length},f.reflowSmallerGetNewLineLengths=function(u,s,n){const i=[],r=u.map(((d,g)=>a(u,g,s))).reduce(((d,g)=>d+g));let l=0,h=0,o=0;for(;o<r;){if(r-o<n){i.push(r-o);break}l+=n;const d=a(u,h,s);l>d&&(l-=d,h++);const g=u[h].getWidth(l-1)===2;g&&l--;const x=g?n-1:n;i.push(x),o+=x}return i},f.getWrappedLineTrimmedLength=a},5295:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferSet=void 0;const u=a(8460),s=a(844),n=a(9092);class i extends s.Disposable{constructor(l,h){super(),this._optionsService=l,this._bufferService=h,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new n.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(l){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(l),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(l,h){this._normal.resize(l,h),this._alt.resize(l,h),this.setupTabStops(l)}setupTabStops(l){this._normal.setupTabStops(l),this._alt.setupTabStops(l)}}f.BufferSet=i},511:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CellData=void 0;const u=a(482),s=a(643),n=a(3734);class i extends n.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new n.ExtendedAttrs,this.combinedData=""}static fromCharData(l){const h=new i;return h.setFromCharData(l),h}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(l){this.fg=l[s.CHAR_DATA_ATTR_INDEX],this.bg=0;let h=!1;if(l[s.CHAR_DATA_CHAR_INDEX].length>2)h=!0;else if(l[s.CHAR_DATA_CHAR_INDEX].length===2){const o=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const d=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(o-55296)+d-56320+65536|l[s.CHAR_DATA_WIDTH_INDEX]<<22:h=!0}else h=!0}else this.content=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|l[s.CHAR_DATA_WIDTH_INDEX]<<22;h&&(this.combinedData=l[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|l[s.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.CellData=i},643:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WHITESPACE_CELL_CODE=f.WHITESPACE_CELL_WIDTH=f.WHITESPACE_CELL_CHAR=f.NULL_CELL_CODE=f.NULL_CELL_WIDTH=f.NULL_CELL_CHAR=f.CHAR_DATA_CODE_INDEX=f.CHAR_DATA_WIDTH_INDEX=f.CHAR_DATA_CHAR_INDEX=f.CHAR_DATA_ATTR_INDEX=f.DEFAULT_EXT=f.DEFAULT_ATTR=f.DEFAULT_COLOR=void 0,f.DEFAULT_COLOR=0,f.DEFAULT_ATTR=256|f.DEFAULT_COLOR<<9,f.DEFAULT_EXT=0,f.CHAR_DATA_ATTR_INDEX=0,f.CHAR_DATA_CHAR_INDEX=1,f.CHAR_DATA_WIDTH_INDEX=2,f.CHAR_DATA_CODE_INDEX=3,f.NULL_CELL_CHAR="",f.NULL_CELL_WIDTH=1,f.NULL_CELL_CODE=0,f.WHITESPACE_CELL_CHAR=" ",f.WHITESPACE_CELL_WIDTH=1,f.WHITESPACE_CELL_CODE=32},4863:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Marker=void 0;const u=a(8460),s=a(844);class n{get id(){return this._id}constructor(r){this.line=r,this.isDisposed=!1,this._disposables=[],this._id=n._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,s.disposeArray)(this._disposables),this._disposables.length=0)}register(r){return this._disposables.push(r),r}}f.Marker=n,n._nextId=1},7116:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_CHARSET=f.CHARSETS=void 0,f.CHARSETS={},f.DEFAULT_CHARSET=f.CHARSETS.B,f.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},f.CHARSETS.A={"#":""},f.CHARSETS.B=void 0,f.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},f.CHARSETS.C=f.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.E=f.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},f.CHARSETS.H=f.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(y,f)=>{var a,u,s;Object.defineProperty(f,"__esModule",{value:!0}),f.C1_ESCAPED=f.C1=f.C0=void 0,(function(n){n.NUL="\0",n.SOH="",n.STX="",n.ETX="",n.EOT="",n.ENQ="",n.ACK="",n.BEL="\x07",n.BS="\b",n.HT="	",n.LF=`
`,n.VT="\v",n.FF="\f",n.CR="\r",n.SO="",n.SI="",n.DLE="",n.DC1="",n.DC2="",n.DC3="",n.DC4="",n.NAK="",n.SYN="",n.ETB="",n.CAN="",n.EM="",n.SUB="",n.ESC="\x1B",n.FS="",n.GS="",n.RS="",n.US="",n.SP=" ",n.DEL=""})(a||(f.C0=a={})),(function(n){n.PAD="",n.HOP="",n.BPH="",n.NBH="",n.IND="",n.NEL="",n.SSA="",n.ESA="",n.HTS="",n.HTJ="",n.VTS="",n.PLD="",n.PLU="",n.RI="",n.SS2="",n.SS3="",n.DCS="",n.PU1="",n.PU2="",n.STS="",n.CCH="",n.MW="",n.SPA="",n.EPA="",n.SOS="",n.SGCI="",n.SCI="",n.CSI="",n.ST="",n.OSC="",n.PM="",n.APC=""})(u||(f.C1=u={})),(function(n){n.ST=`${a.ESC}\\`})(s||(f.C1_ESCAPED=s={}))},7399:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.evaluateKeyboardEvent=void 0;const u=a(2584),s={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};f.evaluateKeyboardEvent=function(n,i,r,l){const h={type:0,cancel:!1,key:void 0},o=(n.shiftKey?1:0)|(n.altKey?2:0)|(n.ctrlKey?4:0)|(n.metaKey?8:0);switch(n.keyCode){case 0:n.key==="UIKeyInputUpArrow"?h.key=i?u.C0.ESC+"OA":u.C0.ESC+"[A":n.key==="UIKeyInputLeftArrow"?h.key=i?u.C0.ESC+"OD":u.C0.ESC+"[D":n.key==="UIKeyInputRightArrow"?h.key=i?u.C0.ESC+"OC":u.C0.ESC+"[C":n.key==="UIKeyInputDownArrow"&&(h.key=i?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(n.altKey){h.key=u.C0.ESC+u.C0.DEL;break}h.key=u.C0.DEL;break;case 9:if(n.shiftKey){h.key=u.C0.ESC+"[Z";break}h.key=u.C0.HT,h.cancel=!0;break;case 13:h.key=n.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,h.cancel=!0;break;case 27:h.key=u.C0.ESC,n.altKey&&(h.key=u.C0.ESC+u.C0.ESC),h.cancel=!0;break;case 37:if(n.metaKey)break;o?(h.key=u.C0.ESC+"[1;"+(o+1)+"D",h.key===u.C0.ESC+"[1;3D"&&(h.key=u.C0.ESC+(r?"b":"[1;5D"))):h.key=i?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(n.metaKey)break;o?(h.key=u.C0.ESC+"[1;"+(o+1)+"C",h.key===u.C0.ESC+"[1;3C"&&(h.key=u.C0.ESC+(r?"f":"[1;5C"))):h.key=i?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(n.metaKey)break;o?(h.key=u.C0.ESC+"[1;"+(o+1)+"A",r||h.key!==u.C0.ESC+"[1;3A"||(h.key=u.C0.ESC+"[1;5A")):h.key=i?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(n.metaKey)break;o?(h.key=u.C0.ESC+"[1;"+(o+1)+"B",r||h.key!==u.C0.ESC+"[1;3B"||(h.key=u.C0.ESC+"[1;5B")):h.key=i?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:n.shiftKey||n.ctrlKey||(h.key=u.C0.ESC+"[2~");break;case 46:h.key=o?u.C0.ESC+"[3;"+(o+1)+"~":u.C0.ESC+"[3~";break;case 36:h.key=o?u.C0.ESC+"[1;"+(o+1)+"H":i?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:h.key=o?u.C0.ESC+"[1;"+(o+1)+"F":i?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:n.shiftKey?h.type=2:n.ctrlKey?h.key=u.C0.ESC+"[5;"+(o+1)+"~":h.key=u.C0.ESC+"[5~";break;case 34:n.shiftKey?h.type=3:n.ctrlKey?h.key=u.C0.ESC+"[6;"+(o+1)+"~":h.key=u.C0.ESC+"[6~";break;case 112:h.key=o?u.C0.ESC+"[1;"+(o+1)+"P":u.C0.ESC+"OP";break;case 113:h.key=o?u.C0.ESC+"[1;"+(o+1)+"Q":u.C0.ESC+"OQ";break;case 114:h.key=o?u.C0.ESC+"[1;"+(o+1)+"R":u.C0.ESC+"OR";break;case 115:h.key=o?u.C0.ESC+"[1;"+(o+1)+"S":u.C0.ESC+"OS";break;case 116:h.key=o?u.C0.ESC+"[15;"+(o+1)+"~":u.C0.ESC+"[15~";break;case 117:h.key=o?u.C0.ESC+"[17;"+(o+1)+"~":u.C0.ESC+"[17~";break;case 118:h.key=o?u.C0.ESC+"[18;"+(o+1)+"~":u.C0.ESC+"[18~";break;case 119:h.key=o?u.C0.ESC+"[19;"+(o+1)+"~":u.C0.ESC+"[19~";break;case 120:h.key=o?u.C0.ESC+"[20;"+(o+1)+"~":u.C0.ESC+"[20~";break;case 121:h.key=o?u.C0.ESC+"[21;"+(o+1)+"~":u.C0.ESC+"[21~";break;case 122:h.key=o?u.C0.ESC+"[23;"+(o+1)+"~":u.C0.ESC+"[23~";break;case 123:h.key=o?u.C0.ESC+"[24;"+(o+1)+"~":u.C0.ESC+"[24~";break;default:if(!n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)if(r&&!l||!n.altKey||n.metaKey)!r||n.altKey||n.ctrlKey||n.shiftKey||!n.metaKey?n.key&&!n.ctrlKey&&!n.altKey&&!n.metaKey&&n.keyCode>=48&&n.key.length===1?h.key=n.key:n.key&&n.ctrlKey&&(n.key==="_"&&(h.key=u.C0.US),n.key==="@"&&(h.key=u.C0.NUL)):n.keyCode===65&&(h.type=1);else{const d=s[n.keyCode],g=d?.[n.shiftKey?1:0];if(g)h.key=u.C0.ESC+g;else if(n.keyCode>=65&&n.keyCode<=90){const x=n.ctrlKey?n.keyCode-64:n.keyCode+32;let S=String.fromCharCode(x);n.shiftKey&&(S=S.toUpperCase()),h.key=u.C0.ESC+S}else if(n.keyCode===32)h.key=u.C0.ESC+(n.ctrlKey?u.C0.NUL:" ");else if(n.key==="Dead"&&n.code.startsWith("Key")){let x=n.code.slice(3,4);n.shiftKey||(x=x.toLowerCase()),h.key=u.C0.ESC+x,h.cancel=!0}}else n.keyCode>=65&&n.keyCode<=90?h.key=String.fromCharCode(n.keyCode-64):n.keyCode===32?h.key=u.C0.NUL:n.keyCode>=51&&n.keyCode<=55?h.key=String.fromCharCode(n.keyCode-51+27):n.keyCode===56?h.key=u.C0.DEL:n.keyCode===219?h.key=u.C0.ESC:n.keyCode===220?h.key=u.C0.FS:n.keyCode===221&&(h.key=u.C0.GS)}return h}},482:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Utf8ToUtf32=f.StringToUtf32=f.utf32ToString=f.stringFromCodePoint=void 0,f.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},f.utf32ToString=function(a,u=0,s=a.length){let n="";for(let i=u;i<s;++i){let r=a[i];r>65535?(r-=65536,n+=String.fromCharCode(55296+(r>>10))+String.fromCharCode(r%1024+56320)):n+=String.fromCharCode(r)}return n},f.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const s=a.length;if(!s)return 0;let n=0,i=0;if(this._interim){const r=a.charCodeAt(i++);56320<=r&&r<=57343?u[n++]=1024*(this._interim-55296)+r-56320+65536:(u[n++]=this._interim,u[n++]=r),this._interim=0}for(let r=i;r<s;++r){const l=a.charCodeAt(r);if(55296<=l&&l<=56319){if(++r>=s)return this._interim=l,n;const h=a.charCodeAt(r);56320<=h&&h<=57343?u[n++]=1024*(l-55296)+h-56320+65536:(u[n++]=l,u[n++]=h)}else l!==65279&&(u[n++]=l)}return n}},f.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const s=a.length;if(!s)return 0;let n,i,r,l,h=0,o=0,d=0;if(this.interim[0]){let S=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let b,k=0;for(;(b=63&this.interim[++k])&&k<4;)w<<=6,w|=b;const A=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=A-k;for(;d<T;){if(d>=s)return 0;if(b=a[d++],(192&b)!=128){d--,S=!0;break}this.interim[k++]=b,w<<=6,w|=63&b}S||(A===2?w<128?d--:u[h++]=w:A===3?w<2048||w>=55296&&w<=57343||w===65279||(u[h++]=w):w<65536||w>1114111||(u[h++]=w)),this.interim.fill(0)}const g=s-4;let x=d;for(;x<s;){for(;!(!(x<g)||128&(n=a[x])||128&(i=a[x+1])||128&(r=a[x+2])||128&(l=a[x+3]));)u[h++]=n,u[h++]=i,u[h++]=r,u[h++]=l,x+=4;if(n=a[x++],n<128)u[h++]=n;else if((224&n)==192){if(x>=s)return this.interim[0]=n,h;if(i=a[x++],(192&i)!=128){x--;continue}if(o=(31&n)<<6|63&i,o<128){x--;continue}u[h++]=o}else if((240&n)==224){if(x>=s)return this.interim[0]=n,h;if(i=a[x++],(192&i)!=128){x--;continue}if(x>=s)return this.interim[0]=n,this.interim[1]=i,h;if(r=a[x++],(192&r)!=128){x--;continue}if(o=(15&n)<<12|(63&i)<<6|63&r,o<2048||o>=55296&&o<=57343||o===65279)continue;u[h++]=o}else if((248&n)==240){if(x>=s)return this.interim[0]=n,h;if(i=a[x++],(192&i)!=128){x--;continue}if(x>=s)return this.interim[0]=n,this.interim[1]=i,h;if(r=a[x++],(192&r)!=128){x--;continue}if(x>=s)return this.interim[0]=n,this.interim[1]=i,this.interim[2]=r,h;if(l=a[x++],(192&l)!=128){x--;continue}if(o=(7&n)<<18|(63&i)<<12|(63&r)<<6|63&l,o<65536||o>1114111)continue;u[h++]=o}}return h}}},225:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let s;f.UnicodeV6=class{constructor(){if(this.version="6",!s){s=new Uint8Array(65536),s.fill(1),s[0]=0,s.fill(0,1,32),s.fill(0,127,160),s.fill(2,4352,4448),s[9001]=2,s[9002]=2,s.fill(2,11904,42192),s[12351]=1,s.fill(2,44032,55204),s.fill(2,63744,64256),s.fill(2,65040,65050),s.fill(2,65072,65136),s.fill(2,65280,65377),s.fill(2,65504,65511);for(let n=0;n<a.length;++n)s.fill(0,a[n][0],a[n][1]+1)}}wcwidth(n){return n<32?0:n<127?1:n<65536?s[n]:(function(i,r){let l,h=0,o=r.length-1;if(i<r[0][0]||i>r[o][1])return!1;for(;o>=h;)if(l=h+o>>1,i>r[l][1])h=l+1;else{if(!(i<r[l][0]))return!0;o=l-1}return!1})(n,u)?0:n>=131072&&n<=196605||n>=196608&&n<=262141?2:1}}},5981:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WriteBuffer=void 0;const u=a(8460),s=a(844);class n extends s.Disposable{constructor(r){super(),this._action=r,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(r,l){if(l!==void 0&&this._syncCalls>l)return void(this._syncCalls=0);if(this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let h;for(this._isSyncWriting=!0;h=this._writeBuffer.shift();){this._action(h);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(r,l){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(l),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(l)}_innerWrite(r=0,l=!0){const h=r||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],d=this._action(o,l);if(d){const x=S=>Date.now()-h>=12?setTimeout((()=>this._innerWrite(0,S))):this._innerWrite(h,S);return void d.catch((S=>(queueMicrotask((()=>{throw S})),Promise.resolve(!1)))).then(x)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-h>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}f.WriteBuffer=n},5941:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.toRgbString=f.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function s(n,i){const r=n.toString(16),l=r.length<2?"0"+r:r;switch(i){case 4:return r[0];case 8:return l;case 12:return(l+l).slice(0,3);default:return l+l}}f.parseColor=function(n){if(!n)return;let i=n.toLowerCase();if(i.indexOf("rgb:")===0){i=i.slice(4);const r=a.exec(i);if(r){const l=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/l*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/l*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/l*255)]}}else if(i.indexOf("#")===0&&(i=i.slice(1),u.exec(i)&&[3,6,9,12].includes(i.length))){const r=i.length/3,l=[0,0,0];for(let h=0;h<3;++h){const o=parseInt(i.slice(r*h,r*h+r),16);l[h]=r===1?o<<4:r===2?o:r===3?o>>4:o>>8}return l}},f.toRgbString=function(n,i=16){const[r,l,h]=n;return`rgb:${s(r,i)}/${s(l,i)}/${s(h,i)}`}},5770:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PAYLOAD_LIMIT=void 0,f.PAYLOAD_LIMIT=1e7},6351:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DcsHandler=f.DcsParser=void 0;const u=a(482),s=a(8742),n=a(5770),i=[];f.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=i,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=i}registerHandler(l,h){this._handlers[l]===void 0&&(this._handlers[l]=[]);const o=this._handlers[l];return o.push(h),{dispose:()=>{const d=o.indexOf(h);d!==-1&&o.splice(d,1)}}}clearHandler(l){this._handlers[l]&&delete this._handlers[l]}setHandlerFallback(l){this._handlerFb=l}reset(){if(this._active.length)for(let l=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;l>=0;--l)this._active[l].unhook(!1);this._stack.paused=!1,this._active=i,this._ident=0}hook(l,h){if(this.reset(),this._ident=l,this._active=this._handlers[l]||i,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(h);else this._handlerFb(this._ident,"HOOK",h)}put(l,h,o){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(l,h,o);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(l,h,o))}unhook(l,h=!0){if(this._active.length){let o=!1,d=this._active.length-1,g=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,o=h,g=this._stack.fallThrough,this._stack.paused=!1),!g&&o===!1){for(;d>=0&&(o=this._active[d].unhook(l),o!==!0);d--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,o;d--}for(;d>=0;d--)if(o=this._active[d].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",l);this._active=i,this._ident=0}};const r=new s.Params;r.addParam(0),f.DcsHandler=class{constructor(l){this._handler=l,this._data="",this._params=r,this._hitLimit=!1}hook(l){this._params=l.length>1||l.params[0]?l.clone():r,this._data="",this._hitLimit=!1}put(l,h,o){this._hitLimit||(this._data+=(0,u.utf32ToString)(l,h,o),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(l){let h=!1;if(this._hitLimit)h=!1;else if(l&&(h=this._handler(this._data,this._params),h instanceof Promise))return h.then((o=>(this._params=r,this._data="",this._hitLimit=!1,o)));return this._params=r,this._data="",this._hitLimit=!1,h}}},2015:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.EscapeSequenceParser=f.VT500_TRANSITION_TABLE=f.TransitionTable=void 0;const u=a(844),s=a(8742),n=a(6242),i=a(6351);class r{constructor(d){this.table=new Uint8Array(d)}setDefault(d,g){this.table.fill(d<<4|g)}add(d,g,x,S){this.table[g<<8|d]=x<<4|S}addMany(d,g,x,S){for(let w=0;w<d.length;w++)this.table[g<<8|d[w]]=x<<4|S}}f.TransitionTable=r;const l=160;f.VT500_TRANSITION_TABLE=(function(){const o=new r(4095),d=Array.apply(null,Array(256)).map(((k,A)=>A)),g=(k,A)=>d.slice(k,A),x=g(32,127),S=g(0,24);S.push(25),S.push.apply(S,g(28,32));const w=g(0,14);let b;for(b in o.setDefault(1,0),o.addMany(x,0,2,0),w)o.addMany([24,26,153,154],b,3,0),o.addMany(g(128,144),b,3,0),o.addMany(g(144,152),b,3,0),o.add(156,b,0,0),o.add(27,b,11,1),o.add(157,b,4,8),o.addMany([152,158,159],b,0,7),o.add(155,b,11,3),o.add(144,b,11,9);return o.addMany(S,0,3,0),o.addMany(S,1,3,1),o.add(127,1,0,1),o.addMany(S,8,0,8),o.addMany(S,3,3,3),o.add(127,3,0,3),o.addMany(S,4,3,4),o.add(127,4,0,4),o.addMany(S,6,3,6),o.addMany(S,5,3,5),o.add(127,5,0,5),o.addMany(S,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(x,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(g(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(x,7,0,7),o.addMany(S,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(g(64,127),3,7,0),o.addMany(g(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(g(48,60),4,8,4),o.addMany(g(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(g(32,64),6,0,6),o.add(127,6,0,6),o.addMany(g(64,127),6,0,0),o.addMany(g(32,48),3,9,5),o.addMany(g(32,48),5,9,5),o.addMany(g(48,64),5,0,6),o.addMany(g(64,127),5,7,0),o.addMany(g(32,48),4,9,5),o.addMany(g(32,48),1,9,2),o.addMany(g(32,48),2,9,2),o.addMany(g(48,127),2,10,0),o.addMany(g(48,80),1,10,0),o.addMany(g(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(g(96,127),1,10,0),o.add(80,1,11,9),o.addMany(S,9,0,9),o.add(127,9,0,9),o.addMany(g(28,32),9,0,9),o.addMany(g(32,48),9,9,12),o.addMany(g(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(S,11,0,11),o.addMany(g(32,128),11,0,11),o.addMany(g(28,32),11,0,11),o.addMany(S,10,0,10),o.add(127,10,0,10),o.addMany(g(28,32),10,0,10),o.addMany(g(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(g(32,48),10,9,12),o.addMany(S,12,0,12),o.add(127,12,0,12),o.addMany(g(28,32),12,0,12),o.addMany(g(32,48),12,9,12),o.addMany(g(48,64),12,0,11),o.addMany(g(64,127),12,12,13),o.addMany(g(64,127),10,12,13),o.addMany(g(64,127),9,12,13),o.addMany(S,13,13,13),o.addMany(x,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(l,0,2,0),o.add(l,8,5,8),o.add(l,6,0,6),o.add(l,11,0,11),o.add(l,13,13,13),o})();class h extends u.Disposable{constructor(d=f.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new s.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(g,x,S)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,x)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new n.OscParser),this._dcsParser=this.register(new i.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(d,g=[64,126]){let x=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(x=d.prefix.charCodeAt(0),x&&60>x||x>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<d.intermediates.length;++w){const b=d.intermediates.charCodeAt(w);if(32>b||b>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");x<<=8,x|=b}}if(d.final.length!==1)throw new Error("final must be a single byte");const S=d.final.charCodeAt(0);if(g[0]>S||S>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return x<<=8,x|=S,x}identToString(d){const g=[];for(;d;)g.push(String.fromCharCode(255&d)),d>>=8;return g.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,g){const x=this._identifier(d,[48,126]);this._escHandlers[x]===void 0&&(this._escHandlers[x]=[]);const S=this._escHandlers[x];return S.push(g),{dispose:()=>{const w=S.indexOf(g);w!==-1&&S.splice(w,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,g){this._executeHandlers[d.charCodeAt(0)]=g}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,g){const x=this._identifier(d);this._csiHandlers[x]===void 0&&(this._csiHandlers[x]=[]);const S=this._csiHandlers[x];return S.push(g),{dispose:()=>{const w=S.indexOf(g);w!==-1&&S.splice(w,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,g){return this._dcsParser.registerHandler(this._identifier(d),g)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,g){return this._oscParser.registerHandler(d,g)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,g,x,S,w){this._parseStack.state=d,this._parseStack.handlers=g,this._parseStack.handlerPos=x,this._parseStack.transition=S,this._parseStack.chunkPos=w}parse(d,g,x){let S,w=0,b=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(x===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const A=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(x===!1&&T>-1){for(;T>=0&&(S=A[T](this._params),S!==!0);T--)if(S instanceof Promise)return this._parseStack.handlerPos=T,S}this._parseStack.handlers=[];break;case 4:if(x===!1&&T>-1){for(;T>=0&&(S=A[T](),S!==!0);T--)if(S instanceof Promise)return this._parseStack.handlerPos=T,S}this._parseStack.handlers=[];break;case 6:if(w=d[this._parseStack.chunkPos],S=this._dcsParser.unhook(w!==24&&w!==26,x),S)return S;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=d[this._parseStack.chunkPos],S=this._oscParser.end(w!==24&&w!==26,x),S)return S;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let A=k;A<g;++A){switch(w=d[A],b=this._transitions.table[this.currentState<<8|(w<160?w:l)],b>>4){case 2:for(let D=A+1;;++D){if(D>=g||(w=d[D])<32||w>126&&w<l){this._printHandler(d,A,D),A=D-1;break}if(++D>=g||(w=d[D])<32||w>126&&w<l){this._printHandler(d,A,D),A=D-1;break}if(++D>=g||(w=d[D])<32||w>126&&w<l){this._printHandler(d,A,D),A=D-1;break}if(++D>=g||(w=d[D])<32||w>126&&w<l){this._printHandler(d,A,D),A=D-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:A,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|w];let j=T?T.length-1:-1;for(;j>=0&&(S=T[j](this._params),S!==!0);j--)if(S instanceof Promise)return this._preserveStack(3,T,j,b,A),S;j<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++A<g&&(w=d[A])>47&&w<60);A--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const F=this._escHandlers[this._collect<<8|w];let $=F?F.length-1:-1;for(;$>=0&&(S=F[$](),S!==!0);$--)if(S instanceof Promise)return this._preserveStack(4,F,$,b,A),S;$<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let D=A+1;;++D)if(D>=g||(w=d[D])===24||w===26||w===27||w>127&&w<l){this._dcsParser.put(d,A,D),A=D-1;break}break;case 14:if(S=this._dcsParser.unhook(w!==24&&w!==26),S)return this._preserveStack(6,[],0,b,A),S;w===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let D=A+1;;D++)if(D>=g||(w=d[D])<32||w>127&&w<l){this._oscParser.put(d,A,D),A=D-1;break}break;case 6:if(S=this._oscParser.end(w!==24&&w!==26),S)return this._preserveStack(5,[],0,b,A),S;w===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&b}}}f.EscapeSequenceParser=h},6242:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OscHandler=f.OscParser=void 0;const u=a(5770),s=a(482),n=[];f.OscParser=class{constructor(){this._state=0,this._active=n,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(i,r){this._handlers[i]===void 0&&(this._handlers[i]=[]);const l=this._handlers[i];return l.push(r),{dispose:()=>{const h=l.indexOf(r);h!==-1&&l.splice(h,1)}}}clearHandler(i){this._handlers[i]&&delete this._handlers[i]}setHandlerFallback(i){this._handlerFb=i}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=n}reset(){if(this._state===2)for(let i=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;i>=0;--i)this._active[i].end(!1);this._stack.paused=!1,this._active=n,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||n,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].start();else this._handlerFb(this._id,"START")}_put(i,r,l){if(this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].put(i,r,l);else this._handlerFb(this._id,"PUT",(0,s.utf32ToString)(i,r,l))}start(){this.reset(),this._state=1}put(i,r,l){if(this._state!==3){if(this._state===1)for(;r<l;){const h=i[r++];if(h===59){this._state=2,this._start();break}if(h<48||57<h)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+h-48}this._state===2&&l-r>0&&this._put(i,r,l)}}end(i,r=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let l=!1,h=this._active.length-1,o=!1;if(this._stack.paused&&(h=this._stack.loopPosition-1,l=r,o=this._stack.fallThrough,this._stack.paused=!1),!o&&l===!1){for(;h>=0&&(l=this._active[h].end(i),l!==!0);h--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!1,l;h--}for(;h>=0;h--)if(l=this._active[h].end(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!0,l}else this._handlerFb(this._id,"END",i);this._active=n,this._id=-1,this._state=0}}},f.OscHandler=class{constructor(i){this._handler=i,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(i,r,l){this._hitLimit||(this._data+=(0,s.utf32ToString)(i,r,l),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(i){let r=!1;if(this._hitLimit)r=!1;else if(i&&(r=this._handler(this._data),r instanceof Promise))return r.then((l=>(this._data="",this._hitLimit=!1,l)));return this._data="",this._hitLimit=!1,r}}},8742:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Params=void 0;const a=2147483647;class u{static fromArray(n){const i=new u;if(!n.length)return i;for(let r=Array.isArray(n[0])?1:0;r<n.length;++r){const l=n[r];if(Array.isArray(l))for(let h=0;h<l.length;++h)i.addSubParam(l[h]);else i.addParam(l)}return i}constructor(n=32,i=32){if(this.maxLength=n,this.maxSubParamsLength=i,i>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(n),this.length=0,this._subParams=new Int32Array(i),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(n),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const n=new u(this.maxLength,this.maxSubParamsLength);return n.params.set(this.params),n.length=this.length,n._subParams.set(this._subParams),n._subParamsLength=this._subParamsLength,n._subParamsIdx.set(this._subParamsIdx),n._rejectDigits=this._rejectDigits,n._rejectSubDigits=this._rejectSubDigits,n._digitIsSub=this._digitIsSub,n}toArray(){const n=[];for(let i=0;i<this.length;++i){n.push(this.params[i]);const r=this._subParamsIdx[i]>>8,l=255&this._subParamsIdx[i];l-r>0&&n.push(Array.prototype.slice.call(this._subParams,r,l))}return n}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(n){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(n<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=n>a?a:n}}addSubParam(n){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(n<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=n>a?a:n,this._subParamsIdx[this.length-1]++}}hasSubParams(n){return(255&this._subParamsIdx[n])-(this._subParamsIdx[n]>>8)>0}getSubParams(n){const i=this._subParamsIdx[n]>>8,r=255&this._subParamsIdx[n];return r-i>0?this._subParams.subarray(i,r):null}getSubParamsAll(){const n={};for(let i=0;i<this.length;++i){const r=this._subParamsIdx[i]>>8,l=255&this._subParamsIdx[i];l-r>0&&(n[i]=this._subParams.slice(r,l))}return n}addDigit(n){let i;if(this._rejectDigits||!(i=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const r=this._digitIsSub?this._subParams:this.params,l=r[i-1];r[i-1]=~l?Math.min(10*l+n,a):n}}f.Params=u},5741:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AddonManager=void 0,f.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const s={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(s),u.dispose=()=>this._wrappedAddonDispose(s),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let s=0;s<this._addons.length;s++)if(this._addons[s]===a){u=s;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferApiView=void 0;const u=a(3785),s=a(511);f.BufferApiView=class{constructor(n,i){this._buffer=n,this.type=i}init(n){return this._buffer=n,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(n){const i=this._buffer.lines.get(n);if(i)return new u.BufferLineApiView(i)}getNullCell(){return new s.CellData}}},3785:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLineApiView=void 0;const u=a(511);f.BufferLineApiView=class{constructor(s){this._line=s}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(s,n){if(!(s<0||s>=this._line.length))return n?(this._line.loadCell(s,n),n):this._line.loadCell(s,new u.CellData)}translateToString(s,n,i){return this._line.translateToString(s,n,i)}}},8285:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferNamespaceApi=void 0;const u=a(8771),s=a(8460),n=a(844);class i extends n.Disposable{constructor(l){super(),this._core=l,this._onBufferChange=this.register(new s.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}f.BufferNamespaceApi=i},7975:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ParserApi=void 0,f.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,(s=>u(s.toArray())))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,((s,n)=>u(s,n.toArray())))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeApi=void 0,f.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(y,f,a){var u=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferService=f.MINIMUM_ROWS=f.MINIMUM_COLS=void 0;const n=a(8460),i=a(844),r=a(5295),l=a(2585);f.MINIMUM_COLS=2,f.MINIMUM_ROWS=1;let h=f.BufferService=class extends i.Disposable{get buffer(){return this.buffers.active}constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new n.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,f.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,f.MINIMUM_ROWS),this.buffers=this.register(new r.BufferSet(o,this))}resize(o,d){this.cols=o,this.rows=d,this.buffers.resize(o,d),this._onResize.fire({cols:o,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,d=!1){const g=this.buffer;let x;x=this._cachedBlankLine,x&&x.length===this.cols&&x.getFg(0)===o.fg&&x.getBg(0)===o.bg||(x=g.getBlankLine(o,d),this._cachedBlankLine=x),x.isWrapped=d;const S=g.ybase+g.scrollTop,w=g.ybase+g.scrollBottom;if(g.scrollTop===0){const b=g.lines.isFull;w===g.lines.length-1?b?g.lines.recycle().copyFrom(x):g.lines.push(x.clone()):g.lines.splice(w+1,0,x.clone()),b?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const b=w-S+1;g.lines.shiftElements(S+1,b-1,-1),g.lines.set(w,x.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(o,d,g){const x=this.buffer;if(o<0){if(x.ydisp===0)return;this.isUserScrolling=!0}else o+x.ydisp>=x.ybase&&(this.isUserScrolling=!1);const S=x.ydisp;x.ydisp=Math.max(Math.min(x.ydisp+o,x.ybase),0),S!==x.ydisp&&(d||this._onScroll.fire(x.ydisp))}};f.BufferService=h=u([s(0,l.IOptionsService)],h)},7994:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharsetService=void 0,f.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(y,f,a){var u=this&&this.__decorate||function(x,S,w,b){var k,A=arguments.length,T=A<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,w):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,S,w,b);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(S,w,T):k(S,w))||T);return A>3&&T&&Object.defineProperty(S,w,T),T},s=this&&this.__param||function(x,S){return function(w,b){S(w,b,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreMouseService=void 0;const n=a(2585),i=a(8460),r=a(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:x=>x.button!==4&&x.action===1&&(x.ctrl=!1,x.alt=!1,x.shift=!1,!0)},VT200:{events:19,restrict:x=>x.action!==32},DRAG:{events:23,restrict:x=>x.action!==32||x.button!==3},ANY:{events:31,restrict:x=>!0}};function h(x,S){let w=(x.ctrl?16:0)|(x.shift?4:0)|(x.alt?8:0);return x.button===4?(w|=64,w|=x.action):(w|=3&x.button,4&x.button&&(w|=64),8&x.button&&(w|=128),x.action===32?w|=32:x.action!==0||S||(w|=3)),w}const o=String.fromCharCode,d={DEFAULT:x=>{const S=[h(x,!1)+32,x.col+32,x.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1B[M${o(S[0])}${o(S[1])}${o(S[2])}`},SGR:x=>{const S=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${h(x,!0)};${x.col};${x.row}${S}`},SGR_PIXELS:x=>{const S=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${h(x,!0)};${x.x};${x.y}${S}`}};let g=f.CoreMouseService=class extends r.Disposable{constructor(x,S){super(),this._bufferService=x,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new i.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(l))this.addProtocol(w,l[w]);for(const w of Object.keys(d))this.addEncoding(w,d[w]);this.reset()}addProtocol(x,S){this._protocols[x]=S}addEncoding(x,S){this._encodings[x]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(x){if(!this._protocols[x])throw new Error(`unknown protocol "${x}"`);this._activeProtocol=x,this._onProtocolChange.fire(this._protocols[x].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(x){if(!this._encodings[x])throw new Error(`unknown encoding "${x}"`);this._activeEncoding=x}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(x){if(x.col<0||x.col>=this._bufferService.cols||x.row<0||x.row>=this._bufferService.rows||x.button===4&&x.action===32||x.button===3&&x.action!==32||x.button!==4&&(x.action===2||x.action===3)||(x.col++,x.row++,x.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,x,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(x))return!1;const S=this._encodings[this._activeEncoding](x);return S&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=x,!0}explainEvents(x){return{down:!!(1&x),up:!!(2&x),drag:!!(4&x),move:!!(8&x),wheel:!!(16&x)}}_equalEvents(x,S,w){if(w){if(x.x!==S.x||x.y!==S.y)return!1}else if(x.col!==S.col||x.row!==S.row)return!1;return x.button===S.button&&x.action===S.action&&x.ctrl===S.ctrl&&x.alt===S.alt&&x.shift===S.shift}};f.CoreMouseService=g=u([s(0,n.IBufferService),s(1,n.ICoreService)],g)},6975:function(y,f,a){var u=this&&this.__decorate||function(g,x,S,w){var b,k=arguments.length,A=k<3?x:w===null?w=Object.getOwnPropertyDescriptor(x,S):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,x,S,w);else for(var T=g.length-1;T>=0;T--)(b=g[T])&&(A=(k<3?b(A):k>3?b(x,S,A):b(x,S))||A);return k>3&&A&&Object.defineProperty(x,S,A),A},s=this&&this.__param||function(g,x){return function(S,w){x(S,w,g)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreService=void 0;const n=a(1439),i=a(8460),r=a(844),l=a(2585),h=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=f.CoreService=class extends r.Disposable{constructor(g,x,S){super(),this._bufferService=g,this._logService=x,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new i.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new i.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new i.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new i.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,n.clone)(h),this.decPrivateModes=(0,n.clone)(o)}reset(){this.modes=(0,n.clone)(h),this.decPrivateModes=(0,n.clone)(o)}triggerDataEvent(g,x=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;x&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),x&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((x=>x.charCodeAt(0))))),this._onBinary.fire(g))}};f.CoreService=d=u([s(0,l.IBufferService),s(1,l.ILogService),s(2,l.IOptionsService)],d)},9074:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecorationService=void 0;const u=a(8055),s=a(8460),n=a(844),i=a(6106);let r=0,l=0;class h extends n.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new i.SortedList((g=>g?.marker.line)),this._onDecorationRegistered=this.register(new s.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new s.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,n.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const x=new o(g);if(x){const S=x.marker.onDispose((()=>x.dispose()));x.onDispose((()=>{x&&(this._decorations.delete(x)&&this._onDecorationRemoved.fire(x),S.dispose())})),this._decorations.insert(x),this._onDecorationRegistered.fire(x)}return x}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,x,S){var w,b,k;let A=0,T=0;for(const j of this._decorations.getKeyIterator(x))A=(w=j.options.x)!==null&&w!==void 0?w:0,T=A+((b=j.options.width)!==null&&b!==void 0?b:1),g>=A&&g<T&&(!S||((k=j.options.layer)!==null&&k!==void 0?k:"bottom")===S)&&(yield j)}forEachDecorationAtCell(g,x,S,w){this._decorations.forEachByKey(x,(b=>{var k,A,T;r=(k=b.options.x)!==null&&k!==void 0?k:0,l=r+((A=b.options.width)!==null&&A!==void 0?A:1),g>=r&&g<l&&(!S||((T=b.options.layer)!==null&&T!==void 0?T:"bottom")===S)&&w(b)}))}}f.DecorationService=h;class o extends n.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new s.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new s.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.InstantiationService=f.ServiceCollection=void 0;const u=a(2585),s=a(8343);class n{constructor(...r){this._entries=new Map;for(const[l,h]of r)this.set(l,h)}set(r,l){const h=this._entries.get(r);return this._entries.set(r,l),h}forEach(r){for(const[l,h]of this._entries.entries())r(l,h)}has(r){return this._entries.has(r)}get(r){return this._entries.get(r)}}f.ServiceCollection=n,f.InstantiationService=class{constructor(){this._services=new n,this._services.set(u.IInstantiationService,this)}setService(i,r){this._services.set(i,r)}getService(i){return this._services.get(i)}createInstance(i,...r){const l=(0,s.getServiceDependencies)(i).sort(((d,g)=>d.index-g.index)),h=[];for(const d of l){const g=this._services.get(d.id);if(!g)throw new Error(`[createInstance] ${i.name} depends on UNKNOWN service ${d.id}.`);h.push(g)}const o=l.length>0?l[0].index:r.length;if(r.length!==o)throw new Error(`[createInstance] First service dependency of ${i.name} at position ${o+1} conflicts with ${r.length} static arguments`);return new i(...r,...h)}}},7866:function(y,f,a){var u=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.traceCall=f.setTraceLogger=f.LogService=void 0;const n=a(844),i=a(2585),r={trace:i.LogLevelEnum.TRACE,debug:i.LogLevelEnum.DEBUG,info:i.LogLevelEnum.INFO,warn:i.LogLevelEnum.WARN,error:i.LogLevelEnum.ERROR,off:i.LogLevelEnum.OFF};let l,h=f.LogService=class extends n.Disposable{get logLevel(){return this._logLevel}constructor(o){super(),this._optionsService=o,this._logLevel=i.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),l=this}_updateLogLevel(){this._logLevel=r[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(o){for(let d=0;d<o.length;d++)typeof o[d]=="function"&&(o[d]=o[d]())}_log(o,d,g){this._evalLazyOptionalParams(g),o.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...g)}trace(o,...d){var g,x;this._logLevel<=i.LogLevelEnum.TRACE&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.trace.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,o,d)}debug(o,...d){var g,x;this._logLevel<=i.LogLevelEnum.DEBUG&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.debug.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,o,d)}info(o,...d){var g,x;this._logLevel<=i.LogLevelEnum.INFO&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.info.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.info,o,d)}warn(o,...d){var g,x;this._logLevel<=i.LogLevelEnum.WARN&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.warn.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.warn,o,d)}error(o,...d){var g,x;this._logLevel<=i.LogLevelEnum.ERROR&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.error.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.error,o,d)}};f.LogService=h=u([s(0,i.IOptionsService)],h),f.setTraceLogger=function(o){l=o},f.traceCall=function(o,d,g){if(typeof g.value!="function")throw new Error("not supported");const x=g.value;g.value=function(...S){if(l.logLevel!==i.LogLevelEnum.TRACE)return x.apply(this,S);l.trace(`GlyphRenderer#${x.name}(${S.map((b=>JSON.stringify(b))).join(", ")})`);const w=x.apply(this,S);return l.trace(`GlyphRenderer#${x.name} return`,w),w}}},7302:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionsService=f.DEFAULT_OPTIONS=void 0;const u=a(8460),s=a(844),n=a(6114);f.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:n.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const i=["normal","bold","100","200","300","400","500","600","700","800","900"];class r extends s.Disposable{constructor(h){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=Object.assign({},f.DEFAULT_OPTIONS);for(const d in h)if(d in o)try{const g=h[d];o[d]=this._sanitizeAndValidateOption(d,g)}catch(g){console.error(g)}this.rawOptions=o,this.options=Object.assign({},o),this._setupOptions()}onSpecificOptionChange(h,o){return this.onOptionChange((d=>{d===h&&o(this.rawOptions[h])}))}onMultipleOptionChange(h,o){return this.onOptionChange((d=>{h.indexOf(d)!==-1&&o()}))}_setupOptions(){const h=d=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},o=(d,g)=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);g=this._sanitizeAndValidateOption(d,g),this.rawOptions[d]!==g&&(this.rawOptions[d]=g,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const g={get:h.bind(this,d),set:o.bind(this,d)};Object.defineProperty(this.options,d,g)}}_sanitizeAndValidateOption(h,o){switch(h){case"cursorStyle":if(o||(o=f.DEFAULT_OPTIONS[h]),!(function(d){return d==="block"||d==="underline"||d==="bar"})(o))throw new Error(`"${o}" is not a valid value for ${h}`);break;case"wordSeparator":o||(o=f.DEFAULT_OPTIONS[h]);break;case"fontWeight":case"fontWeightBold":if(typeof o=="number"&&1<=o&&o<=1e3)break;o=i.includes(o)?o:f.DEFAULT_OPTIONS[h];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${h} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${h} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${h} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&o!==0)throw new Error(`${h} must be numeric, value: ${o}`);break;case"windowsPty":o=o??{}}return o}}f.OptionsService=r},2660:function(y,f,a){var u=this&&this.__decorate||function(r,l,h,o){var d,g=arguments.length,x=g<3?l:o===null?o=Object.getOwnPropertyDescriptor(l,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(r,l,h,o);else for(var S=r.length-1;S>=0;S--)(d=r[S])&&(x=(g<3?d(x):g>3?d(l,h,x):d(l,h))||x);return g>3&&x&&Object.defineProperty(l,h,x),x},s=this&&this.__param||function(r,l){return function(h,o){l(h,o,r)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkService=void 0;const n=a(2585);let i=f.OscLinkService=class{constructor(r){this._bufferService=r,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(r){const l=this._bufferService.buffer;if(r.id===void 0){const S=l.addMarker(l.ybase+l.y),w={data:r,id:this._nextId++,lines:[S]};return S.onDispose((()=>this._removeMarkerFromLink(w,S))),this._dataByLinkId.set(w.id,w),w.id}const h=r,o=this._getEntryIdKey(h),d=this._entriesWithId.get(o);if(d)return this.addLineToLink(d.id,l.ybase+l.y),d.id;const g=l.addMarker(l.ybase+l.y),x={id:this._nextId++,key:this._getEntryIdKey(h),data:h,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(x,g))),this._entriesWithId.set(x.key,x),this._dataByLinkId.set(x.id,x),x.id}addLineToLink(r,l){const h=this._dataByLinkId.get(r);if(h&&h.lines.every((o=>o.line!==l))){const o=this._bufferService.buffer.addMarker(l);h.lines.push(o),o.onDispose((()=>this._removeMarkerFromLink(h,o)))}}getLinkData(r){var l;return(l=this._dataByLinkId.get(r))===null||l===void 0?void 0:l.data}_getEntryIdKey(r){return`${r.id};;${r.uri}`}_removeMarkerFromLink(r,l){const h=r.lines.indexOf(l);h!==-1&&(r.lines.splice(h,1),r.lines.length===0&&(r.data.id!==void 0&&this._entriesWithId.delete(r.key),this._dataByLinkId.delete(r.id)))}};f.OscLinkService=i=u([s(0,n.IBufferService)],i)},8343:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDecorator=f.getServiceDependencies=f.serviceRegistry=void 0;const a="di$target",u="di$dependencies";f.serviceRegistry=new Map,f.getServiceDependencies=function(s){return s[u]||[]},f.createDecorator=function(s){if(f.serviceRegistry.has(s))return f.serviceRegistry.get(s);const n=function(i,r,l){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(h,o,d){o[a]===o?o[u].push({id:h,index:d}):(o[u]=[{id:h,index:d}],o[a]=o)})(n,i,l)};return n.toString=()=>s,f.serviceRegistry.set(s,n),n}},2585:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IDecorationService=f.IUnicodeService=f.IOscLinkService=f.IOptionsService=f.ILogService=f.LogLevelEnum=f.IInstantiationService=f.ICharsetService=f.ICoreService=f.ICoreMouseService=f.IBufferService=void 0;const u=a(8343);var s;f.IBufferService=(0,u.createDecorator)("BufferService"),f.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),f.ICoreService=(0,u.createDecorator)("CoreService"),f.ICharsetService=(0,u.createDecorator)("CharsetService"),f.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(function(n){n[n.TRACE=0]="TRACE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.OFF=5]="OFF"})(s||(f.LogLevelEnum=s={})),f.ILogService=(0,u.createDecorator)("LogService"),f.IOptionsService=(0,u.createDecorator)("OptionsService"),f.IOscLinkService=(0,u.createDecorator)("OscLinkService"),f.IUnicodeService=(0,u.createDecorator)("UnicodeService"),f.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeService=void 0;const u=a(8460),s=a(225);f.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const n=new s.UnicodeV6;this.register(n),this._active=n.version,this._activeProvider=n}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(n){if(!this._providers[n])throw new Error(`unknown Unicode version "${n}"`);this._active=n,this._activeProvider=this._providers[n],this._onChange.fire(n)}register(n){this._providers[n.version]=n}wcwidth(n){return this._activeProvider.wcwidth(n)}getStringCellWidth(n){let i=0;const r=n.length;for(let l=0;l<r;++l){let h=n.charCodeAt(l);if(55296<=h&&h<=56319){if(++l>=r)return i+this.wcwidth(h);const o=n.charCodeAt(l);56320<=o&&o<=57343?h=1024*(h-55296)+o-56320+65536:i+=this.wcwidth(o)}i+=this.wcwidth(h)}return i}}}},v={};function R(y){var f=v[y];if(f!==void 0)return f.exports;var a=v[y]={exports:{}};return m[y].call(a.exports,a,a.exports,R),a.exports}var E={};return(()=>{var y=E;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const f=R(9042),a=R(3236),u=R(844),s=R(5741),n=R(8285),i=R(7975),r=R(7090),l=["cols","rows"];class h extends u.Disposable{constructor(d){super(),this._core=this.register(new a.Terminal(d)),this._addonManager=this.register(new s.AddonManager),this._publicOptions=Object.assign({},this._core.options);const g=S=>this._core.options[S],x=(S,w)=>{this._checkReadonlyOptions(S),this._core.options[S]=w};for(const S in this._core.options){const w={get:g.bind(this,S),set:x.bind(this,S)};Object.defineProperty(this._publicOptions,S,w)}}_checkReadonlyOptions(d){if(l.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new i.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new r.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new n.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const g in d)this._publicOptions[g]=d[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,g){this._verifyIntegers(d,g),this._core.resize(d,g)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var g,x,S;return this._checkProposedApi(),this._verifyPositiveIntegers((g=d.x)!==null&&g!==void 0?g:0,(x=d.width)!==null&&x!==void 0?x:0,(S=d.height)!==null&&S!==void 0?S:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,g,x){this._verifyIntegers(d,g,x),this._core.select(d,g,x)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,g){this._verifyIntegers(d,g),this._core.selectLines(d,g)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,g){this._core.write(d,g)}writeln(d,g){this._core.write(d),this._core.write(`\r
`,g)}paste(d){this._core.paste(d)}refresh(d,g){this._verifyIntegers(d,g),this._core.refresh(d,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return f}_verifyIntegers(...d){for(const g of d)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const g of d)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}y.Terminal=h})(),E})()))})(Fh)),Fh.exports}var Sx=wx(),Ph={exports:{}},Gm;function Cx(){return Gm||(Gm=1,(function(c,_){(function(m,v){c.exports=v()})(self,(()=>(()=>{var m={};return(()=>{var v=m;Object.defineProperty(v,"__esModule",{value:!0}),v.FitAddon=void 0,v.FitAddon=class{activate(R){this._terminal=R}dispose(){}fit(){const R=this.proposeDimensions();if(!R||!this._terminal||isNaN(R.cols)||isNaN(R.rows))return;const E=this._terminal._core;this._terminal.rows===R.rows&&this._terminal.cols===R.cols||(E._renderService.clear(),this._terminal.resize(R.cols,R.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const R=this._terminal._core,E=R._renderService.dimensions;if(E.css.cell.width===0||E.css.cell.height===0)return;const y=this._terminal.options.scrollback===0?0:R.viewport.scrollBarWidth,f=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(f.getPropertyValue("height")),u=Math.max(0,parseInt(f.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),n=a-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))),i=u-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(i/E.css.cell.width)),rows:Math.max(1,Math.floor(n/E.css.cell.height))}}}})(),m})()))})(Ph)),Ph.exports}var Ex=Cx(),Wh={exports:{}},Km;function Ax(){return Km||(Km=1,(function(c,_){(function(m,v){c.exports=v()})(self,(()=>(()=>{var m={6:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LinkComputer=f.WebLinkProvider=void 0,f.WebLinkProvider=class{constructor(u,s,n,i={}){this._terminal=u,this._regex=s,this._handler=n,this._options=i}provideLinks(u,s){const n=a.computeLink(u,this._regex,this._terminal,this._handler);s(this._addCallbacks(n))}_addCallbacks(u){return u.map((s=>(s.leave=this._options.leave,s.hover=(n,i)=>{if(this._options.hover){const{range:r}=s;this._options.hover(n,i,r)}},s)))}};class a{static computeLink(s,n,i,r){const l=new RegExp(n.source,(n.flags||"")+"g"),[h,o]=a._getWindowedLineStrings(s-1,i),d=h.join("");let g;const x=[];for(;g=l.exec(d);){const S=g[0];try{const j=new URL(S),F=decodeURI(j.toString());if(S!==F&&S+"/"!==F)continue}catch{continue}const[w,b]=a._mapStrIdx(i,o,0,g.index),[k,A]=a._mapStrIdx(i,w,b,S.length);if(w===-1||b===-1||k===-1||A===-1)continue;const T={start:{x:b+1,y:w+1},end:{x:A,y:k+1}};x.push({range:T,text:S,activate:r})}return x}static _getWindowedLineStrings(s,n){let i,r=s,l=s,h=0,o="";const d=[];if(i=n.buffer.active.getLine(s)){const g=i.translateToString(!0);if(i.isWrapped&&g[0]!==" "){for(h=0;(i=n.buffer.active.getLine(--r))&&h<2048&&(o=i.translateToString(!0),h+=o.length,d.push(o),i.isWrapped&&o.indexOf(" ")===-1););d.reverse()}for(d.push(g),h=0;(i=n.buffer.active.getLine(++l))&&i.isWrapped&&h<2048&&(o=i.translateToString(!0),h+=o.length,d.push(o),o.indexOf(" ")===-1););}return[d,r]}static _mapStrIdx(s,n,i,r){const l=s.buffer.active,h=l.getNullCell();let o=i;for(;r;){const d=l.getLine(n);if(!d)return[-1,-1];for(let g=o;g<d.length;++g){d.getCell(g,h);const x=h.getChars();if(h.getWidth()&&(r-=x.length||1,g===d.length-1&&x==="")){const S=l.getLine(n+1);S&&S.isWrapped&&(S.getCell(0,h),h.getWidth()===2&&(r+=1))}if(r<0)return[n,g]}n++,o=0}return[n,o]}}f.LinkComputer=a}},v={};function R(y){var f=v[y];if(f!==void 0)return f.exports;var a=v[y]={exports:{}};return m[y](a,a.exports,R),a.exports}var E={};return(()=>{var y=E;Object.defineProperty(y,"__esModule",{value:!0}),y.WebLinksAddon=void 0;const f=R(6),a=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function u(s,n){const i=window.open();if(i){try{i.opener=null}catch{}i.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}y.WebLinksAddon=class{constructor(s=u,n={}){this._handler=s,this._options=n}activate(s){this._terminal=s;const n=this._options,i=n.urlRegex||a;this._linkProvider=this._terminal.registerLinkProvider(new f.WebLinkProvider(this._terminal,i,this._handler,n))}dispose(){var s;(s=this._linkProvider)===null||s===void 0||s.dispose()}}})(),E})()))})(Wh)),Wh.exports}var kx=Ax();const gs=ne.forwardRef((c,_)=>{const m=ne.useRef(null),v=ne.useRef(null),R=ne.useRef(null),E=ne.useRef(null),y=ne.useRef(null),f=ne.useRef(null),a=()=>{R.current&&(R.current.removeAllListeners(),R.current.disconnect(),R.current=null)},u=async(i,r="bash",l)=>{a();const{io:h}=await h0(async()=>{const{io:g}=await import("./index-Crsm9Fe1.js");return{io:g}},[]),o=c.socketUrl,d=h(o,{transports:["websocket"],forceNew:!0,reconnection:!1});R.current=d,d.on("connect",()=>{m.current?.clear(),r!="bash"&&m.current?.write(`\x1B[34m${i}\x1B[0m: ${r}\r
`),d.emit("terminal:start",{path:i,command:r,workspaceName:l}),m.current?.focus(),setTimeout(()=>{v.current?.fit()},100)}),d.on("terminal:log",g=>{m.current?.write(g)}),d.on("terminal:error",g=>{m.current?.write(`\x1B[31m${g}\x1B[0m`)}),d.on("terminal:exit",g=>{m.current?.write(`\r
\x1B[33mProcess exited with code ${g}\x1B[0m\r
`),g!==0&&(f.current&&f.current(g),c.onCrash&&c.onCrash(g)),y.current&&y.current(),c.onExit&&c.onExit()})};ne.useImperativeHandle(_,()=>({write:i=>{m.current?.write(i)},input:i=>{if(R.current&&R.current.connected){const r=i.endsWith("\r")?i:i+"\r";R.current.emit("terminal:input",r)}else E.current&&E.current(i+"\r")},onData:i=>{E.current=i},onClose:i=>{y.current=i},onCrash:i=>{f.current=i},fit:()=>{v.current?.fit()},clear:()=>{m.current?.clear()},focus:()=>{m.current?.focus()},connect:(i,r="bash",l)=>{u(i,r,l)},disconnect:()=>{a()}})),ne.useEffect(()=>{c.startingText&&m.current&&m.current.write(c.startingText)},[c.startingText]),ne.useEffect(()=>{const i=r=>{r.data?.type==="PASTE_TEXT"&&r.data?.text&&c.isInteractive!==!1&&R.current&&R.current.connected&&R.current.emit("terminal:input",r.data.text)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i),a()}},[c.isInteractive]),ne.useEffect(()=>{const i=m.current;if(!i)return;const r=c.isInteractive??!0;i.options.disableStdin=!r,i.options.cursorBlink=r,i.options.cursorStyle=r?"block":"underline",r?i.options.theme={...i.options.theme,cursor:"#ffffff"}:i.options.theme={...i.options.theme,cursor:"transparent"}},[c.isInteractive]);const s=i=>{R.current&&R.current.connected&&R.current.emit("terminal:input",i),E.current&&E.current(i)},n=(i,r)=>{R.current&&R.current.connected&&R.current.emit("terminal:resize",{cols:i,rows:r})};return N.jsx("div",{className:`h-full w-full ${c.className||""}`,children:N.jsx(Tx,{ref:v,terminalRef:m,onData:s,onResize:n})})});gs.displayName="InteractiveTerminal";const Tx=ne.forwardRef((c,_)=>{const m=Xe.use.terminalFontSize(),v=ne.useRef(null),R=ne.useRef(null),E=ne.useRef(null),y=ne.useRef(c.onData),f=ne.useRef(c.onResize);return ne.useImperativeHandle(_,()=>({fit:()=>{try{E.current?.fit(),R.current&&f.current&&f.current(R.current.cols,R.current.rows)}catch{}}})),ne.useEffect(()=>{y.current=c.onData},[c.onData]),ne.useEffect(()=>{f.current=c.onResize},[c.onResize]),ne.useEffect(()=>{if(!v.current)return;const a=new Sx.Terminal({cursorBlink:!0,allowTransparency:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:m,theme:{background:"#00000000",foreground:"#f3f4f6",cursor:"#ffffff",selectionBackground:"#374151"},convertEol:!0}),u=new Ex.FitAddon,s=new kx.WebLinksAddon;a.loadAddon(u),a.loadAddon(s);const n=setTimeout(()=>{if(v.current){a.open(v.current);try{u.fit(),f.current&&f.current(a.cols,a.rows)}catch(r){console.warn("Fit failed on init:",r)}}},0);R.current=a,E.current=u,c.terminalRef&&(c.terminalRef.current=a),a.onData(r=>{y.current&&y.current(r)});const i=new ResizeObserver(()=>{try{u.fit(),f.current&&f.current(a.cols,a.rows)}catch{}});return i.observe(v.current),()=>{clearTimeout(n),i.disconnect(),a.dispose()}},[m]),N.jsx("div",{className:"h-full w-full overflow-hidden bg-transparent p-1",ref:v})});function Mx(c){const _=Fe.use.setWorkSpaceRunningAs(),m=ne.useRef(null);return ne.useEffect(()=>()=>{m.current&&m.current.disconnect()},[]),ne.useEffect(()=>{const v=c.workspace.isRunningAs;v==="dev"||v==="start"?m.current&&(m.current.connect(c.workspace.info.path,`npm run ${v}`,c.workspace.info.name),m.current.onCrash(()=>{_(c.workspace.info.name,"crashed")})):v=="crashed"?m.current&&m.current.disconnect():m.current&&(m.current.disconnect(),m.current.clear())},[c.workspace.isRunningAs]),N.jsx("div",{className:`w-full h-full ${c.visible?"block":"hidden"}`,children:N.jsx(gs,{ref:m,isInteractive:!1,socketUrl:Ne.serverPath})})}function Lx(c){const _=Fe.use.setActiveTerminal(),m=Fe.use.stopWorkspaceTerminal(),v=Fe.use.setWorkSpaceRunningAs(),[R,E]=ne.useState(!1),y=Fe.use.activeTerminal(),f=y===c.workspace.info.name;async function a(){if(!(R||!y))try{E(!0),await m(y),v(y,null),E(!1),_("")}catch(u){console.error(u),E(!1)}}return N.jsxs("div",{onClick:()=>_(c.workspace.info.name),className:`
                group relative flex items-center justify-between w-48 w-7 px-3 
                cursor-pointer transition-all duration-300 select-none
                rounded-t-md
                ${f?"bg-gradient-to-br from-blue-600/30 to-blue-400/30 text-white":"bg-[#111] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[N.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[N.jsx("div",{className:`
                    flex-none w-6 h-6 flex items-center justify-center rounded-md
                    transition-colors duration-300
                    ${f?"bg-blue-500/10 text-blue-400":"bg-transparent text-gray-600 group-hover:text-gray-400"}
                `,children:N.jsx("i",{className:`${c.workspace.info.fontawesomeIcon??"fas fa-terminal"} text-xs`})}),N.jsx("span",{className:"truncate text-xs font-semibold tracking-wide",children:c.workspace.info.name})]}),N.jsx("button",{onClick:u=>{u.stopPropagation(),a()},disabled:R,className:`
                    w-6 h-6 flex-none flex items-center justify-center rounded-md 
                    transition-all duration-200
                    ${f?"opacity-0 group-hover:opacity-100":"hidden"}
                    ${R?"text-blue-400 cursor-wait":"text-gray-500 hover:bg-red-500/20 hover:text-red-400"}
                `,title:"Stop Process",children:N.jsx("i",{className:`fas ${R?"fa-circle-notch animate-spin":"fa-times"} text-xs`})})]})}function Rx({whichShow:c}){const _=Fe.use.workspace();return N.jsx(N.Fragment,{children:_.map(m=>{if(m.isRunningAs!=null&&(c==="all"||c===m.info.workspace))return N.jsx(Lx,{workspace:m},m.info.name)})})}function Nx({whichShow:c,isMaximized:_,onToggleMaximize:m}){const v=Fe.use.workspace(),R=Fe.use.activeTerminal();return N.jsxs("div",{className:"flex flex-col w-full h-full relative ",children:[N.jsxs("header",{className:"flex-none w-full pt-1 flex h-9 flex-wrap select-none",children:[N.jsx("button",{onClick:m,className:"w-8 px-2 cursor-pointer select-none rounded-t-md bg-[#0a0a0a]/80 text-gray-500 hover:bg-[#121212] hover:text-gray-300 flex items-center justify-center transition-colors",title:_?"Restore":"Maximize",children:N.jsx("i",{className:`fas ${_?"fa-compress":"fa-expand"}`})}),N.jsx(Rx,{whichShow:c})]}),N.jsx("div",{className:"flex-1 overflow-hidden px-4 py-1 border-t border-gray-900/80 relative",children:v.map(E=>N.jsx(Mx,{workspace:E,visible:c==="all"&&R==E.info.name&&E.isRunningAs!=null||c===E.info.workspace&&R==E.info.name&&E.isRunningAs!=null},E.info.name))})]})}function $x({children:c,className:_}){return N.jsx("div",{className:`bg-gradient-to-b from-[#050505] to-[#191919] ${_}`,children:c})}const yo={blueIndigo:"from-blue-500 to-blue-300",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function os(c){return c.isNotRendered||c.render!=null&&c.render==!1?null:N.jsx(Dx,{...c})}function Dx(c){const _=yo.blueIndigo,m=c.color&&yo[c.color]?yo[c.color]:c.color||_;let v=c.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg";return v=c.bg?"cursor-pointer hover:-translate-y-1 shadow-lg":v,N.jsxs("button",{disabled:c.disabled,onClick:R=>{R.stopPropagation(),!c.disabled&&c.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${v}
                ${c.className||""}
            `,children:[!c.disabled&&!c.bg&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),c.bg&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-50 blur-lg`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-50`})]}),N.jsxs("div",{className:`
                relative h-full w-full rounded bg-blue-400/10 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
            `,children:[c.bg&&N.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m} opacity-20`}),N.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${m} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:N.jsx("i",{className:`fas ${c.icon||"fa-circle"} text-sm`})}),N.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[N.jsx("span",{className:`
                        font-bold text-md truncate transition-colors duration-300
                        ${c.disabled?"text-gray-500":c.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:c.name}),N.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${c.disabled?"text-gray-600":c.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:c.description})]})]})]},c.name)}function Ox(c){const _=Fe.use.loadingWorkspace(),m=Fe.use.setWorkSpaceRunningAs(),v=Fe.use.setActiveTerminal(),R=Fe.use.stopWorkspaceTerminal(),[E,y]=ne.useState(!1);return ne.useEffect(()=>{_==c.info.name?y(!0):y(!1)},[_]),N.jsxs("div",{className:"flex-1 flex gap-2",children:[N.jsx(os,{onClick:()=>{},name:"Loading",description:"...",color:"blueIndigo",icon:"fas fa-spinner animate-spin",disabled:!0,render:E}),N.jsx(os,{onClick:async()=>{await R(c.info.name),m(c.info.name,null)},name:"App is Running",description:"Click to stop",color:"yellowOrange",icon:"fas fa-check-circle",disabled:!1,render:!E&&c.isRunningAs=="start",bg:c.isRunningAs=="start"}),N.jsx(os,{onClick:async()=>{await R(c.info.name),m(c.info.name,null)},name:"Development Server",description:"Click to stop",color:"red",icon:"fas fa-check-circle",disabled:!1,render:!E&&c.isRunningAs=="dev",bg:c.isRunningAs=="dev"}),N.jsx(os,{onClick:()=>{y(!0),m(c.info.name,"start"),v(c.info.name),setTimeout(()=>y(!1),1e3)},name:"Start",description:"npm run start",color:"emeraldTeal",icon:"fas fa-play",disabled:!1,render:!!(!E&&c.isRunningAs!="dev"&&c.isRunningAs!="start"&&c.isRunningAs!="crashed"&&c.info.startCommand)}),N.jsx(os,{onClick:()=>{y(!0),m(c.info.name,"dev"),v(c.info.name),setTimeout(()=>y(!1),1e3)},name:"Dev",description:"npm run dev",color:"blueIndigo",icon:"fas fa-code",disabled:!1,render:!!(!E&&c.isRunningAs!="dev"&&c.isRunningAs!="start"&&c.isRunningAs!="crashed"&&c.info.devCommand)}),N.jsx(os,{onClick:async()=>{R(c.info.name,!0),m(c.info.name,null)},name:"Crashed",description:"Crashed",color:"red",icon:"fas fa-code",disabled:!1,render:!E&&c.isRunningAs=="crashed",bg:!0})]})}function jx(c){const _=Fe.use.setActiveWorkspaceOptionModal(),m=Fe.use.setShowNewTerminalWindow();return N.jsxs($x,{className:"rounded overflow-hidden border border-gray-800",children:[N.jsxs("header",{className:"p-2 flex items-start gap-4 bg-blue-400/10",children:[N.jsx("div",{className:"w-10 h-10 rounded flex items-center justify-center border border-white/10",children:N.jsx("i",{className:`text-xl ${c.info.fontawesomeIcon??"text-gray-400 fa fa-cube"}`})}),N.jsxs("div",{className:"flex flex-col h-12 overflow-hidden flex-1",children:[N.jsx("h3",{className:"text-base font-bold text-gray-200 group-hover:text-white leading-tight mb-1 transition-colors",children:c.info.name}),N.jsx("p",{className:"text-gray-500 group-hover:text-gray-400 text-xs truncate transition-colors",children:c.info.description})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>m(c.info),className:"w-8 h-8 rounded-lg bg-gray-800 hover:bg-blue-600 hover:text-white text-gray-500 flex items-center justify-center transition-colors",children:N.jsx("i",{className:"fas fa-terminal text-xs"})}),N.jsx("button",{onClick:()=>_(c.info),className:"group/btn flex-none w-8 h-8 rounded-lg border border-white/10 hover:border-white/30 text-gray-500 hover:text-white hover:bg-white/5 transition-all flex items-center justify-center p-0",title:"Options",children:N.jsx("i",{className:"fas fa-cog group-hover/btn:rotate-90 transition-transform duration-300 text-xs"})})]})]}),N.jsx("div",{className:"mt-auto p-3 bg-blue-400/5 flex gap-2 relative",children:N.jsx(Ox,{...c})})]})}function rn(c){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:c.label}),N.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:N.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300
                    ${c.disabled?"bg-transparent cursor-not-allowed":""}
                    `,children:N.jsxs("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:`${c.icon} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),N.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:c.placeholder,value:c.value,onChange:_=>{c.onChange(_)},disabled:c.disabled})]})})})]})}const Ix=Zn()(c=>({text:"",setText:_=>{c({text:_})},modal:null,title:"",message:"",banner:null,data:null,placeholder:"",callback:()=>{},showModal:(_,m,v,R,E,y,f,a)=>{c({modal:_,title:m,message:v,banner:R,callback:E,data:y,text:a||"",placeholder:f||""})},hideModal:()=>{c({modal:null,title:"",message:"",banner:null,callback:()=>{},data:null,text:"",placeholder:""})}})),zt=Qn(Ix);function Bx(){const c=Fe.use.workspace(),_=Fe.use.activeWorkspaceOptionModal(),m=Fe.use.setActiveWorkspaceOptionModal(),v=Fe.use.updateWorkspace(),R=Fe.use.loadWorkspace(),E=Fe.use.deleteWorkspace(),y=zt.use.showModal(),[f,a]=ne.useState(null),[u,s]=ne.useState(""),[n,i]=ne.useState("");ne.useEffect(()=>{_&&(a(_),s(_.name))},[_]);function r(){m(null),s(".")}async function l(){if(!f)return;if(f.name.length<1){i("Package name cannot be empty");return}if(!await v(f)){i("Failed to update workspace");return}await R(),r()}async function h(){if(!_)return;if(c.find(d=>d.info.name===_.name)?.isRunningAs){y("alert","Workspace is running","Please stop the workspace before deleting it");return}y("confirm",`Delete ${_.name}`,`Are you sure you want to delete ${_.name}?
It can be reverse with GIT`,"warning",async d=>{d&&(await E(_),await R(),r())})}return _?N.jsxs($n,{children:[N.jsx(Dn,{close:r,title:u,description:f?.path??""}),N.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[n&&N.jsx("p",{className:"text-red-500 mb-2",children:n}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:f?.fontawesomeIcon||"",onChange:o=>{f&&a({...f,fontawesomeIcon:o.target.value.toLowerCase()})}}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:f?.description||"",onChange:o=>{f&&a({...f,description:o.target.value})}})]}),N.jsx("h4",{className:"my-4 w-full font-semibold text-gray-500 uppercase tracking-wider flex items-center",children:N.jsxs("p",{className:"flex-1 text-sm",children:[N.jsx("i",{className:"fas fa-terminal mr-2"}),N.jsx("span",{children:"Scripts & Commands"})]})}),N.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{pkg:"devCommand",label:"Dev Command",icon:"fas fa-code",placeholder:"ex: nodemon index.js"},{pkg:"startCommand",label:"Start Command",icon:"fas fa-code",placeholder:"ex: node index.js"},{pkg:"stopCommand",label:"Stop Command",icon:"fas fa-code",placeholder:"ex: npx -y kill-port 3000"},{pkg:"buildCommand",label:"Build Command",icon:"fas fa-code",placeholder:"ex: tsc"},{pkg:"cleanCommand",label:"Clean Command",icon:"fas fa-code",placeholder:"ex: rm -rf dist"},{pkg:"lintCommand",label:"Lint Command",icon:"fas fa-code",placeholder:"ex: lint ."},{pkg:"testCommand",label:"Test Command",icon:"fas fa-code",placeholder:"ex: jest"}].map(o=>N.jsx(rn,{label:o.label,icon:o.icon,placeholder:o.placeholder,value:f?.[o.pkg]||"",onChange:d=>{f&&a({...f,[o.pkg]:d.target.value})}},o.pkg))})]}),N.jsxs("footer",{className:"p-2 px-6 flex gap-4",children:[N.jsx("div",{className:"flex-1",children:N.jsxs("button",{onClick:h,className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-red-400 rounded-lg"}),N.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),N.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})}),N.jsxs("button",{onClick:r,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Ji,{onClick:l,text:"Save",icon:"fas fa-save"})]})]}):null}function Hx(c){const _=Xe.use.getTemplates(),[m,v]=ne.useState({project:[],database:[],services:[],opensource:[],tool:[],demo:[]}),[R,E]=ne.useState("Project");return ne.useEffect(()=>{if(!c.show)return;(async()=>{const f=await _(),a={project:f.project||[],database:f.database||[],services:f.services||[],opensource:f.opensource||[],tool:f.tool||[],demo:f.demo||[]};v(a)})()},[c.show]),c.show?N.jsxs($n,{width:"1200px",children:[N.jsx(Dn,{close:()=>c.onClose(),title:"Select Template or Open-source App",description:"Choose a template or bundle an open-source app"}),N.jsxs("div",{className:"flex-1 flex flex-row gap-2 overflow-hidden p-2",children:[N.jsxs("div",{className:"w-52",children:[N.jsx(co,{name:"Project",icon:"fas fa-code",activeTab:R,setActiveTab:E}),N.jsxs("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2 flex gap-2",children:[N.jsx("li",{className:"fab fa-docker"}),"Docker Apps"]}),N.jsx(co,{name:"Database",icon:"fas fa-database",activeTab:R,setActiveTab:E}),N.jsx(co,{name:"Services",icon:"fas fa-server",activeTab:R,setActiveTab:E}),N.jsx(co,{name:"Open Source",icon:"fa-brands fa-github",activeTab:R,setActiveTab:E}),N.jsx(co,{name:"Tool",icon:"fas fa-tools",activeTab:R,setActiveTab:E}),N.jsx("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2",children:"Sample Projects"}),N.jsx(co,{name:"Demo",icon:"fas fa-cube",activeTab:R,setActiveTab:E})]}),N.jsxs("div",{className:"flex-1 w-full h-[70vh] grid grid-cols-2 lg:grid-cols-3 gap-2 overflow-y-auto content-start",children:[N.jsx(uo,{show:R==="Project",project:m.project,onClick:(y,f)=>{c.onSelect(y,f)}}),N.jsx(uo,{show:R==="Database",project:m.database,onClick:(y,f)=>{c.onSelect(y,f)}}),N.jsx(uo,{show:R==="Services",project:m.services,onClick:(y,f)=>{c.onSelect(y,f)}}),N.jsx(uo,{show:R==="Open Source",project:m.opensource,onClick:(y,f)=>{c.onSelect(y,f)}}),N.jsx(uo,{show:R==="Tool",project:m.tool,onClick:(y,f)=>{c.onSelect(y,f)}}),N.jsx(uo,{show:R==="Demo",project:m.demo,onClick:(y,f)=>{c.onSelect(y,f)}})]})]})]}):null}function co({name:c,icon:_,activeTab:m,setActiveTab:v}){return N.jsxs("button",{onClick:()=>v(c),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-md font-medium transition-all duration-200 w-full text-left
                    ${m===c?"bg-gradient-to-br from-blue-600 to-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,children:[N.jsx("i",{className:`${_} w-5 text-center ${m===c?"text-blue-400":"text-gray-500 group-hover:text-gray-400"}`}),c]})}function uo({project:c,onClick:_,show:m}){return m?N.jsx(N.Fragment,{children:c.map((v,R)=>N.jsx("button",{onClick:()=>_(v.name,v.type),className:"border border-white/10 min-h-[150px] rounded-lg flex p-4 hover:bg-gradient-to-br hover:from-blue-600/50 hover:to-blue-400/50 text-left w-full",children:N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("i",{className:`${v.icon} text-xl`}),N.jsx("span",{className:"text-md font-bold text-gray-200 group-hover:text-blue-400 text-base truncate",children:v.name})]}),N.jsx("div",{className:"text-sm text-white mt-1 leading-relaxed",children:v.description}),v.notes&&N.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-amber-400/90  w-fit",children:[N.jsx("i",{className:"fas fa-info-circle mt-0.5"}),N.jsx("span",{className:"font-medium opacity-90",children:v.notes})]})]})},R))}):null}function zx({label:c,icon:_,value:m,onChange:v,options:R,placeholder:E="Select an option"}){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:c}),N.jsxs("div",{className:"relative group rounded-lg transition-all duration-300",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg opacity-0 group-focus-within:opacity-100 blur transition-opacity duration-300 -z-10"}),N.jsx("div",{className:"relative p-[1px] rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 group-focus-within:from-blue-600 group-focus-within:to-blue-400 transition-colors duration-300",children:N.jsxs("div",{className:"relative bg-[#0A0A0A] rounded-[7px] flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:`${_} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),N.jsxs("select",{value:m,onChange:v,className:"appearance-none pl-3 pr-10 py-2.5 text-sm w-full bg-transparent text-gray-200 placeholder-gray-600 focus:outline-none cursor-pointer",children:[N.jsx("option",{value:"",disabled:!0,className:"bg-gray-900 text-gray-500",children:E}),R.map((y,f)=>{const a=typeof y=="string"?y:y.label,u=typeof y=="string"?y:y.value||y.path||"";return N.jsx("option",{value:u,className:"bg-[#0A0A0A] text-gray-300",children:a},f)})]}),N.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:N.jsx("i",{className:"fas fa-chevron-down text-gray-500 group-focus-within:text-blue-400 text-xs transition-colors"})})]})})]})]})}const Fx={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Px(c){const[_,m]=ne.useState([]),v=Fe.use.showWorkspaceNew(),R=Fe.use.listWorkspace();return ne.useEffect(()=>{v&&(async()=>{const y=await R();m(y),c.setWorkspaceCopy({...Fx,path:y[0].path||""}),c.setTemplateType("")})()},[v]),N.jsxs($n,{children:[N.jsx(Dn,{close:c.close,title:"New Workspace App",description:"Create a new application inside the workspace"}),N.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[c.error&&N.jsx("p",{className:"text-red-500",children:c.error}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Name (small letters)",icon:"fa fa-cube",placeholder:"Package and Folder Name",value:c.workspaceCopy?.name||"",onChange:E=>{if(!c.workspaceCopy)return;const y=E.target.value.replace(/ /g,"-");c.setWorkspaceCopy({...c.workspaceCopy,name:y.toLowerCase()})}}),N.jsx(zx,{label:"Workspace Directory",icon:"fas fa-folder",placeholder:"Select a workspace directory",value:c.workspaceCopy?.path||"",onChange:E=>{c.workspaceCopy&&c.setWorkspaceCopy({...c.workspaceCopy,path:E.target.value})},options:_})]}),c.template===""&&N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:c.workspaceCopy?.fontawesomeIcon||"",onChange:E=>{c.workspaceCopy&&c.setWorkspaceCopy({...c.workspaceCopy,fontawesomeIcon:E.target.value.toLowerCase()})}}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:c.workspaceCopy?.description||"",onChange:E=>{c.workspaceCopy&&c.setWorkspaceCopy({...c.workspaceCopy,description:E.target.value})}})]}),N.jsxs("div",{className:"flex flex-row w-[50%] gap-2 mb-2 mt-4",children:[N.jsx(rn,{label:"Template (Optional)",icon:"fas fa-cube",placeholder:"Template name",value:c.template,disabled:!0,onChange:()=>{}}),N.jsxs("button",{onClick:()=>c.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]})]}),N.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[N.jsxs("button",{onClick:c.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Ji,{onClick:c.createWorkspace,text:"Create New App",icon:"fas fa-plus"})]})]})}function Wx(c){return N.jsxs($n,{children:[N.jsx(Dn,{close:c.close,title:"Add Open Source App",description:"Bundle it with your monorepo to allow developer to use the same tool as you do"}),N.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex flex-row w-full gap-6 px-5 mb-5",children:[N.jsx(rn,{label:"App Name",icon:"fas fa-cube",placeholder:"",value:c.template,onChange:_=>{c.setTemplate(_.target.value)},disabled:!0}),N.jsxs("button",{onClick:()=>c.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]}),N.jsxs("div",{className:"text-sm text-gray-500 ml-4",children:[N.jsx("p",{children:"* it will be place in opensource folder"}),N.jsx("p",{children:"** Requires Docker installed in your system to run"})]})]}),N.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[N.jsxs("button",{onClick:c.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Ji,{onClick:c.createWorkspace,text:"Add New Tool",icon:"fas fa-plus"})]})]})}const Ux={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Vx(){const[c,_]=ne.useState(Ux),[m,v]=ne.useState(""),R=Fe.use.showWorkspaceNew(),E=Fe.use.workspace(),y=Fe.use.createNewWorkspace(),f=Fe.use.setShowWorkspaceNew(),a=Fe.use.setShowNewTerminalWindow(),u=Fe.use.loadWorkspace(),s=Fe.use.setWorkspaceTemplate(),n=Fe.use.setWorkspaceLoading(),[i,r]=ne.useState(""),[l,h]=ne.useState(!1),[o,d]=ne.useState("");ne.useEffect(()=>{R&&(r(""),d(""),v(""))},[R]);function g(){v(""),f(!1)}async function x(){if(o!=="tool"&&o!=="opensource-app"&&(c.name===""||c.path==="")){v("Package name and path is required");return}if(E.find(b=>b.info.name===c.name)){v("Package name already exist");return}const w={name:c.name,path:c.path+"/"+c.name,devCommand:c.devCommand,fontawesomeIcon:c.fontawesomeIcon||void 0,description:c.description||void 0};try{n(!0),f(!1),o!="tool"&&o!="opensource-app"?await y(w)&&(i?await s(w,i):(n(!1),a(w))):await s(w,i)}catch{if(window.isLoadingCancelled)return;v("Failed to create workspace")}u(),n(!1)}return R?N.jsxs(N.Fragment,{children:[o=="tool"||o=="opensource-app"?N.jsx(Wx,{template:i,setTemplate:r,setShowTemplateSelector:h,close:g,createWorkspace:x}):N.jsx(Px,{createWorkspace:x,templateType:o,setTemplateType:d,workspaceCopy:c,setWorkspaceCopy:_,setShowTemplateSelector:h,template:i,close:g,error:m,setError:v}),N.jsx(Hx,{show:l,onClose:()=>h(!1),onSelect:(S,w)=>{r(S),d(w),h(!1)}})]}):null}function Gx(){const c=Fe.use.showNewTerminalWindow(),_=Fe.use.setShowNewTerminalWindow(),m=ne.useRef(null),v=()=>{m.current&&m.current.disconnect(),_(null)};return ne.useEffect(()=>{if(c&&m.current){const R=setTimeout(()=>{m.current?.connect(c.path,"bash",c.name),m.current?.focus()},50);return()=>clearTimeout(R)}},[c]),c?N.jsxs($n,{width:"800px",children:[N.jsx(Dn,{close:v,title:c.name||"",description:c.description||"",icon:"fas fa-terminal text-blue-500 text-xl"}),N.jsx("div",{className:"flex-1 overflow-hidden p-2",children:N.jsx(gs,{ref:m,isInteractive:!0,className:"h-full",socketUrl:Ne.serverPath})})]}):null}const Ym={default:"from-blue-600/50 to-blue-400/50",neon:"from-blue-600/50 to-purple-600/50",blueIndigo:"from-blue-500 to-indigo-600",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function Uh(c){const _=c.spanTo??"toLeft",m=Ym[c.color]??c.color??Ym.default,v={toLeft:{btnFlex:"flex-row justify-end",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toRight:{btnFlex:"flex-row justify-start",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toTop:{btnFlex:"flex-col justify-end",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"},toBottom:{btnFlex:"flex-col justify-start",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"}},R=v[_]||v.toLeft;return N.jsx("button",{onClick:E=>{E.stopPropagation(),c.onClick()},className:`group fixed z-50 flex items-center ${R.btnFlex}`,style:{top:c.top,right:c.right,bottom:c.bottom,left:c.left},children:N.jsx("div",{className:`relative flex items-center ${R.contentFlex} p-[1px] rounded-xl bg-gradient-to-r ${m} transition-transform duration-300 group-hover:scale-105`,children:N.jsxs("div",{className:`relative flex items-center ${R.contentFlex} bg-[#0A0A0A] rounded-xl px-4 py-3 transition-colors duration-300 group-hover:bg-[#0A0A0A]/80`,children:[N.jsx("i",{className:c.icon+" w-6 h-6 text-xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"}),N.jsx("span",{className:`font-bold overflow-hidden transition-all duration-300 whitespace-nowrap text-white ${R.textAnim}`,children:c.text})]})})})}function Kx(){const c=Xe.use.hideShowFileFolder(),_=Fe.use.workspace(),m=Fe.use.setShowWorkspaceNew(),v=Xe.use.setShowTerminal(),[R,E]=ne.useState(!0);async function y(){try{let f=[];_.filter(n=>n.isRunningAs!=null).length>0&&(f=_.filter(n=>n.isRunningAs==null).map(n=>n.info.path)),(await c(R,f)).isHidden?E(!1):E(!0)}catch(f){console.error("Error toggling files visibility:",f)}}return N.jsxs(N.Fragment,{children:[N.jsx(Uh,{onClick:()=>v(!0),bottom:184,right:32,icon:"fa-solid fa-terminal",text:"Root Terminal"}),N.jsx(Uh,{onClick:()=>y(),bottom:104,right:32,icon:R?"fa-solid fa-eye-slash":"fa-solid fa-eye",text:R?"Hide Files":"Show Files"}),N.jsx(Uh,{onClick:()=>m(!0),bottom:24,right:32,icon:"fa-solid fa-plus",text:"Add Workspace App"})]})}function Yx(){const c=Fe.use.workspaceLoading(),_=Fe.use.loadMessage();return c?N.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-black/50",children:N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("i",{className:"fas fa-spinner animate-spin text-4xl text-blue-500"}),N.jsx("p",{className:"text-white text-lg font-bold",children:_}),N.jsx("button",{className:"mt-2 text-white text-md w-24 font-bold bg-red-500 p-2 rounded hover:bg-red-600",onClick:()=>{window.isLoadingCancelled=!0},children:"Cancel"})]})}):null}function Xx(c){const{whichShow:_,setWhichShow:m}=c,v=Fe.use.workspaceDirs();return N.jsxs("div",{className:"absolute top-2 left-2 z-20 bg-gradient-to-br from-blue-600/10 to-blue-400/10 px-2 rounded-lg",children:[N.jsx("button",{onClick:()=>m("all"),className:`${_==="all"?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,children:"Show All Apps"}),v.map(R=>N.jsx("button",{onClick:()=>m(R),className:`${_===R?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,children:R},R))]})}function qx(c){const[_,m]=ne.useState("all"),v=Fe.use.workspace(),R=Fe.use.loadWorkspace(),[E,y]=ne.useState(null),[f,a]=ne.useState(!1),[u,s]=ne.useState(!1);ne.useEffect(()=>{c.isVisible&&R()},[c.isVisible]),ne.useEffect(()=>{y(_==="all"?v:v.filter(r=>r.info.workspace===_));const i=v.find(r=>r.isRunningAs!=null);a(!!i)},[_,v]);const n=ne.useMemo(()=>{if(!E)return[];const i={};return E.forEach(l=>{const h=l.info.workspace||"other";i[h]||(i[h]=[]),i[h].push(l)}),Object.keys(i).sort((l,h)=>l.localeCompare(h)).map(l=>({dir:l,items:i[l].sort((h,o)=>h.info.name.localeCompare(o.info.name))}))},[E]);return N.jsxs(N.Fragment,{children:[c.isVisible&&N.jsx(Xx,{whichShow:_,setWhichShow:m}),N.jsxs("div",{className:`relative flex flex-col w-full h-full ${c.isVisible?"":"hidden"}`,children:[N.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[N.jsx("div",{className:`flex-1 min-h-0 flex overflow-hidden p-2 transition-all duration-500 ${u?"opacity-0 h-0 pointer-events-none":"opacity-100"}`,children:N.jsx("div",{className:"px-3 flex-1 xl:grid-cols-4 pt-9 h-full overflow-y-auto grid grid-cols-1 md:grid-cols-2 content-start gap-4 relative transition-all duration-300",children:n.map(i=>N.jsxs("div",{className:"contents",children:[_==="all"&&N.jsx("div",{className:"col-span-full",children:N.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-white/80",children:i.dir})}),i.items.map(r=>N.jsx("div",{children:N.jsx(jx,{...r})},r.info.name))]},i.dir))})}),N.jsx("div",{className:`transition-all duration-500 ease-in-out
                            ${f?`${u?"h-[calc(100vh-100px)]":"h-[40%]"} opacity-100 translate-y-0`:"h-0 opacity-0 translate-y-4 overflow-hidden pointer-events-none"}`,children:N.jsx(Nx,{whichShow:_,isMaximized:u,onToggleMaximize:()=>s(!u)})})]}),N.jsx(Kx,{}),N.jsx(Bx,{}),N.jsx(Vx,{}),N.jsx(Gx,{}),N.jsx(Yx,{})]})]})}function Zx(){const c=zt.use.text(),_=zt.use.setText(),m=zt.use.modal(),v=zt.use.title(),R=zt.use.message(),E=zt.use.callback(),y=zt.use.hideModal(),f=zt.use.banner(),a=zt.use.data(),u=zt.use.placeholder();let s="fa fa-info-circle",n="bg-blue-500/20",i="text-blue-400",r="bg-blue-600 hover:bg-blue-500";return f==="warning"?(s="fa fa-exclamation-triangle",n="bg-yellow-500/20",i="text-yellow-400",r="bg-yellow-600 hover:bg-yellow-500"):f==="error"?(s="fa fa-times-circle",n="bg-red-500/20",i="text-red-400",r="bg-red-600 hover:bg-red-500"):f==="success"&&(s="fa fa-check-circle",n="bg-green-500/20",i="text-green-400",r="bg-green-600 hover:bg-green-500"),m?N.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:N.jsx("div",{className:"relative w-full max-w-[500px] animate-in fade-in zoom-in-95 duration-200",children:N.jsxs("div",{className:"relative bg-gray-900/95 backdrop-blur-xl rounded overflow-hidden",children:[N.jsx("div",{className:"px-5 pt-5 pb-4",children:N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:`w-10 h-10 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:N.jsx("i",{className:`${s} ${i} text-lg`})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:v}),N.jsx("p",{className:"text-md text-gray-400 leading-relaxed",children:R})]})]})}),N.jsxs("div",{className:"px-5 py-4",children:[m==="alert"&&N.jsx("button",{onClick:()=>{E&&E(void 0),y()},autoFocus:!0,className:`w-full py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"OK"}),m==="selection"&&N.jsxs("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto",children:[a?.map((l,h)=>N.jsxs("button",{onClick:()=>{E&&E(l),y()},className:"flex items-center gap-3 w-full p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left group ",children:[N.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-800 flex items-center justify-center text-gray-400 group-hover:text-white transition-colors",children:N.jsx("i",{className:`fas ${l.info.fontawesomeIcon||"fa-box"}`})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"text-white font-medium text-sm truncate",children:l.info.name}),N.jsx("div",{className:"text-gray-500 text-xs truncate",children:l.info.path})]}),N.jsx("i",{className:"fas fa-chevron-right text-gray-600 group-hover:text-gray-400 text-sm"})]},h)),N.jsx("button",{onClick:()=>y(),className:"mt-2 w-full py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"})]}),m==="confirm"&&N.jsxs("div",{className:"flex gap-3 justify-end",children:[N.jsx("button",{onClick:()=>{E&&E(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>{E&&E(!0),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"Confirm"})]}),m==="prompt"&&N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsx("input",{value:c,placeholder:u,onChange:l=>_(l.target.value),onKeyDown:l=>{l.key==="Enter"&&(E&&E(c),y())},autoFocus:!0,type:"text",className:"w-full px-4 py-3 rounded-lg text-white text-sm bg-white/5 focus:outline-none focus:ring-2 focus:ring-white/5 placeholder-gray-500 transition-all"}),N.jsxs("div",{className:"flex gap-3 justify-end",children:[N.jsx("button",{onClick:()=>{E&&E(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>{E&&E(c),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"Submit"})]})]})]})]})})}):null}function Qx(){const c=Xe.use.showTerminal(),_=Xe.use.rootDir(),m=Xe.use.setShowTerminal(),v=ne.useRef(null),R=()=>{v.current&&v.current.disconnect(),m(!1)};return ne.useEffect(()=>{if(c&&_&&v.current){const E=setTimeout(()=>{v.current?.connect(_),v.current?.focus()},50);return()=>clearTimeout(E)}},[c,_]),c?N.jsxs($n,{width:"800px",children:[N.jsx(Dn,{close:R,title:"Project Terminal",description:"Note: Do not lunch TUI based applications like Opencode in this terminal",icon:"fas fa-terminal text-blue-500 text-xl"}),N.jsx("div",{className:"flex-1 overflow-hidden p-2",children:N.jsx(gs,{ref:v,isInteractive:!0,className:"h-full",socketUrl:Ne.serverPath})})]}):null}function Jx({onComplete:c}){const _=Xe.use.scaffoldRepo(),[m,v]=ne.useState("intro"),[R,E]=ne.useState(""),y=async()=>{v("scaffolding"),E("Scaffolding directories and files...");try{const f=await _();f.success?(E("Scaffolding complete! Installing dependencies..."),setTimeout(()=>{v("success")},1e3)):(E(`Error: ${f.error}`),setTimeout(()=>c&&c(),3e3))}catch(f){console.error(f),E("Failed to connect to backend."),setTimeout(()=>c&&c(),3e3)}};return N.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:N.jsx("div",{className:"bg-[#111111] border border-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl flex flex-col relative animate-fade-in-up my-auto",children:N.jsxs("div",{className:"p-6 md:p-12 flex-1",children:[m==="intro"&&N.jsxs("div",{className:"space-y-8 text-center",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-600 to-blue-400 border border-blue-500/20 mb-4",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12"})}),N.jsxs("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight text-white leading-tight",children:["Welcome to ",N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-400 block sm:inline",children:"Monorepo TIME"})]}),N.jsx("p",{className:"text-base md:text-lg text-gray-400 max-w-lg mx-auto leading-relaxed",children:"Your modern dashboard for managing monorepos with speed, elegance, and precision."})]}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-left",children:[{icon:"fa-project-diagram",title:"Unified View",desc:"Manage apps & packages in one place."},{icon:"fa-terminal",title:"Web Terminal",desc:"Run commands without leaving the UI."},{icon:"fa-bolt",title:"Turborepo",desc:"Accelerate workflows with Turbo."}].map((f,a)=>N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center mb-3",children:N.jsx("i",{className:`fas ${f.icon} text-blue-400`})}),N.jsx("h3",{className:"font-semibold text-gray-200",children:f.title}),N.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.desc})]},a))}),N.jsx("div",{className:"pt-4",children:N.jsxs("button",{onClick:()=>v("prompt"),className:"w-full sm:w-auto px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:["Get Started ",N.jsx("i",{className:"fas fa-arrow-right ml-2 text-sm"})]})})]}),m==="prompt"&&N.jsxs("div",{className:"space-y-6 md:space-y-8",children:[N.jsxs("div",{className:"text-center space-y-4",children:[N.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full bg-blue-500/10 text-blue-400 mb-2",children:N.jsx("i",{className:"fas fa-tools text-xl md:text-2xl"})}),N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Recommended Setup"}),N.jsx("p",{className:"text-sm md:text-base text-gray-400 max-w-md mx-auto",children:"We noticed this might be a new project. Let's get you set up with a best-practice folder structure."})]}),N.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex flex-col sm:flex-row items-start gap-4",children:[N.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg shrink-0",children:N.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-500 text-lg"})}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-yellow-500 font-semibold text-sm uppercase tracking-wider mb-1",children:"Requirement"}),N.jsxs("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:["This tool requires ",N.jsx("strong",{className:"text-white",children:"Turborepo"})," to function correctly. We will generate a ",N.jsx("code",{className:"bg-black/30 px-1.5 py-0.5 rounded text-white font-mono text-xs",children:"turbo.json"})," configuration and organize your workspace for you."]})]})]}),N.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 font-mono text-sm text-gray-400 overflow-x-auto",children:[N.jsx("p",{className:"mb-2 text-xs text-gray-500 uppercase tracking-widest font-semibold",children:"Planned Structure"}),N.jsxs("div",{className:"space-y-2 pl-2 border-l border-gray-800 min-w-[280px]",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-folder text-blue-500"})," /root"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[N.jsx("i",{className:"fas fa-folder text-yellow-500"})," apps/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[N.jsx("i",{className:"fas fa-folder text-green-500"})," packages/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-8 text-gray-500",children:[N.jsx("i",{className:"fas fa-folder text-green-500/50"})," types/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4 truncate",children:[N.jsx("i",{className:"fas fa-file-code text-purple-400 shrink-0"}),"turbo.json",N.jsx("span",{className:"text-[10px] text-blue-400 border border-blue-400/30 px-1 rounded ml-auto",children:"NEW"})]})]})]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-2",children:[N.jsx("button",{onClick:y,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:"Scaffold & Install"}),N.jsx("button",{onClick:c,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 font-medium transition-colors border border-white/5",children:"Skip setup"})]})]}),m==="scaffolding"&&N.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6 text-center",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-gray-700 rounded-full"}),N.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Setting things up"}),N.jsx("p",{className:"text-gray-400 animate-pulse",children:R})]})]}),m==="success"&&N.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6 text-center",children:[N.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center border border-green-500/20",children:N.jsx("i",{className:"fas fa-check text-4xl text-green-500"})}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("h3",{className:"text-2xl font-bold text-white",children:"Ready to go!"}),N.jsx("p",{className:"text-gray-400 max-w-sm mx-auto",children:"Your workspace has been successfully initialized. You can now start building."})]}),N.jsx("button",{onClick:c,className:"px-8 py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-medium transition-colors shadow-lg shadow-green-600/20 w-full sm:w-auto",children:"Enter Dashboard"})]})]})})})}function ew(){return N.jsxs("div",{className:"w-screen h-screen overflow-hidden",children:[N.jsx(u0,{}),N.jsx("div",{className:"flex flex-1 overflow-hidden ",children:N.jsx("main",{className:"flex-1 relative overflow-hidden bg-gray-900",children:N.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl"}),N.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]})})})]})}function dc(c){return c.isNotRendered||c.render!=null&&c.render==!1?null:N.jsx(tw,{...c})}function tw(c){const _=yo.blueIndigo,m=c.color&&yo[c.color]?yo[c.color]:c.color||_;return N.jsxs("button",{disabled:c.disabled,onClick:v=>{v.stopPropagation(),!c.disabled&&c.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${c.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg"}
            `,children:[!c.disabled&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),N.jsxs("div",{className:`
                relative h-full w-full rounded bg-gradient-to-br from-blue-600/15 to-blue-400/15 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
                ${!c.disabled&&!c.bg?"group-hover:bg-[#212121]/70":""}
            `,children:[c.bg&&N.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m} opacity-20`}),N.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${m} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:N.jsx("i",{className:`fas ${c.icon||"fa-circle"} text-sm`})}),N.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[N.jsx("span",{className:`
                        font-bold text-sm truncate transition-colors duration-300
                        ${c.disabled?"text-gray-500":c.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:c.name}),N.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${c.disabled?"text-gray-600":c.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:c.description})]})]})]},c.name)}function nw({onClose:c}){return N.jsxs($n,{width:"900px",children:[N.jsx(Dn,{title:"CI/CD Tutorial with Vercel",description:"Mastering Continuous Integration & Deployment",icon:"fas fa-infinity",close:c}),N.jsxs("div",{className:"flex flex-col h-[70vh] overflow-hidden text-sm",children:[N.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-12 text-gray-300 custom-scrollbar",children:[N.jsxs("section",{id:"intro",className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[N.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:N.jsx("i",{className:"fas fa-infinity text-2xl text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"What is CI/CD?"}),N.jsx("p",{className:"text-blue-400 text-sm",children:"Continuous Integration & Continuous Delivery"})]})]}),N.jsx("div",{className:"bg-white/5 p-6 rounded-xl border border-white/10",children:N.jsxs("p",{className:"leading-relaxed",children:[N.jsx("strong",{className:"text-white",children:"CI (Continuous Integration)"})," is the practice of automating the integration of code changes from multiple contributors into a single software project.",N.jsx("br",{}),N.jsx("br",{}),N.jsx("strong",{className:"text-white",children:"CD (Continuous Delivery/Deployment)"})," ensures that your code is always in a deployable state and automatically releases it to production when ready."]})})]}),N.jsxs("section",{id:"why",className:"space-y-6",children:[N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-lightbulb text-yellow-500"}),"Why use CI/CD?"]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"Speed",desc:"Ship code faster with automated testing and building.",icon:"fa-rocket",color:"text-green-400"},{title:"Reliability",desc:"Catch bugs early before they reach production.",icon:"fa-shield-alt",color:"text-blue-400"},{title:"Efficiency",desc:"Stop wasting time on manual deployments.",icon:"fa-clock",color:"text-orange-400"},{title:"Consistency",desc:"Ensure every environment matches production.",icon:"fa-sync",color:"text-purple-400"}].map(_=>N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-white/20 transition-colors",children:[N.jsx("i",{className:`fas ${_.icon} ${_.color} text-xl mb-3`}),N.jsx("h3",{className:"text-white font-bold mb-1",children:_.title}),N.jsx("p",{className:"text-sm text-gray-400",children:_.desc})]},_.title))})]}),N.jsxs("section",{id:"turbo-vercel",className:"space-y-6",children:[N.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-layer-group text-pink-500"}),"Turborepo + Vercel"]})}),N.jsxs("div",{className:"flex items-center gap-8 justify-center py-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-[#1e1e1e] flex items-center justify-center border border-white/20 mb-3",children:N.jsx("i",{className:"fas fa-cube text-3xl text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500"})}),N.jsx("span",{className:"font-bold text-white",children:"Turborepo"})]}),N.jsxs("div",{className:"flex flex-col items-center gap-1",children:[N.jsx("span",{className:"text-xs text-green-400 font-bold",children:"CACHE HIT!"}),N.jsx("div",{className:"h-[2px] w-24 bg-gradient-to-r from-red-500 to-white"}),N.jsx("i",{className:"fas fa-arrow-right text-white"})]}),N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-black flex items-center justify-center border border-white/20 mb-3",children:N.jsx("i",{className:"fas fa-triangle text-3xl text-white"})}),N.jsx("span",{className:"font-bold text-white",children:"Vercel"})]})]}),N.jsxs("p",{className:"bg-blue-500/10 border-l-4 border-blue-500 p-4 rounded text-sm",children:["Combining ",N.jsx("strong",{children:"Turborepo's"})," intelligent caching with ",N.jsx("strong",{children:"Vercel's"})," global edge network gives you the fastest build times and deployments possible. Vercel automatically understands your Turborepo structure."]})]}),N.jsxs("section",{id:"guide",className:"space-y-8",children:[N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-tasks text-green-500"}),"Step-by-Step Setup"]}),N.jsx("div",{className:"space-y-6",children:[{step:1,title:"Login with Vercel",desc:"Ensure you have a Vercel account and are logged in via the CLI or Dashboard to authorize deployments.",icon:"fa-sign-in-alt"},{step:2,title:"Connect to GitHub",desc:"Link your Monorepo to a GitHub repository. Vercel uses this to trigger automatic deployments on push.",icon:"fa-code-branch"},{step:3,title:"Add Projects in Vercel",desc:"In the Vercel Dashboard, import your repository. Vercel detects Turborepo and asks which workspace (app) you want to deploy. Add each app (e.g., 'web', 'docs') as a separate Vercel project linked to the same repo.",icon:"fa-plus-circle"},{step:4,title:"Deployment",desc:"Push to 'main' to deploy. Vercel will build only what has changed.",icon:"fa-cloud-upload-alt"}].map(_=>N.jsxs("div",{className:"flex gap-4",children:[N.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white border border-white/20",children:_.step}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[_.title,N.jsx("i",{className:`fas ${_.icon} text-gray-500 text-sm`})]}),N.jsx("p",{className:"text-sm text-gray-400",children:_.desc})]})]},_.step))}),N.jsxs("div",{className:"mt-8 p-5 bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-500/30",children:[N.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-magic text-purple-400"}),'Pro Tip: The "Turbo Build" Button']}),N.jsxs("p",{className:"text-sm text-gray-300",children:["When you use the ",N.jsx("span",{className:"px-2 py-0.5 rounded bg-white/10 text-white font-mono text-xs",children:"turbo build"})," command or button in this dashboard, it can be configured to upload your ",N.jsx("strong",{children:"pre-compiled dist/build artifacts"})," directly to Vercel's cache."]}),N.jsxs("div",{className:"mt-3 flex items-start gap-3 text-xs text-purple-200 bg-purple-500/10 p-3 rounded-lg",children:[N.jsx("i",{className:"fas fa-info-circle mt-0.5"}),N.jsxs("span",{children:["This means Vercel ",N.jsx("strong",{children:"doesn't have to rebuild"})," everything from scratch. It pulls the artifacts you just built locally (or in CI), saving massive amounts of build minutes and time!"]})]})]})]})]}),N.jsxs("div",{className:"p-4 border-t border-white/10 bg-black/40 flex justify-between items-center text-xs text-gray-500",children:[N.jsx("span",{children:"Learn more at:"}),N.jsxs("div",{className:"flex gap-4",children:[N.jsxs("a",{href:"https://vercel.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fas fa-triangle text-white"})," Vercel Docs"]}),N.jsxs("a",{href:"https://turbo.build/repo/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fas fa-cube text-red-500"})," Turborepo Docs"]})]})]})]})]})}function fc(c){return N.jsxs("div",{className:"overflow-hidden",children:[N.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[N.jsx("span",{className:"text-white font-medium text-sm",children:c.title}),N.jsx("span",{className:"ml-auto text-gray-600 text-xs",children:c.description})]}),c.children?N.jsx("div",{className:c.contentClassName??"p-2 grid grid-cols-2 gap-2",children:c.children}):null]})}function Rd(c){return N.jsxs("header",{className:"px-4 py-3 border-b border-white/[0.08] flex justify-between items-center bg-black/30 flex-none backdrop-blur-md",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 blur-md opacity-50"}),N.jsx("div",{className:"relative w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 flex items-center justify-center shadow-lg shadow-blue-500/30",children:N.jsx("i",{className:c.icon})})]}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("div",{className:"flex items-center gap-2",children:N.jsx("span",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400",children:c.title})}),N.jsx("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:c.children})]})]}),N.jsxs("button",{onClick:c.handleStop,disabled:!c.isRunning,className:`px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-all duration-200
                            ${c.isRunning?"bg-red-500/20 border border-red-500/30 text-red-400 hover:bg-red-500/30 hover:border-red-500/50 cursor-pointer":"bg-white/5 border border-white/10 text-gray-500 cursor-not-allowed"}`,children:[N.jsx("i",{className:"fas fa-stop text-sm"}),"Stop"]})]})}const iw=[{title:"Build & Deploy",commands:[{label:"Install",cmd:"npm install",icon:"fa-download",color:"blueIndigo"},{label:"Build",cmd:"npx turbo build",icon:"fa-hammer",color:"emeraldTeal"},{label:"Deploy",cmd:"npx turbo run build --force",icon:"fa-sync-alt",color:"yellowOrange"}]},{title:"Code Quality",commands:[{label:"Lint",cmd:"npx turbo lint",icon:"fa-check-double",color:"cyanBlue"},{label:"Test",cmd:"npx turbo test",icon:"fa-vial",color:"emeraldTeal"}]},{title:"Optimization",commands:[{label:"Prune",cmd:"npx turbo prune",icon:"fa-scissors",color:"orangePurple"},{label:"Summary",cmd:"npx turbo run build --dry-run",icon:"fa-list-alt",color:"blueIndigo"},{label:"Generate",cmd:"npx turbo gen",icon:"fa-plus-circle",color:"pinkRose"}]},{title:"Diagnostics",commands:[{label:"Graph",cmd:"npx turbo run build --graph",icon:"fa-project-diagram",color:"cyanBlue"},{label:"Info",cmd:"npx turbo info",icon:"fa-info-circle",color:"blueIndigo"},{label:"Daemon",cmd:"npx turbo daemon status",icon:"fa-server",color:"gray"}]},{title:"Remote Cache",commands:[{label:"Link",cmd:"npx turbo link",icon:"fa-cloud",color:"cyanBlue"},{label:"Login",cmd:"npx turbo login",icon:"fa-sign-in-alt",color:"emeraldTeal"},{label:"Unlink",cmd:"npx turbo unlink",icon:"fa-unlink",color:"red"}]},{title:"Maintenance",commands:[{label:"Clean",cmd:"npx turbo clean",icon:"fa-broom",color:"orangePurple"},{label:"Cache",cmd:"rm -rf node_modules/.cache/turbo .turbo",icon:"fa-trash-alt",color:"darkRed"}]}];function rw(c){const _=ne.useRef(null),m=Xe.use.rootDir(),[v,R]=ne.useState(!1),[E,y]=ne.useState(!1);ne.useEffect(()=>()=>{_.current&&_.current.disconnect()},[]);const f=zt.use.showModal(),a=Fe.use.workspace();function u(i){_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>{R(!1)}),_.current.onCrash(()=>{R(!1)}),R(!0),_.current.connect(m,i),_.current.fit())}function s(i){if(i==="npx turbo prune"||i==="npx turbo prune --docker"){f("selection","Select Workspace","Choose a workspace to prune / dockerize",null,r=>{if(r){const l=i.includes("--docker"),h=`npx turbo prune ${r.info.name}${l?" --docker":""}`;u(h)}},a);return}u(i)}function n(){_.current&&(_.current.disconnect(),R(!1))}return N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${c.isVisible?"flex":"hidden"}`,children:[N.jsxs("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:[N.jsx("button",{onClick:()=>y(!0),className:`mb-4 p-2 w-full rounded-lg border border-blue-500/20 
                               hover:border-blue-500/40 hover:from-blue-500/20 hover:to-purple-500/20
                               transition-all duration-300 group`,children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex flex-col text-left",children:[N.jsx("span",{className:"text-white font-semibold text-sm",children:"CI/CD Tutorial"}),N.jsx("span",{className:"text-gray-400 text-xs",children:"Learn deployment with Vercel"})]}),N.jsx("i",{className:"fas fa-chevron-right text-gray-500 ml-auto group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})}),N.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:iw.map(i=>N.jsx(fc,{title:i.title,description:"",children:i.commands.map(r=>N.jsx(dc,{onClick:()=>s(r.cmd),name:r.label,description:r.cmd,color:r.color,icon:r.icon,disabled:v},r.label))},i.title))})]}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsxs(Rd,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:n,isRunning:v,children:["Execute",N.jsx("a",{href:"https://turborepo.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Turborepo"}),"commands"]}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(gs,{ref:_,isInteractive:!0,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{R(!1)},onCrash:()=>{R(!1)}})})]}),E&&N.jsx(nw,{onClose:()=>y(!1)})]})}const sw=Zn()((c,_)=>({noData:!0,crudData:[],currentCategoryIndex:-1,currentCrudIndex:-1,useDevURL:!0,devURL:"",prodURL:"",params:"",method:"GET",requestStartTime:0,isFetching:!1,executionTime:0,header:`{
  "Content-Type": "application/json",
  "Accept": "application/json",
  "Authorization": "Bearer token",
  "x-refresh-token": "refresh-token",
  "X-CSRF-Token": "csrf-token-placeholder",
 "Cache-Control": "no-cache"
}
`,body:`{
  "key": "value"
}
`,output:`{
  "key": "value"
}
`,expectedOutput:`Contains what to expect from the response
example:
{
    "key": "value"
}
`,setHeader:m=>c({header:m}),setBody:m=>c({body:m}),setOutput:m=>c({output:m}),setExpectedOutput:m=>c({expectedOutput:m}),setUseDevURL:m=>c({useDevURL:m}),setParams:m=>c({params:m}),setMethod:m=>c({method:m}),setCurrentCategoryIndex:m=>c({currentCategoryIndex:m}),setCurrentCrudIndex:m=>c({currentCrudIndex:m}),setCrudData:async m=>{try{await fetch(`${Ne.serverPath}${Oe.crudTest}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({crudtest:m})})}catch(v){console.log(v)}c({crudData:m})},loadCrudData:async()=>{try{const m=await fetch(`${Ne.serverPath}${Oe.crudTest}`);if(!m.ok){c({noData:!0});return}const v=await m.json();c({crudData:v.crudtest,noData:!1})}catch{c({noData:!0})}},sendRequest:async()=>{const{useDevURL:m,params:v,method:R,crudData:E,currentCategoryIndex:y,currentCrudIndex:f}=_(),a=v?v.startsWith("?")?v:`?${v}`:"",u=encodeURI(a),n=`${m?E[y].devurl:E[y].produrl}${E[y].items[f].route}${u}`,i=Date.now();if(c({isFetching:!0,requestStartTime:i,executionTime:0}),R==="STREAM"){try{c({output:""});const r=await fetch(n,{method:"GET",headers:JSON.parse(_().header)});if(!r.body){c({isFetching:!1,executionTime:Date.now()-i});return}const l=r.body.getReader(),h=new TextDecoder("utf-8");for(;;){const{done:o,value:d}=await l.read();if(o)break;const g=h.decode(d,{stream:!0});c(x=>({output:x.output+g}))}c({isFetching:!1,executionTime:Date.now()-i})}catch(r){let l="";try{l=r.toString()}catch(h){l="Error: "+h}c({output:l,isFetching:!1,executionTime:Date.now()-i})}return}try{const r={method:R,headers:JSON.parse(_().header)};R!=="GET"&&(r.body=_().body);const h=await(await fetch(n,r)).text();c({output:h,isFetching:!1,executionTime:Date.now()-i})}catch(r){let l="";try{l=r.toString()}catch(h){l="Error: "+h}c({output:l,isFetching:!1,executionTime:Date.now()-i})}}})),De=Qn(sw);var Mr={},Lr={},Vh={exports:{}},Xm;function Ra(){return Xm||(Xm=1,(function(c,_){(function(){var m="ace",v=(function(){return this})();!v&&typeof window<"u"&&(v=window);var R=function(s,n,i){if(typeof s!="string"){R.original?R.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=n),R.modules[s]||(R.payloads[s]=i,R.modules[s]=null)};R.modules={},R.payloads={};var E=function(s,n,i){if(typeof n=="string"){var r=a(s,n);if(r!=null)return i&&i(),r}else if(Object.prototype.toString.call(n)==="[object Array]"){for(var l=[],h=0,o=n.length;h<o;++h){var d=a(s,n[h]);if(d==null&&y.original)return;l.push(d)}return i&&i.apply(null,l)||!0}},y=function(s,n){var i=E("",s,n);return i==null&&y.original?y.original.apply(this,arguments):i},f=function(s,n){if(n.indexOf("!")!==-1){var i=n.split("!");return f(s,i[0])+"!"+f(s,i[1])}if(n.charAt(0)=="."){var r=s.split("/").slice(0,-1).join("/");for(n=r+"/"+n;n.indexOf(".")!==-1&&l!=n;){var l=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},a=function(s,n){n=f(s,n);var i=R.modules[n];if(!i){if(i=R.payloads[n],typeof i=="function"){var r={},l={id:n,uri:"",exports:r,packaged:!0},h=function(d,g){return E(n,d,g)},o=i(h,r,l);r=o||l.exports,R.modules[n]=r,delete R.payloads[n]}i=R.modules[n]=r||i}return i};function u(s){var n=v;v[s]||(v[s]={}),n=v[s],(!n.define||!n.define.packaged)&&(R.original=n.define,n.define=R,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(y.original=n.require,n.require=y,n.require.packaged=!0)}u(m)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(m,v,R){function E(y,f,a){Object.defineProperty(y,f,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||E(String.prototype,"startsWith",function(y,f){return f=f||0,this.lastIndexOf(y,f)===f}),String.prototype.endsWith||E(String.prototype,"endsWith",function(y,f){var a=this;(f===void 0||f>a.length)&&(f=a.length),f-=y.length;var u=a.indexOf(y,f);return u!==-1&&u===f}),String.prototype.repeat||E(String.prototype,"repeat",function(y){for(var f="",a=this;y>0;)y&1&&(f+=a),(y>>=1)&&(a+=a);return f}),String.prototype.includes||E(String.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Object.assign||(Object.assign=function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(y),a=1;a<arguments.length;a++){var u=arguments[a];u!=null&&Object.keys(u).forEach(function(s){f[s]=u[s]})}return f}),Object.values||(Object.values=function(y){return Object.keys(y).map(function(f){return y[f]})}),Array.prototype.find||E(Array.prototype,"find",function(y){for(var f=this.length,a=arguments[1],u=0;u<f;u++){var s=this[u];if(y.call(a,s,u,this))return s}}),Array.prototype.findIndex||E(Array.prototype,"findIndex",function(y){for(var f=this.length,a=arguments[1],u=0;u<f;u++){var s=this[u];if(y.call(a,s,u,this))return u}}),Array.prototype.includes||E(Array.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Array.prototype.fill||E(Array.prototype,"fill",function(y){for(var f=this,a=f.length>>>0,u=arguments[1],s=u>>0,n=s<0?Math.max(a+s,0):Math.min(s,a),i=arguments[2],r=i===void 0?a:i>>0,l=r<0?Math.max(a+r,0):Math.min(r,a);n<l;)f[n]=y,n++;return f}),Array.of||E(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(m,v,R){m("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(m,v,R){v.deepCopy=function E(y){if(typeof y!="object"||!y)return y;var f;if(Array.isArray(y)){f=[];for(var a=0;a<y.length;a++)f[a]=E(y[a]);return f}if(Object.prototype.toString.call(y)!=="[object Object]")return y;f={};for(var a in y)f[a]=E(y[a]);return f}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(m,v,R){v.last=function(f){return f[f.length-1]},v.stringReverse=function(f){return f.split("").reverse().join("")},v.stringRepeat=function(f,a){for(var u="";a>0;)a&1&&(u+=f),(a>>=1)&&(f+=f);return u};var E=/^\s\s*/,y=/\s\s*$/;v.stringTrimLeft=function(f){return f.replace(E,"")},v.stringTrimRight=function(f){return f.replace(y,"")},v.copyObject=function(f){var a={};for(var u in f)a[u]=f[u];return a},v.copyArray=function(f){for(var a=[],u=0,s=f.length;u<s;u++)f[u]&&typeof f[u]=="object"?a[u]=this.copyObject(f[u]):a[u]=f[u];return a},v.deepCopy=m("./deep_copy").deepCopy,v.arrayToMap=function(f){for(var a={},u=0;u<f.length;u++)a[f[u]]=1;return a},v.createMap=function(f){var a=Object.create(null);for(var u in f)a[u]=f[u];return a},v.arrayRemove=function(f,a){for(var u=0;u<=f.length;u++)a===f[u]&&f.splice(u,1)},v.escapeRegExp=function(f){return f.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},v.escapeHTML=function(f){return(""+f).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},v.getMatchOffsets=function(f,a){var u=[];return f.replace(a,function(s){u.push({offset:arguments[arguments.length-2],length:s.length})}),u},v.deferredCall=function(f){var a=null,u=function(){a=null,f()},s=function(n){return s.cancel(),a=setTimeout(u,n||0),s};return s.schedule=s,s.call=function(){return this.cancel(),f(),s},s.cancel=function(){return clearTimeout(a),a=null,s},s.isPending=function(){return a},s},v.delayedCall=function(f,a){var u=null,s=function(){u=null,f()},n=function(i){u==null&&(u=setTimeout(s,i||a))};return n.delay=function(i){u&&clearTimeout(u),u=setTimeout(s,i||a)},n.schedule=n,n.call=function(){this.cancel(),f()},n.cancel=function(){u&&clearTimeout(u),u=null},n.isPending=function(){return u},n},v.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},v.skipEmptyMatch=function(f,a,u){return u&&f.codePointAt(a)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(m,v,R){v.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},v.getOS=function(){return v.isMac?v.OS.MAC:v.isLinux?v.OS.LINUX:v.OS.WINDOWS};var E=typeof navigator=="object"?navigator:{},y=(/mac|win|linux/i.exec(E.platform)||["other"])[0].toLowerCase(),f=E.userAgent||"",a=E.appName||"";v.isWin=y=="win",v.isMac=y=="mac",v.isLinux=y=="linux",v.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((f.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((f.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),v.isOldIE=v.isIE&&v.isIE<9,v.isGecko=v.isMozilla=f.match(/ Gecko\/\d+/),v.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",v.isWebKit=parseFloat(f.split("WebKit/")[1])||void 0,v.isChrome=parseFloat(f.split(" Chrome/")[1])||void 0,v.isSafari=parseFloat(f.split(" Safari/")[1])&&!v.isChrome||void 0,v.isEdge=parseFloat(f.split(" Edge/")[1])||void 0,v.isAIR=f.indexOf("AdobeAIR")>=0,v.isAndroid=f.indexOf("Android")>=0,v.isChromeOS=f.indexOf(" CrOS ")>=0,v.isIOS=/iPad|iPhone|iPod/.test(f)&&!window.MSStream,v.isIOS&&(v.isMac=!0),v.isMobile=v.isIOS||v.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(m,v,R){var E=m("./useragent"),y="http://www.w3.org/1999/xhtml";v.buildDom=function i(r,l,h){if(typeof r=="string"&&r){var o=document.createTextNode(r);return l&&l.appendChild(o),o}if(!Array.isArray(r))return r&&r.appendChild&&l&&l.appendChild(r),r;if(typeof r[0]!="string"||!r[0]){for(var d=[],g=0;g<r.length;g++){var x=i(r[g],l,h);x&&d.push(x)}return d}var S=document.createElement(r[0]),w=r[1],b=1;w&&typeof w=="object"&&!Array.isArray(w)&&(b=2);for(var g=b;g<r.length;g++)i(r[g],S,h);return b==2&&Object.keys(w).forEach(function(k){var A=w[k];k==="class"?S.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||k=="value"||k[0]=="$"?S[k]=A:k==="ref"?h&&(h[A]=S):k==="style"?typeof A=="string"&&(S.style.cssText=A):A!=null&&S.setAttribute(k,A)}),l&&l.appendChild(S),S},v.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},v.createElement=function(i,r){return document.createElementNS?document.createElementNS(r||y,i):document.createElement(i)},v.removeChildren=function(i){i.innerHTML=""},v.createTextNode=function(i,r){var l=r?r.ownerDocument:document;return l.createTextNode(i)},v.createFragment=function(i){var r=i?i.ownerDocument:document;return r.createDocumentFragment()},v.hasCssClass=function(i,r){var l=(i.className+"").split(/\s+/g);return l.indexOf(r)!==-1},v.addCssClass=function(i,r){v.hasCssClass(i,r)||(i.className+=" "+r)},v.removeCssClass=function(i,r){for(var l=i.className.split(/\s+/g);;){var h=l.indexOf(r);if(h==-1)break;l.splice(h,1)}i.className=l.join(" ")},v.toggleCssClass=function(i,r){for(var l=i.className.split(/\s+/g),h=!0;;){var o=l.indexOf(r);if(o==-1)break;h=!1,l.splice(o,1)}return h&&l.push(r),i.className=l.join(" "),h},v.setCssClass=function(i,r,l){l?v.addCssClass(i,r):v.removeCssClass(i,r)},v.hasCssString=function(i,r){var l=0,h;if(r=r||document,h=r.querySelectorAll("style")){for(;l<h.length;)if(h[l++].id===i)return!0}},v.removeElementById=function(i,r){r=r||document,r.getElementById(i)&&r.getElementById(i).remove()};var f,a=[];v.useStrictCSP=function(i){f=i,i==!1?u():a||(a=[])};function u(){var i=a;a=null,i&&i.forEach(function(r){s(r[0],r[1])})}function s(i,r,l){if(!(typeof document>"u")){if(a){if(l)u();else if(l===!1)return a.push([i,r])}if(!f){var h=l;!l||!l.getRootNode?h=document:(h=l.getRootNode(),(!h||h==l)&&(h=document));var o=h.ownerDocument||h;if(r&&v.hasCssString(r,h))return null;r&&(i+=`
/*# sourceURL=ace/css/`+r+" */");var d=v.createElement("style");d.appendChild(o.createTextNode(i)),r&&(d.id=r),h==o&&(h=v.getDocumentHead(o)),h.insertBefore(d,h.firstChild)}}}if(v.importCssString=s,v.importCssStylsheet=function(i,r){v.buildDom(["link",{rel:"stylesheet",href:i}],v.getDocumentHead(r))},v.$fixPositionBug=function(i){var r=i.getBoundingClientRect();if(i.style.left){var l=parseFloat(i.style.left),h=+r.left;Math.abs(l-h)>1&&(i.style.left=2*l-h+"px")}if(i.style.right){var l=parseFloat(i.style.right),h=window.innerWidth-r.right;Math.abs(l-h)>1&&(i.style.right=2*l-h+"px")}if(i.style.top){var l=parseFloat(i.style.top),h=+r.top;Math.abs(l-h)>1&&(i.style.top=2*l-h+"px")}if(i.style.bottom){var l=parseFloat(i.style.bottom),h=window.innerHeight-r.bottom;Math.abs(l-h)>1&&(i.style.bottom=2*l-h+"px")}},v.scrollbarWidth=function(i){var r=v.createElement("ace_inner");r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block";var l=v.createElement("ace_outer"),h=l.style;h.position="absolute",h.left="-10000px",h.overflow="hidden",h.width="200px",h.minWidth="0px",h.height="150px",h.display="block",l.appendChild(r);var o=i&&i.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(l);var d=r.offsetWidth;h.overflow="scroll";var g=r.offsetWidth;return d===g&&(g=l.clientWidth),o.removeChild(l),d-g},v.computedStyle=function(i,r){return window.getComputedStyle(i,"")||{}},v.setStyle=function(i,r,l){i[r]!==l&&(i[r]=l)},v.HAS_CSS_ANIMATION=!1,v.HAS_CSS_TRANSFORMS=!1,v.HI_DPI=E.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,E.isChromeOS&&(v.HI_DPI=!1),typeof document<"u"){var n=document.createElement("div");v.HI_DPI&&n.style.transform!==void 0&&(v.HAS_CSS_TRANSFORMS=!0),!E.isEdge&&typeof n.style.animationName<"u"&&(v.HAS_CSS_ANIMATION=!0),n=null}v.HAS_CSS_TRANSFORMS?v.translate=function(i,r,l){i.style.transform="translate("+Math.round(r)+"px, "+Math.round(l)+"px)"}:v.translate=function(i,r,l){i.style.top=Math.round(l)+"px",i.style.left=Math.round(r)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("./dom");v.get=function(y,f){var a=new XMLHttpRequest;a.open("GET",y,!0),a.onreadystatechange=function(){a.readyState===4&&f(a.responseText)},a.send(null)},v.loadScript=function(y,f){var a=E.getDocumentHead(),u=document.createElement("script");u.src=y,a.appendChild(u),u.onload=u.onreadystatechange=function(s,n){(n||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,n||f())}},v.qualifyURL=function(y){var f=document.createElement("a");return f.href=y,f.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(m,v,R){v.inherits=function(E,y){E.super_=y,E.prototype=Object.create(y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}})},v.mixin=function(E,y){for(var f in y)E[f]=y[f];return E},v.implement=function(E,y){v.mixin(E,y)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(m,v,R){var E={},y=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};E._emit=E._dispatchEvent=function(a,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[a]||[],n=this._defaultHandlers[a];if(!(!s.length&&!n)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=a),u.stopPropagation||(u.stopPropagation=y),u.preventDefault||(u.preventDefault=f),s=s.slice();for(var i=0;i<s.length&&(s[i](u,this),!u.propagationStopped);i++);if(n&&!u.defaultPrevented)return n(u,this)}},E._signal=function(a,u){var s=(this._eventRegistry||{})[a];if(s){s=s.slice();for(var n=0;n<s.length;n++)s[n](u,this)}},E.once=function(a,u){var s=this;if(this.on(a,function n(){s.off(a,n),u.apply(null,arguments)}),!u)return new Promise(function(n){u=n})},E.setDefaultHandler=function(a,u){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[a]){var n=s[a],i=s._disabled_[a];i||(s._disabled_[a]=i=[]),i.push(n);var r=i.indexOf(u);r!=-1&&i.splice(r,1)}s[a]=u},E.removeDefaultHandler=function(a,u){var s=this._defaultHandlers;if(s){var n=s._disabled_[a];if(s[a]==u)n&&this.setDefaultHandler(a,n.pop());else if(n){var i=n.indexOf(u);i!=-1&&n.splice(i,1)}}},E.on=E.addEventListener=function(a,u,s){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[a];return n||(n=this._eventRegistry[a]=[]),n.indexOf(u)==-1&&n[s?"unshift":"push"](u),u},E.off=E.removeListener=E.removeEventListener=function(a,u){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[a];if(s){var n=s.indexOf(u);n!==-1&&s.splice(n,1)}},E.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},v.EventEmitter=E}),ace.define("ace/lib/report_error",["require","exports","module"],function(m,v,R){v.reportError=function(y,f){var a=new Error(y);a.data=f,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(m,v,R){var E={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};v.defaultEnglishMessages=E}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(m,v,R){"no use strict";var E=m("./oop"),y=m("./event_emitter").EventEmitter,f=m("./report_error").reportError,a=m("./default_english_messages").defaultEnglishMessages,u={setOptions:function(l){Object.keys(l).forEach(function(h){this.setOption(h,l[h])},this)},getOptions:function(l){var h={};if(l)Array.isArray(l)||(l=Object.keys(l));else{var o=this.$options;l=Object.keys(o).filter(function(d){return!o[d].hidden})}return l.forEach(function(d){h[d]=this.getOption(d)},this),h},setOption:function(l,h){if(this["$"+l]!==h){var o=this.$options[l];if(!o)return s('misspelled option "'+l+'"');if(o.forwardTo)return this[o.forwardTo]&&this[o.forwardTo].setOption(l,h);o.handlesSet||(this["$"+l]=h),o&&o.set&&o.set.call(this,h)}},getOption:function(l){var h=this.$options[l];return h?h.forwardTo?this[h.forwardTo]&&this[h.forwardTo].getOption(l):h&&h.get?h.get.call(this):this["$"+l]:s('misspelled option "'+l+'"')}};function s(l){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var n,i,r=(function(){function l(){this.$defaultOptions={},n=a,i="dollarSigns"}return l.prototype.defineOptions=function(h,o,d){return h.$options||(this.$defaultOptions[o]=h.$options={}),Object.keys(d).forEach(function(g){var x=d[g];typeof x=="string"&&(x={forwardTo:x}),x.name||(x.name=g),h.$options[x.name]=x,"initialValue"in x&&(h["$"+x.name]=x.initialValue)}),E.implement(h,u),this},l.prototype.resetOptions=function(h){Object.keys(h.$options).forEach(function(o){var d=h.$options[o];"value"in d&&h.setOption(o,d.value)})},l.prototype.setDefaultValue=function(h,o,d){if(!h){for(h in this.$defaultOptions)if(this.$defaultOptions[h][o])break;if(!this.$defaultOptions[h][o])return!1}var g=this.$defaultOptions[h]||(this.$defaultOptions[h]={});g[o]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,o,d):g[o].value=d)},l.prototype.setDefaultValues=function(h,o){Object.keys(o).forEach(function(d){this.setDefaultValue(h,d,o[d])},this)},l.prototype.setMessages=function(h,o){n=h,o&&o.placeholders&&(i=o.placeholders)},l.prototype.nls=function(h,o,d){n[h]||(s("No message found for the key '"+h+"' in messages with id "+n.$id+", trying to find a translation for the default string '"+o+"'."),n[o]||s("No message found for the default string '"+o+"' in the provided messages. Falling back to the default English message."));var g=n[h]||n[o]||o;return d&&(i==="dollarSigns"&&(g=g.replace(/\$(\$|[\d]+)/g,function(x,S){return S=="$"?"$":d[S]})),i==="curlyBrackets"&&(g=g.replace(/\{([^\}]+)\}/g,function(x,S){return d[S]}))),g},l})();r.prototype.warn=s,r.prototype.reportError=f,E.implement(r.prototype,y),v.AppConfig=r}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(m,v,R){R.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(m,v,R){v.isDark=!1,v.cssClass="ace-tm",v.cssText=m("./textmate-css"),v.$id="ace/theme/textmate";var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(m,v,R){"no use strict";var E=m("./lib/lang"),y=m("./lib/net"),f=m("./lib/dom"),a=m("./lib/app_config").AppConfig;R.exports=v=new a;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};v.get=function(r){if(!u.hasOwnProperty(r))throw new Error("Unknown config key: "+r);return u[r]},v.set=function(r,l){if(u.hasOwnProperty(r))u[r]=l;else if(this.setDefaultValue("",r,l)==!1)throw new Error("Unknown config key: "+r);r=="useStrictCSP"&&f.useStrictCSP(l)},v.all=function(){return E.copyObject(u)},v.$modes={},v.moduleUrl=function(r,l){if(u.$moduleUrls[r])return u.$moduleUrls[r];var h=r.split("/");l=l||h[h.length-2]||"";var o=l=="snippets"?"/":"-",d=h[h.length-1];if(l=="worker"&&o=="-"){var g=new RegExp("^"+l+"[\\-_]|[\\-_]"+l+"$","g");d=d.replace(g,"")}(!d||d==l)&&h.length>1&&(d=h[h.length-2]);var x=u[l+"Path"];return x==null?x=u.basePath:o=="/"&&(l=o=""),x&&x.slice(-1)!="/"&&(x+="/"),x+l+o+d+this.get("suffix")},v.setModuleUrl=function(r,l){return u.$moduleUrls[r]=l};var s=function(r,l){if(r==="ace/theme/textmate"||r==="./theme/textmate")return l(null,m("./theme/textmate"));if(n)return n(r,l);console.error("loader is not configured")},n;v.setLoader=function(r){n=r},v.dynamicModules=Object.create(null),v.$loading={},v.$loaded={},v.loadModule=function(r,l){var h;if(Array.isArray(r))var o=r[0],d=r[1];else if(typeof r=="string")var d=r;var g=function(x){if(x&&!v.$loading[d])return l&&l(x);if(v.$loading[d]||(v.$loading[d]=[]),v.$loading[d].push(l),!(v.$loading[d].length>1)){var S=function(){s(d,function(w,b){b&&(v.$loaded[d]=b),v._emit("load.module",{name:d,module:b});var k=v.$loading[d];v.$loading[d]=null,k.forEach(function(A){A&&A(b)})})};if(!v.get("packaged"))return S();y.loadScript(v.moduleUrl(d,o),S),i()}};if(v.dynamicModules[d])v.dynamicModules[d]().then(function(x){x.default?g(x.default):g(x)});else{try{h=this.$require(d)}catch{}g(h||v.$loaded[d])}},v.$require=function(r){if(typeof R.require=="function"){var l="require";return R[l](r)}},v.setModuleLoader=function(r,l){v.dynamicModules[r]=l};var i=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};v.version="1.43.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(m,v,R){m("./lib/fixoldbrowsers");var E=m("./config");E.setLoader(function(u,s){m([u],function(n){s(null,n)})});var y=(function(){return this||typeof window<"u"&&window})();R.exports=function(u){E.init=f,E.$require=m,u.require=m},f(!0);function f(u){if(!(!y||!y.document)){E.set("packaged",u||m.packaged||R.packaged||y.define&&(void 0).packaged);var s={},n="",i=document.currentScript||document._currentScript,r=i&&i.ownerDocument||document;i&&i.src&&(n=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var l=r.getElementsByTagName("script"),h=0;h<l.length;h++){var o=l[h],d=o.src||o.getAttribute("src");if(d){for(var g=o.attributes,x=0,S=g.length;x<S;x++){var w=g[x];w.name.indexOf("data-ace-")===0&&(s[a(w.name.replace(/^data-ace-/,""))]=w.value)}var b=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(n=b[1])}}n&&(s.base=s.base||n,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var k in s)typeof s[k]<"u"&&E.set(k,s[k])}}function a(u){return u.replace(/-(.)/g,function(s,n){return n.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(m,v,R){var E=(function(){function y(f,a,u,s){this.start={row:f,column:a},this.end={row:u,column:s}}return y.prototype.isEqual=function(f){return this.start.row===f.start.row&&this.end.row===f.end.row&&this.start.column===f.start.column&&this.end.column===f.end.column},y.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},y.prototype.contains=function(f,a){return this.compare(f,a)==0},y.prototype.compareRange=function(f){var a,u=f.end,s=f.start;return a=this.compare(u.row,u.column),a==1?(a=this.compare(s.row,s.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(s.row,s.column),a==-1?-1:a==1?42:0)},y.prototype.comparePoint=function(f){return this.compare(f.row,f.column)},y.prototype.containsRange=function(f){return this.comparePoint(f.start)==0&&this.comparePoint(f.end)==0},y.prototype.intersects=function(f){var a=this.compareRange(f);return a==-1||a==0||a==1},y.prototype.isEnd=function(f,a){return this.end.row==f&&this.end.column==a},y.prototype.isStart=function(f,a){return this.start.row==f&&this.start.column==a},y.prototype.setStart=function(f,a){typeof f=="object"?(this.start.column=f.column,this.start.row=f.row):(this.start.row=f,this.start.column=a)},y.prototype.setEnd=function(f,a){typeof f=="object"?(this.end.column=f.column,this.end.row=f.row):(this.end.row=f,this.end.column=a)},y.prototype.inside=function(f,a){return this.compare(f,a)==0?!(this.isEnd(f,a)||this.isStart(f,a)):!1},y.prototype.insideStart=function(f,a){return this.compare(f,a)==0?!this.isEnd(f,a):!1},y.prototype.insideEnd=function(f,a){return this.compare(f,a)==0?!this.isStart(f,a):!1},y.prototype.compare=function(f,a){return!this.isMultiLine()&&f===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:f<this.start.row?-1:f>this.end.row?1:this.start.row===f?a>=this.start.column?0:-1:this.end.row===f?a<=this.end.column?0:1:0},y.prototype.compareStart=function(f,a){return this.start.row==f&&this.start.column==a?-1:this.compare(f,a)},y.prototype.compareEnd=function(f,a){return this.end.row==f&&this.end.column==a?1:this.compare(f,a)},y.prototype.compareInside=function(f,a){return this.end.row==f&&this.end.column==a?1:this.start.row==f&&this.start.column==a?-1:this.compare(f,a)},y.prototype.clipRows=function(f,a){if(this.end.row>a)var u={row:a+1,column:0};else if(this.end.row<f)var u={row:f,column:0};if(this.start.row>a)var s={row:a+1,column:0};else if(this.start.row<f)var s={row:f,column:0};return y.fromPoints(s||this.start,u||this.end)},y.prototype.extend=function(f,a){var u=this.compare(f,a);if(u==0)return this;if(u==-1)var s={row:f,column:a};else var n={row:f,column:a};return y.fromPoints(s||this.start,n||this.end)},y.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},y.prototype.isMultiLine=function(){return this.start.row!==this.end.row},y.prototype.clone=function(){return y.fromPoints(this.start,this.end)},y.prototype.collapseRows=function(){return this.end.column==0?new y(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new y(this.start.row,0,this.end.row,0)},y.prototype.toScreenRange=function(f){var a=f.documentToScreenPosition(this.start),u=f.documentToScreenPosition(this.end);return new y(a.row,a.column,u.row,u.column)},y.prototype.moveBy=function(f,a){this.start.row+=f,this.start.column+=a,this.end.row+=f,this.end.column+=a},y})();E.fromPoints=function(y,f){return new E(y.row,y.column,f.row,f.column)},E.comparePoints=function(y,f){return y.row-f.row||y.column-f.column},v.Range=E}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(m,v,R){for(var E=m("./oop"),y={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},f={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},a=0;a<10;a++)f["Digit"+a]=48+a,f["Numpad"+a]=96+a,y.PRINTABLE_KEYS[48+a]=""+a,y.FUNCTION_KEYS[96+a]="Numpad"+a;for(var a=65;a<91;a++){var u=String.fromCharCode(a+32);f["Key"+u.toUpperCase()]=a,y.PRINTABLE_KEYS[a]=u}for(var a=1;a<13;a++)f["F"+a]=111+a,y.FUNCTION_KEYS[111+a]="F"+a;var s={Shift:16,Control:17,Alt:18,Meta:224};for(var n in s)f[n]=f[n+"Left"]=f[n+"Right"]=s[n];v.$codeToKeyCode=f,y.PRINTABLE_KEYS[173]="-";for(var i in y.FUNCTION_KEYS){var r=y.FUNCTION_KEYS[i].toLowerCase();y[r]=parseInt(i,10)}for(var i in y.PRINTABLE_KEYS){var r=y.PRINTABLE_KEYS[i].toLowerCase();y[r]=parseInt(i,10)}E.mixin(y,y.MODIFIER_KEYS),E.mixin(y,y.PRINTABLE_KEYS),E.mixin(y,y.FUNCTION_KEYS),y.enter=y.return,y.escape=y.esc,y.del=y.delete,(function(){for(var l=["cmd","ctrl","alt","shift"],h=Math.pow(2,l.length);h--;)y.KEY_MODS[h]=l.filter(function(o){return h&y.KEY_MODS[o]}).join("-")+"-"})(),y.KEY_MODS[0]="",y.KEY_MODS[-1]="input-",E.mixin(v,y),v.default=v,v.keyCodeToString=function(l){var h=y[l];return typeof h!="string"&&(h=String.fromCharCode(l)),h.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(m,v,R){var E=m("./keys"),y=m("./useragent"),f=null,a=0,u;function s(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function n(){return u==null&&s(),u}function i(x,S,w){this.elem=x,this.type=S,this.callback=w}i.prototype.destroy=function(){l(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var r=v.addListener=function(x,S,w,b){x.addEventListener(S,w,n()),b&&b.$toDestroy.push(new i(x,S,w))},l=v.removeListener=function(x,S,w){x.removeEventListener(S,w,n())};v.stopEvent=function(x){return v.stopPropagation(x),v.preventDefault(x),!1},v.stopPropagation=function(x){x.stopPropagation&&x.stopPropagation()},v.preventDefault=function(x){x.preventDefault&&x.preventDefault()},v.getButton=function(x){return x.type=="dblclick"?0:x.type=="contextmenu"||y.isMac&&x.ctrlKey&&!x.altKey&&!x.shiftKey?2:x.button},v.capture=function(x,S,w){var b=x&&x.ownerDocument||document;function k(A){S&&S(A),w&&w(A),l(b,"mousemove",S),l(b,"mouseup",k),l(b,"dragstart",k)}return r(b,"mousemove",S),r(b,"mouseup",k),r(b,"dragstart",k),k},v.addMouseWheelListener=function(x,S,w){r(x,"wheel",function(b){var k=.15,A=b.deltaX||0,T=b.deltaY||0;switch(b.deltaMode){case b.DOM_DELTA_PIXEL:b.wheelX=A*k,b.wheelY=T*k;break;case b.DOM_DELTA_LINE:var j=15;b.wheelX=A*j,b.wheelY=T*j;break;case b.DOM_DELTA_PAGE:var F=150;b.wheelX=A*F,b.wheelY=T*F;break}S(b)},w)},v.addMultiMouseDownListener=function(x,S,w,b,k){var A=0,T,j,F,$={2:"dblclick",3:"tripleclick",4:"quadclick"};function D(M){if(v.getButton(M)!==0?A=0:M.detail>1?(A++,A>4&&(A=1)):A=1,y.isIE){var L=Math.abs(M.clientX-T)>5||Math.abs(M.clientY-j)>5;(!F||L)&&(A=1),F&&clearTimeout(F),F=setTimeout(function(){F=null},S[A-1]||600),A==1&&(T=M.clientX,j=M.clientY)}if(M._clicks=A,w[b]("mousedown",M),A>4)A=0;else if(A>1)return w[b]($[A],M)}Array.isArray(x)||(x=[x]),x.forEach(function(M){r(M,"mousedown",D,k)})};function h(x){return 0|(x.ctrlKey?1:0)|(x.altKey?2:0)|(x.shiftKey?4:0)|(x.metaKey?8:0)}v.getModifierString=function(x){return E.KEY_MODS[h(x)]};function o(x,S,w){var b=h(S);if(!w&&S.code&&(w=E.$codeToKeyCode[S.code]||w),!y.isMac&&f){if(S.getModifierState&&(S.getModifierState("OS")||S.getModifierState("Win"))&&(b|=8),f.altGr)if((3&b)!=3)f.altGr=0;else return;if(w===18||w===17){var k=S.location;if(w===17&&k===1)f[w]==1&&(a=S.timeStamp);else if(w===18&&b===3&&k===2){var A=S.timeStamp-a;A<50&&(f.altGr=!0)}}}if(w in E.MODIFIER_KEYS&&(w=-1),!(!b&&w===13&&S.location===3&&(x(S,b,-w),S.defaultPrevented))){if(y.isChromeOS&&b&8){if(x(S,b,w),S.defaultPrevented)return;b&=-9}return!b&&!(w in E.FUNCTION_KEYS)&&!(w in E.PRINTABLE_KEYS)?!1:x(S,b,w)}}v.addCommandKeyListener=function(x,S,w){var b=null;r(x,"keydown",function(k){f[k.keyCode]=(f[k.keyCode]||0)+1;var A=o(S,k,k.keyCode);return b=k.defaultPrevented,A},w),r(x,"keypress",function(k){b&&(k.ctrlKey||k.altKey||k.shiftKey||k.metaKey)&&(v.stopEvent(k),b=null)},w),r(x,"keyup",function(k){f[k.keyCode]=null},w),f||(d(),r(window,"focus",d))};function d(){f=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!y.isOldIE){var g=1;v.nextTick=function(x,S){S=S||window;var w="zero-timeout-message-"+g++,b=function(k){k.data==w&&(v.stopPropagation(k),l(S,"message",b),x())};r(S,"message",b),S.postMessage(w,"*")}}v.$idleBlocked=!1,v.onIdle=function(x,S){return setTimeout(function w(){v.$idleBlocked?setTimeout(w,100):x()},S)},v.$idleBlockId=null,v.blockIdle=function(x){v.$idleBlockId&&clearTimeout(v.$idleBlockId),v.$idleBlocked=!0,v.$idleBlockId=setTimeout(function(){v.$idleBlocked=!1},x||100)},v.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),v.nextFrame?v.nextFrame=v.nextFrame.bind(window):v.nextFrame=function(x){setTimeout(x,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(m,v,R){var E;R.exports={lineMode:!1,pasteCancelled:function(){return E&&E>Date.now()-50?!0:E=!1},cancel:function(){E=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(m,v,R){var E=m("../lib/event"),y=m("../config").nls,f=m("../lib/useragent"),a=m("../lib/dom"),u=m("../lib/lang"),s=m("../clipboard"),n=f.isChrome<18,i=f.isIE,r=f.isChrome>63,l=400,h=m("../lib/keys"),o=h.KEY_MODS,d=f.isIOS,g=d?/\s/:/\n/,x=f.isMobile,S=(function(){function w(b,k){var A=this;this.host=k,this.text=a.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",b.insertBefore(this.text,b.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",x||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),E.addListener(this.text,"blur",function(T){A.ignoreFocusEvents||(k.onBlur(T),A.$isFocused=!1)},k),E.addListener(this.text,"focus",function(T){if(!A.ignoreFocusEvents){if(A.$isFocused=!0,f.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(T),f.isEdge?setTimeout(A.resetSelection.bind(A)):A.resetSelection()}},k),this.$focusScroll=!1,k.on("beforeEndOperation",function(){var T=k.curOp,j=T&&T.command&&T.command.name;if(j!="insertstring"){var F=j&&(T.docChanged||T.selectionChanged);A.inComposition&&F&&(A.lastValue=A.text.value="",A.onCompositionEnd()),A.resetSelection()}}),k.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=d?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&k.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,E.addCommandKeyListener(this.text,function(T,j,F){if(!A.inComposition)return k.onCommandKey(T,j,F)},k),E.addListener(this.text,"select",this.onSelect.bind(this),k),E.addListener(this.text,"input",this.onInput.bind(this),k),E.addListener(this.text,"cut",this.onCut.bind(this),k),E.addListener(this.text,"copy",this.onCopy.bind(this),k),E.addListener(this.text,"paste",this.onPaste.bind(this),k),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&E.addListener(b,"keydown",function(T){if(!(f.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:A.onCopy(T);break;case 86:A.onPaste(T);break;case 88:A.onCut(T);break}},k),this.syncComposition=u.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),E.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),k),E.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),k),E.addListener(this.text,"keyup",this.onKeyup.bind(this),k),E.addListener(this.text,"keydown",this.syncComposition.bind(this),k),E.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),k),this.closeTimeout,E.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),k),E.addListener(this.text,"mousedown",function(T){T.preventDefault(),A.onContextMenuClose()},k),E.addListener(k.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),k),E.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),k),d&&this.addIosSelectionHandler(b,k,this.text)}return w.prototype.addIosSelectionHandler=function(b,k,A){var T=this,j=null,F=!1;A.addEventListener("keydown",function(D){j&&clearTimeout(j),F=!0},!0),A.addEventListener("keyup",function(D){j=setTimeout(function(){F=!1},100)},!0);var $=function(D){if(document.activeElement===A&&!(F||T.inComposition||k.$mouseHandler.isMousePressed)&&!T.copied){var M=A.selectionStart,L=A.selectionEnd,O=null,z=0;if(M==0?O=h.up:M==1?O=h.home:L>T.lastSelectionEnd&&T.lastValue[L]==`
`?O=h.end:M<T.lastSelectionStart&&T.lastValue[M-1]==" "?(O=h.left,z=o.option):M<T.lastSelectionStart||M==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&M==L?O=h.left:L>T.lastSelectionEnd&&T.lastValue.slice(0,L).split(`
`).length>2?O=h.down:L>T.lastSelectionEnd&&T.lastValue[L-1]==" "?(O=h.right,z=o.option):(L>T.lastSelectionEnd||L==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&M==L)&&(O=h.right),M!==L&&(z|=o.shift),O){var B=k.onCommandKey({},z,O);if(!B&&k.commands){O=h.keyCodeToString(O);var P=k.commands.findKeyCommand(z,O);P&&k.execCommand(P)}T.lastSelectionStart=M,T.lastSelectionEnd=L,T.resetSelection("")}}};document.addEventListener("selectionchange",$),k.on("destroy",function(){document.removeEventListener("selectionchange",$)})},w.prototype.onContextMenuClose=function(){var b=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){b.tempStyle&&(b.text.style.cssText=b.tempStyle,b.tempStyle=""),b.host.renderer.$isMousePressed=!1,b.host.renderer.$keepTextAreaAtCursor&&b.host.renderer.$moveTextAreaToCursor()},0)},w.prototype.$onContextMenu=function(b){this.host.textInput.onContextMenu(b),this.onContextMenuClose()},w.prototype.onKeyup=function(b){b.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},w.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},w.prototype.onCompositionStart=function(b){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){b.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var k=this.host.getSelectionRange();k.end.row=k.start.row,k.end.column=k.start.column,this.inComposition.markerRange=k,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},w.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var b=this.text.value;this.sendText(b),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},w.prototype.onCompositionEnd=function(b){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),b&&this.onInput())},w.prototype.onCut=function(b){this.doCopy(b,!0)},w.prototype.onCopy=function(b){this.doCopy(b,!1)},w.prototype.onPaste=function(b){var k=this.handleClipboardData(b);s.pasteCancelled()||(typeof k=="string"?(k&&this.host.onPaste(k,b),f.isIE&&setTimeout(this.resetSelection),E.preventDefault(b)):(this.text.value="",this.pasted=!0))},w.prototype.doCopy=function(b,k){var A=this,T=this.host.getCopyText();if(!T)return E.preventDefault(b);this.handleClipboardData(b,T)?(d&&(this.resetSelection(T),this.copied=T,setTimeout(function(){A.copied=!1},10)),k?this.host.onCut():this.host.onCopy(),E.preventDefault(b)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){A.copied=!1,A.resetSelection(),k?A.host.onCut():A.host.onCopy()}))},w.prototype.handleClipboardData=function(b,k,A){var T=b.clipboardData||window.clipboardData;if(!(!T||n)){var j=i||A?"Text":"text/plain";try{return k?T.setData(j,k)!==!1:T.getData(j)}catch(F){if(!A)return this.handleClipboardData(F,k,!0)}}},w.prototype.onInput=function(b){if(this.inComposition)return this.onCompositionUpdate();if(b&&b.inputType){if(b.inputType=="historyUndo")return this.host.execCommand("undo");if(b.inputType=="historyRedo")return this.host.execCommand("redo")}var k=this.text.value,A=this.sendText(k,!0);(k.length>l+100||g.test(A)||x&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},w.prototype.sendText=function(b,k){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),b&&this.host.onPaste(b),this.pasted=!1,"";for(var A=this.text.selectionStart,T=this.text.selectionEnd,j=this.lastSelectionStart,F=this.lastValue.length-this.lastSelectionEnd,$=b,D=b.length-A,M=b.length-T,L=0;j>0&&this.lastValue[L]==b[L];)L++,j--;for($=$.slice(L),L=1;F>0&&this.lastValue.length-L>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-L]==b[b.length-L];)L++,F--;D-=L-1,M-=L-1;var O=$.length-L+1;if(O<0&&(j=-O,O=0),$=$.slice(0,O),!k&&!$&&!D&&!j&&!F&&!M)return"";this.sendingText=!0;var z=!1;return f.isAndroid&&$==". "&&($="  ",z=!0),$&&!j&&!F&&!D&&!M||this.commandMode?this.host.onTextInput($):this.host.onTextInput($,{extendLeft:j,extendRight:F,restoreStart:D,restoreEnd:M}),this.sendingText=!1,this.lastValue=b,this.lastSelectionStart=A,this.lastSelectionEnd=T,this.lastRestoreEnd=M,z?`
`:$},w.prototype.onSelect=function(b){var k=this;if(!this.inComposition){var A=function(T){return T.selectionStart===0&&T.selectionEnd>=k.lastValue.length&&T.value===k.lastValue&&k.lastValue&&T.selectionEnd!==k.lastSelectionEnd};this.copied?this.copied=!1:A(this.text)?(this.host.selectAll(),this.resetSelection()):x&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},w.prototype.$resetSelectionIOS=function(b){if(!(!this.$isFocused||this.copied&&!b||this.sendingText)){b||(b="");var k=`
 ab`+b+`cde fg
`;k!=this.text.value&&(this.text.value=this.lastValue=k);var A=4,T=4+(b.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=A||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(A,T),this.lastSelectionStart=A,this.lastSelectionEnd=T}},w.prototype.$resetSelection=function(){var b=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var k=0,A=0,T="",j=function(P,U){for(var W=U,K=1;K<=P-b.rowStart&&K<2*b.numberOfExtraLines+1;K++)W+=b.host.session.getLine(P-K).length+1;return W};if(this.host.session){var F=this.host.selection,$=F.getRange(),D=F.cursor.row;D===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):D===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(D<this.rowStart-1||D>this.rowEnd+1)&&(this.rowStart=D>this.numberOfExtraLines?D-this.numberOfExtraLines:0,this.rowEnd=D>this.numberOfExtraLines?D+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var M=[],L=this.rowStart;L<=this.rowEnd;L++)M.push(this.host.session.getLine(L));if(T=M.join(`
`),k=j($.start.row,$.start.column),A=j($.end.row,$.end.column),$.start.row<this.rowStart){var O=this.host.session.getLine(this.rowStart-1);k=$.start.row<this.rowStart-1?0:k,A+=O.length+1,T=O+`
`+T}else if($.end.row>this.rowEnd){var z=this.host.session.getLine(this.rowEnd+1);A=$.end.row>this.rowEnd+1?z.length:$.end.column,A+=T.length+1,T=T+`
`+z}else x&&D>0&&(T=`
`+T,A+=1,k+=1);T.length>l&&(k<l&&A<l?T=T.slice(0,l):(T=`
`,k==A?k=A=0:(k=0,A=1)));var B=T+`

`;B!=this.lastValue&&(this.text.value=this.lastValue=B,this.lastSelectionStart=this.lastSelectionEnd=B.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=A||this.lastSelectionStart!=k||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(k,A),this.lastSelectionStart=k,this.lastSelectionEnd=A}catch{}this.inComposition=!1}},w.prototype.setHost=function(b){this.host=b},w.prototype.setNumberOfExtraLines=function(b){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,b<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=b},w.prototype.setAriaLabel=function(){var b="";if(this.host.$textInputAriaLabel&&(b+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var k=this.host.session.selection.cursor.row;b+=y("text-input.aria-label","Cursor at row $0",[k+1])}this.text.setAttribute("aria-label",b)},w.prototype.setAriaOptions=function(b){b.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",b.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",b.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),b.role&&this.text.setAttribute("role",b.role),b.setLabel&&(this.text.setAttribute("aria-roledescription",y("text-input.aria-roledescription","editor")),this.setAriaLabel())},w.prototype.focus=function(){var b=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||r||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var k=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var A=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(A)for(var j=this.text.parentElement;j&&j.nodeType==1;)T.push(j),j.setAttribute("ace_nocontext","true"),!j.parentElement&&j.getRootNode?j=j.getRootNode().host:j=j.parentElement;this.text.focus({preventScroll:!0}),A&&T.forEach(function(F){F.removeAttribute("ace_nocontext")}),setTimeout(function(){b.text.style.position="",b.text.style.top=="0px"&&(b.text.style.top=k)},0)},w.prototype.blur=function(){this.text.blur()},w.prototype.isFocused=function(){return this.$isFocused},w.prototype.setInputHandler=function(b){this.inputHandler=b},w.prototype.getInputHandler=function(){return this.inputHandler},w.prototype.getElement=function(){return this.text},w.prototype.setCommandMode=function(b){this.commandMode=b,this.text.readOnly=!1},w.prototype.setReadOnly=function(b){this.commandMode||(this.text.readOnly=b)},w.prototype.setCopyWithEmptySelection=function(b){},w.prototype.onContextMenu=function(b){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:b}),this.moveToMouse(b,!0)},w.prototype.moveToMouse=function(b,k){var A=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(k?"z-index:100000;":"")+(f.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),j=a.computedStyle(this.host.container),F=T.top+(parseInt(j.borderTopWidth)||0),$=T.left+(parseInt(j.borderLeftWidth)||0),D=T.bottom-F-this.text.clientHeight-2,M=function(L){a.translate(A.text,L.clientX-$-2,Math.min(L.clientY-F-2,D))};M(b),b.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),f.isWin&&E.capture(this.host.container,M,this.onContextMenuClose.bind(this)))},w.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},w})();v.TextInput=S,v.$setUserAgentForTests=function(w,b){x=w,d=b}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(m,v,R){var E=m("../lib/useragent"),y=0,f=550,a=(function(){function n(i){i.$clickSelection=null;var r=i.editor;r.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),r.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),r.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),r.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),r.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var l=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];l.forEach(function(h){i[h]=this[h]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return n.prototype.onMouseDown=function(i){var r=i.inSelection(),l=i.getDocumentPosition();this.mousedownEvent=i;var h=this.editor,o=i.getButton();if(o!==0){var d=h.getSelectionRange(),g=d.isEmpty();(g||o==1)&&h.selection.moveToPosition(l),o==2&&(h.textInput.onContextMenu(i.domEvent),E.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),r&&!h.isFocused()&&(h.focus(),this.$focusTimeout&&!this.$clickSelection&&!h.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(l,i.domEvent._clicks>1),i.preventDefault()},n.prototype.startSelect=function(i,r){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var l=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?l.selection.selectToPosition(i):r||l.selection.moveToPosition(i),r||this.select(),l.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var i,r=this.editor,l=r.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var h=this.$clickSelection.comparePoint(l);if(h==-1)i=this.$clickSelection.end;else if(h==1)i=this.$clickSelection.start;else{var o=s(this.$clickSelection,l,r.session);l=o.cursor,i=o.anchor}r.selection.setSelectionAnchor(i.row,i.column)}r.selection.selectToPosition(l),r.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(i){var r,l=this.editor,h=l.renderer.screenToTextCoordinates(this.x,this.y),o=l.selection[i](h.row,h.column);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(o.start),g=this.$clickSelection.comparePoint(o.end);if(d==-1&&g<=0)r=this.$clickSelection.end,(o.end.row!=h.row||o.end.column!=h.column)&&(h=o.start);else if(g==1&&d>=0)r=this.$clickSelection.start,(o.start.row!=h.row||o.start.column!=h.column)&&(h=o.end);else if(d==-1&&g==1)h=o.end,r=o.start;else{var x=s(this.$clickSelection,h,l.session);h=x.cursor,r=x.anchor}l.selection.setSelectionAnchor(r.row,r.column)}l.selection.selectToPosition(h),l.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var i=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),r=Date.now();(i>y||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(i){var r=i.getDocumentPosition(),l=this.editor,h=l.session,o=h.getBracketRange(r);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=l.selection.getWordRange(r.row,r.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},n.prototype.onTripleClick=function(i){var r=i.getDocumentPosition(),l=this.editor;this.setState("selectByLines");var h=l.getSelectionRange();h.isMultiLine()&&h.contains(r.row,r.column)?(this.$clickSelection=l.selection.getLineRange(h.start.row),this.$clickSelection.end=l.selection.getLineRange(h.end.row).end):this.$clickSelection=l.selection.getLineRange(r.row),this.select()},n.prototype.onQuadClick=function(i){var r=this.editor;r.selectAll(),this.$clickSelection=r.getSelectionRange(),this.setState("selectAll")},n.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var r=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var l=this.$lastScroll,h=i.domEvent.timeStamp,o=h-l.t,d=o?i.wheelX/o:l.vx,g=o?i.wheelY/o:l.vy;o<f&&(d=(d+l.vx)/2,g=(g+l.vy)/2);var x=Math.abs(d/g),S=!1;if(x>=1&&r.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(S=!0),x<=1&&r.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(S=!0),S)l.allowed=h;else if(h-l.allowed<f){var w=Math.abs(d)<=1.5*Math.abs(l.vx)&&Math.abs(g)<=1.5*Math.abs(l.vy);w?(S=!0,l.allowed=h):l.allowed=0}if(l.t=h,l.vx=d,l.vy=g,S)return r.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},n})();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,v.DefaultHandlers=a;function u(n,i,r,l){return Math.sqrt(Math.pow(r-n,2)+Math.pow(l-i,2))}function s(n,i,r){if(n.start.row==n.end.row)var l=2*i.column-n.start.column-n.end.column;else if(n.start.row==n.end.row-1&&!n.start.column&&!n.end.column)var l=3*i.column-2*r.getLine(n.start.row).length;else var l=2*i.row-n.start.row-n.end.row;return l<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent"),f=(function(){function a(u,s){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=s,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){E.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){E.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,s=this.editor.session.documentToScreenRow(u,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return s-n},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,s=u.getSelectionRange();if(s.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=s.contains(n.row,n.column)}return this.$inSelection},a.prototype.getButton=function(){return E.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return y.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a})();v.MouseEvent=f}),ace.define("ace/lib/scroll",["require","exports","module"],function(m,v,R){v.preventParentScroll=function(y){y.stopPropagation();var f=y.currentTarget,a=f.scrollHeight>f.clientHeight;a||y.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(m,v,R){var E=this&&this.__extends||(function(){var h=function(o,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(g[S]=x[S])},h(o,d)};return function(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(o,d);function g(){this.constructor=o}o.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}})(),y=this&&this.__values||function(h){var o=typeof Symbol=="function"&&Symbol.iterator,d=o&&h[o],g=0;if(d)return d.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&g>=h.length&&(h=void 0),{value:h&&h[g++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},f=m("./lib/dom");m("./lib/event");var a=m("./range").Range,u=m("./lib/scroll").preventParentScroll,s="ace_tooltip",n=(function(){function h(o){this.isOpen=!1,this.$element=null,this.$parentNode=o}return h.prototype.$init=function(){return this.$element=f.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},h.prototype.getElement=function(){return this.$element||this.$init()},h.prototype.setText=function(o){this.getElement().textContent=o},h.prototype.setHtml=function(o){this.getElement().innerHTML=o},h.prototype.setPosition=function(o,d){this.getElement().style.left=o+"px",this.getElement().style.top=d+"px"},h.prototype.setClassName=function(o){f.addCssClass(this.getElement(),o)},h.prototype.setTheme=function(o){this.theme&&(this.theme.isDark&&f.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&f.removeCssClass(this.getElement(),this.theme.cssClass)),o.isDark&&f.addCssClass(this.getElement(),"ace_dark"),o.cssClass&&f.addCssClass(this.getElement(),o.cssClass),this.theme={isDark:o.isDark,cssClass:o.cssClass}},h.prototype.show=function(o,d,g){o!=null&&this.setText(o),d!=null&&g!=null&&this.setPosition(d,g),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},h.prototype.hide=function(o){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},h.prototype.getHeight=function(){return this.getElement().offsetHeight},h.prototype.getWidth=function(){return this.getElement().offsetWidth},h.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},h})(),i=(function(){function h(){this.popups=[]}return h.prototype.addPopup=function(o){this.popups.push(o),this.updatePopups()},h.prototype.removePopup=function(o){var d=this.popups.indexOf(o);d!==-1&&(this.popups.splice(d,1),this.updatePopups())},h.prototype.updatePopups=function(){var o,d,g,x;this.popups.sort(function($,D){return D.priority-$.priority});var S=[];try{for(var w=y(this.popups),b=w.next();!b.done;b=w.next()){var k=b.value,A=!0;try{for(var T=(g=void 0,y(S)),j=T.next();!j.done;j=T.next()){var F=j.value;if(this.doPopupsOverlap(F,k)){A=!1;break}}}catch($){g={error:$}}finally{try{j&&!j.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}A?S.push(k):k.hide()}}catch($){o={error:$}}finally{try{b&&!b.done&&(d=w.return)&&d.call(w)}finally{if(o)throw o.error}}},h.prototype.doPopupsOverlap=function(o,d){var g=o.getElement().getBoundingClientRect(),x=d.getElement().getBoundingClientRect();return g.left<x.right&&g.right>x.left&&g.top<x.bottom&&g.bottom>x.top},h})(),r=new i;v.popupManager=r,v.Tooltip=n;var l=(function(h){E(o,h);function o(d){d===void 0&&(d=document.body);var g=h.call(this,d)||this;g.timeout=void 0,g.lastT=0,g.idleTime=350,g.lastEvent=void 0,g.onMouseOut=g.onMouseOut.bind(g),g.onMouseMove=g.onMouseMove.bind(g),g.waitForHover=g.waitForHover.bind(g),g.hide=g.hide.bind(g);var x=g.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",g.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",(function(){x.contains(document.activeElement)||this.hide()}).bind(g)),x.addEventListener("wheel",u),g}return o.prototype.addToEditor=function(d){d.on("mousemove",this.onMouseMove),d.on("mousedown",this.hide);var g=d.renderer.getMouseEventTarget();g&&typeof g.removeEventListener=="function"&&g.addEventListener("mouseout",this.onMouseOut,!0)},o.prototype.removeFromEditor=function(d){d.off("mousemove",this.onMouseMove),d.off("mousedown",this.hide);var g=d.renderer.getMouseEventTarget();g&&typeof g.removeEventListener=="function"&&g.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},o.prototype.onMouseMove=function(d,g){this.lastEvent=d,this.lastT=Date.now();var x=g.$mouseHandler.isMousePressed;if(this.isOpen){var S=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(S.row,S.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=d,this.timeout=setTimeout(this.waitForHover,this.idleTime))},o.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var d=Date.now()-this.lastT;if(this.idleTime-d>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-d);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},o.prototype.isOutsideOfText=function(d){var g=d.editor,x=d.getDocumentPosition(),S=g.session.getLine(x.row);if(x.column==S.length){var w=g.renderer.pixelToScreenCoordinates(d.clientX,d.clientY),b=g.session.documentToScreenPosition(x.row,x.column);if(b.column!=w.column||b.row!=w.row)return!0}return!1},o.prototype.setDataProvider=function(d){this.$gatherData=d},o.prototype.showForRange=function(d,g,x,S){if(!(S&&S!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=d.renderer;this.isOpen||(r.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.range=a.fromPoints(g.start,g.end);var b=w.textToScreenCoordinates(g.start.row,g.start.column),k=w.scroller.getBoundingClientRect();b.pageX<k.left&&(b.pageX=k.left);var A=this.getElement();A.innerHTML="",A.appendChild(x),A.style.maxHeight="",A.style.display="block",this.$setPosition(d,b,!0,g),f.$fixPositionBug(A)}},o.prototype.$setPosition=function(d,g,x,S){var w=10;x&&this.addMarker(S,d.session);var b=d.renderer,k=this.getElement(),A=k.offsetHeight,T=k.offsetWidth,j=g.pageY,F=g.pageX,$=window.innerHeight-j-b.lineHeight,D=this.$shouldPlaceAbove(A,j,$-w);k.style.maxHeight=(D?j:$)-w+"px",k.style.top=D?"":j+b.lineHeight+"px",k.style.bottom=D?window.innerHeight-j+"px":"",k.style.left=Math.min(F,window.innerWidth-T-w)+"px"},o.prototype.$shouldPlaceAbove=function(d,g,x){return!(g-d<0&&g<x)},o.prototype.addMarker=function(d,g){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=g,this.marker=g&&g.addMarker(d,"ace_highlight-marker","text")},o.prototype.hide=function(d){d&&this.$fromKeyboard&&d.type=="keydown"&&d.code=="Escape"||!d&&document.activeElement==this.getElement()||d&&d.target&&(d.type!="keydown"||d.ctrlKey||d.metaKey)&&this.$element.contains(d.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,r.removePopup(this)))},o.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},o.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},o.prototype.onMouseOut=function(d){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!d.relatedTarget||this.getElement().contains(d.relatedTarget)||d&&d.currentTarget.contains(d.relatedTarget)||d.relatedTarget.classList.contains("ace_content")||this.hide())},o})(n);v.HoverTooltip=l}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(m,v,R){var E=this&&this.__extends||(function(){var l=function(h,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(d[x]=g[x])},l(h,o)};return function(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(h,o);function d(){this.constructor=h}h.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}})(),y=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,o=h&&l[h],d=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},f=m("../lib/dom"),a=m("./mouse_event").MouseEvent,u=m("../tooltip").HoverTooltip,s=m("../config").nls,n=m("../range").Range;function i(l){var h=l.editor,o=h.renderer.$gutterLayer;l.$tooltip=new r(h),l.$tooltip.addToEditor(h),l.$tooltip.setDataProvider(function(d,g){var x=d.getDocumentPosition().row;l.$tooltip.showTooltip(x)}),l.editor.setDefaultHandler("guttermousedown",function(d){if(!(!h.isFocused()||d.getButton()!=0)){var g=o.getRegion(d);if(g!="foldWidgets"){var x=d.getDocumentPosition().row,S=h.session.selection;if(d.getShiftKey())S.selectTo(x,0);else{if(d.domEvent.detail==2)return h.selectAll(),d.preventDefault();l.$clickSelection=h.selection.getLineRange(x)}return l.setState("selectByLines"),l.captureMouse(d),d.preventDefault()}}})}v.GutterHandler=i;var r=(function(l){E(h,l);function h(o){var d=l.call(this,o.container)||this;d.id="gt"+ ++h.$uid,d.editor=o,d.visibleTooltipRow;var g=d.getElement();return g.setAttribute("role","tooltip"),g.setAttribute("id",d.id),g.style.pointerEvents="auto",d.idleTime=50,d.onDomMouseMove=d.onDomMouseMove.bind(d),d.onDomMouseOut=d.onDomMouseOut.bind(d),d.setClassName("ace_gutter-tooltip"),d}return h.prototype.onDomMouseMove=function(o){var d=new a(o,this.editor);this.onMouseMove(d,this.editor)},h.prototype.onDomMouseOut=function(o){var d=new a(o,this.editor);this.onMouseOut(d)},h.prototype.addToEditor=function(o){var d=o.renderer.$gutter;d.addEventListener("mousemove",this.onDomMouseMove),d.addEventListener("mouseout",this.onDomMouseOut),l.prototype.addToEditor.call(this,o)},h.prototype.removeFromEditor=function(o){var d=o.renderer.$gutter;d.removeEventListener("mousemove",this.onDomMouseMove),d.removeEventListener("mouseout",this.onDomMouseOut),l.prototype.removeFromEditor.call(this,o)},h.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),l.prototype.destroy.call(this)},Object.defineProperty(h,"annotationLabels",{get:function(){return{error:{singular:s("gutter-tooltip.aria-label.error.singular","error"),plural:s("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:s("gutter-tooltip.aria-label.security.singular","security finding"),plural:s("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:s("gutter-tooltip.aria-label.warning.singular","warning"),plural:s("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:s("gutter-tooltip.aria-label.info.singular","information message"),plural:s("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:s("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:s("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),h.prototype.showTooltip=function(o){var d,g=this.editor.renderer.$gutterLayer,x=g.$annotations[o],S;x?S={displayText:Array.from(x.displayText),type:Array.from(x.type)}:S={displayText:[],type:[]};var w=g.session.getFoldLine(o);if(w&&g.$showFoldedAnnotations){for(var b={error:[],security:[],warning:[],info:[],hint:[]},k={error:1,security:2,warning:3,info:4,hint:5},A,T=o+1;T<=w.end.row;T++)if(g.$annotations[T])for(var j=0;j<g.$annotations[T].text.length;j++){var F=g.$annotations[T].type[j];b[F].push(g.$annotations[T].text[j]),(!A||k[F]<k[A])&&(A=F)}if(["error","security","warning"].includes(A)){var $="".concat(h.annotationsToSummaryString(b)," in folded code.");S.displayText.push($),S.type.push(A+"_fold")}}if(S.displayText.length===0)return this.hide();for(var D={error:[],security:[],warning:[],info:[],hint:[]},M=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",T=0;T<S.displayText.length;T++){var L=f.createElement("span"),O=f.createElement("span");(d=O.classList).add.apply(d,["ace_".concat(S.type[T]),M]),O.setAttribute("aria-label","".concat(h.annotationLabels[S.type[T].replace("_fold","")].singular)),O.setAttribute("role","img"),O.appendChild(f.createTextNode(" ")),L.appendChild(O),L.appendChild(f.createTextNode(S.displayText[T])),L.appendChild(f.createElement("br")),D[S.type[T].replace("_fold","")].push(L)}var z=f.createElement("span");D.error.forEach(function(U){return z.appendChild(U)}),D.security.forEach(function(U){return z.appendChild(U)}),D.warning.forEach(function(U){return z.appendChild(U)}),D.info.forEach(function(U){return z.appendChild(U)}),D.hint.forEach(function(U){return z.appendChild(U)}),z.setAttribute("aria-live","polite");var B=this.$findLinkedAnnotationNode(o);B&&B.setAttribute("aria-describedby",this.id);var P=n.fromPoints({row:o,column:0},{row:o,column:0});this.showForRange(this.editor,P,z),this.visibleTooltipRow=o,this.editor._signal("showGutterTooltip",this)},h.prototype.$setPosition=function(o,d,g,x){var S=this.$findCellByRow(x.start.row);if(S){var w=S&&S.element,b=w&&w.querySelector(".ace_gutter_annotation");if(b){var k=b.getBoundingClientRect();if(k){var A={pageX:k.right,pageY:k.top};return l.prototype.$setPosition.call(this,o,A,!1,x)}}}},h.prototype.$shouldPlaceAbove=function(o,d,g){return g<o},h.prototype.$findLinkedAnnotationNode=function(o){var d=this.$findCellByRow(o);if(d){var g=d.element;if(g.childNodes.length>2)return g.childNodes[2]}},h.prototype.$findCellByRow=function(o){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(d){return d.row===o})},h.prototype.hide=function(o){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var d=this.$findLinkedAnnotationNode(this.visibleTooltipRow);d&&d.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),l.prototype.hide.call(this,o)}},h.annotationsToSummaryString=function(o){var d,g,x=[],S=["error","security","warning","info","hint"];try{for(var w=y(S),b=w.next();!b.done;b=w.next()){var k=b.value;if(o[k].length){var A=o[k].length===1?h.annotationLabels[k].singular:h.annotationLabels[k].plural;x.push("".concat(o[k].length," ").concat(A))}}}catch(T){d={error:T}}finally{try{b&&!b.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x.join(", ")},h.prototype.isOutsideOfText=function(o){var d=o.editor,g=d.renderer.$gutter.getBoundingClientRect();return!(o.clientX>=g.left&&o.clientX<=g.right&&o.clientY>=g.top&&o.clientY<=g.bottom)},h})(u);r.$uid=0,v.GutterTooltip=r}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/event"),f=m("../lib/useragent"),a=200,u=200,s=5;function n(r){var l=r.editor,h=E.createElement("div");h.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",h.textContent="";var o=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];o.forEach(function(Y){r[Y]=this[Y]},this),l.on("mousedown",this.onMouseDown.bind(r));var d=l.container,g,x,S,w,b,k,A=0,T,j,F,$,D;this.onDragStart=function(Y){if(this.cancelDrag||!d.draggable){var X=this;return setTimeout(function(){X.startSelect(),X.captureMouse(Y)},0),Y.preventDefault()}b=l.getSelectionRange();var q=Y.dataTransfer;q.effectAllowed=l.getReadOnly()?"copy":"copyMove",l.container.appendChild(h),q.setDragImage&&q.setDragImage(h,0,0),setTimeout(function(){l.container.removeChild(h)}),q.clearData(),q.setData("Text",l.session.getTextRange()),j=!0,this.setState("drag")},this.onDragEnd=function(Y){if(d.draggable=!1,j=!1,this.setState(null),!l.getReadOnly()){var X=Y.dataTransfer.dropEffect;!T&&X=="move"&&l.session.remove(l.getSelectionRange()),l.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Y){if(!(l.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,S=Y.clientY,g||z(),A++,Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragOver=function(Y){if(!(l.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,S=Y.clientY,g||(z(),A++),P!==null&&(P=null),Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragLeave=function(Y){if(A--,A<=0&&g)return B(),T=null,y.preventDefault(Y)},this.onDrop=function(Y){if(k){var X=Y.dataTransfer;if(j)switch(T){case"move":b.contains(k.row,k.column)?b={start:k,end:k}:b=l.moveText(b,k);break;case"copy":b=l.moveText(b,k,!0);break}else{var q=X.getData("Text");b={start:k,end:l.session.insert(k,q)},l.focus(),T=null}return B(),y.preventDefault(Y)}},y.addListener(d,"dragstart",this.onDragStart.bind(r),l),y.addListener(d,"dragend",this.onDragEnd.bind(r),l),y.addListener(d,"dragenter",this.onDragEnter.bind(r),l),y.addListener(d,"dragover",this.onDragOver.bind(r),l),y.addListener(d,"dragleave",this.onDragLeave.bind(r),l),y.addListener(d,"drop",this.onDrop.bind(r),l);function M(Y,X){var q=Date.now(),J=!X||Y.row!=X.row,V=!X||Y.column!=X.column;if(!$||J||V)l.moveCursorToPosition(Y),$=q,D={x,y:S};else{var Q=i(D.x,D.y,x,S);Q>s?$=null:q-$>=u&&(l.renderer.scrollCursorIntoView(),$=null)}}function L(Y,X){var q=Date.now(),J=l.renderer.layerConfig.lineHeight,V=l.renderer.layerConfig.characterWidth,Q=l.renderer.scroller.getBoundingClientRect(),te={x:{left:x-Q.left,right:Q.right-x},y:{top:S-Q.top,bottom:Q.bottom-S}},ie=Math.min(te.x.left,te.x.right),me=Math.min(te.y.top,te.y.bottom),pe={row:Y.row,column:Y.column};ie/V<=2&&(pe.column+=te.x.left<te.x.right?-3:2),me/J<=1&&(pe.row+=te.y.top<te.y.bottom?-1:1);var Se=Y.row!=pe.row,ke=Y.column!=pe.column,Ae=!X||Y.row!=X.row;Se||ke&&!Ae?F?q-F>=a&&l.renderer.scrollCursorIntoView(pe):F=q:F=null}function O(){var Y=k;k=l.renderer.screenToTextCoordinates(x,S),M(k,Y),L(k,Y)}function z(){b=l.selection.toOrientedRange(),g=l.session.addMarker(b,"ace_selection",l.getSelectionStyle()),l.clearSelection(),l.isFocused()&&l.renderer.$cursorLayer.setBlinking(!1),clearInterval(w),O(),w=setInterval(O,20),A=0,y.addListener(document,"mousemove",U)}function B(){clearInterval(w),l.session.removeMarker(g),g=null,l.selection.fromOrientedRange(b),l.isFocused()&&!j&&l.$resetCursorStyle(),b=null,k=null,A=0,F=null,$=null,y.removeListener(document,"mousemove",U)}var P=null;function U(){P==null&&(P=setTimeout(function(){P!=null&&g&&B()},20))}function W(Y){var X=Y.types;return!X||Array.prototype.some.call(X,function(q){return q=="text/plain"||q=="Text"})}function K(Y){var X=["copy","copymove","all","uninitialized"],q=["move","copymove","linkmove","all","uninitialized"],J=f.isMac?Y.altKey:Y.ctrlKey,V="uninitialized";try{V=Y.dataTransfer.effectAllowed.toLowerCase()}catch{}var Q="none";return J&&X.indexOf(V)>=0?Q="copy":q.indexOf(V)>=0?Q="move":X.indexOf(V)>=0&&(Q="copy"),Q}}(function(){this.dragWait=function(){var r=Date.now()-this.mousedownEvent.time;r>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var r=this.editor.container;r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(r){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var r=this.editor,l=r.container;l.draggable=!0,r.renderer.$cursorLayer.setBlinking(!1),r.setStyle("ace_dragging");var h=f.isWin?"default":"move";r.renderer.setCursorStyle(h),this.setState("dragReady")},this.onMouseDrag=function(r){var l=this.editor.container;if(f.isIE&&this.state=="dragReady"){var h=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);h>3&&l.dragDrop()}if(this.state==="dragWait"){var h=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);h>0&&(l.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(r){if(this.$dragEnabled){this.mousedownEvent=r;var l=this.editor,h=r.inSelection(),o=r.getButton(),d=r.domEvent.detail||1;if(d===1&&o===0&&h){if(r.editor.inMultiSelectMode&&(r.getAccelKey()||r.getShiftKey()))return;this.mousedownEvent.time=Date.now();var g=r.domEvent.target||r.domEvent.srcElement;if("unselectable"in g&&(g.unselectable="on"),l.getDragDelay()){if(f.isWebKit){this.cancelDrag=!0;var x=l.container;x.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(r,this.onMouseDrag.bind(this)),r.defaultPrevented=!0}}}}).call(n.prototype);function i(r,l,h,o){return Math.sqrt(Math.pow(h-r,2)+Math.pow(o-l,2))}v.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(m,v,R){var E=m("./mouse_event").MouseEvent,y=m("../lib/event"),f=m("../lib/dom");v.addTouchListeners=function(a,u){var s="scroll",n,i,r,l,h,o,d=0,g,x=0,S=0,w=0,b,k;function A(){var M=window.navigator&&window.navigator.clipboard,L=!1,O=function(){var P=u.getCopyText(),U=u.session.getUndoManager().hasUndo();k.replaceChild(f.buildDom(L?["span",!P&&z("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&z("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&z("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],M&&z("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],U&&z("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],z("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],z("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),k.firstChild)},z=function(P){return u.commands.canExecute(P,u)},B=function(P){var U=P.target.getAttribute("action");if(U=="more"||!L)return L=!L,O();U=="paste"?M.readText().then(function(W){u.execCommand(U,W)}):U&&((U=="cut"||U=="copy")&&(M?M.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(U)),k.firstChild.style.display="none",L=!1,U!="openCommandPalette"&&u.focus()};k=f.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){s="menu",P.stopPropagation(),P.preventDefault(),u.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),B(P)},onclick:B},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function T(){if(!u.getOption("enableMobileMenu")){k&&j();return}k||A();var M=u.selection.cursor,L=u.renderer.textToScreenCoordinates(M.row,M.column),O=u.renderer.textToScreenCoordinates(0,0).pageX,z=u.renderer.scrollLeft,B=u.container.getBoundingClientRect();k.style.top=L.pageY-B.top-3+"px",L.pageX-B.left<B.width-70?(k.style.left="",k.style.right="10px"):(k.style.right="",k.style.left=O+z-B.left+"px"),k.style.display="",k.firstChild.style.display="none",u.on("input",j)}function j(M){k&&(k.style.display="none"),u.off("input",j)}function F(){h=null,clearTimeout(h);var M=u.selection.getRange(),L=M.contains(g.row,g.column);(M.isEmpty()||!L)&&(u.selection.moveToPosition(g),u.selection.selectWord()),s="wait",T()}function $(){h=null,clearTimeout(h),u.selection.moveToPosition(g);var M=x>=2?u.selection.getLineRange(g.row):u.session.getBracketRange(g);M&&!M.isEmpty()?u.selection.setRange(M):u.selection.selectWord(),s="wait"}y.addListener(a,"contextmenu",function(M){if(b){var L=u.textInput.getElement();L.focus()}},u),y.addListener(a,"touchstart",function(M){var L=M.touches;if(h||L.length>1){clearTimeout(h),h=null,r=-1,s="zoom";return}b=u.$mouseHandler.isMousePressed=!0;var O=u.renderer.layerConfig.lineHeight,z=u.renderer.layerConfig.lineHeight,B=M.timeStamp;l=B;var P=L[0],U=P.clientX,W=P.clientY;Math.abs(n-U)+Math.abs(i-W)>O&&(r=-1),n=M.clientX=U,i=M.clientY=W,S=w=0;var K=new E(M,u);if(g=K.getDocumentPosition(),B-r<500&&L.length==1&&!d)x++,M.preventDefault(),M.button=0,$();else{x=0;var Y=u.selection.cursor,X=u.selection.isEmpty()?Y:u.selection.anchor,q=u.renderer.$cursorLayer.getPixelPosition(Y,!0),J=u.renderer.$cursorLayer.getPixelPosition(X,!0),V=u.renderer.scroller.getBoundingClientRect(),Q=u.renderer.layerConfig.offset,te=u.renderer.scrollLeft,ie=function(Se,ke){return Se=Se/z,ke=ke/O-.75,Se*Se+ke*ke};if(M.clientX<V.left){s="zoom";return}var me=ie(M.clientX-V.left-q.left+te,M.clientY-V.top-q.top+Q),pe=ie(M.clientX-V.left-J.left+te,M.clientY-V.top-J.top+Q);me<3.5&&pe<3.5&&(s=me>pe?"cursor":"anchor"),pe<3.5?s="anchor":me<3.5?s="cursor":s="scroll",h=setTimeout(F,450)}r=B},u),y.addListener(a,"touchend",function(M){b=u.$mouseHandler.isMousePressed=!1,o&&clearInterval(o),s=="zoom"?(s="",d=0):h?(u.selection.moveToPosition(g),d=0,T()):s=="scroll"?(D(),j()):T(),clearTimeout(h),h=null},u),y.addListener(a,"touchmove",function(M){h&&(clearTimeout(h),h=null);var L=M.touches;if(!(L.length>1||s=="zoom")){var O=L[0],z=n-O.clientX,B=i-O.clientY;if(s=="wait")if(z*z+B*B>4)s="cursor";else return M.preventDefault();n=O.clientX,i=O.clientY,M.clientX=O.clientX,M.clientY=O.clientY;var P=M.timeStamp,U=P-l;if(l=P,s=="scroll"){var W=new E(M,u);W.speed=1,W.wheelX=z,W.wheelY=B,10*Math.abs(z)<Math.abs(B)&&(z=0),10*Math.abs(B)<Math.abs(z)&&(B=0),U!=0&&(S=z/U,w=B/U),u._emit("mousewheel",W),W.propagationStopped||(S=w=0)}else{var K=new E(M,u),Y=K.getDocumentPosition();s=="cursor"?u.selection.moveCursorToPosition(Y):s=="anchor"&&u.selection.setSelectionAnchor(Y.row,Y.column),u.renderer.scrollCursorIntoView(Y),M.preventDefault()}}},u);function D(){d+=60,o=setInterval(function(){d--<=0&&(clearInterval(o),o=null),Math.abs(S)<.01&&(S=0),Math.abs(w)<.01&&(w=0),d<20&&(S=.9*S),d<20&&(w=.9*w);var M=u.session.getScrollTop();u.renderer.scrollBy(10*S,10*w),M==u.session.getScrollTop()&&(d=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent"),f=m("./default_handlers").DefaultHandlers,a=m("./default_gutter_handler").GutterHandler,u=m("./mouse_event").MouseEvent,s=m("./dragdrop_handler").DragdropHandler,n=m("./touch_handler").addTouchListeners,i=m("../config"),r=(function(){function l(h){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var o=this;this.editor=h,new f(this),new a(this),new s(this);var d=function(S){var w=!document.hasFocus||!document.hasFocus()||!h.isFocused()&&document.activeElement==(h.textInput&&h.textInput.getElement());w&&window.focus(),h.focus(),setTimeout(function(){h.isFocused()||h.focus()})},g=h.renderer.getMouseEventTarget();E.addListener(g,"click",this.onMouseEvent.bind(this,"click"),h),E.addListener(g,"mousemove",this.onMouseMove.bind(this,"mousemove"),h),E.addMultiMouseDownListener([g,h.renderer.scrollBarV&&h.renderer.scrollBarV.inner,h.renderer.scrollBarH&&h.renderer.scrollBarH.inner,h.textInput&&h.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",h),E.addMouseWheelListener(h.container,this.onMouseWheel.bind(this,"mousewheel"),h),n(h.container,h);var x=h.renderer.$gutter;E.addListener(x,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),h),E.addListener(x,"click",this.onMouseEvent.bind(this,"gutterclick"),h),E.addListener(x,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),h),E.addListener(x,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),h),E.addListener(g,"mousedown",d,h),E.addListener(x,"mousedown",d,h),y.isIE&&h.renderer.scrollBarV&&(E.addListener(h.renderer.scrollBarV.element,"mousedown",d,h),E.addListener(h.renderer.scrollBarH.element,"mousedown",d,h)),h.on("mousemove",function(S){if(!(o.state||o.$dragDelay||!o.$dragEnabled)){var w=h.renderer.screenToTextCoordinates(S.x,S.y),b=h.session.selection.getRange(),k=h.renderer;!b.isEmpty()&&b.insideStart(w.row,w.column)?k.setCursorStyle("default"):k.setCursorStyle("")}},h)}return l.prototype.onMouseEvent=function(h,o){this.editor.session&&this.editor._emit(h,new u(o,this.editor))},l.prototype.onMouseMove=function(h,o){var d=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!d||!d.length||this.editor._emit(h,new u(o,this.editor))},l.prototype.onMouseWheel=function(h,o){var d=new u(o,this.editor);d.speed=this.$scrollSpeed*2,d.wheelX=o.wheelX,d.wheelY=o.wheelY,this.editor._emit(h,d)},l.prototype.setState=function(h){this.state=h},l.prototype.captureMouse=function(h,o){this.x=h.x,this.y=h.y,this.isMousePressed=!0;var d=this.editor,g=this.editor.renderer;g.$isMousePressed=!0;var x=this,S=!0,w=function(j){if(j){if(y.isWebKit&&!j.which&&x.releaseMouse)return x.releaseMouse();x.x=j.clientX,x.y=j.clientY,o&&o(j),x.mouseEvent=new u(j,x.editor),x.$mouseMoved=!0}},b=function(j){d.off("beforeEndOperation",T),S=!1,d.session&&k(),x[x.state+"End"]&&x[x.state+"End"](j),x.state="",x.isMousePressed=g.$isMousePressed=!1,g.$keepTextAreaAtCursor&&g.$moveTextAreaToCursor(),x.$onCaptureMouseMove=x.releaseMouse=null,j&&x.onMouseEvent("mouseup",j),d.endOperation()},k=function(){x[x.state]&&x[x.state](),x.$mouseMoved=!1},A=function(){S&&(k(),E.nextFrame(A))};if(y.isOldIE&&h.domEvent.type=="dblclick")return setTimeout(function(){b(h)});var T=function(j){x.releaseMouse&&d.curOp.command.name&&d.curOp.selectionChanged&&(x[x.state+"End"]&&x[x.state+"End"](),x.state="",x.releaseMouse())};d.on("beforeEndOperation",T),d.startOperation({command:{name:"mouse"}}),x.$onCaptureMouseMove=w,x.releaseMouse=E.capture(this.editor.container,w,b),A()},l.prototype.cancelContextMenu=function(){var h=(function(o){o&&o.domEvent&&o.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",h),o&&o.domEvent&&E.stopEvent(o.domEvent))}).bind(this);setTimeout(h,10),this.editor.on("nativecontextmenu",h)},l.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},l})();r.prototype.releaseMouse=null,i.defineOptions(r.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:y.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),v.MouseHandler=r}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a){a.on("click",function(u){var s=u.getDocumentPosition(),n=a.session,i=n.getFoldAt(s.row,s.column,1);i&&(u.getAccelKey()?n.removeFold(i):n.expandFold(i),u.stop());var r=u.domEvent&&u.domEvent.target;r&&E.hasCssClass(r,"ace_inline_button")&&E.hasCssClass(r,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(u){var s=a.renderer.$gutterLayer.getRegion(u);if(s=="foldWidgets"){var n=u.getDocumentPosition().row,i=a.session;i.foldWidgets&&i.foldWidgets[n]&&a.session.onFoldWidgetClick(n,u),a.isFocused()||a.focus(),u.stop()}}),a.on("gutterdblclick",function(u){var s=a.renderer.$gutterLayer.getRegion(u);if(s=="foldWidgets"){var n=u.getDocumentPosition().row,i=a.session,r=i.getParentFoldRangeData(n,!0),l=r.range||r.firstRange;if(l){n=l.start.row;var h=i.getFoldAt(n,i.getLine(n).length,1);h?i.removeFold(h):(i.addFold("...",l),a.renderer.scrollCursorIntoView({row:l.start.row,column:0}))}u.stop()}})}return f})();v.FoldHandler=y}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(m,v,R){var E=m("../lib/keys"),y=m("../lib/event"),f=(function(){function a(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return a.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},a.prototype.setKeyboardHandler=function(u){var s=this.$handlers;if(s[s.length-1]!=u){for(;s[s.length-1]&&s[s.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(s[s.length-1]);this.addKeyboardHandler(u,1)}},a.prototype.addKeyboardHandler=function(u,s){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var n=this.$handlers.indexOf(u);n!=-1&&this.$handlers.splice(n,1),s==null?this.$handlers.push(u):this.$handlers.splice(s,0,u),n==-1&&u.attach&&u.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(u){var s=this.$handlers.indexOf(u);return s==-1?!1:(this.$handlers.splice(s,1),u.detach&&u.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var u=this.$data,s=u.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(s,u)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(u,s,n,i){for(var r,l=!1,h=this.$editor.commands,o=this.$handlers.length;o--&&(r=this.$handlers[o].handleKeyboard(this.$data,u,s,n,i),!(!(!r||!r.command)&&(r.command=="null"?l=!0:l=h.exec(r.command,this.$editor,r.args,i),l&&i&&u!=-1&&r.passEvent!=!0&&r.command.passEvent!=!0&&y.stopEvent(i),l))););return!l&&u==-1&&(r={command:"insertstring"},l=h.exec("insertstring",this.$editor,s)),l&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),l},a.prototype.onCommandKey=function(u,s,n){var i=E.keyCodeToString(n);return this.$callKeyboardHandlers(s,i,n,u)},a.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},a})();v.KeyBinding=f}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(m,v,R){var E=0,y=0,f=!1,a=!1,u=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,r=1,l=0,h=1,o=2,d=3,g=4,x=5,S=6,w=7,b=8,k=9,A=10,T=11,j=12,F=13,$=14,D=15,M=16,L=17,O=18,z=[O,O,O,O,O,O,O,O,O,S,x,S,b,x,O,O,O,O,O,O,O,O,O,O,O,O,O,O,x,x,x,S,b,g,g,T,T,T,g,g,g,g,g,A,k,A,k,k,o,o,o,o,o,o,o,o,o,o,k,g,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,O,O,O,O,O,O,x,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,k,g,T,T,T,T,g,g,g,g,l,g,g,O,g,g,T,T,o,o,g,l,g,g,g,o,l,g,g,g,g,g],B=[b,b,b,b,b,b,b,b,b,b,b,O,O,O,l,h,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,x,F,$,D,M,L,k,T,T,T,T,T,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b];function P(Y,X,q,J){var V=E?n:s,Q=null,te=null,ie=null,me=0,pe=null,Se=null,ke=-1,Ae=null,Ue=null,we=[];if(!J)for(Ae=0,J=[];Ae<q;Ae++)J[Ae]=K(Y[Ae]);for(y=E,f=!1,a=!1,u=!1,Ue=0;Ue<q;Ue++){if(Q=me,we[Ue]=te=W(Y,J,we,Ue),me=V[Q][te],pe=me&240,me&=15,X[Ue]=ie=V[me][5],pe>0)if(pe==16){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=1;ke=-1}else ke=-1;if(Se=V[me][6],Se)ke==-1&&(ke=Ue);else if(ke>-1){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=ie;ke=-1}J[Ue]==x&&(X[Ue]=0),y|=ie}if(u){for(Ae=0;Ae<q;Ae++)if(J[Ae]==S){X[Ae]=E;for(var Ce=Ae-1;Ce>=0&&J[Ce]==b;Ce--)X[Ce]=E}}}function U(Y,X,q){if(!(y<Y)){if(Y==1&&E==r&&!a){q.reverse();return}for(var J=q.length,V=0,Q,te,ie,me;V<J;){if(X[V]>=Y){for(Q=V+1;Q<J&&X[Q]>=Y;)Q++;for(te=V,ie=Q-1;te<ie;te++,ie--)me=q[te],q[te]=q[ie],q[ie]=me;V=Q}V++}}}function W(Y,X,q,J){var V=X[J],Q,te,ie,me;switch(V){case l:case h:f=!1;case g:case d:return V;case o:return f?d:o;case w:return f=!0,h;case b:return g;case k:return J<1||J+1>=X.length||(Q=q[J-1])!=o&&Q!=d||(te=X[J+1])!=o&&te!=d?g:(f&&(te=d),te==Q?te:g);case A:return Q=J>0?q[J-1]:x,Q==o&&J+1<X.length&&X[J+1]==o?o:g;case T:if(J>0&&q[J-1]==o)return o;if(f)return g;for(me=J+1,ie=X.length;me<ie&&X[me]==T;)me++;return me<ie&&X[me]==o?o:g;case j:for(ie=X.length,me=J+1;me<ie&&X[me]==j;)me++;if(me<ie){var pe=Y[J],Se=pe>=1425&&pe<=2303||pe==64286;if(Q=X[me],Se&&(Q==h||Q==w))return h}return J<1||(Q=X[J-1])==x?g:q[J-1];case x:return f=!1,a=!0,E;case S:return u=!0,g;case F:case $:case M:case L:case D:f=!1;case O:return g}}function K(Y){var X=Y.charCodeAt(0),q=X>>8;return q==0?X>191?l:z[X]:q==5?/[\u0591-\u05f4]/.test(Y)?h:l:q==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Y)?j:/[\u0660-\u0669\u066b-\u066c]/.test(Y)?d:X==1642?T:/[\u06f0-\u06f9]/.test(Y)?o:w:q==32&&X<=8287?B[X&255]:q==254&&X>=65136?w:g}v.L=l,v.R=h,v.EN=o,v.ON_R=3,v.AN=4,v.R_H=5,v.B=6,v.RLE=7,v.DOT="",v.doBidiReorder=function(Y,X,q){if(Y.length<2)return{};var J=Y.split(""),V=new Array(J.length),Q=new Array(J.length),te=[];E=q?r:i,P(J,te,J.length,X);for(var ie=0;ie<V.length;V[ie]=ie,ie++);U(2,te,V),U(1,te,V);for(var ie=0;ie<V.length-1;ie++)X[ie]===d?te[ie]=v.AN:te[ie]===h&&(X[ie]>w&&X[ie]<F||X[ie]===g||X[ie]===O)?te[ie]=v.ON_R:ie>0&&J[ie-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(J[ie])&&(te[ie-1]=te[ie]=v.R_H,ie++);J[J.length-1]===v.DOT&&(te[J.length-1]=v.B),J[0]===""&&(te[0]=v.RLE);for(var ie=0;ie<V.length;ie++)Q[ie]=te[V[ie]];return{logicalFromVisual:V,bidiLevels:Q}},v.hasBidiCharacters=function(Y,X){for(var q=!1,J=0;J<Y.length;J++)X[J]=K(Y.charAt(J)),!q&&(X[J]==h||X[J]==w||X[J]==d)&&(q=!0);return q},v.getVisualFromLogicalIdx=function(Y,X){for(var q=0;q<X.logicalFromVisual.length;q++)if(X.logicalFromVisual[q]==Y)return q;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(m,v,R){var E=m("./lib/bidiutil"),y=m("./lib/lang"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=(function(){function u(s){this.session=s,this.bidiMap={},this.currentRow=null,this.bidiUtil=E,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=f.test(s.getValue())}return u.prototype.isBidiRow=function(s,n,i){return this.seenBidi?(s!==this.currentRow&&(this.currentRow=s,this.updateRowLine(n,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(s){this.seenBidi?this.currentRow=null:s.action=="insert"&&f.test(s.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var s=0,n=this.session.$screenRowCache;if(n.length){var i=this.session.$getRowCacheIndex(n,this.currentRow);i>=0&&(s=this.session.$docRowCache[i])}return s},u.prototype.getSplitIndex=function(){var s=0,n=this.session.$screenRowCache;if(n.length)for(var i,r=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-s>0&&(i=this.session.$getRowCacheIndex(n,this.currentRow-s-1),i===r);)r=i,s++;else s=this.currentRow;return s},u.prototype.updateRowLine=function(s,n){s===void 0&&(s=this.getDocumentRow());var i=s===this.session.getLength()-1,r=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(s),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var l=this.session.$wrapData[s];l&&(n===void 0&&(n=this.getSplitIndex()),n>0&&l.length?(this.wrapIndent=l.indent,this.wrapOffset=this.wrapIndent*this.charWidths[E.L],this.line=n<l.length?this.line.substring(l[n-1],l[n]):this.line.substring(l[l.length-1])):this.line=this.line.substring(0,l[n]),n==l.length&&(this.line+=this.showInvisibles?r:E.DOT))}else this.line+=this.showInvisibles?r:E.DOT;var h=this.session,o=0,d;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(g,x){return g==="	"||h.isFullWidth(g.charCodeAt(0))?(d=g==="	"?h.getScreenTabSize(x+o):2,o+=d-1,y.stringRepeat(E.DOT,d)):g}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==E.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var s=[];E.hasBidiCharacters(this.line,s)||this.isRtlDir?this.bidiMap=E.doBidiReorder(this.line,s,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(s){if(this.characterWidth!==s.$characterSize.width){this.fontMetrics=s;var n=this.characterWidth=s.$characterSize.width,i=s.$measureCharWidth("");this.charWidths[E.L]=this.charWidths[E.EN]=this.charWidths[E.ON_R]=n,this.charWidths[E.R]=this.charWidths[E.AN]=i,this.charWidths[E.R_H]=i*.45,this.charWidths[E.B]=this.charWidths[E.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(s){this.showInvisibles=s,this.currentRow=null},u.prototype.setEolChar=function(s){this.EOL=s},u.prototype.setContentWidth=function(s){this.contentWidth=s},u.prototype.isRtlLine=function(s){return this.$isRtl?!0:s!=null?this.session.getLine(s).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(s,n){for(var i=s.getCursorPosition(),r=s.selection.getSelectionAnchor().row;r<=i.row;r++)!n&&s.session.getLine(r).charAt(0)===s.session.$bidiHandler.RLE?s.session.doc.removeInLine(r,0,1):n&&s.session.getLine(r).charAt(0)!==s.session.$bidiHandler.RLE&&s.session.doc.insert({column:0,row:r},s.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(s){s-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,i=s>n?this.session.getOverwrite()?s:s-1:n,r=E.getVisualFromLogicalIdx(i,this.bidiMap),l=this.bidiMap.bidiLevels,h=0;!this.session.getOverwrite()&&s<=n&&l[r]%2!==0&&r++;for(var o=0;o<r;o++)h+=this.charWidths[l[o]];return!this.session.getOverwrite()&&s>n&&l[r]%2===0&&(h+=this.charWidths[l[r]]),this.wrapIndent&&(h+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(h+=this.rtlLineOffset),h},u.prototype.getSelections=function(s,n){var i=this.bidiMap,r=i.bidiLevels,l,h=[],o=0,d=Math.min(s,n)-this.wrapIndent,g=Math.max(s,n)-this.wrapIndent,x=!1,S=!1,w=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var b,k=0;k<r.length;k++)b=i.logicalFromVisual[k],l=r[k],x=b>=d&&b<g,x&&!S?w=o:!x&&S&&h.push({left:w,width:o-w}),o+=this.charWidths[l],S=x;if(x&&k===r.length&&h.push({left:w,width:o-w}),this.isRtlDir)for(var A=0;A<h.length;A++)h[A].left+=this.rtlLineOffset;return h},u.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var n=0,i=Math.max(i,0),r=0,l=0,h=this.bidiMap.bidiLevels,o=this.charWidths[h[l]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>r+o/2;){if(r+=o,l===h.length-1){o=0;break}o=this.charWidths[h[++l]]}return l>0&&h[l-1]%2!==0&&h[l]%2===0?(i<r&&l--,n=this.bidiMap.logicalFromVisual[l]):l>0&&h[l-1]%2===0&&h[l]%2!==0?n=1+(i>r?this.bidiMap.logicalFromVisual[l]:this.bidiMap.logicalFromVisual[l-1]):this.isRtlDir&&l===h.length-1&&o===0&&h[l-1]%2===0||!this.isRtlDir&&l===0&&h[l]%2!==0?n=1+this.bidiMap.logicalFromVisual[l]:(l>0&&h[l-1]%2!==0&&o!==0&&l--,n=this.bidiMap.logicalFromVisual[l]),n===0&&this.isRtlDir&&n++,n+this.wrapIndent},u})();v.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/lang"),f=m("./lib/event_emitter").EventEmitter,a=m("./range").Range,u=(function(){function s(n){this.session=n,this.doc=n.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(r){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&r.old.column!=r.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return s.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},s.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},s.prototype.getCursor=function(){return this.lead.getPosition()},s.prototype.setAnchor=function(n,i){this.$isEmpty=!1,this.anchor.setPosition(n,i)},s.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},s.prototype.getSelectionLead=function(){return this.lead.getPosition()},s.prototype.isBackwards=function(){var n=this.anchor,i=this.lead;return n.row>i.row||n.row==i.row&&n.column>i.column},s.prototype.getRange=function(){var n=this.anchor,i=this.lead;return this.$isEmpty?a.fromPoints(i,i):this.isBackwards()?a.fromPoints(i,n):a.fromPoints(n,i)},s.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},s.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.setRange=function(n,i){var r=i?n.end:n.start,l=i?n.start:n.end;this.$setSelection(r.row,r.column,l.row,l.column)},s.prototype.$setSelection=function(n,i,r,l){if(!this.$silent){var h=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(n,i),this.cursor.setPosition(r,l),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||h!=this.$isEmpty||o)&&this._emit("changeSelection")}},s.prototype.$moveSelection=function(n){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),n.call(this)},s.prototype.selectTo=function(n,i){this.$moveSelection(function(){this.moveCursorTo(n,i)})},s.prototype.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})},s.prototype.moveTo=function(n,i){this.clearSelection(),this.moveCursorTo(n,i)},s.prototype.moveToPosition=function(n){this.clearSelection(),this.moveCursorToPosition(n)},s.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},s.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},s.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},s.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},s.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},s.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},s.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},s.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},s.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},s.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},s.prototype.getWordRange=function(n,i){if(typeof i>"u"){var r=n||this.lead;n=r.row,i=r.column}return this.session.getWordRange(n,i)},s.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},s.prototype.selectAWord=function(){var n=this.getCursor(),i=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(i)},s.prototype.getLineRange=function(n,i){var r=typeof n=="number"?n:this.lead.row,l,h=this.session.getFoldLine(r);return h?(r=h.start.row,l=h.end.row):l=r,i===!0?new a(r,0,l,this.session.getLine(l).length):new a(r,0,l+1,0)},s.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},s.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},s.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},s.prototype.wouldMoveIntoSoftTab=function(n,i,r){var l=n.column,h=n.column+i;return r<0&&(l=n.column-i,h=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(l,h).split(" ").length-1==i},s.prototype.moveCursorLeft=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(n.column===0)n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length);else{var r=this.session.getTabSize();this.wouldMoveIntoSoftTab(n,r,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-r):this.moveCursorBy(0,-1)}},s.prototype.moveCursorRight=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var r=this.session.getTabSize(),n=this.lead;this.wouldMoveIntoSoftTab(n,r,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,r):this.moveCursorBy(0,1)}},s.prototype.moveCursorLineStart=function(){var n=this.lead.row,i=this.lead.column,r=this.session.documentToScreenRow(n,i),l=this.session.screenToDocumentPosition(r,0),h=this.session.getDisplayLine(n,null,l.row,l.column),o=h.match(/^\s*/);o[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(l.column+=o[0].length),this.moveCursorToPosition(l)},s.prototype.moveCursorLineEnd=function(){var n=this.lead,i=this.session.getDocumentLastRowColumnPosition(n.row,n.column);if(this.lead.column==i.column){var r=this.session.getLine(i.row);if(i.column==r.length){var l=r.search(/\s+$/);l>0&&(i.column=l)}}this.moveCursorTo(i.row,i.column)},s.prototype.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,i=this.doc.getLine(n).length;this.moveCursorTo(n,i)},s.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},s.prototype.moveCursorLongWordRight=function(){var n=this.lead.row,i=this.lead.column,r=this.doc.getLine(n),l=r.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var h=this.session.getFoldAt(n,i,1);if(h){this.moveCursorTo(h.end.row,h.end.column);return}if(this.session.nonTokenRe.exec(l)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,l=r.substring(i)),i>=r.length){this.moveCursorTo(n,r.length),this.moveCursorRight(),n<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(l)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},s.prototype.moveCursorLongWordLeft=function(){var n=this.lead.row,i=this.lead.column,r;if(r=this.session.getFoldAt(n,i,-1)){this.moveCursorTo(r.start.row,r.start.column);return}var l=this.session.getFoldStringAt(n,i,-1);l==null&&(l=this.doc.getLine(n).substring(0,i));var h=y.stringReverse(l);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(h)&&(i-=this.session.nonTokenRe.lastIndex,h=h.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(n,0),this.moveCursorLeft(),n>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(h)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},s.prototype.$shortWordEndIndex=function(n){var i=0,r,l=/\s/,h=this.session.tokenRe;if(h.lastIndex=0,this.session.tokenRe.exec(n))i=this.session.tokenRe.lastIndex;else{for(;(r=n[i])&&l.test(r);)i++;if(i<1){for(h.lastIndex=0;(r=n[i])&&!h.test(r);)if(h.lastIndex=0,i++,l.test(r))if(i>2){i--;break}else{for(;(r=n[i])&&l.test(r);)i++;if(i>2)break}}}return h.lastIndex=0,i},s.prototype.moveCursorShortWordRight=function(){var n=this.lead.row,i=this.lead.column,r=this.doc.getLine(n),l=r.substring(i),h=this.session.getFoldAt(n,i,1);if(h)return this.moveCursorTo(h.end.row,h.end.column);if(i==r.length){var o=this.doc.getLength();do n++,l=this.doc.getLine(n);while(n<o&&/^\s*$/.test(l));/^\s+/.test(l)||(l=""),i=0}var d=this.$shortWordEndIndex(l);this.moveCursorTo(n,i+d)},s.prototype.moveCursorShortWordLeft=function(){var n=this.lead.row,i=this.lead.column,r;if(r=this.session.getFoldAt(n,i,-1))return this.moveCursorTo(r.start.row,r.start.column);var l=this.session.getLine(n).substring(0,i);if(i===0){do n--,l=this.doc.getLine(n);while(n>0&&/^\s*$/.test(l));i=l.length,/\s+$/.test(l)||(l="")}var h=y.stringReverse(l),o=this.$shortWordEndIndex(h);return this.moveCursorTo(n,i-o)},s.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},s.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},s.prototype.moveCursorBy=function(n,i){var r=this.session.documentToScreenPosition(this.lead.row,this.lead.column),l;if(i===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(l=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(l/this.session.$bidiHandler.charWidths[0])):l=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var h=this.session.lineWidgets[this.lead.row];n<0?n-=h.rowsAbove||0:n>0&&(n+=h.rowCount-(h.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+n,r.column,l);n!==0&&i===0&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+i,i===0)},s.prototype.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)},s.prototype.moveCursorTo=function(n,i,r){var l=this.session.getFoldAt(n,i,1);l&&(n=l.start.row,i=l.start.column),this.$keepDesiredColumnOnChange=!0;var h=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(h.charAt(i))&&h.charAt(i-1)&&(this.lead.row==n&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(n,i),this.$keepDesiredColumnOnChange=!1,r||(this.$desiredColumn=null)},s.prototype.moveCursorToScreen=function(n,i,r){var l=this.session.screenToDocumentPosition(n,i);this.moveCursorTo(l.row,l.column,r)},s.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},s.prototype.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start),this.$desiredColumn=n.desiredColumn||this.$desiredColumn},s.prototype.toOrientedRange=function(n){var i=this.getRange();return n?(n.start.column=i.start.column,n.start.row=i.start.row,n.end.column=i.end.column,n.end.row=i.end.row):n=i,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},s.prototype.getRangeOfMovements=function(n){var i=this.getCursor();try{n(this);var r=this.getCursor();return a.fromPoints(i,r)}catch{return a.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},s.prototype.toJSON=function(){if(this.rangeCount)var n=this.ranges.map(function(i){var r=i.clone();return r.isBackwards=i.cursor==i.start,r});else{var n=this.getRange();n.isBackwards=this.isBackwards()}return n},s.prototype.fromJSON=function(n){if(n.start==null)if(this.rangeList&&n.length>1){this.toSingleRange(n[0]);for(var i=n.length;i--;){var r=a.fromPoints(n[i].start,n[i].end);n[i].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}else n=n[0];this.rangeList&&this.toSingleRange(n),this.setSelectionRange(n,n.isBackwards)},s.prototype.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(n[i]))return!1;return!0},s})();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,E.implement(u.prototype,f),v.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(m,v,R){var E=m("./lib/report_error").reportError,y=2e3,f=(function(){function a(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var s in this.states){for(var n=this.states[s],i=[],r=0,l=this.matchMappings[s]={defaultToken:"text"},h="g",o=[],d=0;d<n.length;d++){var g=n[d];if(g.defaultToken&&(l.defaultToken=g.defaultToken),g.caseInsensitive&&h.indexOf("i")===-1&&(h+="i"),g.unicode&&h.indexOf("u")===-1&&(h+="u"),g.regex!=null){g.regex instanceof RegExp&&(g.regex=g.regex.toString().slice(1,-1));var x=g.regex,S=new RegExp("(?:("+x+")|(.))").exec("a").length-2;Array.isArray(g.token)?g.token.length==1||S==1?g.token=g.token[0]:S-1!=g.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:g,groupCount:S-1}),g.token=g.token[0]):(g.tokenArray=g.token,g.token=null,g.onMatch=this.$arrayTokens):typeof g.token=="function"&&!g.onMatch&&(S>1?g.onMatch=this.$applyToken:g.onMatch=g.token),S>1&&(/\\\d/.test(g.regex)?x=g.regex.replace(/\\([0-9]+)/g,function(w,b){return"\\"+(parseInt(b,10)+r+1)}):(S=1,x=this.removeCapturingGroups(g.regex)),!g.splitRegex&&typeof g.token!="string"&&o.push(g)),l[r]=d,r+=S,i.push(x),g.onMatch||(g.onMatch=null)}}i.length||(l[0]=0,i.push("$")),o.forEach(function(w){w.splitRegex=this.createSplitterRegexp(w.regex,h)},this),this.regExps[s]=new RegExp("("+i.join(")|(")+")|($)",h)}}return a.prototype.$setMaxTokenCount=function(u){y=u|0},a.prototype.$applyToken=function(u){var s=this.splitRegex.exec(u).slice(1),n=this.token.apply(this,s);if(typeof n=="string")return[{type:n,value:u}];for(var i=[],r=0,l=n.length;r<l;r++)s[r]&&(i[i.length]={type:n[r],value:s[r]});return i},a.prototype.$arrayTokens=function(u){if(!u)return[];var s=this.splitRegex.exec(u);if(!s)return"text";for(var n=[],i=this.tokenArray,r=0,l=i.length;r<l;r++)s[r+1]&&(n[n.length]={type:i[r],value:s[r+1]});return n},a.prototype.removeCapturingGroups=function(u){var s=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,i){return i?"(?:":n});return s},a.prototype.createSplitterRegexp=function(u,s){if(u.indexOf("(?=")!=-1){var n=0,i=!1,r={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(l,h,o,d,g,x){return i?i=g!="]":g?i=!0:d?(n==r.stack&&(r.end=x+1,r.stack=-1),n--):o&&(n++,o.length!=1&&(r.stack=n,r.start=x)),l}),r.end!=null&&/^\)*$/.test(u.substr(r.end))&&(u=u.substring(0,r.start)+u.substr(r.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(s||"").replace("g",""))},a.prototype.getLineTokens=function(u,s){if(s&&typeof s!="string"){var n=s.slice(0);s=n[0],s==="#tmp"&&(n.shift(),s=n.shift())}else var n=[];var i=s||"start",r=this.states[i];r||(i="start",r=this.states[i]);var l=this.matchMappings[i],h=this.regExps[i];h.lastIndex=0;for(var o,d=[],g=0,x=0,S={type:null,value:""};o=h.exec(u);){var w=l.defaultToken,b=null,k=o[0],A=h.lastIndex;if(A-k.length>g){var T=u.substring(g,A-k.length);S.type==w?S.value+=T:(S.type&&d.push(S),S={type:w,value:T})}for(var j=0;j<o.length-2;j++)if(o[j+1]!==void 0){b=r[l[j]],b.onMatch?w=b.onMatch(k,i,n,u):w=b.token,b.next&&(typeof b.next=="string"?i=b.next:i=b.next(i,n),r=this.states[i],r||(this.reportError("state doesn't exist",i),i="start",r=this.states[i]),l=this.matchMappings[i],g=A,h=this.regExps[i],h.lastIndex=A),b.consumeLineEnd&&(g=A);break}if(k){if(typeof w=="string")(!b||b.merge!==!1)&&S.type===w?S.value+=k:(S.type&&d.push(S),S={type:w,value:k});else if(w){S.type&&d.push(S),S={type:null,value:""};for(var j=0;j<w.length;j++)d.push(w[j])}}if(g==u.length)break;if(g=A,x++>y){for(x>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:s,line:u});g<u.length;)S.type&&d.push(S),S={value:u.substring(g,g+=500),type:"overflow"};i="start",n=[];break}}return S.type&&d.push(S),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:d,state:n.length?n:i}},a})();f.prototype.reportError=E,v.Tokenizer=f}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(m,v,R){var E=m("../lib/deep_copy").deepCopy,y;y=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,s){if(!s){for(var n in u)this.$rules[n]=u[n];return}for(var n in u){for(var i=u[n],r=0;r<i.length;r++){var l=i[r];(l.next||l.onMatch)&&(typeof l.next=="string"&&l.next.indexOf(s)!==0&&(l.next=s+l.next),l.nextState&&l.nextState.indexOf(s)!==0&&(l.nextState=s+l.nextState))}this.$rules[s+n]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(u,s,n,i,r){var l=typeof u=="function"?new u().getRules():u;if(i)for(var h=0;h<i.length;h++)i[h]=s+i[h];else{i=[];for(var o in l)i.push(s+o)}if(this.addRules(l,s),n)for(var d=Array.prototype[r?"push":"unshift"],h=0;h<i.length;h++)d.apply(this.$rules[i[h]],E(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(s)},this.getEmbeds=function(){return this.$embeds};var f=function(u,s){return(u!="start"||s.length)&&s.unshift(this.nextState,u),this.nextState},a=function(u,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var u=0,s=this.$rules;function n(i){var r=s[i];r.processed=!0;for(var l=0;l<r.length;l++){var h=r[l],o=null;Array.isArray(h)&&(o=h,h={}),!h.regex&&h.start&&(h.regex=h.start,h.next||(h.next=[]),h.next.push({defaultToken:h.token},{token:h.token+".end",regex:h.end||h.start,next:"pop"}),h.token=h.token+".start",h.push=!0);var d=h.next||h.push;if(d&&Array.isArray(d)){var g=h.stateName;g||(g=h.token,typeof g!="string"&&(g=g[0]||""),s[g]&&(g+=u++)),s[g]=d,h.next=g,n(g)}else d=="pop"&&(h.next=a);if(h.push&&(h.nextState=h.next||h.push,h.next=f,delete h.push),h.rules)for(var x in h.rules)s[x]?s[x].push&&s[x].push.apply(s[x],h.rules[x]):s[x]=h.rules[x];var S=typeof h=="string"?h:h.include;if(S&&(S==="$self"&&(S="start"),Array.isArray(S)?o=S.map(function(b){return s[b]}):o=s[S]),o){var w=[l,1].concat(o);h.noEscape&&(w=w.filter(function(b){return!b.next})),r.splice.apply(r,w),l--}h.keywordMap&&(h.token=this.createKeywordMapper(h.keywordMap,h.defaultToken||"text",h.caseInsensitive),delete h.defaultToken)}}Object.keys(s).forEach(n,this)},this.createKeywordMapper=function(u,s,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(l){for(var h=u[l],o=h.split(i||"|"),d=o.length;d--;){var g=o[d];this.$keywordList.push(g),n&&(g=g.toLowerCase()),r[g]=l}},this),u=null,n?function(l){return r[l.toLowerCase()]||s}:function(l){return r[l]||s}},this.getKeywords=function(){return this.$keywords}}).call(y.prototype),v.TextHighlightRules=y}),ace.define("ace/mode/behaviour",["require","exports","module"],function(m,v,R){var E;E=function(){this.$behaviours={}},(function(){this.add=function(y,f,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[y]:this.$behaviours[y]={}}this.$behaviours[y][f]=a},this.addBehaviours=function(y){for(var f in y)for(var a in y[f])this.add(f,a,y[f][a])},this.remove=function(y){this.$behaviours&&this.$behaviours[y]&&delete this.$behaviours[y]},this.inherit=function(y,f){if(typeof y=="function")var a=new y().getBehaviours(f);else var a=y.getBehaviours(f);this.addBehaviours(a)},this.getBehaviours=function(y){if(y){for(var f={},a=0;a<y.length;a++)this.$behaviours[y[a]]&&(f[y[a]]=this.$behaviours[y[a]]);return f}else return this.$behaviours}}).call(E.prototype),v.Behaviour=E}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(m,v,R){var E=m("./range").Range,y=(function(){function f(a,u,s){this.$session=a,this.$row=u,this.$rowTokens=a.getTokens(u);var n=a.getTokenAt(u,s);this.$tokenIndex=n?n.index:-1}return f.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},f.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentTokenRow=function(){return this.$row},f.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,u=this.$tokenIndex,s=a[u].start;if(s!==void 0)return s;for(s=0;u>0;)u-=1,s+=a[u].value.length;return s},f.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},f.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new E(this.$row,u,this.$row,u+a.value.length)},f})();v.TokenIterator=y}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator,a=m("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],n,i={},r={'"':'"',"'":"'"},l=function(d){var g=-1;if(d.multiSelect&&(g=d.selection.index,i.rangeCount!=d.multiSelect.rangeCount&&(i={rangeCount:d.multiSelect.rangeCount})),i[g])return n=i[g];n=i[g]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(d,g,x,S){var w=d.end.row-d.start.row;return{text:x+g+S,selection:[0,d.start.column+1,w,d.end.column+(w?0:1)]}},o;o=function(d){d=d||{},this.add("braces","insertion",function(g,x,S,w,b){var k=S.getCursorPosition(),A=w.doc.getLine(k.row);if(b=="{"){l(S);var T=S.getSelectionRange(),j=w.doc.getTextRange(T),F=w.getTokenAt(k.row,k.column);if(j!==""&&j!=="{"&&S.getWrapBehavioursEnabled())return h(T,j,"{","}");if(F&&/(?:string)\.quasi|\.xml/.test(F.type)){var $=[/tag\-(?:open|name)/,/attribute\-name/];return $.some(function(P){return P.test(F.type)})||/(string)\.quasi/.test(F.type)&&F.value[k.column-F.start-1]!=="$"?void 0:(o.recordAutoInsert(S,w,"}"),{text:"{}",selection:[1,1]})}else if(o.isSaneInsertion(S,w))return/[\]\}\)]/.test(A[k.column])||S.inMultiSelectMode||d.braces?(o.recordAutoInsert(S,w,"}"),{text:"{}",selection:[1,1]}):(o.recordMaybeInsert(S,w,"{"),{text:"{",selection:[1,1]})}else if(b=="}"){l(S);var D=A.substring(k.column,k.column+1);if(D=="}"){var M=w.$findOpeningBracket("}",{column:k.column+1,row:k.row});if(M!==null&&o.isAutoInsertedClosing(k,A,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(b==`
`||b==`\r
`){l(S);var L="";o.isMaybeInsertedClosing(k,A)&&(L=a.stringRepeat("}",n.maybeInsertedBrackets),o.clearMaybeInsertedClosing());var D=A.substring(k.column,k.column+1);if(D==="}"){var O=w.findMatchingBracket({row:k.row,column:k.column+1},"}");if(!O)return null;var z=this.$getIndent(w.getLine(O.row))}else if(L)var z=this.$getIndent(A);else{o.clearMaybeInsertedClosing();return}var B=z+w.getTabString();return{text:`
`+B+`
`+z+L,selection:[1,B.length,1,B.length]}}else o.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="{"){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.end.column,b.end.column+1);if(T=="}")return b.end.column++,b;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(g,x,S,w,b){if(b=="("){l(S);var k=S.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&S.getWrapBehavioursEnabled())return h(k,A,"(",")");if(o.isSaneInsertion(S,w))return o.recordAutoInsert(S,w,")"),{text:"()",selection:[1,1]}}else if(b==")"){l(S);var T=S.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F==")"){var $=w.$findOpeningBracket(")",{column:T.column+1,row:T.row});if($!==null&&o.isAutoInsertedClosing(T,j,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="("){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.start.column+1,b.start.column+2);if(T==")")return b.end.column++,b}}),this.add("brackets","insertion",function(g,x,S,w,b){if(b=="["){l(S);var k=S.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&S.getWrapBehavioursEnabled())return h(k,A,"[","]");if(o.isSaneInsertion(S,w))return o.recordAutoInsert(S,w,"]"),{text:"[]",selection:[1,1]}}else if(b=="]"){l(S);var T=S.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F=="]"){var $=w.$findOpeningBracket("]",{column:T.column+1,row:T.row});if($!==null&&o.isAutoInsertedClosing(T,j,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="["){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.start.column+1,b.start.column+2);if(T=="]")return b.end.column++,b}}),this.add("string_dquotes","insertion",function(g,x,S,w,b){var k=w.$mode.$quotes||r;if(b.length==1&&k[b]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(b)!=-1)return;l(S);var A=b,T=S.getSelectionRange(),j=w.doc.getTextRange(T);if(j!==""&&(j.length!=1||!k[j])&&S.getWrapBehavioursEnabled())return h(T,j,A,A);if(!j){var F=S.getCursorPosition(),$=w.doc.getLine(F.row),D=$.substring(F.column-1,F.column),M=$.substring(F.column,F.column+1),L=w.getTokenAt(F.row,F.column),O=w.getTokenAt(F.row,F.column+1);if(D=="\\"&&L&&/escape/.test(L.type))return null;var z=L&&/string|escape/.test(L.type),B=!O||/string|escape/.test(O.type),P;if(M==A)P=z!==B,P&&/string\.end/.test(O.type)&&(P=!1);else{if(z&&!B||z&&B)return null;var U=w.$mode.tokenRe;U.lastIndex=0;var W=U.test(D);U.lastIndex=0;var K=U.test(M),Y=w.$mode.$pairQuotesAfter,X=Y&&Y[A]&&Y[A].test(D);if(!X&&W||K||M&&!/[\s;,.})\]\\]/.test(M))return null;var q=$[F.column-2];if(D==A&&(q==A||U.test(q)))return null;P=!0}return{text:P?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(g,x,S,w,b){var k=w.$mode.$quotes||r,A=w.doc.getTextRange(b);if(!b.isMultiLine()&&k.hasOwnProperty(A)){l(S);var T=w.doc.getLine(b.start.row),j=T.substring(b.start.column+1,b.start.column+2);if(j==A)return b.end.column++,b}}),d.closeDocComment!==!1&&this.add("doc comment end","insertion",function(g,x,S,w,b){if(g==="doc-start"&&(b===`
`||b===`\r
`)&&S.selection.isEmpty()){var k=S.getCursorPosition();if(k.column===0)return;for(var A=w.doc.getLine(k.row),T=w.doc.getLine(k.row+1),j=w.getTokens(k.row),F=0,$=0;$<j.length;$++){F+=j[$].value.length;var D=j[$];if(F>=k.column){if(F===k.column){if(!/\.doc/.test(D.type))return;if(/\*\//.test(D.value)){var M=j[$+1];if(!M||!/\.doc/.test(M.type))return}}var L=k.column-(F-D.value.length),O=D.value.indexOf("*/"),z=D.value.indexOf("/**",O>-1?O+2:0);if(z!==-1&&L>z&&L<z+3||O!==-1&&z!==-1&&L>=O&&L<=z||!/\.doc/.test(D.type))return;break}}var B=this.$getIndent(A);if(/\s*\*/.test(T))return/^\s*\*/.test(A)?{text:b+B+"* ",selection:[1,2+B.length,1,2+B.length]}:{text:b+B+" * ",selection:[1,3+B.length,1,3+B.length]};if(/\/\*\*/.test(A.substring(0,k.column)))return{text:b+B+" * "+b+" "+B+"*/",selection:[1,4+B.length,1,4+B.length]}}})},o.isSaneInsertion=function(d,g){var x=d.getCursorPosition(),S=new f(g,x.row,x.column);if(!this.$matchTokenType(S.getCurrentToken()||"text",u)){if(/[)}\]]/.test(d.session.getLine(x.row)[x.column]))return!0;var w=new f(g,x.row,x.column+1);if(!this.$matchTokenType(w.getCurrentToken()||"text",u))return!1}return S.stepForward(),S.getCurrentTokenRow()!==x.row||this.$matchTokenType(S.getCurrentToken()||"text",s)},o.$matchTokenType=function(d,g){return g.indexOf(d.type||d)>-1},o.recordAutoInsert=function(d,g,x){var S=d.getCursorPosition(),w=g.doc.getLine(S.row);this.isAutoInsertedClosing(S,w,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=S.row,n.autoInsertedLineEnd=x+w.substr(S.column),n.autoInsertedBrackets++},o.recordMaybeInsert=function(d,g,x){var S=d.getCursorPosition(),w=g.doc.getLine(S.row);this.isMaybeInsertedClosing(S,w)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=S.row,n.maybeInsertedLineStart=w.substr(0,S.column)+x,n.maybeInsertedLineEnd=w.substr(S.column),n.maybeInsertedBrackets++},o.isAutoInsertedClosing=function(d,g,x){return n.autoInsertedBrackets>0&&d.row===n.autoInsertedRow&&x===n.autoInsertedLineEnd[0]&&g.substr(d.column)===n.autoInsertedLineEnd},o.isMaybeInsertedClosing=function(d,g){return n.maybeInsertedBrackets>0&&d.row===n.maybeInsertedRow&&g.substr(d.column)===n.maybeInsertedLineEnd&&g.substr(0,d.column)==n.maybeInsertedLineStart},o.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},o.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},E.inherits(o,y),v.CstyleBehaviour=o}),ace.define("ace/unicode",["require","exports","module"],function(m,v,R){for(var E=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],y=0,f=[],a=0;a<E.length;a+=2)f.push(y+=E[a]),E[a+1]&&f.push(45,y+=E[a+1]);v.wordChars=String.fromCharCode.apply(null,f)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(m,v,R){var E=m("../config"),y=m("../tokenizer").Tokenizer,f=m("./text_highlight_rules").TextHighlightRules,a=m("./behaviour/cstyle").CstyleBehaviour,u=m("../unicode"),s=m("../lib/lang"),n=m("../token_iterator").TokenIterator,i=m("../range").Range,r;r=function(){this.HighlightRules=f},(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new y(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(l,h,o,d){var g=h.doc,x=!0,S=!0,w=1/0,b=h.getTabSize(),k=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var j=this.lineCommentStart.map(s.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var j=s.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;j=new RegExp("^(\\s*)(?:"+j+") ?"),k=h.getUseSoftTabs();var D=function(K,Y){var X=K.match(j);if(X){var q=X[1].length,J=X[0].length;!O(K,q,J)&&X[0][J-1]==" "&&J--,g.removeInLine(Y,q,J)}},L=A+" ",$=function(K,Y){(!x||/\S/.test(K))&&(O(K,w,w)?g.insertInLine({row:Y,column:w},L):g.insertInLine({row:Y,column:w},A))},M=function(K,Y){return j.test(K)},O=function(K,Y,X){for(var q=0;Y--&&K.charAt(Y)==" ";)q++;if(q%b!=0)return!1;for(var q=0;K.charAt(X++)==" ";)q++;return b>2?q%b!=b-1:q%b==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,T=this.blockComment.end,j=new RegExp("^(\\s*)(?:"+s.escapeRegExp(A)+")"),F=new RegExp("(?:"+s.escapeRegExp(T)+")\\s*$"),$=function(P,U){M(P,U)||(!x||/\S/.test(P))&&(g.insertInLine({row:U,column:P.length},T),g.insertInLine({row:U,column:w},A))},D=function(P,U){var W;(W=P.match(F))&&g.removeInLine(U,P.length-W[0].length,P.length),(W=P.match(j))&&g.removeInLine(U,W[1].length,W[0].length)},M=function(P,U){if(j.test(P))return!0;for(var W=h.getTokens(U),K=0;K<W.length;K++)if(W[K].type==="comment")return!0}}function z(P){for(var U=o;U<=d;U++)P(g.getLine(U),U)}var B=1/0;z(function(P,U){var W=P.search(/\S/);W!==-1?(W<w&&(w=W),S&&!M(P,U)&&(S=!1)):B>P.length&&(B=P.length)}),w==1/0&&(w=B,x=!1,S=!1),k&&w%b!=0&&(w=Math.floor(w/b)*b),z(S?D:$)},this.toggleBlockComment=function(l,h,o,d){var g=this.blockComment;if(g){!g.start&&g[0]&&(g=g[0]);var x=new n(h,d.row,d.column),S=x.getCurrentToken();h.selection;var w=h.selection.toOrientedRange(),b,k;if(S&&/comment/.test(S.type)){for(var A,T;S&&/comment/.test(S.type);){var j=S.value.indexOf(g.start);if(j!=-1){var F=x.getCurrentTokenRow(),$=x.getCurrentTokenColumn()+j;A=new i(F,$,F,$+g.start.length);break}S=x.stepBackward()}for(var x=new n(h,d.row,d.column),S=x.getCurrentToken();S&&/comment/.test(S.type);){var j=S.value.indexOf(g.end);if(j!=-1){var F=x.getCurrentTokenRow(),$=x.getCurrentTokenColumn()+j;T=new i(F,$,F,$+g.end.length);break}S=x.stepForward()}T&&h.remove(T),A&&(h.remove(A),b=A.start.row,k=-g.start.length)}else k=g.start.length,b=o.start.row,h.insert(o.end,g.end),h.insert(o.start,g.start);w.start.row==b&&(w.start.column+=k),w.end.row==b&&(w.end.column+=k),h.selection.fromOrientedRange(w)}},this.getNextLineIndent=function(l,h,o){return this.$getIndent(h)},this.checkOutdent=function(l,h,o){return!1},this.autoOutdent=function(l,h,o){},this.$getIndent=function(l){return l.match(/^\s*/)[0]},this.createWorker=function(l){return null},this.createModeDelegates=function(l){this.$embeds=[],this.$modes={};for(var h in l)if(l[h]){var o=l[h],d=o.prototype.$id,g=E.$modes[d];g||(E.$modes[d]=g=new o),E.$modes[h]||(E.$modes[h]=g),this.$embeds.push(h),this.$modes[h]=g}for(var x=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],S=function(b){(function(k){var A=x[b],T=k[A];k[x[b]]=function(){return this.$delegator(A,arguments,T)}})(w)},w=this,h=0;h<x.length;h++)S(h)},this.$delegator=function(l,h,o){var d=h[0]||"start";if(typeof d!="string"){if(Array.isArray(d[2])){var g=d[2][d[2].length-1],x=this.$modes[g];if(x)return x[l].apply(x,[d[1]].concat([].slice.call(h,1)))}d=d[0]||"start"}for(var S=0;S<this.$embeds.length;S++)if(this.$modes[this.$embeds[S]]){var w=d.split(this.$embeds[S]);if(!w[0]&&w[1]){h[0]=w[1];var x=this.$modes[this.$embeds[S]];return x[l].apply(x,h)}}var b=o.apply(this,h);return o?b:void 0},this.transformAction=function(l,h,o,d,g){if(this.$behaviour){var x=this.$behaviour.getBehaviours();for(var S in x)if(x[S][h]){var w=x[S][h].apply(this,arguments);if(w)return w}}},this.getKeywords=function(l){if(!this.completionKeywords){var h=this.$tokenizer.rules,o=[];for(var d in h)for(var g=h[d],x=0,S=g.length;x<S;x++)if(typeof g[x].token=="string")/keyword|support|storage/.test(g[x].token)&&o.push(g[x].regex);else if(typeof g[x].token=="object"){for(var w=0,b=g[x].token.length;w<b;w++)if(/keyword|support|storage/.test(g[x].token[w])){var d=g[x].regex.match(/\(.+?\)/g)[w];o.push(d.substr(1,d.length-2))}}this.completionKeywords=o}return l?o.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(l,h,o,d){var g=this.$keywordList||this.$createKeywordList();return g.map(function(x){return{name:x,value:x,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(r.prototype),v.Mode=r}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("./lib/dom"),y=(function(){function f(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return f.prototype.getRowLength=function(a){var u;return this.lineWidgets?u=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[a]?1+u:this.$wrapData[a].length+1+u},f.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(a+=u.rowCount)}),a},f.prototype.$onChangeEditor=function(a){this.attach(a.editor)},f.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},f.prototype.detach=function(a){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}},f.prototype.updateOnFold=function(a,u){var s=u.lineWidgets;if(!(!s||!a.action)){for(var n=a.data,i=n.start.row,r=n.end.row,l=a.action=="add",h=i+1;h<r;h++)s[h]&&(s[h].hidden=l);s[r]&&(l?s[i]?s[r].hidden=l:s[i]=s[r]:(s[i]==s[r]&&(s[i]=void 0),s[r].hidden=l))}},f.prototype.updateOnChange=function(a){var u=this.session.lineWidgets;if(u){var s=a.start.row,n=a.end.row-s;if(n!==0)if(a.action=="remove"){var i=u.splice(s+1,n);!u[s]&&i[i.length-1]&&(u[s]=i.pop()),i.forEach(function(l){l&&this.removeLineWidget(l)},this),this.$updateRows()}else{var r=new Array(n);u[s]&&u[s].column!=null&&a.start.column>u[s].column&&s++,r.unshift(s,0),u.splice.apply(u,r),this.$updateRows()}}},f.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var u=!0;a.forEach(function(s,n){if(s)for(u=!1,s.row=n;s.$oldWidget;)s.$oldWidget.row=n,s=s.$oldWidget}),u&&(this.session.lineWidgets=null)}},f.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[a.row];return u&&(a.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},f.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var u=this.editor.renderer;a.html&&!a.el&&(a.el=E.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=E.createElement("div"),a.el.textContent=a.text),a.el&&(E.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&E.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex="5",u.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex="3"),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/u.layerConfig.lineHeight);var s=this.session.getFoldAt(a.row,0);if(a.$fold=s,s){var n=this.session.lineWidgets;a.row==s.end.row&&!n[s.start.row]?n[s.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(a),a},f.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[a.row];if(u==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;u;){if(u.$oldWidget==a){u.$oldWidget=a.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},f.prototype.getWidgetsAtRow=function(a){for(var u=this.session.lineWidgets,s=u&&u[a],n=[];s;)n.push(s),s=s.$oldWidget;return n},f.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},f.prototype.measureWidgets=function(a,u){var s=this.session._changedWidgets,n=u.layerConfig;if(!(!s||!s.length)){for(var i=1/0,r=0;r<s.length;r++){var l=s[r];if(!(!l||!l.el)&&l.session==this.session){if(!l._inDocument){if(this.session.lineWidgets[l.row]!=l)continue;l._inDocument=!0,u.container.appendChild(l.el)}l.h=l.el.offsetHeight,l.fixedWidth||(l.w=l.el.offsetWidth,l.screenWidth=Math.ceil(l.w/n.characterWidth));var h=l.h/n.lineHeight;l.coverLine&&(h-=this.session.getRowLineCount(l.row),h<0&&(h=0)),l.rowCount!=h&&(l.rowCount=h,l.row<i&&(i=l.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},f.prototype.renderWidgets=function(a,u){var s=u.layerConfig,n=this.session.lineWidgets;if(n){for(var i=Math.min(this.firstRow,s.firstRow),r=Math.max(this.lastRow,s.lastRow,n.length);i>0&&!n[i];)i--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,u.$cursorLayer.config=s;for(var l=i;l<=r;l++){var h=n[l];if(!(!h||!h.el)){if(h.hidden){h.el.style.top=-100-(h.pixelHeight||0)+"px";continue}h._inDocument||(h._inDocument=!0,u.container.appendChild(h.el));var o=u.$cursorLayer.getPixelPosition({row:l,column:0},!0).top;h.coverLine||(o+=s.lineHeight*this.session.getRowLineCount(h.row)),h.el.style.top=o-s.offset+"px";var d=h.coverGutter?0:u.gutterWidth;h.fixedWidth||(d-=u.scrollLeft),h.el.style.left=d+"px",h.fullWidth&&h.screenWidth&&(h.el.style.minWidth=s.width+2*s.padding+"px"),h.fixedWidth?h.el.style.right=u.scrollBar.getWidth()+"px":h.el.style.right=""}}}},f})();v.LineWidgets=y}),ace.define("ace/apply_delta",["require","exports","module"],function(m,v,R){v.applyDelta=function(E,y,f){var a=y.start.row,u=y.start.column,s=E[a]||"";switch(y.action){case"insert":var n=y.lines;if(n.length===1)E[a]=s.substring(0,u)+y.lines[0]+s.substring(u);else{var i=[a,1].concat(y.lines);E.splice.apply(E,i),E[a]=s.substring(0,u)+E[a],E[a+y.lines.length-1]+=s.substring(u)}break;case"remove":var r=y.end.column,l=y.end.row;a===l?E[a]=s.substring(0,u)+s.substring(r):E.splice(a,l-a+1,s.substring(0,u)+E[l].substring(r));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/event_emitter").EventEmitter,f=(function(){function s(n,i,r){this.$onChange=this.onChange.bind(this),this.attach(n),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,r)}return s.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},s.prototype.getDocument=function(){return this.document},s.prototype.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row)&&!(n.start.row>this.row)){var i=u(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},s.prototype.setPosition=function(n,i,r){var l;if(r?l={row:n,column:i}:l=this.$clipPositionToDocument(n,i),!(this.row==l.row&&this.column==l.column)){var h={row:this.row,column:this.column};this.row=l.row,this.column=l.column,this._signal("change",{old:h,value:l})}},s.prototype.detach=function(){this.document.off("change",this.$onChange)},s.prototype.attach=function(n){this.document=n||this.document,this.document.on("change",this.$onChange)},s.prototype.$clipPositionToDocument=function(n,i){var r={};return n>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):n<0?(r.row=0,r.column=0):(r.row=n,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,i))),i<0&&(r.column=0),r},s})();f.prototype.$insertRight=!1,E.implement(f.prototype,y);function a(s,n,i){var r=i?s.column<=n.column:s.column<n.column;return s.row<n.row||s.row==n.row&&r}function u(s,n,i){var r=s.action=="insert",l=(r?1:-1)*(s.end.row-s.start.row),h=(r?1:-1)*(s.end.column-s.start.column),o=s.start,d=r?o:s.end;return a(n,o,i)?{row:n.row,column:n.column}:a(d,n,!i)?{row:n.row+l,column:n.column+(n.row==d.row?h:0)}:{row:o.row,column:o.column}}v.Anchor=f}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(m,v,R){var E=m("./lib/oop"),y=m("./apply_delta").applyDelta,f=m("./lib/event_emitter").EventEmitter,a=m("./range").Range,u=m("./anchor").Anchor,s=(function(){function n(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return n.prototype.setValue=function(i){var r=this.getLength()-1;this.remove(new a(0,0,r,this.getLine(r).length)),this.insert({row:0,column:0},i||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(i,r){return new u(this,i,r)},n.prototype.$detectNewLine=function(i){var r=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=r?r[1]:`
`,this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},n.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},n.prototype.getLine=function(i){return this.$lines[i]||""},n.prototype.getLines=function(i,r){return this.$lines.slice(i,r+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(i){var r;if(i.start.row===i.end.row)r=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{r=this.getLines(i.start.row,i.end.row),r[0]=(r[0]||"").substring(i.start.column);var l=r.length-1;i.end.row-i.start.row==l&&(r[l]=r[l].substring(0,i.end.column))}return r},n.prototype.insertLines=function(i,r){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,r)},n.prototype.removeLines=function(i,r){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,r)},n.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},n.prototype.insert=function(i,r){return this.getLength()<=1&&this.$detectNewLine(r),this.insertMergedLines(i,this.$split(r))},n.prototype.insertInLine=function(i,r){var l=this.clippedPos(i.row,i.column),h=this.pos(i.row,i.column+r.length);return this.applyDelta({start:l,end:h,action:"insert",lines:[r]},!0),this.clonePos(h)},n.prototype.clippedPos=function(i,r){var l=this.getLength();i===void 0?i=l:i<0?i=0:i>=l&&(i=l-1,r=void 0);var h=this.getLine(i);return r==null&&(r=h.length),r=Math.min(Math.max(r,0),h.length),{row:i,column:r}},n.prototype.clonePos=function(i){return{row:i.row,column:i.column}},n.prototype.pos=function(i,r){return{row:i,column:r}},n.prototype.$clipPosition=function(i){var r=this.getLength();return i.row>=r?(i.row=Math.max(0,r-1),i.column=this.getLine(r-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},n.prototype.insertFullLines=function(i,r){i=Math.min(Math.max(i,0),this.getLength());var l=0;i<this.getLength()?(r=r.concat([""]),l=0):(r=[""].concat(r),i--,l=this.$lines[i].length),this.insertMergedLines({row:i,column:l},r)},n.prototype.insertMergedLines=function(i,r){var l=this.clippedPos(i.row,i.column),h={row:l.row+r.length-1,column:(r.length==1?l.column:0)+r[r.length-1].length};return this.applyDelta({start:l,end:h,action:"insert",lines:r}),this.clonePos(h)},n.prototype.remove=function(i){var r=this.clippedPos(i.start.row,i.start.column),l=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:r,end:l,action:"remove",lines:this.getLinesForRange({start:r,end:l})}),this.clonePos(r)},n.prototype.removeInLine=function(i,r,l){var h=this.clippedPos(i,r),o=this.clippedPos(i,l);return this.applyDelta({start:h,end:o,action:"remove",lines:this.getLinesForRange({start:h,end:o})},!0),this.clonePos(h)},n.prototype.removeFullLines=function(i,r){i=Math.min(Math.max(0,i),this.getLength()-1),r=Math.min(Math.max(0,r),this.getLength()-1);var l=r==this.getLength()-1&&i>0,h=r<this.getLength()-1,o=l?i-1:i,d=l?this.getLine(o).length:0,g=h?r+1:r,x=h?0:this.getLine(g).length,S=new a(o,d,g,x),w=this.$lines.slice(i,r+1);return this.applyDelta({start:S.start,end:S.end,action:"remove",lines:this.getLinesForRange(S)}),w},n.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(i,r){if(i instanceof a||(i=a.fromPoints(i.start,i.end)),r.length===0&&i.isEmpty())return i.start;if(r==this.getTextRange(i))return i.end;this.remove(i);var l;return r?l=this.insert(i.start,r):l=i.start,l},n.prototype.applyDeltas=function(i){for(var r=0;r<i.length;r++)this.applyDelta(i[r])},n.prototype.revertDeltas=function(i){for(var r=i.length-1;r>=0;r--)this.revertDelta(i[r])},n.prototype.applyDelta=function(i,r){var l=i.action=="insert";(l?i.lines.length<=1&&!i.lines[0]:!a.comparePoints(i.start,i.end))||(l&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(y(this.$lines,i,r),this._signal("change",i)))},n.prototype.$safeApplyDelta=function(i){var r=this.$lines.length;(i.action=="remove"&&i.start.row<r&&i.end.row<r||i.action=="insert"&&i.start.row<=r)&&this.applyDelta(i)},n.prototype.$splitAndapplyLargeDelta=function(i,r){for(var l=i.lines,h=l.length-r+1,o=i.start.row,d=i.start.column,g=0,x=0;g<h;g=x){x+=r-1;var S=l.slice(g,x);S.push(""),this.applyDelta({start:this.pos(o+g,d),end:this.pos(o+x,d=0),action:i.action,lines:S},!0)}i.lines=l.slice(g),i.start.row=o+g,i.start.column=d,this.applyDelta(i,!0)},n.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},n.prototype.indexToPosition=function(i,r){for(var l=this.$lines||this.getAllLines(),h=this.getNewLineCharacter().length,o=r||0,d=l.length;o<d;o++)if(i-=l[o].length+h,i<0)return{row:o,column:i+l[o].length+h};return{row:d-1,column:i+l[d-1].length+h}},n.prototype.positionToIndex=function(i,r){for(var l=this.$lines||this.getAllLines(),h=this.getNewLineCharacter().length,o=0,d=Math.min(i.row,l.length),g=r||0;g<d;++g)o+=l[g].length+h;return o+i.column},n.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},n})();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",E.implement(s.prototype,f),v.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/event_emitter").EventEmitter,f=(function(){function a(u,s){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var n=this;this.$worker=function(){if(n.running){for(var i=new Date,r=n.currentLine,l=-1,h=n.doc,o=r;n.lines[r];)r++;var d=h.getLength(),g=0;for(n.running=!1;r<d;){n.$tokenizeRow(r),l=r;do r++;while(n.lines[r]);if(g++,g%5===0&&new Date-i>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=r,l==-1&&(l=r),o<=l&&n.fireUpdateEvent(o,l)}}}return a.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(u,s){var n={first:u,last:s};this._signal("update",{data:n})},a.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(u){var s=u.start.row,n=u.end.row-s;if(n===0)this.lines[s]=null;else if(u.action=="remove")this.lines.splice(s,n+1,null),this.states.splice(s,n+1,null);else{var i=Array(n+1);i.unshift(s,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(s,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},a.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},a.prototype.$tokenizeRow=function(u){var s=this.doc.getLine(u),n=this.states[u-1],i=this.tokenizer.getLineTokens(s,n,u);return this.states[u]+""!=i.state+""?(this.states[u]=i.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=i.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a})();E.implement(f.prototype,y),v.BackgroundTokenizer=f}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(m,v,R){var E=m("./lib/lang"),y=m("./range").Range,f=(function(){function a(u,s,n){n===void 0&&(n="text"),this.setRegexp(u),this.clazz=s,this.type=n,this.docLen=0}return a.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},a.prototype.update=function(u,s,n,i){if(this.regExp){for(var r=i.firstRow,l=i.lastRow,h={},o=n.$editor&&n.$editor.$search,d=o&&o.$isMultilineSearch(n.$editor.getLastSearchOptions()),g=r;g<=l;g++){var x=this.cache[g];if(x==null||n.getValue().length!=this.docLen){if(d){x=[];var S=o.$multiLineForward(n,this.regExp,g,l);if(S){var w=S.endRow<=l?S.endRow-1:l;w>g&&(g=w),x.push(new y(S.startRow,S.startCol,S.endRow,S.endCol))}x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES))}else x=E.getMatchOffsets(n.getLine(g),this.regExp),x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES)),x=x.map(function(T){return new y(g,T.offset,g,T.offset+T.length)});this.cache[g]=x.length?x:""}if(x.length!==0)for(var b=x.length;b--;){var k=x[b].toScreenRange(n),A=k.toString();h[A]||(h[A]=!0,s.drawSingleLineMarker(u,k,this.clazz,i))}}this.docLen=n.getValue().length}},a})();f.prototype.MAX_RANGES=500,v.SearchHighlight=f}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(m,v,R){var E=(function(){function w(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return w.prototype.addSession=function(b){this.$session=b},w.prototype.add=function(b,k,A){if(!this.$fromUndo&&b!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),k===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),b.id=this.$rev=++this.$maxRev}(b.action=="remove"||b.action=="insert")&&(this.$lastDelta=b),this.lastDeltas.push(b)}},w.prototype.addSelection=function(b,k){this.selections.push({value:b,rev:k||this.$rev})},w.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},w.prototype.markIgnored=function(b,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=A.length;T--;){var j=A[T][0];if(j.id<=b)break;j.id<k&&(j.ignore=!0)}this.lastDeltas=null},w.prototype.getSelection=function(b,k){for(var A=this.selections,T=A.length;T--;){var j=A[T];if(j.rev<b)return k&&(j=A[T+1]),j}},w.prototype.getRevision=function(){return this.$rev},w.prototype.getDeltas=function(b,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=null,j=0,F=A.length;F--;){var $=A[F][0];if($.id<k&&!T&&(T=F+1),$.id<=b){j=F+1;break}}return A.slice(j,T)},w.prototype.getChangedRanges=function(b,k){k==null&&(k=this.$rev+1)},w.prototype.getChangedLines=function(b,k){k==null&&(k=this.$rev+1)},w.prototype.undo=function(b,k){this.lastDeltas=null;var A=this.$undoStack;if(y(A,A.length)){b||(b=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=A.pop(),j=null;return T&&(j=b.undoChanges(T,k),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j}},w.prototype.redo=function(b,k){if(this.lastDeltas=null,b||(b=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);S(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(F){F[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),j=null;return T&&(j=b.redoChanges(T,k),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j},w.prototype.$syncRev=function(){var b=this.$undoStack,k=b[b.length-1],A=k&&k[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},w.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},w.prototype.canUndo=function(){return this.$undoStack.length>0},w.prototype.canRedo=function(){return this.$redoStack.length>0},w.prototype.bookmark=function(b){b==null&&(b=this.$rev),this.mark=b},w.prototype.isAtBookmark=function(){return this.$rev===this.mark},w.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},w.prototype.fromJSON=function(b){this.reset(),this.$undoStack=b.$undoStack,this.$redoStack=b.$redoStack},w.prototype.$prettyPrint=function(b){return b?n(b):n(this.$undoStack)+`
---
`+n(this.$redoStack)},w})();E.prototype.hasUndo=E.prototype.canUndo,E.prototype.hasRedo=E.prototype.canRedo,E.prototype.isClean=E.prototype.isAtBookmark,E.prototype.markClean=E.prototype.bookmark;function y(w,b){for(var k=b;k--;){var A=w[k];if(A&&!A[0].ignore){for(;k<b-1;){var T=l(w[k],w[k+1]);w[k]=T[0],w[k+1]=T[1],k++}return!0}}}var f=m("./range").Range,a=f.comparePoints;f.comparePoints;function u(w){return{row:w.row,column:w.column}}function s(w){return{start:u(w.start),end:u(w.end),action:w.action,lines:w.lines.slice()}}function n(w){if(w=w||this,Array.isArray(w))return w.map(n).join(`
`);var b="";return w.action?(b=w.action=="insert"?"+":"-",b+="["+w.lines+"]"):w.value&&(Array.isArray(w.value)?b=w.value.map(i).join(`
`):b=i(w.value)),w.start&&(b+=i(w)),(w.id||w.rev)&&(b+="	("+(w.id||w.rev)+")"),b}function i(w){return w.start.row+":"+w.start.column+"=>"+w.end.row+":"+w.end.column}function r(w,b){var k=w.action=="insert",A=b.action=="insert";if(k&&A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.start,w.start)<=0)o(w,b,1);else return null;else if(k&&!A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.end,w.start)<=0)o(w,b,-1);else return null;else if(!k&&A)if(a(b.start,w.start)>=0)o(b,w,1);else if(a(b.start,w.start)<=0)o(w,b,1);else return null;else if(!k&&!A)if(a(b.start,w.start)>=0)o(b,w,1);else if(a(b.end,w.start)<=0)o(w,b,-1);else return null;return[b,w]}function l(w,b){for(var k=w.length;k--;)for(var A=0;A<b.length;A++)if(!r(w[k],b[A])){for(;k<w.length;){for(;A--;)r(b[A],w[k]);A=b.length,k++}return[w,b]}return w.selectionBefore=b.selectionBefore=w.selectionAfter=b.selectionAfter=null,[b,w]}function h(w,b){var k=w.action=="insert",A=b.action=="insert";if(k&&A)a(w.start,b.start)<0?o(b,w,1):o(w,b,1);else if(k&&!A)a(w.start,b.end)>=0?o(w,b,-1):(a(w.start,b.start)<=0||o(w,f.fromPoints(b.start,w.start),-1),o(b,w,1));else if(!k&&A)a(b.start,w.end)>=0?o(b,w,-1):(a(b.start,w.start)<=0||o(b,f.fromPoints(w.start,b.start),-1),o(w,b,1));else if(!k&&!A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.end,w.start)<=0)o(w,b,-1);else{var T,j;return a(w.start,b.start)<0&&(T=w,w=g(w,b.start)),a(w.end,b.end)>0&&(j=g(w,b.end)),d(b.end,w.start,w.end,-1),j&&!T&&(w.lines=j.lines,w.start=j.start,w.end=j.end,j=w),[b,T,j].filter(Boolean)}return[b,w]}function o(w,b,k){d(w.start,b.start,b.end,k),d(w.end,b.start,b.end,k)}function d(w,b,k,A){w.row==(A==1?b:k).row&&(w.column+=A*(k.column-b.column)),w.row+=A*(k.row-b.row)}function g(w,b){var k=w.lines,A=w.end;w.end=u(b);var T=w.end.row-w.start.row,j=k.splice(T,k.length),F=T?b.column:b.column-w.start.column;k.push(j[0].substring(0,F)),j[0]=j[0].substr(F);var $={start:u(b),end:A,lines:j,action:w.action};return $}function x(w,b){b=s(b);for(var k=w.length;k--;){for(var A=w[k],T=0;T<A.length;T++){var j=A[T],F=h(j,b);b=F[0],F.length!=2&&(F[2]?(A.splice(T+1,1,F[1],F[2]),T++):F[1]||(A.splice(T,1),T--))}A.length||w.splice(k,1)}return w}function S(w,b){for(var k=0;k<b.length;k++)for(var A=b[k],T=0;T<A.length;T++)x(w,A[T])}v.UndoManager=E}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=(function(){function f(a,u){this.foldData=a,Array.isArray(u)?this.folds=u:u=this.folds=[u];var s=u[u.length-1];this.range=new E(u[0].start.row,u[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(n){n.setFoldLine(this)},this)}return f.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(u){u.start.row+=a,u.end.row+=a})},f.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(u,s){return-u.range.compareEnd(s.start.row,s.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},f.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},f.prototype.walk=function(a,u,s){var n=0,i=this.folds,r,l,h,o=!0;u==null&&(u=this.end.row,s=this.end.column);for(var d=0;d<i.length;d++){if(r=i[d],l=r.range.compareStart(u,s),l==-1){a(null,u,s,n,o);return}if(h=a(null,r.start.row,r.start.column,n,o),h=!h&&a(r.placeholder,r.start.row,r.start.column,n),h||l===0)return;o=!r.sameRow,n=r.end.column}a(null,u,s,n,o)},f.prototype.getNextFoldTo=function(a,u){for(var s,n,i=0;i<this.folds.length;i++){if(s=this.folds[i],n=s.range.compareEnd(a,u),n==-1)return{fold:s,kind:"after"};if(n===0)return{fold:s,kind:"inside"}}return null},f.prototype.addRemoveChars=function(a,u,s){var n=this.getNextFoldTo(a,u),i,r;if(n){if(i=n.fold,n.kind=="inside"&&i.start.column!=u&&i.start.row!=a)window.console&&window.console.log(a,u,i);else if(i.start.row==a){r=this.folds;var l=r.indexOf(i);for(l===0&&(this.start.column+=s),l;l<r.length;l++){if(i=r[l],i.start.column+=s,!i.sameRow)return;i.end.column+=s}this.end.column+=s}}},f.prototype.split=function(a,u){var s=this.getNextFoldTo(a,u);if(!s||s.kind=="inside")return null;var n=s.fold,i=this.folds,r=this.foldData,l=i.indexOf(n),h=i[l-1];this.end.row=h.end.row,this.end.column=h.end.column,i=i.splice(l,i.length-l);var o=new f(r,i);return r.splice(r.indexOf(this)+1,0,o),o},f.prototype.merge=function(a){for(var u=a.folds,s=0;s<u.length;s++)this.addFold(u[s]);var n=this.foldData;n.splice(n.indexOf(a),1)},f.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(u){a.push("  "+u.toString())}),a.push("]"),a.join(`
`)},f.prototype.idxToPosition=function(a){for(var u=0,s=0;s<this.folds.length;s++){var n=this.folds[s];if(a-=n.start.column-u,a<0)return{row:n.start.row,column:n.start.column+a};if(a-=n.placeholder.length,a<0)return n.start;u=n.end.column}return{row:this.end.row,column:this.end.column+a}},f})();v.FoldLine=y}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(m,v,R){var E=m("./range").Range,y=E.comparePoints,f=(function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(u,s,n){for(var i=this.ranges,r=n||0;r<i.length;r++){var l=i[r],h=y(u,l.end);if(!(h>0)){var o=y(u,l.start);return h===0?s&&o!==0?-r-2:r:o>0||o===0&&!s?r:-r-1}}return-r-1},a.prototype.add=function(u){var s=!u.isEmpty(),n=this.pointIndex(u.start,s);n<0&&(n=-n-1);var i=this.pointIndex(u.end,s,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,u)},a.prototype.addList=function(u){for(var s=[],n=u.length;n--;)s.push.apply(s,this.add(u[n]));return s},a.prototype.substractPoint=function(u){var s=this.pointIndex(u);if(s>=0)return this.ranges.splice(s,1)},a.prototype.merge=function(){var u=[],s=this.ranges;s=s.sort(function(h,o){return y(h.start,o.start)});for(var n=s[0],i,r=1;r<s.length;r++){i=n,n=s[r];var l=y(i.end,n.start);l<0||l==0&&!i.isEmpty()&&!n.isEmpty()||(y(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),s.splice(r,1),u.push(n),n=i,r--)}return this.ranges=s,u},a.prototype.contains=function(u,s){return this.pointIndex({row:u,column:s})>=0},a.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},a.prototype.rangeAtPoint=function(u){var s=this.pointIndex(u);if(s>=0)return this.ranges[s]},a.prototype.clipRows=function(u,s){var n=this.ranges;if(n[0].start.row>s||n[n.length-1].start.row<u)return[];var i=this.pointIndex({row:u,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:s,column:0},i);r<0&&(r=-r-1);for(var l=[],h=i;h<r;h++)l.push(n[h]);return l},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(u){for(var s=u.start,n=u.end,i=s.row,r=n.row,l=this.ranges,h=0,o=l.length;h<o;h++){var d=l[h];if(d.end.row>=i)break}if(u.action=="insert")for(var g=r-i,x=-s.column+n.column;h<o;h++){var d=l[h];if(d.start.row>i)break;if(d.start.row==i&&d.start.column>=s.column&&(d.start.column==s.column&&this.$bias<=0||(d.start.column+=x,d.start.row+=g)),d.end.row==i&&d.end.column>=s.column){if(d.end.column==s.column&&this.$bias<0)continue;d.end.column==s.column&&x>0&&h<o-1&&d.end.column>d.start.column&&d.end.column==l[h+1].start.column&&(d.end.column-=x),d.end.column+=x,d.end.row+=g}}else for(var g=i-r,x=s.column-n.column;h<o;h++){var d=l[h];if(d.start.row>r)break;d.end.row<r&&(i<d.end.row||i==d.end.row&&s.column<d.end.column)?(d.end.row=i,d.end.column=s.column):d.end.row==r?d.end.column<=n.column?(g||d.end.column>s.column)&&(d.end.column=s.column,d.end.row=s.row):(d.end.column+=x,d.end.row+=g):d.end.row>r&&(d.end.row+=g),d.start.row<r&&(i<d.start.row||i==d.start.row&&s.column<d.start.column)?(d.start.row=i,d.start.column=s.column):d.start.row==r?d.start.column<=n.column?(g||d.start.column>s.column)&&(d.start.column=s.column,d.start.row=s.row):(d.start.column+=x,d.start.row+=g):d.start.row>r&&(d.start.row+=g)}if(g!=0&&h<o)for(;h<o;h++){var d=l[h];d.start.row+=g,d.end.row+=g}},a})();f.prototype.comparePoints=y,v.RangeList=f}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(m,v,R){var E=this&&this.__extends||(function(){var i=function(r,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,o){h.__proto__=o}||function(h,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(h[d]=o[d])},i(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(r,l);function h(){this.constructor=r}r.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}})(),y=m("../range_list").RangeList,f=(function(i){E(r,i);function r(l,h){var o=i.call(this)||this;return o.foldLine=null,o.placeholder=h,o.range=l,o.start=l.start,o.end=l.end,o.sameRow=l.start.row==l.end.row,o.subFolds=o.ranges=[],o}return r.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},r.prototype.setFoldLine=function(l){this.foldLine=l,this.subFolds.forEach(function(h){h.setFoldLine(l)})},r.prototype.clone=function(){var l=this.range.clone(),h=new r(l,this.placeholder);return this.subFolds.forEach(function(o){h.subFolds.push(o.clone())}),h.collapseChildren=this.collapseChildren,h},r.prototype.addSubFold=function(l){if(!this.range.isEqual(l)){u(l,this.start);for(var x=l.start.row,S=l.start.column,h=0,o=-1;h<this.subFolds.length&&(o=this.subFolds[h].range.compare(x,S),o==1);h++);var d=this.subFolds[h],g=0;if(o==0){if(d.range.containsRange(l))return d.addSubFold(l);g=1}for(var x=l.range.end.row,S=l.range.end.column,w=h,o=-1;w<this.subFolds.length&&(o=this.subFolds[w].range.compare(x,S),o==1);w++);o==0&&w++;for(var b=this.subFolds.splice(h,w-h,l),k=o==0?b.length-1:b.length,A=g;A<k;A++)l.addSubFold(b[A]);return l.setFoldLine(this.foldLine),l}},r.prototype.restoreRange=function(l){return n(l,this.start)},r})(y);function a(i,r){i.row-=r.row,i.row==0&&(i.column-=r.column)}function u(i,r){a(i.start,r),a(i.end,r)}function s(i,r){i.row==0&&(i.column+=r.column),i.row+=r.row}function n(i,r){s(i.start,r),s(i.end,r)}v.Fold=f}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(m,v,R){var E=m("../range").Range,y=m("./fold_line").FoldLine,f=m("./fold").Fold,a=m("../token_iterator").TokenIterator,u=m("../mouse/mouse_event").MouseEvent;function s(){this.getFoldAt=function(n,i,r){var l=this.getFoldLine(n);if(!l)return null;for(var h=l.folds,o=0;o<h.length;o++){var d=h[o].range;if(d.contains(n,i)){if(r==1&&d.isEnd(n,i)&&!d.isEmpty())continue;if(r==-1&&d.isStart(n,i)&&!d.isEmpty())continue;return h[o]}}},this.getFoldsInRange=function(n){var i=n.start,r=n.end,l=this.$foldData,h=[];i.column+=1,r.column-=1;for(var o=0;o<l.length;o++){var d=l[o].range.compareRange(n);if(d!=2){if(d==-2)break;for(var g=l[o].folds,x=0;x<g.length;x++){var S=g[x];if(d=S.range.compareRange(n),d==-2)break;if(d==2)continue;if(d==42)break;h.push(S)}}}return i.column-=1,r.column+=1,h},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var i=[];n.forEach(function(r){i=i.concat(this.getFoldsInRange(r))},this)}else var i=this.getFoldsInRange(n);return i},this.getAllFolds=function(){for(var n=[],i=this.$foldData,r=0;r<i.length;r++)for(var l=0;l<i[r].folds.length;l++)n.push(i[r].folds[l]);return n},this.getFoldStringAt=function(n,i,r,l){if(l=l||this.getFoldLine(n),!l)return null;for(var h={end:{column:0}},o,d,g=0;g<l.folds.length;g++){d=l.folds[g];var x=d.range.compareEnd(n,i);if(x==-1){o=this.getLine(d.start.row).substring(h.end.column,d.start.column);break}else if(x===0)return null;h=d}return o||(o=this.getLine(d.start.row).substring(h.end.column)),r==-1?o.substring(0,i-h.end.column):r==1?o.substring(i-h.end.column):o},this.getFoldLine=function(n,i){var r=this.$foldData,l=0;for(i&&(l=r.indexOf(i)),l==-1&&(l=0),l;l<r.length;l++){var h=r[l];if(h.start.row<=n&&h.end.row>=n)return h;if(h.end.row>n)return null}return null},this.getNextFoldLine=function(n,i){var r=this.$foldData,l=0;for(i&&(l=r.indexOf(i)),l==-1&&(l=0),l;l<r.length;l++){var h=r[l];if(h.end.row>=n)return h}return null},this.getFoldedRowCount=function(n,i){for(var r=this.$foldData,l=i-n+1,h=0;h<r.length;h++){var o=r[h],d=o.end.row,g=o.start.row;if(d>=i){g<i&&(g>=n?l-=i-g:l=0);break}else d>=n&&(g>=n?l-=d-g:l-=d-n+1)}return l},this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(i,r){return i.start.row-r.start.row}),n},this.addFold=function(n,i){var r=this.$foldData,l=!1,h;n instanceof f?h=n:(h=new f(i,n),h.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(h.range);var o=h.start.row,d=h.start.column,g=h.end.row,x=h.end.column,S=this.getFoldAt(o,d,1),w=this.getFoldAt(g,x,-1);if(S&&w==S)return S.addSubFold(h);S&&!S.range.isStart(o,d)&&this.removeFold(S),w&&!w.range.isEnd(g,x)&&this.removeFold(w);var b=this.getFoldsInRange(h.range);b.length>0&&(this.removeFolds(b),h.collapseChildren||b.forEach(function(j){h.addSubFold(j)}));for(var k=0;k<r.length;k++){var A=r[k];if(g==A.start.row){A.addFold(h),l=!0;break}else if(o==A.end.row){if(A.addFold(h),l=!0,!h.sameRow){var T=r[k+1];if(T&&T.start.row==g){A.merge(T);break}}break}else if(g<=A.start.row)break}return l||(A=this.$addFoldLine(new y(this.$foldData,h))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:h,action:"add"}),h},this.addFolds=function(n){n.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(n){var i=n.foldLine,r=i.start.row,l=i.end.row,h=this.$foldData,o=i.folds;if(o.length==1)h.splice(h.indexOf(i),1);else if(i.range.isEnd(n.end.row,n.end.column))o.pop(),i.end.row=o[o.length-1].end.row,i.end.column=o[o.length-1].end.column;else if(i.range.isStart(n.start.row,n.start.column))o.shift(),i.start.row=o[0].start.row,i.start.column=o[0].start.column;else if(n.sameRow)o.splice(o.indexOf(n),1);else{var d=i.split(n.start.row,n.start.column);o=d.folds,o.shift(),d.start.row=o[0].start.row,d.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(r,l):this.$updateRowLengthCache(r,l)),this.$modified=!0,this._signal("changeFold",{data:n,action:"remove"})},this.removeFolds=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n[r]);i.forEach(function(l){this.removeFold(l)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(i){n.restoreRange(i),this.addFold(i)},this),n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(n){n.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(n,i){var r,l;if(n==null)r=new E(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof n=="number")r=new E(n,0,n,this.getLine(n).length);else if("row"in n)r=E.fromPoints(n,n);else{if(Array.isArray(n))return l=[],n.forEach(function(o){l=l.concat(this.unfold(o))},this),l;r=n}l=this.getFoldsInRangeList(r);for(var h=l;l.length==1&&E.comparePoints(l[0].start,r.start)<0&&E.comparePoints(l[0].end,r.end)>0;)this.expandFolds(l),l=this.getFoldsInRangeList(r);if(i!=!1?this.removeFolds(l):this.expandFolds(l),h.length)return h},this.isRowFolded=function(n,i){return!!this.getFoldLine(n,i)},this.getRowFoldEnd=function(n,i){var r=this.getFoldLine(n,i);return r?r.end.row:n},this.getRowFoldStart=function(n,i){var r=this.getFoldLine(n,i);return r?r.start.row:n},this.getFoldDisplayLine=function(n,i,r,l,h){l==null&&(l=n.start.row),h==null&&(h=0),i==null&&(i=n.end.row),r==null&&(r=this.getLine(i).length);var o=this.doc,d="";return n.walk(function(g,x,S,w){if(!(x<l)){if(x==l){if(S<h)return;w=Math.max(h,w)}g!=null?d+=g:d+=o.getLine(x).substring(w,S)}},i,r),d},this.getDisplayLine=function(n,i,r,l){var h=this.getFoldLine(n);if(h)return this.getFoldDisplayLine(h,n,i,r,l);var o;return o=this.doc.getLine(n),o.substring(l||0,i||o.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(i){var r=i.folds.map(function(l){return l.clone()});return new y(n,r)}),n},this.toggleFold=function(n){var i=this.selection,r=i.getRange(),l,h;if(r.isEmpty()){var o=r.start;if(l=this.getFoldAt(o.row,o.column),l){this.expandFold(l);return}else if(n){var d=this.getFoldLine(o.row);d&&this.expandFolds(d.folds);return}else(h=this.findMatchingBracket(o))?r.comparePoint(h)==1?r.end=h:(r.start=h,r.start.column++,r.end.column--):(h=this.findMatchingBracket({row:o.row,column:o.column+1}))?(r.comparePoint(h)==1?r.end=h:r.start=h,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var g=this.getFoldsInRange(r);if(n&&g.length){this.expandFolds(g);return}else g.length==1&&(l=g[0])}if(l||(l=this.getFoldAt(r.start.row,r.start.column)),l&&l.range.toString()==r.toString()){this.expandFold(l);return}var x="...";if(!r.isMultiLine()){if(x=this.getTextRange(r),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,r)},this.getCommentFoldRange=function(n,i,r){var l=new a(this,n,i),h=l.getCurrentToken(),o=h&&h.type;if(h&&/^comment|string/.test(o)){o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start|\\.doc");var d=new RegExp(o),g=new E;if(r!=1){do h=l.stepBackward();while(h&&d.test(h.type));h=l.stepForward()}g.start.row=l.getCurrentTokenRow(),g.start.column=l.getCurrentTokenColumn()+h.value.length,l=new a(this,n,i);var x=this.getState(l.$row);if(r!=-1){var S=-1;do if(h=l.stepForward(),S==-1){var w=this.getState(l.$row);x.toString()!==w.toString()&&(S=l.$row)}else if(l.$row>S)break;while(h&&d.test(h.type));h=l.stepBackward()}else h=l.getCurrentToken();return g.end.row=l.getCurrentTokenRow(),g.end.column=l.getCurrentTokenColumn(),g.start.row==g.end.row&&g.start.column>g.end.column?void 0:g}},this.foldAll=function(n,i,r,l){r==null&&(r=1e5);var h=this.foldWidgets;if(h){i=i||this.getLength(),n=n||0;for(var o=n;o<i;o++)if(h[o]==null&&(h[o]=this.getFoldWidget(o)),h[o]=="start"&&!(l&&!l(o))){var d=this.getFoldWidgetRange(o);d&&d.isMultiLine()&&d.end.row<=i&&d.start.row>=n&&(o=d.end.row,d.collapseChildren=r,this.addFold("...",d))}}},this.foldToLevel=function(n){for(this.foldAll();n-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(i){for(var r=n.getTokens(i),l=0;l<r.length;l++){var h=r[l];if(!(h.type=="text"&&/^\s+$/.test(h.value)))return!!/comment/.test(h.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,n=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(n,i){var r=this.foldWidgets;if(!r||i&&r[n])return{};for(var l=n-1,h;l>=0;){var o=r[l];if(o==null&&(o=r[l]=this.getFoldWidget(l)),o=="start"){var d=this.getFoldWidgetRange(l);if(h||(h=d),d&&d.end.row>=n)break}l--}return{range:l!==-1&&d,firstRange:h}},this.onFoldWidgetClick=function(n,i){i instanceof u&&(i=i.domEvent);var r={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},l=this.$toggleFoldWidget(n,r);if(!l){var h=i.target||i.srcElement;h&&/ace_fold-widget/.test(h.className)&&(h.className+=" ace_invalid")}},this.$toggleFoldWidget=function(n,i){if(this.getFoldWidget){var r=this.getFoldWidget(n),l=this.getLine(n),h=r==="end"?-1:1,o=this.getFoldAt(n,h===-1?0:l.length,h);if(o)return i.children||i.all?this.removeFold(o):this.expandFold(o),o;var d=this.getFoldWidgetRange(n,!0);if(d&&!d.isMultiLine()&&(o=this.getFoldAt(d.start.row,d.start.column,1),o&&d.isEqual(o.range)))return this.removeFold(o),o;if(i.siblings){var g=this.getParentFoldRangeData(n);if(g.range)var x=g.range.start.row+1,S=g.range.end.row;this.foldAll(x,S,i.all?1e4:0)}else i.children?(S=d?d.end.row:this.getLength(),this.foldAll(n+1,S,i.all?1e4:0)):d&&(i.all&&(d.collapseChildren=1e4),this.addFold("...",d));return d}},this.toggleFoldWidget=function(n){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var r=this.$toggleFoldWidget(i,{});if(!r){var l=this.getParentFoldRangeData(i,!0);if(r=l.range||l.firstRange,r){i=r.start.row;var h=this.getFoldAt(i,this.getLine(i).length,1);h?this.removeFold(h):this.addFold("...",r)}}},this.updateFoldWidgets=function(n){var i=n.start.row,r=n.end.row-i;if(r===0)this.foldWidgets[i]=null;else if(n.action=="remove")this.foldWidgets.splice(i,r+1,null);else{var l=Array(r+1);l.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,l)}},this.tokenizerUpdateFoldWidgets=function(n){var i=n.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}v.Folding=s}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(m,v,R){var E=m("../token_iterator").TokenIterator,y=m("../range").Range;function f(){this.findMatchingBracket=function(a,u){if(a.column==0)return null;var s=u||this.getLine(a.row).charAt(a.column-1);if(s=="")return null;var n=s.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],a):this.$findOpeningBracket(n[2],a):null},this.getBracketRange=function(a){var u=this.getLine(a.row),s=!0,n,i=u.charAt(a.column-1),r=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(r||(i=u.charAt(a.column),a={row:a.row,column:a.column+1},r=i&&i.match(/([\(\[\{])|([\)\]\}])/),s=!1),!r)return null;if(r[1]){var l=this.$findClosingBracket(r[1],a);if(!l)return null;n=y.fromPoints(a,l),s||(n.end.column++,n.start.column--),n.cursor=n.end}else{var l=this.$findOpeningBracket(r[2],a);if(!l)return null;n=y.fromPoints(l,a),s||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(a,u){var s=this.getLine(a.row),n=/([\(\[\{])|([\)\]\}])/,i=!u&&s.charAt(a.column-1),r=i&&i.match(n);if(r||(i=(u===void 0||u)&&s.charAt(a.column),a={row:a.row,column:a.column+1},r=i&&i.match(n)),!r)return null;var l=new y(a.row,a.column-1,a.row,a.column),h=r[1]?this.$findClosingBracket(r[1],a):this.$findOpeningBracket(r[2],a);if(!h)return[l];var o=new y(h.row,h.column,h.row,h.column+1);return[l,o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,u,s){var n=this.$brackets[a],i=1,r=new E(this,u.row,u.column),l=r.getCurrentToken();if(l||(l=r.stepForward()),!!l){s||(s=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var h=u.column-r.getCurrentTokenColumn()-2,o=l.value;;){for(;h>=0;){var d=o.charAt(h);if(d==n){if(i-=1,i==0)return{row:r.getCurrentTokenRow(),column:h+r.getCurrentTokenColumn()}}else d==a&&(i+=1);h-=1}do l=r.stepBackward();while(l&&!s.test(l.type));if(l==null)break;o=l.value,h=o.length-1}return null}},this.$findClosingBracket=function(a,u,s){var n=this.$brackets[a],i=1,r=new E(this,u.row,u.column),l=r.getCurrentToken();if(l||(l=r.stepForward()),!!l){s||(s=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var h=u.column-r.getCurrentTokenColumn();;){for(var o=l.value,d=o.length;h<d;){var g=o.charAt(h);if(g==n){if(i-=1,i==0)return{row:r.getCurrentTokenRow(),column:h+r.getCurrentTokenColumn()}}else g==a&&(i+=1);h+=1}do l=r.stepForward();while(l&&!s.test(l.type));if(l==null)break;h=0}return null}},this.getMatchingTags=function(a){var u=new E(this,a.row,a.column),s=this.$findTagName(u);if(s){var n=u.stepBackward();return n.value==="<"?this.$findClosingTag(u,s):this.$findOpeningTag(u,s)}},this.$findTagName=function(a){var u=a.getCurrentToken(),s=!1,n=!1;if(u&&u.type.indexOf("tag-name")===-1)do n?u=a.stepBackward():u=a.stepForward(),u&&(u.value==="/>"?n=!0:u.type.indexOf("tag-name")!==-1&&(s=!0));while(u&&!s);return u},this.$findClosingTag=function(a,u){var s,n=u.value,i=u.value,r=0,l=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);u=a.stepForward();var h=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length),o=!1;do{if(s=u,s.type.indexOf("tag-close")!==-1&&!o){var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);o=!0}if(u=a.stepForward(),u){if(u.value===">"&&!o){var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);o=!0}if(u.type.indexOf("tag-name")!==-1){if(n=u.value,i===n){if(s.value==="<")r++;else if(s.value==="</"&&(r--,r<0)){a.stepBackward();var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);u=a.stepForward();var x=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=a.stepForward()),u&&u.value===">")var S=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(i===n&&u.value==="/>"&&(r--,r<0))var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),x=g,S=x,d=new y(h.end.row,h.end.column,h.end.row,h.end.column+1)}}while(u&&r>=0);if(l&&d&&g&&S&&h&&x)return{openTag:new y(l.start.row,l.start.column,d.end.row,d.end.column),closeTag:new y(g.start.row,g.start.column,S.end.row,S.end.column),openTagName:h,closeTagName:x}},this.$findOpeningTag=function(a,u){var s=a.getCurrentToken(),n=u.value,i=0,r=a.getCurrentTokenRow(),l=a.getCurrentTokenColumn(),h=l+2,o=new y(r,l,r,h);a.stepForward();var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=a.stepForward()),!(!u||u.value!==">")){var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(u=s,r=a.getCurrentTokenRow(),l=a.getCurrentTokenColumn(),h=l+u.value.length,s=a.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(n===u.value)if(s.value==="<"){if(i++,i>0){var x=new y(r,l,r,h),S=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do u=a.stepForward();while(u&&u.value!==">");var w=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else s.value==="</"&&i--}else if(u.value==="/>"){for(var b=0,k=s;k;){if(k.type.indexOf("tag-name")!==-1&&k.value===n){i--;break}else if(k.value==="<")break;k=a.stepBackward(),b++}for(var A=0;A<b;A++)a.stepForward()}}while(s&&i<=0);if(S&&w&&o&&g&&x&&d)return{openTag:new y(S.start.row,S.start.column,w.end.row,w.end.column),closeTag:new y(o.start.row,o.start.column,g.end.row,g.end.column),openTagName:x,closeTagName:d}}}}v.BracketMatch=f}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/lang"),f=m("./bidihandler").BidiHandler,a=m("./config"),u=m("./lib/event_emitter").EventEmitter,s=m("./selection").Selection,n=m("./mode/text").Mode,i=m("./range").Range,r=m("./line_widgets").LineWidgets,l=m("./document").Document,h=m("./background_tokenizer").BackgroundTokenizer,o=m("./search_highlight").SearchHighlight,d=m("./undomanager").UndoManager,g=(function(){function $(D,M){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++$.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new h(new n().getTokenizer(),this);var L=this;this.bgTokenizer.on("update",function(O){L._signal("tokenizerUpdate",O)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof D!="object"||!D.getLine)&&(D=new l(D)),this.setDocument(D),this.selection=new s(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new f(this),a.resetOptions(this),this.setMode(M),a._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return $.prototype.$initOperationListeners=function(){var D=this;this.curOp=null,this.on("change",function(){D.curOp||(D.startOperation(),D.curOp.selectionBefore=D.$lastSel),D.curOp.docChanged=!0},!0),this.on("changeSelection",function(){D.curOp||(D.startOperation(),D.curOp.selectionBefore=D.$lastSel),D.curOp.selectionChanged=!0},!0),this.$operationResetTimer=y.delayedCall(this.endOperation.bind(this,!0))},$.prototype.startOperation=function(D){if(this.curOp){if(!D||this.curOp.command)return;this.prevOp=this.curOp}D||(D={}),this.$operationResetTimer.schedule(),this.curOp={command:D.command||{},args:D.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",D)},$.prototype.endOperation=function(D){if(this.curOp){if(D&&D.returnValue===!1){this.curOp=null,this._signal("endOperation",D);return}if(D==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var M=this.selection.toJSON();this.curOp.selectionAfter=M,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(M),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",D)}},$.prototype.setDocument=function(D){this.doc&&this.doc.off("change",this.$onChange),this.doc=D,D.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},$.prototype.getDocument=function(){return this.doc},Object.defineProperty($.prototype,"widgetManager",{get:function(){var D=new r(this);return this.widgetManager=D,this.$editor&&D.attach(this.$editor),D},set:function(D){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:D})},enumerable:!1,configurable:!0}),$.prototype.$resetRowCache=function(D){if(!D){this.$docRowCache=[],this.$screenRowCache=[];return}var M=this.$docRowCache.length,L=this.$getRowCacheIndex(this.$docRowCache,D)+1;M>L&&(this.$docRowCache.splice(L,M),this.$screenRowCache.splice(L,M))},$.prototype.$getRowCacheIndex=function(D,M){for(var L=0,O=D.length-1;L<=O;){var z=L+O>>1,B=D[z];if(M>B)L=z+1;else if(M<B)O=z-1;else return z}return L-1},$.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},$.prototype.onChangeFold=function(D){var M=D.data;this.$resetRowCache(M.start.row)},$.prototype.onChange=function(D){this.$modified=!0,this.$bidiHandler.onChange(D),this.$resetRowCache(D.start.row);var M=this.$updateInternalDataOnChange(D);!this.$fromUndo&&this.$undoManager&&(M&&M.length&&(this.$undoManager.add({action:"removeFolds",folds:M},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(D,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(D),this._signal("change",D)},$.prototype.onSelectionChange=function(){this._signal("changeSelection")},$.prototype.setValue=function(D){this.doc.setValue(D),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},$.fromJSON=function(D){typeof D=="string"&&(D=JSON.parse(D));var M=new d;M.$undoStack=D.history.undo,M.$redoStack=D.history.redo,M.mark=D.history.mark,M.$rev=D.history.rev;var L=new $(D.value);return D.folds.forEach(function(O){L.addFold("...",i.fromPoints(O.start,O.end))}),L.setAnnotations(D.annotations),L.setBreakpoints(D.breakpoints),L.setMode(D.mode),L.setScrollLeft(D.scrollLeft),L.setScrollTop(D.scrollTop),L.setUndoManager(M),L.selection.fromJSON(D.selection),L},$.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(D){return D.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},$.prototype.toString=function(){return this.doc.getValue()},$.prototype.getSelection=function(){return this.selection},$.prototype.getState=function(D){return this.bgTokenizer.getState(D)},$.prototype.getTokens=function(D){return this.bgTokenizer.getTokens(D)},$.prototype.getTokenAt=function(D,M){var L=this.bgTokenizer.getTokens(D),O,z=0;if(M==null){var B=L.length-1;z=this.getLine(D).length}else for(var B=0;B<L.length&&(z+=L[B].value.length,!(z>=M));B++);return O=L[B],O?(O.index=B,O.start=z-O.value.length,O):null},$.prototype.setUndoManager=function(D){if(this.$undoManager=D,this.$informUndoManager&&this.$informUndoManager.cancel(),D){var M=this;D.addSession(this),this.$syncInformUndoManager=function(){M.$informUndoManager.cancel(),M.mergeUndoDeltas=!1},this.$informUndoManager=y.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},$.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},$.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},$.prototype.getTabString=function(){return this.getUseSoftTabs()?y.stringRepeat(" ",this.getTabSize()):"	"},$.prototype.setUseSoftTabs=function(D){this.setOption("useSoftTabs",D)},$.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},$.prototype.setTabSize=function(D){this.setOption("tabSize",D)},$.prototype.getTabSize=function(){return this.$tabSize},$.prototype.isTabStop=function(D){return this.$useSoftTabs&&D.column%this.$tabSize===0},$.prototype.setNavigateWithinSoftTabs=function(D){this.setOption("navigateWithinSoftTabs",D)},$.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},$.prototype.setOverwrite=function(D){this.setOption("overwrite",D)},$.prototype.getOverwrite=function(){return this.$overwrite},$.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},$.prototype.addGutterDecoration=function(D,M){this.$decorations[D]||(this.$decorations[D]=""),this.$decorations[D]+=" "+M,this._signal("changeBreakpoint",{})},$.prototype.removeGutterCustomWidget=function(D){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(D)},$.prototype.addGutterCustomWidget=function(D,M){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(D,M)},$.prototype.removeGutterDecoration=function(D,M){this.$decorations[D]=(this.$decorations[D]||"").replace(" "+M,""),this._signal("changeBreakpoint",{})},$.prototype.getBreakpoints=function(){return this.$breakpoints},$.prototype.setBreakpoints=function(D){this.$breakpoints=[];for(var M=0;M<D.length;M++)this.$breakpoints[D[M]]="ace_breakpoint";this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},$.prototype.setBreakpoint=function(D,M){M===void 0&&(M="ace_breakpoint"),M?this.$breakpoints[D]=M:delete this.$breakpoints[D],this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoint=function(D){delete this.$breakpoints[D],this._signal("changeBreakpoint",{})},$.prototype.addMarker=function(D,M,L,O){var z=this.$markerId++,B={range:D,type:L||"line",renderer:typeof L=="function"?L:null,clazz:M,inFront:!!O,id:z};return O?(this.$frontMarkers[z]=B,this._signal("changeFrontMarker")):(this.$backMarkers[z]=B,this._signal("changeBackMarker")),z},$.prototype.addDynamicMarker=function(D,M){if(D.update){var L=this.$markerId++;return D.id=L,D.inFront=!!M,M?(this.$frontMarkers[L]=D,this._signal("changeFrontMarker")):(this.$backMarkers[L]=D,this._signal("changeBackMarker")),D}},$.prototype.removeMarker=function(D){var M=this.$frontMarkers[D]||this.$backMarkers[D];if(M){var L=M.inFront?this.$frontMarkers:this.$backMarkers;delete L[D],this._signal(M.inFront?"changeFrontMarker":"changeBackMarker")}},$.prototype.getMarkers=function(D){return D?this.$frontMarkers:this.$backMarkers},$.prototype.highlight=function(D){if(!this.$searchHighlight){var M=new o(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(M)}this.$searchHighlight.setRegexp(D)},$.prototype.highlightLines=function(D,M,L,O){typeof M!="number"&&(L=M,M=D),L||(L="ace_step");var z=new i(D,0,M,1/0);return z.id=this.addMarker(z,L,"fullLine",O),z},$.prototype.setAnnotations=function(D){this.$annotations=D,this._signal("changeAnnotation",{})},$.prototype.getAnnotations=function(){return this.$annotations||[]},$.prototype.clearAnnotations=function(){this.setAnnotations([])},$.prototype.$detectNewLine=function(D){var M=D.match(/^.*?(\r?\n)/m);M?this.$autoNewLine=M[1]:this.$autoNewLine=`
`},$.prototype.getWordRange=function(D,M){var L=this.getLine(D),O=!1;if(M>0&&(O=!!L.charAt(M-1).match(this.tokenRe)),O||(O=!!L.charAt(M).match(this.tokenRe)),O)var z=this.tokenRe;else if(/^\s+$/.test(L.slice(M-1,M+1)))var z=/\s/;else var z=this.nonTokenRe;var B=M;if(B>0){do B--;while(B>=0&&L.charAt(B).match(z));B++}for(var P=M;P<L.length&&L.charAt(P).match(z);)P++;return new i(D,B,D,P)},$.prototype.getAWordRange=function(D,M){for(var L=this.getWordRange(D,M),O=this.getLine(L.end.row);O.charAt(L.end.column).match(/[ \t]/);)L.end.column+=1;return L},$.prototype.setNewLineMode=function(D){this.doc.setNewLineMode(D)},$.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},$.prototype.setUseWorker=function(D){this.setOption("useWorker",D)},$.prototype.getUseWorker=function(){return this.$useWorker},$.prototype.onReloadTokenizer=function(D){var M=D.data;this.bgTokenizer.start(M.first),this._signal("tokenizerUpdate",D)},$.prototype.setMode=function(D,M){if(D&&typeof D=="object"){if(D.getTokenizer)return this.$onChangeMode(D);var L=D,O=L.path}else O=D||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new n),this.$modes[O]&&!L){this.$onChangeMode(this.$modes[O]),M&&M();return}this.$modeId=O,a.loadModule(["mode",O],(function(z){if(!this.destroyed){if(this.$modeId!==O)return M&&M();this.$modes[O]&&!L?this.$onChangeMode(this.$modes[O]):z&&z.Mode&&(z=new z.Mode(L),L||(this.$modes[O]=z,z.$id=O),this.$onChangeMode(z)),M&&M()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},$.prototype.$onChangeMode=function(D,M){if(M||(this.$modeId=D.$id),this.$mode!==D){var L=this.$mode;this.$mode=D,this.$stopWorker(),this.$useWorker&&this.$startWorker();var O=D.getTokenizer();if(O.on!==void 0){var z=this.onReloadTokenizer.bind(this);O.on("update",z)}this.bgTokenizer.setTokenizer(O),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=D.tokenRe,this.nonTokenRe=D.nonTokenRe,M||(D.attachToSession&&D.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(D.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:L,mode:D}))}},$.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},$.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(D){a.warn("Could not load worker",D),this.$worker=null}},$.prototype.getMode=function(){return this.$mode},$.prototype.setScrollTop=function(D){this.$scrollTop===D||isNaN(D)||(this.$scrollTop=D,this._signal("changeScrollTop",D))},$.prototype.getScrollTop=function(){return this.$scrollTop},$.prototype.setScrollLeft=function(D){this.$scrollLeft===D||isNaN(D)||(this.$scrollLeft=D,this._signal("changeScrollLeft",D))},$.prototype.getScrollLeft=function(){return this.$scrollLeft},$.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},$.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var D=0;return this.lineWidgets.forEach(function(M){M&&M.screenWidth>D&&(D=M.screenWidth)}),this.lineWidgetWidth=D},$.prototype.$computeWidth=function(D){if(this.$modified||D){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var M=this.doc.getAllLines(),L=this.$rowLengthCache,O=0,z=0,B=this.$foldData[z],P=B?B.start.row:1/0,U=M.length,W=0;W<U;W++){if(W>P){if(W=B.end.row+1,W>=U)break;B=this.$foldData[z++],P=B?B.start.row:1/0}L[W]==null&&(L[W]=this.$getStringScreenWidth(M[W])[0]),L[W]>O&&(O=L[W])}this.screenWidth=O}},$.prototype.getLine=function(D){return this.doc.getLine(D)},$.prototype.getLines=function(D,M){return this.doc.getLines(D,M)},$.prototype.getLength=function(){return this.doc.getLength()},$.prototype.getTextRange=function(D){return this.doc.getTextRange(D||this.selection.getRange())},$.prototype.insert=function(D,M){return this.doc.insert(D,M)},$.prototype.remove=function(D){return this.doc.remove(D)},$.prototype.removeFullLines=function(D,M){return this.doc.removeFullLines(D,M)},$.prototype.undoChanges=function(D,M){if(D.length){this.$fromUndo=!0;for(var L=D.length-1;L!=-1;L--){var O=D[L];O.action=="insert"||O.action=="remove"?this.doc.revertDelta(O):O.folds&&this.addFolds(O.folds)}!M&&this.$undoSelect&&(D.selectionBefore?this.selection.fromJSON(D.selectionBefore):this.selection.setRange(this.$getUndoSelection(D,!0))),this.$fromUndo=!1}},$.prototype.redoChanges=function(D,M){if(D.length){this.$fromUndo=!0;for(var L=0;L<D.length;L++){var O=D[L];(O.action=="insert"||O.action=="remove")&&this.doc.$safeApplyDelta(O)}!M&&this.$undoSelect&&(D.selectionAfter?this.selection.fromJSON(D.selectionAfter):this.selection.setRange(this.$getUndoSelection(D,!1))),this.$fromUndo=!1}},$.prototype.setUndoSelect=function(D){this.$undoSelect=D},$.prototype.$getUndoSelection=function(D,M){function L(U){return M?U.action!=="insert":U.action==="insert"}for(var O,z,B=0;B<D.length;B++){var P=D[B];if(P.start){if(!O){L(P)?O=i.fromPoints(P.start,P.end):O=i.fromPoints(P.start,P.start);continue}L(P)?(z=P.start,O.compare(z.row,z.column)==-1&&O.setStart(z),z=P.end,O.compare(z.row,z.column)==1&&O.setEnd(z)):(z=P.start,O.compare(z.row,z.column)==-1&&(O=i.fromPoints(P.start,P.start)))}}return O},$.prototype.replace=function(D,M){return this.doc.replace(D,M)},$.prototype.moveText=function(D,M,L){var O=this.getTextRange(D),z=this.getFoldsInRange(D),B=i.fromPoints(M,M);if(!L){this.remove(D);var P=D.start.row-D.end.row,U=P?-D.end.column:D.start.column-D.end.column;U&&(B.start.row==D.end.row&&B.start.column>D.end.column&&(B.start.column+=U),B.end.row==D.end.row&&B.end.column>D.end.column&&(B.end.column+=U)),P&&B.start.row>=D.end.row&&(B.start.row+=P,B.end.row+=P)}if(B.end=this.insert(B.start,O),z.length){var W=D.start,K=B.start,P=K.row-W.row,U=K.column-W.column;this.addFolds(z.map(function(q){return q=q.clone(),q.start.row==W.row&&(q.start.column+=U),q.end.row==W.row&&(q.end.column+=U),q.start.row+=P,q.end.row+=P,q}))}return B},$.prototype.indentRows=function(D,M,L){L=L.replace(/\t/g,this.getTabString());for(var O=D;O<=M;O++)this.doc.insertInLine({row:O,column:0},L)},$.prototype.outdentRows=function(D){for(var M=D.collapseRows(),L=new i(0,0,0,0),O=this.getTabSize(),z=M.start.row;z<=M.end.row;++z){var B=this.getLine(z);L.start.row=z,L.end.row=z;for(var P=0;P<O&&B.charAt(P)==" ";++P);P<O&&B.charAt(P)=="	"?(L.start.column=P,L.end.column=P+1):(L.start.column=0,L.end.column=P),this.remove(L)}},$.prototype.$moveLines=function(D,M,L){if(D=this.getRowFoldStart(D),M=this.getRowFoldEnd(M),L<0){var O=this.getRowFoldStart(D+L);if(O<0)return 0;var z=O-D}else if(L>0){var O=this.getRowFoldEnd(M+L);if(O>this.doc.getLength()-1)return 0;var z=O-M}else{D=this.$clipRowToDocument(D),M=this.$clipRowToDocument(M);var z=M-D+1}var B=new i(D,0,M,Number.MAX_VALUE),P=this.getFoldsInRange(B).map(function(W){return W=W.clone(),W.start.row+=z,W.end.row+=z,W}),U=L==0?this.doc.getLines(D,M):this.doc.removeFullLines(D,M);return this.doc.insertFullLines(D+z,U),P.length&&this.addFolds(P),z},$.prototype.moveLinesUp=function(D,M){return this.$moveLines(D,M,-1)},$.prototype.moveLinesDown=function(D,M){return this.$moveLines(D,M,1)},$.prototype.duplicateLines=function(D,M){return this.$moveLines(D,M,0)},$.prototype.$clipRowToDocument=function(D){return Math.max(0,Math.min(D,this.doc.getLength()-1))},$.prototype.$clipColumnToRow=function(D,M){return M<0?0:Math.min(this.doc.getLine(D).length,M)},$.prototype.$clipPositionToDocument=function(D,M){if(M=Math.max(0,M),D<0)D=0,M=0;else{var L=this.doc.getLength();D>=L?(D=L-1,M=this.doc.getLine(L-1).length):M=Math.min(this.doc.getLine(D).length,M)}return{row:D,column:M}},$.prototype.$clipRangeToDocument=function(D){D.start.row<0?(D.start.row=0,D.start.column=0):D.start.column=this.$clipColumnToRow(D.start.row,D.start.column);var M=this.doc.getLength()-1;return D.end.row>M?(D.end.row=M,D.end.column=this.doc.getLine(M).length):D.end.column=this.$clipColumnToRow(D.end.row,D.end.column),D},$.prototype.setUseWrapMode=function(D){if(D!=this.$useWrapMode){if(this.$useWrapMode=D,this.$modified=!0,this.$resetRowCache(0),D){var M=this.getLength();this.$wrapData=Array(M),this.$updateWrapData(0,M-1)}this._signal("changeWrapMode")}},$.prototype.getUseWrapMode=function(){return this.$useWrapMode},$.prototype.setWrapLimitRange=function(D,M){(this.$wrapLimitRange.min!==D||this.$wrapLimitRange.max!==M)&&(this.$wrapLimitRange={min:D,max:M},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},$.prototype.adjustWrapLimit=function(D,M){var L=this.$wrapLimitRange;L.max<0&&(L={min:M,max:M});var O=this.$constrainWrapLimit(D,L.min,L.max);return O!=this.$wrapLimit&&O>1?(this.$wrapLimit=O,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},$.prototype.$constrainWrapLimit=function(D,M,L){return M&&(D=Math.max(M,D)),L&&(D=Math.min(L,D)),D},$.prototype.getWrapLimit=function(){return this.$wrapLimit},$.prototype.setWrapLimit=function(D){this.setWrapLimitRange(D,D)},$.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},$.prototype.$updateInternalDataOnChange=function(D){var M=this.$useWrapMode,L=D.action,O=D.start,z=D.end,B=O.row,P=z.row,U=P-B,W=null;if(this.$updating=!0,U!=0)if(L==="remove"){this[M?"$wrapData":"$rowLengthCache"].splice(B,U);var K=this.$foldData;W=this.getFoldsInRange(D),this.removeFolds(W);var Y=this.getFoldLine(z.row),X=0;if(Y){Y.addRemoveChars(z.row,z.column,O.column-z.column),Y.shiftRow(-U);var q=this.getFoldLine(B);q&&q!==Y&&(q.merge(Y),Y=q),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=z.row&&Y.shiftRow(-U)}P=B}else{var J=Array(U);J.unshift(B,0);var V=M?this.$wrapData:this.$rowLengthCache;V.splice.apply(V,J);var K=this.$foldData,Y=this.getFoldLine(B),X=0;if(Y){var Q=Y.range.compareInside(O.row,O.column);Q==0?(Y=Y.split(O.row,O.column),Y&&(Y.shiftRow(U),Y.addRemoveChars(P,0,z.column-O.column))):Q==-1&&(Y.addRemoveChars(B,0,z.column-O.column),Y.shiftRow(U)),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=B&&Y.shiftRow(U)}}else{U=Math.abs(D.start.column-D.end.column),L==="remove"&&(W=this.getFoldsInRange(D),this.removeFolds(W),U=-U);var Y=this.getFoldLine(B);Y&&Y.addRemoveChars(B,O.column,U)}return M&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,M?this.$updateWrapData(B,P):this.$updateRowLengthCache(B,P),W},$.prototype.$updateRowLengthCache=function(D,M){this.$rowLengthCache[D]=null,this.$rowLengthCache[M]=null},$.prototype.$updateWrapData=function(D,M){var L=this.doc.getAllLines(),O=this.getTabSize(),z=this.$wrapData,B=this.$wrapLimit,P,U,W=D;for(M=Math.min(M,L.length-1);W<=M;)U=this.getFoldLine(W,U),U?(P=[],U.walk((function(K,Y,X,q){var J;if(K!=null){J=this.$getDisplayTokens(K,P.length),J[0]=w;for(var V=1;V<J.length;V++)J[V]=b}else J=this.$getDisplayTokens(L[Y].substring(q,X),P.length);P=P.concat(J)}).bind(this),U.end.row,L[U.end.row].length+1),z[U.start.row]=this.$computeWrapSplits(P,B,O),W=U.end.row+1):(P=this.$getDisplayTokens(L[W]),z[W]=this.$computeWrapSplits(P,B,O),W++)},$.prototype.$computeWrapSplits=function(D,M,L){if(D.length==0)return[];var O=[],z=D.length,B=0,P=0,U=this.$wrapAsCode,W=this.$indentedSoftWrap,K=M<=Math.max(2*L,8)||W===!1?0:Math.floor(M/2);function Y(){var Q=0;if(K===0)return Q;if(W)for(var te=0;te<D.length;te++){var ie=D[te];if(ie==A)Q+=1;else if(ie==T)Q+=L;else{if(ie==j)continue;break}}return U&&W!==!1&&(Q+=L),Math.min(Q,K)}function X(Q){for(var te=Q-B,ie=B;ie<Q;ie++){var me=D[ie];(me===12||me===2)&&(te-=1)}O.length||(q=Y(),O.indent=q),P+=te,O.push(P),B=Q}for(var q=0;z-B>M-q;){var J=B+M-q;if(D[J-1]>=A&&D[J]>=A){X(J);continue}if(D[J]==w||D[J]==b){for(J;J!=B-1&&D[J]!=w;J--);if(J>B){X(J);continue}for(J=B+M,J;J<D.length&&D[J]==b;J++);if(J==D.length)break;X(J);continue}for(var V=Math.max(J-(M-(M>>2)),B-1);J>V&&D[J]<w;)J--;if(U){for(;J>V&&D[J]<w;)J--;for(;J>V&&D[J]==k;)J--}else for(;J>V&&D[J]<A;)J--;if(J>V){X(++J);continue}J=B+M,D[J]==S&&J--,X(J-q)}return O},$.prototype.$getDisplayTokens=function(D,M){var L=[],O;M=M||0;for(var z=0;z<D.length;z++){var B=D.charCodeAt(z);if(B==9){O=this.getScreenTabSize(L.length+M),L.push(T);for(var P=1;P<O;P++)L.push(j)}else B==32?L.push(A):B>39&&B<48||B>57&&B<64?L.push(k):B>=4352&&F(B)?L.push(x,S):L.push(x)}return L},$.prototype.$getStringScreenWidth=function(D,M,L){if(M==0)return[0,0];M==null&&(M=1/0),L=L||0;var O,z;for(z=0;z<D.length&&(O=D.charCodeAt(z),O==9?L+=this.getScreenTabSize(L):O>=4352&&F(O)?L+=2:L+=1,!(L>M));z++);return[L,z]},$.prototype.getRowLength=function(D){var M=1;return this.lineWidgets&&(M+=this.lineWidgets[D]&&this.lineWidgets[D].rowCount||0),!this.$useWrapMode||!this.$wrapData[D]?M:this.$wrapData[D].length+M},$.prototype.getRowLineCount=function(D){return!this.$useWrapMode||!this.$wrapData[D]?1:this.$wrapData[D].length+1},$.prototype.getRowWrapIndent=function(D){if(this.$useWrapMode){var M=this.screenToDocumentPosition(D,Number.MAX_VALUE),L=this.$wrapData[M.row];return L.length&&L[0]<M.column?L.indent:0}else return 0},$.prototype.getScreenLastRowColumn=function(D){var M=this.screenToDocumentPosition(D,Number.MAX_VALUE);return this.documentToScreenColumn(M.row,M.column)},$.prototype.getDocumentLastRowColumn=function(D,M){var L=this.documentToScreenRow(D,M);return this.getScreenLastRowColumn(L)},$.prototype.getDocumentLastRowColumnPosition=function(D,M){var L=this.documentToScreenRow(D,M);return this.screenToDocumentPosition(L,Number.MAX_VALUE/10)},$.prototype.getRowSplitData=function(D){if(this.$useWrapMode)return this.$wrapData[D]},$.prototype.getScreenTabSize=function(D){return this.$tabSize-(D%this.$tabSize|0)},$.prototype.screenToDocumentRow=function(D,M){return this.screenToDocumentPosition(D,M).row},$.prototype.screenToDocumentColumn=function(D,M){return this.screenToDocumentPosition(D,M).column},$.prototype.screenToDocumentPosition=function(D,M,L){if(D<0)return{row:0,column:0};var O,z=0,B=0,P,U=0,W=0,K=this.$screenRowCache,Y=this.$getRowCacheIndex(K,D),X=K.length;if(X&&Y>=0)var U=K[Y],z=this.$docRowCache[Y],q=D>K[X-1];else var q=!X;for(var J=this.getLength()-1,V=this.getNextFoldLine(z),Q=V?V.start.row:1/0;U<=D&&(W=this.getRowLength(z),!(U+W>D||z>=J));)U+=W,z++,z>Q&&(z=V.end.row+1,V=this.getNextFoldLine(z,V),Q=V?V.start.row:1/0),q&&(this.$docRowCache.push(z),this.$screenRowCache.push(U));if(V&&V.start.row<=z)O=this.getFoldDisplayLine(V),z=V.start.row;else{if(U+W<=D||z>J)return{row:J,column:this.getLine(J).length};O=this.getLine(z),V=null}var te=0,ie=Math.floor(D-U);if(this.$useWrapMode){var me=this.$wrapData[z];me&&(P=me[ie],ie>0&&me.length&&(te=me.indent,B=me[ie-1]||me[me.length-1],O=O.substring(B)))}return L!==void 0&&this.$bidiHandler.isBidiRow(U+ie,z,ie)&&(M=this.$bidiHandler.offsetToCol(L)),B+=this.$getStringScreenWidth(O,M-te)[1],this.$useWrapMode&&B>=P&&(B=P-1),V?V.idxToPosition(B):{row:z,column:B}},$.prototype.documentToScreenPosition=function(D,M){if(typeof M>"u")var L=this.$clipPositionToDocument(D.row,D.column);else L=this.$clipPositionToDocument(D,M);D=L.row,M=L.column;var O=0,z=null,B=null;B=this.getFoldAt(D,M,1),B&&(D=B.start.row,M=B.start.column);var P,U=0,W=this.$docRowCache,K=this.$getRowCacheIndex(W,D),Y=W.length;if(Y&&K>=0)var U=W[K],O=this.$screenRowCache[K],X=D>W[Y-1];else var X=!Y;for(var q=this.getNextFoldLine(U),J=q?q.start.row:1/0;U<D;){if(U>=J){if(P=q.end.row+1,P>D)break;q=this.getNextFoldLine(P,q),J=q?q.start.row:1/0}else P=U+1;O+=this.getRowLength(U),U=P,X&&(this.$docRowCache.push(U),this.$screenRowCache.push(O))}var V="";q&&U>=J?(V=this.getFoldDisplayLine(q,D,M),z=q.start.row):(V=this.getLine(D).substring(0,M),z=D);var Q=0;if(this.$useWrapMode){var te=this.$wrapData[z];if(te){for(var ie=0;V.length>=te[ie];)O++,ie++;V=V.substring(te[ie-1]||0,V.length),Q=ie>0?te.indent:0}}return this.lineWidgets&&this.lineWidgets[U]&&this.lineWidgets[U].rowsAbove&&(O+=this.lineWidgets[U].rowsAbove),{row:O,column:Q+this.$getStringScreenWidth(V)[0]}},$.prototype.documentToScreenColumn=function(D,M){return this.documentToScreenPosition(D,M).column},$.prototype.documentToScreenRow=function(D,M){return this.documentToScreenPosition(D,M).row},$.prototype.getScreenLength=function(){var D=0,M=null;if(this.$useWrapMode)for(var z=this.$wrapData.length,B=0,O=0,M=this.$foldData[O++],P=M?M.start.row:1/0;B<z;){var U=this.$wrapData[B];D+=U?U.length+1:1,B++,B>P&&(B=M.end.row+1,M=this.$foldData[O++],P=M?M.start.row:1/0)}else{D=this.getLength();for(var L=this.$foldData,O=0;O<L.length;O++)M=L[O],D-=M.end.row-M.start.row}return this.lineWidgets&&(D+=this.$getWidgetScreenLength()),D},$.prototype.$setFontMetrics=function(D){this.$enableVarChar&&(this.$getStringScreenWidth=function(M,L,O){if(L===0)return[0,0];L||(L=1/0),O=O||0;var z,B;for(B=0;B<M.length&&(z=M.charAt(B),z==="	"?O+=this.getScreenTabSize(O):O+=D.getCharacterWidth(z),!(O>L));B++);return[O,B]})},$.prototype.getPrecedingCharacter=function(){var D=this.selection.getCursor();if(D.column===0)return D.row===0?"":this.doc.getNewLineCharacter();var M=this.getLine(D.row);return M[D.column-1]},$.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},$})();g.$uid=0,g.prototype.$modes=a.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=F,E.implement(g.prototype,u);var x=1,S=2,w=3,b=4,k=9,A=10,T=11,j=12;function F($){return $<4352?!1:$>=4352&&$<=4447||$>=4515&&$<=4519||$>=4602&&$<=4607||$>=9001&&$<=9002||$>=11904&&$<=11929||$>=11931&&$<=12019||$>=12032&&$<=12245||$>=12272&&$<=12283||$>=12288&&$<=12350||$>=12353&&$<=12438||$>=12441&&$<=12543||$>=12549&&$<=12589||$>=12593&&$<=12686||$>=12688&&$<=12730||$>=12736&&$<=12771||$>=12784&&$<=12830||$>=12832&&$<=12871||$>=12880&&$<=13054||$>=13056&&$<=19903||$>=19968&&$<=42124||$>=42128&&$<=42182||$>=43360&&$<=43388||$>=44032&&$<=55203||$>=55216&&$<=55238||$>=55243&&$<=55291||$>=63744&&$<=64255||$>=65040&&$<=65049||$>=65072&&$<=65106||$>=65108&&$<=65126||$>=65128&&$<=65131||$>=65281&&$<=65376||$>=65504&&$<=65510}m("./edit_session/folding").Folding.call(g.prototype),m("./edit_session/bracket_match").BracketMatch.call(g.prototype),a.defineOptions(g.prototype,"session",{wrap:{set:function($){if(!$||$=="off"?$=!1:$=="free"?$=!0:$=="printMargin"?$=-1:typeof $=="string"&&($=parseInt($,10)||!1),this.$wrap!=$)if(this.$wrap=$,!$)this.setUseWrapMode(!1);else{var D=typeof $=="number"?$:null;this.setWrapLimitRange(D,D),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function($){$=$=="auto"?this.$mode.type!="text":$!="text",$!=this.$wrapAsCode&&(this.$wrapAsCode=$,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function($){this.$useWorker=$,this.$stopWorker(),$&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function($){$=parseInt($),$>0&&this.$tabSize!==$&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=$,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function($){this.setFoldStyle($)},handlesSet:!0},overwrite:{set:function($){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function($){this.doc.setNewLineMode($)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function($){this.setMode($)},get:function(){return this.$modeId},handlesSet:!0}}),v.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(m,v,R){var E=m("./lib/lang"),y=m("./lib/oop"),f=m("./range").Range,a=(function(){function i(){this.$options={}}return i.prototype.set=function(r){return y.mixin(this.$options,r),this},i.prototype.getOptions=function(){return E.copyObject(this.$options)},i.prototype.setOptions=function(r){this.$options=r},i.prototype.find=function(r){var l=this.$options,h=this.$matchIterator(r,l);if(!h)return!1;var o=null;return h.forEach(function(d,g,x,S){return o=new f(d,g,x,S),g==S&&l.start&&l.start.start&&l.skipCurrent!=!1&&o.isEqual(l.start)?(o=null,!1):!0}),o},i.prototype.findAll=function(r){var l=this.$options;if(!l.needle)return[];this.$assembleRegExp(l);var h=l.range,o=h?r.getLines(h.start.row,h.end.row):r.doc.getAllLines(),d=[],g=l.re;if(l.$isMultiLine){var x=g.length,S=o.length-x,w;e:for(var b=g.offset||0;b<=S;b++){for(var k=0;k<x;k++)if(o[b+k].search(g[k])==-1)continue e;var A=o[b],T=o[b+x-1],j=A.length-A.match(g[0])[0].length,F=T.match(g[x-1])[0].length;w&&w.end.row===b&&w.end.column>j||(d.push(w=new f(b,j,b+x-1,F)),x>2&&(b=b+x-2))}}else for(var $,D=0;D<o.length;D++)if(this.$isMultilineSearch(l)){var M=o.length-1;if($=this.$multiLineForward(r,g,D,M),$){var L=$.endRow<=M?$.endRow-1:M;L>D&&(D=L),d.push(new f($.startRow,$.startCol,$.endRow,$.endCol))}}else{$=E.getMatchOffsets(o[D],g);for(var k=0;k<$.length;k++){var O=$[k];d.push(new f(D,O.offset,D,O.offset+O.length))}}if(h){for(var z=h.start.column,B=h.end.column,D=0,k=d.length-1;D<k&&d[D].start.column<z&&d[D].start.row==0;)D++;for(var P=h.end.row-h.start.row;D<k&&d[k].end.column>B&&d[k].end.row==P;)k--;for(d=d.slice(D,k+1),D=0,k=d.length;D<k;D++)d[D].start.row+=h.start.row,d[D].end.row+=h.start.row}return d},i.prototype.parseReplaceString=function(r){for(var l={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},h="",o=0,d=r.length;o<d;o++){var g=r.charCodeAt(o);if(g===l.Backslash){if(o++,o>=d){h+="\\";break}var x=r.charCodeAt(o);switch(x){case l.Backslash:h+="\\";break;case l.n:h+=`
`;break;case l.t:h+="	";break}continue}if(g===l.DollarSign){if(o++,o>=d){h+="$";break}var S=r.charCodeAt(o);if(S===l.DollarSign){h+="$$";continue}if(S===l.Digit0||S===l.Ampersand){h+="$&";continue}if(l.Digit1<=S&&S<=l.Digit9){h+="$"+r[o];continue}}h+=r[o]}return h||r},i.prototype.replace=function(r,l){var h=this.$options,o=this.$assembleRegExp(h);if(h.$isMultiLine)return l;if(o){var d=this.$isMultilineSearch(h);d&&(r=r.replace(/\r\n|\r|\n/g,`
`));var g=o.exec(r);if(!g||!d&&g[0].length!=r.length)return null;if(l=h.regExp?this.parseReplaceString(l):l.replace(/\$/g,"$$$$"),l=r.replace(o,l),h.preserveCase){l=l.split("");for(var x=Math.min(r.length,r.length);x--;){var S=r[x];S&&S.toLowerCase()!=S?l[x]=l[x].toUpperCase():l[x]=l[x].toLowerCase()}l=l.join("")}return l}},i.prototype.$assembleRegExp=function(r,l){if(r.needle instanceof RegExp)return r.re=r.needle;var h=r.needle;if(!r.needle)return r.re=!1;r.regExp||(h=E.escapeRegExp(h));var o=r.caseSensitive?"gm":"gmi";try{new RegExp(h,"u"),r.$supportsUnicodeFlag=!0,o+="u"}catch{r.$supportsUnicodeFlag=!1}if(r.wholeWord&&(h=u(h,r)),r.$isMultiLine=!l&&/[\n\r]/.test(h),r.$isMultiLine)return r.re=this.$assembleMultilineRegExp(h,o);try{var d=new RegExp(h,o)}catch{d=!1}return r.re=d},i.prototype.$assembleMultilineRegExp=function(r,l){for(var h=r.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),o=[],d=0;d<h.length;d++)try{o.push(new RegExp(h[d],l))}catch{return!1}return o},i.prototype.$isMultilineSearch=function(r){return r.re&&/\\r\\n|\\r|\\n/.test(r.re.source)&&r.regExp&&!r.$isMultiLine},i.prototype.$multiLineForward=function(r,l,h,o){for(var d,g=n(r,h),x=h;x<=o;){for(var S=0;S<g&&!(x>o);S++){var w=r.getLine(x++);d=d==null?w:d+`
`+w}var b=l.exec(d);if(l.lastIndex=0,b){var k=d.slice(0,b.index).split(`
`),A=b[0].split(`
`),T=h+k.length-1,j=k[k.length-1].length,F=T+A.length-1,$=A.length==1?j+A[0].length:A[A.length-1].length;return{startRow:T,startCol:j,endRow:F,endCol:$}}}return null},i.prototype.$multiLineBackward=function(r,l,h,o,d){for(var g,x=n(r,o),S=r.getLine(o).length-h,w=o;w>=d;){for(var b=0;b<x&&w>=d;b++){var k=r.getLine(w--);g=g==null?k:k+`
`+g}var A=s(g,l,S);if(A){var T=g.slice(0,A.index).split(`
`),j=A[0].split(`
`),F=w+T.length,$=T[T.length-1].length,D=F+j.length-1,M=j.length==1?$+j[0].length:j[j.length-1].length;return{startRow:F,startCol:$,endRow:D,endCol:M}}}return null},i.prototype.$matchIterator=function(r,l){var h=this.$assembleRegExp(l);if(!h)return!1;var o=this.$isMultilineSearch(l),d=this.$multiLineForward,g=this.$multiLineBackward,x=l.backwards==!0,S=l.skipCurrent!=!1,w=h.unicode,b=l.range,k=l.start;k||(k=b?b[x?"end":"start"]:r.selection.getRange()),k.start&&(k=k[S!=x?"end":"start"]);var A=b?b.start.row:0,T=b?b.end.row:r.getLength()-1;if(x)var j=function(D){var M=k.row;if(!$(M,k.column,D)){for(M--;M>=A;M--)if($(M,Number.MAX_VALUE,D))return;if(l.wrap!=!1){for(M=T,A=k.row;M>=A;M--)if($(M,Number.MAX_VALUE,D))return}}};else var j=function(M){var L=k.row;if(!$(L,k.column,M)){for(L=L+1;L<=T;L++)if($(L,0,M))return;if(l.wrap!=!1){for(L=A,T=k.row;L<=T;L++)if($(L,0,M))return}}};if(l.$isMultiLine)var F=h.length,$=function(D,M,L){var O=x?D-F+1:D;if(!(O<0||O+F>r.getLength())){var z=r.getLine(O),B=z.search(h[0]);if(!(!x&&B<M||B===-1)){for(var P=1;P<F;P++)if(z=r.getLine(O+P),z.search(h[P])==-1)return;var U=z.match(h[F-1])[0].length;if(!(x&&U>M)&&L(O,B,O+F-1,U))return!0}}};else if(x)var $=function(M,L,O){if(o){var z=g(r,h,L,M,A);if(!z)return!1;if(O(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else{var B=r.getLine(M),P=[],U,W=0;for(h.lastIndex=0;U=h.exec(B);){var K=U[0].length;if(W=U.index,!K){if(W>=B.length)break;h.lastIndex=W+=E.skipEmptyMatch(B,W,w)}if(U.index+K>L)break;P.push(U.index,K)}for(var Y=P.length-1;Y>=0;Y-=2){var X=P[Y-1],K=P[Y];if(O(M,X,M,X+K))return!0}}};else var $=function(M,L,O){if(h.lastIndex=L,o){var z=d(r,h,M,T);if(z){var B=z.endRow<=T?z.endRow-1:T;B>M&&(M=B)}if(!z)return!1;if(O(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else for(var P=r.getLine(M),U,W;W=h.exec(P);){var K=W[0].length;if(U=W.index,O(M,U,M,U+K))return!0;if(!K&&(h.lastIndex=U+=E.skipEmptyMatch(P,U,w),U>=P.length))return!1}};return{forEach:j}},i})();function u(i,r){var l=E.supportsLookbehind();function h(x,S){S===void 0&&(S=!0);var w=l&&r.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return w.test(x)||r.regExp?l&&r.$supportsUnicodeFlag?S?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var o=Array.from(i),d=o[0],g=o[o.length-1];return h(d)+i+h(g,!1)}function s(i,r,l){for(var h=null,o=0;o<=i.length;){r.lastIndex=o;var d=r.exec(i);if(!d)break;var g=d.index+d[0].length;if(g>i.length-l)break;(!h||g>h.index+h[0].length)&&(h=d),o=d.index+1}return h}function n(i,r){var l=5e3,h={row:r,column:0},o=i.doc.positionToIndex(h),d=o+l,g=i.doc.indexToPosition(d),x=g.row;return x+1}v.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(m,v,R){var E=this&&this.__extends||(function(){var i=function(r,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,o){h.__proto__=o}||function(h,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(h[d]=o[d])},i(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(r,l);function h(){this.constructor=r}r.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}})(),y=m("../lib/keys"),f=m("../lib/useragent"),a=y.KEY_MODS,u=(function(){function i(r,l){this.$init(r,l,!1)}return i.prototype.$init=function(r,l,h){this.platform=l||(f.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(r),this.$singleCommand=h},i.prototype.addCommand=function(r){this.commands[r.name]&&this.removeCommand(r),this.commands[r.name]=r,r.bindKey&&this._buildKeyHash(r)},i.prototype.removeCommand=function(r,l){var h=r&&(typeof r=="string"?r:r.name);r=this.commands[h],l||delete this.commands[h];var o=this.commandKeyBinding;for(var d in o){var g=o[d];if(g==r)delete o[d];else if(Array.isArray(g)){var x=g.indexOf(r);x!=-1&&(g.splice(x,1),g.length==1&&(o[d]=g[0]))}}},i.prototype.bindKey=function(r,l,h){if(typeof r=="object"&&r&&(h==null&&(h=r.position),r=r[this.platform]),!!r){if(typeof l=="function")return this.addCommand({exec:l,bindKey:r,name:l.name||r});r.split("|").forEach(function(o){var d="";if(o.indexOf(" ")!=-1){var g=o.split(/\s+/);o=g.pop(),g.forEach(function(w){var b=this.parseKeys(w),k=a[b.hashId]+b.key;d+=(d?" ":"")+k,this._addCommandToBinding(d,"chainKeys")},this),d+=" "}var x=this.parseKeys(o),S=a[x.hashId]+x.key;this._addCommandToBinding(d+S,l,h)},this)}},i.prototype._addCommandToBinding=function(r,l,h){var o=this.commandKeyBinding,d;if(!l)delete o[r];else if(!o[r]||this.$singleCommand)o[r]=l;else{Array.isArray(o[r])?(d=o[r].indexOf(l))!=-1&&o[r].splice(d,1):o[r]=[o[r]],typeof h!="number"&&(h=s(l));var g=o[r];for(d=0;d<g.length;d++){var x=g[d],S=s(x);if(S>h)break}g.splice(d,0,l)}},i.prototype.addCommands=function(r){r&&Object.keys(r).forEach(function(l){var h=r[l];if(h){if(typeof h=="string")return this.bindKey(h,l);typeof h=="function"&&(h={exec:h}),typeof h=="object"&&(h.name||(h.name=l),this.addCommand(h))}},this)},i.prototype.removeCommands=function(r){Object.keys(r).forEach(function(l){this.removeCommand(r[l])},this)},i.prototype.bindKeys=function(r){Object.keys(r).forEach(function(l){this.bindKey(l,r[l])},this)},i.prototype._buildKeyHash=function(r){this.bindKey(r.bindKey,r)},i.prototype.parseKeys=function(r){var l=r.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(S){return S}),h=l.pop(),o=y[h];if(y.FUNCTION_KEYS[o])h=y.FUNCTION_KEYS[o].toLowerCase();else if(l.length){if(l.length==1&&l[0]=="shift")return{key:h.toUpperCase(),hashId:-1}}else return{key:h,hashId:-1};for(var d=0,g=l.length;g--;){var x=y.KEY_MODS[l[g]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+l[g]+" in "+r),!1;d|=x}return{key:h,hashId:d}},i.prototype.findKeyCommand=function(r,l){var h=a[r]+l;return this.commandKeyBinding[h]},i.prototype.handleKeyboard=function(r,l,h,o){if(!(o<0)){var d=a[l]+h,g=this.commandKeyBinding[d];return r.$keyChain&&(r.$keyChain+=" "+d,g=this.commandKeyBinding[r.$keyChain]||g),g&&(g=="chainKeys"||g[g.length-1]=="chainKeys")?(r.$keyChain=r.$keyChain||d,{command:"null"}):(r.$keyChain&&((!l||l==4)&&h.length==1?r.$keyChain=r.$keyChain.slice(0,-d.length-1):(l==-1||o>0)&&(r.$keyChain="")),{command:g})}},i.prototype.getStatusText=function(r,l){return l.$keyChain||""},i})();function s(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var n=(function(i){E(r,i);function r(l,h){var o=i.call(this,l,h)||this;return o.$singleCommand=!0,o}return r})(u);n.call=function(i,r,l){u.prototype.$init.call(i,r,l,!0)},u.call=function(i,r,l){u.prototype.$init.call(i,r,l,!1)},v.HashHandler=n,v.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var s=function(n,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(r[h]=l[h])},s(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");s(n,i);function r(){this.constructor=n}n.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})(),y=m("../lib/oop"),f=m("../keyboard/hash_handler").MultiHashHandler,a=m("../lib/event_emitter").EventEmitter,u=(function(s){E(n,s);function n(i,r){var l=s.call(this,r,i)||this;return l.byName=l.commands,l.setDefaultHandler("exec",function(h){return h.args?h.command.exec(h.editor,h.args,h.event,!1):h.command.exec(h.editor,{},h.event,!0)}),l}return n.prototype.exec=function(i,r,l){if(Array.isArray(i)){for(var h=i.length;h--;)if(this.exec(i[h],r,l))return!0;return!1}typeof i=="string"&&(i=this.commands[i]);var o={editor:r,command:i,args:l};return this.canExecute(i,r)?(o.returnValue=this._emit("exec",o),this._signal("afterExec",o),o.returnValue!==!1):(this._signal("commandUnavailable",o),!1)},n.prototype.canExecute=function(i,r){return typeof i=="string"&&(i=this.commands[i]),!(!i||r&&r.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(r))},n.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(r){this.macro.push([r.command,r.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},n.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(r){typeof r=="string"?this.exec(r,i):this.exec(r[0],i,r[1])},this)}finally{this.$inReplay=!1}}},n.prototype.trimMacro=function(i){return i.map(function(r){return typeof r[0]!="string"&&(r[0]=r[0].name),r[1]||(r=r[0]),r})},n})(f);y.implement(u.prototype,a),v.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(m,v,R){var E=m("../lib/lang"),y=m("../config"),f=m("../range").Range;function a(s,n){return{win:s,mac:n}}v.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(s){y.loadModule("ace/ext/settings_menu",function(n){n.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(s){y.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(s){y.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(s,n){typeof n=="number"&&!isNaN(n)&&s.gotoLine(n),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(s){y.loadModule("ace/ext/searchbox",function(n){n.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(s,n){s.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(s,n){s.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(s,n){s.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(s,n){s.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var n=s.$copyWithEmptySelection&&s.selection.isEmpty(),i=n?s.selection.getLineRange():s.selection.getRange();s._emit("cut",i),i.isEmpty()||s.session.remove(i),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,n){s.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(s){y.loadModule("ace/ext/searchbox",function(n){n.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(s){if(s.selection.isEmpty())s.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(s){var n=s.selection.getRange();n.start.column=0,s.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(s){var n=s.selection.getRange();n.end.column=Number.MAX_VALUE,s.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,n){s.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,n){s.insert(E.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(s){s.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var n=s.selection.getRange();n.start.column=n.end.column=0,n.end.row++,s.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(s){s.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(s){for(var n=s.selection.isBackwards(),i=n?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),r=n?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),l=s.session.doc.getLine(i.row).length,h=s.session.doc.getTextRange(s.selection.getRange()),o=h.replace(/\n\s*/," ").length,d=s.session.doc.getLine(i.row),g=i.row+1;g<=r.row+1;g++){var x=E.stringTrimLeft(E.stringTrimRight(s.session.doc.getLine(g)));x.length!==0&&(x=" "+x),d+=x}r.row+1<s.session.doc.getLength()-1&&(d+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new f(i.row,0,r.row+2,0),d),o>0?(s.selection.moveCursorTo(i.row,i.column),s.selection.selectTo(i.row,i.column+o)):(l=s.session.doc.getLine(i.row).length>l?l+1:l,s.selection.moveCursorTo(i.row,l))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(s){var n=s.session.doc.getLength()-1,i=s.session.doc.getLine(n).length,r=s.selection.rangeList.ranges,l=[];r.length<1&&(r=[s.selection.getRange()]);for(var h=0;h<r.length;h++)h==r.length-1&&(r[h].end.row===n&&r[h].end.column===i||l.push(new f(r[h].end.row,r[h].end.column,n,i))),h===0?r[h].start.row===0&&r[h].start.column===0||l.push(new f(0,0,r[h].start.row,r[h].start.column)):l.push(new f(r[h-1].end.row,r[h-1].end.column,r[h].start.row,r[h].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var h=0;h<l.length;h++)s.selection.addRange(l[h],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var n=s.getCursorPosition();s.selection.moveTo(n.row-1,Number.MAX_VALUE),s.insert(`
`),n.row===0&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(s){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),s.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)v.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(m,v,R){var E=m("../lib/keys"),y=(function(){function a(u){this.editor=u,this.gutterLayer=u.renderer.$gutterLayer,this.element=u.renderer.$gutter,this.lines=u.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return a.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},a.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},a.prototype.$onGutterKeyDown=function(u){if(this.annotationTooltip.isOpen){u.preventDefault(),u.keyCode===E.escape&&this.annotationTooltip.hide();return}if(u.target===this.element){if(u.keyCode!=E.enter)return;u.preventDefault();var s=this.editor.getCursorPosition().row;this.editor.isRowVisible(s)||this.editor.scrollToLine(s,!0,!0),setTimeout((function(){var n=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),i=this.$findNearestFoldLaneWidget(n),r=this.$findNearestAnnotation(n);if(!(i===null&&r===null)){var l=this.$findClosestNumber(i,r,n);if(l===i)if(this.activeLane="fold",this.activeRowIndex=i,this.$isCustomWidgetVisible(i)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=r,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(u),setTimeout((function(){this.editor._signal("gutterkeydown",new f(u,this))}).bind(this),10)},a.prototype.$handleGutterKeyboardInteraction=function(u){if(u.keyCode===E.tab){u.preventDefault();return}if(u.keyCode===E.escape){u.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(u.keyCode===E.up){switch(u.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(u.keyCode===E.down){switch(u.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(u.keyCode===E.left){u.preventDefault(),this.$switchLane("annotation");return}if(u.keyCode===E.right){u.preventDefault(),this.$switchLane("fold");return}if(u.keyCode===E.enter||u.keyCode===E.space){switch(u.preventDefault(),this.activeLane){case"fold":var s=this.$rowIndexToRow(this.activeRowIndex),n=this.editor.session.$gutterCustomWidgets[s];if(n)n.callbacks&&n.callbacks.onClick&&n.callbacks.onClick(u,s);else if(this.gutterLayer.session.foldWidgets[s]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),u),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==s&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(s),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},a.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},a.prototype.$isFoldWidgetVisible=function(u){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(u)),n=this.$getFoldWidget(u).style.display!=="none";return s&&n},a.prototype.$isCustomWidgetVisible=function(u){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(u)),n=!!this.$getCustomWidget(u);return s&&n},a.prototype.$isAnnotationVisible=function(u){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(u)),n=this.$getAnnotation(u).style.display!=="none";return s&&n},a.prototype.$getFoldWidget=function(u){var s=this.lines.get(u),n=s.element;return n.childNodes[1]},a.prototype.$getCustomWidget=function(u){var s=this.lines.get(u),n=s.element;return n.childNodes[3]},a.prototype.$getAnnotation=function(u){var s=this.lines.get(u),n=s.element;return n.childNodes[2]},a.prototype.$findNearestFoldLaneWidget=function(u){if(this.$isCustomWidgetVisible(u)||this.$isFoldWidgetVisible(u))return u;for(var s=0;u-s>0||u+s<this.lines.getLength()-1;){if(s++,u-s>=0&&this.$isCustomWidgetVisible(u-s))return u-s;if(u+s<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(u+s))return u+s;if(u-s>=0&&this.$isFoldWidgetVisible(u-s))return u-s;if(u+s<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(u+s))return u+s}return null},a.prototype.$findNearestAnnotation=function(u){if(this.$isAnnotationVisible(u))return u;for(var s=0;u-s>0||u+s<this.lines.getLength()-1;){if(s++,u-s>=0&&this.$isAnnotationVisible(u-s))return u-s;if(u+s<=this.lines.getLength()-1&&this.$isAnnotationVisible(u+s))return u+s}return null},a.prototype.$focusFoldWidget=function(u){if(u!=null){var s=this.$getFoldWidget(u);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},a.prototype.$focusCustomWidget=function(u){if(u!=null){var s=this.$getCustomWidget(u);s&&(s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus())}},a.prototype.$focusAnnotation=function(u){if(u!=null){var s=this.$getAnnotation(u);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},a.prototype.$blurFoldWidget=function(u){var s=this.$getFoldWidget(u);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},a.prototype.$blurCustomWidget=function(u){var s=this.$getCustomWidget(u);s&&(s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur())},a.prototype.$blurAnnotation=function(u){var s=this.$getAnnotation(u);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},a.prototype.$moveFoldWidgetUp=function(){for(var u=this.activeRowIndex;u>0;)if(u--,this.$isFoldWidgetVisible(u)||this.$isCustomWidgetVisible(u)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=u,this.$isFoldWidgetVisible(u)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveFoldWidgetDown=function(){for(var u=this.activeRowIndex;u<this.lines.getLength()-1;)if(u++,this.$isFoldWidgetVisible(u)||this.$isCustomWidgetVisible(u)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=u,this.$isFoldWidgetVisible(u)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveAnnotationUp=function(){for(var u=this.activeRowIndex;u>0;)if(u--,this.$isAnnotationVisible(u)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=u,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$moveAnnotationDown=function(){for(var u=this.activeRowIndex;u<this.lines.getLength()-1;)if(u++,this.$isAnnotationVisible(u)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=u,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$findClosestNumber=function(u,s,n){return u===null?s:s===null||Math.abs(n-u)<=Math.abs(n-s)?u:s},a.prototype.$switchLane=function(u){switch(u){case"annotation":if(this.activeLane==="annotation")break;var s=this.$findNearestAnnotation(this.activeRowIndex);if(s==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var n=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(n===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$isCustomWidgetVisible(n)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},a.prototype.$rowIndexToRow=function(u){var s=this.lines.get(u);return s?s.row:null},a.prototype.$rowToRowIndex=function(u){for(var s=0;s<this.lines.getLength();s++){var n=this.lines.get(s);if(n.row==u)return s}return null},a})();v.GutterKeyboardHandler=y;var f=(function(){function a(u,s){this.gutterKeyboardHandler=s,this.domEvent=u}return a.prototype.getKey=function(){return E.keyCodeToString(this.domEvent.keyCode)},a.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},a.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},a})();v.GutterKeyboardEvent=f}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(m,v,R){var E=this&&this.__values||function(M){var L=typeof Symbol=="function"&&Symbol.iterator,O=L&&M[L],z=0;if(O)return O.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&z>=M.length&&(M=void 0),{value:M&&M[z++],done:!M}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/lang"),u=m("./lib/useragent"),s=m("./keyboard/textinput").TextInput,n=m("./mouse/mouse_handler").MouseHandler,i=m("./mouse/fold_handler").FoldHandler,r=m("./keyboard/keybinding").KeyBinding,l=m("./edit_session").EditSession,h=m("./search").Search,o=m("./range").Range,d=m("./lib/event_emitter").EventEmitter,g=m("./commands/command_manager").CommandManager,x=m("./commands/default_commands").commands,S=m("./config"),w=m("./token_iterator").TokenIterator,b=m("./keyboard/gutter_handler").GutterKeyboardHandler,k=m("./config").nls,A=m("./clipboard"),T=m("./lib/keys"),j=m("./lib/event"),F=m("./tooltip").HoverTooltip,$=(function(){function M(L,O,z){this.id="editor"+ ++M.$uid,this.session,this.$toDestroy=[];var B=L.getContainerElement();this.container=B,this.renderer=L,this.commands=new g(u.isMac?"mac":"win",x),typeof document=="object"&&(this.textInput=new s(L.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new n(this),new i(this)),this.keyBinding=new r(this),this.$search=new h().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(P,U){U._$emitInputEvent.schedule(31)}),this.setSession(O||z&&z.session||new l("")),S.resetOptions(this),z&&this.setOptions(z),S._signal("editor",this)}return M.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},M.prototype.startOperation=function(L){this.session.startOperation(L)},M.prototype.endOperation=function(L){this.session.endOperation(L)},M.prototype.onStartOperation=function(L){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,L||(this.previousCommand=null)},M.prototype.onEndOperation=function(L){if(this.curOp&&this.session){if(L&&L.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var O=this.curOp.command,z=O&&O.scrollIntoView;if(z){switch(z){case"center-animate":z="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var B=this.selection.getRange(),P=this.renderer.layerConfig;(B.start.row>=P.lastRow||B.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}z=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},M.prototype.$historyTracker=function(L){if(this.$mergeUndoDeltas){var O=this.prevOp,z=this.$mergeableCommands,B=O.command&&L.command.name==O.command.name;if(L.command.name=="insertstring"){var P=L.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),B=B&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(O.args)),this.mergeNextCommand=!0}else B=B&&z.indexOf(L.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(B=!1),B?this.session.mergeUndoDeltas=!0:z.indexOf(L.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},M.prototype.setKeyboardHandler=function(L,O){if(L&&typeof L=="string"&&L!="ace"){this.$keybindingId=L;var z=this;S.loadModule(["keybinding",L],function(B){z.$keybindingId==L&&z.keyBinding.setKeyboardHandler(B&&B.handler),O&&O()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(L),O&&O()},M.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},M.prototype.setSession=function(L){if(this.session!=L){this.curOp&&this.endOperation(),this.curOp={};var O=this.session;if(O){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var z=this.session.getSelection();z.off("changeCursor",this.$onCursorChange),z.off("changeSelection",this.$onSelectionChange)}this.session=L,L?(this.$onDocumentChange=this.onDocumentChange.bind(this),L.on("change",this.$onDocumentChange),this.renderer.setSession(L),this.$onChangeMode=this.onChangeMode.bind(this),L.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),L.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),L.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),L.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),L.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),L.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=L.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(L)),this._signal("changeSession",{session:L,oldSession:O}),this.curOp=null,O&&O._signal("changeEditor",{oldEditor:this}),O&&(O.$editor=null),L&&L._signal("changeEditor",{editor:this}),L&&(L.$editor=this),L&&!L.destroyed&&L.bgTokenizer.scheduleStart()}},M.prototype.getSession=function(){return this.session},M.prototype.setValue=function(L,O){return this.session.doc.setValue(L),O?O==1?this.navigateFileEnd():O==-1&&this.navigateFileStart():this.selectAll(),L},M.prototype.getValue=function(){return this.session.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.resize=function(L){this.renderer.onResize(L)},M.prototype.setTheme=function(L,O){this.renderer.setTheme(L,O)},M.prototype.getTheme=function(){return this.renderer.getTheme()},M.prototype.setStyle=function(L,O){this.renderer.setStyle(L,O)},M.prototype.unsetStyle=function(L){this.renderer.unsetStyle(L)},M.prototype.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container).fontSize},M.prototype.setFontSize=function(L){this.setOption("fontSize",L)},M.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var L=this;this.$highlightPending=!0,setTimeout(function(){L.$highlightPending=!1;var O=L.session;if(!(!O||O.destroyed)){O.$bracketHighlight&&(O.$bracketHighlight.markerIds.forEach(function(q){O.removeMarker(q)}),O.$bracketHighlight=null);var z=L.getCursorPosition(),B=L.getKeyboardHandler(),P=B&&B.$getDirectionForHighlight&&B.$getDirectionForHighlight(L),U=O.getMatchingBracketRanges(z,P);if(!U){var W=new w(O,z.row,z.column),K=W.getCurrentToken();if(K&&/\b(?:tag-open|tag-name)/.test(K.type)){var Y=O.getMatchingTags(z);Y&&(U=[Y.openTagName.isEmpty()?Y.openTag:Y.openTagName,Y.closeTagName.isEmpty()?Y.closeTag:Y.closeTagName])}}if(!U&&O.$mode.getMatching&&(U=O.$mode.getMatching(L.session)),!U){L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide();return}var X="ace_bracket";Array.isArray(U)?U.length==1&&(X="ace_error_bracket"):U=[U],U.length==2&&(o.comparePoints(U[0].end,U[1].start)==0?U=[o.fromPoints(U[0].start,U[1].end)]:o.comparePoints(U[0].start,U[1].end)==0&&(U=[o.fromPoints(U[1].start,U[0].end)])),O.$bracketHighlight={ranges:U,markerIds:U.map(function(q){return O.addMarker(q,X,"text")})},L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide()}},50)}},M.prototype.focus=function(){this.textInput.focus()},M.prototype.isFocused=function(){return this.textInput.isFocused()},M.prototype.blur=function(){this.textInput.blur()},M.prototype.onFocus=function(L){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",L))},M.prototype.onBlur=function(L){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",L))},M.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},M.prototype.onDocumentChange=function(L){var O=this.session.$useWrapMode,z=L.start.row==L.end.row?L.end.row:1/0;this.renderer.updateLines(L.start.row,z,O),this._signal("change",L),this.$cursorChange()},M.prototype.onTokenizerUpdate=function(L){var O=L.data;this.renderer.updateLines(O.first,O.last)},M.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},M.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},M.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},M.prototype.$updateHighlightActiveLine=function(){var L=this.getSession(),O;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(O=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(O=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(O=!1)),L.$highlightLineMarker&&!O)L.removeMarker(L.$highlightLineMarker.id),L.$highlightLineMarker=null;else if(!L.$highlightLineMarker&&O){var z=new o(O.row,O.column,O.row,1/0);z.id=L.addMarker(z,"ace_active-line","screenLine"),L.$highlightLineMarker=z}else O&&(L.$highlightLineMarker.start.row=O.row,L.$highlightLineMarker.end.row=O.row,L.$highlightLineMarker.start.column=O.column,L._signal("changeBackMarker"))},M.prototype.onSelectionChange=function(L){var O=this.session;if(O.$selectionMarker&&O.removeMarker(O.$selectionMarker),O.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var z=this.selection.getRange(),B=this.getSelectionStyle();O.$selectionMarker=O.addMarker(z,"ace_selection",B)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},M.prototype.$getSelectionHighLightRegexp=function(){var L=this.session,O=this.getSelectionRange();if(!(O.isEmpty()||O.isMultiLine())){var z=O.start.column,B=O.end.column,P=L.getLine(O.start.row),U=P.substring(z,B);if(!(U.length>5e3||!/[\w\d]/.test(U))){var W=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:U}),K=P.substring(z-1,B+1);if(W.test(K))return W}}},M.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},M.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},M.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},M.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},M.prototype.onChangeMode=function(L){this.renderer.updateText(),this._emit("changeMode",L)},M.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},M.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},M.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},M.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},M.prototype.getCopyText=function(){var L=this.getSelectedText(),O=this.session.doc.getNewLineCharacter(),z=!1;if(!L&&this.$copyWithEmptySelection){z=!0;for(var B=this.selection.getAllRanges(),P=0;P<B.length;P++){var U=B[P];P&&B[P-1].start.row==U.start.row||(L+=this.session.getLine(U.start.row)+O)}}var W={text:L};return this._signal("copy",W),A.lineMode=z?W.text:!1,W.text},M.prototype.onCopy=function(){this.commands.exec("copy",this)},M.prototype.onCut=function(){this.commands.exec("cut",this)},M.prototype.onPaste=function(L,O){var z={text:L,event:O};this.commands.exec("paste",this,z)},M.prototype.$handlePaste=function(L){typeof L=="string"&&(L={text:L}),this._signal("paste",L);var O=L.text,z=O===A.lineMode,B=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)z?B.insert({row:this.selection.lead.row,column:0},O):this.insert(O);else if(z)this.selection.rangeList.ranges.forEach(function(X){B.insert({row:X.start.row,column:0},O)});else{var P=O.split(/\r\n|\r|\n/),U=this.selection.rangeList.ranges,W=P.length==2&&(!P[0]||!P[1]);if(P.length!=U.length||W)return this.commands.exec("insertstring",this,O);for(var K=U.length;K--;){var Y=U[K];Y.isEmpty()||B.remove(Y),B.insert(Y.start,P[K])}}},M.prototype.execCommand=function(L,O){return this.commands.exec(L,this,O)},M.prototype.insert=function(L,O){var z=this.session,B=z.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!O){var U=B.transformAction(z.getState(P.row),"insertion",this,z,L);U&&(L!==U.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),L=U.text)}if(L=="	"&&(L=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&L.indexOf(`
`)==-1){var W=o.fromPoints(P,P);W.end.column+=L.length,this.session.remove(W)}}else{var W=this.getSelectionRange();P=this.session.remove(W),this.clearSelection()}if(L==`
`||L==`\r
`){var q=z.getLine(P.row);if(P.column>q.search(/\S|$/)){var K=q.substr(P.column).search(/\S|$/);z.doc.removeInLine(P.row,P.column,P.column+K)}}this.clearSelection();var Y=P.column,X=z.getState(P.row),q=z.getLine(P.row),J=B.checkOutdent(X,q,L);if(z.insert(P,L),U&&U.selection&&(U.selection.length==2?this.selection.setSelectionRange(new o(P.row,Y+U.selection[0],P.row,Y+U.selection[1])):this.selection.setSelectionRange(new o(P.row+U.selection[0],U.selection[1],P.row+U.selection[2],U.selection[3]))),this.$enableAutoIndent){if(z.getDocument().isNewLine(L)){var V=B.getNextLineIndent(X,q.slice(0,P.column),z.getTabString());z.insert({row:P.row+1,column:0},V)}J&&B.autoOutdent(X,z,P.row)}},M.prototype.autoIndent=function(){for(var L=this.session,O=L.getMode(),z=this.selection.isEmpty()?[new o(0,0,L.doc.getLength()-1,0)]:this.selection.getAllRanges(),B="",P="",U="",W=L.getTabString(),K=0;K<z.length;K++)for(var Y=z[K].start.row,X=z[K].end.row,q=Y;q<=X;q++){q>0&&(B=L.getState(q-1),P=L.getLine(q-1),U=O.getNextLineIndent(B,P,W));var J=L.getLine(q),V=O.$getIndent(J);if(U!==V){if(V.length>0){var Q=new o(q,0,q,V.length);L.remove(Q)}U.length>0&&L.insert({row:q,column:0},U)}O.autoOutdent(B,L,q)}},M.prototype.onTextInput=function(L,O){if(!O)return this.keyBinding.onTextInput(L);this.startOperation({command:{name:"insertstring"}});var z=this.applyComposition.bind(this,L,O);this.selection.rangeCount?this.forEachSelection(z):z(),this.endOperation()},M.prototype.applyComposition=function(L,O){if(O.extendLeft||O.extendRight){var z=this.selection.getRange();z.start.column-=O.extendLeft,z.end.column+=O.extendRight,z.start.column<0&&(z.start.row--,z.start.column+=this.session.getLine(z.start.row).length+1),this.selection.setRange(z),!L&&!z.isEmpty()&&this.remove()}if((L||!this.selection.isEmpty())&&this.insert(L,!0),O.restoreStart||O.restoreEnd){var z=this.selection.getRange();z.start.column-=O.restoreStart,z.end.column-=O.restoreEnd,this.selection.setRange(z)}},M.prototype.onCommandKey=function(L,O,z){return this.keyBinding.onCommandKey(L,O,z)},M.prototype.setOverwrite=function(L){this.session.setOverwrite(L)},M.prototype.getOverwrite=function(){return this.session.getOverwrite()},M.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},M.prototype.setScrollSpeed=function(L){this.setOption("scrollSpeed",L)},M.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},M.prototype.setDragDelay=function(L){this.setOption("dragDelay",L)},M.prototype.getDragDelay=function(){return this.getOption("dragDelay")},M.prototype.setSelectionStyle=function(L){this.setOption("selectionStyle",L)},M.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},M.prototype.setHighlightActiveLine=function(L){this.setOption("highlightActiveLine",L)},M.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},M.prototype.setHighlightGutterLine=function(L){this.setOption("highlightGutterLine",L)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.setHighlightSelectedWord=function(L){this.setOption("highlightSelectedWord",L)},M.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},M.prototype.setAnimatedScroll=function(L){this.renderer.setAnimatedScroll(L)},M.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},M.prototype.setShowInvisibles=function(L){this.renderer.setShowInvisibles(L)},M.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},M.prototype.setDisplayIndentGuides=function(L){this.renderer.setDisplayIndentGuides(L)},M.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},M.prototype.setHighlightIndentGuides=function(L){this.renderer.setHighlightIndentGuides(L)},M.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},M.prototype.setShowPrintMargin=function(L){this.renderer.setShowPrintMargin(L)},M.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},M.prototype.setPrintMarginColumn=function(L){this.renderer.setPrintMarginColumn(L)},M.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},M.prototype.setReadOnly=function(L){this.setOption("readOnly",L)},M.prototype.getReadOnly=function(){return this.getOption("readOnly")},M.prototype.setBehavioursEnabled=function(L){this.setOption("behavioursEnabled",L)},M.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},M.prototype.setWrapBehavioursEnabled=function(L){this.setOption("wrapBehavioursEnabled",L)},M.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},M.prototype.setShowFoldWidgets=function(L){this.setOption("showFoldWidgets",L)},M.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},M.prototype.setFadeFoldWidgets=function(L){this.setOption("fadeFoldWidgets",L)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.remove=function(L){this.selection.isEmpty()&&(L=="left"?this.selection.selectLeft():this.selection.selectRight());var O=this.getSelectionRange();if(this.getBehavioursEnabled()){var z=this.session,B=z.getState(O.start.row),P=z.getMode().transformAction(B,"deletion",this,z,O);if(O.end.column===0){var U=z.getTextRange(O);if(U[U.length-1]==`
`){var W=z.getLine(O.end.row);/^\s+$/.test(W)&&(O.end.column=W.length)}}P&&(O=P)}this.session.remove(O),this.clearSelection()},M.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var L=this.getSelectionRange();L.start.column==L.end.column&&L.start.row==L.end.row&&(L.end.column=0,L.end.row++),this.session.remove(L),this.clearSelection()},M.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var L=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(L)},M.prototype.setGhostText=function(L,O){this.renderer.setGhostText(L,O)},M.prototype.removeGhostText=function(){this.renderer.removeGhostText()},M.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var L=this.getCursorPosition(),O=L.column;if(O!==0){var z=this.session.getLine(L.row),B,P;O<z.length?(B=z.charAt(O)+z.charAt(O-1),P=new o(L.row,O-1,L.row,O+1)):(B=z.charAt(O-1)+z.charAt(O-2),P=new o(L.row,O-2,L.row,O)),this.session.replace(P,B),this.session.selection.moveToPosition(P.end)}}},M.prototype.toLowerCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),z=this.session.getTextRange(O);this.session.replace(O,z.toLowerCase()),this.selection.setSelectionRange(L)},M.prototype.toUpperCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),z=this.session.getTextRange(O);this.session.replace(O,z.toUpperCase()),this.selection.setSelectionRange(L)},M.prototype.indent=function(){var L=this.session,O=this.getSelectionRange();if(O.start.row<O.end.row){var z=this.$getSelectedRows();L.indentRows(z.first,z.last,"	");return}else if(O.start.column<O.end.column){var B=L.getTextRange(O);if(!/^\s+$/.test(B)){var z=this.$getSelectedRows();L.indentRows(z.first,z.last,"	");return}}var P=L.getLine(O.start.row),U=O.start,W=L.getTabSize(),K=L.documentToScreenColumn(U.row,U.column);if(this.session.getUseSoftTabs())var Y=W-K%W,X=a.stringRepeat(" ",Y);else{for(var Y=K%W;P[O.start.column-1]==" "&&Y;)O.start.column--,Y--;this.selection.setSelectionRange(O),X="	"}return this.insert(X)},M.prototype.blockIndent=function(){var L=this.$getSelectedRows();this.session.indentRows(L.first,L.last,"	")},M.prototype.blockOutdent=function(){var L=this.session.getSelection();this.session.outdentRows(L.getRange())},M.prototype.sortLines=function(){for(var L=this.$getSelectedRows(),O=this.session,z=[],B=L.first;B<=L.last;B++)z.push(O.getLine(B));z.sort(function(W,K){return W.toLowerCase()<K.toLowerCase()?-1:W.toLowerCase()>K.toLowerCase()?1:0});for(var P=new o(0,0,0,0),B=L.first;B<=L.last;B++){var U=O.getLine(B);P.start.row=B,P.end.row=B,P.end.column=U.length,O.replace(P,z[B-L.first])}},M.prototype.toggleCommentLines=function(){var L=this.session.getState(this.getCursorPosition().row),O=this.$getSelectedRows();this.session.getMode().toggleCommentLines(L,this.session,O.first,O.last)},M.prototype.toggleBlockComment=function(){var L=this.getCursorPosition(),O=this.session.getState(L.row),z=this.getSelectionRange();this.session.getMode().toggleBlockComment(O,this.session,z,L)},M.prototype.getNumberAt=function(L,O){var z=/[\-]?[0-9]+(?:\.[0-9]+)?/g;z.lastIndex=0;for(var B=this.session.getLine(L);z.lastIndex<O;){var P=z.exec(B);if(P.index<=O&&P.index+P[0].length>=O){var U={value:P[0],start:P.index,end:P.index+P[0].length};return U}}return null},M.prototype.modifyNumber=function(L){var O=this.selection.getCursor().row,z=this.selection.getCursor().column,B=new o(O,z-1,O,z),P=this.session.getTextRange(B);if(!isNaN(parseFloat(P))&&isFinite(P)){var U=this.getNumberAt(O,z);if(U){var W=U.value.indexOf(".")>=0?U.start+U.value.indexOf(".")+1:U.end,K=U.start+U.value.length-W,Y=parseFloat(U.value);Y*=Math.pow(10,K),W!==U.end&&z<W?L*=Math.pow(10,U.end-z-1):L*=Math.pow(10,U.end-z),Y+=L,Y/=Math.pow(10,K);var X=Y.toFixed(K),q=new o(O,U.start,O,U.end);this.session.replace(q,X),this.moveCursorTo(O,Math.max(U.start+1,z+X.length-U.value.length))}}else this.toggleWord()},M.prototype.toggleWord=function(){var L=this.selection.getCursor().row,O=this.selection.getCursor().column;this.selection.selectWord();var z=this.getSelectedText(),B=this.selection.getWordRange().start.column,P=z.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),U=O-B-1;U<0&&(U=0);var W=0,K=0,Y=this;z.match(/[A-Za-z0-9_]+/)&&P.forEach(function(pe,Se){K=W+pe.length,U>=W&&U<=K&&(z=pe,Y.selection.clearSelection(),Y.moveCursorTo(L,W+B),Y.selection.selectTo(L,K+B)),W=K});for(var X=this.$toggleWordPairs,q,J=0;J<X.length;J++)for(var V=X[J],Q=0;Q<=1;Q++){var te=+!Q,ie=z.match(new RegExp("^\\s?_?("+a.escapeRegExp(V[Q])+")\\s?$","i"));if(ie){var me=z.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(ie[1])+")($|\\s)","g"));me&&(q=z.replace(new RegExp(a.escapeRegExp(V[Q]),"i"),function(pe){var Se=V[te];return pe.toUpperCase()==pe?Se=Se.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(Se=Se.substr(0,0)+V[te].charAt(0).toUpperCase()+Se.substr(1)),Se}),this.insert(q),q="")}}},M.prototype.findLinkAt=function(L,O){var z,B,P=this.session.getLine(L),U=P.split(/((?:https?|ftp):\/\/[\S]+)/),W=O;W<0&&(W=0);var K=0,Y=0,X;try{for(var q=E(U),J=q.next();!J.done;J=q.next()){var V=J.value;if(Y=K+V.length,W>=K&&W<=Y&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){X=V.replace(/[\s:.,'";}\]]+$/,"");break}K=Y}}catch(Q){z={error:Q}}finally{try{J&&!J.done&&(B=q.return)&&B.call(q)}finally{if(z)throw z.error}}return X},M.prototype.openLink=function(){var L=this.selection.getCursor(),O=this.findLinkAt(L.row,L.column);return O&&window.open(O,"_blank"),O!=null},M.prototype.removeLines=function(){var L=this.$getSelectedRows();this.session.removeFullLines(L.first,L.last),this.clearSelection()},M.prototype.duplicateSelection=function(){var L=this.selection,O=this.session,z=L.getRange(),B=L.isBackwards();if(z.isEmpty()){var P=z.start.row;O.duplicateLines(P,P)}else{var U=B?z.start:z.end,W=O.insert(U,O.getTextRange(z));z.start=U,z.end=W,L.setSelectionRange(z,B)}},M.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},M.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},M.prototype.moveText=function(L,O,z){return this.session.moveText(L,O,z)},M.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},M.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},M.prototype.$moveLines=function(L,O){var z,B,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var U=P.toOrientedRange();z=this.$getSelectedRows(U),B=this.session.$moveLines(z.first,z.last,O?0:L),O&&L==-1&&(B=0),U.moveBy(B,0),P.fromOrientedRange(U)}else{var W=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var K=0,Y=0,X=W.length,q=0;q<X;q++){var J=q;W[q].moveBy(K,0),z=this.$getSelectedRows(W[q]);for(var V=z.first,Q=z.last;++q<X;){Y&&W[q].moveBy(Y,0);var te=this.$getSelectedRows(W[q]);if(O&&te.first!=Q)break;if(!O&&te.first>Q+1)break;Q=te.last}for(q--,K=this.session.$moveLines(V,Q,O?0:L),O&&L==-1&&(J=q+1);J<=q;)W[J].moveBy(K,0),J++;O||(K=0),Y+=K}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},M.prototype.$getSelectedRows=function(L){return L=(L||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(L.start.row),last:this.session.getRowFoldEnd(L.end.row)}},M.prototype.onCompositionStart=function(L){this.renderer.showComposition(L)},M.prototype.onCompositionUpdate=function(L){this.renderer.setCompositionText(L)},M.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},M.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},M.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},M.prototype.isRowVisible=function(L){return L>=this.getFirstVisibleRow()&&L<=this.getLastVisibleRow()},M.prototype.isRowFullyVisible=function(L){return L>=this.renderer.getFirstFullyVisibleRow()&&L<=this.renderer.getLastFullyVisibleRow()},M.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},M.prototype.$moveByPage=function(L,O){var z=this.renderer,B=this.renderer.layerConfig,P=L*Math.floor(B.height/B.lineHeight);O===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):O===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var U=z.scrollTop;z.scrollBy(0,P*B.lineHeight),O!=null&&z.scrollCursorIntoView(null,.5),z.animateScrolling(U)},M.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},M.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},M.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},M.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},M.prototype.scrollPageDown=function(){this.$moveByPage(1)},M.prototype.scrollPageUp=function(){this.$moveByPage(-1)},M.prototype.scrollToRow=function(L){this.renderer.scrollToRow(L)},M.prototype.scrollToLine=function(L,O,z,B){this.renderer.scrollToLine(L,O,z,B)},M.prototype.centerSelection=function(){var L=this.getSelectionRange(),O={row:Math.floor(L.start.row+(L.end.row-L.start.row)/2),column:Math.floor(L.start.column+(L.end.column-L.start.column)/2)};this.renderer.alignCursor(O,.5)},M.prototype.getCursorPosition=function(){return this.selection.getCursor()},M.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},M.prototype.getSelectionRange=function(){return this.selection.getRange()},M.prototype.selectAll=function(){this.selection.selectAll()},M.prototype.clearSelection=function(){this.selection.clearSelection()},M.prototype.moveCursorTo=function(L,O){this.selection.moveCursorTo(L,O)},M.prototype.moveCursorToPosition=function(L){this.selection.moveCursorToPosition(L)},M.prototype.jumpToMatching=function(L,O){var z=this.getCursorPosition(),B=new w(this.session,z.row,z.column),P=B.getCurrentToken(),U=0;P&&P.type.indexOf("tag-name")!==-1&&(P=B.stepBackward());var W=P||B.stepForward();if(W){var K,Y=!1,X={},q=z.column-W.start,J,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(W.value.match(/[{}()\[\]]/g)){for(;q<W.value.length&&!Y;q++)if(V[W.value[q]])switch(J=V[W.value[q]]+"."+W.type.replace("rparen","lparen"),isNaN(X[J])&&(X[J]=0),W.value[q]){case"(":case"[":case"{":X[J]++;break;case")":case"]":case"}":X[J]--,X[J]===-1&&(K="bracket",Y=!0);break}}else W.type.indexOf("tag-name")!==-1&&(isNaN(X[W.value])&&(X[W.value]=0),P.value==="<"&&U>1?X[W.value]++:P.value==="</"&&X[W.value]--,X[W.value]===-1&&(K="tag",Y=!0));Y||(P=W,U++,W=B.stepForward(),q=0)}while(W&&!Y);if(K){var Q,te;if(K==="bracket")Q=this.session.getBracketRange(z),Q||(Q=new o(B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1,B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1),te=Q.start,(O||te.row===z.row&&Math.abs(te.column-z.column)<2)&&(Q=this.session.getBracketRange(te)));else if(K==="tag"){if(!W||W.type.indexOf("tag-name")===-1)return;if(Q=new o(B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2,B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2),Q.compare(z.row,z.column)===0){var ie=this.session.getMatchingTags(z);ie&&(ie.openTag.contains(z.row,z.column)?(Q=ie.closeTag,te=Q.start):(Q=ie.openTag,ie.closeTag.start.row===z.row&&ie.closeTag.start.column===z.column?te=Q.end:te=Q.start))}te=te||Q.start}te=Q&&Q.cursor||te,te&&(L?Q&&O?this.selection.setRange(Q):Q&&Q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(te.row,te.column):this.selection.moveTo(te.row,te.column))}}},M.prototype.gotoLine=function(L,O,z){this.selection.clearSelection(),this.session.unfold({row:L-1,column:O||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(L-1,O||0),this.isRowFullyVisible(L-1)||this.scrollToLine(L-1,!0,z)},M.prototype.navigateTo=function(L,O){this.selection.moveTo(L,O)},M.prototype.navigateUp=function(L){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(-L||-1,0)},M.prototype.navigateDown=function(L){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(L||1,0)},M.prototype.navigateLeft=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorLeft();else{var O=this.getSelectionRange().start;this.moveCursorToPosition(O)}this.clearSelection()},M.prototype.navigateRight=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorRight();else{var O=this.getSelectionRange().end;this.moveCursorToPosition(O)}this.clearSelection()},M.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},M.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},M.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},M.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},M.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},M.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},M.prototype.replace=function(L,O){O&&this.$search.set(O);var z=this.$search.find(this.session),B=0;return z&&(this.$tryReplace(z,L)&&(B=1),this.selection.setSelectionRange(z),this.renderer.scrollSelectionIntoView(z.start,z.end)),B},M.prototype.replaceAll=function(L,O){O&&this.$search.set(O);var z=this.$search.findAll(this.session),B=0;if(!z.length)return B;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var U=z.length-1;U>=0;--U)this.$tryReplace(z[U],L)&&B++;return this.selection.setSelectionRange(P),B},M.prototype.$tryReplace=function(L,O){var z=this.session.getTextRange(L);return O=this.$search.replace(z,O),O!==null?(L.end=this.session.replace(L,O),L):null},M.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},M.prototype.find=function(L,O,z){O||(O={}),typeof L=="string"||L instanceof RegExp?O.needle=L:typeof L=="object"&&y.mixin(O,L);var B=this.selection.getRange();O.needle==null&&(L=this.session.getTextRange(B)||this.$search.$options.needle,L||(B=this.session.getWordRange(B.start.row,B.start.column),L=this.session.getTextRange(B)),this.$search.set({needle:L})),this.$search.set(O),O.start||this.$search.set({start:B});var P=this.$search.find(this.session);if(O.preventScroll)return P;if(P)return this.revealRange(P,z),P;O.backwards?B.start=B.end:B.end=B.start,this.selection.setRange(B)},M.prototype.findNext=function(L,O){this.find({skipCurrent:!0,backwards:!1},L,O)},M.prototype.findPrevious=function(L,O){this.find(L,{skipCurrent:!0,backwards:!0},O)},M.prototype.revealRange=function(L,O){this.session.unfold(L),this.selection.setSelectionRange(L);var z=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(L.start,L.end,.5),O!==!1&&this.renderer.animateScrolling(z)},M.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(L){L.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},M.prototype.setAutoScrollEditorIntoView=function(L){if(L){var O,z=this,B=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var U=this.on("changeSelection",function(){B=!0}),W=this.renderer.on("beforeRender",function(){B&&(O=z.renderer.container.getBoundingClientRect())}),K=this.renderer.on("afterRender",function(){if(B&&O&&(z.isFocused()||z.searchBox&&z.searchBox.isFocused())){var Y=z.renderer,X=Y.$cursorLayer.$pixelPos,q=Y.layerConfig,J=X.top-q.offset;X.top>=0&&J+O.top<0?B=!0:X.top<q.height&&X.top+O.top+q.lineHeight>window.innerHeight?B=!1:B=null,B!=null&&(P.style.top=J+"px",P.style.left=X.left+"px",P.style.height=q.lineHeight+"px",P.scrollIntoView(B)),B=O=null}});this.setAutoScrollEditorIntoView=function(Y){Y||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",U),this.renderer.off("afterRender",K),this.renderer.off("beforeRender",W))}}},M.prototype.$resetCursorStyle=function(){var L=this.$cursorStyle||"ace",O=this.renderer.$cursorLayer;O&&(O.setSmoothBlinking(/smooth/.test(L)),O.isBlinking=!this.$readOnly&&L!="wide",f.setCssClass(O.element,"ace_slim-cursors",/slim/.test(L)))},M.prototype.prompt=function(L,O,z){var B=this;S.loadModule("ace/ext/prompt",function(P){P.prompt(B,L,O,z)})},M})();$.$uid=0,$.prototype.curOp=null,$.prototype.prevOp={},$.prototype.$mergeableCommands=["backspace","del","insertstring"],$.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],y.implement($.prototype,d),S.defineOptions($.prototype,"editor",{selectionStyle:{set:function(M){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:M})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(M){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(M){var L=this;if(this.textInput.setReadOnly(M),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(z){var B=!1;if(z&&z.type=="keydown"){if(z&&z.key&&!z.ctrlKey&&!z.metaKey&&(z.key==" "&&z.preventDefault(),B=z.key.length==1),!B)return}else z&&z.type!=="exec"&&(B=!0);if(B){L.hoverTooltip||(L.hoverTooltip=new F);var P=f.createElement("div");P.textContent=k("editor.tooltip.disable-editing","Editing is disabled"),L.hoverTooltip.isOpen||L.hoverTooltip.showForRange(L,L.getSelectionRange(),P)}else L.hoverTooltip&&L.hoverTooltip.isOpen&&L.hoverTooltip.hide()});var O=this.textInput.getElement();M?(j.addListener(O,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(j.removeListener(O,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(M){this.textInput.setCopyWithEmptySelection(M)},initialValue:!1},cursorStyle:{set:function(M){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(M){this.setAutoScrollEditorIntoView(M)}},keyboardHandler:{set:function(M){this.setKeyboardHandler(M)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(M){this.session.setValue(M)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(M){this.setSession(M)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(M){this.renderer.$gutterLayer.setShowLineNumbers(M),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),M&&this.$relativeLineNumbers?D.attach(this):D.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(M){this.$showLineNumbers&&M?D.attach(this):D.detach(this)}},placeholder:{set:function(M){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var L=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(L&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),f.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!L&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),f.addCssClass(this.container,"ace_hasPlaceholder");var O=f.createElement("div");O.className="ace_placeholder",O.textContent=this.$placeholder||"",this.renderer.placeholderNode=O,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!L&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(M){var L={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(B){B.blur(),B.renderer.scroller.focus()},readOnly:!0},O=function(B){if(B.target==this.renderer.scroller&&B.keyCode===T.enter){B.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},z;M?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",k("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",k("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",O.bind(this)),this.commands.addCommand(L),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",k("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",k("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),z||(z=new b(this)),z.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",O.bind(this)),this.commands.removeCommand(L),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),z&&z.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(M){this.$textInputAriaLabel=M},initialValue:""},enableMobileMenu:{set:function(M){this.$enableMobileMenu=M},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var D={getText:function(M,L){return(Math.abs(M.selection.lead.row-L)||L+1+(L<9?"":""))+""},getWidth:function(M,L,O){return Math.max(L.toString().length,(O.lastRow+1).toString().length,2)*O.characterWidth},update:function(M,L){L.renderer.$loop.schedule(L.renderer.CHANGE_GUTTER)},attach:function(M){M.renderer.$gutterLayer.$renderer=this,M.on("changeSelection",this.update),this.update(null,M)},detach:function(M){M.renderer.$gutterLayer.$renderer==this&&(M.renderer.$gutterLayer.$renderer=null),M.off("changeSelection",this.update),this.update(null,M)}};v.Editor=$}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a,u){this.element=a,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return f.prototype.moveContainer=function(a){E.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},f.prototype.pageChanged=function(a,u){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},f.prototype.computeLineTop=function(a,u,s){var n=u.firstRowScreen*u.lineHeight,i=Math.floor(n/this.canvasHeight),r=s.documentToScreenRow(a,0)*u.lineHeight;return r-i*this.canvasHeight},f.prototype.computeLineHeight=function(a,u,s){return u.lineHeight*s.getRowLineCount(a)},f.prototype.getLength=function(){return this.cells.length},f.prototype.get=function(a){return this.cells[a]},f.prototype.shift=function(){this.$cacheCell(this.cells.shift())},f.prototype.pop=function(){this.$cacheCell(this.cells.pop())},f.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var u=E.createFragment(this.element),s=0;s<a.length;s++)u.appendChild(a[s].element);this.element.appendChild(u)}else this.cells.push(a),this.element.appendChild(a.element)},f.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var u=E.createFragment(this.element),s=0;s<a.length;s++)u.appendChild(a[s].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},f.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},f.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},f.prototype.createCell=function(a,u,s,n){var i=this.cellCache.pop();if(!i){var r=E.createElement("div");n&&n(r),this.element.appendChild(r),i={element:r,text:"",row:a}}return i.row=a,i},f})();v.Lines=y}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/oop"),f=m("../lib/lang"),a=m("../lib/event_emitter").EventEmitter,u=m("./lines").Lines,s=m("../config").nls,n=(function(){function r(l){this.$showCursorMarker=null,this.element=E.createElement("div"),this.element.className="ace_layer ace_gutter-layer",l.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return r.prototype.setSession=function(l){this.session&&this.session.off("change",this.$updateAnnotations),this.session=l,l&&l.on("change",this.$updateAnnotations)},r.prototype.addGutterDecoration=function(l,h){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(l,h)},r.prototype.removeGutterDecoration=function(l,h){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(l,h)},r.prototype.setAnnotations=function(l){this.$annotations=[];for(var h=0;h<l.length;h++){var o=l[h],d=o.row,g=this.$annotations[d];g||(g=this.$annotations[d]={text:[],type:[],displayText:[]});var x=o.text,S=o.text,w=o.type;x=x?f.escapeHTML(x):o.html||"",S=S||o.html||"",g.text.indexOf(x)===-1&&(g.text.push(x),g.type.push(w),g.displayText.push(S));var b=o.className;b?g.className=b:w==="error"?g.className=" ace_error":w==="security"&&!/\bace_error\b/.test(g.className)?g.className=" ace_security":w==="warning"&&!/\bace_(error|security)\b/.test(g.className)?g.className=" ace_warning":w==="info"&&!g.className?g.className=" ace_info":w==="hint"&&!g.className&&(g.className=" ace_hint")}},r.prototype.$updateAnnotations=function(l){if(this.$annotations.length){var h=l.start.row,o=l.end.row-h;if(o!==0)if(l.action=="remove")this.$annotations.splice(h,o+1,null);else{var d=new Array(o+1);d.unshift(h,1),this.$annotations.splice.apply(this.$annotations,d)}}},r.prototype.update=function(l){this.config=l;var h=this.session,o=l.firstRow,d=Math.min(l.lastRow+l.gutterOffset,h.getLength()-1);this.oldLastRow=d,this.config=l,this.$lines.moveContainer(l),this.$updateCursorRow();for(var g=h.getNextFoldLine(o),x=g?g.start.row:1/0,S=null,w=-1,b=o;;){if(b>x&&(b=g.end.row+1,g=h.getNextFoldLine(b,g),x=g?g.start.row:1/0),b>d){for(;this.$lines.getLength()>w+1;)this.$lines.pop();break}S=this.$lines.get(++w),S?S.row=b:(S=this.$lines.createCell(b,l,this.session,i),this.$lines.push(S)),this.$renderCell(S,l,g,b),b++}this._signal("afterRender"),this.$updateGutterWidth(l),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},r.prototype.$updateGutterWidth=function(l){var h=this.session,o=h.gutterRenderer||this.$renderer,d=h.$firstLineNumber,g=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||h.$useWrapMode)&&(g=h.getLength()+d-1);var x=o?o.getWidth(h,g,l):g.toString().length*l.characterWidth,S=this.$padding||this.$computePadding();x+=S.left+S.right,x!==this.gutterWidth&&!isNaN(x)&&(this.gutterWidth=x,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",x))},r.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var l=this.session.selection.getCursor();this.$cursorRow!==l.row&&(this.$cursorRow=l.row)}},r.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var l=this.session.selection.cursor.row;if(this.$cursorRow=l,!(this.$cursorCell&&this.$cursorCell.row==l)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var h=this.$lines.cells;this.$cursorCell=null;for(var o=0;o<h.length;o++){var d=h[o];if(d.row>=this.$cursorRow){if(d.row>this.$cursorRow){var g=this.session.getFoldLine(this.$cursorRow);if(o>0&&g&&g.start.row==h[o-1].row)d=h[o-1];else break}d.element.className="ace_gutter-active-line "+d.element.className,this.$cursorCell=d;break}}}}},r.prototype.$updateCursorMarker=function(){if(this.session){var l=this.session;this.$highlightElement||(this.$highlightElement=E.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var h=l.selection.cursor,o=this.config,d=this.$lines,g=o.firstRowScreen*o.lineHeight,x=Math.floor(g/d.canvasHeight),S=l.documentToScreenRow(h)*o.lineHeight,w=S-x*d.canvasHeight;E.setStyle(this.$highlightElement.style,"height",o.lineHeight+"px"),E.setStyle(this.$highlightElement.style,"top",w+"px")}},r.prototype.scrollLines=function(l){var h=this.config;if(this.config=l,this.$updateCursorRow(),this.$lines.pageChanged(h,l))return this.update(l);this.$lines.moveContainer(l);var o=Math.min(l.lastRow+l.gutterOffset,this.session.getLength()-1),d=this.oldLastRow;if(this.oldLastRow=o,!h||d<l.firstRow)return this.update(l);if(o<h.firstRow)return this.update(l);if(h.firstRow<l.firstRow)for(var g=this.session.getFoldedRowCount(h.firstRow,l.firstRow-1);g>0;g--)this.$lines.shift();if(d>o)for(var g=this.session.getFoldedRowCount(o+1,d);g>0;g--)this.$lines.pop();l.firstRow<h.firstRow&&this.$lines.unshift(this.$renderLines(l,l.firstRow,h.firstRow-1)),o>d&&this.$lines.push(this.$renderLines(l,d+1,o)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(l)},r.prototype.$renderLines=function(l,h,o){for(var d=[],g=h,x=this.session.getNextFoldLine(g),S=x?x.start.row:1/0;g>S&&(g=x.end.row+1,x=this.session.getNextFoldLine(g,x),S=x?x.start.row:1/0),!(g>o);){var w=this.$lines.createCell(g,l,this.session,i);this.$renderCell(w,l,x,g),d.push(w),g++}return d},r.prototype.$renderCell=function(l,h,o,d){var g=l.element,x=this.session,S=g.childNodes[0],w=g.childNodes[1],b=g.childNodes[2],k=g.childNodes[3],A=b.firstChild,T=x.$firstLineNumber,j=x.$breakpoints,F=x.$decorations,$=x.gutterRenderer||this.$renderer,D=this.$showFoldWidgets&&x.foldWidgets,M=o?o.start.row:Number.MAX_VALUE,L=h.lineHeight+"px",O=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",z=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",B=($?$.getText(x,d):d+T).toString();if(this.$highlightGutterLine&&(d==this.$cursorRow||o&&d<this.$cursorRow&&d>=M&&this.$cursorRow<=o.end.row)&&(O+="ace_gutter-active-line ",this.$cursorCell!=l&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=l)),j[d]&&(O+=j[d]),F[d]&&(O+=F[d]),this.$annotations[d]&&d!==M&&(O+=this.$annotations[d].className),D){var P=D[d];P==null&&(P=D[d]=x.getFoldWidget(d))}if(P){var U="ace_fold-widget ace_"+P,W=P=="start"&&d==M&&d<o.end.row;if(W){U+=" ace_closed";for(var K="",Y=!1,X=d+1;X<=o.end.row;X++)if(this.$annotations[X]){if(this.$annotations[X].className===" ace_error"){Y=!0,K=" ace_error_fold";break}this.$annotations[X].className===" ace_security"?(Y=!0,K=" ace_security_fold"):this.$annotations[X].className===" ace_warning"&&K!==" ace_security_fold"&&(Y=!0,K=" ace_warning_fold")}O+=K}else U+=" ace_open";w.className!=U&&(w.className=U),E.setStyle(w.style,"height",L),E.setStyle(w.style,"display","inline-block"),w.setAttribute("role","button"),w.setAttribute("tabindex","-1");var q=x.getFoldWidgetRange(d);q?w.setAttribute("aria-label",s("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[q.start.row+1,q.end.row+1])):o?w.setAttribute("aria-label",s("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[o.start.row+1,o.end.row+1])):w.setAttribute("aria-label",s("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[d+1])),W?(w.setAttribute("aria-expanded","false"),w.setAttribute("title",s("gutter.code-folding.closed.title","Unfold code"))):(w.setAttribute("aria-expanded","true"),w.setAttribute("title",s("gutter.code-folding.open.title","Fold code")))}else w&&(E.setStyle(w.style,"display","none"),w.setAttribute("tabindex","0"),w.removeAttribute("role"),w.removeAttribute("aria-label"));var J=this.session.$gutterCustomWidgets[d];if(J?this.$addCustomWidget(d,J,l):k&&this.$removeCustomWidget(d,l),Y&&this.$showFoldedAnnotations){b.className="ace_gutter_annotation",A.className=z,A.className+=K,E.setStyle(A.style,"height",L),E.setStyle(b.style,"display","block"),E.setStyle(b.style,"height",L);var V;switch(K){case" ace_error_fold":V=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security_fold":V=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning_fold":V=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break}b.setAttribute("aria-label",V),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else if(this.$annotations[d]){b.className="ace_gutter_annotation",A.className=z,this.$useSvgGutterIcons?A.className+=this.$annotations[d].className:g.classList.add(this.$annotations[d].className.replace(" ","")),E.setStyle(A.style,"height",L),E.setStyle(b.style,"display","block"),E.setStyle(b.style,"height",L);var V;switch(this.$annotations[d].className){case" ace_error":V=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security":V=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning":V=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break;case" ace_info":V=s("gutter.annotation.aria-label.info","Info, read annotations row $0",[B]);break;case" ace_hint":V=s("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[B]);break}b.setAttribute("aria-label",V),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else E.setStyle(b.style,"display","none"),b.removeAttribute("aria-label"),b.removeAttribute("role"),b.setAttribute("tabindex","0");return B!==S.data&&(S.data=B),g.className!=O&&(g.className=O),E.setStyle(l.element.style,"height",this.$lines.computeLineHeight(d,h,x)+"px"),E.setStyle(l.element.style,"top",this.$lines.computeLineTop(d,h,x)+"px"),l.text=B,b.style.display==="none"&&w.style.display==="none"&&!J?l.element.setAttribute("aria-hidden",!0):l.element.setAttribute("aria-hidden",!1),l},r.prototype.setHighlightGutterLine=function(l){this.$highlightGutterLine=l,!l&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},r.prototype.setShowLineNumbers=function(l){this.$renderer=!l&&{getWidth:function(){return 0},getText:function(){return""}}},r.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},r.prototype.setShowFoldWidgets=function(l){l?E.addCssClass(this.element,"ace_folding-enabled"):E.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=l,this.$padding=null},r.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},r.prototype.$hideFoldWidget=function(l,h){var o=h||this.$getGutterCell(l);if(o&&o.element){var d=o.element.childNodes[1];d&&E.setStyle(d.style,"display","none")}},r.prototype.$showFoldWidget=function(l,h){var o=h||this.$getGutterCell(l);if(o&&o.element){var d=o.element.childNodes[1];d&&this.session.foldWidgets&&this.session.foldWidgets[o.row]&&E.setStyle(d.style,"display","inline-block")}},r.prototype.$getGutterCell=function(l){var h=this.$lines.cells,o=0,d=h.length-1;if(!(l<h[0].row||l>h[d].row)){for(;o<=d;){var g=Math.floor((o+d)/2),x=h[g];if(x.row>l)d=g-1;else if(x.row<l)o=g+1;else return x}return x}},r.prototype.$addCustomWidget=function(l,h,o){var d=h.className,g=h.label,x=h.title,S=h.callbacks;this.session.$gutterCustomWidgets[l]={className:d,label:g,title:x,callbacks:S},this.$hideFoldWidget(l,o);var w=o||this.$getGutterCell(l);if(w&&w.element){var b=w.element.querySelector(".ace_custom-widget");b&&b.remove(),b=E.createElement("span"),b.className="ace_custom-widget ".concat(d),b.setAttribute("tabindex","-1"),b.setAttribute("role","button"),b.setAttribute("aria-label",g),b.setAttribute("title",x),E.setStyle(b.style,"display","inline-block"),E.setStyle(b.style,"height","inherit"),S&&S.onClick&&b.addEventListener("click",function(k){S.onClick(k,l),k.stopPropagation()}),w.element.appendChild(b)}},r.prototype.$removeCustomWidget=function(l,h){delete this.session.$gutterCustomWidgets[l],this.$showFoldWidget(l,h);var o=h||this.$getGutterCell(l);if(o&&o.element){var d=o.element.querySelector(".ace_custom-widget");d&&o.element.removeChild(d)}},r.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var l=E.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(l.borderLeftWidth)||0)+(parseInt(l.paddingLeft)||0)+1,this.$padding.right=(parseInt(l.borderRightWidth)||0)+(parseInt(l.paddingRight)||0),this.$padding},r.prototype.getRegion=function(l){var h=this.$padding||this.$computePadding(),o=this.element.getBoundingClientRect();if(l.x<h.left+o.left)return"markers";if(this.$showFoldWidgets&&l.x>o.right-h.right)return"foldWidgets"},r})();n.prototype.$fixedWidth=!1,n.prototype.$highlightGutterLine=!0,n.prototype.$renderer=void 0,n.prototype.$showLineNumbers=!0,n.prototype.$showFoldWidgets=!0,y.implement(n.prototype,a);function i(r){var l=document.createTextNode("");r.appendChild(l);var h=E.createElement("span");r.appendChild(h);var o=E.createElement("span");r.appendChild(o);var d=E.createElement("span");return o.appendChild(d),r}v.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(m,v,R){var E=m("../range").Range,y=m("../lib/dom"),f=(function(){function u(s){this.element=y.createElement("div"),this.element.className="ace_layer ace_marker-layer",s.appendChild(this.element)}return u.prototype.setPadding=function(s){this.$padding=s},u.prototype.setSession=function(s){this.session=s},u.prototype.setMarkers=function(s){this.markers=s},u.prototype.elt=function(s,n){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=n,i.className=s},u.prototype.update=function(s){if(s){this.config=s,this.i=0;var n;for(var i in this.markers){var r=this.markers[i];if(!r.range){r.update(n,this,this.session,s);continue}var l=r.range.clipRows(s.firstRow,s.lastRow);if(!l.isEmpty())if(l=l.toScreenRange(this.session),r.renderer){var h=this.$getTop(l.start.row,s),o=this.$padding+l.start.column*s.characterWidth;r.renderer(n,l,o,h,s)}else r.type=="fullLine"?this.drawFullLineMarker(n,l,r.clazz,s):r.type=="screenLine"?this.drawScreenLineMarker(n,l,r.clazz,s):l.isMultiLine()?r.type=="text"?this.drawTextMarker(n,l,r.clazz,s):this.drawMultiLineMarker(n,l,r.clazz,s):this.drawSingleLineMarker(n,l,r.clazz+" ace_start ace_br15",s)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(s,n){return(s-n.firstRowScreen)*n.lineHeight},u.prototype.drawTextMarker=function(s,n,i,r,l){for(var h=this.session,o=n.start.row,d=n.end.row,g=o,x=0,S=0,w=h.getScreenLastRowColumn(g),b=new E(g,n.start.column,g,S);g<=d;g++)b.start.row=b.end.row=g,b.start.column=g==o?n.start.column:h.getRowWrapIndent(g),b.end.column=w,x=S,S=w,w=g+1<d?h.getScreenLastRowColumn(g+1):g==d?0:n.end.column,this.drawSingleLineMarker(s,b,i+(g==o?" ace_start":"")+" ace_br"+a(g==o||g==o+1&&n.start.column,x<S,S>w,g==d),r,g==d?0:1,l)},u.prototype.drawMultiLineMarker=function(s,n,i,r,l){var h=this.$padding,o=r.lineHeight,d=this.$getTop(n.start.row,r),g=h+n.start.column*r.characterWidth;if(l=l||"",this.session.$bidiHandler.isBidiRow(n.start.row)){var x=n.clone();x.end.row=x.start.row,x.end.column=this.session.getLine(x.start.row).length,this.drawBidiSingleLineMarker(s,x,i+" ace_br1 ace_start",r,null,l)}else this.elt(i+" ace_br1 ace_start","height:"+o+"px;right:"+h+"px;top:"+d+"px;left:"+g+"px;"+(l||""));if(this.session.$bidiHandler.isBidiRow(n.end.row)){var x=n.clone();x.start.row=x.end.row,x.start.column=0,this.drawBidiSingleLineMarker(s,x,i+" ace_br12",r,null,l)}else{d=this.$getTop(n.end.row,r);var S=n.end.column*r.characterWidth;this.elt(i+" ace_br12","height:"+o+"px;width:"+S+"px;top:"+d+"px;left:"+h+"px;"+(l||""))}if(o=(n.end.row-n.start.row-1)*r.lineHeight,!(o<=0)){d=this.$getTop(n.start.row+1,r);var w=(n.start.column?1:0)|(n.end.column?0:8);this.elt(i+(w?" ace_br"+w:""),"height:"+o+"px;right:"+h+"px;top:"+d+"px;left:"+h+"px;"+(l||""))}},u.prototype.drawSingleLineMarker=function(s,n,i,r,l,h){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(s,n,i,r,l,h);var o=r.lineHeight,d=(n.end.column+(l||0)-n.start.column)*r.characterWidth,g=this.$getTop(n.start.row,r),x=this.$padding+n.start.column*r.characterWidth;this.elt(i,"height:"+o+"px;width:"+d+"px;top:"+g+"px;left:"+x+"px;"+(h||""))},u.prototype.drawBidiSingleLineMarker=function(s,n,i,r,l,h){var o=r.lineHeight,d=this.$getTop(n.start.row,r),g=this.$padding,x=this.session.$bidiHandler.getSelections(n.start.column,n.end.column);x.forEach(function(S){this.elt(i,"height:"+o+"px;width:"+(S.width+(l||0))+"px;top:"+d+"px;left:"+(g+S.left)+"px;"+(h||""))},this)},u.prototype.drawFullLineMarker=function(s,n,i,r,l){var h=this.$getTop(n.start.row,r),o=r.lineHeight;n.start.row!=n.end.row&&(o+=this.$getTop(n.end.row,r)-h),this.elt(i,"height:"+o+"px;top:"+h+"px;left:0;right:0;"+(l||""))},u.prototype.drawScreenLineMarker=function(s,n,i,r,l){var h=this.$getTop(n.start.row,r),o=r.lineHeight;this.elt(i,"height:"+o+"px;top:"+h+"px;left:0;right:0;"+(l||""))},u})();f.prototype.$padding=0;function a(u,s,n,i){return(u?1:0)|(s?2:0)|(n?4:0)|(i?8:0)}v.Marker=f}),ace.define("ace/layer/text_util",["require","exports","module"],function(m,v,R){var E=new Set(["text","rparen","lparen"]);v.isTextToken=function(y){return E.has(y)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/dom"),f=m("../lib/lang"),a=m("./lines").Lines,u=m("../lib/event_emitter").EventEmitter,s=m("../config").nls,n=m("./text_util").isTextToken,i=(function(){function r(l){this.dom=y,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",l.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return r.prototype.$updateEolChar=function(){var l=this.session.doc,h=l.getNewLineCharacter()==`
`&&l.getNewLineMode()!="windows",o=h?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=o)return this.EOL_CHAR=o,!0},r.prototype.setPadding=function(l){this.$padding=l,this.element.style.margin="0 "+l+"px"},r.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},r.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},r.prototype.$setFontMetrics=function(l){this.$fontMetrics=l,this.$fontMetrics.on("changeCharacterSize",(function(h){this._signal("changeCharacterSize",h)}).bind(this)),this.$pollSizeChanges()},r.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},r.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},r.prototype.setSession=function(l){this.session=l,l&&this.$computeTabString()},r.prototype.setShowInvisibles=function(l){return this.showInvisibles==l?!1:(this.showInvisibles=l,typeof l=="string"?(this.showSpaces=/tab/i.test(l),this.showTabs=/space/i.test(l),this.showEOL=/eol/i.test(l)):this.showSpaces=this.showTabs=this.showEOL=l,this.$computeTabString(),!0)},r.prototype.setDisplayIndentGuides=function(l){return this.displayIndentGuides==l?!1:(this.displayIndentGuides=l,this.$computeTabString(),!0)},r.prototype.setHighlightIndentGuides=function(l){return this.$highlightIndentGuides===l?!1:(this.$highlightIndentGuides=l,l)},r.prototype.$computeTabString=function(){var l=this.session.getTabSize();this.tabSize=l;for(var h=this.$tabStrings=[0],o=1;o<l+1;o++)if(this.showTabs){var d=this.dom.createElement("span");d.className="ace_invisible ace_invisible_tab",d.textContent=f.stringRepeat(this.TAB_CHAR,o),h.push(d)}else h.push(this.dom.createTextNode(f.stringRepeat(" ",o),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var g="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",S=this.showSpaces?f.stringRepeat(this.SPACE_CHAR,this.tabSize):f.stringRepeat(" ",this.tabSize),w=this.showTabs?" ace_invisible ace_invisible_tab":"",b=this.showTabs?f.stringRepeat(this.TAB_CHAR,this.tabSize):S,d=this.dom.createElement("span");d.className=g+x,d.textContent=S,this.$tabStrings[" "]=d;var d=this.dom.createElement("span");d.className=g+w,d.textContent=b,this.$tabStrings["	"]=d}},r.prototype.updateLines=function(l,h,o){if(this.config.lastRow!=l.lastRow||this.config.firstRow!=l.firstRow)return this.update(l);this.config=l;for(var d=Math.max(h,l.firstRow),g=Math.min(o,l.lastRow),x=this.element.childNodes,S=0,b=l.firstRow;b<d;b++){var k=this.session.getFoldLine(b);if(k)if(k.containsRow(d)){d=k.start.row;break}else b=k.end.row;S++}for(var w=!1,b=d,k=this.session.getNextFoldLine(b),A=k?k.start.row:1/0;b>A&&(b=k.end.row+1,k=this.session.getNextFoldLine(b,k),A=k?k.start.row:1/0),!(b>g);){var T=x[S++];if(T){this.dom.removeChildren(T),this.$renderLine(T,b,b==A?k:!1),w&&(T.style.top=this.$lines.computeLineTop(b,l,this.session)+"px");var j=l.lineHeight*this.session.getRowLength(b)+"px";T.style.height!=j&&(w=!0,T.style.height=j)}b++}if(w)for(;S<this.$lines.cells.length;){var F=this.$lines.cells[S++];F.element.style.top=this.$lines.computeLineTop(F.row,l,this.session)+"px"}},r.prototype.scrollLines=function(l){var h=this.config;if(this.config=l,this.$lines.pageChanged(h,l))return this.update(l);this.$lines.moveContainer(l);var o=l.lastRow,d=h?h.lastRow:-1;if(!h||d<l.firstRow)return this.update(l);if(o<h.firstRow)return this.update(l);if(!h||h.lastRow<l.firstRow)return this.update(l);if(l.lastRow<h.firstRow)return this.update(l);if(h.firstRow<l.firstRow)for(var g=this.session.getFoldedRowCount(h.firstRow,l.firstRow-1);g>0;g--)this.$lines.shift();if(h.lastRow>l.lastRow)for(var g=this.session.getFoldedRowCount(l.lastRow+1,h.lastRow);g>0;g--)this.$lines.pop();l.firstRow<h.firstRow&&this.$lines.unshift(this.$renderLinesFragment(l,l.firstRow,h.firstRow-1)),l.lastRow>h.lastRow&&this.$lines.push(this.$renderLinesFragment(l,h.lastRow+1,l.lastRow)),this.$highlightIndentGuide()},r.prototype.$renderLinesFragment=function(l,h,o){for(var d=[],g=h,x=this.session.getNextFoldLine(g),S=x?x.start.row:1/0;g>S&&(g=x.end.row+1,x=this.session.getNextFoldLine(g,x),S=x?x.start.row:1/0),!(g>o);){var w=this.$lines.createCell(g,l,this.session),b=w.element;this.dom.removeChildren(b),y.setStyle(b.style,"height",this.$lines.computeLineHeight(g,l,this.session)+"px"),y.setStyle(b.style,"top",this.$lines.computeLineTop(g,l,this.session)+"px"),this.$renderLine(b,g,g==S?x:!1),this.$useLineGroups()?b.className="ace_line_group":b.className="ace_line",d.push(w),g++}return d},r.prototype.update=function(l){this.$lines.moveContainer(l),this.config=l;for(var h=l.firstRow,o=l.lastRow,d=this.$lines;d.getLength();)d.pop();d.push(this.$renderLinesFragment(l,h,o))},r.prototype.$renderToken=function(l,h,o,d){for(var g=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,S=this.dom.createFragment(this.element),w,b=0;w=x.exec(d);){var k=w[1],A=w[2],T=w[3],j=w[4],F=w[5];if(!(!g.showSpaces&&A)){var $=b!=w.index?d.slice(b,w.index):"";if(b=w.index+w[0].length,$&&S.appendChild(this.dom.createTextNode($,this.element)),k){var D=g.session.getScreenTabSize(h+w.index),M=g.$tabStrings[D].cloneNode(!0);M.charCount=1,S.appendChild(M),h+=D-1}else if(A)if(g.showSpaces){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space",L.textContent=f.stringRepeat(g.SPACE_CHAR,A.length),S.appendChild(L)}else S.appendChild(this.dom.createTextNode(A,this.element));else if(T){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space ace_invalid",L.textContent=f.stringRepeat(g.SPACE_CHAR,T.length),S.appendChild(L)}else if(j){h+=1;var L=this.dom.createElement("span");L.style.width=g.config.characterWidth*2+"px",L.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",L.textContent=g.showSpaces?g.SPACE_CHAR:j,S.appendChild(L)}else if(F){h+=1;var L=this.dom.createElement("span");L.style.width=g.config.characterWidth*2+"px",L.className="ace_cjk",L.textContent=F,S.appendChild(L)}}}if(S.appendChild(this.dom.createTextNode(b?d.slice(b):d,this.element)),n(o.type))l.appendChild(S);else{var O="ace_"+o.type.replace(/\./g," ace_"),L=this.dom.createElement("span");o.type=="fold"&&(L.style.width=o.value.length*this.config.characterWidth+"px",L.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),L.className=O,L.appendChild(S),l.appendChild(L)}return h+d.length},r.prototype.renderIndentGuide=function(l,h,o){var d=h.search(this.$indentGuideRe);if(d<=0||d>=o)return h;if(h[0]==" "){d-=d%this.tabSize;for(var g=d/this.tabSize,x=0;x<g;x++)l.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),h.substr(d)}else if(h[0]=="	"){for(var x=0;x<d;x++)l.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),h.substr(d)}return this.$highlightIndentGuide(),h},r.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var l=this.session.doc.$lines;if(l){var h=this.session.selection.getCursor(),o=/^\s*/.exec(this.session.doc.getLine(h.row))[0].length,d=Math.floor(o/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:d,start:h.row};var g=this.session.$bracketHighlight;if(g){for(var x=this.session.$bracketHighlight.ranges,S=0;S<x.length;S++)if(h.row!==x[S].start.row){this.$highlightIndentGuideMarker.end=x[S].start.row+1,h.row>x[S].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&l[h.row]!==""&&h.column===l[h.row].length){this.$highlightIndentGuideMarker.dir=1;for(var S=h.row+1;S<l.length;S++){var w=l[S],b=/^\s*/.exec(w)[0].length;if(w!==""&&(this.$highlightIndentGuideMarker.end=S,b<=o))break}}this.$renderHighlightIndentGuide()}}},r.prototype.$clearActiveIndentGuide=function(){for(var l=this.element.querySelectorAll(".ace_indent-guide-active"),h=0;h<l.length;h++)l[h].classList.remove("ace_indent-guide-active")},r.prototype.$setIndentGuideActive=function(l,h){var o=this.session.doc.getLine(l.row);if(o!==""){var d=l.element;if(l.element.classList&&l.element.classList.contains("ace_line_group"))if(l.element.childNodes.length>0)d=l.element.childNodes[0];else return;var g=d.childNodes;if(g){var x=g[h-1];x&&x.classList&&x.classList.contains("ace_indent-guide")&&x.classList.add("ace_indent-guide-active")}}},r.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var l=this.$lines.cells;this.$clearActiveIndentGuide();var h=this.$highlightIndentGuideMarker.indentLevel;if(h!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var o=0;o<l.length;o++){var d=l[o];if(this.$highlightIndentGuideMarker.end&&d.row>=this.$highlightIndentGuideMarker.start+1){if(d.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,h)}}else for(var o=l.length-1;o>=0;o--){var d=l[o];if(this.$highlightIndentGuideMarker.end&&d.row<this.$highlightIndentGuideMarker.start){if(d.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,h)}}}},r.prototype.$createLineElement=function(l){var h=this.dom.createElement("div");return h.className="ace_line",h.style.height=this.config.lineHeight+"px",h},r.prototype.$renderWrappedLine=function(l,h,o){var d=0,g=0,x=o[0],S=0,w=this.$createLineElement();l.appendChild(w);for(var b=0;b<h.length;b++){var k=h[b],A=k.value;if(b==0&&this.displayIndentGuides){if(d=A.length,A=this.renderIndentGuide(w,A,x),!A)continue;d-=A.length}if(d+A.length<x)S=this.$renderToken(w,S,k,A),d+=A.length;else{for(;d+A.length>=x;){S=this.$renderToken(w,S,k,A.substring(0,x-d)),A=A.substring(x-d),d=x,w=this.$createLineElement(),l.appendChild(w);var T=this.dom.createTextNode(f.stringRepeat("",o.indent),this.element);T.charCount=0,w.appendChild(T),g++,S=0,x=o[g]||Number.MAX_VALUE}A.length!=0&&(d+=A.length,S=this.$renderToken(w,S,k,A))}}o[o.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(w,S,null,"",!0)},r.prototype.$renderSimpleLine=function(l,h){for(var o=0,d=0;d<h.length;d++){var g=h[d],x=g.value;if(!(d==0&&this.displayIndentGuides&&(x=this.renderIndentGuide(l,x),!x))){if(o+x.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(l,o,g,x);o=this.$renderToken(l,o,g,x)}}},r.prototype.$renderOverflowMessage=function(l,h,o,d,g){o&&this.$renderToken(l,h,o,d.slice(0,this.MAX_LINE_LENGTH-h));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=g?"<hide>":"<click to see more...>",l.appendChild(x)},r.prototype.$renderLine=function(l,h,o){if(!o&&o!=!1&&(o=this.session.getFoldLine(h)),o)var d=this.$getFoldLineTokens(h,o);else var d=this.session.getTokens(h);var g=l;if(d.length){var x=this.session.getRowSplitData(h);if(x&&x.length){this.$renderWrappedLine(l,d,x);var g=l.lastChild}else{var g=l;this.$useLineGroups()&&(g=this.$createLineElement(),l.appendChild(g)),this.$renderSimpleLine(g,d)}}else this.$useLineGroups()&&(g=this.$createLineElement(),l.appendChild(g));if(this.showEOL&&g){o&&(h=o.end.row);var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_eol",S.textContent=h==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,g.appendChild(S)}},r.prototype.$getFoldLineTokens=function(l,h){var o=this.session,d=[];function g(S,w,b){for(var k=0,A=0;A+S[k].value.length<w;)if(A+=S[k].value.length,k++,k==S.length)return;if(A!=w){var T=S[k].value.substring(w-A);T.length>b-w&&(T=T.substring(0,b-w)),d.push({type:S[k].type,value:T}),A=w+T.length,k+=1}for(;A<b&&k<S.length;){var T=S[k].value;T.length+A>b?d.push({type:S[k].type,value:T.substring(0,b-A)}):d.push(S[k]),A+=T.length,k+=1}}var x=o.getTokens(l);return h.walk(function(S,w,b,k,A){S!=null?d.push({type:"fold",value:S}):(A&&(x=o.getTokens(w)),x.length&&g(x,k,b))},h.end.row,this.session.getLine(h.end.row).length),d},r.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},r})();i.prototype.EOF_CHAR="",i.prototype.EOL_CHAR_LF="",i.prototype.EOL_CHAR_CRLF="",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="",i.prototype.SPACE_CHAR="",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,E.implement(i.prototype,u),v.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a){this.element=E.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),E.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return f.prototype.$updateOpacity=function(a){for(var u=this.cursors,s=u.length;s--;)E.setStyle(u[s].style,"opacity",a?"":"0")},f.prototype.$startCssAnimation=function(){for(var a=this.cursors,u=a.length;u--;)a[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&E.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},f.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,E.removeCssClass(this.element,"ace_animate-blinking")},f.prototype.setPadding=function(a){this.$padding=a},f.prototype.setSession=function(a){this.session=a},f.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},f.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},f.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,E.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},f.prototype.addCursor=function(){var a=E.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},f.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},f.prototype.hideCursor=function(){this.isVisible=!1,E.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.showCursor=function(){this.isVisible=!0,E.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,E.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&E.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),E.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){a(!0),u()},this.blinkInterval),u()}},f.prototype.getPixelPosition=function(a,u){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(a),n=this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,a.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),i=(s.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:i}},f.prototype.isCursorInView=function(a,u){return a.top>=0&&a.top<u.maxHeight},f.prototype.update=function(a){this.config=a;var u=this.session.$selectionMarkers,s=0,n=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var s=0,i=u.length;s<i;s++){var r=this.getPixelPosition(u[s].cursor,!0);if(!((r.top>a.height+a.offset||r.top<0)&&s>1)){var l=this.cursors[n++]||this.addCursor(),h=l.style;this.drawCursor?this.drawCursor(l,r,a,u[s],this.session):this.isCursorInView(r,a)?(E.setStyle(h,"display","block"),E.translate(l,r.left,r.top),E.setStyle(h,"width",Math.round(a.characterWidth)+"px"),E.setStyle(h,"height",a.lineHeight+"px")):E.setStyle(h,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=r,this.restartTimer()},f.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?E.addCssClass(this.element,"ace_overwrite-cursors"):E.removeCssClass(this.element,"ace_overwrite-cursors"))},f.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},f})();y.prototype.$padding=0,y.prototype.drawCursor=null,v.Cursor=y}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var l=function(h,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(d[x]=g[x])},l(h,o)};return function(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(h,o);function d(){this.constructor=h}h.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}})(),y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/event"),u=m("./lib/event_emitter").EventEmitter,s=32768,n=(function(){function l(h,o){this.element=f.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+o,this.inner=f.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return l.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},l})();y.implement(n.prototype,u);var i=(function(l){E(h,l);function h(o,d){var g=l.call(this,o,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,d.$scrollbarWidth=g.width=f.scrollbarWidth(o.ownerDocument),g.inner.style.width=g.element.style.width=(g.width||15)+5+"px",g.$minWidth=0,g}return h.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var o=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-o)/(this.coeff-o)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(o){this.element.style.height=o+"px"},h.prototype.setScrollHeight=function(o){this.scrollHeight=o,o>s?(this.coeff=s/o,o=s):this.coeff!=1&&(this.coeff=1),this.inner.style.height=o+"px"},h.prototype.setScrollTop=function(o){this.scrollTop!=o&&(this.skipEvent=!0,this.scrollTop=o,this.element.scrollTop=o*this.coeff)},h})(n);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var r=(function(l){E(h,l);function h(o,d){var g=l.call(this,o,"-h")||this;return g.scrollLeft=0,g.height=d.$scrollbarWidth,g.inner.style.height=g.element.style.height=(g.height||15)+5+"px",g}return h.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.setWidth=function(o){this.element.style.width=o+"px"},h.prototype.setInnerWidth=function(o){this.inner.style.width=o+"px"},h.prototype.setScrollWidth=function(o){this.inner.style.width=o+"px"},h.prototype.setScrollLeft=function(o){this.scrollLeft!=o&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=o)},h})(n);v.ScrollBar=i,v.ScrollBarV=i,v.ScrollBarH=r,v.VScrollBar=i,v.HScrollBar=r}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var r=function(l,h){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,d){o.__proto__=d}||function(o,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(o[g]=d[g])},r(l,h)};return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");r(l,h);function o(){this.constructor=l}l.prototype=h===null?Object.create(h):(o.prototype=h.prototype,new o)}})(),y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/event"),u=m("./lib/event_emitter").EventEmitter;f.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var s=(function(){function r(l,h){this.element=f.createElement("div"),this.element.className="ace_sb"+h,this.inner=f.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,l.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return r.prototype.setVisible=function(l){this.element.style.display=l?"":"none",this.isVisible=l,this.coeff=1},r})();y.implement(s.prototype,u);var n=(function(r){E(l,r);function l(h,o){var d=r.call(this,h,"-v")||this;return d.scrollTop=0,d.scrollHeight=0,d.parent=h,d.width=d.VScrollWidth,d.renderer=o,d.inner.style.width=d.element.style.width=(d.width||15)+"px",d.$minWidth=0,d}return l.prototype.onMouseDown=function(h,o){if(h==="mousedown"&&!(a.getButton(o)!==0||o.detail===2)){if(o.target===this.inner){var d=this,g=o.clientY,x=function(j){g=j.clientY},S=function(){clearInterval(A)},w=o.clientY,b=this.thumbTop,k=function(){if(g!==void 0){var j=d.scrollTopFromThumbTop(b+g-w);j!==d.scrollTop&&d._emit("scroll",{data:j})}};a.capture(this.inner,x,S);var A=setInterval(k,20);return a.preventDefault(o)}var T=o.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),a.preventDefault(o)}},l.prototype.getHeight=function(){return this.height},l.prototype.scrollTopFromThumbTop=function(h){var o=h*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return o=o>>0,o<0?o=0:o>this.pageHeight-this.viewHeight&&(o=this.pageHeight-this.viewHeight),o},l.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},l.prototype.setHeight=function(h){this.height=Math.max(0,h),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},l.prototype.setScrollHeight=function(h,o){this.pageHeight===h&&!o||(this.pageHeight=h,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},l.prototype.setScrollTop=function(h){this.scrollTop=h,h<0&&(h=0),this.thumbTop=h*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},l})(s);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var i=(function(r){E(l,r);function l(h,o){var d=r.call(this,h,"-h")||this;return d.scrollLeft=0,d.scrollWidth=0,d.height=d.HScrollHeight,d.inner.style.height=d.element.style.height=(d.height||12)+"px",d.renderer=o,d}return l.prototype.onMouseDown=function(h,o){if(h==="mousedown"&&!(a.getButton(o)!==0||o.detail===2)){if(o.target===this.inner){var d=this,g=o.clientX,x=function(j){g=j.clientX},S=function(){clearInterval(A)},w=o.clientX,b=this.thumbLeft,k=function(){if(g!==void 0){var j=d.scrollLeftFromThumbLeft(b+g-w);j!==d.scrollLeft&&d._emit("scroll",{data:j})}};a.capture(this.inner,x,S);var A=setInterval(k,20);return a.preventDefault(o)}var T=o.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),a.preventDefault(o)}},l.prototype.getHeight=function(){return this.isVisible?this.height:0},l.prototype.scrollLeftFromThumbLeft=function(h){var o=h*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return o=o>>0,o<0?o=0:o>this.pageWidth-this.viewWidth&&(o=this.pageWidth-this.viewWidth),o},l.prototype.setWidth=function(h){this.width=Math.max(0,h),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},l.prototype.setScrollWidth=function(h,o){this.pageWidth===h&&!o||(this.pageWidth=h,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},l.prototype.setScrollLeft=function(h){this.scrollLeft=h,h<0&&(h=0),this.thumbLeft=h*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},l})(s);i.prototype.setInnerWidth=i.prototype.setScrollWidth,v.ScrollBar=n,v.ScrollBarV=n,v.ScrollBarH=i,v.VScrollBar=n,v.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(m,v,R){var E=m("./lib/event"),y=(function(){function f(a,u){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var s=this;this._flush=function(n){s.pending=!1;var i=s.changes;if(i&&(E.blockIdle(100),s.changes=0,s.onRender(i)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}return f.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(E.nextFrame(this._flush),this.pending=!0)},f.prototype.clear=function(a){var u=this.changes;return this.changes=0,u},f})();v.RenderLoop=y}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/dom"),f=m("../lib/lang"),a=m("../lib/event"),u=m("../lib/useragent"),s=m("../lib/event_emitter").EventEmitter,n=512,i=typeof ResizeObserver=="function",r=200,l=(function(){function h(o){this.el=y.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=y.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=y.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),o.appendChild(this.el),this.$measureNode.textContent=f.stringRepeat("X",n),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return h.prototype.$setMeasureNodeStyles=function(o,d){o.width=o.height="auto",o.left=o.top="0px",o.visibility="hidden",o.position="absolute",o.whiteSpace="pre",u.isIE<8?o["font-family"]="inherit":o.font="inherit",o.overflow=d?"hidden":"visible"},h.prototype.checkForSizeChanges=function(o){if(o===void 0&&(o=this.$measureSizes()),o&&(this.$characterSize.width!==o.width||this.$characterSize.height!==o.height)){this.$measureNode.style.fontWeight="bold";var d=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=o,this.charSizes=Object.create(null),this.allowBoldFonts=d&&d.width===o.width&&d.height===o.height,this._emit("changeCharacterSize",{data:o})}},h.prototype.$addObserver=function(){var o=this;this.$observer=new window.ResizeObserver(function(d){o.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},h.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var o=this;return this.$pollSizeChangesTimer=a.onIdle(function d(){o.checkForSizeChanges(),a.onIdle(d,500)},500)},h.prototype.setPolling=function(o){o?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},h.prototype.$measureSizes=function(o){var d={height:(o||this.$measureNode).clientHeight,width:(o||this.$measureNode).clientWidth/n};return d.width===0||d.height===0?null:d},h.prototype.$measureCharWidth=function(o){this.$main.textContent=f.stringRepeat(o,n);var d=this.$main.getBoundingClientRect();return d.width/n},h.prototype.getCharacterWidth=function(o){var d=this.charSizes[o];return d===void 0&&(d=this.charSizes[o]=this.$measureCharWidth(o)/this.$characterSize.width),d},h.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},h.prototype.$getZoom=function(o){return!o||!o.parentElement?1:(Number(window.getComputedStyle(o).zoom)||1)*this.$getZoom(o.parentElement)},h.prototype.$initTransformMeasureNodes=function(){var o=function(d,g){return["div",{style:"position: absolute;top:"+d+"px;left:"+g+"px;"}]};this.els=y.buildDom([o(0,0),o(r,0),o(0,r),o(r,r)],this.el)},h.prototype.transformCoordinates=function(o,d){if(o){var g=this.$getZoom(this.el);o=b(1/g,o)}function x(U,W,K){var Y=U[1]*W[0]-U[0]*W[1];return[(-W[1]*K[0]+W[0]*K[1])/Y,(+U[1]*K[0]-U[0]*K[1])/Y]}function S(U,W){return[U[0]-W[0],U[1]-W[1]]}function w(U,W){return[U[0]+W[0],U[1]+W[1]]}function b(U,W){return[U*W[0],U*W[1]]}this.els||this.$initTransformMeasureNodes();function k(U){var W=U.getBoundingClientRect();return[W.left,W.top]}var A=k(this.els[0]),T=k(this.els[1]),j=k(this.els[2]),F=k(this.els[3]),$=x(S(F,T),S(F,j),S(w(T,j),w(F,A))),D=b(1+$[0],S(T,A)),M=b(1+$[1],S(j,A));if(d){var L=d,O=$[0]*L[0]/r+$[1]*L[1]/r+1,z=w(b(L[0],D),b(L[1],M));return w(b(1/O/r,z),A)}var B=S(o,A),P=x(S(D,b($[0],B)),S(M,b($[1],B)),B);return b(r,P)},h})();l.prototype.$characterSize={width:0,height:0},E.implement(l.prototype,s),v.FontMetrics=l}),ace.define("ace/css/editor-css",["require","exports","module"],function(m,v,R){R.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/oop"),f=m("../lib/event_emitter").EventEmitter,a=(function(){function u(s,n){this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(s)}return u.prototype.$createCanvas=function(){this.canvas=E.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},u.prototype.setScrollBarV=function(s){this.$createCanvas(),this.scrollbarV=s,s.element.appendChild(this.canvas),this.setDimensions()},u.prototype.$updateDecorators=function(s){if(typeof this.canvas.getContext!="function")return;var n=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(s);var i=this.canvas.getContext("2d");function r(D,M){return D.priority<M.priority?-1:D.priority>M.priority?1:0}var l=this.renderer.session.$annotations;if(i.clearRect(0,0,this.canvas.width,this.canvas.height),l){var h={info:1,warning:2,error:3};l.forEach(function(D){D.priority=h[D.type]||null}),l=l.sort(r);for(var o=0;o<l.length;o++){var d=l[o].row,g=this.getVerticalOffsetForRow(d),x=g+this.lineHeight,S=Math.round(this.heightRatio*g),w=Math.round(this.heightRatio*x),b=Math.round((S+w)/2),k=w-b;k<this.halfMinDecorationHeight&&(k=this.halfMinDecorationHeight),b-k<0&&(b=k),b+k>this.canvasHeight&&(b=this.canvasHeight-k);var A=b-k,T=b+k,j=T-A;i.fillStyle=n[l[o].type]||null,i.fillRect(0,A,Math.round(this.oneZoneWidth-1),j)}}var F=this.renderer.session.selection.getCursor();if(F){var $=Math.round(this.getVerticalOffsetForRow(F.row)*this.heightRatio);i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,$,this.canvasWidth,2)}},u.prototype.getVerticalOffsetForRow=function(s){s=s|0;var n=this.renderer.session.documentToScreenRow(s,0)*this.lineHeight;return n},u.prototype.setDimensions=function(s){s=s||this.renderer.layerConfig,this.maxHeight=s.maxHeight,this.lineHeight=s.lineHeight,this.canvasHeight=s.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},u.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},u.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},u})();y.implement(a.prototype,f),v.Decorator=a}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/dom"),f=m("./lib/lang"),a=m("./config"),u=m("./layer/gutter").Gutter,s=m("./layer/marker").Marker,n=m("./layer/text").Text,i=m("./layer/cursor").Cursor,r=m("./scrollbar").HScrollBar,l=m("./scrollbar").VScrollBar,h=m("./scrollbar_custom").HScrollBar,o=m("./scrollbar_custom").VScrollBar,d=m("./renderloop").RenderLoop,g=m("./layer/font_metrics").FontMetrics,x=m("./lib/event_emitter").EventEmitter,S=m("./css/editor-css"),w=m("./layer/decorators").Decorator,b=m("./lib/useragent"),k=m("./layer/text_util").isTextToken;y.importCssString(S,"ace_editor.css",!1);var A=(function(){function T(j,F){var $=this;this.container=j||y.createElement("div"),y.addCssClass(this.container,"ace_editor"),y.HI_DPI&&y.addCssClass(this.container,"ace_hidpi"),this.setTheme(F),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=y.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=y.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=y.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var D=this.$textLayer=new n(this.content);this.canvas=D.element,this.$markerFront=new s(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new l(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.on("scroll",function(M){$.$scrollAnimation||$.session.setScrollTop(M.data-$.scrollMargin.top)}),this.scrollBarH.on("scroll",function(M){$.$scrollAnimation||$.session.setScrollLeft(M.data-$.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(M){$.updateCharacterSize(),$.onResize(!0,$.gutterWidth,$.$size.width,$.$size.height),$._signal("changeCharacterSize",M)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),y.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(j){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=j,j&&this.scrollMargin.top&&j.getScrollTop()<=0&&j.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(j),this.$markerBack.setSession(j),this.$markerFront.setSession(j),this.$gutterLayer.setSession(j),this.$textLayer.setSession(j),j&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(j,F,$){if(F===void 0&&(F=1/0),this.$changedLines?(this.$changedLines.firstRow>j&&(this.$changedLines.firstRow=j),this.$changedLines.lastRow<F&&(this.$changedLines.lastRow=F)):this.$changedLines={firstRow:j,lastRow:F},this.$changedLines.lastRow<this.layerConfig.firstRow)if($)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(j){j?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(j,F,$,D){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=j?1:0;var M=this.container;D||(D=M.clientHeight||M.scrollHeight),!D&&this.$maxLines&&this.lineHeight>1&&(!M.style.height||M.style.height=="0px")&&(M.style.height="1px",D=M.clientHeight||M.scrollHeight),$||($=M.clientWidth||M.scrollWidth);var L=this.$updateCachedSize(j,F,$,D);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!$&&!D)return this.resizing=0;j&&(this.$gutterLayer.$padding=null),j?this.$renderChanges(L|this.$changes,!0):this.$loop.schedule(L|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(j,F,$,D){D-=this.$extraHeight||0;var M=0,L=this.$size,O={width:L.width,height:L.height,scrollerHeight:L.scrollerHeight,scrollerWidth:L.scrollerWidth};if(D&&(j||L.height!=D)&&(L.height=D,M|=this.CHANGE_SIZE,L.scrollerHeight=L.height,this.$horizScroll&&(L.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(L.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",M=M|this.CHANGE_SCROLL),$&&(j||L.width!=$)){M|=this.CHANGE_SIZE,L.width=$,F==null&&(F=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=F,y.setStyle(this.scrollBarH.element.style,"left",F+"px"),y.setStyle(this.scroller.style,"left",F+this.margin.left+"px"),L.scrollerWidth=Math.max(0,$-F-this.scrollBarV.getWidth()-this.margin.h),y.setStyle(this.$gutter.style,"left",this.margin.left+"px");var z=this.scrollBarV.getWidth()+"px";y.setStyle(this.scrollBarH.element.style,"right",z),y.setStyle(this.scroller.style,"right",z),y.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(L.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||j)&&(M|=this.CHANGE_FULL)}return L.$dirty=!$||!D,M&&this._signal("resize",O),M},T.prototype.onGutterResize=function(j){var F=this.$showGutter?j:0;F!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,F,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var j=this.$size.scrollerWidth-this.$padding*2,F=Math.floor(j/this.characterWidth);return this.session.adjustWrapLimit(F,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(j){this.setOption("animatedScroll",j)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(j){this.setOption("showInvisibles",j),this.session.$bidiHandler.setShowInvisibles(j)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(j){this.setOption("displayIndentGuides",j)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(j){this.setOption("highlightIndentGuides",j)},T.prototype.setShowPrintMargin=function(j){this.setOption("showPrintMargin",j)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(j){this.setOption("printMarginColumn",j)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(j){return this.setOption("showGutter",j)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(j){this.setOption("fadeFoldWidgets",j)},T.prototype.setHighlightGutterLine=function(j){this.setOption("highlightGutterLine",j)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var j=y.createElement("div");j.className="ace_layer ace_print-margin-layer",this.$printMarginEl=y.createElement("div"),this.$printMarginEl.className="ace_print-margin",j.appendChild(this.$printMarginEl),this.content.insertBefore(j,this.content.firstChild)}var F=this.$printMarginEl.style;F.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",F.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var j=this.textarea.style,F=this.$composition;if(!this.$keepTextAreaAtCursor&&!F){y.translate(this.textarea,-100,0);return}var $=this.$cursorLayer.$pixelPos;if($){F&&F.markerRange&&($=this.$cursorLayer.getPixelPosition(F.markerRange.start,!0));var D=this.layerConfig,M=$.top,L=$.left;M-=D.offset;var O=F&&F.useTextareaForIME||b.isMobile?this.lineHeight:1;if(M<0||M>D.height-O){y.translate(this.textarea,0,0);return}var z=1,B=this.$size.height-O;if(!F)M+=this.lineHeight;else if(F.useTextareaForIME){var P=this.textarea.value;z=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else M+=this.lineHeight+2;L-=this.scrollLeft,L>this.$size.scrollerWidth-z&&(L=this.$size.scrollerWidth-z),L+=this.gutterWidth+this.margin.left,y.setStyle(j,"height",O+"px"),y.setStyle(j,"width",z+"px"),y.translate(this.textarea,Math.min(L,this.$size.scrollerWidth-z),Math.min(M,B))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var j=this.layerConfig,F=j.lastRow,$=this.session.documentToScreenRow(F,0)*j.lineHeight;return $-this.session.getScrollTop()>j.height-j.lineHeight?F-1:F},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(j){this.$padding=j,this.$textLayer.setPadding(j),this.$cursorLayer.setPadding(j),this.$markerFront.setPadding(j),this.$markerBack.setPadding(j),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(j,F,$,D){var M=this.scrollMargin;M.top=j|0,M.bottom=F|0,M.right=D|0,M.left=$|0,M.v=M.top+M.bottom,M.h=M.left+M.right,M.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-M.top),this.updateFull()},T.prototype.setMargin=function(j,F,$,D){var M=this.margin;M.top=j|0,M.bottom=F|0,M.right=D|0,M.left=$|0,M.v=M.top+M.bottom,M.h=M.left+M.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(j){this.setOption("hScrollBarAlwaysVisible",j)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(j){this.setOption("vScrollBarAlwaysVisible",j)},T.prototype.$updateScrollBarV=function(){var j=this.layerConfig.maxHeight,F=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(j-=(F-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>j-F&&(j=this.scrollTop+F,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(j+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(j,F){if(this.$changes&&(j|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!j&&!F){this.$changes|=j;return}if(this.$size.$dirty)return this.$changes|=j,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",j),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var $=this.layerConfig;if(j&this.CHANGE_FULL||j&this.CHANGE_SIZE||j&this.CHANGE_TEXT||j&this.CHANGE_LINES||j&this.CHANGE_SCROLL||j&this.CHANGE_H_SCROLL){if(j|=this.$computeLayerConfig()|this.$loop.clear(),$.firstRow!=this.layerConfig.firstRow&&$.firstRowScreen==this.layerConfig.firstRowScreen){var D=this.scrollTop+($.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;D>0&&(this.scrollTop=D,j=j|this.CHANGE_SCROLL,j|=this.$computeLayerConfig()|this.$loop.clear())}$=this.layerConfig,this.$updateScrollBarV(),j&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),y.translate(this.content,-this.scrollLeft,-$.offset);var M=$.width+2*this.$padding+"px",L=$.minHeight+"px";y.setStyle(this.content.style,"width",M),y.setStyle(this.content.style,"height",L)}if(j&this.CHANGE_H_SCROLL&&(y.translate(this.content,-this.scrollLeft,-$.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),j&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}if(j&this.CHANGE_SCROLL){this.$changedLines=null,j&this.CHANGE_TEXT||j&this.CHANGE_LINES?this.$textLayer.update($):this.$textLayer.scrollLines($),this.$showGutter&&(j&this.CHANGE_GUTTER||j&this.CHANGE_LINES?this.$gutterLayer.update($):this.$gutterLayer.scrollLines($)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}j&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_LINES?((this.$updateLines()||j&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_TEXT||j&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)),j&this.CHANGE_CURSOR&&(this.$cursorLayer.update($),this.$moveTextAreaToCursor()),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update($),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update($),this._signal("afterRender",j)},T.prototype.$autosize=function(){var j=this.session.getScreenLength()*this.lineHeight,F=this.$maxLines*this.lineHeight,$=Math.min(F,Math.max((this.$minLines||1)*this.lineHeight,j))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&($+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&$>this.$maxPixelHeight&&($=this.$maxPixelHeight);var D=$<=2*this.lineHeight,M=!D&&j>F;if($!=this.desiredHeight||this.$size.height!=this.desiredHeight||M!=this.$vScroll){M!=this.$vScroll&&(this.$vScroll=M,this.scrollBarV.setVisible(M));var L=this.container.clientWidth;this.container.style.height=$+"px",this.$updateCachedSize(!0,this.$gutterWidth,L,$),this.desiredHeight=$,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var j=this.session,F=this.$size,$=F.height<=2*this.lineHeight,D=this.session.getScreenLength(),M=D*this.lineHeight,L=this.$getLongestLine(),O=!$&&(this.$hScrollBarAlwaysVisible||F.scrollerWidth-L-2*this.$padding<0),z=this.$horizScroll!==O;z&&(this.$horizScroll=O,this.scrollBarH.setVisible(O));var B=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),$=F.height<=2*this.lineHeight);var P=F.scrollerHeight+this.lineHeight,U=!this.$maxLines&&this.$scrollPastEnd?(F.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;M+=U;var W=this.scrollMargin;this.session.setScrollTop(Math.max(-W.top,Math.min(this.scrollTop,M-F.scrollerHeight+W.bottom))),this.session.setScrollLeft(Math.max(-W.left,Math.min(this.scrollLeft,L+2*this.$padding-F.scrollerWidth+W.right)));var K=!$&&(this.$vScrollBarAlwaysVisible||F.scrollerHeight-M+U<0||this.scrollTop>W.top),Y=B!==K;Y&&(this.$vScroll=K,this.scrollBarV.setVisible(K));var X=this.scrollTop%this.lineHeight,q=Math.ceil(P/this.lineHeight)-1,J=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),V=J+q,Q,te,ie=this.lineHeight;J=j.screenToDocumentRow(J,0);var me=j.getFoldLine(J);me&&(J=me.start.row),Q=j.documentToScreenRow(J,0),te=j.getRowLength(J)*ie,V=Math.min(j.screenToDocumentRow(V,0),j.getLength()-1),P=F.scrollerHeight+j.getRowLength(V)*ie+te,X=this.scrollTop-Q*ie,X<0&&Q>0&&(Q=Math.max(0,Q+Math.floor(X/ie)),X=this.scrollTop-Q*ie);var pe=0;return(this.layerConfig.width!=L||z)&&(pe=this.CHANGE_H_SCROLL),(z||Y)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,F.width,F.height),this._signal("scrollbarVisibilityChanged"),Y&&(L=this.$getLongestLine())),this.layerConfig={width:L,padding:this.$padding,firstRow:J,firstRowScreen:Q,lastRow:V,lineHeight:ie,characterWidth:this.characterWidth,minHeight:P,maxHeight:M,offset:X,gutterOffset:ie?Math.max(0,Math.ceil((X+F.height-F.scrollerHeight)/ie)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(L-this.$padding),pe},T.prototype.$updateLines=function(){if(this.$changedLines){var j=this.$changedLines.firstRow,F=this.$changedLines.lastRow;this.$changedLines=null;var $=this.layerConfig;if(!(j>$.lastRow+1)&&!(F<$.firstRow)){if(F===1/0){this.$showGutter&&this.$gutterLayer.update($),this.$textLayer.update($);return}return this.$textLayer.updateLines($,j,F),!0}}},T.prototype.$getLongestLine=function(){var j=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(j+=1),this.$textLayer&&j>this.$textLayer.MAX_LINE_LENGTH&&(j=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(j*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(j,F){this.$gutterLayer.addGutterDecoration(j,F)},T.prototype.removeGutterDecoration=function(j,F){this.$gutterLayer.removeGutterDecoration(j,F)},T.prototype.updateBreakpoints=function(j){this._rows=j,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(j){this.$gutterLayer.setAnnotations(j),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(j,F,$){this.scrollCursorIntoView(j,$),this.scrollCursorIntoView(F,$)},T.prototype.scrollCursorIntoView=function(j,F,$){if(this.$size.scrollerHeight!==0){var D=this.$cursorLayer.getPixelPosition(j),M=D.left,L=D.top,O=$&&$.top||0,z=$&&$.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var B=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;B+O>L?(F&&B+O>L+this.lineHeight&&(L-=F*this.$size.scrollerHeight),L===0&&(L=-this.scrollMargin.top),this.session.setScrollTop(L)):B+this.$size.scrollerHeight-z<L+this.lineHeight&&(F&&B+this.$size.scrollerHeight-z<L-this.lineHeight&&(L+=F*this.$size.scrollerHeight),this.session.setScrollTop(L+this.lineHeight+z-this.$size.scrollerHeight));var P=this.scrollLeft,U=2*this.layerConfig.characterWidth;M-U<P?(M-=U,M<this.$padding+U&&(M=-this.scrollMargin.left),this.session.setScrollLeft(M)):(M+=U,P+this.$size.scrollerWidth<M+this.characterWidth?this.session.setScrollLeft(Math.round(M+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&M-P<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(j){this.session.setScrollTop(j*this.lineHeight)},T.prototype.alignCursor=function(j,F){typeof j=="number"&&(j={row:j,column:0});var $=this.$cursorLayer.getPixelPosition(j),D=this.$size.scrollerHeight-this.lineHeight,M=$.top-D*(F||0);return this.session.setScrollTop(M),M},T.prototype.$calcSteps=function(j,F){var $=0,D=this.STEPS,M=[],L=function(O,z,B){return B*(Math.pow(O-1,3)+1)+z};for($=0;$<D;++$)M.push(L($/this.STEPS,j,F-j));return M},T.prototype.scrollToLine=function(j,F,$,D){var M=this.$cursorLayer.getPixelPosition({row:j,column:0}),L=M.top;F&&(L-=this.$size.scrollerHeight/2);var O=this.scrollTop;this.session.setScrollTop(L),$!==!1&&this.animateScrolling(O,D)},T.prototype.animateScrolling=function(j,F){var $=this.scrollTop;if(!this.$animatedScroll)return;var D=this;if(j==$)return;if(this.$scrollAnimation){var M=this.$scrollAnimation.steps;if(M.length&&(j=M[0],j==$))return}var L=D.$calcSteps(j,$);this.$scrollAnimation={from:j,to:$,steps:L},clearInterval(this.$timer),D.session.setScrollTop(L.shift()),D.session.$scrollTop=$;function O(){D.$timer=clearInterval(D.$timer),D.$scrollAnimation=null,D.$stopAnimation=!1,F&&F()}this.$timer=setInterval(function(){if(D.$stopAnimation){O();return}if(!D.session)return clearInterval(D.$timer);L.length?(D.session.setScrollTop(L.shift()),D.session.$scrollTop=$):$!=null?(D.session.$scrollTop=-1,D.session.setScrollTop($),$=null):O()},10)},T.prototype.scrollToY=function(j){this.scrollTop!==j&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=j)},T.prototype.scrollToX=function(j){this.scrollLeft!==j&&(this.scrollLeft=j),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(j,F){this.session.setScrollTop(F),this.session.setScrollLeft(j)},T.prototype.scrollBy=function(j,F){F&&this.session.setScrollTop(this.session.getScrollTop()+F),j&&this.session.setScrollLeft(this.session.getScrollLeft()+j)},T.prototype.isScrollableBy=function(j,F){if(F<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||F>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||j<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||j>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(j,F){var $;if(this.$hasCssTransforms){$={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([j,F]);j=D[1]-this.gutterWidth-this.margin.left,F=D[0]}else $=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-$.left-this.$padding,L=M/this.characterWidth,O=Math.floor((F+this.scrollTop-$.top)/this.lineHeight),z=this.$blockCursor?Math.floor(L):Math.round(L);return{row:O,column:z,side:L-z>0?1:-1,offsetX:M}},T.prototype.screenToTextCoordinates=function(j,F){var $;if(this.$hasCssTransforms){$={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([j,F]);j=D[1]-this.gutterWidth-this.margin.left,F=D[0]}else $=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-$.left-this.$padding,L=M/this.characterWidth,O=this.$blockCursor?Math.floor(L):Math.round(L),z=Math.floor((F+this.scrollTop-$.top)/this.lineHeight);return this.session.screenToDocumentPosition(z,Math.max(O,0),M)},T.prototype.textToScreenCoordinates=function(j,F){var $=this.scroller.getBoundingClientRect(),D=this.session.documentToScreenPosition(j,F),M=this.$padding+(this.session.$bidiHandler.isBidiRow(D.row,j)?this.session.$bidiHandler.getPosLeft(D.column):Math.round(D.column*this.characterWidth)),L=D.row*this.lineHeight;return{pageX:$.left+M-this.scrollLeft,pageY:$.top+L-this.scrollTop}},T.prototype.visualizeFocus=function(){y.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){y.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(j){this.$composition=j,j.cssText||(j.cssText=this.textarea.style.cssText),j.useTextareaForIME==null&&(j.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(y.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):j.markerId=this.session.addMarker(j.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(j){var F=this.session.selection.cursor;this.addToken(j,"composition_placeholder",F.row,F.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),y.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var j=this.session.selection.cursor;this.removeExtraToken(j.row,j.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(j,F){var $=this.session.selection.cursor,D=F||{row:$.row,column:$.column};this.removeGhostText();var M=this.$calculateWrappedTextChunks(j,D);this.addToken(M[0].text,"ghost_text",D.row,D.column),this.$ghostText={text:j,position:{row:D.row,column:D.column}};var L=y.createElement("div");if(M.length>1){var O=this.hideTokensAfterPosition(D.row,D.column),z;M.slice(1).forEach(function(Y){var X=y.createElement("div"),q=y.createElement("span");q.className="ace_ghost_text",Y.wrapped&&(X.className="ghost_text_line_wrapped"),Y.text.length===0&&(Y.text=" "),q.appendChild(y.createTextNode(Y.text)),X.appendChild(q),L.appendChild(X),z=X}),O.forEach(function(Y){var X=y.createElement("span");k(Y.type)||(X.className="ace_"+Y.type.replace(/\./g," ace_")),X.appendChild(y.createTextNode(Y.value)),z.appendChild(X)}),this.$ghostTextWidget={el:L,row:D.row,column:D.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var B=this.$cursorLayer.getPixelPosition(D,!0),P=this.container,U=P.getBoundingClientRect().height,W=M.length*this.lineHeight,K=W<U-B.top;if(K)return;W<U?this.scrollBy(0,(M.length-1)*this.lineHeight):this.scrollToRow(D.row)}},T.prototype.$calculateWrappedTextChunks=function(j,F){var $=this.$size.scrollerWidth-this.$padding*2,D=Math.floor($/this.characterWidth)-2;D=D<=0?60:D;for(var M=j.split(/\r?\n/),L=[],O=0;O<M.length;O++){var z=this.session.$getDisplayTokens(M[O],F.column),B=this.session.$computeWrapSplits(z,D,this.session.$tabSize);if(B.length>0){var P=0;B.push(M[O].length);for(var U=0;U<B.length;U++){var W=M[O].slice(P,B[U]);L.push({text:W,wrapped:!0}),P=B[U]}}else L.push({text:M[O],wrapped:!1})}return L},T.prototype.removeGhostText=function(){if(this.$ghostText){var j=this.$ghostText.position;this.removeExtraToken(j.row,j.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(j,F,$,D){var M=this.session;M.bgTokenizer.lines[$]=null;var L={type:F,value:j},O=M.getTokens($);if(D==null||!O.length)O.push(L);else for(var z=0,B=0;B<O.length;B++){var P=O[B];if(z+=P.value.length,D<=z){var U=P.value.length-(z-D),W=P.value.slice(0,U),K=P.value.slice(U);O.splice(B,1,{type:P.type,value:W},L,{type:P.type,value:K});break}}this.updateLines($,$)},T.prototype.hideTokensAfterPosition=function(j,F){for(var $=this.session.getTokens(j),D=0,M=!1,L=[],O=0;O<$.length;O++){var z=$[O];if(D+=z.value.length,z.type!=="ghost_text"){if(M){L.push({type:z.type,value:z.value}),z.type="hidden_token";continue}D===F&&(M=!0)}}return this.updateLines(j,j),L},T.prototype.removeExtraToken=function(j,F){this.session.bgTokenizer.lines[j]=null,this.updateLines(j,j)},T.prototype.setTheme=function(j,F){var $=this;if(this.$themeId=j,$._dispatchEvent("themeChange",{theme:j}),!j||typeof j=="string"){var D=j||this.$options.theme.initialValue;a.loadModule(["theme",D],M)}else M(j);function M(L){if($.$themeId!=j)return F&&F();if(!L||!L.cssClass)throw new Error("couldn't load module "+j+" or it didn't call define");L.$id&&($.$themeId=L.$id),y.importCssString(L.cssText,L.cssClass,$.container),$.theme&&y.removeCssClass($.container,$.theme.cssClass);var O="padding"in L?L.padding:"padding"in($.theme||{})?4:$.$padding;if($.$padding&&O!=$.$padding&&$.setPadding(O),$.$gutterLayer){var z=L.$showGutterCursorMarker;z&&!$.$gutterLayer.$showCursorMarker?$.$gutterLayer.$showCursorMarker="theme":!z&&$.$gutterLayer.$showCursorMarker=="theme"&&($.$gutterLayer.$showCursorMarker=null)}$.$theme=L.cssClass,$.theme=L,y.addCssClass($.container,L.cssClass),y.setCssClass($.container,"ace_dark",L.isDark),$.$size&&($.$size.width=0,$.$updateSizeAsync()),$._dispatchEvent("themeLoaded",{theme:L}),F&&F(),b.isSafari&&$.scroller&&($.scroller.style.background="red",$.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(j,F){y.setCssClass(this.container,j,F!==!1)},T.prototype.unsetStyle=function(j){y.removeCssClass(this.container,j)},T.prototype.setCursorStyle=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.setMouseCursor=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.attachToShadowRoot=function(){y.importCssString(S,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(j){var F=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),j===!0?(this.scrollBarV=new o(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollTop($.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollLeft($.data-F.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new l(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollTop($.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollLeft($.data-F.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var j=this;this.$resizeTimer=f.delayedCall(function(){j.destroyed||j.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(F){var $=F[0].contentRect.width,D=F[0].contentRect.height;Math.abs(j.$size.width-$)>1||Math.abs(j.$size.height-D)>1?j.$resizeTimer.delay():j.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T})();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,E.implement(A.prototype,x),a.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){y.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),v.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/net"),f=m("../lib/event_emitter").EventEmitter,a=m("../config");function u(r){var l="importScripts('"+y.qualifyURL(r)+"');";try{return new Blob([l],{type:"application/javascript"})}catch{var h=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new h;return o.append(l),o.getBlob("application/javascript")}}function s(r){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var l=u(r),h=window.URL||window.webkitURL,o=h.createObjectURL(l);return new Worker(o)}return new Worker(r)}var n=function(r){r.postMessage||(r=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=r,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){E.implement(this,f),this.$createWorkerFromOldConfig=function(r,l,h,o,d){if(m.nameToUrl&&!m.toUrl&&(m.toUrl=m.nameToUrl),a.get("packaged")||!m.toUrl)o=o||a.moduleUrl(l,"worker");else{var g=this.$normalizePath;o=o||g(m.toUrl("ace/worker/worker.js",null,"_"));var x={};r.forEach(function(S){x[S]=g(m.toUrl(S,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=s(o),d&&this.send("importScripts",d),this.$worker.postMessage({init:!0,tlns:x,module:l,classname:h}),this.$worker},this.onMessage=function(r){var l=r.data;switch(l.type){case"event":this._signal(l.name,{data:l.data});break;case"call":var h=this.callbacks[l.id];h&&(h(l.data),delete this.callbacks[l.id]);break;case"error":this.reportError(l.data);break;case"log":window.console&&console.log&&console.log.apply(console,l.data);break}},this.reportError=function(r){window.console&&console.error&&console.error(r)},this.$normalizePath=function(r){return y.qualifyURL(r)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(r){r.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(r,l){this.$worker.postMessage({command:r,args:l})},this.call=function(r,l,h){if(h){var o=this.callbackId++;this.callbacks[o]=h,l.push(o)}this.send(r,l)},this.emit=function(r,l){try{l.data&&l.data.err&&(l.data.err={message:l.data.err.message,stack:l.data.err.stack,code:l.data.err.code}),this.$worker&&this.$worker.postMessage({event:r,data:{data:l.data}})}catch(h){console.error(h.stack)}},this.attachToDocument=function(r){this.$doc&&this.terminate(),this.$doc=r,this.call("setValue",[r.getValue()]),r.on("change",this.changeListener,!0)},this.changeListener=function(r){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),r.action=="insert"?this.deltaQueue.push(r.start,r.lines):this.deltaQueue.push(r.start,r.end)},this.$sendDeltaQueue=function(){var r=this.deltaQueue;r&&(this.deltaQueue=null,r.length>50&&r.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:r}))}}).call(n.prototype);var i=function(r,l,h){var o=null,d=!1,g=Object.create(f),x=[],S=new n({messageBuffer:x,terminate:function(){},postMessage:function(b){x.push(b),o&&(d?setTimeout(w):w())}});S.setEmitSync=function(b){d=b};var w=function(){var b=x.shift();b.command?o[b.command].apply(o,b.args):b.event&&g._signal(b.event,b.data)};return g.postMessage=function(b){S.onMessage({data:b})},g.callback=function(b,k){this.postMessage({type:"call",id:k,data:b})},g.emit=function(b,k){this.postMessage({type:"event",name:b,data:k})},a.loadModule(["worker",l],function(b){for(o=new b[h](g);x.length;)w()}),S};v.UIWorkerClient=i,v.WorkerClient=n,v.createWorker=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(m,v,R){var E=m("./range").Range,y=m("./lib/event_emitter").EventEmitter,f=m("./lib/oop"),a=(function(){function u(s,n,i,r,l,h){var o=this;this.length=n,this.session=s,this.doc=s.getDocument(),this.mainClass=l,this.othersClass=h,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=i;var d=s.getUndoManager().$undoStack||s.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=d.length,this.setup(),s.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var s=this,n=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=i.addMarker(new E(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(l){var h=n.createAnchor(l.row,l.column);h.$insertRight=!0,h.detach(),s.others.push(h)}),i.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var s=this.session,n=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=s.addMarker(new E(i.row,i.column,i.row,i.column+n.length),n.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var s=0;s<this.others.length;s++)this.session.removeMarker(this.others[s].markerId)}},u.prototype.onUpdate=function(s){if(this.$updating)return this.updateAnchors(s);var n=s;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var i=s.action==="insert"?n.end.column-n.start.column:n.start.column-n.end.column,r=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,l=n.start.column-this.pos.column;if(this.updateAnchors(s),r&&(this.length+=i),r&&!this.session.$fromUndo){if(s.action==="insert")for(var h=this.others.length-1;h>=0;h--){var o=this.others[h],d={row:o.row,column:o.column+l};this.doc.insertMergedLines(d,s.lines)}else if(s.action==="remove")for(var h=this.others.length-1;h>=0;h--){var o=this.others[h],d={row:o.row,column:o.column+l};this.doc.remove(new E(d.row,d.column,d.row,d.column-i))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(s){this.pos.onChange(s);for(var n=this.others.length;n--;)this.others[n].onChange(s);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var s=this,n=this.session,i=function(l,h){n.removeMarker(l.markerId),l.markerId=n.addMarker(new E(l.row,l.column,l.row,l.column+s.length),h,null,!1)};i(this.pos,this.mainClass);for(var r=this.others.length;r--;)i(this.others[r],this.othersClass)}},u.prototype.onCursorChange=function(s){if(!(this.$updating||!this.session)){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",s)):(this.hideOtherMarkers(),this._emit("cursorLeave",s))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var s=this.session.getUndoManager(),n=(s.$undoStack||s.$undostack).length-this.$undoStackDepth,i=0;i<n;i++)s.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u})();f.implement(a.prototype,y),v.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent");function f(u,s){return u.row==s.row&&u.column==s.column}function a(u){var s=u.domEvent,n=s.altKey,i=s.shiftKey,r=s.ctrlKey,l=u.getAccelKey(),h=u.getButton();if(r&&y.isMac&&(h=s.button),u.editor.inMultiSelectMode&&h==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!r&&!n&&!l){h===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(h===0){var o=u.editor,d=o.selection,g=o.inMultiSelectMode,x=u.getDocumentPosition(),S=d.getCursor(),w=u.inSelection()||d.isEmpty()&&f(x,S),b=u.x,k=u.y,A=function(W){b=W.clientX,k=W.clientY},T=o.session,j=o.renderer.pixelToScreenCoordinates(b,k),F=j,$;if(o.$mouseHandler.$enableJumpToDef)r&&n||l&&n?$=i?"block":"add":n&&o.$blockSelectEnabled&&($="block");else if(l&&!n){if($="add",!g&&i)return}else n&&o.$blockSelectEnabled&&($="block");if($&&y.isMac&&s.ctrlKey&&o.$mouseHandler.cancelContextMenu(),$=="add"){if(!g&&w)return;if(!g){var D=d.toOrientedRange();o.addSelectionMarker(D)}var M=d.rangeList.rangeAtPoint(x);o.inVirtualSelectionMode=!0,i&&(M=null,D=d.ranges[0]||D,o.removeSelectionMarker(D)),o.once("mouseup",function(){var W=d.toOrientedRange();M&&W.isEmpty()&&f(M.cursor,W.cursor)?d.substractPoint(W.cursor):(i?d.substractPoint(D.cursor):D&&(o.removeSelectionMarker(D),d.addRange(D)),d.addRange(W)),o.inVirtualSelectionMode=!1})}else if($=="block"){u.stop(),o.inVirtualSelectionMode=!0;var L,O=[],z=function(){var W=o.renderer.pixelToScreenCoordinates(b,k),K=T.screenToDocumentPosition(W.row,W.column,W.offsetX);f(F,W)&&f(K,d.lead)||(F=W,o.selection.moveToPosition(K),o.renderer.scrollCursorIntoView(),o.removeSelectionMarkers(O),O=d.rectangularRangeBlock(F,j),o.$mouseHandler.$clickSelection&&O.length==1&&O[0].isEmpty()&&(O[0]=o.$mouseHandler.$clickSelection.clone()),O.forEach(o.addSelectionMarker,o),o.updateSelectionMarkers())};g&&!l?d.toSingleRange():!g&&l&&(L=d.toOrientedRange(),o.addSelectionMarker(L)),i?j=T.documentToScreenPosition(d.lead):d.moveToPosition(x),F={row:-1,column:-1};var B=function(W){z(),clearInterval(U),o.removeSelectionMarkers(O),O.length||(O=[d.toOrientedRange()]),L&&(o.removeSelectionMarker(L),d.toSingleRange(L));for(var K=0;K<O.length;K++)d.addRange(O[K]);o.inVirtualSelectionMode=!1,o.$mouseHandler.$clickSelection=null},P=z;E.capture(o.container,A,B);var U=setInterval(function(){P()},20);return u.preventDefault()}}}v.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(m,v,R){v.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(y){y.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(y){y.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(y){y.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(y){y.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(y){y.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(y){y.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(y){y.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(y){y.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(y){y.multiSelect.rangeCount>1?y.multiSelect.joinSelections():y.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(y){y.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(y){y.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(y){y.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],v.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(y){y.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(y){return y&&y.inMultiSelectMode}}];var E=m("../keyboard/hash_handler").HashHandler;v.keyboardHandler=new E(v.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(m,v,R){var E=m("./range_list").RangeList,y=m("./range").Range,f=m("./selection").Selection,a=m("./mouse/multi_select_handler").onMouseDown,u=m("./lib/event"),s=m("./lib/lang"),n=m("./commands/multi_select_commands");v.commands=n.defaultCommands.concat(n.multiSelectCommands);var i=m("./search").Search,r=new i;function l(S,w,b){return r.$options.wrap=!0,r.$options.needle=w,r.$options.backwards=b==-1,r.find(S)}var h=m("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(S,w){if(S){if(!this.inMultiSelectMode&&this.rangeCount===0){var b=this.toOrientedRange();if(this.rangeList.add(b),this.rangeList.add(S),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),w||this.fromOrientedRange(S);this.rangeList.removeAll(),this.rangeList.add(b),this.$onAddRange(b)}S.cursor||(S.cursor=S.end);var k=this.rangeList.add(S);return this.$onAddRange(S),k.length&&this.$onRemoveRange(k),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(S)}},this.toSingleRange=function(S){S=S||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w),S&&this.fromOrientedRange(S)},this.substractPoint=function(S){var w=this.rangeList.substractPoint(S);if(w)return this.$onRemoveRange(w),w[0]},this.mergeOverlappingRanges=function(){var S=this.rangeList.merge();S.length&&this.$onRemoveRange(S)},this.$onAddRange=function(S){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(S),this._signal("addRange",{range:S})},this.$onRemoveRange=function(S){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();S.push(w),this.rangeCount=0}for(var b=S.length;b--;){var k=this.ranges.indexOf(S[b]);this.ranges.splice(k,1)}this._signal("removeRange",{ranges:S}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),w=w||this.ranges[0],w&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new E,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var S=this.ranges.length?this.ranges:[this.getRange()],w=[],b=0;b<S.length;b++){var k=S[b],A=k.start.row,T=k.end.row;if(A===T)w.push(k.clone());else{for(w.push(new y(A,k.start.column,A,this.session.getLine(A).length));++A<T;)w.push(this.getLineRange(A,!0));w.push(new y(T,0,T,k.end.column))}b==0&&!this.isBackwards()&&(w=w.reverse())}this.toSingleRange();for(var b=w.length;b--;)this.addRange(w[b])},this.joinSelections=function(){var S=this.rangeList.ranges,w=S[S.length-1],b=y.fromPoints(S[0].start,w.end);this.toSingleRange(),this.setSelectionRange(b,w.cursor==w.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var S=this.rangeList.ranges,w=S[S.length-1],b=y.fromPoints(S[0].start,w.end);this.toSingleRange(),this.setSelectionRange(b,w.cursor==w.start)}else{var k=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(k,A);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(S,w,b){var k=[],A=S.column<w.column;if(A)var T=S.column,j=w.column,F=S.offsetX,$=w.offsetX;else var T=w.column,j=S.column,F=w.offsetX,$=S.offsetX;var D=S.row<w.row;if(D)var M=S.row,L=w.row;else var M=w.row,L=S.row;T<0&&(T=0),M<0&&(M=0),M==L&&(b=!0);for(var O,z=M;z<=L;z++){var B=y.fromPoints(this.session.screenToDocumentPosition(z,T,F),this.session.screenToDocumentPosition(z,j,$));if(B.isEmpty()){if(O&&d(B.end,O))break;O=B.end}B.cursor=A?B.start:B.end,k.push(B)}if(D&&k.reverse(),!b){for(var P=k.length-1;k[P].isEmpty()&&P>0;)P--;if(P>0)for(var U=0;k[U].isEmpty();)U++;for(var W=P;W>=U;W--)k[W].isEmpty()&&k.splice(W,1)}return k}}).call(f.prototype);var o=m("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(S){S.cursor||(S.cursor=S.end);var w=this.getSelectionStyle();return S.marker=this.session.addMarker(S,"ace_selection",w),this.session.$selectionMarkers.push(S),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,S},this.removeSelectionMarker=function(S){if(S.marker){this.session.removeMarker(S.marker);var w=this.session.$selectionMarkers.indexOf(S);w!=-1&&this.session.$selectionMarkers.splice(w,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(S){for(var w=this.session.$selectionMarkers,b=S.length;b--;){var k=S[b];if(k.marker){this.session.removeMarker(k.marker);var A=w.indexOf(k);A!=-1&&w.splice(A,1)}}this.session.selectionMarkerCount=w.length},this.$onAddRange=function(S){this.addSelectionMarker(S.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(S){this.removeSelectionMarkers(S.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(S){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(S){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(S){var w=S.command,b=S.editor;if(b.multiSelect){if(w.multiSelectAction)w.multiSelectAction=="forEach"?k=b.forEachSelection(w,S.args):w.multiSelectAction=="forEachLine"?k=b.forEachSelection(w,S.args,!0):w.multiSelectAction=="single"?(b.exitMultiSelectMode(),k=w.exec(b,S.args||{})):k=w.multiSelectAction(b,S.args||{});else{var k=w.exec(b,S.args||{});b.multiSelect.addRange(b.multiSelect.toOrientedRange()),b.multiSelect.mergeOverlappingRanges()}return k}},this.forEachSelection=function(S,w,b){if(!this.inVirtualSelectionMode){var k=b&&b.keepOrder,A=b==!0||b&&b.$byLines,T=this.session,j=this.selection,F=j.rangeList,$=(k?j:F).ranges,D;if(!$.length)return S.exec?S.exec(this,w||{}):S(this,w||{});var M=j._eventRegistry;j._eventRegistry={};var L=new f(T);this.inVirtualSelectionMode=!0;for(var O=$.length;O--;){if(A)for(;O>0&&$[O].start.row==$[O-1].end.row;)O--;L.fromOrientedRange($[O]),L.index=O,this.selection=T.selection=L;var z=S.exec?S.exec(this,w||{}):S(this,w||{});!D&&z!==void 0&&(D=z),L.toOrientedRange($[O])}L.detach(),this.selection=T.selection=j,this.inVirtualSelectionMode=!1,j._eventRegistry=M,j.mergeOverlappingRanges(),j.ranges[0]&&j.fromOrientedRange(j.ranges[0]);var B=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),B&&B.from==B.to&&this.renderer.animateScrolling(B.from),D}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var S="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var w=this.multiSelect.rangeList.ranges,b=[],k=0;k<w.length;k++)b.push(this.session.getTextRange(w[k]));var A=this.session.getDocument().getNewLineCharacter();S=b.join(A),S.length==(b.length-1)*A.length&&(S="")}else this.selection.isEmpty()||(S=this.session.getTextRange(this.getSelectionRange()));return S},this.$checkMultiselectChange=function(S,w){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var b=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&w==this.multiSelect.anchor)return;var k=w==this.multiSelect.anchor?b.cursor==b.start?b.end:b.start:b.cursor;k.row!=w.row||this.session.$clipPositionToDocument(k.row,k.column).column!=w.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(S,w,b){if(w=w||{},w.needle=S||w.needle,w.needle==null){var k=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(k)}this.$search.set(w);var A=this.$search.findAll(this.session);if(!A.length)return 0;var T=this.multiSelect;b||T.toSingleRange(A[0]);for(var j=A.length;j--;)T.addRange(A[j],!0);return k&&T.rangeList.rangeAtPoint(k.start)&&T.addRange(k,!0),A.length},this.selectMoreLines=function(S,w){var b=this.selection.toOrientedRange(),k=b.cursor==b.end,A=this.session.documentToScreenPosition(b.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(A.row+S,A.column);if(b.isEmpty())var F=T;else var j=this.session.documentToScreenPosition(k?b.end:b.start),F=this.session.screenToDocumentPosition(j.row+S,j.column);if(k){var $=y.fromPoints(T,F);$.cursor=$.start}else{var $=y.fromPoints(F,T);$.cursor=$.end}if($.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(b);else if(w)var D=b.cursor;this.selection.addRange($),D&&this.selection.substractPoint(D)},this.transposeSelections=function(S){for(var w=this.session,b=w.multiSelect,k=b.ranges,A=k.length;A--;){var T=k[A];if(T.isEmpty()){var j=w.getWordRange(T.start.row,T.start.column);T.start.row=j.start.row,T.start.column=j.start.column,T.end.row=j.end.row,T.end.column=j.end.column}}b.mergeOverlappingRanges();for(var F=[],A=k.length;A--;){var T=k[A];F.unshift(w.getTextRange(T))}S<0?F.unshift(F.pop()):F.push(F.shift());for(var A=k.length;A--;){var T=k[A],$=T.clone();w.replace(T,F[A]),T.start.row=$.start.row,T.start.column=$.start.column}b.fromOrientedRange(b.ranges[0])},this.selectMore=function(S,w,b){var k=this.session,A=k.multiSelect,T=A.toOrientedRange();if(!(T.isEmpty()&&(T=k.getWordRange(T.start.row,T.start.column),T.cursor=S==-1?T.start:T.end,this.multiSelect.addRange(T),b))){var j=k.getTextRange(T),F=l(k,j,S);F&&(F.cursor=S==-1?F.start:F.end,this.session.unfold(F),this.multiSelect.addRange(F),this.renderer.scrollCursorIntoView(null,.5)),w&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var S=this.session,w=S.multiSelect,b=w.ranges,k=-1,A=b.filter(function(P){if(P.cursor.row==k)return!0;k=P.cursor.row});if(!b.length||A.length==b.length-1){var T=this.selection.getRange(),j=T.start.row,F=T.end.row,$=j==F;if($){var D=this.session.getLength(),M;do M=this.session.getLine(F);while(/[=:]/.test(M)&&++F<D);do M=this.session.getLine(j);while(/[=:]/.test(M)&&--j>0);j<0&&(j=0),F>=D&&(F=D-1)}var L=this.session.removeFullLines(j,F);L=this.$reAlignText(L,$),this.session.insert({row:j,column:0},L.join(`
`)+`
`),$||(T.start.column=0,T.end.column=L[L.length-1].length),this.selection.setRange(T)}else{A.forEach(function(P){w.substractPoint(P.cursor)});var O=0,z=1/0,B=b.map(function(P){var U=P.cursor,W=S.getLine(U.row),K=W.substr(U.column).search(/\S/g);return K==-1&&(K=0),U.column>O&&(O=U.column),K<z&&(z=K),K});b.forEach(function(P,U){var W=P.cursor,K=O-W.column,Y=B[U]-z;K>Y?S.insert(W,s.stringRepeat(" ",K-Y)):S.remove(new y(W.row,W.column,W.row,W.column-K+Y)),P.start.column=P.end.column=O,P.start.row=P.end.row=W.row,P.cursor=P.end}),w.fromOrientedRange(b[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(S,w){var b=!0,k=!0,A,T,j;return S.map(function(L){var O=L.match(/(\s*)(.*?)(\s*)([=:].*)/);return O?A==null?(A=O[1].length,T=O[2].length,j=O[3].length,O):(A+T+j!=O[1].length+O[2].length+O[3].length&&(k=!1),A!=O[1].length&&(b=!1),A>O[1].length&&(A=O[1].length),T<O[2].length&&(T=O[2].length),j>O[3].length&&(j=O[3].length),O):[L]}).map(w?$:b?k?D:$:M);function F(L){return s.stringRepeat(" ",L)}function $(L){return L[2]?F(A)+L[2]+F(T-L[2].length+j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function D(L){return L[2]?F(A+T-L[2].length)+L[2]+F(j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function M(L){return L[2]?F(A)+L[2]+F(j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}}}).call(o.prototype);function d(S,w){return S.row==w.row&&S.column==w.column}v.onSessionChange=function(S){var w=S.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection),this.multiSelect=w&&w.multiSelect;var b=S.oldSession;b&&(b.multiSelect.off("addRange",this.$onAddRange),b.multiSelect.off("removeRange",this.$onRemoveRange),b.multiSelect.off("multiSelect",this.$onMultiSelect),b.multiSelect.off("singleSelect",this.$onSingleSelect),b.multiSelect.lead.off("change",this.$checkMultiselectChange),b.multiSelect.anchor.off("change",this.$checkMultiselectChange)),w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange)),w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function g(S){S.$multiselectOnSessionChange||(S.$onAddRange=S.$onAddRange.bind(S),S.$onRemoveRange=S.$onRemoveRange.bind(S),S.$onMultiSelect=S.$onMultiSelect.bind(S),S.$onSingleSelect=S.$onSingleSelect.bind(S),S.$multiselectOnSessionChange=v.onSessionChange.bind(S),S.$checkMultiselectChange=S.$checkMultiselectChange.bind(S),S.$multiselectOnSessionChange(S),S.on("changeSession",S.$multiselectOnSessionChange),S.on("mousedown",a),S.commands.addCommands(n.defaultCommands),x(S))}function x(S){if(!S.textInput)return;var w=S.textInput.getElement(),b=!1;u.addListener(w,"keydown",function(A){var T=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);S.$blockSelectEnabled&&T?b||(S.renderer.setMouseCursor("crosshair"),b=!0):b&&k()},S),u.addListener(w,"keyup",k,S),u.addListener(w,"blur",k,S);function k(A){b&&(S.renderer.setMouseCursor(""),b=!1)}}v.MultiSelect=g,m("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(S){g(this),S?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(S){this.$blockSelectEnabled=S},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(m,v,R){var E=m("../../range").Range,y=v.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(f,a,u){var s=f.getLine(u);return this.foldingStartMarker.test(s)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(s)?"end":""},this.getFoldWidgetRange=function(f,a,u){return null},this.indentationBlock=function(f,a,u){var s=/\S/,n=f.getLine(a),i=n.search(s);if(i!=-1){for(var r=u||n.length,l=f.getLength(),h=a,o=a;++a<l;){var d=f.getLine(a).search(s);if(d!=-1){if(d<=i){var g=f.getTokenAt(a,0);if(!g||g.type!=="string")break}o=a}}if(o>h){var x=f.getLine(o).length;return new E(h,r,o,x)}}},this.openingBracketBlock=function(f,a,u,s,n){var i={row:u,column:s+1},r=f.$findClosingBracket(a,i,n);if(r){var l=f.foldWidgets[r.row];return l==null&&(l=f.getFoldWidget(r.row)),l=="start"&&r.row>i.row&&(r.row--,r.column=f.getLine(r.row).length),E.fromPoints(i,r)}},this.closingBracketBlock=function(f,a,u,s,n){var i={row:u,column:s},r=f.$findOpeningBracket(a,i);if(r)return r.column++,i.column--,E.fromPoints(r,i)}}).call(y.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(m,v,R){var E=m("../lib/dom"),y=m("../range").Range,f=m("../config").nls;function a(s,n,i){for(var r=0,l=s.length-1;r<=l;){var h=r+l>>1,o=i(n,s[h]);if(o>0)r=h+1;else if(o<0)l=h-1;else return h}return-(r+1)}function u(s,n,i){var r=s.getAnnotations().sort(y.comparePoints);if(r.length){var l=a(r,{row:n,column:-1},y.comparePoints);l<0&&(l=-l-1),l>=r.length?l=i>0?0:r.length-1:l===0&&i<0&&(l=r.length-1);var h=r[l];if(!(!h||!i)){if(h.row===n){do h=r[l+=i];while(h&&h.row===n);if(!h)return r.slice()}var o=[];n=h.row;do o[i<0?"unshift":"push"](h),h=r[l+=i];while(h&&h.row==n);return o.length&&o}}}v.showErrorMarker=function(s,n){var i=s.session,r=s.getCursorPosition(),l=r.row,h=i.widgetManager.getWidgetsAtRow(l).filter(function(A){return A.type=="errorMarker"})[0];h?h.destroy():l-=n;var o=u(i,l,n),d;if(o){var g=o[0];r.column=(g.pos&&typeof g.column!="number"?g.pos.sc:g.column)||0,r.row=g.row,d=s.renderer.$gutterLayer.$annotations[r.row]}else{if(h)return;d={displayText:[f("error-marker.good-state","Looks good!")],className:"ace_ok"}}s.session.unfold(r.row),s.selection.moveToPosition(r);var x={row:r.row,fixedWidth:!0,coverGutter:!0,el:E.createElement("div"),type:"errorMarker"},S=x.el.appendChild(E.createElement("div")),w=x.el.appendChild(E.createElement("div"));w.className="error_widget_arrow "+d.className;var b=s.renderer.$cursorLayer.getPixelPosition(r).left;w.style.left=b+s.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",S.className="error_widget "+d.className,d.displayText.forEach(function(A,T){S.appendChild(E.createTextNode(A)),T<d.displayText.length-1&&S.appendChild(E.createElement("br"))}),S.appendChild(E.createElement("div"));var k=function(A,T,j){if(T===0&&(j==="esc"||j==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){s.$mouseHandler.isMousePressed||(s.keyBinding.removeKeyboardHandler(k),i.widgetManager.removeLineWidget(x),s.off("changeSelection",x.destroy),s.off("changeSession",x.destroy),s.off("mouseup",x.destroy),s.off("change",x.destroy))},s.keyBinding.addKeyboardHandler(k),s.on("changeSelection",x.destroy),s.on("changeSession",x.destroy),s.on("mouseup",x.destroy),s.on("change",x.destroy),s.session.widgetManager.addLineWidget(x),x.el.onmousedown=s.focus.bind(s),s.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},E.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(m,v,R){m("./loader_build")(v);var E=m("./lib/dom"),y=m("./range").Range,f=m("./editor").Editor,a=m("./edit_session").EditSession,u=m("./undomanager").UndoManager,s=m("./virtual_renderer").VirtualRenderer;m("./worker/worker_client"),m("./keyboard/hash_handler"),m("./placeholder"),m("./multi_select"),m("./mode/folding/fold_mode"),m("./theme/textmate"),m("./ext/error_marker"),v.config=m("./config"),v.edit=function(i,r){if(typeof i=="string"){var l=i;if(i=document.getElementById(l),!i)throw new Error("ace.edit can't find div #"+l)}if(i&&i.env&&i.env.editor instanceof f)return i.env.editor;var h="";if(i&&/input|textarea/i.test(i.tagName)){var o=i;h=o.value,i=E.createElement("pre"),o.parentNode.replaceChild(i,o)}else i&&(h=i.textContent,i.innerHTML="");var d=v.createEditSession(h),g=new f(new s(i),d,r),x={document:d,editor:g,onResize:g.resize.bind(g,null)};return o&&(x.textarea=o),g.on("destroy",function(){x.editor.container.env=null}),g.container.env=g.env=x,g},v.createEditSession=function(i,r){var l=new a(i,r);return l.setUndoManager(new u),l},v.Range=y,v.Editor=f,v.EditSession=a,v.UndoManager=u,v.VirtualRenderer=s;var n=v.config.version;v.version=n}),(function(){ace.require(["ace/ace"],function(m){m&&(m.config.init(!0),m.define=ace.define);var v=(function(){return this})();!v&&typeof window<"u"&&(v=window),!v&&typeof self<"u"&&(v=self),v.ace||(v.ace=m);for(var R in m)m.hasOwnProperty(R)&&(v.ace[R]=m[R]);v.ace.default=v.ace,c&&(c.exports=v.ace)})})()})(Vh)),Vh.exports}var Gh={exports:{}},Kh,qm;function ow(){if(qm)return Kh;qm=1;var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kh=c,Kh}var Yh,Zm;function aw(){if(Zm)return Yh;Zm=1;var c=ow();function _(){}function m(){}return m.resetWarningCache=_,Yh=function(){function v(y,f,a,u,s,n){if(n!==c){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}v.isRequired=v;function R(){return v}var E={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:R,element:v,elementType:v,instanceOf:R,node:v,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:m,resetWarningCache:_};return E.PropTypes=E,E},Yh}var Qm;function Nd(){return Qm||(Qm=1,Gh.exports=aw()()),Gh.exports}var Ta={exports:{}};Ta.exports;var Jm;function f0(){return Jm||(Jm=1,(function(c,_){var m=200,v="__lodash_hash_undefined__",R=1,E=2,y=9007199254740991,f="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",s="[object Boolean]",n="[object Date]",i="[object Error]",r="[object Function]",l="[object GeneratorFunction]",h="[object Map]",o="[object Number]",d="[object Null]",g="[object Object]",x="[object Promise]",S="[object Proxy]",w="[object RegExp]",b="[object Set]",k="[object String]",A="[object Symbol]",T="[object Undefined]",j="[object WeakMap]",F="[object ArrayBuffer]",$="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",L="[object Int8Array]",O="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,q={};q[D]=q[M]=q[L]=q[O]=q[z]=q[B]=q[P]=q[U]=q[W]=!0,q[f]=q[a]=q[F]=q[s]=q[$]=q[n]=q[i]=q[r]=q[h]=q[o]=q[g]=q[w]=q[b]=q[k]=q[j]=!1;var J=typeof ki=="object"&&ki&&ki.Object===Object&&ki,V=typeof self=="object"&&self&&self.Object===Object&&self,Q=J||V||Function("return this")(),te=_&&!_.nodeType&&_,ie=te&&!0&&c&&!c.nodeType&&c,me=ie&&ie.exports===te,pe=me&&J.process,Se=(function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}})(),ke=Se&&Se.isTypedArray;function Ae(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length,Qe=0,je=[];++ye<xe;){var lt=ee[ye];oe(lt,ye,ee)&&(je[Qe++]=lt)}return je}function Ue(ee,oe){for(var ye=-1,xe=oe.length,Qe=ee.length;++ye<xe;)ee[Qe+ye]=oe[ye];return ee}function we(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length;++ye<xe;)if(oe(ee[ye],ye,ee))return!0;return!1}function Ce(ee,oe){for(var ye=-1,xe=Array(ee);++ye<ee;)xe[ye]=oe(ye);return xe}function at(ee){return function(oe){return ee(oe)}}function $t(ee,oe){return ee.has(oe)}function qt(ee,oe){return ee?.[oe]}function Zt(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe,Qe){ye[++oe]=[Qe,xe]}),ye}function mt(ee,oe){return function(ye){return ee(oe(ye))}}function Ze(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe){ye[++oe]=xe}),ye}var _t=Array.prototype,Dt=Function.prototype,xt=Object.prototype,pt=Q["__core-js_shared__"],Yt=Dt.toString,it=xt.hasOwnProperty,rt=(function(){var ee=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""})(),He=xt.toString,Tt=RegExp("^"+Yt.call(it).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=me?Q.Buffer:void 0,wt=Q.Symbol,le=Q.Uint8Array,be=xt.propertyIsEnumerable,Me=_t.splice,Pe=wt?wt.toStringTag:void 0,Pt=Object.getOwnPropertySymbols,on=gt?gt.isBuffer:void 0,On=mt(Object.keys,Object),Wt=Sn(Q,"DataView"),jn=Sn(Q,"Map"),ei=Sn(Q,"Promise"),Hr=Sn(Q,"Set"),nr=Sn(Q,"WeakMap"),ti=Sn(Object,"create"),Li=li(Wt),To=li(jn),ms=li(ei),vs=li(Hr),ys=li(nr),ir=wt?wt.prototype:void 0,Ri=ir?ir.valueOf:void 0;function In(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function bs(){this.__data__=ti?ti(null):{},this.size=0}function Bn(ee){var oe=this.has(ee)&&delete this.__data__[ee];return this.size-=oe?1:0,oe}function Mt(ee){var oe=this.__data__;if(ti){var ye=oe[ee];return ye===v?void 0:ye}return it.call(oe,ee)?oe[ee]:void 0}function Ut(ee){var oe=this.__data__;return ti?oe[ee]!==void 0:it.call(oe,ee)}function bi(ee,oe){var ye=this.__data__;return this.size+=this.has(ee)?0:1,ye[ee]=ti&&oe===void 0?v:oe,this}In.prototype.clear=bs,In.prototype.delete=Bn,In.prototype.get=Mt,In.prototype.has=Ut,In.prototype.set=bi;function hn(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function Mo(){this.__data__=[],this.size=0}function Lo(ee){var oe=this.__data__,ye=Qt(oe,ee);if(ye<0)return!1;var xe=oe.length-1;return ye==xe?oe.pop():Me.call(oe,ye,1),--this.size,!0}function _s(ee){var oe=this.__data__,ye=Qt(oe,ee);return ye<0?void 0:oe[ye][1]}function Ni(ee){return Qt(this.__data__,ee)>-1}function zr(ee,oe){var ye=this.__data__,xe=Qt(ye,ee);return xe<0?(++this.size,ye.push([ee,oe])):ye[xe][1]=oe,this}hn.prototype.clear=Mo,hn.prototype.delete=Lo,hn.prototype.get=_s,hn.prototype.has=Ni,hn.prototype.set=zr;function an(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function ni(){this.size=0,this.__data__={hash:new In,map:new(jn||hn),string:new In}}function $i(ee){var oe=Wr(this,ee).delete(ee);return this.size-=oe?1:0,oe}function _i(ee){return Wr(this,ee).get(ee)}function St(ee){return Wr(this,ee).has(ee)}function xs(ee,oe){var ye=Wr(this,ee),xe=ye.size;return ye.set(ee,oe),this.size+=ye.size==xe?0:1,this}an.prototype.clear=ni,an.prototype.delete=$i,an.prototype.get=_i,an.prototype.has=St,an.prototype.set=xs;function Di(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.__data__=new an;++oe<ye;)this.add(ee[oe])}function ii(ee){return this.__data__.set(ee,v),this}function ri(ee){return this.__data__.has(ee)}Di.prototype.add=Di.prototype.push=ii,Di.prototype.has=ri;function Hn(ee){var oe=this.__data__=new hn(ee);this.size=oe.size}function ws(){this.__data__=new hn,this.size=0}function Ss(ee){var oe=this.__data__,ye=oe.delete(ee);return this.size=oe.size,ye}function Fr(ee){return this.__data__.get(ee)}function Cs(ee){return this.__data__.has(ee)}function Es(ee,oe){var ye=this.__data__;if(ye instanceof hn){var xe=ye.__data__;if(!jn||xe.length<m-1)return xe.push([ee,oe]),this.size=++ye.size,this;ye=this.__data__=new an(xe)}return ye.set(ee,oe),this.size=ye.size,this}Hn.prototype.clear=ws,Hn.prototype.delete=Ss,Hn.prototype.get=Fr,Hn.prototype.has=Cs,Hn.prototype.set=Es;function si(ee,oe){var ye=ci(ee),xe=!ye&&sr(ee),Qe=!ye&&!xe&&Ur(ee),je=!ye&&!xe&&!Qe&&hi(ee),lt=ye||xe||Qe||je,Ot=lt?Ce(ee.length,String):[],Lt=Ot.length;for(var dt in ee)it.call(ee,dt)&&!(lt&&(dt=="length"||Qe&&(dt=="offset"||dt=="parent")||je&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||jo(dt,Lt)))&&Ot.push(dt);return Ot}function Qt(ee,oe){for(var ye=ee.length;ye--;)if(Ms(ee[ye][0],oe))return ye;return-1}function Fa(ee,oe,ye){var xe=oe(ee);return ci(ee)?xe:Ue(xe,ye(ee))}function Pr(ee){return ee==null?ee===void 0?T:d:Pe&&Pe in Object(ee)?Nc(ee):ai(ee)}function As(ee){return ui(ee)&&Pr(ee)==f}function Ro(ee,oe,ye,xe,Qe){return ee===oe?!0:ee==null||oe==null||!ui(ee)&&!ui(oe)?ee!==ee&&oe!==oe:ks(ee,oe,ye,xe,Ro,Qe)}function ks(ee,oe,ye,xe,Qe,je){var lt=ci(ee),Ot=ci(oe),Lt=lt?a:oi(ee),dt=Ot?a:oi(oe);Lt=Lt==f?g:Lt,dt=dt==f?g:dt;var Vt=Lt==g,ln=dt==g,Gt=Lt==dt;if(Gt&&Ur(ee)){if(!Ur(oe))return!1;lt=!0,Vt=!1}if(Gt&&!Vt)return je||(je=new Hn),lt||hi(ee)?$o(ee,oe,ye,xe,Qe,je):Do(ee,oe,Lt,ye,xe,Qe,je);if(!(ye&R)){var pn=Vt&&it.call(ee,"__wrapped__"),gn=ln&&it.call(oe,"__wrapped__");if(pn||gn){var xi=pn?ee.value():ee,Cn=gn?oe.value():oe;return je||(je=new Hn),Qe(xi,Cn,ye,xe,je)}}return Gt?(je||(je=new Hn),rr(ee,oe,ye,xe,Qe,je)):!1}function Rc(ee){if(!Ls(ee)||Dc(ee))return!1;var oe=or(ee)?Tt:Y;return oe.test(li(ee))}function fn(ee){return ui(ee)&&zn(ee.length)&&!!q[Pr(ee)]}function No(ee){if(!Ts(ee))return On(ee);var oe=[];for(var ye in Object(ee))it.call(ee,ye)&&ye!="constructor"&&oe.push(ye);return oe}function $o(ee,oe,ye,xe,Qe,je){var lt=ye&R,Ot=ee.length,Lt=oe.length;if(Ot!=Lt&&!(lt&&Lt>Ot))return!1;var dt=je.get(ee);if(dt&&je.get(oe))return dt==oe;var Vt=-1,ln=!0,Gt=ye&E?new Di:void 0;for(je.set(ee,oe),je.set(oe,ee);++Vt<Ot;){var pn=ee[Vt],gn=oe[Vt];if(xe)var xi=lt?xe(gn,pn,Vt,oe,ee,je):xe(pn,gn,Vt,ee,oe,je);if(xi!==void 0){if(xi)continue;ln=!1;break}if(Gt){if(!we(oe,function(Cn,Oi){if(!$t(Gt,Oi)&&(pn===Cn||Qe(pn,Cn,ye,xe,je)))return Gt.push(Oi)})){ln=!1;break}}else if(!(pn===gn||Qe(pn,gn,ye,xe,je))){ln=!1;break}}return je.delete(ee),je.delete(oe),ln}function Do(ee,oe,ye,xe,Qe,je,lt){switch(ye){case $:if(ee.byteLength!=oe.byteLength||ee.byteOffset!=oe.byteOffset)return!1;ee=ee.buffer,oe=oe.buffer;case F:return!(ee.byteLength!=oe.byteLength||!je(new le(ee),new le(oe)));case s:case n:case o:return Ms(+ee,+oe);case i:return ee.name==oe.name&&ee.message==oe.message;case w:case k:return ee==oe+"";case h:var Ot=Zt;case b:var Lt=xe&R;if(Ot||(Ot=Ze),ee.size!=oe.size&&!Lt)return!1;var dt=lt.get(ee);if(dt)return dt==oe;xe|=E,lt.set(ee,oe);var Vt=$o(Ot(ee),Ot(oe),xe,Qe,je,lt);return lt.delete(ee),Vt;case A:if(Ri)return Ri.call(ee)==Ri.call(oe)}return!1}function rr(ee,oe,ye,xe,Qe,je){var lt=ye&R,Ot=Oo(ee),Lt=Ot.length,dt=Oo(oe),Vt=dt.length;if(Lt!=Vt&&!lt)return!1;for(var ln=Lt;ln--;){var Gt=Ot[ln];if(!(lt?Gt in oe:it.call(oe,Gt)))return!1}var pn=je.get(ee);if(pn&&je.get(oe))return pn==oe;var gn=!0;je.set(ee,oe),je.set(oe,ee);for(var xi=lt;++ln<Lt;){Gt=Ot[ln];var Cn=ee[Gt],Oi=oe[Gt];if(xe)var Ga=lt?xe(Oi,Cn,Gt,oe,ee,je):xe(Cn,Oi,Gt,ee,oe,je);if(!(Ga===void 0?Cn===Oi||Qe(Cn,Oi,ye,xe,je):Ga)){gn=!1;break}xi||(xi=Gt=="constructor")}if(gn&&!xi){var Ns=ee.constructor,$s=oe.constructor;Ns!=$s&&"constructor"in ee&&"constructor"in oe&&!(typeof Ns=="function"&&Ns instanceof Ns&&typeof $s=="function"&&$s instanceof $s)&&(gn=!1)}return je.delete(ee),je.delete(oe),gn}function Oo(ee){return Fa(ee,Io,Pa)}function Wr(ee,oe){var ye=ee.__data__;return $c(oe)?ye[typeof oe=="string"?"string":"hash"]:ye.map}function Sn(ee,oe){var ye=qt(ee,oe);return Rc(ye)?ye:void 0}function Nc(ee){var oe=it.call(ee,Pe),ye=ee[Pe];try{ee[Pe]=void 0;var xe=!0}catch{}var Qe=He.call(ee);return xe&&(oe?ee[Pe]=ye:delete ee[Pe]),Qe}var Pa=Pt?function(ee){return ee==null?[]:(ee=Object(ee),Ae(Pt(ee),function(oe){return be.call(ee,oe)}))}:Rs,oi=Pr;(Wt&&oi(new Wt(new ArrayBuffer(1)))!=$||jn&&oi(new jn)!=h||ei&&oi(ei.resolve())!=x||Hr&&oi(new Hr)!=b||nr&&oi(new nr)!=j)&&(oi=function(ee){var oe=Pr(ee),ye=oe==g?ee.constructor:void 0,xe=ye?li(ye):"";if(xe)switch(xe){case Li:return $;case To:return h;case ms:return x;case vs:return b;case ys:return j}return oe});function jo(ee,oe){return oe=oe??y,!!oe&&(typeof ee=="number"||X.test(ee))&&ee>-1&&ee%1==0&&ee<oe}function $c(ee){var oe=typeof ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?ee!=="__proto__":ee===null}function Dc(ee){return!!rt&&rt in ee}function Ts(ee){var oe=ee&&ee.constructor,ye=typeof oe=="function"&&oe.prototype||xt;return ee===ye}function ai(ee){return He.call(ee)}function li(ee){if(ee!=null){try{return Yt.call(ee)}catch{}try{return ee+""}catch{}}return""}function Ms(ee,oe){return ee===oe||ee!==ee&&oe!==oe}var sr=As((function(){return arguments})())?As:function(ee){return ui(ee)&&it.call(ee,"callee")&&!be.call(ee,"callee")},ci=Array.isArray;function Wa(ee){return ee!=null&&zn(ee.length)&&!or(ee)}var Ur=on||Va;function Ua(ee,oe){return Ro(ee,oe)}function or(ee){if(!Ls(ee))return!1;var oe=Pr(ee);return oe==r||oe==l||oe==u||oe==S}function zn(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=y}function Ls(ee){var oe=typeof ee;return ee!=null&&(oe=="object"||oe=="function")}function ui(ee){return ee!=null&&typeof ee=="object"}var hi=ke?at(ke):fn;function Io(ee){return Wa(ee)?si(ee):No(ee)}function Rs(){return[]}function Va(){return!1}c.exports=Ua})(Ta,Ta.exports)),Ta.exports}var gi={},ev;function p0(){if(ev)return gi;ev=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.getAceInstance=gi.debounce=gi.editorEvents=gi.editorOptions=void 0;var c=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];gi.editorOptions=c;var _=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];gi.editorEvents=_;var m=function(){var R;return typeof window>"u"?(ki.window={},R=Ra(),delete ki.window):window.ace?(R=window.ace,R.acequire=window.ace.require||window.ace.acequire):R=Ra(),R};gi.getAceInstance=m;var v=function(R,E){var y=null;return function(){var f=this,a=arguments;clearTimeout(y),y=setTimeout(function(){R.apply(f,a)},E)}};return gi.debounce=v,gi}var tv;function lw(){if(tv)return Lr;tv=1;var c=Lr&&Lr.__extends||(function(){var u=function(s,n){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l])},u(s,n)};return function(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");u(s,n);function i(){this.constructor=s}s.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),_=Lr&&Lr.__assign||function(){return _=Object.assign||function(u){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(u[r]=s[r])}return u},_.apply(this,arguments)};Object.defineProperty(Lr,"__esModule",{value:!0});var m=Ra(),v=Nd(),R=Br(),E=f0(),y=p0(),f=(0,y.getAceInstance)(),a=(function(u){c(s,u);function s(n){var i=u.call(this,n)||this;return y.editorEvents.forEach(function(r){i[r]=i[r].bind(i)}),i.debounce=y.debounce,i}return s.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},s.prototype.componentDidMount=function(){var n=this,i=this.props,r=i.className,l=i.onBeforeLoad,h=i.onValidate,o=i.mode,d=i.focus,g=i.theme,x=i.fontSize,S=i.lineHeight,w=i.value,b=i.defaultValue,k=i.showGutter,A=i.wrapEnabled,T=i.showPrintMargin,j=i.scrollMargin,F=j===void 0?[0,0,0,0]:j,$=i.keyboardHandler,D=i.onLoad,M=i.commands,L=i.annotations,O=i.markers,z=i.placeholder;this.editor=f.edit(this.refEditor),l&&l(f);for(var B=Object.keys(this.props.editorProps),P=0;P<B.length;P++)this.editor[B[P]]=this.props.editorProps[B[P]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(F[0],F[1],F[2],F[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof o=="string"?"ace/mode/".concat(o):o),g&&g!==""&&this.editor.setTheme("ace/theme/".concat(g)),this.editor.setFontSize(typeof x=="number"?"".concat(x,"px"):x),S&&(this.editor.container.style.lineHeight=typeof S=="number"?"".concat(S,"px"):"".concat(S),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(b||w||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(k),this.editor.getSession().setUseWrapMode(A),this.editor.setShowPrintMargin(T),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),z&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),h&&this.editor.getSession().on("changeAnnotation",function(){var W=n.editor.getSession().getAnnotations();n.props.onValidate(W)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(L||[]),O&&O.length>0&&this.handleMarkers(O);var U=this.editor.$options;y.editorOptions.forEach(function(W){U.hasOwnProperty(W)?n.editor.setOption(W,n.props[W]):n.props[W]&&console.warn("ReactAce: editor option ".concat(W," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(M)&&M.forEach(function(W){typeof W.exec=="string"?n.editor.commands.bindKey(W.bindKey,W.exec):n.editor.commands.addCommand(W)}),$&&this.editor.setKeyboardHandler("ace/keyboard/"+$),r&&(this.refEditor.className+=" "+r),D&&D(this.editor),this.editor.resize(),d&&this.editor.focus()},s.prototype.componentDidUpdate=function(n){for(var i=n,r=this.props,l=0;l<y.editorOptions.length;l++){var h=y.editorOptions[l];r[h]!==i[h]&&this.editor.setOption(h,r[h])}if(r.className!==i.className){var o=this.refEditor.className,d=o.trim().split(" "),g=i.className.trim().split(" ");g.forEach(function(w){var b=d.indexOf(w);d.splice(b,1)}),this.refEditor.className=" "+r.className+" "+d.join(" ")}var x=this.editor&&r.value!=null&&this.editor.getValue()!==r.value;if(x){this.silent=!0;var S=this.editor.session.selection.toJSON();this.editor.setValue(r.value,r.cursorStart),this.editor.session.selection.fromJSON(S),this.silent=!1}r.placeholder!==i.placeholder&&this.updatePlaceholder(),r.mode!==i.mode&&this.editor.getSession().setMode(typeof r.mode=="string"?"ace/mode/".concat(r.mode):r.mode),r.theme!==i.theme&&this.editor.setTheme("ace/theme/"+r.theme),r.keyboardHandler!==i.keyboardHandler&&(r.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):this.editor.setKeyboardHandler(null)),r.fontSize!==i.fontSize&&this.editor.setFontSize(typeof r.fontSize=="number"?"".concat(r.fontSize,"px"):r.fontSize),r.lineHeight!==i.lineHeight&&(this.editor.container.style.lineHeight=typeof r.lineHeight=="number"?"".concat(r.lineHeight,"px"):r.lineHeight,this.editor.renderer.updateFontSize()),r.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(r.showPrintMargin),r.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(r.showGutter),E(r.setOptions,i.setOptions)||this.handleOptions(r),(x||!E(r.annotations,i.annotations))&&this.editor.getSession().setAnnotations(r.annotations||[]),!E(r.markers,i.markers)&&Array.isArray(r.markers)&&this.handleMarkers(r.markers),E(r.scrollMargin,i.scrollMargin)||this.handleScrollMargins(r.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,n)}},s.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,n)}},s.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,n)}},s.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},s.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},s.prototype.onCopy=function(n){var i=n.text;this.props.onCopy&&this.props.onCopy(i)},s.prototype.onPaste=function(n){var i=n.text;this.props.onPaste&&this.props.onPaste(i)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(n){for(var i=Object.keys(n.setOptions),r=0;r<i.length;r++)this.editor.setOption(i[r],n.setOptions[i[r]])},s.prototype.handleMarkers=function(n){var i=this,r=this.editor.getSession().getMarkers(!0);for(var l in r)r.hasOwnProperty(l)&&this.editor.getSession().removeMarker(r[l].id);r=this.editor.getSession().getMarkers(!1);for(var l in r)r.hasOwnProperty(l)&&r[l].clazz!=="ace_active-line"&&r[l].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(r[l].id);n.forEach(function(h){var o=h.startRow,d=h.startCol,g=h.endRow,x=h.endCol,S=h.className,w=h.type,b=h.inFront,k=b===void 0?!1:b,A=new m.Range(o,d,g,x);i.editor.getSession().addMarker(A,S,w,k)})},s.prototype.updatePlaceholder=function(){var n=this.editor,i=this.props.placeholder,r=!n.session.getValue().length,l=n.renderer.placeholderNode;!r&&l?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):r&&!l?(l=n.renderer.placeholderNode=document.createElement("div"),l.textContent=i||"",l.className="ace_comment ace_placeholder",l.style.padding="0 9px",l.style.position="absolute",l.style.zIndex="3",n.renderer.scroller.appendChild(l)):r&&l&&(l.textContent=i)},s.prototype.updateRef=function(n){this.refEditor=n},s.prototype.render=function(){var n=this.props,i=n.name,r=n.width,l=n.height,h=n.style,o=_({width:r,height:l},h);return R.createElement("div",{ref:this.updateRef,id:i,style:o})},s.propTypes={mode:v.oneOfType([v.string,v.object]),focus:v.bool,theme:v.string,name:v.string,className:v.string,height:v.string,width:v.string,fontSize:v.oneOfType([v.number,v.string]),lineHeight:v.oneOfType([v.number,v.string]),showGutter:v.bool,onChange:v.func,onCopy:v.func,onPaste:v.func,onFocus:v.func,onInput:v.func,onBlur:v.func,onScroll:v.func,value:v.string,defaultValue:v.string,onLoad:v.func,onSelectionChange:v.func,onCursorChange:v.func,onBeforeLoad:v.func,onValidate:v.func,minLines:v.number,maxLines:v.number,readOnly:v.bool,highlightActiveLine:v.bool,tabSize:v.number,showPrintMargin:v.bool,cursorStart:v.number,debounceChangePeriod:v.number,editorProps:v.object,setOptions:v.object,style:v.object,scrollMargin:v.array,annotations:v.array,markers:v.array,keyboardHandler:v.string,wrapEnabled:v.bool,enableSnippets:v.bool,enableBasicAutocompletion:v.oneOfType([v.bool,v.array]),enableLiveAutocompletion:v.oneOfType([v.bool,v.array]),navigateToFileEnd:v.bool,commands:v.array,placeholder:v.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s})(R.Component);return Lr.default=a,Lr}var ho={},Rr={},Xh={exports:{}},nv;function cw(){return nv||(nv=1,(function(c,_){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(m,v,R){var E=m("./lib/oop");m("./lib/lang");var y=m("./lib/event_emitter").EventEmitter,f=m("./editor").Editor,a=m("./virtual_renderer").VirtualRenderer,u=m("./edit_session").EditSession,s;s=function(n,i,r){this.BELOW=1,this.BESIDE=0,this.$container=n,this.$theme=i,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(r||1),this.$cEditor=this.$editors[0],this.on("focus",(function(l){this.$cEditor=l}).bind(this))},(function(){E.implement(this,y),this.$createEditor=function(){var n=document.createElement("div");n.className=this.$editorCSS,n.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(n);var i=new f(new a(n,this.$theme));return i.on("focus",(function(){this._emit("focus",i)}).bind(this)),this.$editors.push(i),i.setFontSize(this.$fontSize),i},this.setSplits=function(n){var i;if(n<1)throw"The number of splits have to be > 0!";if(n!=this.$splits){if(n>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<n;)i=this.$editors[this.$splits],this.$container.appendChild(i.container),i.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<n;)this.$createEditor(),this.$splits++}else for(;this.$splits>n;)i=this.$editors[this.$splits-1],this.$container.removeChild(i.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(n){return this.$editors[n]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(n){this.$editors.forEach(function(i){i.setTheme(n)})},this.setKeyboardHandler=function(n){this.$editors.forEach(function(i){i.setKeyboardHandler(n)})},this.forEach=function(n,i){this.$editors.forEach(n,i)},this.$fontSize="",this.setFontSize=function(n){this.$fontSize=n,this.forEach(function(i){i.setFontSize(n)})},this.$cloneSession=function(n){var i=new u(n.getDocument(),n.getMode()),r=n.getUndoManager();return i.setUndoManager(r),i.setTabSize(n.getTabSize()),i.setUseSoftTabs(n.getUseSoftTabs()),i.setOverwrite(n.getOverwrite()),i.setBreakpoints(n.getBreakpoints()),i.setUseWrapMode(n.getUseWrapMode()),i.setUseWorker(n.getUseWorker()),i.setWrapLimitRange(n.$wrapLimitRange.min,n.$wrapLimitRange.max),i.$foldData=n.$cloneFoldData(),i},this.setSession=function(n,i){var r;i==null?r=this.$cEditor:r=this.$editors[i];var l=this.$editors.some(function(h){return h.session===n});return l&&(n=this.$cloneSession(n)),r.setSession(n),n},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(n){this.$orientation!=n&&(this.$orientation=n,this.resize())},this.resize=function(){var n=this.$container.clientWidth,i=this.$container.clientHeight,r;if(this.$orientation==this.BESIDE)for(var l=n/this.$splits,h=0;h<this.$splits;h++)r=this.$editors[h],r.container.style.width=l+"px",r.container.style.top="0px",r.container.style.left=h*l+"px",r.container.style.height=i+"px",r.resize();else for(var o=i/this.$splits,h=0;h<this.$splits;h++)r=this.$editors[h],r.container.style.width=n+"px",r.container.style.top=h*o+"px",r.container.style.left="0px",r.container.style.height=o+"px",r.resize()}}).call(s.prototype),v.Split=s}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(m,v,R){R.exports=m("../split")}),(function(){ace.require(["ace/ext/split"],function(m){c&&(c.exports=m)})})()})(Xh)),Xh.exports}var qh,iv;function uw(){if(iv)return qh;iv=1;var c="Expected a function",_="__lodash_hash_undefined__",m="[object Function]",v="[object GeneratorFunction]",R="[object Symbol]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/,f=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/[\\^$.*+?()[\]{}|]/g,s=/\\(\\)?/g,n=/^\[object .+?Constructor\]$/,i=typeof ki=="object"&&ki&&ki.Object===Object&&ki,r=typeof self=="object"&&self&&self.Object===Object&&self,l=i||r||Function("return this")();function h(le,be){return le?.[be]}function o(le){var be=!1;if(le!=null&&typeof le.toString!="function")try{be=!!(le+"")}catch{}return be}var d=Array.prototype,g=Function.prototype,x=Object.prototype,S=l["__core-js_shared__"],w=(function(){var le=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""})(),b=g.toString,k=x.hasOwnProperty,A=x.toString,T=RegExp("^"+b.call(k).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=l.Symbol,F=d.splice,$=$t(l,"Map"),D=$t(Object,"create"),M=j?j.prototype:void 0,L=M?M.toString:void 0;function O(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function z(){this.__data__=D?D(null):{}}function B(le){return this.has(le)&&delete this.__data__[le]}function P(le){var be=this.__data__;if(D){var Me=be[le];return Me===_?void 0:Me}return k.call(be,le)?be[le]:void 0}function U(le){var be=this.__data__;return D?be[le]!==void 0:k.call(be,le)}function W(le,be){var Me=this.__data__;return Me[le]=D&&be===void 0?_:be,this}O.prototype.clear=z,O.prototype.delete=B,O.prototype.get=P,O.prototype.has=U,O.prototype.set=W;function K(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function Y(){this.__data__=[]}function X(le){var be=this.__data__,Me=ke(be,le);if(Me<0)return!1;var Pe=be.length-1;return Me==Pe?be.pop():F.call(be,Me,1),!0}function q(le){var be=this.__data__,Me=ke(be,le);return Me<0?void 0:be[Me][1]}function J(le){return ke(this.__data__,le)>-1}function V(le,be){var Me=this.__data__,Pe=ke(Me,le);return Pe<0?Me.push([le,be]):Me[Pe][1]=be,this}K.prototype.clear=Y,K.prototype.delete=X,K.prototype.get=q,K.prototype.has=J,K.prototype.set=V;function Q(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function te(){this.__data__={hash:new O,map:new($||K),string:new O}}function ie(le){return at(this,le).delete(le)}function me(le){return at(this,le).get(le)}function pe(le){return at(this,le).has(le)}function Se(le,be){return at(this,le).set(le,be),this}Q.prototype.clear=te,Q.prototype.delete=ie,Q.prototype.get=me,Q.prototype.has=pe,Q.prototype.set=Se;function ke(le,be){for(var Me=le.length;Me--;)if(pt(le[Me][0],be))return Me;return-1}function Ae(le,be){be=qt(be,le)?[be]:Ce(be);for(var Me=0,Pe=be.length;le!=null&&Me<Pe;)le=le[_t(be[Me++])];return Me&&Me==Pe?le:void 0}function Ue(le){if(!rt(le)||mt(le))return!1;var be=it(le)||o(le)?T:n;return be.test(Dt(le))}function we(le){if(typeof le=="string")return le;if(Tt(le))return L?L.call(le):"";var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Ce(le){return Yt(le)?le:Ze(le)}function at(le,be){var Me=le.__data__;return Zt(be)?Me[typeof be=="string"?"string":"hash"]:Me.map}function $t(le,be){var Me=h(le,be);return Ue(Me)?Me:void 0}function qt(le,be){if(Yt(le))return!1;var Me=typeof le;return Me=="number"||Me=="symbol"||Me=="boolean"||le==null||Tt(le)?!0:y.test(le)||!E.test(le)||be!=null&&le in Object(be)}function Zt(le){var be=typeof le;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?le!=="__proto__":le===null}function mt(le){return!!w&&w in le}var Ze=xt(function(le){le=gt(le);var be=[];return f.test(le)&&be.push(""),le.replace(a,function(Me,Pe,Pt,on){be.push(Pt?on.replace(s,"$1"):Pe||Me)}),be});function _t(le){if(typeof le=="string"||Tt(le))return le;var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Dt(le){if(le!=null){try{return b.call(le)}catch{}try{return le+""}catch{}}return""}function xt(le,be){if(typeof le!="function"||be&&typeof be!="function")throw new TypeError(c);var Me=function(){var Pe=arguments,Pt=be?be.apply(this,Pe):Pe[0],on=Me.cache;if(on.has(Pt))return on.get(Pt);var On=le.apply(this,Pe);return Me.cache=on.set(Pt,On),On};return Me.cache=new(xt.Cache||Q),Me}xt.Cache=Q;function pt(le,be){return le===be||le!==le&&be!==be}var Yt=Array.isArray;function it(le){var be=rt(le)?A.call(le):"";return be==m||be==v}function rt(le){var be=typeof le;return!!le&&(be=="object"||be=="function")}function He(le){return!!le&&typeof le=="object"}function Tt(le){return typeof le=="symbol"||He(le)&&A.call(le)==R}function gt(le){return le==null?"":we(le)}function wt(le,be,Me){var Pe=le==null?void 0:Ae(le,be);return Pe===void 0?Me:Pe}return qh=wt,qh}var rv;function g0(){if(rv)return Rr;rv=1;var c=Rr&&Rr.__extends||(function(){var n=function(i,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(l[o]=h[o])},n(i,r)};return function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(i,r);function l(){this.constructor=i}i.prototype=r===null?Object.create(r):(l.prototype=r.prototype,new l)}})(),_=Rr&&Rr.__assign||function(){return _=Object.assign||function(n){for(var i,r=1,l=arguments.length;r<l;r++){i=arguments[r];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(n[h]=i[h])}return n},_.apply(this,arguments)};Object.defineProperty(Rr,"__esModule",{value:!0});var m=p0(),v=(0,m.getAceInstance)(),R=Ra(),E=cw(),y=Nd(),f=Br(),a=f0(),u=uw(),s=(function(n){c(i,n);function i(r){var l=n.call(this,r)||this;return m.editorEvents.forEach(function(h){l[h]=l[h].bind(l)}),l.debounce=m.debounce,l}return i.prototype.isInShadow=function(r){for(var l=r&&r.parentNode;l;){if(l.toString()==="[object ShadowRoot]")return!0;l=l.parentNode}return!1},i.prototype.componentDidMount=function(){var r=this,l=this.props,h=l.className,o=l.onBeforeLoad,d=l.mode,g=l.focus,x=l.theme,S=l.fontSize,w=l.value,b=l.defaultValue,k=l.cursorStart,A=l.showGutter,T=l.wrapEnabled,j=l.showPrintMargin,F=l.scrollMargin,$=F===void 0?[0,0,0,0]:F,D=l.keyboardHandler,M=l.onLoad,L=l.commands,O=l.annotations,z=l.markers,B=l.splits;this.editor=v.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(x)),o&&o(v);var P=Object.keys(this.props.editorProps),U=new E.Split(this.editor.container,"ace/theme/".concat(x),B);this.editor.env.split=U,this.splitEditor=U.getEditor(0),this.split=U,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var W=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),U.forEach(function(Y,X){for(var q=0;q<P.length;q++)Y[P[q]]=r.props.editorProps[P[q]];var J=u(b,X),V=u(w,X,"");Y.session.setUndoManager(new v.UndoManager),Y.setTheme("ace/theme/".concat(x)),Y.renderer.setScrollMargin($[0],$[1],$[2],$[3]),Y.getSession().setMode("ace/mode/".concat(d)),Y.setFontSize(S),Y.renderer.setShowGutter(A),Y.getSession().setUseWrapMode(T),Y.setShowPrintMargin(j),Y.on("focus",r.onFocus),Y.on("blur",r.onBlur),Y.on("input",r.onInput),Y.on("copy",r.onCopy),Y.on("paste",r.onPaste),Y.on("change",r.onChange),Y.getSession().selection.on("changeSelection",r.onSelectionChange),Y.getSession().selection.on("changeCursor",r.onCursorChange),Y.session.on("changeScrollTop",r.onScroll),Y.setValue(J===void 0?V:J,k);var Q=u(O,X,[]),te=u(z,X,[]);Y.getSession().setAnnotations(Q),te&&te.length>0&&r.handleMarkers(te,Y);for(var q=0;q<m.editorOptions.length;q++){var ie=m.editorOptions[q];W.hasOwnProperty(ie)?Y.setOption(ie,r.props[ie]):r.props[ie]&&console.warn("ReaceAce: editor option ".concat(ie," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}r.handleOptions(r.props,Y),Array.isArray(L)&&L.forEach(function(me){typeof me.exec=="string"?Y.commands.bindKey(me.bindKey,me.exec):Y.commands.addCommand(me)}),D&&Y.setKeyboardHandler("ace/keyboard/"+D)}),h&&(this.refEditor.className+=" "+h),g&&this.splitEditor.focus();var K=this.editor.env.split;K.setOrientation(this.props.orientation==="below"?K.BELOW:K.BESIDE),K.resize(!0),M&&M(K)},i.prototype.componentDidUpdate=function(r){var l=this,h=r,o=this.props,d=this.editor.env.split;if(o.splits!==h.splits&&d.setSplits(o.splits),o.orientation!==h.orientation&&d.setOrientation(o.orientation==="below"?d.BELOW:d.BESIDE),d.forEach(function(w,b){o.mode!==h.mode&&w.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==h.keyboardHandler&&(o.keyboardHandler?w.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):w.setKeyboardHandler(null)),o.fontSize!==h.fontSize&&w.setFontSize(o.fontSize),o.wrapEnabled!==h.wrapEnabled&&w.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==h.showPrintMargin&&w.setShowPrintMargin(o.showPrintMargin),o.showGutter!==h.showGutter&&w.renderer.setShowGutter(o.showGutter);for(var k=0;k<m.editorOptions.length;k++){var A=m.editorOptions[k];o[A]!==h[A]&&w.setOption(A,o[A])}a(o.setOptions,h.setOptions)||l.handleOptions(o,w);var T=u(o.value,b,"");if(w.getValue()!==T){l.silent=!0;var j=w.session.selection.toJSON();w.setValue(T,o.cursorStart),w.session.selection.fromJSON(j),l.silent=!1}var F=u(o.annotations,b,[]),$=u(h.annotations,b,[]);a(F,$)||w.getSession().setAnnotations(F);var D=u(o.markers,b,[]),M=u(h.markers,b,[]);!a(D,M)&&Array.isArray(D)&&l.handleMarkers(D,w)}),o.className!==h.className){var g=this.refEditor.className,x=g.trim().split(" "),S=h.className.trim().split(" ");S.forEach(function(w){var b=x.indexOf(w);x.splice(b,1)}),this.refEditor.className=" "+o.className+" "+x.join(" ")}o.theme!==h.theme&&d.setTheme("ace/theme/"+o.theme),o.focus&&!h.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},i.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},i.prototype.onChange=function(r){if(this.props.onChange&&!this.silent){var l=[];this.editor.env.split.forEach(function(h){l.push(h.getValue())}),this.props.onChange(l,r)}},i.prototype.onSelectionChange=function(r){if(this.props.onSelectionChange){var l=[];this.editor.env.split.forEach(function(h){l.push(h.getSelection())}),this.props.onSelectionChange(l,r)}},i.prototype.onCursorChange=function(r){if(this.props.onCursorChange){var l=[];this.editor.env.split.forEach(function(h){l.push(h.getSelection())}),this.props.onCursorChange(l,r)}},i.prototype.onFocus=function(r){this.props.onFocus&&this.props.onFocus(r)},i.prototype.onInput=function(r){this.props.onInput&&this.props.onInput(r)},i.prototype.onBlur=function(r){this.props.onBlur&&this.props.onBlur(r)},i.prototype.onCopy=function(r){this.props.onCopy&&this.props.onCopy(r)},i.prototype.onPaste=function(r){this.props.onPaste&&this.props.onPaste(r)},i.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},i.prototype.handleOptions=function(r,l){for(var h=Object.keys(r.setOptions),o=0;o<h.length;o++)l.setOption(h[o],r.setOptions[h[o]])},i.prototype.handleMarkers=function(r,l){var h=l.getSession().getMarkers(!0);for(var o in h)h.hasOwnProperty(o)&&l.getSession().removeMarker(h[o].id);h=l.getSession().getMarkers(!1);for(var o in h)h.hasOwnProperty(o)&&l.getSession().removeMarker(h[o].id);r.forEach(function(d){var g=d.startRow,x=d.startCol,S=d.endRow,w=d.endCol,b=d.className,k=d.type,A=d.inFront,T=A===void 0?!1:A,j=new R.Range(g,x,S,w);l.getSession().addMarker(j,b,k,T)})},i.prototype.updateRef=function(r){this.refEditor=r},i.prototype.render=function(){var r=this.props,l=r.name,h=r.width,o=r.height,d=r.style,g=_({width:h,height:o},d);return f.createElement("div",{ref:this.updateRef,id:l,style:g})},i.propTypes={className:y.string,debounceChangePeriod:y.number,defaultValue:y.arrayOf(y.string),focus:y.bool,fontSize:y.oneOfType([y.number,y.string]),height:y.string,mode:y.string,name:y.string,onBlur:y.func,onChange:y.func,onCopy:y.func,onFocus:y.func,onInput:y.func,onLoad:y.func,onPaste:y.func,onScroll:y.func,orientation:y.string,showGutter:y.bool,splits:y.number,theme:y.string,value:y.arrayOf(y.string),width:y.string,onSelectionChange:y.func,onCursorChange:y.func,onBeforeLoad:y.func,minLines:y.number,maxLines:y.number,readOnly:y.bool,highlightActiveLine:y.bool,tabSize:y.number,showPrintMargin:y.bool,cursorStart:y.number,editorProps:y.object,setOptions:y.object,style:y.object,scrollMargin:y.array,annotations:y.array,markers:y.array,keyboardHandler:y.string,wrapEnabled:y.bool,enableBasicAutocompletion:y.oneOfType([y.bool,y.array]),enableLiveAutocompletion:y.oneOfType([y.bool,y.array]),commands:y.array},i.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},i})(f.Component);return Rr.default=s,Rr}var Zh={exports:{}},sv;function hw(){return sv||(sv=1,(function(c){var _=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},m=-1,v=1,R=0;_.Diff=function(E,y){return[E,y]},_.prototype.diff_main=function(E,y,f,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var u=a;if(E==null||y==null)throw new Error("Null input. (diff_main)");if(E==y)return E?[new _.Diff(R,E)]:[];typeof f>"u"&&(f=!0);var s=f,n=this.diff_commonPrefix(E,y),i=E.substring(0,n);E=E.substring(n),y=y.substring(n),n=this.diff_commonSuffix(E,y);var r=E.substring(E.length-n);E=E.substring(0,E.length-n),y=y.substring(0,y.length-n);var l=this.diff_compute_(E,y,s,u);return i&&l.unshift(new _.Diff(R,i)),r&&l.push(new _.Diff(R,r)),this.diff_cleanupMerge(l),l},_.prototype.diff_compute_=function(E,y,f,a){var u;if(!E)return[new _.Diff(v,y)];if(!y)return[new _.Diff(m,E)];var s=E.length>y.length?E:y,n=E.length>y.length?y:E,i=s.indexOf(n);if(i!=-1)return u=[new _.Diff(v,s.substring(0,i)),new _.Diff(R,n),new _.Diff(v,s.substring(i+n.length))],E.length>y.length&&(u[0][0]=u[2][0]=m),u;if(n.length==1)return[new _.Diff(m,E),new _.Diff(v,y)];var r=this.diff_halfMatch_(E,y);if(r){var l=r[0],h=r[1],o=r[2],d=r[3],g=r[4],x=this.diff_main(l,o,f,a),S=this.diff_main(h,d,f,a);return x.concat([new _.Diff(R,g)],S)}return f&&E.length>100&&y.length>100?this.diff_lineMode_(E,y,a):this.diff_bisect_(E,y,a)},_.prototype.diff_lineMode_=function(E,y,f){var a=this.diff_linesToChars_(E,y);E=a.chars1,y=a.chars2;var u=a.lineArray,s=this.diff_main(E,y,!1,f);this.diff_charsToLines_(s,u),this.diff_cleanupSemantic(s),s.push(new _.Diff(R,""));for(var n=0,i=0,r=0,l="",h="";n<s.length;){switch(s[n][0]){case v:r++,h+=s[n][1];break;case m:i++,l+=s[n][1];break;case R:if(i>=1&&r>=1){s.splice(n-i-r,i+r),n=n-i-r;for(var o=this.diff_main(l,h,!1,f),d=o.length-1;d>=0;d--)s.splice(n,0,o[d]);n=n+o.length}r=0,i=0,l="",h="";break}n++}return s.pop(),s},_.prototype.diff_bisect_=function(E,y,f){for(var a=E.length,u=y.length,s=Math.ceil((a+u)/2),n=s,i=2*s,r=new Array(i),l=new Array(i),h=0;h<i;h++)r[h]=-1,l[h]=-1;r[n+1]=0,l[n+1]=0;for(var o=a-u,d=o%2!=0,g=0,x=0,S=0,w=0,b=0;b<s&&!(new Date().getTime()>f);b++){for(var k=-b+g;k<=b-x;k+=2){var A=n+k,T;k==-b||k!=b&&r[A-1]<r[A+1]?T=r[A+1]:T=r[A-1]+1;for(var j=T-k;T<a&&j<u&&E.charAt(T)==y.charAt(j);)T++,j++;if(r[A]=T,T>a)x+=2;else if(j>u)g+=2;else if(d){var F=n+o-k;if(F>=0&&F<i&&l[F]!=-1){var $=a-l[F];if(T>=$)return this.diff_bisectSplit_(E,y,T,j,f)}}}for(var D=-b+S;D<=b-w;D+=2){var F=n+D,$;D==-b||D!=b&&l[F-1]<l[F+1]?$=l[F+1]:$=l[F-1]+1;for(var M=$-D;$<a&&M<u&&E.charAt(a-$-1)==y.charAt(u-M-1);)$++,M++;if(l[F]=$,$>a)w+=2;else if(M>u)S+=2;else if(!d){var A=n+o-D;if(A>=0&&A<i&&r[A]!=-1){var T=r[A],j=n+T-A;if($=a-$,T>=$)return this.diff_bisectSplit_(E,y,T,j,f)}}}}return[new _.Diff(m,E),new _.Diff(v,y)]},_.prototype.diff_bisectSplit_=function(E,y,f,a,u){var s=E.substring(0,f),n=y.substring(0,a),i=E.substring(f),r=y.substring(a),l=this.diff_main(s,n,!1,u),h=this.diff_main(i,r,!1,u);return l.concat(h)},_.prototype.diff_linesToChars_=function(E,y){var f=[],a={};f[0]="";function u(r){for(var l="",h=0,o=-1,d=f.length;o<r.length-1;){o=r.indexOf(`
`,h),o==-1&&(o=r.length-1);var g=r.substring(h,o+1);(a.hasOwnProperty?a.hasOwnProperty(g):a[g]!==void 0)?l+=String.fromCharCode(a[g]):(d==s&&(g=r.substring(h),o=r.length),l+=String.fromCharCode(d),a[g]=d,f[d++]=g),h=o+1}return l}var s=4e4,n=u(E);s=65535;var i=u(y);return{chars1:n,chars2:i,lineArray:f}},_.prototype.diff_charsToLines_=function(E,y){for(var f=0;f<E.length;f++){for(var a=E[f][1],u=[],s=0;s<a.length;s++)u[s]=y[a.charCodeAt(s)];E[f][1]=u.join("")}},_.prototype.diff_commonPrefix=function(E,y){if(!E||!y||E.charAt(0)!=y.charAt(0))return 0;for(var f=0,a=Math.min(E.length,y.length),u=a,s=0;f<u;)E.substring(s,u)==y.substring(s,u)?(f=u,s=f):a=u,u=Math.floor((a-f)/2+f);return u},_.prototype.diff_commonSuffix=function(E,y){if(!E||!y||E.charAt(E.length-1)!=y.charAt(y.length-1))return 0;for(var f=0,a=Math.min(E.length,y.length),u=a,s=0;f<u;)E.substring(E.length-u,E.length-s)==y.substring(y.length-u,y.length-s)?(f=u,s=f):a=u,u=Math.floor((a-f)/2+f);return u},_.prototype.diff_commonOverlap_=function(E,y){var f=E.length,a=y.length;if(f==0||a==0)return 0;f>a?E=E.substring(f-a):f<a&&(y=y.substring(0,f));var u=Math.min(f,a);if(E==y)return u;for(var s=0,n=1;;){var i=E.substring(u-n),r=y.indexOf(i);if(r==-1)return s;n+=r,(r==0||E.substring(u-n)==y.substring(0,n))&&(s=n,n++)}},_.prototype.diff_halfMatch_=function(E,y){if(this.Diff_Timeout<=0)return null;var f=E.length>y.length?E:y,a=E.length>y.length?y:E;if(f.length<4||a.length*2<f.length)return null;var u=this;function s(x,S,w){for(var b=x.substring(w,w+Math.floor(x.length/4)),k=-1,A="",T,j,F,$;(k=S.indexOf(b,k+1))!=-1;){var D=u.diff_commonPrefix(x.substring(w),S.substring(k)),M=u.diff_commonSuffix(x.substring(0,w),S.substring(0,k));A.length<M+D&&(A=S.substring(k-M,k)+S.substring(k,k+D),T=x.substring(0,w-M),j=x.substring(w+D),F=S.substring(0,k-M),$=S.substring(k+D))}return A.length*2>=x.length?[T,j,F,$,A]:null}var n=s(f,a,Math.ceil(f.length/4)),i=s(f,a,Math.ceil(f.length/2)),r;if(!n&&!i)return null;i?n?r=n[4].length>i[4].length?n:i:r=i:r=n;var l,h,o,d;E.length>y.length?(l=r[0],h=r[1],o=r[2],d=r[3]):(o=r[0],d=r[1],l=r[2],h=r[3]);var g=r[4];return[l,h,o,d,g]},_.prototype.diff_cleanupSemantic=function(E){for(var y=!1,f=[],a=0,u=null,s=0,n=0,i=0,r=0,l=0;s<E.length;)E[s][0]==R?(f[a++]=s,n=r,i=l,r=0,l=0,u=E[s][1]):(E[s][0]==v?r+=E[s][1].length:l+=E[s][1].length,u&&u.length<=Math.max(n,i)&&u.length<=Math.max(r,l)&&(E.splice(f[a-1],0,new _.Diff(m,u)),E[f[a-1]+1][0]=v,a--,a--,s=a>0?f[a-1]:-1,n=0,i=0,r=0,l=0,u=null,y=!0)),s++;for(y&&this.diff_cleanupMerge(E),this.diff_cleanupSemanticLossless(E),s=1;s<E.length;){if(E[s-1][0]==m&&E[s][0]==v){var h=E[s-1][1],o=E[s][1],d=this.diff_commonOverlap_(h,o),g=this.diff_commonOverlap_(o,h);d>=g?(d>=h.length/2||d>=o.length/2)&&(E.splice(s,0,new _.Diff(R,o.substring(0,d))),E[s-1][1]=h.substring(0,h.length-d),E[s+1][1]=o.substring(d),s++):(g>=h.length/2||g>=o.length/2)&&(E.splice(s,0,new _.Diff(R,h.substring(0,g))),E[s-1][0]=v,E[s-1][1]=o.substring(0,o.length-g),E[s+1][0]=m,E[s+1][1]=h.substring(g),s++),s++}s++}},_.prototype.diff_cleanupSemanticLossless=function(E){function y(g,x){if(!g||!x)return 6;var S=g.charAt(g.length-1),w=x.charAt(0),b=S.match(_.nonAlphaNumericRegex_),k=w.match(_.nonAlphaNumericRegex_),A=b&&S.match(_.whitespaceRegex_),T=k&&w.match(_.whitespaceRegex_),j=A&&S.match(_.linebreakRegex_),F=T&&w.match(_.linebreakRegex_),$=j&&g.match(_.blanklineEndRegex_),D=F&&x.match(_.blanklineStartRegex_);return $||D?5:j||F?4:b&&!A&&T?3:A||T?2:b||k?1:0}for(var f=1;f<E.length-1;){if(E[f-1][0]==R&&E[f+1][0]==R){var a=E[f-1][1],u=E[f][1],s=E[f+1][1],n=this.diff_commonSuffix(a,u);if(n){var i=u.substring(u.length-n);a=a.substring(0,a.length-n),u=i+u.substring(0,u.length-n),s=i+s}for(var r=a,l=u,h=s,o=y(a,u)+y(u,s);u.charAt(0)===s.charAt(0);){a+=u.charAt(0),u=u.substring(1)+s.charAt(0),s=s.substring(1);var d=y(a,u)+y(u,s);d>=o&&(o=d,r=a,l=u,h=s)}E[f-1][1]!=r&&(r?E[f-1][1]=r:(E.splice(f-1,1),f--),E[f][1]=l,h?E[f+1][1]=h:(E.splice(f+1,1),f--))}f++}},_.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,_.whitespaceRegex_=/\s/,_.linebreakRegex_=/[\r\n]/,_.blanklineEndRegex_=/\n\r?\n$/,_.blanklineStartRegex_=/^\r?\n\r?\n/,_.prototype.diff_cleanupEfficiency=function(E){for(var y=!1,f=[],a=0,u=null,s=0,n=!1,i=!1,r=!1,l=!1;s<E.length;)E[s][0]==R?(E[s][1].length<this.Diff_EditCost&&(r||l)?(f[a++]=s,n=r,i=l,u=E[s][1]):(a=0,u=null),r=l=!1):(E[s][0]==m?l=!0:r=!0,u&&(n&&i&&r&&l||u.length<this.Diff_EditCost/2&&n+i+r+l==3)&&(E.splice(f[a-1],0,new _.Diff(m,u)),E[f[a-1]+1][0]=v,a--,u=null,n&&i?(r=l=!0,a=0):(a--,s=a>0?f[a-1]:-1,r=l=!1),y=!0)),s++;y&&this.diff_cleanupMerge(E)},_.prototype.diff_cleanupMerge=function(E){E.push(new _.Diff(R,""));for(var y=0,f=0,a=0,u="",s="",n;y<E.length;)switch(E[y][0]){case v:a++,s+=E[y][1],y++;break;case m:f++,u+=E[y][1],y++;break;case R:f+a>1?(f!==0&&a!==0&&(n=this.diff_commonPrefix(s,u),n!==0&&(y-f-a>0&&E[y-f-a-1][0]==R?E[y-f-a-1][1]+=s.substring(0,n):(E.splice(0,0,new _.Diff(R,s.substring(0,n))),y++),s=s.substring(n),u=u.substring(n)),n=this.diff_commonSuffix(s,u),n!==0&&(E[y][1]=s.substring(s.length-n)+E[y][1],s=s.substring(0,s.length-n),u=u.substring(0,u.length-n))),y-=f+a,E.splice(y,f+a),u.length&&(E.splice(y,0,new _.Diff(m,u)),y++),s.length&&(E.splice(y,0,new _.Diff(v,s)),y++),y++):y!==0&&E[y-1][0]==R?(E[y-1][1]+=E[y][1],E.splice(y,1)):y++,a=0,f=0,u="",s="";break}E[E.length-1][1]===""&&E.pop();var i=!1;for(y=1;y<E.length-1;)E[y-1][0]==R&&E[y+1][0]==R&&(E[y][1].substring(E[y][1].length-E[y-1][1].length)==E[y-1][1]?(E[y][1]=E[y-1][1]+E[y][1].substring(0,E[y][1].length-E[y-1][1].length),E[y+1][1]=E[y-1][1]+E[y+1][1],E.splice(y-1,1),i=!0):E[y][1].substring(0,E[y+1][1].length)==E[y+1][1]&&(E[y-1][1]+=E[y+1][1],E[y][1]=E[y][1].substring(E[y+1][1].length)+E[y+1][1],E.splice(y+1,1),i=!0)),y++;i&&this.diff_cleanupMerge(E)},_.prototype.diff_xIndex=function(E,y){var f=0,a=0,u=0,s=0,n;for(n=0;n<E.length&&(E[n][0]!==v&&(f+=E[n][1].length),E[n][0]!==m&&(a+=E[n][1].length),!(f>y));n++)u=f,s=a;return E.length!=n&&E[n][0]===m?s:s+(y-u)},_.prototype.diff_prettyHtml=function(E){for(var y=[],f=/&/g,a=/</g,u=/>/g,s=/\n/g,n=0;n<E.length;n++){var i=E[n][0],r=E[n][1],l=r.replace(f,"&amp;").replace(a,"&lt;").replace(u,"&gt;").replace(s,"&para;<br>");switch(i){case v:y[n]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case m:y[n]='<del style="background:#ffe6e6;">'+l+"</del>";break;case R:y[n]="<span>"+l+"</span>";break}}return y.join("")},_.prototype.diff_text1=function(E){for(var y=[],f=0;f<E.length;f++)E[f][0]!==v&&(y[f]=E[f][1]);return y.join("")},_.prototype.diff_text2=function(E){for(var y=[],f=0;f<E.length;f++)E[f][0]!==m&&(y[f]=E[f][1]);return y.join("")},_.prototype.diff_levenshtein=function(E){for(var y=0,f=0,a=0,u=0;u<E.length;u++){var s=E[u][0],n=E[u][1];switch(s){case v:f+=n.length;break;case m:a+=n.length;break;case R:y+=Math.max(f,a),f=0,a=0;break}}return y+=Math.max(f,a),y},_.prototype.diff_toDelta=function(E){for(var y=[],f=0;f<E.length;f++)switch(E[f][0]){case v:y[f]="+"+encodeURI(E[f][1]);break;case m:y[f]="-"+E[f][1].length;break;case R:y[f]="="+E[f][1].length;break}return y.join("	").replace(/%20/g," ")},_.prototype.diff_fromDelta=function(E,y){for(var f=[],a=0,u=0,s=y.split(/\t/g),n=0;n<s.length;n++){var i=s[n].substring(1);switch(s[n].charAt(0)){case"+":try{f[a++]=new _.Diff(v,decodeURI(i))}catch{throw new Error("Illegal escape in diff_fromDelta: "+i)}break;case"-":case"=":var r=parseInt(i,10);if(isNaN(r)||r<0)throw new Error("Invalid number in diff_fromDelta: "+i);var l=E.substring(u,u+=r);s[n].charAt(0)=="="?f[a++]=new _.Diff(R,l):f[a++]=new _.Diff(m,l);break;default:if(s[n])throw new Error("Invalid diff operation in diff_fromDelta: "+s[n])}}if(u!=E.length)throw new Error("Delta length ("+u+") does not equal source text length ("+E.length+").");return f},_.prototype.match_main=function(E,y,f){if(E==null||y==null||f==null)throw new Error("Null input. (match_main)");return f=Math.max(0,Math.min(f,E.length)),E==y?0:E.length?E.substring(f,f+y.length)==y?f:this.match_bitap_(E,y,f):-1},_.prototype.match_bitap_=function(E,y,f){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(y),u=this;function s(T,j){var F=T/y.length,$=Math.abs(f-j);return u.Match_Distance?F+$/u.Match_Distance:$?1:F}var n=this.Match_Threshold,i=E.indexOf(y,f);i!=-1&&(n=Math.min(s(0,i),n),i=E.lastIndexOf(y,f+y.length),i!=-1&&(n=Math.min(s(0,i),n)));var r=1<<y.length-1;i=-1;for(var l,h,o=y.length+E.length,d,g=0;g<y.length;g++){for(l=0,h=o;l<h;)s(g,f+h)<=n?l=h:o=h,h=Math.floor((o-l)/2+l);o=h;var x=Math.max(1,f-h+1),S=Math.min(f+h,E.length)+y.length,w=Array(S+2);w[S+1]=(1<<g)-1;for(var b=S;b>=x;b--){var k=a[E.charAt(b-1)];if(g===0?w[b]=(w[b+1]<<1|1)&k:w[b]=(w[b+1]<<1|1)&k|((d[b+1]|d[b])<<1|1)|d[b+1],w[b]&r){var A=s(g,b-1);if(A<=n)if(n=A,i=b-1,i>f)x=Math.max(1,2*f-i);else break}}if(s(g+1,f)>n)break;d=w}return i},_.prototype.match_alphabet_=function(E){for(var y={},f=0;f<E.length;f++)y[E.charAt(f)]=0;for(var f=0;f<E.length;f++)y[E.charAt(f)]|=1<<E.length-f-1;return y},_.prototype.patch_addContext_=function(E,y){if(y.length!=0){if(E.start2===null)throw Error("patch not initialized");for(var f=y.substring(E.start2,E.start2+E.length1),a=0;y.indexOf(f)!=y.lastIndexOf(f)&&f.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,f=y.substring(E.start2-a,E.start2+E.length1+a);a+=this.Patch_Margin;var u=y.substring(E.start2-a,E.start2);u&&E.diffs.unshift(new _.Diff(R,u));var s=y.substring(E.start2+E.length1,E.start2+E.length1+a);s&&E.diffs.push(new _.Diff(R,s)),E.start1-=u.length,E.start2-=u.length,E.length1+=u.length+s.length,E.length2+=u.length+s.length}},_.prototype.patch_make=function(E,y,f){var a,u;if(typeof E=="string"&&typeof y=="string"&&typeof f>"u")a=E,u=this.diff_main(a,y,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(E&&typeof E=="object"&&typeof y>"u"&&typeof f>"u")u=E,a=this.diff_text1(u);else if(typeof E=="string"&&y&&typeof y=="object"&&typeof f>"u")a=E,u=y;else if(typeof E=="string"&&typeof y=="string"&&f&&typeof f=="object")a=E,u=f;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var s=[],n=new _.patch_obj,i=0,r=0,l=0,h=a,o=a,d=0;d<u.length;d++){var g=u[d][0],x=u[d][1];switch(!i&&g!==R&&(n.start1=r,n.start2=l),g){case v:n.diffs[i++]=u[d],n.length2+=x.length,o=o.substring(0,l)+x+o.substring(l);break;case m:n.length1+=x.length,n.diffs[i++]=u[d],o=o.substring(0,l)+o.substring(l+x.length);break;case R:x.length<=2*this.Patch_Margin&&i&&u.length!=d+1?(n.diffs[i++]=u[d],n.length1+=x.length,n.length2+=x.length):x.length>=2*this.Patch_Margin&&i&&(this.patch_addContext_(n,h),s.push(n),n=new _.patch_obj,i=0,h=o,r=l);break}g!==v&&(r+=x.length),g!==m&&(l+=x.length)}return i&&(this.patch_addContext_(n,h),s.push(n)),s},_.prototype.patch_deepCopy=function(E){for(var y=[],f=0;f<E.length;f++){var a=E[f],u=new _.patch_obj;u.diffs=[];for(var s=0;s<a.diffs.length;s++)u.diffs[s]=new _.Diff(a.diffs[s][0],a.diffs[s][1]);u.start1=a.start1,u.start2=a.start2,u.length1=a.length1,u.length2=a.length2,y[f]=u}return y},_.prototype.patch_apply=function(E,y){if(E.length==0)return[y,[]];E=this.patch_deepCopy(E);var f=this.patch_addPadding(E);y=f+y+f,this.patch_splitMax(E);for(var a=0,u=[],s=0;s<E.length;s++){var n=E[s].start2+a,i=this.diff_text1(E[s].diffs),r,l=-1;if(i.length>this.Match_MaxBits?(r=this.match_main(y,i.substring(0,this.Match_MaxBits),n),r!=-1&&(l=this.match_main(y,i.substring(i.length-this.Match_MaxBits),n+i.length-this.Match_MaxBits),(l==-1||r>=l)&&(r=-1))):r=this.match_main(y,i,n),r==-1)u[s]=!1,a-=E[s].length2-E[s].length1;else{u[s]=!0,a=r-n;var h;if(l==-1?h=y.substring(r,r+i.length):h=y.substring(r,l+this.Match_MaxBits),i==h)y=y.substring(0,r)+this.diff_text2(E[s].diffs)+y.substring(r+i.length);else{var o=this.diff_main(i,h,!1);if(i.length>this.Match_MaxBits&&this.diff_levenshtein(o)/i.length>this.Patch_DeleteThreshold)u[s]=!1;else{this.diff_cleanupSemanticLossless(o);for(var d=0,g,x=0;x<E[s].diffs.length;x++){var S=E[s].diffs[x];S[0]!==R&&(g=this.diff_xIndex(o,d)),S[0]===v?y=y.substring(0,r+g)+S[1]+y.substring(r+g):S[0]===m&&(y=y.substring(0,r+g)+y.substring(r+this.diff_xIndex(o,d+S[1].length))),S[0]!==m&&(d+=S[1].length)}}}}}return y=y.substring(f.length,y.length-f.length),[y,u]},_.prototype.patch_addPadding=function(E){for(var y=this.Patch_Margin,f="",a=1;a<=y;a++)f+=String.fromCharCode(a);for(var a=0;a<E.length;a++)E[a].start1+=y,E[a].start2+=y;var u=E[0],s=u.diffs;if(s.length==0||s[0][0]!=R)s.unshift(new _.Diff(R,f)),u.start1-=y,u.start2-=y,u.length1+=y,u.length2+=y;else if(y>s[0][1].length){var n=y-s[0][1].length;s[0][1]=f.substring(s[0][1].length)+s[0][1],u.start1-=n,u.start2-=n,u.length1+=n,u.length2+=n}if(u=E[E.length-1],s=u.diffs,s.length==0||s[s.length-1][0]!=R)s.push(new _.Diff(R,f)),u.length1+=y,u.length2+=y;else if(y>s[s.length-1][1].length){var n=y-s[s.length-1][1].length;s[s.length-1][1]+=f.substring(0,n),u.length1+=n,u.length2+=n}return f},_.prototype.patch_splitMax=function(E){for(var y=this.Match_MaxBits,f=0;f<E.length;f++)if(!(E[f].length1<=y)){var a=E[f];E.splice(f--,1);for(var u=a.start1,s=a.start2,n="";a.diffs.length!==0;){var i=new _.patch_obj,r=!0;for(i.start1=u-n.length,i.start2=s-n.length,n!==""&&(i.length1=i.length2=n.length,i.diffs.push(new _.Diff(R,n)));a.diffs.length!==0&&i.length1<y-this.Patch_Margin;){var l=a.diffs[0][0],h=a.diffs[0][1];l===v?(i.length2+=h.length,s+=h.length,i.diffs.push(a.diffs.shift()),r=!1):l===m&&i.diffs.length==1&&i.diffs[0][0]==R&&h.length>2*y?(i.length1+=h.length,u+=h.length,r=!1,i.diffs.push(new _.Diff(l,h)),a.diffs.shift()):(h=h.substring(0,y-i.length1-this.Patch_Margin),i.length1+=h.length,u+=h.length,l===R?(i.length2+=h.length,s+=h.length):r=!1,i.diffs.push(new _.Diff(l,h)),h==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(h.length))}n=this.diff_text2(i.diffs),n=n.substring(n.length-this.Patch_Margin);var o=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);o!==""&&(i.length1+=o.length,i.length2+=o.length,i.diffs.length!==0&&i.diffs[i.diffs.length-1][0]===R?i.diffs[i.diffs.length-1][1]+=o:i.diffs.push(new _.Diff(R,o))),r||E.splice(++f,0,i)}}},_.prototype.patch_toText=function(E){for(var y=[],f=0;f<E.length;f++)y[f]=E[f];return y.join("")},_.prototype.patch_fromText=function(E){var y=[];if(!E)return y;for(var f=E.split(`
`),a=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<f.length;){var s=f[a].match(u);if(!s)throw new Error("Invalid patch string: "+f[a]);var n=new _.patch_obj;for(y.push(n),n.start1=parseInt(s[1],10),s[2]===""?(n.start1--,n.length1=1):s[2]=="0"?n.length1=0:(n.start1--,n.length1=parseInt(s[2],10)),n.start2=parseInt(s[3],10),s[4]===""?(n.start2--,n.length2=1):s[4]=="0"?n.length2=0:(n.start2--,n.length2=parseInt(s[4],10)),a++;a<f.length;){var i=f[a].charAt(0);try{var r=decodeURI(f[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+r)}if(i=="-")n.diffs.push(new _.Diff(m,r));else if(i=="+")n.diffs.push(new _.Diff(v,r));else if(i==" ")n.diffs.push(new _.Diff(R,r));else{if(i=="@")break;if(i!=="")throw new Error('Invalid patch mode "'+i+'" in: '+r)}a++}}return y},_.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},_.patch_obj.prototype.toString=function(){var E,y;this.length1===0?E=this.start1+",0":this.length1==1?E=this.start1+1:E=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var f=["@@ -"+E+" +"+y+` @@
`],a,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case v:a="+";break;case m:a="-";break;case R:a=" ";break}f[u+1]=a+encodeURI(this.diffs[u][1])+`
`}return f.join("").replace(/%20/g," ")},c.exports=_,c.exports.diff_match_patch=_,c.exports.DIFF_DELETE=m,c.exports.DIFF_INSERT=v,c.exports.DIFF_EQUAL=R})(Zh)),Zh.exports}var ov;function dw(){if(ov)return ho;ov=1;var c=ho&&ho.__extends||(function(){var y=function(f,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,s){u.__proto__=s}||function(u,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(u[n]=s[n])},y(f,a)};return function(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");y(f,a);function u(){this.constructor=f}f.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}})();Object.defineProperty(ho,"__esModule",{value:!0});var _=Nd(),m=Br(),v=g0(),R=hw(),E=(function(y){c(f,y);function f(a){var u=y.call(this,a)||this;return u.state={value:u.props.value},u.onChange=u.onChange.bind(u),u.diff=u.diff.bind(u),u}return f.prototype.componentDidUpdate=function(){var a=this.props.value;a!==this.state.value&&this.setState({value:a})},f.prototype.onChange=function(a){this.setState({value:a}),this.props.onChange&&this.props.onChange(a)},f.prototype.diff=function(){var a=new R,u=this.state.value[0],s=this.state.value[1];if(u.length===0&&s.length===0)return[];var n=a.diff_main(u,s);a.diff_cleanupSemantic(n);var i=this.generateDiffedLines(n),r=this.setCodeMarkers(i);return r},f.prototype.generateDiffedLines=function(a){var u={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},s={left:[],right:[]},n={left:1,right:1};return a.forEach(function(i){var r=i[0],l=i[1],h=l.split(`
`).length-1;if(l.length!==0){var o=l[0],d=l[l.length-1],g=0;switch(r){case u.DIFF_EQUAL:n.left+=h,n.right+=h;break;case u.DIFF_DELETE:o===`
`&&(n.left++,h--),g=h,g===0&&s.right.push({startLine:n.right,endLine:n.right}),d===`
`&&(g-=1),s.left.push({startLine:n.left,endLine:n.left+g}),n.left+=h;break;case u.DIFF_INSERT:o===`
`&&(n.right++,h--),g=h,g===0&&s.left.push({startLine:n.left,endLine:n.left}),d===`
`&&(g-=1),s.right.push({startLine:n.right,endLine:n.right+g}),n.right+=h;break;default:throw new Error("Diff type was not defined.")}}}),s},f.prototype.setCodeMarkers=function(a){a===void 0&&(a={left:[],right:[]});for(var u=[],s={left:[],right:[]},n=0;n<a.left.length;n++){var i={startRow:a.left[n].startLine-1,endRow:a.left[n].endLine,type:"text",className:"codeMarker"};s.left.push(i)}for(var n=0;n<a.right.length;n++){var i={startRow:a.right[n].startLine-1,endRow:a.right[n].endLine,type:"text",className:"codeMarker"};s.right.push(i)}return u[0]=s.left,u[1]=s.right,u},f.prototype.render=function(){var a=this.diff();return m.createElement(v.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:a})},f.propTypes={cursorStart:_.number,editorProps:_.object,enableBasicAutocompletion:_.bool,enableLiveAutocompletion:_.bool,focus:_.bool,fontSize:_.number,height:_.string,highlightActiveLine:_.bool,maxLines:_.number,minLines:_.number,mode:_.string,name:_.string,className:_.string,onLoad:_.func,onPaste:_.func,onScroll:_.func,onChange:_.func,orientation:_.string,readOnly:_.bool,scrollMargin:_.array,setOptions:_.object,showGutter:_.bool,showPrintMargin:_.bool,splits:_.number,style:_.object,tabSize:_.number,theme:_.string,value:_.array,width:_.string,wrapEnabled:_.bool},f.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},f})(m.Component);return ho.default=E,ho}var av;function fw(){if(av)return Mr;av=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.diff=Mr.split=void 0;var c=lw(),_=dw();Mr.diff=_.default;var m=g0();return Mr.split=m.default,Mr.default=c.default,Mr}var pw=fw();const gw=Sc(pw);var mw=Ra();const pd=Sc(mw);var Qh={exports:{}},lv;function vw(){return lv||(lv=1,(function(c,_){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};E.inherits(f,y),v.JsonHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var u=f.getLine(a),s=u.match(/^(\s*\})/);if(!s)return 0;var n=s[1].length,i=f.findMatchingBracket({row:a,column:n});if(!i||i.row==a)return 0;var r=this.$getIndent(f.getLine(i.row));f.replace(new E(a,0,a,n-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,n){var i=u.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(u,s,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(u,s,n,i){var r=u.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(u,r,n);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(u,o[1],n,l);var h=u.getCommentFoldRange(n,l+o[0].length,1);return h&&!h.isMultiLine()&&(i?h=this.getSectionRange(u,n):s!="all"&&(h=null)),h}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(u,o[1],n,l):u.getCommentFoldRange(n,l,-1)}}},this.getSectionRange=function(u,s){var n=u.getLine(s),i=n.search(/\S/),r=s,l=n.length;s=s+1;for(var h=s,o=u.getLength();++s<o;){n=u.getLine(s);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var g=this.getFoldWidgetRange(u,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(i==d)break}h=s}}return new y(r,l,h,u.getLine(h).length)},this.getCommentRegionBlock=function(u,s,n){for(var i=s.search(/\s*$/),r=u.getLength(),l=n,h=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++n<r;){s=u.getLine(n);var d=h.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=n;if(g>l)return new y(l,i,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./json_highlight_rules").JsonHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,u=m("./folding/cstyle").FoldMode,s=m("../worker/worker_client").WorkerClient,n=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};E.inherits(n,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(i,r,l){var h=this.$getIndent(r);if(i=="start"){var o=r.match(/^.*[\{\(\[]\s*$/);o&&(h+=l)}return h},this.checkOutdent=function(i,r,l){return this.$outdent.checkOutdent(r,l)},this.autoOutdent=function(i,r,l){this.$outdent.autoOutdent(r,l)},this.createWorker=function(i){var r=new s(["ace"],"ace/mode/json_worker","JsonWorker");return r.attachToDocument(i.getDocument()),r.on("annotate",function(l){i.setAnnotations(l.data)}),r.on("terminate",function(){i.clearAnnotations()}),r},this.$id="ace/mode/json"}).call(n.prototype),v.Mode=n}),(function(){ace.require(["ace/mode/json"],function(m){c&&(c.exports=m)})})()})(Qh)),Qh.exports}vw();var Jh={exports:{}},cv;function yw(){return cv||(cv=1,(function(c,_){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};E.inherits(f,y),f.getTagRule=function(a){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(a){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:a}},f.getEndRule=function(a){return{token:"comment.doc",regex:"\\*\\/",next:a}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=m("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",u=function(i){var r={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},l=this.createKeywordMapper(r,"identifier"),h="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",g={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(r).join("|")+"\\b)"+a+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),n("no_regex"),g,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+h+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:l,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),n("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[n("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!i||!i.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,S,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",S);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!i||i.jsx!=!1)&&s.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};E.inherits(u,f);function s(){var i=a.replace("\\d","\\d\\-"),r={onMatch:function(h,o,d){var g=h.charAt(1)=="/"?2:1;return g==1?(o!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):g==2&&o==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(g==1?"":"end-")+"tag-open.xml",value:h.slice(0,g)},{type:"meta.tag.tag-name.xml",value:h.substr(g)}]},regex:"</?(?:"+i+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(r);var l={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[l,r,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(h,o,d){return o==d[0]&&d.shift(),h.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:h}]},nextState:"jsx"},l,n("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:i},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},r],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function n(i){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=u}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var u=f.getLine(a),s=u.match(/^(\s*\})/);if(!s)return 0;var n=s[1].length,i=f.findMatchingBracket({row:a,column:n});if(!i||i.row==a)return 0;var r=this.$getIndent(f.getLine(i.row));f.replace(new E(a,0,a,n-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator;function a(s,n){return s&&s.type.lastIndexOf(n+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(s,n,i,r,l){if(l=='"'||l=="'"){var h=l,o=r.doc.getTextRange(i.getSelectionRange());if(o!==""&&o!=="'"&&o!='"'&&i.getWrapBehavioursEnabled())return{text:h+o+h,selection:!1};var d=i.getCursorPosition(),g=r.doc.getLine(d.row),x=g.substring(d.column,d.column+1),S=new f(r,d.row,d.column),w=S.getCurrentToken();if(x==h&&(a(w,"attribute-value")||a(w,"string")))return{text:"",selection:[1,1]};if(w||(w=S.stepBackward()),!w)return;for(;a(w,"tag-whitespace")||a(w,"whitespace");)w=S.stepBackward();var b=!x||x.match(/\s/);if(a(w,"attribute-equals")&&(b||x==">")||a(w,"decl-attribute-equals")&&(b||x=="?"))return{text:h+h,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(s,n,i,r,l){var h=r.doc.getTextRange(l);if(!l.isMultiLine()&&(h=='"'||h=="'")){var o=r.doc.getLine(l.start.row),d=o.substring(l.start.column+1,l.start.column+2);if(d==h)return l.end.column++,l}}),this.add("autoclosing","insertion",function(s,n,i,r,l){if(l==">"){var h=i.getSelectionRange().start,o=new f(r,h.row,h.column),d=o.getCurrentToken()||o.stepBackward();if(!d||!(a(d,"tag-name")||a(d,"tag-whitespace")||a(d,"attribute-name")||a(d,"attribute-equals")||a(d,"attribute-value"))||a(d,"reference.attribute-value"))return;if(a(d,"attribute-value")){var g=o.getCurrentTokenColumn()+d.value.length;if(h.column<g)return;if(h.column==g){var x=o.stepForward();if(x&&a(x,"attribute-value"))return;o.stepBackward()}}if(/^\s*>/.test(r.getLine(h.row).slice(h.column)))return;for(;!a(d,"tag-name");)if(d=o.stepBackward(),d.value=="<"){d=o.stepForward();break}var S=o.getCurrentTokenRow(),w=o.getCurrentTokenColumn();if(a(o.stepBackward(),"end-tag-open"))return;var b=d.value;return S==h.row&&(b=b.substring(0,h.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(s,n,i,r,l){if(l==`
`){var h=i.getCursorPosition(),o=r.getLine(h.row),d=new f(r,h.row,h.column),g=d.getCurrentToken();if(a(g,"")&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=d.stepBackward();if(!g)return;var x=g.value,S=d.getCurrentTokenRow();if(g=d.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=r.getTokenAt(h.row,h.column+1),o=r.getLine(S),b=this.$getIndent(o),k=b+r.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+b,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};E.inherits(u,y),v.XmlBehaviour=u}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../token_iterator").TokenIterator,f=m("../behaviour/cstyle").CstyleBehaviour,a=m("../behaviour/xml").XmlBehaviour,u=function(){var s=new a({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(s),this.inherit(f),this.add("autoclosing-fragment","insertion",function(n,i,r,l,h){if(h==">"){var o=r.getSelectionRange().start,d=new y(l,o.row,o.column),g=d.getCurrentToken()||d.stepBackward();if(!g)return;if(g.value=="<")return{text:"></>",selection:[1,1]}}})};E.inherits(u,f),v.JavaScriptBehaviour=u}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(n,i){f.call(this),this.voidElements=n||{},this.optionalEndTags=E.mixin({},this.voidElements),i&&E.mixin(this.optionalEndTags,i)};E.inherits(a,f);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(n,i){return n&&n.type&&n.type.lastIndexOf(i+".xml")>-1}(function(){this.getFoldWidget=function(n,i,r){var l=this._getFirstTagInLine(n,r);return l?l.closing||!l.tagName&&l.selfClosing?i==="markbeginend"?"end":"":!l.tagName||l.selfClosing||this.voidElements.hasOwnProperty(l.tagName.toLowerCase())||this._findEndTagInLine(n,r,l.tagName,l.end.column)?"":"start":this.getCommentFoldWidget(n,r)},this.getCommentFoldWidget=function(n,i){return/comment/.test(n.getState(i))&&/<!-/.test(n.getLine(i))?"start":""},this._getFirstTagInLine=function(n,i){for(var r=n.getTokens(i),l=new u,h=0;h<r.length;h++){var o=r[h];if(s(o,"tag-open")){if(l.end.column=l.start.column+o.value.length,l.closing=s(o,"end-tag-open"),o=r[++h],!o)return null;if(l.tagName=o.value,o.value===""){if(o=r[++h],!o)return null;l.tagName=o.value}for(l.end.column+=o.value.length,h++;h<r.length;h++)if(o=r[h],l.end.column+=o.value.length,s(o,"tag-close")){l.selfClosing=o.value=="/>";break}return l}else if(s(o,"tag-close"))return l.selfClosing=o.value=="/>",l;l.start.column+=o.value.length}return null},this._findEndTagInLine=function(n,i,r,l){for(var h=n.getTokens(i),o=0,d=0;d<h.length;d++){var g=h[d];if(o+=g.value.length,!(o<l-1)&&s(g,"end-tag-open")&&(g=h[d+1],s(g,"tag-name")&&g.value===""&&(g=h[d+2]),g&&g.value==r))return!0}return!1},this.getFoldWidgetRange=function(n,i,r){var l=this._getFirstTagInLine(n,r);if(!l)return this.getCommentFoldWidget(n,r)&&n.getCommentFoldRange(r,n.getLine(r).length);var h=n.getMatchingTags({row:r,column:0});if(h)return new y(h.openTag.end.row,h.openTag.end.column,h.closeTag.start.row,h.closeTag.start.column)}}).call(a.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,n){var i=u.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(u,s,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(u,s,n,i){var r=u.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(u,r,n);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(u,o[1],n,l);var h=u.getCommentFoldRange(n,l+o[0].length,1);return h&&!h.isMultiLine()&&(i?h=this.getSectionRange(u,n):s!="all"&&(h=null)),h}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(u,o[1],n,l):u.getCommentFoldRange(n,l,-1)}}},this.getSectionRange=function(u,s){var n=u.getLine(s),i=n.search(/\S/),r=s,l=n.length;s=s+1;for(var h=s,o=u.getLength();++s<o;){n=u.getLine(s);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var g=this.getFoldWidgetRange(u,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(i==d)break}h=s}}return new y(r,l,h,u.getLine(h).length)},this.getCommentRegionBlock=function(u,s,n){for(var i=s.search(/\s*$/),r=u.getLength(),l=n,h=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++n<r;){s=u.getLine(n);var d=h.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=n;if(g>l)return new y(l,i,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(m,v,R){var E=m("../../lib/oop"),y=m("./xml").FoldMode,f=m("./cstyle").FoldMode,a=v.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end))),this.xmlFoldMode=new y};E.inherits(a,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,n){var i=this.getFoldWidgetBase(u,s,n);return i||this.xmlFoldMode.getFoldWidget(u,s,n)},this.getFoldWidgetRange=function(u,s,n,i){var r=this.getFoldWidgetRangeBase(u,s,n,i);return r||this.xmlFoldMode.getFoldWidgetRange(u,s,n)}}).call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./javascript_highlight_rules").JavaScriptHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,u=m("../worker/worker_client").WorkerClient,s=m("./behaviour/javascript").JavaScriptBehaviour,n=m("./folding/javascript").FoldMode,i=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=new s,this.foldingRules=new n};E.inherits(i,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(r,l,h){var o=this.$getIndent(l),d=this.getTokenizer().getLineTokens(l,r),g=d.tokens,x=d.state;if(g.length&&g[g.length-1].type=="comment")return o;if(r=="start"||r=="no_regex"){var S=l.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);S&&(o+=h)}else if(r=="doc-start"&&(x=="start"||x=="no_regex"))return"";return o},this.checkOutdent=function(r,l,h){return this.$outdent.checkOutdent(l,h)},this.autoOutdent=function(r,l,h){this.$outdent.autoOutdent(l,h)},this.createWorker=function(r){var l=new u(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return l.attachToDocument(r.getDocument()),l.on("annotate",function(h){r.setAnnotations(h.data)}),l.on("terminate",function(){r.clearAnnotations()}),l},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(i.prototype),v.Mode=i}),(function(){ace.require(["ace/mode/javascript"],function(m){c&&(c.exports=m)})})()})(Jh)),Jh.exports}yw();var ed={exports:{}},uv;function bw(){return uv||(uv=1,(function(c,_){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};E.inherits(f,y),f.getTagRule=function(a){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(a){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:a}},f.getEndRule=function(a){return{token:"comment.doc",regex:"\\*\\/",next:a}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=m("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",u=function(i){var r={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},l=this.createKeywordMapper(r,"identifier"),h="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",g={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(r).join("|")+"\\b)"+a+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),n("no_regex"),g,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+h+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:l,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),n("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[n("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!i||!i.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,S,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",S);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!i||i.jsx!=!1)&&s.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};E.inherits(u,f);function s(){var i=a.replace("\\d","\\d\\-"),r={onMatch:function(h,o,d){var g=h.charAt(1)=="/"?2:1;return g==1?(o!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):g==2&&o==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(g==1?"":"end-")+"tag-open.xml",value:h.slice(0,g)},{type:"meta.tag.tag-name.xml",value:h.substr(g)}]},regex:"</?(?:"+i+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(r);var l={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[l,r,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(h,o,d){return o==d[0]&&d.shift(),h.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:h}]},nextState:"jsx"},l,n("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:i},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},r],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function n(i){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=u}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var u=f.getLine(a),s=u.match(/^(\s*\})/);if(!s)return 0;var n=s[1].length,i=f.findMatchingBracket({row:a,column:n});if(!i||i.row==a)return 0;var r=this.$getIndent(f.getLine(i.row));f.replace(new E(a,0,a,n-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator;function a(s,n){return s&&s.type.lastIndexOf(n+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(s,n,i,r,l){if(l=='"'||l=="'"){var h=l,o=r.doc.getTextRange(i.getSelectionRange());if(o!==""&&o!=="'"&&o!='"'&&i.getWrapBehavioursEnabled())return{text:h+o+h,selection:!1};var d=i.getCursorPosition(),g=r.doc.getLine(d.row),x=g.substring(d.column,d.column+1),S=new f(r,d.row,d.column),w=S.getCurrentToken();if(x==h&&(a(w,"attribute-value")||a(w,"string")))return{text:"",selection:[1,1]};if(w||(w=S.stepBackward()),!w)return;for(;a(w,"tag-whitespace")||a(w,"whitespace");)w=S.stepBackward();var b=!x||x.match(/\s/);if(a(w,"attribute-equals")&&(b||x==">")||a(w,"decl-attribute-equals")&&(b||x=="?"))return{text:h+h,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(s,n,i,r,l){var h=r.doc.getTextRange(l);if(!l.isMultiLine()&&(h=='"'||h=="'")){var o=r.doc.getLine(l.start.row),d=o.substring(l.start.column+1,l.start.column+2);if(d==h)return l.end.column++,l}}),this.add("autoclosing","insertion",function(s,n,i,r,l){if(l==">"){var h=i.getSelectionRange().start,o=new f(r,h.row,h.column),d=o.getCurrentToken()||o.stepBackward();if(!d||!(a(d,"tag-name")||a(d,"tag-whitespace")||a(d,"attribute-name")||a(d,"attribute-equals")||a(d,"attribute-value"))||a(d,"reference.attribute-value"))return;if(a(d,"attribute-value")){var g=o.getCurrentTokenColumn()+d.value.length;if(h.column<g)return;if(h.column==g){var x=o.stepForward();if(x&&a(x,"attribute-value"))return;o.stepBackward()}}if(/^\s*>/.test(r.getLine(h.row).slice(h.column)))return;for(;!a(d,"tag-name");)if(d=o.stepBackward(),d.value=="<"){d=o.stepForward();break}var S=o.getCurrentTokenRow(),w=o.getCurrentTokenColumn();if(a(o.stepBackward(),"end-tag-open"))return;var b=d.value;return S==h.row&&(b=b.substring(0,h.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(s,n,i,r,l){if(l==`
`){var h=i.getCursorPosition(),o=r.getLine(h.row),d=new f(r,h.row,h.column),g=d.getCurrentToken();if(a(g,"")&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=d.stepBackward();if(!g)return;var x=g.value,S=d.getCurrentTokenRow();if(g=d.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=r.getTokenAt(h.row,h.column+1),o=r.getLine(S),b=this.$getIndent(o),k=b+r.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+b,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};E.inherits(u,y),v.XmlBehaviour=u}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../token_iterator").TokenIterator,f=m("../behaviour/cstyle").CstyleBehaviour,a=m("../behaviour/xml").XmlBehaviour,u=function(){var s=new a({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(s),this.inherit(f),this.add("autoclosing-fragment","insertion",function(n,i,r,l,h){if(h==">"){var o=r.getSelectionRange().start,d=new y(l,o.row,o.column),g=d.getCurrentToken()||d.stepBackward();if(!g)return;if(g.value=="<")return{text:"></>",selection:[1,1]}}})};E.inherits(u,f),v.JavaScriptBehaviour=u}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(n,i){f.call(this),this.voidElements=n||{},this.optionalEndTags=E.mixin({},this.voidElements),i&&E.mixin(this.optionalEndTags,i)};E.inherits(a,f);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(n,i){return n&&n.type&&n.type.lastIndexOf(i+".xml")>-1}(function(){this.getFoldWidget=function(n,i,r){var l=this._getFirstTagInLine(n,r);return l?l.closing||!l.tagName&&l.selfClosing?i==="markbeginend"?"end":"":!l.tagName||l.selfClosing||this.voidElements.hasOwnProperty(l.tagName.toLowerCase())||this._findEndTagInLine(n,r,l.tagName,l.end.column)?"":"start":this.getCommentFoldWidget(n,r)},this.getCommentFoldWidget=function(n,i){return/comment/.test(n.getState(i))&&/<!-/.test(n.getLine(i))?"start":""},this._getFirstTagInLine=function(n,i){for(var r=n.getTokens(i),l=new u,h=0;h<r.length;h++){var o=r[h];if(s(o,"tag-open")){if(l.end.column=l.start.column+o.value.length,l.closing=s(o,"end-tag-open"),o=r[++h],!o)return null;if(l.tagName=o.value,o.value===""){if(o=r[++h],!o)return null;l.tagName=o.value}for(l.end.column+=o.value.length,h++;h<r.length;h++)if(o=r[h],l.end.column+=o.value.length,s(o,"tag-close")){l.selfClosing=o.value=="/>";break}return l}else if(s(o,"tag-close"))return l.selfClosing=o.value=="/>",l;l.start.column+=o.value.length}return null},this._findEndTagInLine=function(n,i,r,l){for(var h=n.getTokens(i),o=0,d=0;d<h.length;d++){var g=h[d];if(o+=g.value.length,!(o<l-1)&&s(g,"end-tag-open")&&(g=h[d+1],s(g,"tag-name")&&g.value===""&&(g=h[d+2]),g&&g.value==r))return!0}return!1},this.getFoldWidgetRange=function(n,i,r){var l=this._getFirstTagInLine(n,r);if(!l)return this.getCommentFoldWidget(n,r)&&n.getCommentFoldRange(r,n.getLine(r).length);var h=n.getMatchingTags({row:r,column:0});if(h)return new y(h.openTag.end.row,h.openTag.end.column,h.closeTag.start.row,h.closeTag.start.column)}}).call(a.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,n){var i=u.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(u,s,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(u,s,n,i){var r=u.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(u,r,n);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(u,o[1],n,l);var h=u.getCommentFoldRange(n,l+o[0].length,1);return h&&!h.isMultiLine()&&(i?h=this.getSectionRange(u,n):s!="all"&&(h=null)),h}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(u,o[1],n,l):u.getCommentFoldRange(n,l,-1)}}},this.getSectionRange=function(u,s){var n=u.getLine(s),i=n.search(/\S/),r=s,l=n.length;s=s+1;for(var h=s,o=u.getLength();++s<o;){n=u.getLine(s);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var g=this.getFoldWidgetRange(u,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(i==d)break}h=s}}return new y(r,l,h,u.getLine(h).length)},this.getCommentRegionBlock=function(u,s,n){for(var i=s.search(/\s*$/),r=u.getLength(),l=n,h=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++n<r;){s=u.getLine(n);var d=h.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=n;if(g>l)return new y(l,i,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(m,v,R){var E=m("../../lib/oop"),y=m("./xml").FoldMode,f=m("./cstyle").FoldMode,a=v.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end))),this.xmlFoldMode=new y};E.inherits(a,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,s,n){var i=this.getFoldWidgetBase(u,s,n);return i||this.xmlFoldMode.getFoldWidget(u,s,n)},this.getFoldWidgetRange=function(u,s,n,i){var r=this.getFoldWidgetRangeBase(u,s,n,i);return r||this.xmlFoldMode.getFoldWidgetRange(u,s,n)}}).call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./javascript_highlight_rules").JavaScriptHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,u=m("../worker/worker_client").WorkerClient,s=m("./behaviour/javascript").JavaScriptBehaviour,n=m("./folding/javascript").FoldMode,i=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=new s,this.foldingRules=new n};E.inherits(i,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(r,l,h){var o=this.$getIndent(l),d=this.getTokenizer().getLineTokens(l,r),g=d.tokens,x=d.state;if(g.length&&g[g.length-1].type=="comment")return o;if(r=="start"||r=="no_regex"){var S=l.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);S&&(o+=h)}else if(r=="doc-start"&&(x=="start"||x=="no_regex"))return"";return o},this.checkOutdent=function(r,l,h){return this.$outdent.checkOutdent(l,h)},this.autoOutdent=function(r,l,h){this.$outdent.autoOutdent(l,h)},this.createWorker=function(r){var l=new u(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return l.attachToDocument(r.getDocument()),l.on("annotate",function(h){r.setAnnotations(h.data)}),l.on("terminate",function(){r.clearAnnotations()}),l},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(i.prototype),v.Mode=i}),ace.define("ace/mode/typescript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/javascript_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./javascript_highlight_rules").JavaScriptHighlightRules,f=function(a){var u=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_-][a-zA-Z0-9d$_-]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}],s=new y({jsx:(a&&a.jsx)==!0}).getRules();s.no_regex=u.concat(s.no_regex),this.$rules=s};E.inherits(f,y),v.TypeScriptHighlightRules=f}),ace.define("ace/mode/typescript",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/typescript_highlight_rules","ace/mode/folding/cstyle","ace/mode/matching_brace_outdent"],function(m,v,R){var E=m("../lib/oop"),y=m("./javascript").Mode,f=m("./typescript_highlight_rules").TypeScriptHighlightRules,a=m("./folding/cstyle").FoldMode,u=m("./matching_brace_outdent").MatchingBraceOutdent,s=function(){this.HighlightRules=f,this.$outdent=new u,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new a};E.inherits(s,y),(function(){this.createWorker=function(n){return null},this.$id="ace/mode/typescript"}).call(s.prototype),v.Mode=s}),(function(){ace.require(["ace/mode/typescript"],function(m){c&&(c.exports=m)})})()})(ed)),ed.exports}bw();var td={exports:{}},hv;function _w(){return hv||(hv=1,(function(c,_){ace.define("ace/theme/monokai-css",["require","exports","module"],function(m,v,R){R.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(m,v,R){v.isDark=!0,v.cssClass="ace-monokai",v.cssText=m("./monokai-css");var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/monokai"],function(m){c&&(c.exports=m)})})()})(td)),td.exports}_w();var nd={exports:{}},dv;function xw(){return dv||(dv=1,(function(c,_){ace.define("ace/theme/github-css",["require","exports","module"],function(m,v,R){R.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(m,v,R){v.isDark=!1,v.cssClass="ace-github",v.cssText=m("./github-css");var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/github"],function(m){c&&(c.exports=m)})})()})(nd)),nd.exports}xw();var id={exports:{}},fv;function ww(){return fv||(fv=1,(function(c,_){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(m,v,R){var E=m("./lib/dom"),y=m("./lib/oop"),f=m("./lib/event_emitter").EventEmitter,a=m("./lib/lang"),u=m("./range").Range,s=m("./range_list").RangeList,n=m("./keyboard/hash_handler").HashHandler,i=m("./tokenizer").Tokenizer,r=m("./clipboard"),l={CURRENT_WORD:function(b){return b.session.getTextRange(b.session.getWordRange())},SELECTION:function(b,k,A){var T=b.session.getTextRange();return A?T.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):T},CURRENT_LINE:function(b){return b.session.getLine(b.getCursorPosition().row)},PREV_LINE:function(b){return b.session.getLine(b.getCursorPosition().row-1)},LINE_INDEX:function(b){return b.getCursorPosition().row},LINE_NUMBER:function(b){return b.getCursorPosition().row+1},SOFT_TABS:function(b){return b.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(b){return b.session.getTabSize()},CLIPBOARD:function(b){return r.getText&&r.getText()},FILENAME:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0]},FILENAME_BASE:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(b){return this.FILEPATH(b).replace(/[^/\\]*$/,"")},FILEPATH:function(b){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(b){var k=b.session.$mode||{};return k.blockComment&&k.blockComment.start||""},BLOCK_COMMENT_END:function(b){var k=b.session.$mode||{};return k.blockComment&&k.blockComment.end||""},LINE_COMMENT:function(b){var k=b.session.$mode||{};return k.lineCommentStart||""},CURRENT_YEAR:h.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:h.bind(null,{year:"2-digit"}),CURRENT_MONTH:h.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:h.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:h.bind(null,{month:"short"}),CURRENT_DATE:h.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:h.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:h.bind(null,{weekday:"short"}),CURRENT_HOUR:h.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:h.bind(null,{minute:"2-digit"}),CURRENT_SECOND:h.bind(null,{second:"2-digit"})};l.SELECTED_TEXT=l.SELECTION;function h(b){var k=new Date().toLocaleString("en-us",b);return k.length==1?"0"+k:k}var o=(function(){function b(){this.snippetMap={},this.snippetNameMap={},this.variables=l}return b.prototype.getTokenizer=function(){return b.$tokenizer||this.createTokenizer()},b.prototype.createTokenizer=function(){function k(j){return j=j.substr(1),/^\d+$/.test(j)?[{tabstopId:parseInt(j,10)}]:[{text:j}]}function A(j){return"(?:[^\\\\"+j+"]|\\\\.)"}var T={regex:"/("+A("/")+"+)/",onMatch:function(j,F,$){var D=$[0];return D.fmtString=!0,D.guard=j.slice(1,-1),D.flag="",""},next:"formatString"};return b.$tokenizer=new i({start:[{regex:/\\./,onMatch:function(j,F,$){var D=j[1];return(D=="}"&&$.length||"`$\\".indexOf(D)!=-1)&&(j=D),[j]}},{regex:/}/,onMatch:function(j,F,$){return[$.length?$.shift():j]}},{regex:/\$(?:\d+|\w+)/,onMatch:k},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(j,F,$){var D=k(j.substr(1));return $.unshift(D[0]),D},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(j,F,$){var D=j.slice(1,-1).replace(/\\[,|\\]|,/g,function(M){return M.length==2?M[1]:"\0"}).split("\0").map(function(M){return{value:M}});return $[0].choices=D,[D[0]]},next:"start"},T,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(j,F,$){return $.length&&$[0].expectElse?($[0].expectElse=!1,$[0].ifEnd={elseEnd:$[0]},[$[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(j,F,$){var D=j[1];return D=="}"&&$.length||"`$\\".indexOf(D)!=-1?j=D:D=="n"?j=`
`:D=="t"?j="	":"ulULE".indexOf(D)!=-1&&(j={changeCase:D,local:D>"a"}),[j]}},{regex:"/\\w*}",onMatch:function(j,F,$){var D=$.shift();return D&&(D.flag=j.slice(1,-1)),this.next=D&&D.tabstopId?"start":"",[D||j]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(j,F,$){return[{text:j.slice(1)}]}},{regex:/\${\w+/,onMatch:function(j,F,$){var D={text:j.slice(2)};return $.unshift(D),[D]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(j,F,$){var D=$.shift();return this.next=D&&D.tabstopId?"start":"",[D||j]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(j,F,$){var D=$[0];return D.formatFunction=j.slice(2,-1),[$.shift()]},next:"formatString"},T,{regex:/:[\?\-+]?/,onMatch:function(j,F,$){j[1]=="+"&&($[0].ifEnd=$[0]),j[1]=="?"&&($[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),b.$tokenizer},b.prototype.tokenizeTmSnippet=function(k,A){return this.getTokenizer().getLineTokens(k,A).tokens.map(function(T){return T.value||T})},b.prototype.getVariableValue=function(k,A,T){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var j=this.variables[A];return typeof j=="function"&&(j=this.variables[A](k,A,T)),j??""},b.prototype.tmStrFormat=function(k,A,T){if(!A.fmt)return k;var j=A.flag||"",F=A.guard;F=new RegExp(F,j.replace(/[^gim]/g,""));var $=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,D=this,M=k.replace(F,function(){var L=D.variables.__;D.variables.__=[].slice.call(arguments);for(var O=D.resolveVariables($,T),z="E",B=0;B<O.length;B++){var P=O[B];if(typeof P=="object")if(O[B]="",P.changeCase&&P.local){var U=O[B+1];U&&typeof U=="string"&&(P.changeCase=="u"?O[B]=U[0].toUpperCase():O[B]=U[0].toLowerCase(),O[B+1]=U.substr(1))}else P.changeCase&&(z=P.changeCase);else z=="U"?O[B]=P.toUpperCase():z=="L"&&(O[B]=P.toLowerCase())}return D.variables.__=L,O.join("")});return M},b.prototype.tmFormatFunction=function(k,A,T){return A.formatFunction=="upcase"?k.toUpperCase():A.formatFunction=="downcase"?k.toLowerCase():k},b.prototype.resolveVariables=function(k,A){for(var T=[],j="",F=!0,$=0;$<k.length;$++){var D=k[$];if(typeof D=="string"){T.push(D),D==`
`?(F=!0,j=""):F&&(j=/^\t*/.exec(D)[0],F=/\S/.test(D));continue}if(D){if(F=!1,D.fmtString){var M=k.indexOf(D,$+1);M==-1&&(M=k.length),D.fmt=k.slice($+1,M),$=M}if(D.text){var L=this.getVariableValue(A,D.text,j)+"";D.fmtString&&(L=this.tmStrFormat(L,D,A)),D.formatFunction&&(L=this.tmFormatFunction(L,D,A)),L&&!D.ifEnd?(T.push(L),O(D)):!L&&D.ifEnd&&O(D.ifEnd)}else D.elseEnd?O(D.elseEnd):(D.tabstopId!=null||D.changeCase!=null)&&T.push(D)}}function O(z){var B=k.indexOf(z,$+1);B!=-1&&($=B)}return T},b.prototype.getDisplayTextForSnippet=function(k,A){var T=d.call(this,k,A);return T.text},b.prototype.insertSnippetForSelection=function(k,A,T){T===void 0&&(T={});var j=d.call(this,k,A,T),F=k.getSelectionRange(),$=k.session.replace(F,j.text),D=new g(k),M=k.inVirtualSelectionMode&&k.selection.index;D.addTabstops(j.tabstops,F.start,$,M)},b.prototype.insertSnippet=function(k,A,T){T===void 0&&(T={});var j=this;if(k.inVirtualSelectionMode)return j.insertSnippetForSelection(k,A,T);k.forEachSelection(function(){j.insertSnippetForSelection(k,A,T)},null,{keepOrder:!0}),k.tabstopManager&&k.tabstopManager.tabNext()},b.prototype.$getScope=function(k){var A=k.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!k.session.$mode.inlinePhp&&(A="html");var T=k.getCursorPosition(),j=k.session.getState(T.row);typeof j=="object"&&(j=j[0]),j.substring&&(j.substring(0,3)=="js-"?A="javascript":j.substring(0,4)=="css-"?A="css":j.substring(0,4)=="php-"&&(A="php"))}return A},b.prototype.getActiveScopes=function(k){var A=this.$getScope(k),T=[A],j=this.snippetMap;return j[A]&&j[A].includeScopes&&T.push.apply(T,j[A].includeScopes),T.push("_"),T},b.prototype.expandWithTab=function(k,A){var T=this,j=k.forEachSelection(function(){return T.expandSnippetForSelection(k,A)},null,{keepOrder:!0});return j&&k.tabstopManager&&k.tabstopManager.tabNext(),j},b.prototype.expandSnippetForSelection=function(k,A){var T=k.getCursorPosition(),j=k.session.getLine(T.row),F=j.substring(0,T.column),$=j.substr(T.column),D=this.snippetMap,M;return this.getActiveScopes(k).some(function(L){var O=D[L];return O&&(M=this.findMatchingSnippet(O,F,$)),!!M},this),M?(A&&A.dryRun||(k.session.doc.removeInLine(T.row,T.column-M.replaceBefore.length,T.column+M.replaceAfter.length),this.variables.M__=M.matchBefore,this.variables.T__=M.matchAfter,this.insertSnippetForSelection(k,M.content),this.variables.M__=this.variables.T__=null),!0):!1},b.prototype.findMatchingSnippet=function(k,A,T){for(var j=k.length;j--;){var F=k[j];if(!(F.startRe&&!F.startRe.test(A))&&!(F.endRe&&!F.endRe.test(T))&&!(!F.startRe&&!F.endRe))return F.matchBefore=F.startRe?F.startRe.exec(A):[""],F.matchAfter=F.endRe?F.endRe.exec(T):[""],F.replaceBefore=F.triggerRe?F.triggerRe.exec(A)[0]:"",F.replaceAfter=F.endTriggerRe?F.endTriggerRe.exec(T)[0]:"",F}},b.prototype.register=function(k,A){var T=this.snippetMap,j=this.snippetNameMap,F=this;k||(k=[]);function $(L){return L&&!/^\^?\(.*\)\$?$|^\\b$/.test(L)&&(L="(?:"+L+")"),L||""}function D(L,O,z){return L=$(L),O=$(O),L=O+L,L&&L[L.length-1]!="$"&&(L=L+"$"),new RegExp(L)}function M(L){L.scope||(L.scope=A||"_"),A=L.scope,T[A]||(T[A]=[],j[A]={});var O=j[A];if(L.name){var z=O[L.name];z&&F.unregister(z),O[L.name]=L}T[A].push(L),L.prefix&&(L.tabTrigger=L.prefix),!L.content&&L.body&&(L.content=Array.isArray(L.body)?L.body.join(`
`):L.body),L.tabTrigger&&!L.trigger&&(!L.guard&&/^\w/.test(L.tabTrigger)&&(L.guard="\\b"),L.trigger=a.escapeRegExp(L.tabTrigger)),!(!L.trigger&&!L.guard&&!L.endTrigger&&!L.endGuard)&&(L.startRe=D(L.trigger,L.guard),L.triggerRe=new RegExp(L.trigger),L.endRe=D(L.endTrigger,L.endGuard),L.endTriggerRe=new RegExp(L.endTrigger))}Array.isArray(k)?k.forEach(M):Object.keys(k).forEach(function(L){M(k[L])}),this._signal("registerSnippets",{scope:A})},b.prototype.unregister=function(k,A){var T=this.snippetMap,j=this.snippetNameMap;function F($){var D=j[$.scope||A];if(D&&D[$.name]){delete D[$.name];var M=T[$.scope||A],L=M&&M.indexOf($);L>=0&&M.splice(L,1)}}k.content?F(k):Array.isArray(k)&&k.forEach(F)},b.prototype.parseSnippetFile=function(k){k=k.replace(/\r/g,"");for(var A=[],T={},j=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,F;F=j.exec(k);){if(F[1])try{T=JSON.parse(F[1]),A.push(T)}catch{}if(F[4])T.content=F[4].replace(/^\t/gm,""),A.push(T),T={};else{var $=F[2],D=F[3];if($=="regex"){var M=/\/((?:[^\/\\]|\\.)*)|$/g;T.guard=M.exec(D)[1],T.trigger=M.exec(D)[1],T.endTrigger=M.exec(D)[1],T.endGuard=M.exec(D)[1]}else $=="snippet"?(T.tabTrigger=D.match(/^\S*/)[0],T.name||(T.name=D)):$&&(T[$]=D)}}return A},b.prototype.getSnippetByName=function(k,A){var T=this.snippetNameMap,j;return this.getActiveScopes(A).some(function(F){var $=T[F];return $&&(j=$[k]),!!j},this),j},b})();y.implement(o.prototype,f);var d=function(b,k,A){A===void 0&&(A={});var T=b.getCursorPosition(),j=b.session.getLine(T.row),F=b.session.getTabString(),$=j.match(/^\s*/)[0];T.column<$.length&&($=$.slice(0,T.column)),k=k.replace(/\r/g,"");var D=this.tokenizeTmSnippet(k);D=this.resolveVariables(D,b),D=D.map(function(J){return J==`
`&&!A.excludeExtraIndent?J+$:typeof J=="string"?J.replace(/\t/g,F):J});var M=[];D.forEach(function(J,V){if(typeof J=="object"){var Q=J.tabstopId,te=M[Q];if(te||(te=M[Q]=[],te.index=Q,te.value="",te.parents={}),te.indexOf(J)===-1){J.choices&&!te.choices&&(te.choices=J.choices),te.push(J);var ie=D.indexOf(J,V+1);if(ie!==-1){var me=D.slice(V+1,ie),pe=me.some(function(Se){return typeof Se=="object"});pe&&!te.value?te.value=me:me.length&&(!te.value||typeof te.value!="string")&&(te.value=me.join(""))}}}}),M.forEach(function(J){J.length=0});var L={};function O(J){for(var V=[],Q=0;Q<J.length;Q++){var te=J[Q];if(typeof te=="object"){if(L[te.tabstopId])continue;var ie=J.lastIndexOf(te,Q-1);te=V[ie]||{tabstopId:te.tabstopId}}V[Q]=te}return V}for(var z=0;z<D.length;z++){var B=D[z];if(typeof B=="object"){var P=B.tabstopId,U=M[P],W=D.indexOf(B,z+1);if(L[P]){L[P]===B&&(delete L[P],Object.keys(L).forEach(function(J){U.parents[J]=!0}));continue}L[P]=B;var K=U.value;typeof K!="string"?K=O(K):B.fmt&&(K=this.tmStrFormat(K,B,b)),D.splice.apply(D,[z+1,Math.max(0,W-z)].concat(K,B)),U.indexOf(B)===-1&&U.push(B)}}var Y=0,X=0,q="";return D.forEach(function(J){if(typeof J=="string"){var V=J.split(`
`);V.length>1?(X=V[V.length-1].length,Y+=V.length-1):X+=J.length,q+=J}else J&&(J.start?J.end={row:Y,column:X}:J.start={row:Y,column:X})}),{text:q,tabstops:M,tokens:D}},g=(function(){function b(k){if(this.index=0,this.ranges=[],this.tabstops=[],k.tabstopManager)return k.tabstopManager;k.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=a.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(k)}return b.prototype.attach=function(k){this.$openTabstops=null,this.selectedTabstop=null,this.editor=k,this.session=k.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},b.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},b.prototype.onChange=function(k){for(var A=k.action[0]=="r",T=this.selectedTabstop||{},j=T.parents||{},F=this.tabstops.slice(),$=0;$<F.length;$++){var D=F[$],M=D==T||j[D.index];if(D.rangeList.$bias=M?0:1,k.action=="remove"&&D!==T){var L=D.parents&&D.parents[T.index],O=D.rangeList.pointIndex(k.start,L);O=O<0?-O-1:O+1;var z=D.rangeList.pointIndex(k.end,L);z=z<0?-z-1:z-1;for(var B=D.rangeList.ranges.slice(O,z),P=0;P<B.length;P++)this.removeRange(B[P])}D.rangeList.$onChange(k)}var U=this.session;!this.$inChange&&A&&U.getLength()==1&&!U.getValue()&&this.detach()},b.prototype.updateLinkedFields=function(){var k=this.selectedTabstop;if(!(!k||!k.hasLinkedRanges||!k.firstNonLinked)){this.$inChange=!0;for(var A=this.session,T=A.getTextRange(k.firstNonLinked),j=0;j<k.length;j++){var F=k[j];if(F.linked){var $=F.original,D=v.snippetManager.tmStrFormat(T,$,this.editor);A.replace(F,D)}}this.$inChange=!1}},b.prototype.onAfterExec=function(k){k.command&&!k.command.readOnly&&this.updateLinkedFields()},b.prototype.onChangeSelection=function(){if(this.editor){for(var k=this.editor.selection.lead,A=this.editor.selection.anchor,T=this.editor.selection.isEmpty(),j=0;j<this.ranges.length;j++)if(!this.ranges[j].linked){var F=this.ranges[j].contains(k.row,k.column),$=T||this.ranges[j].contains(A.row,A.column);if(F&&$)return}this.detach()}},b.prototype.onChangeSession=function(){this.detach()},b.prototype.tabNext=function(k){var A=this.tabstops.length,T=this.index+(k||1);T=Math.min(Math.max(T,1),A),T==A&&(T=0),this.selectTabstop(T),this.updateTabstopMarkers(),T===0&&this.detach()},b.prototype.selectTabstop=function(k){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=k,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var T=A.firstNonLinked||A;if(A.choices&&(T.cursor=T.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(T);else{var j=this.editor.multiSelect;j.toSingleRange(T);for(var F=0;F<A.length;F++)A.hasLinkedRanges&&A[F].linked||j.addRange(A[F].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},b.prototype.addTabstops=function(k,A,T){var j=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!k[0]){var F=u.fromPoints(T,T);S(F.start,A),S(F.end,A),k[0]=[F],k[0].index=0}var $=this.index,D=[$+1,0],M=this.ranges,L=this.snippetId=(this.snippetId||0)+1;k.forEach(function(O,z){var B=this.$openTabstops[z]||O;B.snippetId=L;for(var P=0;P<O.length;P++){var U=O[P],W=u.fromPoints(U.start,U.end||U.start);x(W.start,A),x(W.end,A),W.original=U,W.tabstop=B,M.push(W),B!=O?B.unshift(W):B[P]=W,U.fmtString||B.firstNonLinked&&j?(W.linked=!0,B.hasLinkedRanges=!0):B.firstNonLinked||(B.firstNonLinked=W)}B.firstNonLinked||(B.hasLinkedRanges=!1),B===O&&(D.push(B),this.$openTabstops[z]=B),this.addTabstopMarkers(B),B.rangeList=B.rangeList||new s,B.rangeList.$bias=0,B.rangeList.addList(B)},this),D.length>2&&(this.tabstops.length&&D.push(D.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,D))},b.prototype.addTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){T.markerId||(T.markerId=A.addMarker(T,"ace_snippet-marker","text"))})},b.prototype.removeTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){A.removeMarker(T.markerId),T.markerId=null})},b.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var k=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&k--,this.tabstops.forEach(function(A){A.snippetId===k?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},b.prototype.removeRange=function(k){var A=k.tabstop.indexOf(k);A!=-1&&k.tabstop.splice(A,1),A=this.ranges.indexOf(k),A!=-1&&this.ranges.splice(A,1),A=k.tabstop.rangeList.ranges.indexOf(k),A!=-1&&k.tabstop.splice(A,1),this.session.removeMarker(k.markerId),k.tabstop.length||(A=this.tabstops.indexOf(k.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},b})();g.prototype.keyboardHandler=new n,g.prototype.keyboardHandler.bindKeys({Tab:function(b){v.snippetManager&&v.snippetManager.expandWithTab(b)||(b.tabstopManager.tabNext(1),b.renderer.scrollCursorIntoView())},"Shift-Tab":function(b){b.tabstopManager.tabNext(-1),b.renderer.scrollCursorIntoView()},Esc:function(b){b.tabstopManager.detach()}});var x=function(b,k){b.row==0&&(b.column+=k.column),b.row+=k.row},S=function(b,k){b.row==k.row&&(b.column-=k.column),b.row-=k.row};E.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),v.snippetManager=new o;var w=m("./editor").Editor;(function(){this.insertSnippet=function(b,k){return v.snippetManager.insertSnippet(this,b,k)},this.expandSnippet=function(b){return v.snippetManager.expandWithTab(this,b)}}).call(w.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(m,v,R){var E=m("../virtual_renderer").VirtualRenderer,y=m("../editor").Editor,f=m("../range").Range,a=m("../lib/event"),u=m("../lib/lang"),s=m("../lib/dom"),n=m("../config").nls,i=m("./../lib/useragent"),r=function(x){return"suggest-aria-id:".concat(x)},l=i.isSafari?"menu":"listbox",h=i.isSafari?"menuitem":"option",o=i.isSafari?"aria-current":"aria-selected",d=function(x){var S=new E(x);S.$maxLines=4;var w=new y(S);return w.setHighlightActiveLine(!1),w.setShowPrintMargin(!1),w.renderer.setShowGutter(!1),w.renderer.setHighlightGutterLine(!1),w.$mouseHandler.$focusTimeout=0,w.$highlightTagPending=!0,w},g=(function(){function x(S){var w=s.createElement("div"),b=d(w);S&&S.appendChild(w),w.style.display="none",b.renderer.content.style.cursor="default",b.renderer.setStyle("ace_autocomplete"),b.renderer.$textLayer.element.setAttribute("role",l),b.renderer.$textLayer.element.setAttribute("aria-roledescription",n("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),b.renderer.$textLayer.element.setAttribute("aria-label",n("autocomplete.popup.aria-label","Autocomplete suggestions")),b.renderer.textarea.setAttribute("aria-hidden","true"),b.setOption("displayIndentGuides",!1),b.setOption("dragDelay",150);var k=function(){};b.focus=k,b.$isFocused=!0,b.renderer.$cursorLayer.restartTimer=k,b.renderer.$cursorLayer.element.style.opacity="0",b.renderer.$maxLines=8,b.renderer.$keepTextAreaAtCursor=!1,b.setHighlightActiveLine(!1),b.session.highlight(""),b.session.$searchHighlight.clazz="ace_highlight-marker",b.on("mousedown",function(M){var L=M.getDocumentPosition();b.selection.moveToPosition(L),j.start.row=j.end.row=L.row,M.stop()});var A,T=new f(-1,0,-1,1/0),j=new f(-1,0,-1,1/0);j.id=b.session.addMarker(j,"ace_active-line","fullLine"),b.setSelectOnHover=function(M){M?T.id&&(b.session.removeMarker(T.id),T.id=null):T.id=b.session.addMarker(T,"ace_line-hover","fullLine")},b.setSelectOnHover(!1),b.on("mousemove",function(M){if(!A){A=M;return}if(!(A.x==M.x&&A.y==M.y)){A=M,A.scrollTop=b.renderer.scrollTop,b.isMouseOver=!0;var L=A.getDocumentPosition().row;T.start.row!=L&&(T.id||b.setRow(L),$(L))}}),b.renderer.on("beforeRender",function(){if(A&&T.start.row!=-1){A.$pos=null;var M=A.getDocumentPosition().row;T.id||b.setRow(M),$(M,!0)}}),b.renderer.on("afterRender",function(){for(var M=b.renderer.$textLayer,L=M.config.firstRow,O=M.config.lastRow;L<=O;L++){var z=M.element.childNodes[L-M.config.firstRow];z.setAttribute("role",h),z.setAttribute("aria-roledescription",n("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-setsize",b.data.length),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute("aria-posinset",L+1);var B=b.getData(L);if(B){var P="".concat(B.caption||B.value).concat(B.meta?", ".concat(B.meta):"");z.setAttribute("aria-label",P)}var U=z.querySelectorAll(".ace_completion-highlight");U.forEach(function(W){W.setAttribute("role","mark")})}}),b.renderer.on("afterRender",function(){var M=b.getRow(),L=b.renderer.$textLayer,O=L.element.childNodes[M-L.config.firstRow],z=document.activeElement;if(O!==b.selectedNode&&b.selectedNode&&(s.removeCssClass(b.selectedNode,"ace_selected"),b.selectedNode.removeAttribute(o),b.selectedNode.removeAttribute("id")),z.removeAttribute("aria-activedescendant"),b.selectedNode=O,O){var B=r(M);s.addCssClass(O,"ace_selected"),O.id=B,L.element.setAttribute("aria-activedescendant",B),z.setAttribute("aria-activedescendant",B),O.setAttribute(o,"true")}});var F=function(){$(-1)},$=function(M,L){M!==T.start.row&&(T.start.row=T.end.row=M,L||b.session._emit("changeBackMarker"),b._emit("changeHoverMarker"))};b.getHoveredRow=function(){return T.start.row},a.addListener(b.container,"mouseout",function(){b.isMouseOver=!1,F()}),b.on("hide",F),b.on("changeSelection",F),b.session.doc.getLength=function(){return b.data.length},b.session.doc.getLine=function(M){var L=b.data[M];return typeof L=="string"?L:L&&L.value||""};var D=b.session.bgTokenizer;return D.$tokenizeRow=function(M){var L=b.data[M],O=[];if(!L)return O;typeof L=="string"&&(L={value:L});var z=L.caption||L.value||L.name;function B(J,V){J&&O.push({type:(L.className||"")+(V||""),value:J})}for(var P=z.toLowerCase(),U=(b.filterText||"").toLowerCase(),W=0,K=0,Y=0;Y<=U.length;Y++)if(Y!=K&&(L.matchMask&1<<Y||Y==U.length)){var X=U.slice(K,Y);K=Y;var q=P.indexOf(X,W);if(q==-1)continue;B(z.slice(W,q),""),W=q+X.length,B(z.slice(q,W),"completion-highlight")}return B(z.slice(W,z.length),""),O.push({type:"completion-spacer",value:" "}),L.meta&&O.push({type:"completion-meta",value:L.meta}),L.message&&O.push({type:"completion-message",value:L.message}),O},D.$updateOnChange=k,D.start=k,b.session.$computeWidth=function(){return this.screenWidth=0},b.isOpen=!1,b.isTopdown=!1,b.autoSelect=!0,b.filterText="",b.isMouseOver=!1,b.data=[],b.setData=function(M,L){b.filterText=L||"",b.setValue(u.stringRepeat(`
`,M.length),-1),b.data=M||[],b.setRow(0)},b.getData=function(M){return b.data[M]},b.getRow=function(){return j.start.row},b.setRow=function(M){M=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,M)),j.start.row!=M&&(b.selection.clearSelection(),j.start.row=j.end.row=M||0,b.session._emit("changeBackMarker"),b.moveCursorTo(M||0,0),b.isOpen&&b._signal("select"))},b.on("changeSelection",function(){b.isOpen&&b.setRow(b.selection.lead.row),b.renderer.scrollCursorIntoView()}),b.hide=function(){this.container.style.display="none",b.anchorPos=null,b.anchor=null,b.isOpen&&(b.isOpen=!1,this._signal("hide"))},b.tryShow=function(M,L,O,z){if(!z&&b.isOpen&&b.anchorPos&&b.anchor&&b.anchorPos.top===M.top&&b.anchorPos.left===M.left&&b.anchor===O)return!0;var B=this.container,P=this.renderer.scrollBar.width||10,U=window.innerHeight-P,W=window.innerWidth-P,K=this.renderer,Y=K.$maxLines*L*1.4,X={top:0,bottom:0},q=U-M.top-3*this.$borderSize-L,J=M.top-3*this.$borderSize;O||(J<=q||q>=Y?O="bottom":O="top"),O==="top"?(X.bottom=M.top-this.$borderSize,X.top=X.bottom-Y):O==="bottom"&&(X.top=M.top+L+this.$borderSize,X.bottom=X.top+Y);var V=X.top>=0&&X.bottom<=U;if(!z&&!V)return!1;V?K.$maxPixelHeight=null:O==="top"?K.$maxPixelHeight=J:K.$maxPixelHeight=q,O==="top"?(B.style.top="",B.style.bottom=U+P-X.bottom+"px",b.isTopdown=!1):(B.style.top=X.top+"px",B.style.bottom="",b.isTopdown=!0),B.style.display="";var Q=M.left;return Q+B.offsetWidth>W&&(Q=W-B.offsetWidth),B.style.left=Q+"px",B.style.right="",s.$fixPositionBug(B),b.isOpen||(b.isOpen=!0,this._signal("show"),A=null),b.anchorPos=M,b.anchor=O,!0},b.show=function(M,L,O){this.tryShow(M,L,O?"bottom":void 0,!0)},b.goTo=function(M){var L=this.getRow(),O=this.session.getLength()-1;switch(M){case"up":L=L<=0?O:L-1;break;case"down":L=L>=O?-1:L+1;break;case"start":L=0;break;case"end":L=O;break}this.setRow(L)},b.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},b.$imageSize=0,b.$borderSize=1,b}return x})();s.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),v.AcePopup=g,v.$singleLineEditor=d,v.getAriaId=r}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(m,v,R){var E=(function(){function y(f){this.editor=f,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return y.prototype.setScreenReaderContent=function(f){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var u=this.popup.getRow(),s=this.popup.renderer.$textLayer,n=s.element.childNodes[u-s.config.firstRow];if(n){for(var i="doc-tooltip ",r=0;r<this._lines.length;r++)i+="ace-inline-screenreader-line-".concat(r," ");n.setAttribute("aria-describedby",i)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=f.split(/\r\n|\r|\n/);var a=this.createCodeBlock();this.screenReaderDiv.appendChild(a)},y.prototype.destroy=function(){this.screenReaderDiv.remove()},y.prototype.createCodeBlock=function(){var f=document.createElement("pre");f.setAttribute("id","ace-inline-screenreader");for(var a=0;a<this._lines.length;a++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(a));var s=document.createTextNode(this._lines[a]);u.appendChild(s),f.appendChild(u)}return f},y})();v.AceInlineScreenReader=E}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(m,v,R){var E=m("../snippets").snippetManager,y=m("./inline_screenreader").AceInlineScreenReader,f=(function(){function a(){this.editor=null}return a.prototype.show=function(u,s,n){if(n=n||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!s)return!1;this.inlineScreenReader||(this.inlineScreenReader=new y(u));var i=s.snippet?E.getDisplayTextForSnippet(u,s.snippet):s.value;return s.hideInlinePreview||!i||!i.startsWith(n)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(n.length),i===""?u.removeGhostText():u.setGhostText(i),!0)},a.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},a.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},a.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},a})();v.AceInline=f}),ace.define("ace/autocomplete/util",["require","exports","module"],function(m,v,R){v.parForEach=function(y,f,a){var u=0,s=y.length;s===0&&a();for(var n=0;n<s;n++)f(y[n],function(i,r){u++,u===s&&a(i,r)})};var E=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;v.retrievePrecedingIdentifier=function(y,f,a){a=a||E;for(var u=[],s=f-1;s>=0&&a.test(y[s]);s--)u.push(y[s]);return u.reverse().join("")},v.retrieveFollowingIdentifier=function(y,f,a){a=a||E;for(var u=[],s=f;s<y.length&&a.test(y[s]);s++)u.push(y[s]);return u},v.getCompletionPrefix=function(y){var f=y.getCursorPosition(),a=y.session.getLine(f.row),u;return y.completers.forEach((function(s){s.identifierRegexps&&s.identifierRegexps.forEach((function(n){!u&&n&&(u=this.retrievePrecedingIdentifier(a,f.column,n))}).bind(this))}).bind(this)),u||this.retrievePrecedingIdentifier(a,f.column)},v.triggerAutocomplete=function(y,a){var a=a??y.session.getPrecedingCharacter();return y.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(a)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(m,v,R){var E=m("./keyboard/hash_handler").HashHandler,y=m("./autocomplete/popup").AcePopup,f=m("./autocomplete/inline").AceInline,a=m("./autocomplete/popup").getAriaId,u=m("./autocomplete/util"),s=m("./lib/lang"),n=m("./lib/dom"),i=m("./snippets").snippetManager,r=m("./config"),l=m("./lib/event"),h=m("./lib/scroll").preventParentScroll,o=function(S,w){w.completer&&w.completer.destroy()},d=(function(){function S(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new E,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=s.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=s.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=s.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=s.delayedCall((function(){var w=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!w||this.editor.completers.length===0||(this.completions=new x(S.completionsForLoading),this.openPopup(this.editor,w.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(S,"completionsForLoading",{get:function(){return[{caption:r.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),S.prototype.$init=function(){return this.popup=new y(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(w){this.insertMatch(),w.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),l.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},S.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new f,this.inlineRenderer},S.prototype.getPopup=function(){return this.popup||this.$init()},S.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},S.prototype.$seen=function(w){!this.hasSeen.has(w)&&w&&w.completer&&w.completer.onSeen&&typeof w.completer.onSeen=="function"&&(w.completer.onSeen(this.editor,w),this.hasSeen.add(w))},S.prototype.$onPopupChange=function(w){if(this.inlineRenderer&&this.inlineEnabled){var b=w?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(b),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},S.prototype.$updateGhostText=function(w){var b=this.base.row,k=this.base.column,A=this.editor.getCursorPosition().column,T=this.editor.session.getLine(b).slice(k,A);this.inlineRenderer.show(this.editor,w,T)?this.$seen(w):this.inlineRenderer.hide()},S.prototype.$onPopupRender=function(){var w=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var b=this.popup.getFirstVisibleRow();b<=this.popup.getLastVisibleRow();b++){var k=this.popup.getData(b);k&&(!w||k.hideInlinePreview)&&this.$seen(k)}},S.prototype.$onPopupShow=function(w){this.$onPopupChange(w),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},S.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var w=this.editor.container.parentNode,b=[];w;)b.push(w),w.addEventListener("scroll",this.onLayoutChange,{passive:!0}),w=w.parentNode;this.$elements=b}},S.prototype.unObserveLayoutChanges=function(){var w=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(b){b.removeEventListener("scroll",w.onLayoutChange,{passive:!0})}),this.$elements=null},S.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},S.prototype.$updatePopupPosition=function(){var w=this.editor,b=w.renderer,k=b.layerConfig.lineHeight,A=b.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var T=w.container.getBoundingClientRect();A.top+=T.top-b.layerConfig.offset,A.left+=T.left-w.renderer.scrollLeft,A.left+=b.gutterWidth;var j={top:A.top,left:A.left};b.$ghostText&&b.$ghostTextWidget&&this.base.row===b.$ghostText.position.row&&(j.top+=b.$ghostTextWidget.el.offsetHeight);var F=w.container.getBoundingClientRect().bottom-k,$=F<j.top?{top:F,left:j.left}:j;this.popup.tryShow($,k,"bottom")||this.popup.tryShow(A,k,"top")||this.popup.show(A,k)},S.prototype.openPopup=function(w,b,k){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),T=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled}),w.keyBinding.addKeyboardHandler(this.keyboardHandler);var j;this.stickySelection&&(j=this.popup.data.indexOf(T)),(!j||j===-1)&&(j=0),this.popup.setRow(this.autoSelect?j:-1),j===A&&T!==this.completions.filtered[j]&&this.$onPopupChange();var F=this.inlineRenderer&&this.inlineEnabled;if(j===A&&F){var $=this.popup.getData(this.popup.getRow());this.$updateGhostText($)}k||(this.popup.setTheme(w.getTheme()),this.popup.setFontSize(w.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},S.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},S.prototype.changeListener=function(w){var b=this.editor.selection.lead;(b.row!=this.base.row||b.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},S.prototype.blurListener=function(w){var b=document.activeElement,k=this.editor.textInput.getElement(),A=w.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(w.relatedTarget),T=this.popup&&this.popup.container;b!=k&&b.parentNode!=T&&!A&&b!=this.tooltipNode&&w.relatedTarget!=k&&this.detach()},S.prototype.mousedownListener=function(w){this.detach()},S.prototype.mousewheelListener=function(w){this.popup&&!this.popup.isMouseOver&&this.detach()},S.prototype.mouseOutListener=function(w){this.popup.isOpen&&this.$updatePopupPosition()},S.prototype.goTo=function(w){this.popup.goTo(w)},S.prototype.insertMatch=function(w,b){if(w||(w=this.popup.getData(this.popup.getRow())),!w)return!1;if(w.value==="")return this.detach();var k=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,w,k.filterText,b);return this.completions==k&&this.detach(),A},S.prototype.showPopup=function(w,b){this.editor&&this.detach(),this.activated=!0,this.editor=w,w.completer!=this&&(w.completer&&w.completer.detach(),w.completer=this),w.on("changeSelection",this.changeListener),w.on("blur",this.blurListener),w.on("mousedown",this.mousedownListener),w.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,b)},S.prototype.getCompletionProvider=function(w){return this.completionProvider||(this.completionProvider=new g(w)),this.completionProvider},S.prototype.gatherCompletions=function(w,b){return this.getCompletionProvider().gatherCompletions(w,b)},S.prototype.updateCompletions=function(w,b){if(w&&this.base&&this.completions){var A=this.editor.getCursorPosition(),T=this.editor.session.getTextRange({start:this.base,end:A});if(T==this.completions.filterText)return;if(this.completions.setFilter(T),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==T&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,T,w);return}if(b&&b.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new x(b.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",w)}var k=this.editor.getSession(),A=this.editor.getCursorPosition(),T=u.getCompletionPrefix(this.editor);this.base=k.doc.createAnchor(A.row,A.column-T.length),this.base.$insertRight=!0;var j={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:T,pos:A}).provideCompletions(this.editor,j,(function(F,$,D){var M=$.filtered,L=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),D){if(!M.length){var O=!this.autoShown&&this.emptyMessage;if(typeof O=="function"&&(O=this.emptyMessage(L)),O){var z=[{caption:O,value:""}];this.completions=new x(z),this.openPopup(this.editor,L,w),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(M.length==1&&M[0].value==L&&!M[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&M.length==1)return this.insertMatch(M[0])}this.completions=!D&&this.showLoadingState?new x(S.completionsForLoading.concat(M),$.filterText):$,this.openPopup(this.editor,L,w),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!D)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},S.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},S.prototype.updateDocTooltip=function(){var w=this.popup,b=this.completions&&this.completions.filtered,k=b&&(b[w.getHoveredRow()]||b[w.getRow()]),A=null;if(!k||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var T=this.editor.completers.length,j=0;j<T;j++){var F=this.editor.completers[j];if(F.getDocTooltip&&k.completerId===F.id){A=F.getDocTooltip(k);break}}if(!A&&typeof k!="string"&&(A=k),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},S.prototype.showDocTooltip=function(w){this.tooltipNode||(this.tooltipNode=n.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",h));var b=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(b.isDark?"ace_dark ":"")+(b.cssClass||"");var k=this.tooltipNode;w.docHTML?k.innerHTML=w.docHTML:w.docText&&(k.textContent=w.docText),k.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,T=A.container.getBoundingClientRect(),j=400,F=300,$=A.renderer.scrollBar.width||10,D=T.left,M=window.innerWidth-T.right-$,L=A.isTopdown?window.innerHeight-$-T.bottom:T.top,O=[Math.min(M/j,1),Math.min(D/j,1),Math.min(L/F,1)*.9],z=Math.max.apply(Math,O),B=k.style;B.display="block",z==O[0]||O[0]>=1?(B.left=T.right+1+"px",B.right="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.top,F)+"px"):z==O[1]||O[1]>=1?(B.right=window.innerWidth-T.left+"px",B.left="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.top,F)+"px"):z==O[2]&&(B.left=T.left+"px",B.right="",B.maxWidth=Math.min(j,window.innerWidth-T.left)+"px",A.isTopdown?(B.top=T.bottom+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.bottom,F)+"px"):(B.top="",B.bottom=window.innerHeight-T.top+"px",B.maxHeight=Math.min(T.top,F)+"px")),n.$fixPositionBug(k)},S.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var w=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==w&&this.editor.focus(),this.tooltipNode=null,w.parentNode&&w.parentNode.removeChild(w)}},S.prototype.onTooltipClick=function(w){for(var b=w.target;b&&b!=this.tooltipNode;){if(b.nodeName=="A"&&b.href){b.rel="noreferrer",b.target="_blank";break}b=b.parentNode}},S.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var w=this.popup.container;w&&w.parentNode&&w.parentNode.removeChild(w)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",o),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},S.for=function(w){return w.completer instanceof S||(w.completer&&(w.completer.destroy(),w.completer=null),r.get("sharedPopups")?(S.$sharedInstance||(S.$sharedInstance=new S),w.completer=S.$sharedInstance):(w.completer=new S,w.once("destroy",o))),w.completer},S})();d.prototype.commands={Up:function(S){S.completer.goTo("up")},Down:function(S){S.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(S){S.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(S){S.completer.goTo("end")},Esc:function(S){S.completer.detach()},Return:function(S){return S.completer.insertMatch()},"Shift-Return":function(S){S.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(S){var w=S.completer.insertMatch();if(!w&&!S.tabstopManager)S.completer.goTo("down");else return w},Backspace:function(S){S.execCommand("backspace");var w=u.getCompletionPrefix(S);!w&&S.completer&&S.completer.detach()},PageUp:function(S){S.completer.popup.gotoPageUp()},PageDown:function(S){S.completer.popup.gotoPageDown()}},d.startCommand={name:"startAutocomplete",exec:function(S,w){var b=d.for(S);b.autoInsert=!1,b.autoSelect=!0,b.autoShown=!1,b.showPopup(S,w),b.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var g=(function(){function S(w){this.initialPosition=w,this.active=!0}return S.prototype.insertByIndex=function(w,b,k){return!this.completions||!this.completions.filtered?!1:this.insertMatch(w,this.completions.filtered[b],k)},S.prototype.insertMatch=function(w,b,k){if(!b)return!1;if(w.startOperation({command:{name:"insertMatch"}}),b.completer&&b.completer.insertMatch)b.completer.insertMatch(w,b);else{if(!this.completions)return!1;var A=this.completions.filterText.length,T=0;if(b.range&&b.range.start.row===b.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-b.range.start.column,T+=b.range.end.column-this.initialPosition.pos.column),A||T){var j;w.selection.getAllRanges?j=w.selection.getAllRanges():j=[w.getSelectionRange()];for(var F=0,$;$=j[F];F++)$.start.column-=A,$.end.column+=T,w.session.remove($)}b.snippet?i.insertSnippet(w,b.snippet):this.$insertString(w,b),b.completer&&b.completer.onInsert&&typeof b.completer.onInsert=="function"&&b.completer.onInsert(w,b),b.command&&b.command==="startAutocomplete"&&w.execCommand(b.command)}return w.endOperation(),!0},S.prototype.$insertString=function(w,b){var k=b.value||b;w.execCommand("insertstring",k)},S.prototype.gatherCompletions=function(w,b){var k=w.getSession(),A=w.getCursorPosition(),T=u.getCompletionPrefix(w),j=[];this.completers=w.completers;var F=w.completers.length;return w.completers.forEach(function($,D){$.getCompletions(w,k,A,T,function(M,L){$.hideInlinePreview&&(L=L.map(function(O){return Object.assign(O,{hideInlinePreview:$.hideInlinePreview})})),!M&&L&&(j=j.concat(L)),b(null,{prefix:u.getCompletionPrefix(w),matches:j,finished:--F===0})})}),!0},S.prototype.provideCompletions=function(w,b,k){var A=(function($){var D=$.prefix,M=$.matches;this.completions=new x(M),b.exactMatch&&(this.completions.exactMatch=!0),b.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(D),($.finished||this.completions.filtered.length)&&k(null,this.completions,$.finished)}).bind(this),T=!0,j=null;if(this.gatherCompletions(w,(function($,D){if(this.active){$&&(k($,[],!0),this.detach());var M=D.prefix;if(M.indexOf(D.prefix)===0){if(T){j=D;return}A(D)}}}).bind(this)),T=!1,j){var F=j;j=null,A(F)}},S.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(w){typeof w.cancel=="function"&&w.cancel()})},S})(),x=(function(){function S(w,b){this.all=w,this.filtered=w,this.filterText=b||"",this.exactMatch=!1,this.ignoreCaption=!1}return S.prototype.setFilter=function(w){if(w.length>this.filterText&&w.lastIndexOf(this.filterText,0)===0)var b=this.filtered;else var b=this.all;this.filterText=w,b=this.filterCompletions(b,this.filterText),b=b.sort(function(A,T){return T.exactMatch-A.exactMatch||T.$score-A.$score||(A.caption||A.value).localeCompare(T.caption||T.value)});var k=null;b=b.filter(function(A){var T=A.snippet||A.caption||A.value;return T===k?!1:(k=T,!0)}),this.filtered=b},S.prototype.filterCompletions=function(w,b){var k=[],A=b.toUpperCase(),T=b.toLowerCase();e:for(var j=0,F;F=w[j];j++){if(F.skipFilter){F.$score=F.score,k.push(F);continue}var $=!this.ignoreCaption&&F.caption||F.value||F.snippet;if($){var D=-1,M=0,L=0,O,z;if(this.exactMatch){if(b!==$.substr(0,b.length))continue e}else{var B=$.toLowerCase().indexOf(T);if(B>-1)L=B;else for(var P=0;P<b.length;P++){var U=$.indexOf(T[P],D+1),W=$.indexOf(A[P],D+1);if(O=U>=0&&(W<0||U<W)?U:W,O<0)continue e;z=O-D-1,z>0&&(D===-1&&(L+=10),L+=z,M=M|1<<P),D=O}}F.matchMask=M,F.exactMatch=L?0:1,F.$score=(F.score||0)-L,k.push(F)}}return k},S})();v.Autocomplete=d,v.CompletionProvider=g,v.FilteredList=x}),ace.define("ace/marker_group",["require","exports","module"],function(m,v,R){var E=(function(){function y(f,a){a&&(this.markerType=a.markerType),this.markers=[],this.session=f,f.addDynamicMarker(this)}return y.prototype.getMarkerAtPosition=function(f){return this.markers.find(function(a){return a.range.contains(f.row,f.column)})},y.prototype.markersComparator=function(f,a){return f.range.start.row-a.range.start.row},y.prototype.setMarkers=function(f){this.markers=f.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},y.prototype.update=function(f,a,u,s){if(!(!this.markers||!this.markers.length))for(var n=s.firstRow,i=s.lastRow,r,l=0,h=0,o=0;o<this.markers.length;o++){var d=this.markers[o];if(!(d.range.end.row<n)&&!(d.range.start.row>i)&&(d.range.start.row===h?l++:(h=d.range.start.row,l=0),!(l>200))){var g=d.range.clipRows(n,i);if(!(g.start.row===g.end.row&&g.start.column===g.end.column)){var x=g.toScreenRange(u);if(x.isEmpty()){r=u.getNextFoldLine(g.end.row,r),r&&r.end.row>g.end.row&&(n=r.end.row);continue}this.markerType==="fullLine"?a.drawFullLineMarker(f,x,d.className,s):x.isMultiLine()?this.markerType==="line"?a.drawMultiLineMarker(f,x,d.className,s):a.drawTextMarker(f,x,d.className,s):a.drawSingleLineMarker(f,x,d.className+" ace_br15",s)}}}},y})();E.prototype.MAX_MARKERS=1e4,v.MarkerGroup=E}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function f(u,s){var n=u.getTextRange(E.fromPoints({row:0,column:0},s));return n.split(y).length-1}function a(u,s){var n=f(u,s),i=u.getValue().split(y),r=Object.create(null),l=i[n];return i.forEach(function(h,o){if(!(!h||h===l)){var d=Math.abs(n-o),g=i.length-d;r[h]?r[h]=Math.max(g,r[h]):r[h]=g}}),r}v.getCompletions=function(u,s,n,i,r){var l=a(s,n),h=Object.keys(l);r(null,h.map(function(o){return{caption:o,value:o,score:l[o],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(m,v,R){var E=m("../snippets").snippetManager,y=m("../autocomplete").Autocomplete,f=m("../config"),a=m("../lib/lang"),u=m("../autocomplete/util"),s=m("../marker_group").MarkerGroup,n=m("../autocomplete/text_completer"),i={getCompletions:function(T,j,F,$,D){if(j.$mode.completer)return j.$mode.completer.getCompletions(T,j,F,$,D);var M=T.session.getState(F.row),L=j.$mode.getCompletions(M,j,F,$);L=L.map(function(O){return O.completerId=i.id,O}),D(null,L)},id:"keywordCompleter"},r=function(T){var j={};return T.replace(/\${(\d+)(:(.*?))?}/g,function(F,$,D,M){return j[$]=M||""}).replace(/\$(\d+?)/g,function(F,$){return j[$]})},l={getCompletions:function(T,j,F,$,D){var M=[],L=j.getTokenAt(F.row,F.column);L&&L.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?M.push("html-tag"):M=E.getActiveScopes(T);var O=E.snippetMap,z=[];M.forEach(function(B){for(var P=O[B]||[],U=P.length;U--;){var W=P[U],K=W.name||W.tabTrigger;K&&z.push({caption:K,snippet:W.content,meta:W.tabTrigger&&!W.name?W.tabTrigger+" ":"snippet",completerId:l.id})}},this),D(null,z)},getDocTooltip:function(T){T.snippet&&!T.docHTML&&(T.docHTML=["<b>",a.escapeHTML(T.caption),"</b>","<hr></hr>",a.escapeHTML(r(T.snippet))].join(""))},id:"snippetCompleter"},h=[l,n,i];v.setCompleters=function(T){h.length=0,T&&h.push.apply(h,T)},v.addCompleter=function(T){h.push(T)},v.textCompleter=n,v.keyWordCompleter=i,v.snippetCompleter=l;var o={name:"expandSnippet",exec:function(T){return E.expandWithTab(T)},bindKey:"Tab"},d=function(T,j){g(j.session.$mode)},g=function(T){typeof T=="string"&&(T=f.$modes[T]),T&&(E.files||(E.files={}),x(T.$id,T.snippetFileId),T.modes&&T.modes.forEach(g))},x=function(T,j){!j||!T||E.files[T]||(E.files[T]={},f.loadModule(j,function(F){F&&(E.files[T]=F,!F.snippets&&F.snippetText&&(F.snippets=E.parseSnippetFile(F.snippetText)),E.register(F.snippets||[],F.scope),F.includeScopes&&(E.snippetMap[F.scope].includeScopes=F.includeScopes,F.includeScopes.forEach(function($){g("ace/mode/"+$)})))}))},S=function(T){var j=T.editor,F=j.completer&&j.completer.activated;if(T.command.name==="backspace")F&&!u.getCompletionPrefix(j)&&j.completer.detach();else if(T.command.name==="insertstring"&&!F){w=T;var $=T.editor.$liveAutocompletionDelay;$?b.delay($):k(T)}},w,b=a.delayedCall(function(){k(w)},0),k=function(T){var j=T.editor,F=u.getCompletionPrefix(j),$=T.args,D=u.triggerAutocomplete(j,$);if(F&&F.length>=j.$liveAutocompletionThreshold||D){var M=y.for(j);M.autoShown=!0,M.showPopup(j)}},A=m("../editor").Editor;m("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(T){T?(y.for(this),this.completers||(this.completers=Array.isArray(T)?T:h),this.commands.addCommand(y.startCommand)):this.commands.removeCommand(y.startCommand)},value:!1},enableLiveAutocompletion:{set:function(T){T?(this.completers||(this.completers=Array.isArray(T)?T:h),this.commands.on("afterExec",S)):this.commands.off("afterExec",S)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(T){T?(this.commands.addCommand(o),this.on("changeMode",d),d(null,this)):(this.commands.removeCommand(o),this.off("changeMode",d))},value:!1}}),v.MarkerGroup=s}),(function(){ace.require(["ace/ext/language_tools"],function(m){c&&(c.exports=m)})})()})(id)),id.exports}ww();pd.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/");function Cc({value:c="",onChange:_,mode:m="json",theme:v="monokai",readOnly:R=!1,height:E="100%",width:y="100%",className:f,wrapperClassName:a,transparent:u=!1,diffMarkers:s,onSave:n,rightClickMenu:i,contextMenuComponent:r}){const[l,h]=ne.useState(!1),[o]=ne.useState(()=>`ace-editor-${Math.random()}`),d=ne.useRef(null),g=ne.useRef([]),[x,S]=ne.useState(null),w=ne.useRef(null);return ne.useEffect(()=>{const b=k=>{w.current&&!w.current.contains(k.target)&&S(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),ne.useEffect(()=>{if(!d.current||!s)return;const k=d.current.editor.getSession();g.current.forEach(A=>{k.removeMarker(A)}),g.current=[],s.added.forEach(A=>{const T=pd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-added","fullLine",!0);g.current.push(F)}),s.modified.forEach(A=>{const T=pd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-modified","fullLine",!0);g.current.push(F)})},[s]),ne.useEffect(()=>{if(!d.current||!i&&!r)return;const b=d.current.editor,k=b.container,A=T=>{T.preventDefault();const{clientX:j,clientY:F}=T,$=b.renderer.screenToTextCoordinates(j,F);if(i){const D=b.getSelectedText(),M=b.getSelectionRange(),L=D?{startLine:M.start.row+1,endLine:M.end.row+1}:void 0;i($.row+1,$.column,D,L)}r&&S({x:j,y:F})};return k.addEventListener("contextmenu",A),()=>{k.removeEventListener("contextmenu",A)}},[i,r]),N.jsxs("div",{className:`h-full w-full ${a||""}`,children:[N.jsx("style",{children:`
                    .ace-diff-added {
                        position: absolute;
                        background-color: rgba(46, 160, 67, 0.25) !important;
                        border-left: 3px solid #2ea043 !important;
                    }
                    .ace-diff-modified {
                        position: absolute;
                        background-color: rgba(255, 166, 0, 0.2) !important;
                        border-left: 3px solid #ffa600 !important;
                    }
                `}),u&&N.jsx("style",{children:`
                        #${o.replace(/\./g,"\\.")} {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_gutter {
                            background-color: transparent !important;
                            color: #8F908A; /* Monokai gutter text color preserved, modify if needed */
                        }
                        #${o.replace(/\./g,"\\.")} .ace_scroller {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_marker-layer .ace_active-line {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_gutter-active-line {
                            background-color: transparent !important;
                        }
                    `}),r&&x&&N.jsx("div",{ref:w,style:{position:"fixed",top:x.y,left:x.x,zIndex:9999},children:r}),N.jsx(gw,{ref:d,mode:m,theme:v,onChange:_,value:c,name:o,commands:[{name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:()=>{n&&n()}}],editorProps:{$blockScrolling:!0},onFocus:()=>h(!0),onBlur:()=>h(!1),setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,showPrintMargin:!1,tabSize:2,useWorker:!1,fontFamily:"monospace",fontSize:14,highlightActiveLine:l},height:E,width:y,className:f,readOnly:R,style:u?{backgroundColor:"transparent"}:void 0})]})}function pv(){const c=De.use.body(),_=De.use.setBody();return N.jsxs("div",{className:"flex-1 flex flex-col min-h-0 gap-2",children:[N.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Request Body"}),N.jsx("div",{className:"flex-1 min-h-0",children:N.jsx(Cc,{transparent:!0,value:c,onChange:_})})]})}function Sw({onMinimize:c}){const _=De.use.expectedOutput(),m=ne.useRef(null),[v,R]=ne.useState("");ne.useEffect(()=>{E(_)},[_]);const E=y=>{try{let f="";typeof y=="object"?f=JSON.stringify(y,null,2):f=String(y);let a=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a=a.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),a=a.replace(/([{}\[\],])/g,u=>`<span class="text-gray-500">${u}</span>`),R(a)}catch{R("Invalid output")}};return N.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[N.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[N.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[N.jsx("i",{className:"fa fa-circle-info text-sm"}),"Expected Response"]}),N.jsx("button",{className:"px-2 py-1 bg-gray-700 rounded-md text-gray-300 text-sm",onClick:c,children:N.jsx("i",{className:"fa fa-minus"})})]}),N.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:N.jsx("pre",{ref:m,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",dangerouslySetInnerHTML:{__html:v}})})]})}function Cw({isOpen:c,onClose:_}){const{crudData:m,currentCategoryIndex:v,currentCrudIndex:R,useDevURL:E,params:y,method:f,header:a,body:u}=De();if(!c||v===-1||R===-1)return null;const s=m[v].items[R],i=`${E?m[v].devurl:m[v].produrl}${s.route}${y?`?${y}`:""}`;let r="";if(f==="STREAM")r=`const url = "${i}";

const response = await fetch(url, {
  method: "GET",
  headers: ${a}
});

if (!response.body) throw new Error("No response body");

const reader = response.body.getReader();
const decoder = new TextDecoder("utf-8");

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  const chunk = decoder.decode(value, { stream: true });
  console.log(chunk);
}`;else{const l=f!=="GET";let h=`{
  method: "${f}",
  headers: ${a}`;if(l){let o=u;try{o=JSON.stringify(JSON.parse(u),null,2).replace(/\n/g,`
  `),h+=`,
  body: JSON.stringify(${o})`}catch{h+=`,
  body: ${JSON.stringify(u)}`}}h+=`
}`,r=`const url = "${i}";
        
const response = await fetch(url, ${h});

const data = await response.json();
console.log(data);`}return N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-[#111111] border border-white/10 rounded-xl w-full max-w-3xl flex flex-col h-[70vh]",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[N.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-code text-blue-400"}),"Code Example"]}),N.jsx("button",{onClick:_,className:"text-gray-400 hover:text-white transition-colors",children:N.jsx("i",{className:"fas fa-times"})})]}),N.jsx("div",{className:"flex-1 overflow-hidden p-1 relative",children:N.jsx(Cc,{value:r,mode:"javascript",theme:"monokai",readOnly:!0,transparent:!0})}),N.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>{navigator.clipboard.writeText(r),alert("Code copied to clipboard!")},className:"px-4 py-2 rounded-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20",children:"Copy Code"}),N.jsx("button",{onClick:_,className:"px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Close"})]})]})})}function gv(){const c=De.use.output(),_=ne.useRef(null),[m,v]=ne.useState(""),[R,E]=ne.useState(!1);ne.useEffect(()=>{y(c)},[c]);const y=u=>{try{let s=u;if(typeof u=="string")try{s=JSON.parse(u)}catch{}let n="",i=!1;typeof s=="object"&&s!==null?(n=JSON.stringify(s,null,2),i=!0):n=String(s);let r=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");i&&(r=r.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),r=r.replace(/([{}\[\],])/g,l=>`<span class="text-gray-500">${l}</span>`)),v(r)}catch{v("Invalid output")}},f=()=>{const u=JSON.stringify(c,null,2);localStorage.setItem("crud-output-last",u),alert("Output saved to LocalStorage")},a=()=>{const u=localStorage.getItem("crud-output-last");if(u)try{const s=JSON.parse(u);y(s)}catch{y(u)}else alert("No saved output found")};return N.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[N.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[N.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-terminal text-sm"}),"Response"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:f,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Save to LocalStorage",children:N.jsx("i",{className:"fas fa-save"})}),N.jsx("button",{onClick:a,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Load from LocalStorage",children:N.jsx("i",{className:"fas fa-upload"})}),N.jsx("button",{onClick:()=>E(!0),className:"p-1 text-md text-blue-500 hover:text-blue-400 transition-colors flex items-center gap-1",children:N.jsx("i",{className:"fas fa-code"})})]})]}),N.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:N.jsx("pre",{ref:_,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",style:{lineHeight:"1.1"},dangerouslySetInnerHTML:{__html:m}})}),N.jsx(Cw,{isOpen:R,onClose:()=>E(!1)})]})}function mv(){const c=De.use.header(),_=De.use.setHeader();return N.jsxs("div",{className:"h-[30%] flex flex-col overflow-hidden gap-2",children:[N.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Header"}),N.jsx("div",{className:"flex-1 min-h-0",children:N.jsx(Cc,{value:c,onChange:_,transparent:!0})})]})}function Ew(){const c=De.use.useDevURL(),_=De.use.setUseDevURL(),m=De.use.params(),v=De.use.method(),R=De.use.crudData(),E=De.use.currentCategoryIndex(),y=De.use.currentCrudIndex();return N.jsxs("header",{className:"h-16 flex items-center px-4 gap-6 mb-4",children:[N.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>_(!0),className:`${c?"bg-gradient-to-r from-blue-600 to-blue-500":""} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:R[E].devurl,children:"Dev"}),N.jsx("button",{onClick:()=>_(!1),className:`${c?"":"bg-gradient-to-r from-blue-600 to-blue-500"} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:R[E].produrl,children:"Prod"})]}),N.jsx("div",{className:"h-12 w-px bg-white/10"}),N.jsxs("div",{className:" flex flex-col  gap-1",children:[N.jsxs("div",{className:"flex flex-start justify-start gap-2 overflow-hidden",children:[N.jsx("span",{className:"font-mono text-md font-bold text-blue-400 bg-blue-500/10 border border-blue-500/20 px-2 rounded",children:v}),N.jsx("span",{className:"text-gray-500 font-mono text-md",children:`${c?R[E].devurl:R[E].produrl}${R[E].items[y].route}${m?encodeURI(m.startsWith("?")?m:`?${m}`):""}`})]}),N.jsxs("div",{className:"flex items-baseline gap-2 overflow-hidden",children:[N.jsx("span",{className:" text-xs font-bold text-blue-400 ",children:R[E].items[y].label}),N.jsx("span",{className:"text-gray-500 text-sm",children:R[E].items[y].description})]})]})]})}function Aw(){const c=De.use.params(),_=De.use.setParams(),m=De.use.sendRequest(),v=De.use.crudData(),R=De.use.currentCategoryIndex(),E=De.use.currentCrudIndex(),y=De.use.setBody(),f=De.use.executionTime(),a=De.use.isFetching(),u=De.use.requestStartTime(),[s,n]=ne.useState(0),[i,r]=ne.useState(!1),h=(R!==-1&&E!==-1?v[R]?.items[E]:null)?.suggested||[],o=d=>{d.content&&y(d.content),d.urlparams&&_(d.urlparams),r(!1)};return ne.useEffect(()=>{let d;const g=()=>{a?(n(Date.now()-u),d=requestAnimationFrame(g)):n(f)};return a?g():n(f),()=>{d&&cancelAnimationFrame(d)}},[a,u,f]),N.jsx("div",{className:"flex flex-col gap-5 px-4",children:N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("button",{className:"group relative px-6 py-2 rounded-xl font-bold text-xs tracking-wide text-white overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-lg shadow-blue-600/20 flex-none h-10 flex items-center gap-2",onClick:m,children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-400"}),N.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),N.jsx("span",{className:"relative z-10",children:"SEND REQUEST"}),N.jsx("i",{className:"fas fa-paper-plane relative z-10"})]}),h.length>0&&N.jsxs("div",{className:"relative",children:[N.jsxs("button",{className:"bg-black/40 border border-white/5 hover:bg-white/5 active:scale-95 transition-all rounded-xl px-4 h-10 flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-white",onClick:()=>r(!i),children:[N.jsx("i",{className:"fas fa-list-ul"}),"Presets",N.jsx("i",{className:`fas fa-chevron-down transition-transform ${i?"rotate-180":""}`})]}),i&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),N.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-fade-in-up",children:N.jsx("div",{className:"py-1",children:h.map((d,g)=>N.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/5 transition-colors flex items-center gap-2",onClick:()=>o(d),children:[N.jsx("i",{className:"fas fa-bolt text-blue-400 text-xs"}),d.name]},g))})})]})]}),N.jsx("div",{className:"flex-none bg-black/40 border border-white/5 rounded-xl px-4 h-10 flex items-center gap-3",children:N.jsxs("span",{className:"text-green-400 font-mono font-bold text-sm",children:[s," ms"]})}),N.jsx("div",{className:"group rounded-lg transition-all duration-300 w-full mr-4 lg:mr-12",children:N.jsx("div",{className:`p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-500/40 
                    group-focus-within:to-blue-400/40
                    transition-colors duration-300`,children:N.jsxs("div",{className:"bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:"fas fa-code-branch text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm"})}),N.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:"Query Params (e.g. ?id=123)",value:c,onChange:d=>{_(d.target.value)}})]})})})]})})}function kw(){const c=De.use.currentCategoryIndex(),_=De.use.currentCrudIndex(),[m,v]=ne.useState(!1);return c===-1||_===-1?N.jsxs("div",{id:"crud-empty-state",className:"relative z-10 flex-1 flex items-center justify-center text-gray-600 flex-col gap-6 opacity-60 select-none animate-pulse",children:[N.jsx("div",{className:"w-32 h-32 rounded-full bg-white/5 flex items-center justify-center",children:N.jsx("i",{className:"fas fa-rocket text-6xl text-gray-700"})}),N.jsx("p",{className:"text-xl font-medium tracking-tight",children:"Select an endpoint to start testing"})]}):N.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[N.jsx(Ew,{}),N.jsx(Aw,{}),m?N.jsxs("div",{className:"flex flex-row flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[N.jsxs("div",{className:"w-[32%] flex flex-col gap-4",children:[N.jsx(mv,{}),N.jsx(pv,{})]}),N.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:N.jsx(gv,{})}),N.jsx("div",{className:"w-[32px] flex flex-col",children:N.jsx("button",{onClick:()=>v(!1),className:"w-6 h-6 rounded-md bg-gray-700 text-gray-300 flex items-center justify-center hover:bg-gray-600 transition-colors",children:N.jsx("i",{className:"fa fa-chevron-right"})})})]}):N.jsxs("div",{className:"grid grid-cols-3 flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[N.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[N.jsx(mv,{}),N.jsx(pv,{})]}),N.jsx("div",{className:"col-span-1 overflow-hidden",children:N.jsx(gv,{})}),N.jsx("div",{className:"col-span-1 overflow-hidden transition-all duration-300 ease-in-out",children:N.jsx(Sw,{onMinimize:()=>v(!0)})})]})]})}function rd({label:c,placeholder:_,value:m,onChange:v,rows:R=4}){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:c}),N.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:N.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300`,children:N.jsx("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:N.jsx("textarea",{className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none resize-none",rows:R,placeholder:_,value:m,onChange:E=>{v(E)}})})})})]})}function Tw({isOpen:c,onClose:_,categoryIndex:m,itemIndex:v}){const R=De.use.crudData(),E=De.use.setCrudData(),y=De.use.currentCategoryIndex(),f=De.use.currentCrudIndex(),a=De.use.setCurrentCrudIndex(),[u,s]=ne.useState(""),[n,i]=ne.useState(""),[r,l]=ne.useState(""),[h,o]=ne.useState(""),[d,g]=ne.useState(""),[x,S]=ne.useState(""),[w,b]=ne.useState([]);ne.useEffect(()=>{if(c){if(v===-1)s(""),i(""),l("GET"),o(""),g("{}"),S(""),b([]);else if(R[m]&&R[m].items[v]){const $=R[m].items[v];s($.label),i($.route),l($.methods),o($.description),g($.sampleInput),S($.expectedOutcome),b($.suggested||[])}}},[c,R,m,v]);const k=()=>{const $=[...R],D={label:u,route:n,methods:r,description:h,sampleInput:d,expectedOutcome:x,suggested:w};if(v===-1)$[m].items||($[m].items=[]),$[m].items.push(D);else{const M=$[m].items[v];$[m].items[v]={...M,...D}}E($),_()},A=()=>{const $=[...R];$[m]&&$[m].items&&($[m].items.splice(v,1),m===y&&(v===f?a(-1):v<f&&a(f-1)),E($),_())},T=()=>{b([...w,{name:"New Preset",urlparams:"",content:"{}"}])},j=($,D,M)=>{const L=[...w];L[$]={...L[$],[D]:M},b(L)},F=$=>{const D=[...w];D.splice($,1),b(D)};return c?N.jsxs($n,{width:"800px",children:[N.jsx(Dn,{title:v===-1?"Add New Item":"Edit CRUD Item",description:v===-1?"Add a new item":"Edit an existing item",icon:v===-1?"fas fa-plus":"fas fa-edit",close:_}),N.jsxs("div",{className:"p-4 flex-1 flex flex-col gap-3 max-h-[60vh] overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Label",icon:"fas fa-info",placeholder:"Name for the route",value:u,onChange:$=>s($.target.value)}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) Description",value:h,onChange:$=>o($.target.value)})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Route",icon:"fas fa-info",placeholder:"/mytest",value:n,onChange:$=>i($.target.value)}),N.jsx(rn,{label:"Method",icon:"fas fa-info",placeholder:"GET | POST | DELETE | PUT",value:r,onChange:$=>l($.target.value)})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rd,{label:"Sample Input",placeholder:"{}",value:d,onChange:$=>g($.target.value),rows:5}),N.jsx(rd,{label:"Expected Outcome",placeholder:"{}",value:x,onChange:$=>S($.target.value),rows:5})]}),N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Suggested Presets"}),N.jsxs("div",{className:"space-y-3",children:[w.map(($,D)=>N.jsxs("div",{className:"flex flex-row gap-3",children:[N.jsxs("div",{className:"w-[50%] flex flex-col gap-2",children:[N.jsxs("div",{className:"flex flex-row gap-2",children:[N.jsx(rn,{label:"Preset Name",icon:"fas fa-info",placeholder:"Preset Name",value:$.name,onChange:M=>j(D,"name",M.target.value)}),N.jsx("button",{onClick:()=>F(D),className:"text-red-400 hover:text-red-300 px-2",children:N.jsx("i",{className:"pt-6 fas fa-trash"})})]}),N.jsx(rn,{label:"URL Params",icon:"fas fa-info",placeholder:"URL Params",value:$.urlparams,onChange:M=>j(D,"urlparams",M.target.value)})]}),N.jsx("div",{className:"w-[50%]",children:N.jsx(rd,{label:"Body Content",placeholder:"{}",value:$.content,onChange:M=>j(D,"content",M.target.value),rows:5})})]},D)),N.jsx("button",{onClick:T,className:"w-full py-2 bg-white/5 border border-dashed border-white/20 rounded-lg text-xs text-gray-400 hover:text-white hover:bg-white/10 transition-colors",children:"+ Add Preset"})]})]})]}),N.jsxs("footer",{className:"mt-2 mb-4 flex justify-between px-4",children:[m!==-1?N.jsxs("button",{onClick:A,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):N.jsx("div",{}),N.jsxs("div",{className:"flex gap-6",children:[N.jsxs("button",{onClick:_,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Ji,{onClick:k,text:"Save",icon:"fas fa-save"})]})]})]}):null}function Mw({isOpen:c,onClose:_,categoryIndex:m}){const v=De.use.crudData(),R=De.use.setCrudData(),E=De.use.currentCategoryIndex(),y=De.use.setCurrentCategoryIndex(),f=De.use.setCurrentCrudIndex(),[a,u]=ne.useState(""),[s,n]=ne.useState("http://localhost:3000"),[i,r]=ne.useState("");ne.useEffect(()=>{if(c){if(m===-1)u(""),n("http://localhost:3000"),r("");else if(v[m]){const o=v[m];u(o.category),n(o.devurl),r(o.produrl)}}},[c,v,m]);const l=()=>{const o=[...v];if(m===-1){const d={category:a,devurl:s,produrl:i,items:[]};o.push(d)}else o[m]={...o[m],category:a,devurl:s,produrl:i};R(o),_()},h=()=>{const o=[...v];o.splice(m,1),m===E?(y(-1),f(-1)):m<E&&y(E-1),R(o),_()};return c?N.jsxs($n,{children:[N.jsx(Dn,{title:m===-1?"Add New Category":"Edit Category",description:m===-1?"Add a new category":"Edit an existing category",icon:m===-1?"fas fa-plus":"fas fa-edit",close:_}),N.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsx(rn,{label:"Category",icon:"fas fa-info",placeholder:"Category Name",value:a,onChange:o=>{u(o.target.value)}}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Dev URL",icon:"fas fa-info",placeholder:"Dev URL",value:s,onChange:o=>n(o.target.value)}),N.jsx(rn,{label:"Prod URL",icon:"fas fa-info",placeholder:"Prod URL",value:i,onChange:o=>r(o.target.value)})]})]}),N.jsxs("footer",{className:"mt-4 flex justify-between px-4",children:[m!==-1?N.jsxs("button",{onClick:h,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):N.jsx("div",{}),N.jsxs("div",{className:"flex gap-6",children:[N.jsxs("button",{onClick:_,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Ji,{onClick:l,text:"Save",icon:"fas fa-save"})]})]})]})]}):null}function Lw(){const c=De.use.crudData(),_=De.use.currentCategoryIndex(),m=De.use.currentCrudIndex(),v=De.use.setCurrentCategoryIndex(),R=De.use.setCurrentCrudIndex(),E=De.use.setMethod(),y=De.use.setParams(),f=De.use.setBody(),a=De.use.setExpectedOutput(),[u,s]=ne.useState({0:!1}),[n,i]=ne.useState({isOpen:!1,categoryIndex:0,itemIndex:0}),[r,l]=ne.useState({isOpen:!1,categoryIndex:-1}),h=d=>{s(g=>({...g,[d]:!g[d]}))},o=(d,g,x)=>{v(d),R(g),E(x.methods),y(""),f(x.sampleInput||""),a(x.expectedOutcome||"")};return N.jsxs("div",{className:"w-full flex flex-col pb-12",children:[c.map((d,g)=>N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("button",{onClick:()=>h(g),className:"px-3 flex items-center justify-between py-1 bg-gradient-to-br hover:from-blue-600 hover:to-blue-400 from-blue-600/5 to-blue-400/5 rounded-lg transition-colors group mb-1",children:[N.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider group-hover:text-white transition-colors",children:d.category}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{onClick:x=>{x.stopPropagation(),l({isOpen:!0,categoryIndex:g})},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/10 rounded transition-all text-white",children:N.jsx("i",{className:"fas fa-pen text-[10px]"})}),N.jsx("i",{className:`fas fa-chevron-down text-[10px] text-gray-600 transition-transform duration-200 ${u[g]?"rotate-180":""}`})]})]}),u[g]&&N.jsxs("div",{className:"flex flex-col pl-2",children:[d.items.map((x,S)=>{const w=g===_&&S===m;return N.jsxs("div",{className:`group relative flex items-center justify-between px-2 rounded-lg cursor-pointer transition-all border border-transparent
                                            ${w?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}`,onClick:()=>o(g,S,x),children:[N.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[N.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded shrink-0 ${x.methods==="GET"?"bg-green-500/20 text-green-400":x.methods==="POST"?"bg-blue-500/20 text-blue-400":x.methods==="PUT"?"bg-orange-500/20 text-orange-400":x.methods==="DELETE"?"bg-red-500/20 text-red-400":"bg-purple-500/20 text-purple-400"}`,children:x.methods}),N.jsx("span",{className:`text-sm font-medium truncate transition-colors ${w?"text-white":"text-gray-300 group-hover:text-white"}`,children:x.label})]}),N.jsx("button",{onClick:b=>{b.stopPropagation(),i({isOpen:!0,categoryIndex:g,itemIndex:S})},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-md hover:bg-white/10 text-white hover:text-white transition-all",title:"Edit Item",children:N.jsx("i",{className:"fas fa-pen text-xs"})})]},S)}),N.jsxs("button",{onClick:()=>i({isOpen:!0,categoryIndex:g,itemIndex:-1}),className:"w-full py-1 mt-1 text-xs text-gray-500 hover:text-white transition-all flex gap-2",children:[N.jsx("i",{className:"fas fa-plus"}),"Add Route"]})]})]},g)),N.jsxs("button",{onClick:()=>l({isOpen:!0,categoryIndex:-1}),className:"w-full py-2 hover:border-white/20 text-xs font-bold text-gray-500 hover:text-white transition-all flex gap-2",children:[N.jsx("i",{className:"fas fa-folder-plus group-hover:scale-110 transition-transform"}),"Add Category"]}),N.jsx(Tw,{isOpen:n.isOpen,onClose:()=>i(d=>({...d,isOpen:!1})),categoryIndex:n.categoryIndex,itemIndex:n.itemIndex}),N.jsx(Mw,{isOpen:r.isOpen,onClose:()=>l(d=>({...d,isOpen:!1})),categoryIndex:r.categoryIndex})]})}function Rw(){return N.jsxs("div",{className:"w-[340px] h-full flex-none  flex flex-col z-20",children:[N.jsxs("div",{className:"h-14 px-4 flex-none flex items-center justify-between ",children:[N.jsxs("span",{className:"text-xs font-bold uppercase text-blue-400 tracking-widest flex items-center gap-2",children:[N.jsx("i",{className:"fa-solid fa-circle-nodes"}),"Simple CRUD Test"]}),N.jsx("button",{className:"text-gray-500 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-lg",children:N.jsx("i",{className:"fas fa-sync-alt text-xs"})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto px-3 custom-scrollbar",children:N.jsx(Lw,{})})]})}function Nw(){const c=Xe.use.initMonorepoTime(),_=De.use.loadCrudData();return N.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center text-gray-400 gap-8 p-4 animate-fade-in top-20",children:[N.jsx("div",{className:"flex flex-col items-center gap-4 text-center",children:N.jsxs("div",{className:"space-y-2",children:[N.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:"Initialize CRUD Tester"}),N.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["A ",N.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-blue-300 font-mono text-xs",children:"monorepotime.json"})," file is required to start testing and documenting your API routes."]})]})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-4xl",children:[N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fas fa-user-slash"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"No Sign-up"}),N.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"No accounts or logins needed. Your data stays on your machine."})]})]}),N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center text-purple-400",children:N.jsx("i",{className:"fas fa-save"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"Local Storage"}),N.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Everything is saved locally in ",N.jsx("span",{className:"text-purple-300",children:"monorepotime.json"})," within your project root."]})]})]}),N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-400",children:N.jsx("i",{className:"fas fa-book-open"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"Live Documentation"}),N.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Perfect for documenting and sharing API route configurations with your team."})]})]})]}),N.jsx("div",{className:"w-full max-w-sm mt-4",children:N.jsx(os,{name:"Create Configuration File",description:"Initialize /root/monorepotime.json",icon:"fa-plus",color:"blueIndigo",onClick:async()=>{await c(),await _()},className:""})})]})}function $w(c){const _=De.use.noData(),m=De.use.loadCrudData();return ne.useEffect(()=>{c.isVisible&&m()},[c.isVisible]),_&&c.isVisible?N.jsx(Nw,{}):N.jsxs("div",{className:`flex h-full w-full ${c.isVisible?"block":"hidden"}`,children:[N.jsx(Rw,{}),N.jsx("div",{id:"crud-main-content",className:"px-2 flex-1 flex flex-col relative overflow-hidden",children:N.jsx(kw,{})})]})}function Dw({isOpen:c,setIsOpen:_}){return c?N.jsxs("div",{onClick:()=>_(!1),className:"fixed inset-0 z-[999999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:[N.jsxs("div",{onClick:m=>m.stopPropagation(),className:"w-full max-w-4xl bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn relative flex flex-col md:flex-row",children:[N.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center text-center justify-center border-b md:border-b-0 md:border-r border-white/10",children:[N.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-400 rounded-2xl mb-6 shadow-lg shadow-blue-500/20",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-14 h-14"})}),N.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Monorepo",N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-200",children:" Time"})]}),N.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed max-w-sm",children:"The ultimate tool for managing your monorepos with speed and style. Streamline your workflow, visualize dependencies, and execute commands effortlessly."}),N.jsxs("a",{href:"https://buymeacoffee.com/angheloamir",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-[#FFDD00] text-black font-bold rounded-full overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(255,221,0,0.4)] hover:bg-[#ffe233]",children:[N.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"}),N.jsx("i",{className:"fas fa-coffee text-xl transition-transform duration-300 group-hover:rotate-12"}),N.jsx("span",{className:"relative",children:"Buy me a coffee"})]})]}),N.jsxs("div",{className:"w-full md:w-80 bg-white/5 p-8 flex flex-col justify-center border-t md:border-t-0 md:border-l border-white/10",children:[N.jsxs("p",{className:"text-sm text-gray-500 mb-6 leading-relaxed",children:[N.jsx("span",{className:"text-white font-medium",children:"Disclaimer:"})," Not affiliated with the projects below. We simply love these tools and provide templates to help you use them."]}),N.jsxs("div",{className:"mb-6",children:[N.jsx("h3",{className:"text-xs text-blue-400 uppercase tracking-widest font-bold mb-3",children:"Powered By"}),N.jsx(un,{name:"OpenCode",url:"https://opencode.ai"}),N.jsx(un,{name:"Turborepo",url:"https://turbo.build/repo"}),N.jsx(un,{name:"Cloudflare",url:"https://www.cloudflare.com"})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xs text-green-400 uppercase tracking-widest font-bold mb-3",children:"Integrated Templates"}),N.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.jsx(un,{name:"n8n",url:"https://n8n.io"}),N.jsx(un,{name:"LocalStack",url:"https://localstack.cloud"}),N.jsx(un,{name:"DrawDB",url:"https://drawdb.vercel.app"}),N.jsx(un,{name:"Penpot",url:"https://penpot.app"}),N.jsx(un,{name:"Mattermost",url:"https://mattermost.com"}),N.jsx(un,{name:"Nextcloud",url:"https://nextcloud.com"}),N.jsx(un,{name:"Mautic",url:"https://www.mautic.org"}),N.jsx(un,{name:"Odoo",url:"https://www.odoo.com"}),N.jsx(un,{name:"GNS3",url:"https://www.gns3.com"}),N.jsx(un,{name:"Metabase",url:"https://www.metabase.com"}),N.jsx(un,{name:"EzBookkeeping",url:"https://github.com/mayswind/ezbookkeeping"}),N.jsx(un,{name:"Peppermint",url:"https://peppermint.sh"}),N.jsx(un,{name:"Prometheus & Grafana",url:"https://grafana.com"})]})]})]})]}),N.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                @keyframes shimmer { from { transform: translateX(-100%); } to { transform: translateX(100%); } }
                .animate-fadeIn { animation: fadeIn 0.2s ease-out forwards; }
                .animate-scaleIn { animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
            `})]}):null}function un({name:c,url:_}){return N.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between group p-2 rounded-lg hover:bg-white/5 transition-colors",children:[N.jsx("span",{className:"text-sm text-gray-400 group-hover:text-white transition-colors",children:c}),N.jsx("i",{className:"fas fa-external-link-alt text-xs text-gray-600 group-hover:text-blue-400 transition-colors opacity-0 group-hover:opacity-100"})]})}function Ow(c){const _=ne.useRef(null),m=Xe.use.rootDir(),v=zt.use.showModal(),[R,E]=ne.useState(!1);async function y(){v("prompt","Port to expose","Enter the port number to expose with Cloudflare's tunnel","success",u=>{u&&_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>{E(!1)}),_.current.onCrash(()=>{E(!1)}),E(!0),_.current.connect(m,`cloudflared tunnel --url http://localhost:${u}`),_.current.fit())})}function f(){_.current&&(_.current.clear(),_.current.disconnect(),_.current.connect(m,"cloudflared -v"),_.current.fit())}function a(){_.current&&(_.current.disconnect(),E(!1))}return N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${c.isVisible?"flex":"hidden"}`,children:[N.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px]  flex-none h-full flex flex-col overflow-hidden",children:N.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:[N.jsxs(fc,{title:"Tunnel (via Cloudflare)",description:"Commands",contentClassName:"flex flex-col py-2 px-6",children:[N.jsx(dc,{onClick:y,name:"Generate Tunnel",description:"cloudflared tunnel",color:"blueIndigo",icon:"fas fa-cloud",disabled:R}),N.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["* This app support only one tunnel at a time",N.jsx("br",{}),"** Closing the browser, refeshing the page, or starting a new tunnel will close the previous tunnel.",N.jsx("br",{}),"*** ",N.jsx("b",{className:"text-white",children:"Not affiliated with Cloudflare"}),". Use only for ",N.jsx("b",{className:"text-white",children:"testing purposes"}),". I am not responsible for any issues caused by using this feature. It is a bad idea to use this feature in production as Cloudflare can close the tunnel at any time without any warning.",N.jsx("br",{})]})]}),N.jsx(fc,{title:"Setup Cloudflare Tunnel",description:"",contentClassName:"flex py-2 px-6",children:N.jsxs("p",{className:"text-gray-400 text-sm",children:["Before a tunnel service is created, download and install Cloudflare's CLI tool on your machine.",N.jsx("br",{}),N.jsx("br",{}),N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Quick Tunnel"}),N.jsx("br",{}),N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Downloads"}),N.jsx("br",{}),N.jsx("br",{}),"Click the button below to check the version of cloudflare installed on your machine. If the version is not found, it means cloudflare is not installed on your machine.",N.jsx("br",{}),N.jsx("br",{}),N.jsx(dc,{onClick:f,name:"Check Cloudflare Version",description:"cloudflared -v",color:"skyBlue",icon:"fas fa-cloud"})]})})]})}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsxs(Rd,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:a,isRunning:R,children:["Generate tunnel service with",N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Free Tier"}),"tunnel service"]}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(gs,{ref:_,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{E(!1)},onCrash:()=>{E(!1)}})})]})]})}const jw=[{title:"Port Management",commands:[{label:"Show Open Ports",displayCmd:"ss -tlnp",cmd:"ss -tlnp",cmdWindow:"netstat -an",cmdMac:"lsof -PiTCP -sTCP:LISTEN",icon:"fa-door-open",color:"emeraldTeal",description:"List all listening TCP ports and processes"},{label:"Close Port",displayCmd:"kill process",cmd:"npx -y kill-port {{input}}",cmdWindow:"npx -y kill-port {{input}}",cmdMac:"npx -y kill-port {{input}}",icon:"fa-skull",color:"red",requiresInput:!0,inputLabel:"Port to Close",inputPlaceholder:"e.g., 8080",confirmMessage:"Are you sure you want to kill the process on this port?"},{label:"Test TCP Port",displayCmd:"nc -zv",cmd:"nc -zv {{input}}",cmdWindow:`powershell -Command "Test-NetConnection -ComputerName ({{input}} -replace ' .*$', '') -Port ({{input}} -replace '^.* ', '')"`,cmdMac:"nc -zv {{input}}",icon:"fa-network-wired",color:"blueIndigo",requiresInput:!0,confirmMessage:"Enter hostname and port (e.g., google.com 80)",inputLabel:"Host Port",inputPlaceholder:"google.com 80"},{label:"Curl w/ Timing",displayCmd:"curl -v",cmd:"curl -v --connect-timeout 5 {{input}}",cmdWindow:"curl -v --connect-timeout 5 {{input}}",cmdMac:"curl -v --connect-timeout 5 {{input}}",icon:"fa-stopwatch",color:"blueIndigo",requiresInput:!0,inputLabel:"URL",inputPlaceholder:"google.com"},{label:"Who Owns Port",displayCmd:"fuser/lsof",cmd:"fuser -n tcp {{input}} -v",cmdWindow:"netstat -ano | findstr :{{input}}",cmdMac:"lsof -i :{{input}}",icon:"fa-user-secret",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Port Number",inputPlaceholder:"8080"}]},{title:"Docker Management",commands:[{label:"Containers",displayCmd:"docker ps",cmd:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdWindow:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdMac:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',icon:"fa-box",color:"cyanBlue"},{label:"Gateway IPs",displayCmd:"docker network gateways",cmd:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,cmdWindow:'docker network inspect $(docker network ls -q) --format "{{printf \\"%-25s\\" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}"',cmdMac:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,icon:"fa-network-wired",color:"emeraldTeal"},{label:"Images",displayCmd:"docker images",cmd:"docker images",cmdWindow:"docker images",cmdMac:"docker images",icon:"fa-compact-disc",color:"indigoFuchsia"},{label:"Prune",displayCmd:"docker system prune",cmd:"docker system prune -f",cmdWindow:"docker system prune -f",cmdMac:"docker system prune -f",icon:"fa-trash-alt",color:"red",description:"Remove unused data (force)"},{label:"Delete Image",displayCmd:"docker rmi",cmd:"docker rmi {{input}}",cmdWindow:"docker rmi {{input}}",cmdMac:"docker rmi {{input}}",icon:"fa-trash-alt",color:"red",requiresInput:!0,inputLabel:"Image ID or Name",inputPlaceholder:"e.g. my-image:latest",confirmMessage:"Are you sure you want to delete this image?"},{label:"Prune Networks",displayCmd:"docker network prune",cmd:"docker network prune -f",cmdWindow:"docker network prune -f",cmdMac:"docker network prune -f",icon:"fa-trash-alt",color:"yellowOrange",confirmMessage:'Remove all unused local networks? This fixes many "network not found" errors.'}]},{title:"Docker Debugging",commands:[{label:"Ping Container",displayCmd:"docker exec ping",cmd:"docker exec {{input}} ping -c 3 8.8.8.8",cmdWindow:"docker exec {{input}} ping -c 3 8.8.8.8",cmdMac:"docker exec {{input}} ping -c 3 8.8.8.8",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Networks",displayCmd:"docker network ls",cmd:"docker network ls",cmdWindow:"docker network ls",cmdMac:"docker network ls",icon:"fa-sitemap",color:"emeraldTeal"},{label:"Log Container",displayCmd:"docker logs",cmd:"docker logs {{input}} --tail 50",cmdWindow:"docker logs {{input}} --tail 50",cmdMac:"docker logs {{input}} --tail 50",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Docker Events",displayCmd:"docker events",cmd:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -d @$t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,cmdWindow:'docker events --since 10m --filter "event!=exec_create" --filter "event!=exec_start" --filter "event!=exec_die" --filter "event!=top" --format "table {{.Time}}	{{.Type}}	{{.Action}}	{{.Actor.Attributes.name}}	{{.Actor.Attributes.exitCode}}"',cmdMac:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -r $t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,icon:"fa-history",color:"gray"},{label:"Inspect",displayCmd:"docker network inspect",cmd:"docker network inspect {{input}}",cmdWindow:"docker network inspect {{input}}",cmdMac:"docker network inspect {{input}}",icon:"fa-globe",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Health Check",displayCmd:"docker inspect health",cmd:"docker inspect --format='{{.State.Health.Status}}' {{input}}",cmdWindow:'docker inspect --format="{{.State.Health.Status}}" {{input}}',cmdMac:"docker inspect --format='{{.State.Health.Status}}' {{input}}",icon:"fa-heartbeat",color:"pinkRose",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Container IP",displayCmd:"docker inspect IP",cmd:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",cmdWindow:'docker inspect -f "{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}" {{input}}',cmdMac:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",icon:"fa-fingerprint",color:"skyBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Service Connect Test",displayCmd:"docker exec curl",cmd:"docker exec {{input}} curl -I",cmdWindow:"docker exec {{input}} curl -I",cmdMac:"docker exec {{input}} curl -I",icon:"fa-plug",color:"pinkRose",requiresInput:!0,confirmMessage:"Enter container name followed by target URL (e.g. my-app http://db:5432)",inputLabel:"Container + URL",inputPlaceholder:"my-container http://target:80"}]},{title:"Network Troubleshooting",commands:[{label:"Reset DNA",displayCmd:"restart NetworkManager",cmd:"sudo systemctl restart NetworkManager",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo killall -HUP mDNSResponder",icon:"fa-sync",color:"red",description:"Restart Network Manager"},{label:"Flush DNS",displayCmd:"resolvectl/ipconfig",cmd:"sudo resolvectl flush-caches || sudo systemd-resolve --flush-caches",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder",icon:"fa-eraser",color:"red"},{label:"Release/Renew IP",displayCmd:"dhclient -r",cmd:"sudo dhclient -r && sudo dhclient",cmdWindow:"ipconfig /release && ipconfig /renew",cmdMac:"sudo ipconfig set en0 DHCP",icon:"fa-sync-alt",color:"red",confirmMessage:"This will briefly disconnect your internet connection. Continue?"}]}];function Iw(c){const _=ne.useRef(null),m=Xe.use.rootDir(),[v,R]=ne.useState(!1),E=zt.use.showModal();ne.useEffect(()=>()=>{_.current&&_.current.disconnect()},[]);function y(s){_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>R(!1)),_.current.onCrash(()=>R(!1)),R(!0),_.current.connect(m,s),_.current.fit())}function f(s){const n=window.navigator.userAgent.toLowerCase();return n.includes("win")&&s.cmdWindow?s.cmdWindow:n.includes("mac")&&s.cmdMac?s.cmdMac:s.cmd}function a(s){s.requiresInput?E("prompt",s.label,s.confirmMessage??"","warning",n=>{if(n){const i=n.trim();if(!i&&!s.cmd.includes("docker stats")&&!s.inputPlaceholder?.includes("Optional"))return;let r=f(s).replace("{{input}}",i);y(r)}},null,s.inputPlaceholder):y(f(s))}function u(){_.current?.disconnect(),R(!1)}return N.jsx(N.Fragment,{children:N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${c.isVisible?"flex":"hidden"}`,children:[N.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:N.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:jw.map(s=>N.jsx(fc,{title:s.title,description:"",children:s.commands.length>0&&s.commands.map(n=>N.jsx(dc,{onClick:()=>a(n),name:n.label,description:n.displayCmd,color:n.color,icon:n.icon,disabled:v},n.label))},s.title))})}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsx(Rd,{title:"Terminal Output",description:"Real-time command execution results",icon:"fas fa-terminal",handleStop:u,isRunning:v,children:N.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:N.jsx("span",{children:"Results will appear here automatically"})})}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(gs,{ref:_,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{R(!1)},onCrash:()=>{R(!1)}})})]})]})})}const Bw=Zn()((c,_)=>({loading:!1,history:[],branch:"",branches:[],commitMessage:"",selectedCommit:null,commitLoading:!1,setLoading:m=>c({loading:m}),setCommitMessage:m=>c({commitMessage:m}),setSelectedCommit:m=>c({selectedCommit:m}),fetchData:async()=>{c({loading:!0});try{const[m,v,R]=await Promise.all([fetch(`${Ne.serverPath}${Oe.gitControl}/history`),fetch(`${Ne.serverPath}${Oe.gitControl}/branch`),fetch(`${Ne.serverPath}${Oe.gitControl}/branches`)]),E=await m.json(),y=await v.json(),f=await R.json();c({history:E.history||[],branch:y.branch||"",branches:f.branches||[]})}catch(m){console.error("Failed to fetch git data",m)}finally{c({loading:!1})}},checkoutBranch:async m=>{c({loading:!0});try{const R=await(await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})})).json();return R.error?(c({loading:!1}),R.error):(await _().fetchData(),c({loading:!1}),null)}catch(v){return c({loading:!1}),v}},createBranch:async m=>{c({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to create branch")}finally{c({loading:!1})}},deleteBranch:async m=>{c({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to delete branch")}finally{c({loading:!1})}},mergeBranch:async m=>{if(confirm(`Are you sure you want to merge ${m} into current branch?`)){c({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to merge branch")}finally{c({loading:!1})}}},handleCommit:async m=>{m&&m.preventDefault();const{commitMessage:v}=_();if(v.trim()){c({commitLoading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v})}),c({commitMessage:""}),c({loading:!0}),await _().fetchData()}catch(R){console.error("Failed to commit and push",R),alert("Failed to commit and push")}finally{c({commitLoading:!1}),c({loading:!1})}}},handleRevert:async()=>{const{selectedCommit:m}=_();if(m){c({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hash:m.hash})}),c({selectedCommit:null}),await _().fetchData()}catch(v){console.error("Failed to revert",v),alert("Failed to revert")}finally{c({loading:!1})}}}})),Ft=Qn(Bw);function Hw(){const c=Ft.use.loading(),_=Ft.use.history(),m=Ft.use.commitLoading(),v=Ft.use.setSelectedCommit();return N.jsx("div",{className:"overflow-y-auto p-2 space-y-2 custom-scrollbar",children:c?N.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[N.jsx("i",{className:"fas fa-circle-notch fa-spin"}),N.jsx("span",{className:"text-xs",children:"Loading history..."})]}):_.map(R=>N.jsxs("button",{disabled:m,onClick:()=>v(R),className:`
                            w-full text-left group flex flex-col gap-1 p-2
                            rounded 
                            bg-gradient-to-r hover:from-blue-500/50 hover:to-blue-300/50
                            transition-all duration-200
                        `,children:[N.jsxs("div",{className:"flex items-start justify-between gap-4",children:[N.jsx("span",{className:"text-sm text-white font-medium ",children:R.message}),N.jsx("span",{className:"text-[12px] font-mono text-white px-1.5 py-0.5 border border-white/7",children:R.hash})]}),N.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[N.jsx("i",{className:"far fa-clock"}),N.jsx("span",{children:R.date})]})]},R.hash))})}function zw(){const c=Ft.use.commitMessage(),_=Ft.use.loading(),m=Ft.use.commitLoading(),v=Ft.use.handleCommit(),R=Ft.use.setCommitMessage(),E=Xe.use.setShowGit(),y=ne.useRef(null);return ne.useEffect(()=>{y.current?.focus()},[]),N.jsx("div",{className:"",children:N.jsxs("form",{onSubmit:async f=>{await v(f),E(!1)},className:"flex gap-2",children:[N.jsx("input",{ref:y,type:"text",value:c,onChange:f=>R(f.target.value),disabled:m,placeholder:"Commit message & push",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),m?N.jsx("button",{type:"button",disabled:!0,className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:N.jsx("i",{className:"fas fa-spinner animate-spin text-xl text-blue-500"})}):N.jsx("button",{type:"submit",disabled:_||m||!c.trim(),className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:N.jsx("i",{className:"fas fa-paper-plane text-xl text-blue-500 "})})]})})}function Fw(){const c=Ft.use.commitLoading(),_=Ft.use.branches(),m=Ft.use.checkoutBranch(),v=Ft.use.createBranch(),R=Ft.use.deleteBranch(),E=zt.use.showModal(),[y,f]=ne.useState(""),[a,u]=ne.useState(!1),s=async()=>{y.trim()&&(await v(y),f(""),u(!1))},n=async r=>{r!="master"?E("prompt","Delete Branch",`Delete this branch ${r} pernamently? Enter the branch name to confirm.`,"warning",l=>{l==r&&R(r)}):E("alert","Error","Master branch cannot be deleted!","error")},i=async r=>{E("confirm",`Move to ${r}`,`Move to branch ${r}?`,"warning",async l=>{if(l){const h=await m(r);h&&E("alert","Error",h,"error")}})};return N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Branches"}),N.jsx("button",{onClick:()=>u(!a),className:"w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add Branch",children:N.jsx("i",{className:"fas fa-plus text-xs"})})]}),a&&N.jsxs("div",{className:"p-2 border-b border-white/10 animate-fadeIn",children:[N.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Create New Branch and then Checkout"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:y,onChange:r=>f(r.target.value),placeholder:"new branch name",className:"w-full bg-black/40 border border-white/10 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-blue-500",onKeyDown:r=>r.key==="Enter"&&s(),autoFocus:!0}),N.jsx("button",{disabled:c,onClick:s,className:"bg-blue-600 text-white px-2 rounded hover:bg-blue-500",children:N.jsx("i",{className:"fas fa-check text-xs"})})]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:[_.map((r,l)=>N.jsxs("div",{className:`
                            group flex items-center justify-between p-2 rounded cursor-pointer transition-colors
                            ${r.isCurrent?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}
                        `,children:[N.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",onClick:()=>!r.isCurrent&&i(r.name),title:r.isCurrent?"Current Branch":"Switch to "+r.name,children:[N.jsx("i",{className:`fas fa-code-branch text-xs ${r.isCurrent?"text-blue-400":"text-gray-500"}`}),N.jsx("span",{className:`text-sm truncate ${r.isCurrent?"text-blue-100 font-medium":"text-gray-400 group-hover:text-gray-200"}`,children:r.name})]}),!r.isCurrent&&N.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:N.jsx("button",{disabled:c,onClick:h=>{h.stopPropagation(),n(r.name)},className:"w-5 h-5 flex items-center justify-center rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400",title:"Delete branch",children:N.jsx("i",{className:"fas fa-trash text-[10px]"})})})]},l)),_.length===0&&N.jsx("div",{className:"text-gray-600 text-xs text-center py-4",children:"No branches found"})]})]})}function Pw(){const c=Ft.use.selectedCommit(),_=Ft.use.setSelectedCommit(),m=Ft.use.handleRevert();return N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:N.jsx("div",{className:"w-full max-w-md bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn",children:N.jsxs("div",{className:"p-6",children:[N.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:N.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-xl"})}),N.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Revert Changes?"}),N.jsxs("p",{className:"text-gray-400 text-center text-sm leading-relaxed mb-6",children:["Are you sure you want to revert to commit ",N.jsx("span",{className:"font-mono text-white bg-white/10 px-1 py-0.5 rounded",children:c?.hash}),"?",N.jsx("br",{}),N.jsx("span",{className:"text-red-400 text-xs mt-2 block",children:"Warning: This will discard all current uncommitted changes."})]}),N.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6 border border-white/5",children:N.jsxs("p",{className:"text-gray-300 text-xs font-mono line-clamp-2",children:['"',c?.message,'"']})}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 rounded-lg bg-white/5 text-gray-300 text-sm font-medium hover:bg-white/10 hover:text-white transition-colors",children:"Cancel"}),N.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-500 shadow-lg shadow-red-500/20 transition-all",children:"Confirm Revert"})]})]})})})}const Ww=Zn()(c=>({showStash:!1,stashList:[],stashCount:0,setShowStash:_=>c({showStash:_}),loadGitStashList:async()=>{const m=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/list`)).json();m.length>0?c({stashCount:m.length}):c({stashCount:0}),c({stashList:m})},addGitStash:async _=>{const v=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:_})})).json();c({stashList:v})},revertGitStash:async _=>{const v=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:_})})).json();c({stashList:v})},clearGitStash:async()=>{await fetch(`${Ne.serverPath}${Oe.gitStash}/clear`),c({stashList:[]})}})),ls=Qn(Ww);function Uw(){const c=zt.use.showModal(),_=ls.use.loadGitStashList(),m=ls.use.addGitStash(),v=ls.use.revertGitStash(),R=ls.use.clearGitStash(),E=ls.use.stashList(),[y,f]=ne.useState(""),[a,u]=ne.useState(!1);async function s(r){c("confirm",`Revert to "${r}"?`,"This will stash your current changes and apply the selected stash. Your current work will be saved as a backup.","warning",async l=>{l&&(u(!0),await v(r),await _(),u(!1))})}async function n(){c("confirm","Clear all stashes?","This will permanently remove all stash entries. This action cannot be undone.","warning",async r=>{r&&(u(!0),await R(),await _(),u(!1))})}async function i(){y.trim()&&(u(!0),await m(y.trim()),await _(),f(""),u(!1))}return N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Git Stash"}),E.length>0&&N.jsxs("button",{onClick:n,disabled:a,className:"text-xs text-red-400/60 hover:text-red-400 transition-colors disabled:opacity-30",title:"Clear all stashes",children:[N.jsx("i",{className:"fa-solid fa-trash-can mr-1"}),"Clear"]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto",children:E.length===0?N.jsxs("div",{className:"px-3 py-5 text-center",children:[N.jsx("i",{className:"fa-regular fa-folder-open text-white text-lg mb-2 block"}),N.jsx("p",{className:"text-xs text-white",children:"No stash entries"})]}):N.jsx("div",{className:"py-1",children:E.map((r,l)=>N.jsxs("button",{onClick:()=>s(r),disabled:a,className:"w-full flex items-center gap-2 px-3 py-1.5 text-left hover:bg-white/5 transition-colors group disabled:opacity-30",children:[N.jsx("i",{className:"fa-solid fa-code-branch text-xs text-blue-400/40 group-hover:text-blue-400 transition-colors"}),N.jsx("span",{className:"flex-1 text-xs text-white transition-colors truncate",children:r}),N.jsx("i",{className:"fa-solid fa-rotate-left text-xs text-white/0 group-hover:text-white transition-colors"})]},l))})}),N.jsxs("div",{className:"mt-auto flex gap-1 p-2",children:[N.jsx("input",{type:"text",value:y,onChange:r=>f(r.target.value),disabled:a,placeholder:"Checkpoint name...",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),N.jsx("button",{onClick:()=>i(),className:"w-8 h-8 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add stash",children:N.jsx("i",{className:"fas fa-plus text-xs"})})]})]})}function Vw(){const c=Ft.use.fetchData(),_=Ft.use.selectedCommit(),m=Xe.use.showGit(),v=Xe.use.setShowGit(),R=Ft.use.commitLoading();return ne.useEffect(()=>{m&&c()},[m]),m?N.jsxs($n,{width:"1000px",children:[N.jsx(Dn,{title:"Git Panel",description:"Manage your repository, branches, and commits.",close:()=>v(!1)}),N.jsxs("div",{className:"flex h-[500px]","aria-disabled":R,children:[N.jsx("div",{className:"w-[250px] flex-shrink-0",children:N.jsx(Fw,{})}),N.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[N.jsx("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Your Commit History"})}),N.jsx("div",{className:"flex-1 overflow-y-auto p-0 relative",children:N.jsx(Hw,{})}),N.jsx("div",{className:"p-2",children:N.jsx(zw,{})})]}),N.jsx("div",{className:"w-[300px] flex-shrink-0",children:N.jsx(Uw,{})})]}),_&&N.jsx(Pw,{})]}):null}const Gw=[{type:"agent",label:"Researcher",icon:"",description:"Gathers information and context."},{type:"agent",label:"Coder",icon:"",description:"Writes and modifies code."},{type:"agent",label:"Reviewer",icon:"",description:"Reviews code and suggestions."},{type:"agent",label:"Writer",icon:"",description:"Writes documentation and content."},{type:"agent",label:"Planner",icon:"",description:"Creates plans and steps."}];function Kw(){const c=(_,m)=>{_.dataTransfer.setData("application/reactflow",JSON.stringify(m)),_.dataTransfer.effectAllowed="move"};return N.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 border-r border-zinc-800 p-4",children:[N.jsx("h2",{className:"text-zinc-100 font-bold mb-4 text-sm uppercase tracking-wider",children:"Available Agents"}),N.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto",children:Gw.map(_=>N.jsx("div",{className:"p-3 bg-zinc-800 border border-zinc-700 rounded cursor-grab hover:bg-zinc-700 hover:border-zinc-600 transition-all shadow-sm group",onDragStart:m=>c(m,_),draggable:!0,children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform block",children:_.icon}),N.jsxs("div",{children:[N.jsx("div",{className:"text-zinc-200 font-medium text-sm",children:_.label}),N.jsx("div",{className:"text-zinc-500 text-xs",children:_.description})]})]})},_.label))}),N.jsx("div",{className:"mt-auto pt-4 border-t border-zinc-800 text-xs text-zinc-500",children:"Drag and drop agents onto the workflow canvas."})]})}function Jn(c){if(typeof c=="string"||typeof c=="number")return""+c;let _="";if(Array.isArray(c))for(let m=0,v;m<c.length;m++)(v=Jn(c[m]))!==""&&(_+=(_&&" ")+v);else for(let m in c)c[m]&&(_+=(_&&" ")+m);return _}const{useDebugValue:Yw}=_e,{useSyncExternalStoreWithSelector:Xw}=l0,qw=c=>c;function m0(c,_=qw,m){const v=Xw(c.subscribe,c.getState,c.getServerState||c.getInitialState,_,m);return Yw(v),v}const vv=(c,_)=>{const m=a0(c),v=(R,E=_)=>m0(m,R,E);return Object.assign(v,m),v},Zw=(c,_)=>c?vv(c,_):vv;function wn(c,_){if(Object.is(c,_))return!0;if(typeof c!="object"||c===null||typeof _!="object"||_===null)return!1;if(c instanceof Map&&_ instanceof Map){if(c.size!==_.size)return!1;for(const[v,R]of c)if(!Object.is(R,_.get(v)))return!1;return!0}if(c instanceof Set&&_ instanceof Set){if(c.size!==_.size)return!1;for(const v of c)if(!_.has(v))return!1;return!0}const m=Object.keys(c);if(m.length!==Object.keys(_).length)return!1;for(const v of m)if(!Object.prototype.hasOwnProperty.call(_,v)||!Object.is(c[v],_[v]))return!1;return!0}var Qw={value:()=>{}};function Ec(){for(var c=0,_=arguments.length,m={},v;c<_;++c){if(!(v=arguments[c]+"")||v in m||/[\s.]/.test(v))throw new Error("illegal type: "+v);m[v]=[]}return new ac(m)}function ac(c){this._=c}function Jw(c,_){return c.trim().split(/^|\s+/).map(function(m){var v="",R=m.indexOf(".");if(R>=0&&(v=m.slice(R+1),m=m.slice(0,R)),m&&!_.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:v}})}ac.prototype=Ec.prototype={constructor:ac,on:function(c,_){var m=this._,v=Jw(c+"",m),R,E=-1,y=v.length;if(arguments.length<2){for(;++E<y;)if((R=(c=v[E]).type)&&(R=eS(m[R],c.name)))return R;return}if(_!=null&&typeof _!="function")throw new Error("invalid callback: "+_);for(;++E<y;)if(R=(c=v[E]).type)m[R]=yv(m[R],c.name,_);else if(_==null)for(R in m)m[R]=yv(m[R],c.name,null);return this},copy:function(){var c={},_=this._;for(var m in _)c[m]=_[m].slice();return new ac(c)},call:function(c,_){if((R=arguments.length-2)>0)for(var m=new Array(R),v=0,R,E;v<R;++v)m[v]=arguments[v+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(E=this._[c],v=0,R=E.length;v<R;++v)E[v].value.apply(_,m)},apply:function(c,_,m){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var v=this._[c],R=0,E=v.length;R<E;++R)v[R].value.apply(_,m)}};function eS(c,_){for(var m=0,v=c.length,R;m<v;++m)if((R=c[m]).name===_)return R.value}function yv(c,_,m){for(var v=0,R=c.length;v<R;++v)if(c[v].name===_){c[v]=Qw,c=c.slice(0,v).concat(c.slice(v+1));break}return m!=null&&c.push({name:_,value:m}),c}var gd="http://www.w3.org/1999/xhtml";const bv={svg:"http://www.w3.org/2000/svg",xhtml:gd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ac(c){var _=c+="",m=_.indexOf(":");return m>=0&&(_=c.slice(0,m))!=="xmlns"&&(c=c.slice(m+1)),bv.hasOwnProperty(_)?{space:bv[_],local:c}:c}function tS(c){return function(){var _=this.ownerDocument,m=this.namespaceURI;return m===gd&&_.documentElement.namespaceURI===gd?_.createElement(c):_.createElementNS(m,c)}}function nS(c){return function(){return this.ownerDocument.createElementNS(c.space,c.local)}}function v0(c){var _=Ac(c);return(_.local?nS:tS)(_)}function iS(){}function $d(c){return c==null?iS:function(){return this.querySelector(c)}}function rS(c){typeof c!="function"&&(c=$d(c));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=new Array(y),a,u,s=0;s<y;++s)(a=E[s])&&(u=c.call(a,a.__data__,s,E))&&("__data__"in a&&(u.__data__=a.__data__),f[s]=u);return new Nn(v,this._parents)}function sS(c){return c==null?[]:Array.isArray(c)?c:Array.from(c)}function oS(){return[]}function y0(c){return c==null?oS:function(){return this.querySelectorAll(c)}}function aS(c){return function(){return sS(c.apply(this,arguments))}}function lS(c){typeof c=="function"?c=aS(c):c=y0(c);for(var _=this._groups,m=_.length,v=[],R=[],E=0;E<m;++E)for(var y=_[E],f=y.length,a,u=0;u<f;++u)(a=y[u])&&(v.push(c.call(a,a.__data__,u,y)),R.push(a));return new Nn(v,R)}function b0(c){return function(){return this.matches(c)}}function _0(c){return function(_){return _.matches(c)}}var cS=Array.prototype.find;function uS(c){return function(){return cS.call(this.children,c)}}function hS(){return this.firstElementChild}function dS(c){return this.select(c==null?hS:uS(typeof c=="function"?c:_0(c)))}var fS=Array.prototype.filter;function pS(){return Array.from(this.children)}function gS(c){return function(){return fS.call(this.children,c)}}function mS(c){return this.selectAll(c==null?pS:gS(typeof c=="function"?c:_0(c)))}function vS(c){typeof c!="function"&&(c=b0(c));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=[],a,u=0;u<y;++u)(a=E[u])&&c.call(a,a.__data__,u,E)&&f.push(a);return new Nn(v,this._parents)}function x0(c){return new Array(c.length)}function yS(){return new Nn(this._enter||this._groups.map(x0),this._parents)}function pc(c,_){this.ownerDocument=c.ownerDocument,this.namespaceURI=c.namespaceURI,this._next=null,this._parent=c,this.__data__=_}pc.prototype={constructor:pc,appendChild:function(c){return this._parent.insertBefore(c,this._next)},insertBefore:function(c,_){return this._parent.insertBefore(c,_)},querySelector:function(c){return this._parent.querySelector(c)},querySelectorAll:function(c){return this._parent.querySelectorAll(c)}};function bS(c){return function(){return c}}function _S(c,_,m,v,R,E){for(var y=0,f,a=_.length,u=E.length;y<u;++y)(f=_[y])?(f.__data__=E[y],v[y]=f):m[y]=new pc(c,E[y]);for(;y<a;++y)(f=_[y])&&(R[y]=f)}function xS(c,_,m,v,R,E,y){var f,a,u=new Map,s=_.length,n=E.length,i=new Array(s),r;for(f=0;f<s;++f)(a=_[f])&&(i[f]=r=y.call(a,a.__data__,f,_)+"",u.has(r)?R[f]=a:u.set(r,a));for(f=0;f<n;++f)r=y.call(c,E[f],f,E)+"",(a=u.get(r))?(v[f]=a,a.__data__=E[f],u.delete(r)):m[f]=new pc(c,E[f]);for(f=0;f<s;++f)(a=_[f])&&u.get(i[f])===a&&(R[f]=a)}function wS(c){return c.__data__}function SS(c,_){if(!arguments.length)return Array.from(this,wS);var m=_?xS:_S,v=this._parents,R=this._groups;typeof c!="function"&&(c=bS(c));for(var E=R.length,y=new Array(E),f=new Array(E),a=new Array(E),u=0;u<E;++u){var s=v[u],n=R[u],i=n.length,r=CS(c.call(s,s&&s.__data__,u,v)),l=r.length,h=f[u]=new Array(l),o=y[u]=new Array(l),d=a[u]=new Array(i);m(s,n,h,o,d,r,_);for(var g=0,x=0,S,w;g<l;++g)if(S=h[g]){for(g>=x&&(x=g+1);!(w=o[x])&&++x<l;);S._next=w||null}}return y=new Nn(y,v),y._enter=f,y._exit=a,y}function CS(c){return typeof c=="object"&&"length"in c?c:Array.from(c)}function ES(){return new Nn(this._exit||this._groups.map(x0),this._parents)}function AS(c,_,m){var v=this.enter(),R=this,E=this.exit();return typeof c=="function"?(v=c(v),v&&(v=v.selection())):v=v.append(c+""),_!=null&&(R=_(R),R&&(R=R.selection())),m==null?E.remove():m(E),v&&R?v.merge(R).order():R}function kS(c){for(var _=c.selection?c.selection():c,m=this._groups,v=_._groups,R=m.length,E=v.length,y=Math.min(R,E),f=new Array(R),a=0;a<y;++a)for(var u=m[a],s=v[a],n=u.length,i=f[a]=new Array(n),r,l=0;l<n;++l)(r=u[l]||s[l])&&(i[l]=r);for(;a<R;++a)f[a]=m[a];return new Nn(f,this._parents)}function TS(){for(var c=this._groups,_=-1,m=c.length;++_<m;)for(var v=c[_],R=v.length-1,E=v[R],y;--R>=0;)(y=v[R])&&(E&&y.compareDocumentPosition(E)^4&&E.parentNode.insertBefore(y,E),E=y);return this}function MS(c){c||(c=LS);function _(n,i){return n&&i?c(n.__data__,i.__data__):!n-!i}for(var m=this._groups,v=m.length,R=new Array(v),E=0;E<v;++E){for(var y=m[E],f=y.length,a=R[E]=new Array(f),u,s=0;s<f;++s)(u=y[s])&&(a[s]=u);a.sort(_)}return new Nn(R,this._parents).order()}function LS(c,_){return c<_?-1:c>_?1:c>=_?0:NaN}function RS(){var c=arguments[0];return arguments[0]=this,c.apply(null,arguments),this}function NS(){return Array.from(this)}function $S(){for(var c=this._groups,_=0,m=c.length;_<m;++_)for(var v=c[_],R=0,E=v.length;R<E;++R){var y=v[R];if(y)return y}return null}function DS(){let c=0;for(const _ of this)++c;return c}function OS(){return!this.node()}function jS(c){for(var _=this._groups,m=0,v=_.length;m<v;++m)for(var R=_[m],E=0,y=R.length,f;E<y;++E)(f=R[E])&&c.call(f,f.__data__,E,R);return this}function IS(c){return function(){this.removeAttribute(c)}}function BS(c){return function(){this.removeAttributeNS(c.space,c.local)}}function HS(c,_){return function(){this.setAttribute(c,_)}}function zS(c,_){return function(){this.setAttributeNS(c.space,c.local,_)}}function FS(c,_){return function(){var m=_.apply(this,arguments);m==null?this.removeAttribute(c):this.setAttribute(c,m)}}function PS(c,_){return function(){var m=_.apply(this,arguments);m==null?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,m)}}function WS(c,_){var m=Ac(c);if(arguments.length<2){var v=this.node();return m.local?v.getAttributeNS(m.space,m.local):v.getAttribute(m)}return this.each((_==null?m.local?BS:IS:typeof _=="function"?m.local?PS:FS:m.local?zS:HS)(m,_))}function w0(c){return c.ownerDocument&&c.ownerDocument.defaultView||c.document&&c||c.defaultView}function US(c){return function(){this.style.removeProperty(c)}}function VS(c,_,m){return function(){this.style.setProperty(c,_,m)}}function GS(c,_,m){return function(){var v=_.apply(this,arguments);v==null?this.style.removeProperty(c):this.style.setProperty(c,v,m)}}function KS(c,_,m){return arguments.length>1?this.each((_==null?US:typeof _=="function"?GS:VS)(c,_,m??"")):So(this.node(),c)}function So(c,_){return c.style.getPropertyValue(_)||w0(c).getComputedStyle(c,null).getPropertyValue(_)}function YS(c){return function(){delete this[c]}}function XS(c,_){return function(){this[c]=_}}function qS(c,_){return function(){var m=_.apply(this,arguments);m==null?delete this[c]:this[c]=m}}function ZS(c,_){return arguments.length>1?this.each((_==null?YS:typeof _=="function"?qS:XS)(c,_)):this.node()[c]}function S0(c){return c.trim().split(/^|\s+/)}function Dd(c){return c.classList||new C0(c)}function C0(c){this._node=c,this._names=S0(c.getAttribute("class")||"")}C0.prototype={add:function(c){var _=this._names.indexOf(c);_<0&&(this._names.push(c),this._node.setAttribute("class",this._names.join(" ")))},remove:function(c){var _=this._names.indexOf(c);_>=0&&(this._names.splice(_,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(c){return this._names.indexOf(c)>=0}};function E0(c,_){for(var m=Dd(c),v=-1,R=_.length;++v<R;)m.add(_[v])}function A0(c,_){for(var m=Dd(c),v=-1,R=_.length;++v<R;)m.remove(_[v])}function QS(c){return function(){E0(this,c)}}function JS(c){return function(){A0(this,c)}}function eC(c,_){return function(){(_.apply(this,arguments)?E0:A0)(this,c)}}function tC(c,_){var m=S0(c+"");if(arguments.length<2){for(var v=Dd(this.node()),R=-1,E=m.length;++R<E;)if(!v.contains(m[R]))return!1;return!0}return this.each((typeof _=="function"?eC:_?QS:JS)(m,_))}function nC(){this.textContent=""}function iC(c){return function(){this.textContent=c}}function rC(c){return function(){var _=c.apply(this,arguments);this.textContent=_??""}}function sC(c){return arguments.length?this.each(c==null?nC:(typeof c=="function"?rC:iC)(c)):this.node().textContent}function oC(){this.innerHTML=""}function aC(c){return function(){this.innerHTML=c}}function lC(c){return function(){var _=c.apply(this,arguments);this.innerHTML=_??""}}function cC(c){return arguments.length?this.each(c==null?oC:(typeof c=="function"?lC:aC)(c)):this.node().innerHTML}function uC(){this.nextSibling&&this.parentNode.appendChild(this)}function hC(){return this.each(uC)}function dC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fC(){return this.each(dC)}function pC(c){var _=typeof c=="function"?c:v0(c);return this.select(function(){return this.appendChild(_.apply(this,arguments))})}function gC(){return null}function mC(c,_){var m=typeof c=="function"?c:v0(c),v=_==null?gC:typeof _=="function"?_:$d(_);return this.select(function(){return this.insertBefore(m.apply(this,arguments),v.apply(this,arguments)||null)})}function vC(){var c=this.parentNode;c&&c.removeChild(this)}function yC(){return this.each(vC)}function bC(){var c=this.cloneNode(!1),_=this.parentNode;return _?_.insertBefore(c,this.nextSibling):c}function _C(){var c=this.cloneNode(!0),_=this.parentNode;return _?_.insertBefore(c,this.nextSibling):c}function xC(c){return this.select(c?_C:bC)}function wC(c){return arguments.length?this.property("__data__",c):this.node().__data__}function SC(c){return function(_){c.call(this,_,this.__data__)}}function CC(c){return c.trim().split(/^|\s+/).map(function(_){var m="",v=_.indexOf(".");return v>=0&&(m=_.slice(v+1),_=_.slice(0,v)),{type:_,name:m}})}function EC(c){return function(){var _=this.__on;if(_){for(var m=0,v=-1,R=_.length,E;m<R;++m)E=_[m],(!c.type||E.type===c.type)&&E.name===c.name?this.removeEventListener(E.type,E.listener,E.options):_[++v]=E;++v?_.length=v:delete this.__on}}}function AC(c,_,m){return function(){var v=this.__on,R,E=SC(_);if(v){for(var y=0,f=v.length;y<f;++y)if((R=v[y]).type===c.type&&R.name===c.name){this.removeEventListener(R.type,R.listener,R.options),this.addEventListener(R.type,R.listener=E,R.options=m),R.value=_;return}}this.addEventListener(c.type,E,m),R={type:c.type,name:c.name,value:_,listener:E,options:m},v?v.push(R):this.__on=[R]}}function kC(c,_,m){var v=CC(c+""),R,E=v.length,y;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,u=f.length,s;a<u;++a)for(R=0,s=f[a];R<E;++R)if((y=v[R]).type===s.type&&y.name===s.name)return s.value}return}for(f=_?AC:EC,R=0;R<E;++R)this.each(f(v[R],_,m));return this}function k0(c,_,m){var v=w0(c),R=v.CustomEvent;typeof R=="function"?R=new R(_,m):(R=v.document.createEvent("Event"),m?(R.initEvent(_,m.bubbles,m.cancelable),R.detail=m.detail):R.initEvent(_,!1,!1)),c.dispatchEvent(R)}function TC(c,_){return function(){return k0(this,c,_)}}function MC(c,_){return function(){return k0(this,c,_.apply(this,arguments))}}function LC(c,_){return this.each((typeof _=="function"?MC:TC)(c,_))}function*RC(){for(var c=this._groups,_=0,m=c.length;_<m;++_)for(var v=c[_],R=0,E=v.length,y;R<E;++R)(y=v[R])&&(yield y)}var T0=[null];function Nn(c,_){this._groups=c,this._parents=_}function Ha(){return new Nn([[document.documentElement]],T0)}function NC(){return this}Nn.prototype=Ha.prototype={constructor:Nn,select:rS,selectAll:lS,selectChild:dS,selectChildren:mS,filter:vS,data:SS,enter:yS,exit:ES,join:AS,merge:kS,selection:NC,order:TS,sort:MS,call:RS,nodes:NS,node:$S,size:DS,empty:OS,each:jS,attr:WS,style:KS,property:ZS,classed:tC,text:sC,html:cC,raise:hC,lower:fC,append:pC,insert:mC,remove:yC,clone:xC,datum:wC,on:kC,dispatch:LC,[Symbol.iterator]:RC};function mi(c){return typeof c=="string"?new Nn([[document.querySelector(c)]],[document.documentElement]):new Nn([[c]],T0)}function $C(c){let _;for(;_=c.sourceEvent;)c=_;return c}function Ai(c,_){if(c=$C(c),_===void 0&&(_=c.currentTarget),_){var m=_.ownerSVGElement||_;if(m.createSVGPoint){var v=m.createSVGPoint();return v.x=c.clientX,v.y=c.clientY,v=v.matrixTransform(_.getScreenCTM().inverse()),[v.x,v.y]}if(_.getBoundingClientRect){var R=_.getBoundingClientRect();return[c.clientX-R.left-_.clientLeft,c.clientY-R.top-_.clientTop]}}return[c.pageX,c.pageY]}const DC={passive:!1},Na={capture:!0,passive:!1};function sd(c){c.stopImmediatePropagation()}function bo(c){c.preventDefault(),c.stopImmediatePropagation()}function M0(c){var _=c.document.documentElement,m=mi(c).on("dragstart.drag",bo,Na);"onselectstart"in _?m.on("selectstart.drag",bo,Na):(_.__noselect=_.style.MozUserSelect,_.style.MozUserSelect="none")}function L0(c,_){var m=c.document.documentElement,v=mi(c).on("dragstart.drag",null);_&&(v.on("click.drag",bo,Na),setTimeout(function(){v.on("click.drag",null)},0)),"onselectstart"in m?v.on("selectstart.drag",null):(m.style.MozUserSelect=m.__noselect,delete m.__noselect)}const Ql=c=>()=>c;function md(c,{sourceEvent:_,subject:m,target:v,identifier:R,active:E,x:y,y:f,dx:a,dy:u,dispatch:s}){Object.defineProperties(this,{type:{value:c,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},subject:{value:m,enumerable:!0,configurable:!0},target:{value:v,enumerable:!0,configurable:!0},identifier:{value:R,enumerable:!0,configurable:!0},active:{value:E,enumerable:!0,configurable:!0},x:{value:y,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:s}})}md.prototype.on=function(){var c=this._.on.apply(this._,arguments);return c===this._?this:c};function OC(c){return!c.ctrlKey&&!c.button}function jC(){return this.parentNode}function IC(c,_){return _??{x:c.x,y:c.y}}function BC(){return navigator.maxTouchPoints||"ontouchstart"in this}function HC(){var c=OC,_=jC,m=IC,v=BC,R={},E=Ec("start","drag","end"),y=0,f,a,u,s,n=0;function i(S){S.on("mousedown.drag",r).filter(v).on("touchstart.drag",o).on("touchmove.drag",d,DC).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(S,w){if(!(s||!c.call(this,S,w))){var b=x(this,_.call(this,S,w),S,w,"mouse");b&&(mi(S.view).on("mousemove.drag",l,Na).on("mouseup.drag",h,Na),M0(S.view),sd(S),u=!1,f=S.clientX,a=S.clientY,b("start",S))}}function l(S){if(bo(S),!u){var w=S.clientX-f,b=S.clientY-a;u=w*w+b*b>n}R.mouse("drag",S)}function h(S){mi(S.view).on("mousemove.drag mouseup.drag",null),L0(S.view,u),bo(S),R.mouse("end",S)}function o(S,w){if(c.call(this,S,w)){var b=S.changedTouches,k=_.call(this,S,w),A=b.length,T,j;for(T=0;T<A;++T)(j=x(this,k,S,w,b[T].identifier,b[T]))&&(sd(S),j("start",S,b[T]))}}function d(S){var w=S.changedTouches,b=w.length,k,A;for(k=0;k<b;++k)(A=R[w[k].identifier])&&(bo(S),A("drag",S,w[k]))}function g(S){var w=S.changedTouches,b=w.length,k,A;for(s&&clearTimeout(s),s=setTimeout(function(){s=null},500),k=0;k<b;++k)(A=R[w[k].identifier])&&(sd(S),A("end",S,w[k]))}function x(S,w,b,k,A,T){var j=E.copy(),F=Ai(T||b,w),$,D,M;if((M=m.call(S,new md("beforestart",{sourceEvent:b,target:i,identifier:A,active:y,x:F[0],y:F[1],dx:0,dy:0,dispatch:j}),k))!=null)return $=M.x-F[0]||0,D=M.y-F[1]||0,function L(O,z,B){var P=F,U;switch(O){case"start":R[A]=L,U=y++;break;case"end":delete R[A],--y;case"drag":F=Ai(B||z,w),U=y;break}j.call(O,S,new md(O,{sourceEvent:z,subject:M,target:i,identifier:A,active:U,x:F[0]+$,y:F[1]+D,dx:F[0]-P[0],dy:F[1]-P[1],dispatch:j}),k)}}return i.filter=function(S){return arguments.length?(c=typeof S=="function"?S:Ql(!!S),i):c},i.container=function(S){return arguments.length?(_=typeof S=="function"?S:Ql(S),i):_},i.subject=function(S){return arguments.length?(m=typeof S=="function"?S:Ql(S),i):m},i.touchable=function(S){return arguments.length?(v=typeof S=="function"?S:Ql(!!S),i):v},i.on=function(){var S=E.on.apply(E,arguments);return S===E?i:S},i.clickDistance=function(S){return arguments.length?(n=(S=+S)*S,i):Math.sqrt(n)},i}function Od(c,_,m){c.prototype=_.prototype=m,m.constructor=c}function R0(c,_){var m=Object.create(c.prototype);for(var v in _)m[v]=_[v];return m}function za(){}var $a=.7,gc=1/$a,_o="\\s*([+-]?\\d+)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zC=/^#([0-9a-f]{3,8})$/,FC=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),PC=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),WC=new RegExp(`^rgba\\(${_o},${_o},${_o},${Da}\\)$`),UC=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${Da}\\)$`),VC=new RegExp(`^hsl\\(${Da},${Ti},${Ti}\\)$`),GC=new RegExp(`^hsla\\(${Da},${Ti},${Ti},${Da}\\)$`),_v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Od(za,Oa,{copy(c){return Object.assign(new this.constructor,this,c)},displayable(){return this.rgb().displayable()},hex:xv,formatHex:xv,formatHex8:KC,formatHsl:YC,formatRgb:wv,toString:wv});function xv(){return this.rgb().formatHex()}function KC(){return this.rgb().formatHex8()}function YC(){return N0(this).formatHsl()}function wv(){return this.rgb().formatRgb()}function Oa(c){var _,m;return c=(c+"").trim().toLowerCase(),(_=zC.exec(c))?(m=_[1].length,_=parseInt(_[1],16),m===6?Sv(_):m===3?new xn(_>>8&15|_>>4&240,_>>4&15|_&240,(_&15)<<4|_&15,1):m===8?Jl(_>>24&255,_>>16&255,_>>8&255,(_&255)/255):m===4?Jl(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|_&240,((_&15)<<4|_&15)/255):null):(_=FC.exec(c))?new xn(_[1],_[2],_[3],1):(_=PC.exec(c))?new xn(_[1]*255/100,_[2]*255/100,_[3]*255/100,1):(_=WC.exec(c))?Jl(_[1],_[2],_[3],_[4]):(_=UC.exec(c))?Jl(_[1]*255/100,_[2]*255/100,_[3]*255/100,_[4]):(_=VC.exec(c))?Av(_[1],_[2]/100,_[3]/100,1):(_=GC.exec(c))?Av(_[1],_[2]/100,_[3]/100,_[4]):_v.hasOwnProperty(c)?Sv(_v[c]):c==="transparent"?new xn(NaN,NaN,NaN,0):null}function Sv(c){return new xn(c>>16&255,c>>8&255,c&255,1)}function Jl(c,_,m,v){return v<=0&&(c=_=m=NaN),new xn(c,_,m,v)}function XC(c){return c instanceof za||(c=Oa(c)),c?(c=c.rgb(),new xn(c.r,c.g,c.b,c.opacity)):new xn}function vd(c,_,m,v){return arguments.length===1?XC(c):new xn(c,_,m,v??1)}function xn(c,_,m,v){this.r=+c,this.g=+_,this.b=+m,this.opacity=+v}Od(xn,vd,R0(za,{brighter(c){return c=c==null?gc:Math.pow(gc,c),new xn(this.r*c,this.g*c,this.b*c,this.opacity)},darker(c){return c=c==null?$a:Math.pow($a,c),new xn(this.r*c,this.g*c,this.b*c,this.opacity)},rgb(){return this},clamp(){return new xn(ds(this.r),ds(this.g),ds(this.b),mc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cv,formatHex:Cv,formatHex8:qC,formatRgb:Ev,toString:Ev}));function Cv(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function qC(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ev(){const c=mc(this.opacity);return`${c===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${c===1?")":`, ${c})`}`}function mc(c){return isNaN(c)?1:Math.max(0,Math.min(1,c))}function ds(c){return Math.max(0,Math.min(255,Math.round(c)||0))}function cs(c){return c=ds(c),(c<16?"0":"")+c.toString(16)}function Av(c,_,m,v){return v<=0?c=_=m=NaN:m<=0||m>=1?c=_=NaN:_<=0&&(c=NaN),new vi(c,_,m,v)}function N0(c){if(c instanceof vi)return new vi(c.h,c.s,c.l,c.opacity);if(c instanceof za||(c=Oa(c)),!c)return new vi;if(c instanceof vi)return c;c=c.rgb();var _=c.r/255,m=c.g/255,v=c.b/255,R=Math.min(_,m,v),E=Math.max(_,m,v),y=NaN,f=E-R,a=(E+R)/2;return f?(_===E?y=(m-v)/f+(m<v)*6:m===E?y=(v-_)/f+2:y=(_-m)/f+4,f/=a<.5?E+R:2-E-R,y*=60):f=a>0&&a<1?0:y,new vi(y,f,a,c.opacity)}function ZC(c,_,m,v){return arguments.length===1?N0(c):new vi(c,_,m,v??1)}function vi(c,_,m,v){this.h=+c,this.s=+_,this.l=+m,this.opacity=+v}Od(vi,ZC,R0(za,{brighter(c){return c=c==null?gc:Math.pow(gc,c),new vi(this.h,this.s,this.l*c,this.opacity)},darker(c){return c=c==null?$a:Math.pow($a,c),new vi(this.h,this.s,this.l*c,this.opacity)},rgb(){var c=this.h%360+(this.h<0)*360,_=isNaN(c)||isNaN(this.s)?0:this.s,m=this.l,v=m+(m<.5?m:1-m)*_,R=2*m-v;return new xn(od(c>=240?c-240:c+120,R,v),od(c,R,v),od(c<120?c+240:c-120,R,v),this.opacity)},clamp(){return new vi(kv(this.h),ec(this.s),ec(this.l),mc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const c=mc(this.opacity);return`${c===1?"hsl(":"hsla("}${kv(this.h)}, ${ec(this.s)*100}%, ${ec(this.l)*100}%${c===1?")":`, ${c})`}`}}));function kv(c){return c=(c||0)%360,c<0?c+360:c}function ec(c){return Math.max(0,Math.min(1,c||0))}function od(c,_,m){return(c<60?_+(m-_)*c/60:c<180?m:c<240?_+(m-_)*(240-c)/60:_)*255}const $0=c=>()=>c;function QC(c,_){return function(m){return c+m*_}}function JC(c,_,m){return c=Math.pow(c,m),_=Math.pow(_,m)-c,m=1/m,function(v){return Math.pow(c+v*_,m)}}function e1(c){return(c=+c)==1?D0:function(_,m){return m-_?JC(_,m,c):$0(isNaN(_)?m:_)}}function D0(c,_){var m=_-c;return m?QC(c,m):$0(isNaN(c)?_:c)}const Tv=(function c(_){var m=e1(_);function v(R,E){var y=m((R=vd(R)).r,(E=vd(E)).r),f=m(R.g,E.g),a=m(R.b,E.b),u=D0(R.opacity,E.opacity);return function(s){return R.r=y(s),R.g=f(s),R.b=a(s),R.opacity=u(s),R+""}}return v.gamma=c,v})(1);function $r(c,_){return c=+c,_=+_,function(m){return c*(1-m)+_*m}}var yd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ad=new RegExp(yd.source,"g");function t1(c){return function(){return c}}function n1(c){return function(_){return c(_)+""}}function i1(c,_){var m=yd.lastIndex=ad.lastIndex=0,v,R,E,y=-1,f=[],a=[];for(c=c+"",_=_+"";(v=yd.exec(c))&&(R=ad.exec(_));)(E=R.index)>m&&(E=_.slice(m,E),f[y]?f[y]+=E:f[++y]=E),(v=v[0])===(R=R[0])?f[y]?f[y]+=R:f[++y]=R:(f[++y]=null,a.push({i:y,x:$r(v,R)})),m=ad.lastIndex;return m<_.length&&(E=_.slice(m),f[y]?f[y]+=E:f[++y]=E),f.length<2?a[0]?n1(a[0].x):t1(_):(_=a.length,function(u){for(var s=0,n;s<_;++s)f[(n=a[s]).i]=n.x(u);return f.join("")})}var Mv=180/Math.PI,bd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O0(c,_,m,v,R,E){var y,f,a;return(y=Math.sqrt(c*c+_*_))&&(c/=y,_/=y),(a=c*m+_*v)&&(m-=c*a,v-=_*a),(f=Math.sqrt(m*m+v*v))&&(m/=f,v/=f,a/=f),c*v<_*m&&(c=-c,_=-_,a=-a,y=-y),{translateX:R,translateY:E,rotate:Math.atan2(_,c)*Mv,skewX:Math.atan(a)*Mv,scaleX:y,scaleY:f}}var tc;function r1(c){const _=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(c+"");return _.isIdentity?bd:O0(_.a,_.b,_.c,_.d,_.e,_.f)}function s1(c){return c==null||(tc||(tc=document.createElementNS("http://www.w3.org/2000/svg","g")),tc.setAttribute("transform",c),!(c=tc.transform.baseVal.consolidate()))?bd:(c=c.matrix,O0(c.a,c.b,c.c,c.d,c.e,c.f))}function j0(c,_,m,v){function R(u){return u.length?u.pop()+" ":""}function E(u,s,n,i,r,l){if(u!==n||s!==i){var h=r.push("translate(",null,_,null,m);l.push({i:h-4,x:$r(u,n)},{i:h-2,x:$r(s,i)})}else(n||i)&&r.push("translate("+n+_+i+m)}function y(u,s,n,i){u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),i.push({i:n.push(R(n)+"rotate(",null,v)-2,x:$r(u,s)})):s&&n.push(R(n)+"rotate("+s+v)}function f(u,s,n,i){u!==s?i.push({i:n.push(R(n)+"skewX(",null,v)-2,x:$r(u,s)}):s&&n.push(R(n)+"skewX("+s+v)}function a(u,s,n,i,r,l){if(u!==n||s!==i){var h=r.push(R(r)+"scale(",null,",",null,")");l.push({i:h-4,x:$r(u,n)},{i:h-2,x:$r(s,i)})}else(n!==1||i!==1)&&r.push(R(r)+"scale("+n+","+i+")")}return function(u,s){var n=[],i=[];return u=c(u),s=c(s),E(u.translateX,u.translateY,s.translateX,s.translateY,n,i),y(u.rotate,s.rotate,n,i),f(u.skewX,s.skewX,n,i),a(u.scaleX,u.scaleY,s.scaleX,s.scaleY,n,i),u=s=null,function(r){for(var l=-1,h=i.length,o;++l<h;)n[(o=i[l]).i]=o.x(r);return n.join("")}}}var o1=j0(r1,"px, ","px)","deg)"),a1=j0(s1,", ",")",")"),l1=1e-12;function Lv(c){return((c=Math.exp(c))+1/c)/2}function c1(c){return((c=Math.exp(c))-1/c)/2}function u1(c){return((c=Math.exp(2*c))-1)/(c+1)}const h1=(function c(_,m,v){function R(E,y){var f=E[0],a=E[1],u=E[2],s=y[0],n=y[1],i=y[2],r=s-f,l=n-a,h=r*r+l*l,o,d;if(h<l1)d=Math.log(i/u)/_,o=function(k){return[f+k*r,a+k*l,u*Math.exp(_*k*d)]};else{var g=Math.sqrt(h),x=(i*i-u*u+v*h)/(2*u*m*g),S=(i*i-u*u-v*h)/(2*i*m*g),w=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(S*S+1)-S);d=(b-w)/_,o=function(k){var A=k*d,T=Lv(w),j=u/(m*g)*(T*u1(_*A+w)-c1(w));return[f+j*r,a+j*l,u*T/Lv(_*A+w)]}}return o.duration=d*1e3*_/Math.SQRT2,o}return R.rho=function(E){var y=Math.max(.001,+E),f=y*y,a=f*f;return c(y,f,a)},R})(Math.SQRT2,2,4);var Co=0,Ma=0,Sa=0,I0=1e3,vc,La,yc=0,fs=0,kc=0,ja=typeof performance=="object"&&performance.now?performance:Date,B0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(c){setTimeout(c,17)};function jd(){return fs||(B0(d1),fs=ja.now()+kc)}function d1(){fs=0}function bc(){this._call=this._time=this._next=null}bc.prototype=H0.prototype={constructor:bc,restart:function(c,_,m){if(typeof c!="function")throw new TypeError("callback is not a function");m=(m==null?jd():+m)+(_==null?0:+_),!this._next&&La!==this&&(La?La._next=this:vc=this,La=this),this._call=c,this._time=m,_d()},stop:function(){this._call&&(this._call=null,this._time=1/0,_d())}};function H0(c,_,m){var v=new bc;return v.restart(c,_,m),v}function f1(){jd(),++Co;for(var c=vc,_;c;)(_=fs-c._time)>=0&&c._call.call(void 0,_),c=c._next;--Co}function Rv(){fs=(yc=ja.now())+kc,Co=Ma=0;try{f1()}finally{Co=0,g1(),fs=0}}function p1(){var c=ja.now(),_=c-yc;_>I0&&(kc-=_,yc=c)}function g1(){for(var c,_=vc,m,v=1/0;_;)_._call?(v>_._time&&(v=_._time),c=_,_=_._next):(m=_._next,_._next=null,_=c?c._next=m:vc=m);La=c,_d(v)}function _d(c){if(!Co){Ma&&(Ma=clearTimeout(Ma));var _=c-fs;_>24?(c<1/0&&(Ma=setTimeout(Rv,c-ja.now()-kc)),Sa&&(Sa=clearInterval(Sa))):(Sa||(yc=ja.now(),Sa=setInterval(p1,I0)),Co=1,B0(Rv))}}function Nv(c,_,m){var v=new bc;return _=_==null?0:+_,v.restart(R=>{v.stop(),c(R+_)},_,m),v}var m1=Ec("start","end","cancel","interrupt"),v1=[],z0=0,$v=1,xd=2,lc=3,Dv=4,wd=5,cc=6;function Tc(c,_,m,v,R,E){var y=c.__transition;if(!y)c.__transition={};else if(m in y)return;y1(c,m,{name:_,index:v,group:R,on:m1,tween:v1,time:E.time,delay:E.delay,duration:E.duration,ease:E.ease,timer:null,state:z0})}function Id(c,_){var m=yi(c,_);if(m.state>z0)throw new Error("too late; already scheduled");return m}function Mi(c,_){var m=yi(c,_);if(m.state>lc)throw new Error("too late; already running");return m}function yi(c,_){var m=c.__transition;if(!m||!(m=m[_]))throw new Error("transition not found");return m}function y1(c,_,m){var v=c.__transition,R;v[_]=m,m.timer=H0(E,0,m.time);function E(u){m.state=$v,m.timer.restart(y,m.delay,m.time),m.delay<=u&&y(u-m.delay)}function y(u){var s,n,i,r;if(m.state!==$v)return a();for(s in v)if(r=v[s],r.name===m.name){if(r.state===lc)return Nv(y);r.state===Dv?(r.state=cc,r.timer.stop(),r.on.call("interrupt",c,c.__data__,r.index,r.group),delete v[s]):+s<_&&(r.state=cc,r.timer.stop(),r.on.call("cancel",c,c.__data__,r.index,r.group),delete v[s])}if(Nv(function(){m.state===lc&&(m.state=Dv,m.timer.restart(f,m.delay,m.time),f(u))}),m.state=xd,m.on.call("start",c,c.__data__,m.index,m.group),m.state===xd){for(m.state=lc,R=new Array(i=m.tween.length),s=0,n=-1;s<i;++s)(r=m.tween[s].value.call(c,c.__data__,m.index,m.group))&&(R[++n]=r);R.length=n+1}}function f(u){for(var s=u<m.duration?m.ease.call(null,u/m.duration):(m.timer.restart(a),m.state=wd,1),n=-1,i=R.length;++n<i;)R[n].call(c,s);m.state===wd&&(m.on.call("end",c,c.__data__,m.index,m.group),a())}function a(){m.state=cc,m.timer.stop(),delete v[_];for(var u in v)return;delete c.__transition}}function uc(c,_){var m=c.__transition,v,R,E=!0,y;if(m){_=_==null?null:_+"";for(y in m){if((v=m[y]).name!==_){E=!1;continue}R=v.state>xd&&v.state<wd,v.state=cc,v.timer.stop(),v.on.call(R?"interrupt":"cancel",c,c.__data__,v.index,v.group),delete m[y]}E&&delete c.__transition}}function b1(c){return this.each(function(){uc(this,c)})}function _1(c,_){var m,v;return function(){var R=Mi(this,c),E=R.tween;if(E!==m){v=m=E;for(var y=0,f=v.length;y<f;++y)if(v[y].name===_){v=v.slice(),v.splice(y,1);break}}R.tween=v}}function x1(c,_,m){var v,R;if(typeof m!="function")throw new Error;return function(){var E=Mi(this,c),y=E.tween;if(y!==v){R=(v=y).slice();for(var f={name:_,value:m},a=0,u=R.length;a<u;++a)if(R[a].name===_){R[a]=f;break}a===u&&R.push(f)}E.tween=R}}function w1(c,_){var m=this._id;if(c+="",arguments.length<2){for(var v=yi(this.node(),m).tween,R=0,E=v.length,y;R<E;++R)if((y=v[R]).name===c)return y.value;return null}return this.each((_==null?_1:x1)(m,c,_))}function Bd(c,_,m){var v=c._id;return c.each(function(){var R=Mi(this,v);(R.value||(R.value={}))[_]=m.apply(this,arguments)}),function(R){return yi(R,v).value[_]}}function F0(c,_){var m;return(typeof _=="number"?$r:_ instanceof Oa?Tv:(m=Oa(_))?(_=m,Tv):i1)(c,_)}function S1(c){return function(){this.removeAttribute(c)}}function C1(c){return function(){this.removeAttributeNS(c.space,c.local)}}function E1(c,_,m){var v,R=m+"",E;return function(){var y=this.getAttribute(c);return y===R?null:y===v?E:E=_(v=y,m)}}function A1(c,_,m){var v,R=m+"",E;return function(){var y=this.getAttributeNS(c.space,c.local);return y===R?null:y===v?E:E=_(v=y,m)}}function k1(c,_,m){var v,R,E;return function(){var y,f=m(this),a;return f==null?void this.removeAttribute(c):(y=this.getAttribute(c),a=f+"",y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f)))}}function T1(c,_,m){var v,R,E;return function(){var y,f=m(this),a;return f==null?void this.removeAttributeNS(c.space,c.local):(y=this.getAttributeNS(c.space,c.local),a=f+"",y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f)))}}function M1(c,_){var m=Ac(c),v=m==="transform"?a1:F0;return this.attrTween(c,typeof _=="function"?(m.local?T1:k1)(m,v,Bd(this,"attr."+c,_)):_==null?(m.local?C1:S1)(m):(m.local?A1:E1)(m,v,_))}function L1(c,_){return function(m){this.setAttribute(c,_.call(this,m))}}function R1(c,_){return function(m){this.setAttributeNS(c.space,c.local,_.call(this,m))}}function N1(c,_){var m,v;function R(){var E=_.apply(this,arguments);return E!==v&&(m=(v=E)&&R1(c,E)),m}return R._value=_,R}function $1(c,_){var m,v;function R(){var E=_.apply(this,arguments);return E!==v&&(m=(v=E)&&L1(c,E)),m}return R._value=_,R}function D1(c,_){var m="attr."+c;if(arguments.length<2)return(m=this.tween(m))&&m._value;if(_==null)return this.tween(m,null);if(typeof _!="function")throw new Error;var v=Ac(c);return this.tween(m,(v.local?N1:$1)(v,_))}function O1(c,_){return function(){Id(this,c).delay=+_.apply(this,arguments)}}function j1(c,_){return _=+_,function(){Id(this,c).delay=_}}function I1(c){var _=this._id;return arguments.length?this.each((typeof c=="function"?O1:j1)(_,c)):yi(this.node(),_).delay}function B1(c,_){return function(){Mi(this,c).duration=+_.apply(this,arguments)}}function H1(c,_){return _=+_,function(){Mi(this,c).duration=_}}function z1(c){var _=this._id;return arguments.length?this.each((typeof c=="function"?B1:H1)(_,c)):yi(this.node(),_).duration}function F1(c,_){if(typeof _!="function")throw new Error;return function(){Mi(this,c).ease=_}}function P1(c){var _=this._id;return arguments.length?this.each(F1(_,c)):yi(this.node(),_).ease}function W1(c,_){return function(){var m=_.apply(this,arguments);if(typeof m!="function")throw new Error;Mi(this,c).ease=m}}function U1(c){if(typeof c!="function")throw new Error;return this.each(W1(this._id,c))}function V1(c){typeof c!="function"&&(c=b0(c));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=[],a,u=0;u<y;++u)(a=E[u])&&c.call(a,a.__data__,u,E)&&f.push(a);return new er(v,this._parents,this._name,this._id)}function G1(c){if(c._id!==this._id)throw new Error;for(var _=this._groups,m=c._groups,v=_.length,R=m.length,E=Math.min(v,R),y=new Array(v),f=0;f<E;++f)for(var a=_[f],u=m[f],s=a.length,n=y[f]=new Array(s),i,r=0;r<s;++r)(i=a[r]||u[r])&&(n[r]=i);for(;f<v;++f)y[f]=_[f];return new er(y,this._parents,this._name,this._id)}function K1(c){return(c+"").trim().split(/^|\s+/).every(function(_){var m=_.indexOf(".");return m>=0&&(_=_.slice(0,m)),!_||_==="start"})}function Y1(c,_,m){var v,R,E=K1(_)?Id:Mi;return function(){var y=E(this,c),f=y.on;f!==v&&(R=(v=f).copy()).on(_,m),y.on=R}}function X1(c,_){var m=this._id;return arguments.length<2?yi(this.node(),m).on.on(c):this.each(Y1(m,c,_))}function q1(c){return function(){var _=this.parentNode;for(var m in this.__transition)if(+m!==c)return;_&&_.removeChild(this)}}function Z1(){return this.on("end.remove",q1(this._id))}function Q1(c){var _=this._name,m=this._id;typeof c!="function"&&(c=$d(c));for(var v=this._groups,R=v.length,E=new Array(R),y=0;y<R;++y)for(var f=v[y],a=f.length,u=E[y]=new Array(a),s,n,i=0;i<a;++i)(s=f[i])&&(n=c.call(s,s.__data__,i,f))&&("__data__"in s&&(n.__data__=s.__data__),u[i]=n,Tc(u[i],_,m,i,u,yi(s,m)));return new er(E,this._parents,_,m)}function J1(c){var _=this._name,m=this._id;typeof c!="function"&&(c=y0(c));for(var v=this._groups,R=v.length,E=[],y=[],f=0;f<R;++f)for(var a=v[f],u=a.length,s,n=0;n<u;++n)if(s=a[n]){for(var i=c.call(s,s.__data__,n,a),r,l=yi(s,m),h=0,o=i.length;h<o;++h)(r=i[h])&&Tc(r,_,m,h,i,l);E.push(i),y.push(s)}return new er(E,y,_,m)}var eE=Ha.prototype.constructor;function tE(){return new eE(this._groups,this._parents)}function nE(c,_){var m,v,R;return function(){var E=So(this,c),y=(this.style.removeProperty(c),So(this,c));return E===y?null:E===m&&y===v?R:R=_(m=E,v=y)}}function P0(c){return function(){this.style.removeProperty(c)}}function iE(c,_,m){var v,R=m+"",E;return function(){var y=So(this,c);return y===R?null:y===v?E:E=_(v=y,m)}}function rE(c,_,m){var v,R,E;return function(){var y=So(this,c),f=m(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(c),So(this,c))),y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f))}}function sE(c,_){var m,v,R,E="style."+_,y="end."+E,f;return function(){var a=Mi(this,c),u=a.on,s=a.value[E]==null?f||(f=P0(_)):void 0;(u!==m||R!==s)&&(v=(m=u).copy()).on(y,R=s),a.on=v}}function oE(c,_,m){var v=(c+="")=="transform"?o1:F0;return _==null?this.styleTween(c,nE(c,v)).on("end.style."+c,P0(c)):typeof _=="function"?this.styleTween(c,rE(c,v,Bd(this,"style."+c,_))).each(sE(this._id,c)):this.styleTween(c,iE(c,v,_),m).on("end.style."+c,null)}function aE(c,_,m){return function(v){this.style.setProperty(c,_.call(this,v),m)}}function lE(c,_,m){var v,R;function E(){var y=_.apply(this,arguments);return y!==R&&(v=(R=y)&&aE(c,y,m)),v}return E._value=_,E}function cE(c,_,m){var v="style."+(c+="");if(arguments.length<2)return(v=this.tween(v))&&v._value;if(_==null)return this.tween(v,null);if(typeof _!="function")throw new Error;return this.tween(v,lE(c,_,m??""))}function uE(c){return function(){this.textContent=c}}function hE(c){return function(){var _=c(this);this.textContent=_??""}}function dE(c){return this.tween("text",typeof c=="function"?hE(Bd(this,"text",c)):uE(c==null?"":c+""))}function fE(c){return function(_){this.textContent=c.call(this,_)}}function pE(c){var _,m;function v(){var R=c.apply(this,arguments);return R!==m&&(_=(m=R)&&fE(R)),_}return v._value=c,v}function gE(c){var _="text";if(arguments.length<1)return(_=this.tween(_))&&_._value;if(c==null)return this.tween(_,null);if(typeof c!="function")throw new Error;return this.tween(_,pE(c))}function mE(){for(var c=this._name,_=this._id,m=W0(),v=this._groups,R=v.length,E=0;E<R;++E)for(var y=v[E],f=y.length,a,u=0;u<f;++u)if(a=y[u]){var s=yi(a,_);Tc(a,c,m,u,y,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new er(v,this._parents,c,m)}function vE(){var c,_,m=this,v=m._id,R=m.size();return new Promise(function(E,y){var f={value:y},a={value:function(){--R===0&&E()}};m.each(function(){var u=Mi(this,v),s=u.on;s!==c&&(_=(c=s).copy(),_._.cancel.push(f),_._.interrupt.push(f),_._.end.push(a)),u.on=_}),R===0&&E()})}var yE=0;function er(c,_,m,v){this._groups=c,this._parents=_,this._name=m,this._id=v}function W0(){return++yE}var Zi=Ha.prototype;er.prototype={constructor:er,select:Q1,selectAll:J1,selectChild:Zi.selectChild,selectChildren:Zi.selectChildren,filter:V1,merge:G1,selection:tE,transition:mE,call:Zi.call,nodes:Zi.nodes,node:Zi.node,size:Zi.size,empty:Zi.empty,each:Zi.each,on:X1,attr:M1,attrTween:D1,style:oE,styleTween:cE,text:dE,textTween:gE,remove:Z1,tween:w1,delay:I1,duration:z1,ease:P1,easeVarying:U1,end:vE,[Symbol.iterator]:Zi[Symbol.iterator]};function bE(c){return((c*=2)<=1?c*c*c:(c-=2)*c*c+2)/2}var _E={time:null,delay:0,duration:250,ease:bE};function xE(c,_){for(var m;!(m=c.__transition)||!(m=m[_]);)if(!(c=c.parentNode))throw new Error(`transition ${_} not found`);return m}function wE(c){var _,m;c instanceof er?(_=c._id,c=c._name):(_=W0(),(m=_E).time=jd(),c=c==null?null:c+"");for(var v=this._groups,R=v.length,E=0;E<R;++E)for(var y=v[E],f=y.length,a,u=0;u<f;++u)(a=y[u])&&Tc(a,c,_,u,y,m||xE(a,_));return new er(v,this._parents,c,_)}Ha.prototype.interrupt=b1;Ha.prototype.transition=wE;const nc=c=>()=>c;function SE(c,{sourceEvent:_,target:m,transform:v,dispatch:R}){Object.defineProperties(this,{type:{value:c,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},target:{value:m,enumerable:!0,configurable:!0},transform:{value:v,enumerable:!0,configurable:!0},_:{value:R}})}function Qi(c,_,m){this.k=c,this.x=_,this.y=m}Qi.prototype={constructor:Qi,scale:function(c){return c===1?this:new Qi(this.k*c,this.x,this.y)},translate:function(c,_){return c===0&_===0?this:new Qi(this.k,this.x+this.k*c,this.y+this.k*_)},apply:function(c){return[c[0]*this.k+this.x,c[1]*this.k+this.y]},applyX:function(c){return c*this.k+this.x},applyY:function(c){return c*this.k+this.y},invert:function(c){return[(c[0]-this.x)/this.k,(c[1]-this.y)/this.k]},invertX:function(c){return(c-this.x)/this.k},invertY:function(c){return(c-this.y)/this.k},rescaleX:function(c){return c.copy().domain(c.range().map(this.invertX,this).map(c.invert,c))},rescaleY:function(c){return c.copy().domain(c.range().map(this.invertY,this).map(c.invert,c))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jr=new Qi(1,0,0);Qi.prototype;function ld(c){c.stopImmediatePropagation()}function Ca(c){c.preventDefault(),c.stopImmediatePropagation()}function CE(c){return(!c.ctrlKey||c.type==="wheel")&&!c.button}function EE(){var c=this;return c instanceof SVGElement?(c=c.ownerSVGElement||c,c.hasAttribute("viewBox")?(c=c.viewBox.baseVal,[[c.x,c.y],[c.x+c.width,c.y+c.height]]):[[0,0],[c.width.baseVal.value,c.height.baseVal.value]]):[[0,0],[c.clientWidth,c.clientHeight]]}function Ov(){return this.__zoom||jr}function AE(c){return-c.deltaY*(c.deltaMode===1?.05:c.deltaMode?1:.002)*(c.ctrlKey?10:1)}function kE(){return navigator.maxTouchPoints||"ontouchstart"in this}function TE(c,_,m){var v=c.invertX(_[0][0])-m[0][0],R=c.invertX(_[1][0])-m[1][0],E=c.invertY(_[0][1])-m[0][1],y=c.invertY(_[1][1])-m[1][1];return c.translate(R>v?(v+R)/2:Math.min(0,v)||Math.max(0,R),y>E?(E+y)/2:Math.min(0,E)||Math.max(0,y))}function ME(){var c=CE,_=EE,m=TE,v=AE,R=kE,E=[0,1/0],y=[[-1/0,-1/0],[1/0,1/0]],f=250,a=h1,u=Ec("start","zoom","end"),s,n,i,r=500,l=150,h=0,o=10;function d(M){M.property("__zoom",Ov).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",j).filter(R).on("touchstart.zoom",F).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(M,L,O,z){var B=M.selection?M.selection():M;B.property("__zoom",Ov),M!==B?w(M,L,O,z):B.interrupt().each(function(){b(this,arguments).event(z).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},d.scaleBy=function(M,L,O,z){d.scaleTo(M,function(){var B=this.__zoom.k,P=typeof L=="function"?L.apply(this,arguments):L;return B*P},O,z)},d.scaleTo=function(M,L,O,z){d.transform(M,function(){var B=_.apply(this,arguments),P=this.__zoom,U=O==null?S(B):typeof O=="function"?O.apply(this,arguments):O,W=P.invert(U),K=typeof L=="function"?L.apply(this,arguments):L;return m(x(g(P,K),U,W),B,y)},O,z)},d.translateBy=function(M,L,O,z){d.transform(M,function(){return m(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof O=="function"?O.apply(this,arguments):O),_.apply(this,arguments),y)},null,z)},d.translateTo=function(M,L,O,z,B){d.transform(M,function(){var P=_.apply(this,arguments),U=this.__zoom,W=z==null?S(P):typeof z=="function"?z.apply(this,arguments):z;return m(jr.translate(W[0],W[1]).scale(U.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof O=="function"?-O.apply(this,arguments):-O),P,y)},z,B)};function g(M,L){return L=Math.max(E[0],Math.min(E[1],L)),L===M.k?M:new Qi(L,M.x,M.y)}function x(M,L,O){var z=L[0]-O[0]*M.k,B=L[1]-O[1]*M.k;return z===M.x&&B===M.y?M:new Qi(M.k,z,B)}function S(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,L,O,z){M.on("start.zoom",function(){b(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(z).end()}).tween("zoom",function(){var B=this,P=arguments,U=b(B,P).event(z),W=_.apply(B,P),K=O==null?S(W):typeof O=="function"?O.apply(B,P):O,Y=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),X=B.__zoom,q=typeof L=="function"?L.apply(B,P):L,J=a(X.invert(K).concat(Y/X.k),q.invert(K).concat(Y/q.k));return function(V){if(V===1)V=q;else{var Q=J(V),te=Y/Q[2];V=new Qi(te,K[0]-Q[0]*te,K[1]-Q[1]*te)}U.zoom(null,V)}})}function b(M,L,O){return!O&&M.__zooming||new k(M,L)}function k(M,L){this.that=M,this.args=L,this.active=0,this.sourceEvent=null,this.extent=_.apply(M,L),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,L){return this.mouse&&M!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var L=mi(this.that).datum();u.call(M,this.that,new SE(M,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:u}),L)}};function A(M,...L){if(!c.apply(this,arguments))return;var O=b(this,L).event(M),z=this.__zoom,B=Math.max(E[0],Math.min(E[1],z.k*Math.pow(2,v.apply(this,arguments)))),P=Ai(M);if(O.wheel)(O.mouse[0][0]!==P[0]||O.mouse[0][1]!==P[1])&&(O.mouse[1]=z.invert(O.mouse[0]=P)),clearTimeout(O.wheel);else{if(z.k===B)return;O.mouse=[P,z.invert(P)],uc(this),O.start()}Ca(M),O.wheel=setTimeout(U,l),O.zoom("mouse",m(x(g(z,B),O.mouse[0],O.mouse[1]),O.extent,y));function U(){O.wheel=null,O.end()}}function T(M,...L){if(i||!c.apply(this,arguments))return;var O=M.currentTarget,z=b(this,L,!0).event(M),B=mi(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",Y,!0),P=Ai(M,O),U=M.clientX,W=M.clientY;M0(M.view),ld(M),z.mouse=[P,this.__zoom.invert(P)],uc(this),z.start();function K(X){if(Ca(X),!z.moved){var q=X.clientX-U,J=X.clientY-W;z.moved=q*q+J*J>h}z.event(X).zoom("mouse",m(x(z.that.__zoom,z.mouse[0]=Ai(X,O),z.mouse[1]),z.extent,y))}function Y(X){B.on("mousemove.zoom mouseup.zoom",null),L0(X.view,z.moved),Ca(X),z.event(X).end()}}function j(M,...L){if(c.apply(this,arguments)){var O=this.__zoom,z=Ai(M.changedTouches?M.changedTouches[0]:M,this),B=O.invert(z),P=O.k*(M.shiftKey?.5:2),U=m(x(g(O,P),z,B),_.apply(this,L),y);Ca(M),f>0?mi(this).transition().duration(f).call(w,U,z,M):mi(this).call(d.transform,U,z,M)}}function F(M,...L){if(c.apply(this,arguments)){var O=M.touches,z=O.length,B=b(this,L,M.changedTouches.length===z).event(M),P,U,W,K;for(ld(M),U=0;U<z;++U)W=O[U],K=Ai(W,this),K=[K,this.__zoom.invert(K),W.identifier],B.touch0?!B.touch1&&B.touch0[2]!==K[2]&&(B.touch1=K,B.taps=0):(B.touch0=K,P=!0,B.taps=1+!!s);s&&(s=clearTimeout(s)),P&&(B.taps<2&&(n=K[0],s=setTimeout(function(){s=null},r)),uc(this),B.start())}}function $(M,...L){if(this.__zooming){var O=b(this,L).event(M),z=M.changedTouches,B=z.length,P,U,W,K;for(Ca(M),P=0;P<B;++P)U=z[P],W=Ai(U,this),O.touch0&&O.touch0[2]===U.identifier?O.touch0[0]=W:O.touch1&&O.touch1[2]===U.identifier&&(O.touch1[0]=W);if(U=O.that.__zoom,O.touch1){var Y=O.touch0[0],X=O.touch0[1],q=O.touch1[0],J=O.touch1[1],V=(V=q[0]-Y[0])*V+(V=q[1]-Y[1])*V,Q=(Q=J[0]-X[0])*Q+(Q=J[1]-X[1])*Q;U=g(U,Math.sqrt(V/Q)),W=[(Y[0]+q[0])/2,(Y[1]+q[1])/2],K=[(X[0]+J[0])/2,(X[1]+J[1])/2]}else if(O.touch0)W=O.touch0[0],K=O.touch0[1];else return;O.zoom("touch",m(x(U,W,K),O.extent,y))}}function D(M,...L){if(this.__zooming){var O=b(this,L).event(M),z=M.changedTouches,B=z.length,P,U;for(ld(M),i&&clearTimeout(i),i=setTimeout(function(){i=null},r),P=0;P<B;++P)U=z[P],O.touch0&&O.touch0[2]===U.identifier?delete O.touch0:O.touch1&&O.touch1[2]===U.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(U=Ai(U,this),Math.hypot(n[0]-U[0],n[1]-U[1])<o)){var W=mi(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return d.wheelDelta=function(M){return arguments.length?(v=typeof M=="function"?M:nc(+M),d):v},d.filter=function(M){return arguments.length?(c=typeof M=="function"?M:nc(!!M),d):c},d.touchable=function(M){return arguments.length?(R=typeof M=="function"?M:nc(!!M),d):R},d.extent=function(M){return arguments.length?(_=typeof M=="function"?M:nc([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),d):_},d.scaleExtent=function(M){return arguments.length?(E[0]=+M[0],E[1]=+M[1],d):[E[0],E[1]]},d.translateExtent=function(M){return arguments.length?(y[0][0]=+M[0][0],y[1][0]=+M[1][0],y[0][1]=+M[0][1],y[1][1]=+M[1][1],d):[[y[0][0],y[0][1]],[y[1][0],y[1][1]]]},d.constrain=function(M){return arguments.length?(m=M,d):m},d.duration=function(M){return arguments.length?(f=+M,d):f},d.interpolate=function(M){return arguments.length?(a=M,d):a},d.on=function(){var M=u.on.apply(u,arguments);return M===u?d:M},d.clickDistance=function(M){return arguments.length?(h=(M=+M)*M,d):Math.sqrt(h)},d.tapDistance=function(M){return arguments.length?(o=+M,d):o},d}var LE=o0();const Mc=ne.createContext(null),RE=Mc.Provider,tr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:c=>`Node type "${c}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:c=>`The old edge with id=${c} does not exist.`,error009:c=>`Marker type "${c}" doesn't exist.`,error008:(c,_)=>`Couldn't create edge for ${c?"target":"source"} handle id: "${c?_.targetHandle:_.sourceHandle}", edge id: ${_.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:c=>`Edge type "${c}" not found. Using fallback type "default".`,error012:c=>`Node with id "${c}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},U0=tr.error001();function kt(c,_){const m=ne.useContext(Mc);if(m===null)throw new Error(U0);return m0(m,c,_)}const sn=()=>{const c=ne.useContext(Mc);if(c===null)throw new Error(U0);return ne.useMemo(()=>({getState:c.getState,setState:c.setState,subscribe:c.subscribe,destroy:c.destroy}),[c])},NE=c=>c.userSelectionActive?"none":"all";function $E({position:c,children:_,className:m,style:v,...R}){const E=kt(NE),y=`${c}`.split("-");return _e.createElement("div",{className:Jn(["react-flow__panel",m,...y]),style:{...v,pointerEvents:E},...R},_)}function DE({proOptions:c,position:_="bottom-right"}){return c?.hideAttribution?null:_e.createElement($E,{position:_,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},_e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const OE=({x:c,y:_,label:m,labelStyle:v={},labelShowBg:R=!0,labelBgStyle:E={},labelBgPadding:y=[2,4],labelBgBorderRadius:f=2,children:a,className:u,...s})=>{const n=ne.useRef(null),[i,r]=ne.useState({x:0,y:0,width:0,height:0}),l=Jn(["react-flow__edge-textwrapper",u]);return ne.useEffect(()=>{if(n.current){const h=n.current.getBBox();r({x:h.x,y:h.y,width:h.width,height:h.height})}},[m]),typeof m>"u"||!m?null:_e.createElement("g",{transform:`translate(${c-i.width/2} ${_-i.height/2})`,className:l,visibility:i.width?"visible":"hidden",...s},R&&_e.createElement("rect",{width:i.width+2*y[0],x:-y[0],y:-y[1],height:i.height+2*y[1],className:"react-flow__edge-textbg",style:E,rx:f,ry:f}),_e.createElement("text",{className:"react-flow__edge-text",y:i.height/2,dy:"0.3em",ref:n,style:v},m),a)};var jE=ne.memo(OE);const Hd=c=>({width:c.offsetWidth,height:c.offsetHeight}),Eo=(c,_=0,m=1)=>Math.min(Math.max(c,_),m),zd=(c={x:0,y:0},_)=>({x:Eo(c.x,_[0][0],_[1][0]),y:Eo(c.y,_[0][1],_[1][1])}),jv=(c,_,m)=>c<_?Eo(Math.abs(c-_),1,50)/50:c>m?-Eo(Math.abs(c-m),1,50)/50:0,V0=(c,_)=>{const m=jv(c.x,35,_.width-35)*20,v=jv(c.y,35,_.height-35)*20;return[m,v]},G0=c=>c.getRootNode?.()||window?.document,IE=(c,_)=>({x:Math.min(c.x,_.x),y:Math.min(c.y,_.y),x2:Math.max(c.x2,_.x2),y2:Math.max(c.y2,_.y2)}),Fd=({x:c,y:_,width:m,height:v})=>({x:c,y:_,x2:c+m,y2:_+v}),BE=({x:c,y:_,x2:m,y2:v})=>({x:c,y:_,width:m-c,height:v-_}),Iv=c=>({...c.positionAbsolute||{x:0,y:0},width:c.width||0,height:c.height||0}),Sd=(c,_)=>{const m=Math.max(0,Math.min(c.x+c.width,_.x+_.width)-Math.max(c.x,_.x)),v=Math.max(0,Math.min(c.y+c.height,_.y+_.height)-Math.max(c.y,_.y));return Math.ceil(m*v)},HE=c=>qn(c.width)&&qn(c.height)&&qn(c.x)&&qn(c.y),qn=c=>!isNaN(c)&&isFinite(c),At=Symbol.for("internals"),K0=["Enter"," ","Escape"],zE=(c,_)=>{},FE=c=>"nativeEvent"in c;function Cd(c){const m=(FE(c)?c.nativeEvent:c).composedPath?.()?.[0]||c.target;return["INPUT","SELECT","TEXTAREA"].includes(m?.nodeName)||m?.hasAttribute("contenteditable")||!!m?.closest(".nokey")}const Y0=c=>"clientX"in c,Ir=(c,_)=>{const m=Y0(c),v=m?c.clientX:c.touches?.[0].clientX,R=m?c.clientY:c.touches?.[0].clientY;return{x:v-(_?.left??0),y:R-(_?.top??0)}},_c=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,ko=({id:c,path:_,labelX:m,labelY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u,style:s,markerEnd:n,markerStart:i,interactionWidth:r=20})=>_e.createElement(_e.Fragment,null,_e.createElement("path",{id:c,style:s,d:_,fill:"none",className:"react-flow__edge-path",markerEnd:n,markerStart:i}),r&&_e.createElement("path",{d:_,fill:"none",strokeOpacity:0,strokeWidth:r,className:"react-flow__edge-interaction"}),R&&qn(m)&&qn(v)?_e.createElement(jE,{x:m,y:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u}):null);ko.displayName="BaseEdge";function Ea(c,_,m){return m===void 0?m:v=>{const R=_().edges.find(E=>E.id===c);R&&m(v,{...R})}}function X0({sourceX:c,sourceY:_,targetX:m,targetY:v}){const R=Math.abs(m-c)/2,E=m<c?m+R:m-R,y=Math.abs(v-_)/2,f=v<_?v+y:v-y;return[E,f,R,y]}function q0({sourceX:c,sourceY:_,targetX:m,targetY:v,sourceControlX:R,sourceControlY:E,targetControlX:y,targetControlY:f}){const a=c*.125+R*.375+y*.375+m*.125,u=_*.125+E*.375+f*.375+v*.125,s=Math.abs(a-c),n=Math.abs(u-_);return[a,u,s,n]}var ps;(function(c){c.Strict="strict",c.Loose="loose"})(ps||(ps={}));var us;(function(c){c.Free="free",c.Vertical="vertical",c.Horizontal="horizontal"})(us||(us={}));var Ia;(function(c){c.Partial="partial",c.Full="full"})(Ia||(Ia={}));var Or;(function(c){c.Bezier="default",c.Straight="straight",c.Step="step",c.SmoothStep="smoothstep",c.SimpleBezier="simplebezier"})(Or||(Or={}));var xc;(function(c){c.Arrow="arrow",c.ArrowClosed="arrowclosed"})(xc||(xc={}));var Le;(function(c){c.Left="left",c.Top="top",c.Right="right",c.Bottom="bottom"})(Le||(Le={}));function Bv({pos:c,x1:_,y1:m,x2:v,y2:R}){return c===Le.Left||c===Le.Right?[.5*(_+v),m]:[_,.5*(m+R)]}function Z0({sourceX:c,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top}){const[y,f]=Bv({pos:m,x1:c,y1:_,x2:v,y2:R}),[a,u]=Bv({pos:E,x1:v,y1:R,x2:c,y2:_}),[s,n,i,r]=q0({sourceX:c,sourceY:_,targetX:v,targetY:R,sourceControlX:y,sourceControlY:f,targetControlX:a,targetControlY:u});return[`M${c},${_} C${y},${f} ${a},${u} ${v},${R}`,s,n,i,r]}const Pd=ne.memo(({sourceX:c,sourceY:_,targetX:m,targetY:v,sourcePosition:R=Le.Bottom,targetPosition:E=Le.Top,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:n,style:i,markerEnd:r,markerStart:l,interactionWidth:h})=>{const[o,d,g]=Z0({sourceX:c,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E});return _e.createElement(ko,{path:o,labelX:d,labelY:g,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:n,style:i,markerEnd:r,markerStart:l,interactionWidth:h})});Pd.displayName="SimpleBezierEdge";const Hv={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},PE=({source:c,sourcePosition:_=Le.Bottom,target:m})=>_===Le.Left||_===Le.Right?c.x<m.x?{x:1,y:0}:{x:-1,y:0}:c.y<m.y?{x:0,y:1}:{x:0,y:-1},zv=(c,_)=>Math.sqrt(Math.pow(_.x-c.x,2)+Math.pow(_.y-c.y,2));function WE({source:c,sourcePosition:_=Le.Bottom,target:m,targetPosition:v=Le.Top,center:R,offset:E}){const y=Hv[_],f=Hv[v],a={x:c.x+y.x*E,y:c.y+y.y*E},u={x:m.x+f.x*E,y:m.y+f.y*E},s=PE({source:a,sourcePosition:_,target:u}),n=s.x!==0?"x":"y",i=s[n];let r=[],l,h;const o={x:0,y:0},d={x:0,y:0},[g,x,S,w]=X0({sourceX:c.x,sourceY:c.y,targetX:m.x,targetY:m.y});if(y[n]*f[n]===-1){l=R.x??g,h=R.y??x;const k=[{x:l,y:a.y},{x:l,y:u.y}],A=[{x:a.x,y:h},{x:u.x,y:h}];y[n]===i?r=n==="x"?k:A:r=n==="x"?A:k}else{const k=[{x:a.x,y:u.y}],A=[{x:u.x,y:a.y}];if(n==="x"?r=y.x===i?A:k:r=y.y===i?k:A,_===v){const D=Math.abs(c[n]-m[n]);if(D<=E){const M=Math.min(E-1,E-D);y[n]===i?o[n]=(a[n]>c[n]?-1:1)*M:d[n]=(u[n]>m[n]?-1:1)*M}}if(_!==v){const D=n==="x"?"y":"x",M=y[n]===f[D],L=a[D]>u[D],O=a[D]<u[D];(y[n]===1&&(!M&&L||M&&O)||y[n]!==1&&(!M&&O||M&&L))&&(r=n==="x"?k:A)}const T={x:a.x+o.x,y:a.y+o.y},j={x:u.x+d.x,y:u.y+d.y},F=Math.max(Math.abs(T.x-r[0].x),Math.abs(j.x-r[0].x)),$=Math.max(Math.abs(T.y-r[0].y),Math.abs(j.y-r[0].y));F>=$?(l=(T.x+j.x)/2,h=r[0].y):(l=r[0].x,h=(T.y+j.y)/2)}return[[c,{x:a.x+o.x,y:a.y+o.y},...r,{x:u.x+d.x,y:u.y+d.y},m],l,h,S,w]}function UE(c,_,m,v){const R=Math.min(zv(c,_)/2,zv(_,m)/2,v),{x:E,y}=_;if(c.x===E&&E===m.x||c.y===y&&y===m.y)return`L${E} ${y}`;if(c.y===y){const u=c.x<m.x?-1:1,s=c.y<m.y?1:-1;return`L ${E+R*u},${y}Q ${E},${y} ${E},${y+R*s}`}const f=c.x<m.x?1:-1,a=c.y<m.y?-1:1;return`L ${E},${y+R*a}Q ${E},${y} ${E+R*f},${y}`}function Ed({sourceX:c,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top,borderRadius:y=5,centerX:f,centerY:a,offset:u=20}){const[s,n,i,r,l]=WE({source:{x:c,y:_},sourcePosition:m,target:{x:v,y:R},targetPosition:E,center:{x:f,y:a},offset:u});return[s.reduce((o,d,g)=>{let x="";return g>0&&g<s.length-1?x=UE(s[g-1],d,s[g+1],y):x=`${g===0?"M":"L"}${d.x} ${d.y}`,o+=x,o},""),n,i,r,l]}const Lc=ne.memo(({sourceX:c,sourceY:_,targetX:m,targetY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u,style:s,sourcePosition:n=Le.Bottom,targetPosition:i=Le.Top,markerEnd:r,markerStart:l,pathOptions:h,interactionWidth:o})=>{const[d,g,x]=Ed({sourceX:c,sourceY:_,sourcePosition:n,targetX:m,targetY:v,targetPosition:i,borderRadius:h?.borderRadius,offset:h?.offset});return _e.createElement(ko,{path:d,labelX:g,labelY:x,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u,style:s,markerEnd:r,markerStart:l,interactionWidth:o})});Lc.displayName="SmoothStepEdge";const Wd=ne.memo(c=>_e.createElement(Lc,{...c,pathOptions:ne.useMemo(()=>({borderRadius:0,offset:c.pathOptions?.offset}),[c.pathOptions?.offset])}));Wd.displayName="StepEdge";function VE({sourceX:c,sourceY:_,targetX:m,targetY:v}){const[R,E,y,f]=X0({sourceX:c,sourceY:_,targetX:m,targetY:v});return[`M ${c},${_}L ${m},${v}`,R,E,y,f]}const Ud=ne.memo(({sourceX:c,sourceY:_,targetX:m,targetY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u,style:s,markerEnd:n,markerStart:i,interactionWidth:r})=>{const[l,h,o]=VE({sourceX:c,sourceY:_,targetX:m,targetY:v});return _e.createElement(ko,{path:l,labelX:h,labelY:o,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:u,style:s,markerEnd:n,markerStart:i,interactionWidth:r})});Ud.displayName="StraightEdge";function ic(c,_){return c>=0?.5*c:_*25*Math.sqrt(-c)}function Fv({pos:c,x1:_,y1:m,x2:v,y2:R,c:E}){switch(c){case Le.Left:return[_-ic(_-v,E),m];case Le.Right:return[_+ic(v-_,E),m];case Le.Top:return[_,m-ic(m-R,E)];case Le.Bottom:return[_,m+ic(R-m,E)]}}function Vd({sourceX:c,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top,curvature:y=.25}){const[f,a]=Fv({pos:m,x1:c,y1:_,x2:v,y2:R,c:y}),[u,s]=Fv({pos:E,x1:v,y1:R,x2:c,y2:_,c:y}),[n,i,r,l]=q0({sourceX:c,sourceY:_,targetX:v,targetY:R,sourceControlX:f,sourceControlY:a,targetControlX:u,targetControlY:s});return[`M${c},${_} C${f},${a} ${u},${s} ${v},${R}`,n,i,r,l]}const wc=ne.memo(({sourceX:c,sourceY:_,targetX:m,targetY:v,sourcePosition:R=Le.Bottom,targetPosition:E=Le.Top,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:n,style:i,markerEnd:r,markerStart:l,pathOptions:h,interactionWidth:o})=>{const[d,g,x]=Vd({sourceX:c,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E,curvature:h?.curvature});return _e.createElement(ko,{path:d,labelX:g,labelY:x,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:u,labelBgPadding:s,labelBgBorderRadius:n,style:i,markerEnd:r,markerStart:l,interactionWidth:o})});wc.displayName="BezierEdge";const Gd=ne.createContext(null),GE=Gd.Provider;Gd.Consumer;const KE=()=>ne.useContext(Gd),YE=c=>"id"in c&&"source"in c&&"target"in c,XE=({source:c,sourceHandle:_,target:m,targetHandle:v})=>`reactflow__edge-${c}${_||""}-${m}${v||""}`,Ad=(c,_)=>typeof c>"u"?"":typeof c=="string"?c:`${_?`${_}__`:""}${Object.keys(c).sort().map(v=>`${v}=${c[v]}`).join("&")}`,qE=(c,_)=>_.some(m=>m.source===c.source&&m.target===c.target&&(m.sourceHandle===c.sourceHandle||!m.sourceHandle&&!c.sourceHandle)&&(m.targetHandle===c.targetHandle||!m.targetHandle&&!c.targetHandle)),Q0=(c,_)=>{if(!c.source||!c.target)return _;let m;return YE(c)?m={...c}:m={...c,id:XE(c)},qE(m,_)?_:_.concat(m)},kd=({x:c,y:_},[m,v,R],E,[y,f])=>{const a={x:(c-m)/R,y:(_-v)/R};return E?{x:y*Math.round(a.x/y),y:f*Math.round(a.y/f)}:a},J0=({x:c,y:_},[m,v,R])=>({x:c*R+m,y:_*R+v}),xo=(c,_=[0,0])=>{if(!c)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const m=(c.width??0)*_[0],v=(c.height??0)*_[1],R={x:c.position.x-m,y:c.position.y-v};return{...R,positionAbsolute:c.positionAbsolute?{x:c.positionAbsolute.x-m,y:c.positionAbsolute.y-v}:R}},Kd=(c,_=[0,0])=>{if(c.length===0)return{x:0,y:0,width:0,height:0};const m=c.reduce((v,R)=>{const{x:E,y}=xo(R,_).positionAbsolute;return IE(v,Fd({x:E,y,width:R.width||0,height:R.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return BE(m)},ey=(c,_,[m,v,R]=[0,0,1],E=!1,y=!1,f=[0,0])=>{const a={x:(_.x-m)/R,y:(_.y-v)/R,width:_.width/R,height:_.height/R},u=[];return c.forEach(s=>{const{width:n,height:i,selectable:r=!0,hidden:l=!1}=s;if(y&&!r||l)return!1;const{positionAbsolute:h}=xo(s,f),o={x:h.x,y:h.y,width:n||0,height:i||0},d=Sd(a,o),g=typeof n>"u"||typeof i>"u"||n===null||i===null,x=E&&d>0,S=(n||0)*(i||0);(g||x||d>=S||s.dragging)&&u.push(s)}),u},ty=(c,_)=>{const m=c.map(v=>v.id);return _.filter(v=>m.includes(v.source)||m.includes(v.target))},ny=(c,_,m,v,R,E=.1)=>{const y=_/(c.width*(1+E)),f=m/(c.height*(1+E)),a=Math.min(y,f),u=Eo(a,v,R),s=c.x+c.width/2,n=c.y+c.height/2,i=_/2-s*u,r=m/2-n*u;return{x:i,y:r,zoom:u}},as=(c,_=0)=>c.transition().duration(_);function Pv(c,_,m,v){return(_[m]||[]).reduce((R,E)=>(`${c.id}-${E.id}-${m}`!==v&&R.push({id:E.id||null,type:m,nodeId:c.id,x:(c.positionAbsolute?.x??0)+E.x+E.width/2,y:(c.positionAbsolute?.y??0)+E.y+E.height/2}),R),[])}function ZE(c,_,m,v,R,E){const{x:y,y:f}=Ir(c),u=_.elementsFromPoint(y,f).find(l=>l.classList.contains("react-flow__handle"));if(u){const l=u.getAttribute("data-nodeid");if(l){const h=Yd(void 0,u),o=u.getAttribute("data-handleid"),d=E({nodeId:l,id:o,type:h});if(d){const g=R.find(x=>x.nodeId===l&&x.type===h&&x.id===o);return{handle:{id:o,type:h,nodeId:l,x:g?.x||m.x,y:g?.y||m.y},validHandleResult:d}}}}let s=[],n=1/0;if(R.forEach(l=>{const h=Math.sqrt((l.x-m.x)**2+(l.y-m.y)**2);if(h<=v){const o=E(l);h<=n&&(h<n?s=[{handle:l,validHandleResult:o}]:h===n&&s.push({handle:l,validHandleResult:o}),n=h)}}),!s.length)return{handle:null,validHandleResult:iy()};if(s.length===1)return s[0];const i=s.some(({validHandleResult:l})=>l.isValid),r=s.some(({handle:l})=>l.type==="target");return s.find(({handle:l,validHandleResult:h})=>r?l.type==="target":i?h.isValid:!0)||s[0]}const QE={source:null,target:null,sourceHandle:null,targetHandle:null},iy=()=>({handleDomNode:null,isValid:!1,connection:QE,endHandle:null});function ry(c,_,m,v,R,E,y){const f=R==="target",a=y.querySelector(`.react-flow__handle[data-id="${c?.nodeId}-${c?.id}-${c?.type}"]`),u={...iy(),handleDomNode:a};if(a){const s=Yd(void 0,a),n=a.getAttribute("data-nodeid"),i=a.getAttribute("data-handleid"),r=a.classList.contains("connectable"),l=a.classList.contains("connectableend"),h={source:f?n:m,sourceHandle:f?i:v,target:f?m:n,targetHandle:f?v:i};u.connection=h,r&&l&&(_===ps.Strict?f&&s==="source"||!f&&s==="target":n!==m||i!==v)&&(u.endHandle={nodeId:n,handleId:i,type:s},u.isValid=E(h))}return u}function JE({nodes:c,nodeId:_,handleId:m,handleType:v}){return c.reduce((R,E)=>{if(E[At]){const{handleBounds:y}=E[At];let f=[],a=[];y&&(f=Pv(E,y,"source",`${_}-${m}-${v}`),a=Pv(E,y,"target",`${_}-${m}-${v}`)),R.push(...f,...a)}return R},[])}function Yd(c,_){return c||(_?.classList.contains("target")?"target":_?.classList.contains("source")?"source":null)}function cd(c){c?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function eA(c,_){let m=null;return _?m="valid":c&&!_&&(m="invalid"),m}function sy({event:c,handleId:_,nodeId:m,onConnect:v,isTarget:R,getState:E,setState:y,isValidConnection:f,edgeUpdaterType:a,onReconnectEnd:u}){const s=G0(c.target),{connectionMode:n,domNode:i,autoPanOnConnect:r,connectionRadius:l,onConnectStart:h,panBy:o,getNodes:d,cancelConnection:g}=E();let x=0,S;const{x:w,y:b}=Ir(c),k=s?.elementFromPoint(w,b),A=Yd(a,k),T=i?.getBoundingClientRect();if(!T||!A)return;let j,F=Ir(c,T),$=!1,D=null,M=!1,L=null;const O=JE({nodes:d(),nodeId:m,handleId:_,handleType:A}),z=()=>{if(!r)return;const[U,W]=V0(F,T);o({x:U,y:W}),x=requestAnimationFrame(z)};y({connectionPosition:F,connectionStatus:null,connectionNodeId:m,connectionHandleId:_,connectionHandleType:A,connectionStartHandle:{nodeId:m,handleId:_,type:A},connectionEndHandle:null}),h?.(c,{nodeId:m,handleId:_,handleType:A});function B(U){const{transform:W}=E();F=Ir(U,T);const{handle:K,validHandleResult:Y}=ZE(U,s,kd(F,W,!1,[1,1]),l,O,X=>ry(X,n,m,_,R?"target":"source",f,s));if(S=K,$||(z(),$=!0),L=Y.handleDomNode,D=Y.connection,M=Y.isValid,y({connectionPosition:S&&M?J0({x:S.x,y:S.y},W):F,connectionStatus:eA(!!S,M),connectionEndHandle:Y.endHandle}),!S&&!M&&!L)return cd(j);D.source!==D.target&&L&&(cd(j),j=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",M),L.classList.toggle("react-flow__handle-valid",M))}function P(U){(S||L)&&D&&M&&v?.(D),E().onConnectEnd?.(U),a&&u?.(U),cd(j),g(),cancelAnimationFrame(x),$=!1,M=!1,D=null,L=null,s.removeEventListener("mousemove",B),s.removeEventListener("mouseup",P),s.removeEventListener("touchmove",B),s.removeEventListener("touchend",P)}s.addEventListener("mousemove",B),s.addEventListener("mouseup",P),s.addEventListener("touchmove",B),s.addEventListener("touchend",P)}const Wv=()=>!0,tA=c=>({connectionStartHandle:c.connectionStartHandle,connectOnClick:c.connectOnClick,noPanClassName:c.noPanClassName}),nA=(c,_,m)=>v=>{const{connectionStartHandle:R,connectionEndHandle:E,connectionClickStartHandle:y}=v;return{connecting:R?.nodeId===c&&R?.handleId===_&&R?.type===m||E?.nodeId===c&&E?.handleId===_&&E?.type===m,clickConnecting:y?.nodeId===c&&y?.handleId===_&&y?.type===m}},oy=ne.forwardRef(({type:c="source",position:_=Le.Top,isValidConnection:m,isConnectable:v=!0,isConnectableStart:R=!0,isConnectableEnd:E=!0,id:y,onConnect:f,children:a,className:u,onMouseDown:s,onTouchStart:n,...i},r)=>{const l=y||null,h=c==="target",o=sn(),d=KE(),{connectOnClick:g,noPanClassName:x}=kt(tA,wn),{connecting:S,clickConnecting:w}=kt(nA(d,l,c),wn);d||o.getState().onError?.("010",tr.error010());const b=T=>{const{defaultEdgeOptions:j,onConnect:F,hasDefaultEdges:$}=o.getState(),D={...j,...T};if($){const{edges:M,setEdges:L}=o.getState();L(Q0(D,M))}F?.(D),f?.(D)},k=T=>{if(!d)return;const j=Y0(T);R&&(j&&T.button===0||!j)&&sy({event:T,handleId:l,nodeId:d,onConnect:b,isTarget:h,getState:o.getState,setState:o.setState,isValidConnection:m||o.getState().isValidConnection||Wv}),j?s?.(T):n?.(T)},A=T=>{const{onClickConnectStart:j,onClickConnectEnd:F,connectionClickStartHandle:$,connectionMode:D,isValidConnection:M}=o.getState();if(!d||!$&&!R)return;if(!$){j?.(T,{nodeId:d,handleId:l,handleType:c}),o.setState({connectionClickStartHandle:{nodeId:d,type:c,handleId:l}});return}const L=G0(T.target),O=m||M||Wv,{connection:z,isValid:B}=ry({nodeId:d,id:l,type:c},D,$.nodeId,$.handleId||null,$.type,O,L);B&&b(z),F?.(T),o.setState({connectionClickStartHandle:null})};return _e.createElement("div",{"data-handleid":l,"data-nodeid":d,"data-handlepos":_,"data-id":`${d}-${l}-${c}`,className:Jn(["react-flow__handle",`react-flow__handle-${_}`,"nodrag",x,u,{source:!h,target:h,connectable:v,connectablestart:R,connectableend:E,connecting:w,connectionindicator:v&&(R&&!S||E&&S)}]),onMouseDown:k,onTouchStart:k,onClick:g?A:void 0,ref:r,...i},a)});oy.displayName="Handle";var Ao=ne.memo(oy);const ay=({data:c,isConnectable:_,targetPosition:m=Le.Top,sourcePosition:v=Le.Bottom})=>_e.createElement(_e.Fragment,null,_e.createElement(Ao,{type:"target",position:m,isConnectable:_}),c?.label,_e.createElement(Ao,{type:"source",position:v,isConnectable:_}));ay.displayName="DefaultNode";var Td=ne.memo(ay);const ly=({data:c,isConnectable:_,sourcePosition:m=Le.Bottom})=>_e.createElement(_e.Fragment,null,c?.label,_e.createElement(Ao,{type:"source",position:m,isConnectable:_}));ly.displayName="InputNode";var cy=ne.memo(ly);const uy=({data:c,isConnectable:_,targetPosition:m=Le.Top})=>_e.createElement(_e.Fragment,null,_e.createElement(Ao,{type:"target",position:m,isConnectable:_}),c?.label);uy.displayName="OutputNode";var hy=ne.memo(uy);const Xd=()=>null;Xd.displayName="GroupNode";const iA=c=>({selectedNodes:c.getNodes().filter(_=>_.selected),selectedEdges:c.edges.filter(_=>_.selected).map(_=>({..._}))}),rc=c=>c.id;function rA(c,_){return wn(c.selectedNodes.map(rc),_.selectedNodes.map(rc))&&wn(c.selectedEdges.map(rc),_.selectedEdges.map(rc))}const dy=ne.memo(({onSelectionChange:c})=>{const _=sn(),{selectedNodes:m,selectedEdges:v}=kt(iA,rA);return ne.useEffect(()=>{const R={nodes:m,edges:v};c?.(R),_.getState().onSelectionChange.forEach(E=>E(R))},[m,v,c]),null});dy.displayName="SelectionListener";const sA=c=>!!c.onSelectionChange;function oA({onSelectionChange:c}){const _=kt(sA);return c||_?_e.createElement(dy,{onSelectionChange:c}):null}const aA=c=>({setNodes:c.setNodes,setEdges:c.setEdges,setDefaultNodesAndEdges:c.setDefaultNodesAndEdges,setMinZoom:c.setMinZoom,setMaxZoom:c.setMaxZoom,setTranslateExtent:c.setTranslateExtent,setNodeExtent:c.setNodeExtent,reset:c.reset});function fo(c,_){ne.useEffect(()=>{typeof c<"u"&&_(c)},[c])}function We(c,_,m){ne.useEffect(()=>{typeof _<"u"&&m({[c]:_})},[_])}const lA=({nodes:c,edges:_,defaultNodes:m,defaultEdges:v,onConnect:R,onConnectStart:E,onConnectEnd:y,onClickConnectStart:f,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:s,nodesFocusable:n,edgesFocusable:i,edgesUpdatable:r,elevateNodesOnSelect:l,minZoom:h,maxZoom:o,nodeExtent:d,onNodesChange:g,onEdgesChange:x,elementsSelectable:S,connectionMode:w,snapGrid:b,snapToGrid:k,translateExtent:A,connectOnClick:T,defaultEdgeOptions:j,fitView:F,fitViewOptions:$,onNodesDelete:D,onEdgesDelete:M,onNodeDrag:L,onNodeDragStart:O,onNodeDragStop:z,onSelectionDrag:B,onSelectionDragStart:P,onSelectionDragStop:U,noPanClassName:W,nodeOrigin:K,rfId:Y,autoPanOnConnect:X,autoPanOnNodeDrag:q,onError:J,connectionRadius:V,isValidConnection:Q,nodeDragThreshold:te})=>{const{setNodes:ie,setEdges:me,setDefaultNodesAndEdges:pe,setMinZoom:Se,setMaxZoom:ke,setTranslateExtent:Ae,setNodeExtent:Ue,reset:we}=kt(aA,wn),Ce=sn();return ne.useEffect(()=>{const at=v?.map($t=>({...$t,...j}));return pe(m,at),()=>{we()}},[]),We("defaultEdgeOptions",j,Ce.setState),We("connectionMode",w,Ce.setState),We("onConnect",R,Ce.setState),We("onConnectStart",E,Ce.setState),We("onConnectEnd",y,Ce.setState),We("onClickConnectStart",f,Ce.setState),We("onClickConnectEnd",a,Ce.setState),We("nodesDraggable",u,Ce.setState),We("nodesConnectable",s,Ce.setState),We("nodesFocusable",n,Ce.setState),We("edgesFocusable",i,Ce.setState),We("edgesUpdatable",r,Ce.setState),We("elementsSelectable",S,Ce.setState),We("elevateNodesOnSelect",l,Ce.setState),We("snapToGrid",k,Ce.setState),We("snapGrid",b,Ce.setState),We("onNodesChange",g,Ce.setState),We("onEdgesChange",x,Ce.setState),We("connectOnClick",T,Ce.setState),We("fitViewOnInit",F,Ce.setState),We("fitViewOnInitOptions",$,Ce.setState),We("onNodesDelete",D,Ce.setState),We("onEdgesDelete",M,Ce.setState),We("onNodeDrag",L,Ce.setState),We("onNodeDragStart",O,Ce.setState),We("onNodeDragStop",z,Ce.setState),We("onSelectionDrag",B,Ce.setState),We("onSelectionDragStart",P,Ce.setState),We("onSelectionDragStop",U,Ce.setState),We("noPanClassName",W,Ce.setState),We("nodeOrigin",K,Ce.setState),We("rfId",Y,Ce.setState),We("autoPanOnConnect",X,Ce.setState),We("autoPanOnNodeDrag",q,Ce.setState),We("onError",J,Ce.setState),We("connectionRadius",V,Ce.setState),We("isValidConnection",Q,Ce.setState),We("nodeDragThreshold",te,Ce.setState),fo(c,ie),fo(_,me),fo(h,Se),fo(o,ke),fo(A,Ae),fo(d,Ue),null},Uv={display:"none"},cA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fy="react-flow__node-desc",py="react-flow__edge-desc",uA="react-flow__aria-live",hA=c=>c.ariaLiveMessage;function dA({rfId:c}){const _=kt(hA);return _e.createElement("div",{id:`${uA}-${c}`,"aria-live":"assertive","aria-atomic":"true",style:cA},_)}function fA({rfId:c,disableKeyboardA11y:_}){return _e.createElement(_e.Fragment,null,_e.createElement("div",{id:`${fy}-${c}`,style:Uv},"Press enter or space to select a node.",!_&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),_e.createElement("div",{id:`${py}-${c}`,style:Uv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!_&&_e.createElement(dA,{rfId:c}))}var Ba=(c=null,_={actInsideInputWithModifier:!0})=>{const[m,v]=ne.useState(!1),R=ne.useRef(!1),E=ne.useRef(new Set([])),[y,f]=ne.useMemo(()=>{if(c!==null){const u=(Array.isArray(c)?c:[c]).filter(n=>typeof n=="string").map(n=>n.split("+")),s=u.reduce((n,i)=>n.concat(...i),[]);return[u,s]}return[[],[]]},[c]);return ne.useEffect(()=>{const a=typeof document<"u"?document:null,u=_?.target||a;if(c!==null){const s=r=>{if(R.current=r.ctrlKey||r.metaKey||r.shiftKey,(!R.current||R.current&&!_.actInsideInputWithModifier)&&Cd(r))return!1;const h=Gv(r.code,f);E.current.add(r[h]),Vv(y,E.current,!1)&&(r.preventDefault(),v(!0))},n=r=>{if((!R.current||R.current&&!_.actInsideInputWithModifier)&&Cd(r))return!1;const h=Gv(r.code,f);Vv(y,E.current,!0)?(v(!1),E.current.clear()):E.current.delete(r[h]),r.key==="Meta"&&E.current.clear(),R.current=!1},i=()=>{E.current.clear(),v(!1)};return u?.addEventListener("keydown",s),u?.addEventListener("keyup",n),window.addEventListener("blur",i),()=>{u?.removeEventListener("keydown",s),u?.removeEventListener("keyup",n),window.removeEventListener("blur",i)}}},[c,v]),m};function Vv(c,_,m){return c.filter(v=>m||v.length===_.size).some(v=>v.every(R=>_.has(R)))}function Gv(c,_){return _.includes(c)?"code":"key"}function gy(c,_,m,v){const R=c.parentNode||c.parentId;if(!R)return m;const E=_.get(R),y=xo(E,v);return gy(E,_,{x:(m.x??0)+y.x,y:(m.y??0)+y.y,z:(E[At]?.z??0)>(m.z??0)?E[At]?.z??0:m.z??0},v)}function my(c,_,m){c.forEach(v=>{const R=v.parentNode||v.parentId;if(R&&!c.has(R))throw new Error(`Parent node ${R} not found`);if(R||m?.[v.id]){const{x:E,y,z:f}=gy(v,c,{...v.position,z:v[At]?.z??0},_);v.positionAbsolute={x:E,y},v[At].z=f,m?.[v.id]&&(v[At].isParent=!0)}})}function ud(c,_,m,v){const R=new Map,E={},y=v?1e3:0;return c.forEach(f=>{const a=(qn(f.zIndex)?f.zIndex:0)+(f.selected?y:0),u=_.get(f.id),s={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},n=f.parentNode||f.parentId;n&&(E[n]=!0);const i=u?.type&&u?.type!==f.type;Object.defineProperty(s,At,{enumerable:!1,value:{handleBounds:i?void 0:u?.[At]?.handleBounds,z:a}}),R.set(f.id,s)}),my(R,m,E),R}function vy(c,_={}){const{getNodes:m,width:v,height:R,minZoom:E,maxZoom:y,d3Zoom:f,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:s,nodeOrigin:n}=c(),i=_.initial&&!u&&s;if(f&&a&&(i||!_.initial)){const l=m().filter(o=>{const d=_.includeHiddenNodes?o.width&&o.height:!o.hidden;return _.nodes?.length?d&&_.nodes.some(g=>g.id===o.id):d}),h=l.every(o=>o.width&&o.height);if(l.length>0&&h){const o=Kd(l,n),{x:d,y:g,zoom:x}=ny(o,v,R,_.minZoom??E,_.maxZoom??y,_.padding??.1),S=jr.translate(d,g).scale(x);return typeof _.duration=="number"&&_.duration>0?f.transform(as(a,_.duration),S):f.transform(a,S),!0}}return!1}function pA(c,_){return c.forEach(m=>{const v=_.get(m.id);v&&_.set(v.id,{...v,[At]:v[At],selected:m.selected})}),new Map(_)}function gA(c,_){return _.map(m=>{const v=c.find(R=>R.id===m.id);return v&&(m.selected=v.selected),m})}function sc({changedNodes:c,changedEdges:_,get:m,set:v}){const{nodeInternals:R,edges:E,onNodesChange:y,onEdgesChange:f,hasDefaultNodes:a,hasDefaultEdges:u}=m();c?.length&&(a&&v({nodeInternals:pA(c,R)}),y?.(c)),_?.length&&(u&&v({edges:gA(_,E)}),f?.(_))}const po=()=>{},mA={zoomIn:po,zoomOut:po,zoomTo:po,getZoom:()=>1,setViewport:po,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:po,fitBounds:po,project:c=>c,screenToFlowPosition:c=>c,flowToScreenPosition:c=>c,viewportInitialized:!1},vA=c=>({d3Zoom:c.d3Zoom,d3Selection:c.d3Selection}),yA=()=>{const c=sn(),{d3Zoom:_,d3Selection:m}=kt(vA,wn);return ne.useMemo(()=>m&&_?{zoomIn:R=>_.scaleBy(as(m,R?.duration),1.2),zoomOut:R=>_.scaleBy(as(m,R?.duration),1/1.2),zoomTo:(R,E)=>_.scaleTo(as(m,E?.duration),R),getZoom:()=>c.getState().transform[2],setViewport:(R,E)=>{const[y,f,a]=c.getState().transform,u=jr.translate(R.x??y,R.y??f).scale(R.zoom??a);_.transform(as(m,E?.duration),u)},getViewport:()=>{const[R,E,y]=c.getState().transform;return{x:R,y:E,zoom:y}},fitView:R=>vy(c.getState,R),setCenter:(R,E,y)=>{const{width:f,height:a,maxZoom:u}=c.getState(),s=typeof y?.zoom<"u"?y.zoom:u,n=f/2-R*s,i=a/2-E*s,r=jr.translate(n,i).scale(s);_.transform(as(m,y?.duration),r)},fitBounds:(R,E)=>{const{width:y,height:f,minZoom:a,maxZoom:u}=c.getState(),{x:s,y:n,zoom:i}=ny(R,y,f,a,u,E?.padding??.1),r=jr.translate(s,n).scale(i);_.transform(as(m,E?.duration),r)},project:R=>{const{transform:E,snapToGrid:y,snapGrid:f}=c.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),kd(R,E,y,f)},screenToFlowPosition:R=>{const{transform:E,snapToGrid:y,snapGrid:f,domNode:a}=c.getState();if(!a)return R;const{x:u,y:s}=a.getBoundingClientRect(),n={x:R.x-u,y:R.y-s};return kd(n,E,y,f)},flowToScreenPosition:R=>{const{transform:E,domNode:y}=c.getState();if(!y)return R;const{x:f,y:a}=y.getBoundingClientRect(),u=J0(R,E);return{x:u.x+f,y:u.y+a}},viewportInitialized:!0}:mA,[_,m])};function yy(){const c=yA(),_=sn(),m=ne.useCallback(()=>_.getState().getNodes().map(h=>({...h})),[]),v=ne.useCallback(h=>_.getState().nodeInternals.get(h),[]),R=ne.useCallback(()=>{const{edges:h=[]}=_.getState();return h.map(o=>({...o}))},[]),E=ne.useCallback(h=>{const{edges:o=[]}=_.getState();return o.find(d=>d.id===h)},[]),y=ne.useCallback(h=>{const{getNodes:o,setNodes:d,hasDefaultNodes:g,onNodesChange:x}=_.getState(),S=o(),w=typeof h=="function"?h(S):h;if(g)d(w);else if(x){const b=w.length===0?S.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));x(b)}},[]),f=ne.useCallback(h=>{const{edges:o=[],setEdges:d,hasDefaultEdges:g,onEdgesChange:x}=_.getState(),S=typeof h=="function"?h(o):h;if(g)d(S);else if(x){const w=S.length===0?o.map(b=>({type:"remove",id:b.id})):S.map(b=>({item:b,type:"reset"}));x(w)}},[]),a=ne.useCallback(h=>{const o=Array.isArray(h)?h:[h],{getNodes:d,setNodes:g,hasDefaultNodes:x,onNodesChange:S}=_.getState();if(x){const b=[...d(),...o];g(b)}else if(S){const w=o.map(b=>({item:b,type:"add"}));S(w)}},[]),u=ne.useCallback(h=>{const o=Array.isArray(h)?h:[h],{edges:d=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:S}=_.getState();if(x)g([...d,...o]);else if(S){const w=o.map(b=>({item:b,type:"add"}));S(w)}},[]),s=ne.useCallback(()=>{const{getNodes:h,edges:o=[],transform:d}=_.getState(),[g,x,S]=d;return{nodes:h().map(w=>({...w})),edges:o.map(w=>({...w})),viewport:{x:g,y:x,zoom:S}}},[]),n=ne.useCallback(({nodes:h,edges:o})=>{const{nodeInternals:d,getNodes:g,edges:x,hasDefaultNodes:S,hasDefaultEdges:w,onNodesDelete:b,onEdgesDelete:k,onNodesChange:A,onEdgesChange:T}=_.getState(),j=(h||[]).map(L=>L.id),F=(o||[]).map(L=>L.id),$=g().reduce((L,O)=>{const z=O.parentNode||O.parentId,B=!j.includes(O.id)&&z&&L.find(U=>U.id===z);return(typeof O.deletable!="boolean"||O.deletable)&&(j.includes(O.id)||B)&&L.push(O),L},[]),D=x.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),M=D.filter(L=>F.includes(L.id));if($||M){const L=ty($,D),O=[...M,...L],z=O.reduce((B,P)=>(B.includes(P.id)||B.push(P.id),B),[]);if((w||S)&&(w&&_.setState({edges:x.filter(B=>!z.includes(B.id))}),S&&($.forEach(B=>{d.delete(B.id)}),_.setState({nodeInternals:new Map(d)}))),z.length>0&&(k?.(O),T&&T(z.map(B=>({id:B,type:"remove"})))),$.length>0&&(b?.($),A)){const B=$.map(P=>({id:P.id,type:"remove"}));A(B)}}},[]),i=ne.useCallback(h=>{const o=HE(h),d=o?null:_.getState().nodeInternals.get(h.id);return!o&&!d?[null,null,o]:[o?h:Iv(d),d,o]},[]),r=ne.useCallback((h,o=!0,d)=>{const[g,x,S]=i(h);return g?(d||_.getState().getNodes()).filter(w=>{if(!S&&(w.id===x.id||!w.positionAbsolute))return!1;const b=Iv(w),k=Sd(b,g);return o&&k>0||k>=g.width*g.height}):[]},[]),l=ne.useCallback((h,o,d=!0)=>{const[g]=i(h);if(!g)return!1;const x=Sd(g,o);return d&&x>0||x>=g.width*g.height},[]);return ne.useMemo(()=>({...c,getNodes:m,getNode:v,getEdges:R,getEdge:E,setNodes:y,setEdges:f,addNodes:a,addEdges:u,toObject:s,deleteElements:n,getIntersectingNodes:r,isNodeIntersecting:l}),[c,m,v,R,E,y,f,a,u,s,n,r,l])}const bA={actInsideInputWithModifier:!1};var _A=({deleteKeyCode:c,multiSelectionKeyCode:_})=>{const m=sn(),{deleteElements:v}=yy(),R=Ba(c,bA),E=Ba(_);ne.useEffect(()=>{if(R){const{edges:y,getNodes:f}=m.getState(),a=f().filter(s=>s.selected),u=y.filter(s=>s.selected);v({nodes:a,edges:u}),m.setState({nodesSelectionActive:!1})}},[R]),ne.useEffect(()=>{m.setState({multiSelectionActive:E})},[E])};function xA(c){const _=sn();ne.useEffect(()=>{let m;const v=()=>{if(!c.current)return;const R=Hd(c.current);(R.height===0||R.width===0)&&_.getState().onError?.("004",tr.error004()),_.setState({width:R.width||500,height:R.height||500})};return v(),window.addEventListener("resize",v),c.current&&(m=new ResizeObserver(()=>v()),m.observe(c.current)),()=>{window.removeEventListener("resize",v),m&&c.current&&m.unobserve(c.current)}},[])}const qd={position:"absolute",width:"100%",height:"100%",top:0,left:0},wA=(c,_)=>c.x!==_.x||c.y!==_.y||c.zoom!==_.k,oc=c=>({x:c.x,y:c.y,zoom:c.k}),go=(c,_)=>c.target.closest(`.${_}`),Kv=(c,_)=>_===2&&Array.isArray(c)&&c.includes(2),Yv=c=>{const _=c.ctrlKey&&_c()?10:1;return-c.deltaY*(c.deltaMode===1?.05:c.deltaMode?1:.002)*_},SA=c=>({d3Zoom:c.d3Zoom,d3Selection:c.d3Selection,d3ZoomHandler:c.d3ZoomHandler,userSelectionActive:c.userSelectionActive}),CA=({onMove:c,onMoveStart:_,onMoveEnd:m,onPaneContextMenu:v,zoomOnScroll:R=!0,zoomOnPinch:E=!0,panOnScroll:y=!1,panOnScrollSpeed:f=.5,panOnScrollMode:a=us.Free,zoomOnDoubleClick:u=!0,elementsSelectable:s,panOnDrag:n=!0,defaultViewport:i,translateExtent:r,minZoom:l,maxZoom:h,zoomActivationKeyCode:o,preventScrolling:d=!0,children:g,noWheelClassName:x,noPanClassName:S})=>{const w=ne.useRef(),b=sn(),k=ne.useRef(!1),A=ne.useRef(!1),T=ne.useRef(null),j=ne.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:$,d3ZoomHandler:D,userSelectionActive:M}=kt(SA,wn),L=Ba(o),O=ne.useRef(0),z=ne.useRef(!1),B=ne.useRef();return xA(T),ne.useEffect(()=>{if(T.current){const P=T.current.getBoundingClientRect(),U=ME().scaleExtent([l,h]).translateExtent(r),W=mi(T.current).call(U),K=jr.translate(i.x,i.y).scale(Eo(i.zoom,l,h)),Y=[[0,0],[P.width,P.height]],X=U.constrain()(K,Y,r);U.transform(W,X),U.wheelDelta(Yv),b.setState({d3Zoom:U,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:T.current.closest(".react-flow")})}},[]),ne.useEffect(()=>{$&&F&&(y&&!L&&!M?$.on("wheel.zoom",P=>{if(go(P,x))return!1;P.preventDefault(),P.stopImmediatePropagation();const U=$.property("__zoom").k||1;if(P.ctrlKey&&E){const Q=Ai(P),te=Yv(P),ie=U*Math.pow(2,te);F.scaleTo($,ie,Q,P);return}const W=P.deltaMode===1?20:1;let K=a===us.Vertical?0:P.deltaX*W,Y=a===us.Horizontal?0:P.deltaY*W;!_c()&&P.shiftKey&&a!==us.Vertical&&(K=P.deltaY*W,Y=0),F.translateBy($,-(K/U)*f,-(Y/U)*f,{internal:!0});const X=oc($.property("__zoom")),{onViewportChangeStart:q,onViewportChange:J,onViewportChangeEnd:V}=b.getState();clearTimeout(B.current),z.current||(z.current=!0,_?.(P,X),q?.(X)),z.current&&(c?.(P,X),J?.(X),B.current=setTimeout(()=>{m?.(P,X),V?.(X),z.current=!1},150))},{passive:!1}):typeof D<"u"&&$.on("wheel.zoom",function(P,U){if(!d&&P.type==="wheel"&&!P.ctrlKey||go(P,x))return null;P.preventDefault(),D.call(this,P,U)},{passive:!1}))},[M,y,a,$,F,D,L,E,d,x,_,c,m]),ne.useEffect(()=>{F&&F.on("start",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;O.current=P.sourceEvent?.button;const{onViewportChangeStart:U}=b.getState(),W=oc(P.transform);k.current=!0,j.current=W,P.sourceEvent?.type==="mousedown"&&b.setState({paneDragging:!0}),U?.(W),_?.(P.sourceEvent,W)})},[F,_]),ne.useEffect(()=>{F&&(M&&!k.current?F.on("zoom",null):M||F.on("zoom",P=>{const{onViewportChange:U}=b.getState();if(b.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),A.current=!!(v&&Kv(n,O.current??0)),(c||U)&&!P.sourceEvent?.internal){const W=oc(P.transform);U?.(W),c?.(P.sourceEvent,W)}}))},[M,F,c,n,v]),ne.useEffect(()=>{F&&F.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:U}=b.getState();if(k.current=!1,b.setState({paneDragging:!1}),v&&Kv(n,O.current??0)&&!A.current&&v(P.sourceEvent),A.current=!1,(m||U)&&wA(j.current,P.transform)){const W=oc(P.transform);j.current=W,clearTimeout(w.current),w.current=setTimeout(()=>{U?.(W),m?.(P.sourceEvent,W)},y?150:0)}})},[F,y,n,m,v]),ne.useEffect(()=>{F&&F.filter(P=>{const U=L||R,W=E&&P.ctrlKey;if((n===!0||Array.isArray(n)&&n.includes(1))&&P.button===1&&P.type==="mousedown"&&(go(P,"react-flow__node")||go(P,"react-flow__edge")))return!0;if(!n&&!U&&!y&&!u&&!E||M||!u&&P.type==="dblclick"||go(P,x)&&P.type==="wheel"||go(P,S)&&(P.type!=="wheel"||y&&P.type==="wheel"&&!L)||!E&&P.ctrlKey&&P.type==="wheel"||!U&&!y&&!W&&P.type==="wheel"||!n&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(n)&&!n.includes(P.button)&&P.type==="mousedown")return!1;const K=Array.isArray(n)&&n.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&K})},[M,F,R,E,y,u,n,s,L]),_e.createElement("div",{className:"react-flow__renderer",ref:T,style:qd},g)},EA=c=>({userSelectionActive:c.userSelectionActive,userSelectionRect:c.userSelectionRect});function AA(){const{userSelectionActive:c,userSelectionRect:_}=kt(EA,wn);return c&&_?_e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:_.width,height:_.height,transform:`translate(${_.x}px, ${_.y}px)`}}):null}function Xv(c,_){const m=_.parentNode||_.parentId,v=c.find(R=>R.id===m);if(v){const R=_.position.x+_.width-v.width,E=_.position.y+_.height-v.height;if(R>0||E>0||_.position.x<0||_.position.y<0){if(v.style={...v.style},v.style.width=v.style.width??v.width,v.style.height=v.style.height??v.height,R>0&&(v.style.width+=R),E>0&&(v.style.height+=E),_.position.x<0){const y=Math.abs(_.position.x);v.position.x=v.position.x-y,v.style.width+=y,_.position.x=0}if(_.position.y<0){const y=Math.abs(_.position.y);v.position.y=v.position.y-y,v.style.height+=y,_.position.y=0}v.width=v.style.width,v.height=v.style.height}}}function by(c,_){if(c.some(v=>v.type==="reset"))return c.filter(v=>v.type==="reset").map(v=>v.item);const m=c.filter(v=>v.type==="add").map(v=>v.item);return _.reduce((v,R)=>{const E=c.filter(f=>f.id===R.id);if(E.length===0)return v.push(R),v;const y={...R};for(const f of E)if(f)switch(f.type){case"select":{y.selected=f.selected;break}case"position":{typeof f.position<"u"&&(y.position=f.position),typeof f.positionAbsolute<"u"&&(y.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(y.dragging=f.dragging),y.expandParent&&Xv(v,y);break}case"dimensions":{typeof f.dimensions<"u"&&(y.width=f.dimensions.width,y.height=f.dimensions.height),typeof f.updateStyle<"u"&&(y.style={...y.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(y.resizing=f.resizing),y.expandParent&&Xv(v,y);break}case"remove":return v}return v.push(y),v},m)}function _y(c,_){return by(c,_)}function kA(c,_){return by(c,_)}const Dr=(c,_)=>({id:c,type:"select",selected:_});function vo(c,_){return c.reduce((m,v)=>{const R=_.includes(v.id);return!v.selected&&R?(v.selected=!0,m.push(Dr(v.id,!0))):v.selected&&!R&&(v.selected=!1,m.push(Dr(v.id,!1))),m},[])}const hd=(c,_)=>m=>{m.target===_.current&&c?.(m)},TA=c=>({userSelectionActive:c.userSelectionActive,elementsSelectable:c.elementsSelectable,dragging:c.paneDragging}),xy=ne.memo(({isSelecting:c,selectionMode:_=Ia.Full,panOnDrag:m,onSelectionStart:v,onSelectionEnd:R,onPaneClick:E,onPaneContextMenu:y,onPaneScroll:f,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:s,children:n})=>{const i=ne.useRef(null),r=sn(),l=ne.useRef(0),h=ne.useRef(0),o=ne.useRef(),{userSelectionActive:d,elementsSelectable:g,dragging:x}=kt(TA,wn),S=()=>{r.setState({userSelectionActive:!1,userSelectionRect:null}),l.current=0,h.current=0},w=D=>{E?.(D),r.getState().resetSelectedElements(),r.setState({nodesSelectionActive:!1})},b=D=>{if(Array.isArray(m)&&m?.includes(2)){D.preventDefault();return}y?.(D)},k=f?D=>f(D):void 0,A=D=>{const{resetSelectedElements:M,domNode:L}=r.getState();if(o.current=L?.getBoundingClientRect(),!g||!c||D.button!==0||D.target!==i.current||!o.current)return;const{x:O,y:z}=Ir(D,o.current);M(),r.setState({userSelectionRect:{width:0,height:0,startX:O,startY:z,x:O,y:z}}),v?.(D)},T=D=>{const{userSelectionRect:M,nodeInternals:L,edges:O,transform:z,onNodesChange:B,onEdgesChange:P,nodeOrigin:U,getNodes:W}=r.getState();if(!c||!o.current||!M)return;r.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=Ir(D,o.current),Y=M.startX??0,X=M.startY??0,q={...M,x:K.x<Y?K.x:Y,y:K.y<X?K.y:X,width:Math.abs(K.x-Y),height:Math.abs(K.y-X)},J=W(),V=ey(L,q,z,_===Ia.Partial,!0,U),Q=ty(V,O).map(ie=>ie.id),te=V.map(ie=>ie.id);if(l.current!==te.length){l.current=te.length;const ie=vo(J,te);ie.length&&B?.(ie)}if(h.current!==Q.length){h.current=Q.length;const ie=vo(O,Q);ie.length&&P?.(ie)}r.setState({userSelectionRect:q})},j=D=>{if(D.button!==0)return;const{userSelectionRect:M}=r.getState();!d&&M&&D.target===i.current&&w?.(D),r.setState({nodesSelectionActive:l.current>0}),S(),R?.(D)},F=D=>{d&&(r.setState({nodesSelectionActive:l.current>0}),R?.(D)),S()},$=g&&(c||d);return _e.createElement("div",{className:Jn(["react-flow__pane",{dragging:x,selection:c}]),onClick:$?void 0:hd(w,i),onContextMenu:hd(b,i),onWheel:hd(k,i),onMouseEnter:$?void 0:a,onMouseDown:$?A:void 0,onMouseMove:$?T:u,onMouseUp:$?j:void 0,onMouseLeave:$?F:s,ref:i,style:qd},n,_e.createElement(AA,null))});xy.displayName="Pane";function wy(c,_){const m=c.parentNode||c.parentId;if(!m)return!1;const v=_.get(m);return v?v.selected?!0:wy(v,_):!1}function qv(c,_,m){let v=c;do{if(v?.matches(_))return!0;if(v===m.current)return!1;v=v.parentElement}while(v);return!1}function MA(c,_,m,v){return Array.from(c.values()).filter(R=>(R.selected||R.id===v)&&(!R.parentNode||R.parentId||!wy(R,c))&&(R.draggable||_&&typeof R.draggable>"u")).map(R=>({id:R.id,position:R.position||{x:0,y:0},positionAbsolute:R.positionAbsolute||{x:0,y:0},distance:{x:m.x-(R.positionAbsolute?.x??0),y:m.y-(R.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:R.extent,parentNode:R.parentNode||R.parentId,parentId:R.parentNode||R.parentId,width:R.width,height:R.height,expandParent:R.expandParent}))}function LA(c,_){return!_||_==="parent"?_:[_[0],[_[1][0]-(c.width||0),_[1][1]-(c.height||0)]]}function Sy(c,_,m,v,R=[0,0],E){const y=LA(c,c.extent||v);let f=y;const a=c.parentNode||c.parentId;if(c.extent==="parent"&&!c.expandParent)if(a&&c.width&&c.height){const n=m.get(a),{x:i,y:r}=xo(n,R).positionAbsolute;f=n&&qn(i)&&qn(r)&&qn(n.width)&&qn(n.height)?[[i+c.width*R[0],r+c.height*R[1]],[i+n.width-c.width+c.width*R[0],r+n.height-c.height+c.height*R[1]]]:f}else E?.("005",tr.error005()),f=y;else if(c.extent&&a&&c.extent!=="parent"){const n=m.get(a),{x:i,y:r}=xo(n,R).positionAbsolute;f=[[c.extent[0][0]+i,c.extent[0][1]+r],[c.extent[1][0]+i,c.extent[1][1]+r]]}let u={x:0,y:0};if(a){const n=m.get(a);u=xo(n,R).positionAbsolute}const s=f&&f!=="parent"?zd(_,f):_;return{position:{x:s.x-u.x,y:s.y-u.y},positionAbsolute:s}}function dd({nodeId:c,dragItems:_,nodeInternals:m}){const v=_.map(R=>({...m.get(R.id),position:R.position,positionAbsolute:R.positionAbsolute}));return[c?v.find(R=>R.id===c):v[0],v]}const Zv=(c,_,m,v)=>{const R=_.querySelectorAll(c);if(!R||!R.length)return null;const E=Array.from(R),y=_.getBoundingClientRect(),f={x:y.width*v[0],y:y.height*v[1]};return E.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-y.left-f.x)/m,y:(u.top-y.top-f.y)/m,...Hd(a)}})};function Aa(c,_,m){return m===void 0?m:v=>{const R=_().nodeInternals.get(c);R&&m(v,{...R})}}function Md({id:c,store:_,unselect:m=!1,nodeRef:v}){const{addSelectedNodes:R,unselectNodesAndEdges:E,multiSelectionActive:y,nodeInternals:f,onError:a}=_.getState(),u=f.get(c);if(!u){a?.("012",tr.error012(c));return}_.setState({nodesSelectionActive:!1}),u.selected?(m||u.selected&&y)&&(E({nodes:[u],edges:[]}),requestAnimationFrame(()=>v?.current?.blur())):R([c])}function RA(){const c=sn();return ne.useCallback(({sourceEvent:m})=>{const{transform:v,snapGrid:R,snapToGrid:E}=c.getState(),y=m.touches?m.touches[0].clientX:m.clientX,f=m.touches?m.touches[0].clientY:m.clientY,a={x:(y-v[0])/v[2],y:(f-v[1])/v[2]};return{xSnapped:E?R[0]*Math.round(a.x/R[0]):a.x,ySnapped:E?R[1]*Math.round(a.y/R[1]):a.y,...a}},[])}function fd(c){return(_,m,v)=>c?.(_,v)}function Cy({nodeRef:c,disabled:_=!1,noDragClassName:m,handleSelector:v,nodeId:R,isSelectable:E,selectNodesOnDrag:y}){const f=sn(),[a,u]=ne.useState(!1),s=ne.useRef([]),n=ne.useRef({x:null,y:null}),i=ne.useRef(0),r=ne.useRef(null),l=ne.useRef({x:0,y:0}),h=ne.useRef(null),o=ne.useRef(!1),d=ne.useRef(!1),g=ne.useRef(!1),x=RA();return ne.useEffect(()=>{if(c?.current){const S=mi(c.current),w=({x:A,y:T})=>{const{nodeInternals:j,onNodeDrag:F,onSelectionDrag:$,updateNodePositions:D,nodeExtent:M,snapGrid:L,snapToGrid:O,nodeOrigin:z,onError:B}=f.getState();n.current={x:A,y:T};let P=!1,U={x:0,y:0,x2:0,y2:0};if(s.current.length>1&&M){const K=Kd(s.current,z);U=Fd(K)}if(s.current=s.current.map(K=>{const Y={x:A-K.distance.x,y:T-K.distance.y};O&&(Y.x=L[0]*Math.round(Y.x/L[0]),Y.y=L[1]*Math.round(Y.y/L[1]));const X=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];s.current.length>1&&M&&!K.extent&&(X[0][0]=K.positionAbsolute.x-U.x+M[0][0],X[1][0]=K.positionAbsolute.x+(K.width??0)-U.x2+M[1][0],X[0][1]=K.positionAbsolute.y-U.y+M[0][1],X[1][1]=K.positionAbsolute.y+(K.height??0)-U.y2+M[1][1]);const q=Sy(K,Y,j,X,z,B);return P=P||K.position.x!==q.position.x||K.position.y!==q.position.y,K.position=q.position,K.positionAbsolute=q.positionAbsolute,K}),!P)return;D(s.current,!0,!0),u(!0);const W=R?F:fd($);if(W&&h.current){const[K,Y]=dd({nodeId:R,dragItems:s.current,nodeInternals:j});W(h.current,K,Y)}},b=()=>{if(!r.current)return;const[A,T]=V0(l.current,r.current);if(A!==0||T!==0){const{transform:j,panBy:F}=f.getState();n.current.x=(n.current.x??0)-A/j[2],n.current.y=(n.current.y??0)-T/j[2],F({x:A,y:T})&&w(n.current)}i.current=requestAnimationFrame(b)},k=A=>{const{nodeInternals:T,multiSelectionActive:j,nodesDraggable:F,unselectNodesAndEdges:$,onNodeDragStart:D,onSelectionDragStart:M}=f.getState();d.current=!0;const L=R?D:fd(M);(!y||!E)&&!j&&R&&(T.get(R)?.selected||$()),R&&E&&y&&Md({id:R,store:f,nodeRef:c});const O=x(A);if(n.current=O,s.current=MA(T,F,O,R),L&&s.current){const[z,B]=dd({nodeId:R,dragItems:s.current,nodeInternals:T});L(A.sourceEvent,z,B)}};if(_)S.on(".drag",null);else{const A=HC().on("start",T=>{const{domNode:j,nodeDragThreshold:F}=f.getState();F===0&&k(T),g.current=!1;const $=x(T);n.current=$,r.current=j?.getBoundingClientRect()||null,l.current=Ir(T.sourceEvent,r.current)}).on("drag",T=>{const j=x(T),{autoPanOnNodeDrag:F,nodeDragThreshold:$}=f.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!o.current&&d.current&&F&&(o.current=!0,b()),!d.current){const D=j.xSnapped-(n?.current?.x??0),M=j.ySnapped-(n?.current?.y??0);Math.sqrt(D*D+M*M)>$&&k(T)}(n.current.x!==j.xSnapped||n.current.y!==j.ySnapped)&&s.current&&d.current&&(h.current=T.sourceEvent,l.current=Ir(T.sourceEvent,r.current),w(j))}}).on("end",T=>{if(!(!d.current||g.current)&&(u(!1),o.current=!1,d.current=!1,cancelAnimationFrame(i.current),s.current)){const{updateNodePositions:j,nodeInternals:F,onNodeDragStop:$,onSelectionDragStop:D}=f.getState(),M=R?$:fd(D);if(j(s.current,!1,!1),M){const[L,O]=dd({nodeId:R,dragItems:s.current,nodeInternals:F});M(T.sourceEvent,L,O)}}}).filter(T=>{const j=T.target;return!T.button&&(!m||!qv(j,`.${m}`,c))&&(!v||qv(j,v,c))});return S.call(A),()=>{S.on(".drag",null)}}}},[c,_,m,v,E,f,R,y,x]),a}function Ey(){const c=sn();return ne.useCallback(m=>{const{nodeInternals:v,nodeExtent:R,updateNodePositions:E,getNodes:y,snapToGrid:f,snapGrid:a,onError:u,nodesDraggable:s}=c.getState(),n=y().filter(g=>g.selected&&(g.draggable||s&&typeof g.draggable>"u")),i=f?a[0]:5,r=f?a[1]:5,l=m.isShiftPressed?4:1,h=m.x*i*l,o=m.y*r*l,d=n.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+h,y:g.positionAbsolute.y+o};f&&(x.x=a[0]*Math.round(x.x/a[0]),x.y=a[1]*Math.round(x.y/a[1]));const{positionAbsolute:S,position:w}=Sy(g,x,v,R,void 0,u);g.position=w,g.positionAbsolute=S}return g});E(d,!0,!1)},[])}const wo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ka=c=>{const _=({id:m,type:v,data:R,xPos:E,yPos:y,xPosOrigin:f,yPosOrigin:a,selected:u,onClick:s,onMouseEnter:n,onMouseMove:i,onMouseLeave:r,onContextMenu:l,onDoubleClick:h,style:o,className:d,isDraggable:g,isSelectable:x,isConnectable:S,isFocusable:w,selectNodesOnDrag:b,sourcePosition:k,targetPosition:A,hidden:T,resizeObserver:j,dragHandle:F,zIndex:$,isParent:D,noDragClassName:M,noPanClassName:L,initialized:O,disableKeyboardA11y:z,ariaLabel:B,rfId:P,hasHandleBounds:U})=>{const W=sn(),K=ne.useRef(null),Y=ne.useRef(null),X=ne.useRef(k),q=ne.useRef(A),J=ne.useRef(v),V=x||g||s||n||i||r,Q=Ey(),te=Aa(m,W.getState,n),ie=Aa(m,W.getState,i),me=Aa(m,W.getState,r),pe=Aa(m,W.getState,l),Se=Aa(m,W.getState,h),ke=we=>{const{nodeDragThreshold:Ce}=W.getState();if(x&&(!b||!g||Ce>0)&&Md({id:m,store:W,nodeRef:K}),s){const at=W.getState().nodeInternals.get(m);at&&s(we,{...at})}},Ae=we=>{if(!Cd(we)&&!z)if(K0.includes(we.key)&&x){const Ce=we.key==="Escape";Md({id:m,store:W,unselect:Ce,nodeRef:K})}else g&&u&&Object.prototype.hasOwnProperty.call(wo,we.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${we.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E}, y: ${~~y}`}),Q({x:wo[we.key].x,y:wo[we.key].y,isShiftPressed:we.shiftKey}))};ne.useEffect(()=>()=>{Y.current&&(j?.unobserve(Y.current),Y.current=null)},[]),ne.useEffect(()=>{if(K.current&&!T){const we=K.current;(!O||!U||Y.current!==we)&&(Y.current&&j?.unobserve(Y.current),j?.observe(we),Y.current=we)}},[T,O,U]),ne.useEffect(()=>{const we=J.current!==v,Ce=X.current!==k,at=q.current!==A;K.current&&(we||Ce||at)&&(we&&(J.current=v),Ce&&(X.current=k),at&&(q.current=A),W.getState().updateNodeDimensions([{id:m,nodeElement:K.current,forceUpdate:!0}]))},[m,v,k,A]);const Ue=Cy({nodeRef:K,disabled:T||!g,noDragClassName:M,handleSelector:F,nodeId:m,isSelectable:x,selectNodesOnDrag:b});return T?null:_e.createElement("div",{className:Jn(["react-flow__node",`react-flow__node-${v}`,{[L]:g},d,{selected:u,selectable:x,parent:D,dragging:Ue}]),ref:K,style:{zIndex:$,transform:`translate(${f}px,${a}px)`,pointerEvents:V?"all":"none",visibility:O?"visible":"hidden",...o},"data-id":m,"data-testid":`rf__node-${m}`,onMouseEnter:te,onMouseMove:ie,onMouseLeave:me,onContextMenu:pe,onClick:ke,onDoubleClick:Se,onKeyDown:w?Ae:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":z?void 0:`${fy}-${P}`,"aria-label":B},_e.createElement(GE,{value:m},_e.createElement(c,{id:m,data:R,type:v,xPos:E,yPos:y,selected:u,isConnectable:S,sourcePosition:k,targetPosition:A,dragging:Ue,dragHandle:F,zIndex:$})))};return _.displayName="NodeWrapper",ne.memo(_)};const NA=c=>{const _=c.getNodes().filter(m=>m.selected);return{...Kd(_,c.nodeOrigin),transformString:`translate(${c.transform[0]}px,${c.transform[1]}px) scale(${c.transform[2]})`,userSelectionActive:c.userSelectionActive}};function $A({onSelectionContextMenu:c,noPanClassName:_,disableKeyboardA11y:m}){const v=sn(),{width:R,height:E,x:y,y:f,transformString:a,userSelectionActive:u}=kt(NA,wn),s=Ey(),n=ne.useRef(null);if(ne.useEffect(()=>{m||n.current?.focus({preventScroll:!0})},[m]),Cy({nodeRef:n}),u||!R||!E)return null;const i=c?l=>{const h=v.getState().getNodes().filter(o=>o.selected);c(l,h)}:void 0,r=l=>{Object.prototype.hasOwnProperty.call(wo,l.key)&&s({x:wo[l.key].x,y:wo[l.key].y,isShiftPressed:l.shiftKey})};return _e.createElement("div",{className:Jn(["react-flow__nodesselection","react-flow__container",_]),style:{transform:a}},_e.createElement("div",{ref:n,className:"react-flow__nodesselection-rect",onContextMenu:i,tabIndex:m?void 0:-1,onKeyDown:m?void 0:r,style:{width:R,height:E,top:f,left:y}}))}var DA=ne.memo($A);const OA=c=>c.nodesSelectionActive,Ay=({children:c,onPaneClick:_,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:R,onPaneContextMenu:E,onPaneScroll:y,deleteKeyCode:f,onMove:a,onMoveStart:u,onMoveEnd:s,selectionKeyCode:n,selectionOnDrag:i,selectionMode:r,onSelectionStart:l,onSelectionEnd:h,multiSelectionKeyCode:o,panActivationKeyCode:d,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:b,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:j,defaultViewport:F,translateExtent:$,minZoom:D,maxZoom:M,preventScrolling:L,onSelectionContextMenu:O,noWheelClassName:z,noPanClassName:B,disableKeyboardA11y:P})=>{const U=kt(OA),W=Ba(n),K=Ba(d),Y=K||j,X=K||b,q=W||i&&Y!==!0;return _A({deleteKeyCode:f,multiSelectionKeyCode:o}),_e.createElement(CA,{onMove:a,onMoveStart:u,onMoveEnd:s,onPaneContextMenu:E,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!W&&Y,defaultViewport:F,translateExtent:$,minZoom:D,maxZoom:M,zoomActivationKeyCode:g,preventScrolling:L,noWheelClassName:z,noPanClassName:B},_e.createElement(xy,{onSelectionStart:l,onSelectionEnd:h,onPaneClick:_,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:R,onPaneContextMenu:E,onPaneScroll:y,panOnDrag:Y,isSelecting:!!q,selectionMode:r},c,U&&_e.createElement(DA,{onSelectionContextMenu:O,noPanClassName:B,disableKeyboardA11y:P})))};Ay.displayName="FlowRenderer";var jA=ne.memo(Ay);function IA(c){return kt(ne.useCallback(m=>c?ey(m.nodeInternals,{x:0,y:0,width:m.width,height:m.height},m.transform,!0):m.getNodes(),[c]))}function BA(c){const _={input:ka(c.input||cy),default:ka(c.default||Td),output:ka(c.output||hy),group:ka(c.group||Xd)},m={},v=Object.keys(c).filter(R=>!["input","default","output","group"].includes(R)).reduce((R,E)=>(R[E]=ka(c[E]||Td),R),m);return{..._,...v}}const HA=({x:c,y:_,width:m,height:v,origin:R})=>!m||!v?{x:c,y:_}:R[0]<0||R[1]<0||R[0]>1||R[1]>1?{x:c,y:_}:{x:c-m*R[0],y:_-v*R[1]},zA=c=>({nodesDraggable:c.nodesDraggable,nodesConnectable:c.nodesConnectable,nodesFocusable:c.nodesFocusable,elementsSelectable:c.elementsSelectable,updateNodeDimensions:c.updateNodeDimensions,onError:c.onError}),ky=c=>{const{nodesDraggable:_,nodesConnectable:m,nodesFocusable:v,elementsSelectable:R,updateNodeDimensions:E,onError:y}=kt(zA,wn),f=IA(c.onlyRenderVisibleElements),a=ne.useRef(),u=ne.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const s=new ResizeObserver(n=>{const i=n.map(r=>({id:r.target.getAttribute("data-id"),nodeElement:r.target,forceUpdate:!0}));E(i)});return a.current=s,s},[]);return ne.useEffect(()=>()=>{a?.current?.disconnect()},[]),_e.createElement("div",{className:"react-flow__nodes",style:qd},f.map(s=>{let n=s.type||"default";c.nodeTypes[n]||(y?.("003",tr.error003(n)),n="default");const i=c.nodeTypes[n]||c.nodeTypes.default,r=!!(s.draggable||_&&typeof s.draggable>"u"),l=!!(s.selectable||R&&typeof s.selectable>"u"),h=!!(s.connectable||m&&typeof s.connectable>"u"),o=!!(s.focusable||v&&typeof s.focusable>"u"),d=c.nodeExtent?zd(s.positionAbsolute,c.nodeExtent):s.positionAbsolute,g=d?.x??0,x=d?.y??0,S=HA({x:g,y:x,width:s.width??0,height:s.height??0,origin:c.nodeOrigin});return _e.createElement(i,{key:s.id,id:s.id,className:s.className,style:s.style,type:n,data:s.data,sourcePosition:s.sourcePosition||Le.Bottom,targetPosition:s.targetPosition||Le.Top,hidden:s.hidden,xPos:g,yPos:x,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:c.selectNodesOnDrag,onClick:c.onNodeClick,onMouseEnter:c.onNodeMouseEnter,onMouseMove:c.onNodeMouseMove,onMouseLeave:c.onNodeMouseLeave,onContextMenu:c.onNodeContextMenu,onDoubleClick:c.onNodeDoubleClick,selected:!!s.selected,isDraggable:r,isSelectable:l,isConnectable:h,isFocusable:o,resizeObserver:u,dragHandle:s.dragHandle,zIndex:s[At]?.z??0,isParent:!!s[At]?.isParent,noDragClassName:c.noDragClassName,noPanClassName:c.noPanClassName,initialized:!!s.width&&!!s.height,rfId:c.rfId,disableKeyboardA11y:c.disableKeyboardA11y,ariaLabel:s.ariaLabel,hasHandleBounds:!!s[At]?.handleBounds})}))};ky.displayName="NodeRenderer";var FA=ne.memo(ky);const PA=(c,_,m)=>m===Le.Left?c-_:m===Le.Right?c+_:c,WA=(c,_,m)=>m===Le.Top?c-_:m===Le.Bottom?c+_:c,Qv="react-flow__edgeupdater",Jv=({position:c,centerX:_,centerY:m,radius:v=10,onMouseDown:R,onMouseEnter:E,onMouseOut:y,type:f})=>_e.createElement("circle",{onMouseDown:R,onMouseEnter:E,onMouseOut:y,className:Jn([Qv,`${Qv}-${f}`]),cx:PA(_,v,c),cy:WA(m,v,c),r:v,stroke:"transparent",fill:"transparent"}),UA=()=>!0;var mo=c=>{const _=({id:m,className:v,type:R,data:E,onClick:y,onEdgeDoubleClick:f,selected:a,animated:u,label:s,labelStyle:n,labelShowBg:i,labelBgStyle:r,labelBgPadding:l,labelBgBorderRadius:h,style:o,source:d,target:g,sourceX:x,sourceY:S,targetX:w,targetY:b,sourcePosition:k,targetPosition:A,elementsSelectable:T,hidden:j,sourceHandleId:F,targetHandleId:$,onContextMenu:D,onMouseEnter:M,onMouseMove:L,onMouseLeave:O,reconnectRadius:z,onReconnect:B,onReconnectStart:P,onReconnectEnd:U,markerEnd:W,markerStart:K,rfId:Y,ariaLabel:X,isFocusable:q,isReconnectable:J,pathOptions:V,interactionWidth:Q,disableKeyboardA11y:te})=>{const ie=ne.useRef(null),[me,pe]=ne.useState(!1),[Se,ke]=ne.useState(!1),Ae=sn(),Ue=ne.useMemo(()=>`url('#${Ad(K,Y)}')`,[K,Y]),we=ne.useMemo(()=>`url('#${Ad(W,Y)}')`,[W,Y]);if(j)return null;const Ce=rt=>{const{edges:He,addSelectedEdges:Tt,unselectNodesAndEdges:gt,multiSelectionActive:wt}=Ae.getState(),le=He.find(be=>be.id===m);le&&(T&&(Ae.setState({nodesSelectionActive:!1}),le.selected&&wt?(gt({nodes:[],edges:[le]}),ie.current?.blur()):Tt([m])),y&&y(rt,le))},at=Ea(m,Ae.getState,f),$t=Ea(m,Ae.getState,D),qt=Ea(m,Ae.getState,M),Zt=Ea(m,Ae.getState,L),mt=Ea(m,Ae.getState,O),Ze=(rt,He)=>{if(rt.button!==0)return;const{edges:Tt,isValidConnection:gt}=Ae.getState(),wt=He?g:d,le=(He?$:F)||null,be=He?"target":"source",Me=gt||UA,Pe=He,Pt=Tt.find(Wt=>Wt.id===m);ke(!0),P?.(rt,Pt,be);const on=Wt=>{ke(!1),U?.(Wt,Pt,be)};sy({event:rt,handleId:le,nodeId:wt,onConnect:Wt=>B?.(Pt,Wt),isTarget:Pe,getState:Ae.getState,setState:Ae.setState,isValidConnection:Me,edgeUpdaterType:be,onReconnectEnd:on})},_t=rt=>Ze(rt,!0),Dt=rt=>Ze(rt,!1),xt=()=>pe(!0),pt=()=>pe(!1),Yt=!T&&!y,it=rt=>{if(!te&&K0.includes(rt.key)&&T){const{unselectNodesAndEdges:He,addSelectedEdges:Tt,edges:gt}=Ae.getState();rt.key==="Escape"?(ie.current?.blur(),He({edges:[gt.find(le=>le.id===m)]})):Tt([m])}};return _e.createElement("g",{className:Jn(["react-flow__edge",`react-flow__edge-${R}`,v,{selected:a,animated:u,inactive:Yt,updating:me}]),onClick:Ce,onDoubleClick:at,onContextMenu:$t,onMouseEnter:qt,onMouseMove:Zt,onMouseLeave:mt,onKeyDown:q?it:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":`rf__edge-${m}`,"aria-label":X===null?void 0:X||`Edge from ${d} to ${g}`,"aria-describedby":q?`${py}-${Y}`:void 0,ref:ie},!Se&&_e.createElement(c,{id:m,source:d,target:g,selected:a,animated:u,label:s,labelStyle:n,labelShowBg:i,labelBgStyle:r,labelBgPadding:l,labelBgBorderRadius:h,data:E,style:o,sourceX:x,sourceY:S,targetX:w,targetY:b,sourcePosition:k,targetPosition:A,sourceHandleId:F,targetHandleId:$,markerStart:Ue,markerEnd:we,pathOptions:V,interactionWidth:Q}),J&&_e.createElement(_e.Fragment,null,(J==="source"||J===!0)&&_e.createElement(Jv,{position:k,centerX:x,centerY:S,radius:z,onMouseDown:_t,onMouseEnter:xt,onMouseOut:pt,type:"source"}),(J==="target"||J===!0)&&_e.createElement(Jv,{position:A,centerX:w,centerY:b,radius:z,onMouseDown:Dt,onMouseEnter:xt,onMouseOut:pt,type:"target"})))};return _.displayName="EdgeWrapper",ne.memo(_)};function VA(c){const _={default:mo(c.default||wc),straight:mo(c.bezier||Ud),step:mo(c.step||Wd),smoothstep:mo(c.step||Lc),simplebezier:mo(c.simplebezier||Pd)},m={},v=Object.keys(c).filter(R=>!["default","bezier"].includes(R)).reduce((R,E)=>(R[E]=mo(c[E]||wc),R),m);return{..._,...v}}function e0(c,_,m=null){const v=(m?.x||0)+_.x,R=(m?.y||0)+_.y,E=m?.width||_.width,y=m?.height||_.height;switch(c){case Le.Top:return{x:v+E/2,y:R};case Le.Right:return{x:v+E,y:R+y/2};case Le.Bottom:return{x:v+E/2,y:R+y};case Le.Left:return{x:v,y:R+y/2}}}function t0(c,_){return c?c.length===1||!_?c[0]:_&&c.find(m=>m.id===_)||null:null}const GA=(c,_,m,v,R,E)=>{const y=e0(m,c,_),f=e0(E,v,R);return{sourceX:y.x,sourceY:y.y,targetX:f.x,targetY:f.y}};function KA({sourcePos:c,targetPos:_,sourceWidth:m,sourceHeight:v,targetWidth:R,targetHeight:E,width:y,height:f,transform:a}){const u={x:Math.min(c.x,_.x),y:Math.min(c.y,_.y),x2:Math.max(c.x+m,_.x+R),y2:Math.max(c.y+v,_.y+E)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const s=Fd({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:y/a[2],height:f/a[2]}),n=Math.max(0,Math.min(s.x2,u.x2)-Math.max(s.x,u.x)),i=Math.max(0,Math.min(s.y2,u.y2)-Math.max(s.y,u.y));return Math.ceil(n*i)>0}function n0(c){const _=c?.[At]?.handleBounds||null,m=_&&c?.width&&c?.height&&typeof c?.positionAbsolute?.x<"u"&&typeof c?.positionAbsolute?.y<"u";return[{x:c?.positionAbsolute?.x||0,y:c?.positionAbsolute?.y||0,width:c?.width||0,height:c?.height||0},_,!!m]}const YA=[{level:0,isMaxLevel:!0,edges:[]}];function XA(c,_,m=!1){let v=-1;const R=c.reduce((y,f)=>{const a=qn(f.zIndex);let u=a?f.zIndex:0;if(m){const s=_.get(f.target),n=_.get(f.source),i=f.selected||s?.selected||n?.selected,r=Math.max(n?.[At]?.z||0,s?.[At]?.z||0,1e3);u=(a?f.zIndex:0)+(i?r:0)}return y[u]?y[u].push(f):y[u]=[f],v=u>v?u:v,y},{}),E=Object.entries(R).map(([y,f])=>{const a=+y;return{edges:f,level:a,isMaxLevel:a===v}});return E.length===0?YA:E}function qA(c,_,m){const v=kt(ne.useCallback(R=>c?R.edges.filter(E=>{const y=_.get(E.source),f=_.get(E.target);return y?.width&&y?.height&&f?.width&&f?.height&&KA({sourcePos:y.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:y.width,sourceHeight:y.height,targetWidth:f.width,targetHeight:f.height,width:R.width,height:R.height,transform:R.transform})}):R.edges,[c,_]));return XA(v,_,m)}const ZA=({color:c="none",strokeWidth:_=1})=>_e.createElement("polyline",{style:{stroke:c,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),QA=({color:c="none",strokeWidth:_=1})=>_e.createElement("polyline",{style:{stroke:c,fill:c,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),i0={[xc.Arrow]:ZA,[xc.ArrowClosed]:QA};function JA(c){const _=sn();return ne.useMemo(()=>Object.prototype.hasOwnProperty.call(i0,c)?i0[c]:(_.getState().onError?.("009",tr.error009(c)),null),[c])}const ek=({id:c,type:_,color:m,width:v=12.5,height:R=12.5,markerUnits:E="strokeWidth",strokeWidth:y,orient:f="auto-start-reverse"})=>{const a=JA(_);return a?_e.createElement("marker",{className:"react-flow__arrowhead",id:c,markerWidth:`${v}`,markerHeight:`${R}`,viewBox:"-10 -10 20 20",markerUnits:E,orient:f,refX:"0",refY:"0"},_e.createElement(a,{color:m,strokeWidth:y})):null},tk=({defaultColor:c,rfId:_})=>m=>{const v=[];return m.edges.reduce((R,E)=>([E.markerStart,E.markerEnd].forEach(y=>{if(y&&typeof y=="object"){const f=Ad(y,_);v.includes(f)||(R.push({id:f,color:y.color||c,...y}),v.push(f))}}),R),[]).sort((R,E)=>R.id.localeCompare(E.id))},Ty=({defaultColor:c,rfId:_})=>{const m=kt(ne.useCallback(tk({defaultColor:c,rfId:_}),[c,_]),(v,R)=>!(v.length!==R.length||v.some((E,y)=>E.id!==R[y].id)));return _e.createElement("defs",null,m.map(v=>_e.createElement(ek,{id:v.id,key:v.id,type:v.type,color:v.color,width:v.width,height:v.height,markerUnits:v.markerUnits,strokeWidth:v.strokeWidth,orient:v.orient})))};Ty.displayName="MarkerDefinitions";var nk=ne.memo(Ty);const ik=c=>({nodesConnectable:c.nodesConnectable,edgesFocusable:c.edgesFocusable,edgesUpdatable:c.edgesUpdatable,elementsSelectable:c.elementsSelectable,width:c.width,height:c.height,connectionMode:c.connectionMode,nodeInternals:c.nodeInternals,onError:c.onError}),My=({defaultMarkerColor:c,onlyRenderVisibleElements:_,elevateEdgesOnSelect:m,rfId:v,edgeTypes:R,noPanClassName:E,onEdgeContextMenu:y,onEdgeMouseEnter:f,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:s,onEdgeDoubleClick:n,onReconnect:i,onReconnectStart:r,onReconnectEnd:l,reconnectRadius:h,children:o,disableKeyboardA11y:d})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:S,width:w,height:b,connectionMode:k,nodeInternals:A,onError:T}=kt(ik,wn),j=qA(_,A,m);return w?_e.createElement(_e.Fragment,null,j.map(({level:F,edges:$,isMaxLevel:D})=>_e.createElement("svg",{key:F,style:{zIndex:F},width:w,height:b,className:"react-flow__edges react-flow__container"},D&&_e.createElement(nk,{defaultColor:c,rfId:v}),_e.createElement("g",null,$.map(M=>{const[L,O,z]=n0(A.get(M.source)),[B,P,U]=n0(A.get(M.target));if(!z||!U)return null;let W=M.type||"default";R[W]||(T?.("011",tr.error011(W)),W="default");const K=R[W]||R.default,Y=k===ps.Strict?P.target:(P.target??[]).concat(P.source??[]),X=t0(O.source,M.sourceHandle),q=t0(Y,M.targetHandle),J=X?.position||Le.Bottom,V=q?.position||Le.Top,Q=!!(M.focusable||g&&typeof M.focusable>"u"),te=M.reconnectable||M.updatable,ie=typeof i<"u"&&(te||x&&typeof te>"u");if(!X||!q)return T?.("008",tr.error008(X,M)),null;const{sourceX:me,sourceY:pe,targetX:Se,targetY:ke}=GA(L,X,J,B,q,V);return _e.createElement(K,{key:M.id,id:M.id,className:Jn([M.className,E]),type:W,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:me,sourceY:pe,targetX:Se,targetY:ke,sourcePosition:J,targetPosition:V,elementsSelectable:S,onContextMenu:y,onMouseEnter:f,onMouseMove:a,onMouseLeave:u,onClick:s,onEdgeDoubleClick:n,onReconnect:i,onReconnectStart:r,onReconnectEnd:l,reconnectRadius:h,rfId:v,ariaLabel:M.ariaLabel,isFocusable:Q,isReconnectable:ie,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth,disableKeyboardA11y:d})})))),o):null};My.displayName="EdgeRenderer";var rk=ne.memo(My);const sk=c=>`translate(${c.transform[0]}px,${c.transform[1]}px) scale(${c.transform[2]})`;function ok({children:c}){const _=kt(sk);return _e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:_}},c)}function ak(c){const _=yy(),m=ne.useRef(!1);ne.useEffect(()=>{!m.current&&_.viewportInitialized&&c&&(setTimeout(()=>c(_),1),m.current=!0)},[c,_.viewportInitialized])}const lk={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top},Ly=({nodeId:c,handleType:_,style:m,type:v=Or.Bezier,CustomComponent:R,connectionStatus:E})=>{const{fromNode:y,handleId:f,toX:a,toY:u,connectionMode:s}=kt(ne.useCallback(b=>({fromNode:b.nodeInternals.get(c),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[c]),wn),n=y?.[At]?.handleBounds;let i=n?.[_];if(s===ps.Loose&&(i=i||n?.[_==="source"?"target":"source"]),!y||!i)return null;const r=f?i.find(b=>b.id===f):i[0],l=r?r.x+r.width/2:(y.width??0)/2,h=r?r.y+r.height/2:y.height??0,o=(y.positionAbsolute?.x??0)+l,d=(y.positionAbsolute?.y??0)+h,g=r?.position,x=g?lk[g]:null;if(!g||!x)return null;if(R)return _e.createElement(R,{connectionLineType:v,connectionLineStyle:m,fromNode:y,fromHandle:r,fromX:o,fromY:d,toX:a,toY:u,fromPosition:g,toPosition:x,connectionStatus:E});let S="";const w={sourceX:o,sourceY:d,sourcePosition:g,targetX:a,targetY:u,targetPosition:x};return v===Or.Bezier?[S]=Vd(w):v===Or.Step?[S]=Ed({...w,borderRadius:0}):v===Or.SmoothStep?[S]=Ed(w):v===Or.SimpleBezier?[S]=Z0(w):S=`M${o},${d} ${a},${u}`,_e.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:m})};Ly.displayName="ConnectionLine";const ck=c=>({nodeId:c.connectionNodeId,handleType:c.connectionHandleType,nodesConnectable:c.nodesConnectable,connectionStatus:c.connectionStatus,width:c.width,height:c.height});function uk({containerStyle:c,style:_,type:m,component:v}){const{nodeId:R,handleType:E,nodesConnectable:y,width:f,height:a,connectionStatus:u}=kt(ck,wn);return!(R&&E&&f&&y)?null:_e.createElement("svg",{style:c,width:f,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},_e.createElement("g",{className:Jn(["react-flow__connection",u])},_e.createElement(Ly,{nodeId:R,handleType:E,style:_,type:m,CustomComponent:v,connectionStatus:u})))}function r0(c,_){return ne.useRef(null),sn(),ne.useMemo(()=>_(c),[c])}const Ry=({nodeTypes:c,edgeTypes:_,onMove:m,onMoveStart:v,onMoveEnd:R,onInit:E,onNodeClick:y,onEdgeClick:f,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:s,onNodeMouseMove:n,onNodeMouseLeave:i,onNodeContextMenu:r,onSelectionContextMenu:l,onSelectionStart:h,onSelectionEnd:o,connectionLineType:d,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:k,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,deleteKeyCode:F,onlyRenderVisibleElements:$,elementsSelectable:D,selectNodesOnDrag:M,defaultViewport:L,translateExtent:O,minZoom:z,maxZoom:B,preventScrolling:P,defaultMarkerColor:U,zoomOnScroll:W,zoomOnPinch:K,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,zoomOnDoubleClick:J,panOnDrag:V,onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:me,onPaneScroll:pe,onPaneContextMenu:Se,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:$t,reconnectRadius:qt,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,elevateEdgesOnSelect:_t,disableKeyboardA11y:Dt,nodeOrigin:xt,nodeExtent:pt,rfId:Yt})=>{const it=r0(c,BA),rt=r0(_,VA);return ak(E),_e.createElement(jA,{onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ie,onPaneMouseLeave:me,onPaneContextMenu:Se,onPaneScroll:pe,deleteKeyCode:F,selectionKeyCode:w,selectionOnDrag:b,selectionMode:k,onSelectionStart:h,onSelectionEnd:o,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,elementsSelectable:D,onMove:m,onMoveStart:v,onMoveEnd:R,zoomOnScroll:W,zoomOnPinch:K,zoomOnDoubleClick:J,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,panOnDrag:V,defaultViewport:L,translateExtent:O,minZoom:z,maxZoom:B,onSelectionContextMenu:l,preventScrolling:P,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,disableKeyboardA11y:Dt},_e.createElement(ok,null,_e.createElement(rk,{edgeTypes:rt,onEdgeClick:f,onEdgeDoubleClick:u,onlyRenderVisibleElements:$,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:$t,reconnectRadius:qt,defaultMarkerColor:U,noPanClassName:Ze,elevateEdgesOnSelect:!!_t,disableKeyboardA11y:Dt,rfId:Yt},_e.createElement(uk,{style:g,type:d,component:x,containerStyle:S})),_e.createElement("div",{className:"react-flow__edgelabel-renderer"}),_e.createElement(FA,{nodeTypes:it,onNodeClick:y,onNodeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:n,onNodeMouseLeave:i,onNodeContextMenu:r,selectNodesOnDrag:M,onlyRenderVisibleElements:$,noPanClassName:Ze,noDragClassName:Zt,disableKeyboardA11y:Dt,nodeOrigin:xt,nodeExtent:pt,rfId:Yt})))};Ry.displayName="GraphView";var hk=ne.memo(Ry);const Ld=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Nr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ld,nodeExtent:Ld,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ps.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:zE,isValidConnection:void 0},dk=()=>Zw((c,_)=>({...Nr,setNodes:m=>{const{nodeInternals:v,nodeOrigin:R,elevateNodesOnSelect:E}=_();c({nodeInternals:ud(m,v,R,E)})},getNodes:()=>Array.from(_().nodeInternals.values()),setEdges:m=>{const{defaultEdgeOptions:v={}}=_();c({edges:m.map(R=>({...v,...R}))})},setDefaultNodesAndEdges:(m,v)=>{const R=typeof m<"u",E=typeof v<"u",y=R?ud(m,new Map,_().nodeOrigin,_().elevateNodesOnSelect):new Map;c({nodeInternals:y,edges:E?v:[],hasDefaultNodes:R,hasDefaultEdges:E})},updateNodeDimensions:m=>{const{onNodesChange:v,nodeInternals:R,fitViewOnInit:E,fitViewOnInitDone:y,fitViewOnInitOptions:f,domNode:a,nodeOrigin:u}=_(),s=a?.querySelector(".react-flow__viewport");if(!s)return;const n=window.getComputedStyle(s),{m22:i}=new window.DOMMatrixReadOnly(n.transform),r=m.reduce((h,o)=>{const d=R.get(o.id);if(d?.hidden)R.set(d.id,{...d,[At]:{...d[At],handleBounds:void 0}});else if(d){const g=Hd(o.nodeElement);g.width&&g.height&&(d.width!==g.width||d.height!==g.height||o.forceUpdate)&&(R.set(d.id,{...d,[At]:{...d[At],handleBounds:{source:Zv(".source",o.nodeElement,i,u),target:Zv(".target",o.nodeElement,i,u)}},...g}),h.push({id:d.id,type:"dimensions",dimensions:g}))}return h},[]);my(R,u);const l=y||E&&!y&&vy(_,{initial:!0,...f});c({nodeInternals:new Map(R),fitViewOnInitDone:l}),r?.length>0&&v?.(r)},updateNodePositions:(m,v=!0,R=!1)=>{const{triggerNodeChanges:E}=_(),y=m.map(f=>{const a={id:f.id,type:"position",dragging:R};return v&&(a.positionAbsolute=f.positionAbsolute,a.position=f.position),a});E(y)},triggerNodeChanges:m=>{const{onNodesChange:v,nodeInternals:R,hasDefaultNodes:E,nodeOrigin:y,getNodes:f,elevateNodesOnSelect:a}=_();if(m?.length){if(E){const u=_y(m,f()),s=ud(u,R,y,a);c({nodeInternals:s})}v?.(m)}},addSelectedNodes:m=>{const{multiSelectionActive:v,edges:R,getNodes:E}=_();let y,f=null;v?y=m.map(a=>Dr(a,!0)):(y=vo(E(),m),f=vo(R,[])),sc({changedNodes:y,changedEdges:f,get:_,set:c})},addSelectedEdges:m=>{const{multiSelectionActive:v,edges:R,getNodes:E}=_();let y,f=null;v?y=m.map(a=>Dr(a,!0)):(y=vo(R,m),f=vo(E(),[])),sc({changedNodes:f,changedEdges:y,get:_,set:c})},unselectNodesAndEdges:({nodes:m,edges:v}={})=>{const{edges:R,getNodes:E}=_(),y=m||E(),f=v||R,a=y.map(s=>(s.selected=!1,Dr(s.id,!1))),u=f.map(s=>Dr(s.id,!1));sc({changedNodes:a,changedEdges:u,get:_,set:c})},setMinZoom:m=>{const{d3Zoom:v,maxZoom:R}=_();v?.scaleExtent([m,R]),c({minZoom:m})},setMaxZoom:m=>{const{d3Zoom:v,minZoom:R}=_();v?.scaleExtent([R,m]),c({maxZoom:m})},setTranslateExtent:m=>{_().d3Zoom?.translateExtent(m),c({translateExtent:m})},resetSelectedElements:()=>{const{edges:m,getNodes:v}=_(),E=v().filter(f=>f.selected).map(f=>Dr(f.id,!1)),y=m.filter(f=>f.selected).map(f=>Dr(f.id,!1));sc({changedNodes:E,changedEdges:y,get:_,set:c})},setNodeExtent:m=>{const{nodeInternals:v}=_();v.forEach(R=>{R.positionAbsolute=zd(R.position,m)}),c({nodeExtent:m,nodeInternals:new Map(v)})},panBy:m=>{const{transform:v,width:R,height:E,d3Zoom:y,d3Selection:f,translateExtent:a}=_();if(!y||!f||!m.x&&!m.y)return!1;const u=jr.translate(v[0]+m.x,v[1]+m.y).scale(v[2]),s=[[0,0],[R,E]],n=y?.constrain()(u,s,a);return y.transform(f,n),v[0]!==n.x||v[1]!==n.y||v[2]!==n.k},cancelConnection:()=>c({connectionNodeId:Nr.connectionNodeId,connectionHandleId:Nr.connectionHandleId,connectionHandleType:Nr.connectionHandleType,connectionStatus:Nr.connectionStatus,connectionStartHandle:Nr.connectionStartHandle,connectionEndHandle:Nr.connectionEndHandle}),reset:()=>c({...Nr})}),Object.is),Ny=({children:c})=>{const _=ne.useRef(null);return _.current||(_.current=dk()),_e.createElement(RE,{value:_.current},c)};Ny.displayName="ReactFlowProvider";const $y=({children:c})=>ne.useContext(Mc)?_e.createElement(_e.Fragment,null,c):_e.createElement(Ny,null,c);$y.displayName="ReactFlowWrapper";const fk={input:cy,default:Td,output:hy,group:Xd},pk={default:wc,straight:Ud,step:Wd,smoothstep:Lc,simplebezier:Pd},gk=[0,0],mk=[15,15],vk={x:0,y:0,zoom:1},yk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Dy=ne.forwardRef(({nodes:c,edges:_,defaultNodes:m,defaultEdges:v,className:R,nodeTypes:E=fk,edgeTypes:y=pk,onNodeClick:f,onEdgeClick:a,onInit:u,onMove:s,onMoveStart:n,onMoveEnd:i,onConnect:r,onConnectStart:l,onConnectEnd:h,onClickConnectStart:o,onClickConnectEnd:d,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:w,onNodeDoubleClick:b,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onNodesDelete:j,onEdgesDelete:F,onSelectionChange:$,onSelectionDragStart:D,onSelectionDrag:M,onSelectionDragStop:L,onSelectionContextMenu:O,onSelectionStart:z,onSelectionEnd:B,connectionMode:P=ps.Strict,connectionLineType:U=Or.Bezier,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:J=!1,selectionMode:V=Ia.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:te=_c()?"Meta":"Control",zoomActivationKeyCode:ie=_c()?"Meta":"Control",snapToGrid:me=!1,snapGrid:pe=mk,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:ke=!0,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,nodeOrigin:Ce=gk,edgesFocusable:at,edgesUpdatable:$t,elementsSelectable:qt,defaultViewport:Zt=vk,minZoom:mt=.5,maxZoom:Ze=2,translateExtent:_t=Ld,preventScrolling:Dt=!0,nodeExtent:xt,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:Yt=!0,zoomOnPinch:it=!0,panOnScroll:rt=!1,panOnScrollSpeed:He=.5,panOnScrollMode:Tt=us.Free,zoomOnDoubleClick:gt=!0,panOnDrag:wt=!0,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Pt,onPaneContextMenu:on,children:On,onEdgeContextMenu:Wt,onEdgeDoubleClick:jn,onEdgeMouseEnter:ei,onEdgeMouseMove:Hr,onEdgeMouseLeave:nr,onEdgeUpdate:ti,onEdgeUpdateStart:Li,onEdgeUpdateEnd:To,onReconnect:ms,onReconnectStart:vs,onReconnectEnd:ys,reconnectRadius:ir=10,edgeUpdaterRadius:Ri=10,onNodesChange:In,onEdgesChange:bs,noDragClassName:Bn="nodrag",noWheelClassName:Mt="nowheel",noPanClassName:Ut="nopan",fitView:bi=!1,fitViewOptions:hn,connectOnClick:Mo=!0,attributionPosition:Lo,proOptions:_s,defaultEdgeOptions:Ni,elevateNodesOnSelect:zr=!0,elevateEdgesOnSelect:an=!1,disableKeyboardA11y:ni=!1,autoPanOnConnect:$i=!0,autoPanOnNodeDrag:_i=!0,connectionRadius:St=20,isValidConnection:xs,onError:Di,style:ii,id:ri,nodeDragThreshold:Hn,...ws},Ss)=>{const Fr=ri||"1";return _e.createElement("div",{...ws,style:{...ii,...yk},ref:Ss,className:Jn(["react-flow",R]),"data-testid":"rf__wrapper",id:ri},_e.createElement($y,null,_e.createElement(hk,{onInit:u,onMove:s,onMoveStart:n,onMoveEnd:i,onNodeClick:f,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:w,onNodeDoubleClick:b,nodeTypes:E,edgeTypes:y,connectionLineType:U,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,selectionKeyCode:q,selectionOnDrag:J,selectionMode:V,deleteKeyCode:X,multiSelectionKeyCode:te,panActivationKeyCode:Q,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Se,selectNodesOnDrag:ke,defaultViewport:Zt,translateExtent:_t,minZoom:mt,maxZoom:Ze,preventScrolling:Dt,zoomOnScroll:Yt,zoomOnPinch:it,zoomOnDoubleClick:gt,panOnScroll:rt,panOnScrollSpeed:He,panOnScrollMode:Tt,panOnDrag:wt,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Pt,onPaneContextMenu:on,onSelectionContextMenu:O,onSelectionStart:z,onSelectionEnd:B,onEdgeContextMenu:Wt,onEdgeDoubleClick:jn,onEdgeMouseEnter:ei,onEdgeMouseMove:Hr,onEdgeMouseLeave:nr,onReconnect:ms??ti,onReconnectStart:vs??Li,onReconnectEnd:ys??To,reconnectRadius:ir??Ri,defaultMarkerColor:pt,noDragClassName:Bn,noWheelClassName:Mt,noPanClassName:Ut,elevateEdgesOnSelect:an,rfId:Fr,disableKeyboardA11y:ni,nodeOrigin:Ce,nodeExtent:xt}),_e.createElement(lA,{nodes:c,edges:_,defaultNodes:m,defaultEdges:v,onConnect:r,onConnectStart:l,onConnectEnd:h,onClickConnectStart:o,onClickConnectEnd:d,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,edgesFocusable:at,edgesUpdatable:$t,elementsSelectable:qt,elevateNodesOnSelect:zr,minZoom:mt,maxZoom:Ze,nodeExtent:xt,onNodesChange:In,onEdgesChange:bs,snapToGrid:me,snapGrid:pe,connectionMode:P,translateExtent:_t,connectOnClick:Mo,defaultEdgeOptions:Ni,fitView:bi,fitViewOptions:hn,onNodesDelete:j,onEdgesDelete:F,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onSelectionDrag:M,onSelectionDragStart:D,onSelectionDragStop:L,noPanClassName:Ut,nodeOrigin:Ce,rfId:Fr,autoPanOnConnect:$i,autoPanOnNodeDrag:_i,onError:Di,connectionRadius:St,isValidConnection:xs,nodeDragThreshold:Hn}),_e.createElement(oA,{onSelectionChange:$}),On,_e.createElement(DE,{proOptions:_s,position:Lo}),_e.createElement(fA,{rfId:Fr,disableKeyboardA11y:ni})))});Dy.displayName="ReactFlow";const bk=c=>c.domNode?.querySelector(".react-flow__edgelabel-renderer");function _k({children:c}){const _=kt(bk);return _?LE.createPortal(c,_):null}function Oy(c){return _=>{const[m,v]=ne.useState(_),R=ne.useCallback(E=>v(y=>c(E,y)),[]);return[m,v,R]}}const xk=Oy(_y),wk=Oy(kA),Sk=({data:c})=>N.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-zinc-900 border-2 border-zinc-700 w-[200px]",children:[N.jsxs("div",{className:"flex items-center",children:[c.icon&&N.jsx("div",{className:"mr-2 text-xl",children:c.icon}),N.jsxs("div",{className:"ml-2",children:[N.jsx("div",{className:"text-lg font-bold text-zinc-100",children:c.label}),c.description&&N.jsx("div",{className:"text-zinc-400 text-xs",children:c.description})]})]}),N.jsx(Ao,{type:"target",position:Le.Left,className:"h-16 !bg-zinc-500 rounded-none w-2 -ml-1"}),N.jsx(Ao,{type:"source",position:Le.Bottom,className:"w-16 !bg-zinc-500 rounded-none h-2 -mb-1"}),c.status&&N.jsxs("div",{className:`mt-2 text-xs font-semibold ${c.status==="running"?"text-blue-400":c.status==="completed"?"text-green-400":c.status==="failed"?"text-red-400":"text-zinc-500"}`,children:["Status: ",c.status]})]}),Ck=ne.memo(Sk),Ek=({sourceX:c,sourceY:_,targetX:m,targetY:v,sourcePosition:R,targetPosition:E,style:y={},markerEnd:f,label:a})=>{const[u,s,n]=Vd({sourceX:c,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E});return N.jsxs(N.Fragment,{children:[N.jsx(ko,{path:u,markerEnd:f,style:y}),a&&N.jsx(_k,{children:N.jsx("div",{className:"absolute pointer-events-auto bg-white px-2 py-1 rounded shadow-sm border border-gray-200 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors",style:{transform:`translate(-50%, -50%) translate(${s}px,${n}px)`},children:a})})]})},Ak=ne.memo(Ek),kk={agent:Ck},Tk={workflow:Ak},Mk=[{id:"1",type:"agent",position:{x:250,y:5},data:{label:"Start Agent",icon:"",status:"completed"}},{id:"2",type:"agent",position:{x:100,y:100},data:{label:"Researcher",icon:"",status:"running"}}],Lk=[{id:"e1-2",source:"1",target:"2",animated:!0,type:"smoothstep"}],Rk=150,Nk=250,$k=(c,_)=>{if(c.length===0)return{nodes:c,edges:_};const m=new Map,v=new Map;_.forEach(u=>{m.has(u.source)||m.set(u.source,[]),m.get(u.source).push(u.target),v.set(u.target,u.source)});const R=c.filter(u=>!v.has(u.id));R.length===0&&c.length>0&&R.push(c[0]);let E=50;const y=[...c],f=new Set,a=(u,s)=>{if(f.has(u))return;f.add(u);const n=y.findIndex(r=>r.id===u);n!==-1&&(y[n]={...y[n],position:{x:250+s*Nk,y:E}},E+=Rk);const i=m.get(u)||[];i.sort((r,l)=>{const h=c.find(d=>d.id===r),o=c.find(d=>d.id===l);return(h?.position.y||0)-(o?.position.y||0)}),i.forEach(r=>a(r,s+1))};return R.sort((u,s)=>u.position.y-s.position.y),R.forEach(u=>a(u.id,0)),c.forEach(u=>{f.has(u.id)||a(u.id,0)}),{nodes:y,edges:_}};function Dk(){const[c,_,m]=xk(Mk),[v,R,E]=wk(Lk),[y,f]=ne.useState(null);ne.useEffect(()=>{const{nodes:n}=$k(c,v);n.some(r=>{const l=c.find(h=>h.id===r.id);return l?Math.abs(l.position.x-r.position.x)>1||Math.abs(l.position.y-r.position.y)>1:!0})&&_([...n])},[c.length,v.length]);const a=ne.useCallback(n=>R(i=>Q0({...n,type:"smoothstep",animated:!0},i)),[R]),u=ne.useCallback(n=>{n.preventDefault(),n.dataTransfer.dropEffect="move"},[]),s=ne.useCallback(n=>{n.preventDefault();const i=n.dataTransfer.getData("application/reactflow");if(!i)return;const r=JSON.parse(i);if(typeof r>"u"||!r||!y)return;let l=null;c.length>0&&(l=c.reduce((d,g)=>d.position.y>g.position.y?d:g,c[0]));const h=`${r.label}-${Date.now()}`,o={id:h,type:"agent",position:{x:250,y:0},data:{label:r.label,icon:r.icon,description:r.description,status:"idle"}};if(_(d=>d.concat(o)),l){const d={id:`e${l.id}-${h}`,source:l.id,target:h,type:"smoothstep",animated:!0};R(g=>g.concat(d))}},[y,_,R,c]);return N.jsx("div",{className:"flex-1 h-full w-full bg-zinc-950 relative",children:N.jsx(Dy,{nodes:c,edges:v,onNodesChange:m,onEdgesChange:E,onConnect:a,onInit:f,onDrop:s,onDragOver:u,nodeTypes:kk,edgeTypes:Tk,fitView:!0,nodesDraggable:!1,nodesConnectable:!1,proOptions:{hideAttribution:!0}})})}function Ok(){const c=hc.use.showOrchestrator(),_=hc.use.setShowOrchestrator();return c?N.jsxs($n,{width:"1000px",children:[N.jsx(Dn,{close:()=>_(!1),title:"Agent Orchestrator",description:"Design and execute multi-agent workflows."}),N.jsxs("div",{className:"flex h-[500px]",children:[N.jsx("div",{className:"w-[250px] flex-shrink-0",children:N.jsx(Kw,{})}),N.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:N.jsx(Dk,{})})]}),N.jsxs("div",{className:"flex justify-end",children:[N.jsx(Ji,{onClick:()=>_(!1),text:"Cancel"}),N.jsx(Ji,{onClick:()=>_(!1),text:"Run"})]})]}):null}const jk=Zn((c,_)=>({sidebarWidth:285,isResizing:!1,setSidebarWidth:m=>c({sidebarWidth:m}),setIsResizing:m=>c({isResizing:m}),isOpencodeInstalled:!0,checkOpencodeInstalled:async()=>{try{const m=await fetch(`${Ne.serverPath}${Oe.opencode}/check`);if(!m.ok)return;const v=await m.json();v.installed&&v.isInPath&&v.isNpmGlobal?c({isOpencodeInstalled:!0}):c({isOpencodeInstalled:!1})}catch(m){console.error(m)}},isCreatingInstance:!1,opencodeInstances:[],setInstanceActive:m=>{const v=_().opencodeInstances.find(R=>R.instance.id===m);v&&(v.isActive||_().isCreatingInstance||c(R=>({opencodeInstances:R.opencodeInstances.map(E=>E.instance.id===m?{...E,isActive:!0}:{...E,isActive:!1})})))},closeInstance:async m=>{if(!(await fetch(`${Ne.serverPath}${Oe.opencode}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:m})})).ok){alert("Failed to close opencode terminal");return}c(R=>({opencodeInstances:R.opencodeInstances.filter(E=>E.instance.id!==m)}))},createInstance:async m=>{c({isCreatingInstance:!0});let v="";for(;;){const a=Math.random().toString(36).substring(6);if(!_().opencodeInstances.find(s=>s.instance.id===a)){v=a;break}}const R=await fetch(`${Ne.serverPath}${Oe.opencodeCreateInstance}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,id:v})});if(!R.ok){alert("Failed to create new opencode terminal"),c({isCreatingInstance:!1});return}const E=await R.json(),y=[{instance:{id:E.id,name:E.name,url:E.url,port:E.port,createdAt:E.createdAt,lastSessionId:E.id},isActive:!0,conversation:[]}],f=_().opencodeInstances.map(a=>({...a,isActive:!1}));c({opencodeInstances:[...f,...y]}),c({isCreatingInstance:!1})},loadInstances:async()=>{try{const m=await fetch(`${Ne.serverPath}${Oe.opencodeListInstances}`);if(!m.ok)return;const R=(await m.json()).instances.map(E=>{const y=_().opencodeInstances.find(f=>f.instance.id===E.id);return y||{instance:{server:null,url:E.url,port:E.port,id:E.id,name:E.name,createdAt:E.createdAt,pid:E.pid},isActive:!1,conversation:[]}});c({opencodeInstances:R})}catch(m){console.error(m)}}})),Xn=Qn(jk);function Ik({setBarWidth:c}){const[_,m]=ne.useState(!1),v=ne.useRef(null);return ne.useEffect(()=>{const R=y=>{if(!_||!v.current)return;const f=v.current.parentElement;if(!f)return;const a=f.clientWidth*.98,u=f.clientWidth*.02,s=y.clientX-f.getBoundingClientRect().left;s>a||s<u||c(s)},E=()=>{m(!1)};return _&&(window.addEventListener("mousemove",R),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",E)}},[_]),N.jsx("div",{ref:v,className:"w-1 h-full cursor-col-resize hover:bg-white/20 active:bg-blue-500 transition-colors rounded-full",onMouseDown:()=>m(!0)})}function Bk({isVisible:c,onStart:_}){const m=Xn.use.isOpencodeInstalled();return c?N.jsx("div",{className:"h-full w-full flex items-center justify-center p-4",children:N.jsxs("div",{className:"w-full h-full max-w-6xl flex flex-col items-center justify-center text-center relative overflow-hidden",children:[N.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-16 mb-12 w-full",children:[N.jsx("div",{className:"flex-shrink-0",children:N.jsxs("div",{className:"relative w-80 h-48 bg-gray-900/80 overflow-hidden flex  select-none",children:[N.jsx("style",{children:`
                            @keyframes drag-move {
                                0%, 15% { transform: translate(0, 0); }
                                25% { transform: translate(5px, 5px); }
                                60% { transform: translate(140px, 20px); }
                                80% { transform: translate(140px, 20px); opacity: 1; }
                                85% { transform: translate(140px, 20px); opacity: 0; }
                                100% { transform: translate(0, 0); opacity: 0; }
                            }
                            @keyframes cursor-move {
                                0%, 10% { transform: translate(0, 0); }
                                25% { transform: translate(15px, 25px) scale(0.9); }
                                60% { transform: translate(150px, 40px) scale(0.9); }
                                80% { transform: translate(150px, 40px) scale(1); }
                                100% { transform: translate(0, 0); }
                            }
                            @keyframes terminal-glow {
                                    0%, 55% { border-color: transparent; background-color: transparent; }
                                    60%, 80% { border-color: rgba(59, 130, 246, 0.4); background-color: rgba(59, 130, 246, 0.1); }
                                    100% { border-color: transparent; background-color: transparent; }
                            }
                            .animate-drag-file { animation: drag-move 4s ease-in-out infinite; }
                            .animate-drag-cursor { animation: cursor-move 4s ease-in-out infinite; }
                            .animate-terminal-glow { animation: terminal-glow 4s ease-in-out infinite; }
                        `}),N.jsxs("div",{className:"w-1/3 h-full border-r border-white/10 bg-gray-800/30 p-3 flex flex-col gap-2 relative text-left",children:[N.jsx("div",{className:"h-2 w-16 bg-white/10 rounded mb-1"}),N.jsxs("div",{className:"flex items-center gap-2 text-white/20",children:[N.jsx("i",{className:"fas fa-folder text-[10px]"}),N.jsx("div",{className:"h-1.5 w-12 bg-white/10 rounded"})]}),N.jsxs("div",{className:"flex items-center gap-2 text-blue-400/80 bg-blue-500/10 p-1 rounded -ml-1",children:[N.jsx("i",{className:"fas fa-file-code text-xs"}),N.jsx("span",{className:"text-[10px] font-mono",children:"app.ts"})]}),N.jsxs("div",{className:"flex items-center gap-2 text-white/20",children:[N.jsx("i",{className:"fas fa-file text-[10px]"}),N.jsx("div",{className:"h-1.5 w-10 bg-white/10 rounded"})]}),N.jsxs("div",{className:"absolute top-[46px] left-[12px] flex items-center gap-2 text-blue-400 bg-blue-500/20 p-1 rounded border border-blue-500/30 z-20 animate-drag-file shadow-lg pointer-events-none",children:[N.jsx("i",{className:"fas fa-file-code text-xs"}),N.jsx("span",{className:"text-[10px] font-mono",children:"app.ts"})]})]}),N.jsxs("div",{className:"flex-1 font-mono text-[10px] text-gray-400 relative bg-black/20 text-left overflow-hidden",children:[N.jsx("div",{className:"absolute inset-1 border-2 border-dashed rounded-lg animate-terminal-glow z-10"}),N.jsx("img",{src:"/opencode.jpg",className:"w-full h-full object-cover opacity-60 grayscale-[20%]",alt:"Terminal Preview"})]}),N.jsx("div",{className:"absolute top-[50px] left-[20px] z-30 text-white drop-shadow-lg animate-drag-cursor pointer-events-none",children:N.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"filter drop-shadow-md",children:N.jsx("path",{d:"M7 2l12 11.2-5.8.5 3.3 7.3-2.2.9-3.2-7.4-4.4 4.6V2z",fill:"white",stroke:"black",strokeWidth:"1"})})})]})}),N.jsxs("div",{className:"max-w-lg text-left",children:[N.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Opencode Ready"}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("p",{className:"text-neutral-300 text-lg leading-relaxed",children:"OpenCode is opensource terminal based AI coding assistant that helps you write code, debug errors, and understand your project structure directly from the terminal."}),N.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"You can use the file browser on the side to navigate your project. Simply drag and drop files or folders into the terminal to provide context to the AI."})]})]})]}),N.jsx("div",{className:"mb-8 w-full flex flex-col gap-4",children:N.jsx("div",{className:"w-120 mx-auto flex items-center gap-4",children:m?N.jsxs("button",{onClick:_,className:"w-64 mx-auto items-center justify-center py-4 font-semibold text-white transition-all duration-200 bg-blue-600 rounded-lg hover:bg-blue-500 hover:shadow-lg hover:shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 focus:ring-offset-neutral-900  transform hover:-translate-y-1",children:[N.jsx("i",{className:"fas fa-terminal mr-3"}),"Launch"]}):N.jsxs("button",{onClick:_,className:"w-64 mx-auto items-center justify-center py-4 font-semibold text-white transition-all duration-200 bg-blue-600 rounded-lg hover:bg-blue-500 hover:shadow-lg hover:shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 focus:ring-offset-neutral-900  transform hover:-translate-y-1",children:[N.jsx("i",{className:"fas fa-terminal mr-3"}),"Launch"]})})}),N.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:N.jsxs("p",{className:"text-xs text-neutral-500",children:["Not all features are support in this app, please use",N.jsx("a",{href:"https://opencode.ai/",target:"_blank",rel:"noopener noreferrer",className:"mx-1 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"the terminal, web or desktop version"}),"for the full experience."]})})]})}):null}const Hk=Zn()((c,_)=>({projectTree:[],root:"",changes:0,openFolders:{},loadProjectTree:async()=>{const v=await(await fetch(`${Ne.serverPath}${Oe.scanProject}`)).json();c({projectTree:v.content,root:v.root,changes:v.changes})},toggleFolder:m=>c(v=>({openFolders:{...v.openFolders,[m]:!v.openFolders[m]}})),setIsPasteProjecTextEnable:m=>c({isPasteProjecTextEnable:m}),isPasteProjecTextEnable:!1,selectedPath:"",selectedFolder:"",setSelectedPath:m=>c(()=>{const v=m.split("/").filter(f=>f!==""),E=(v[v.length-1]||"").includes(".");let y;return E&&v.pop(),y=v.pop()||"/",{selectedPath:m,selectedFolder:y}}),getParentPath:()=>{const{selectedPath:m,root:v}=_();return m?(m.split("/").pop()||"").includes(".")?m.substring(0,m.lastIndexOf("/"))||v:m:v},isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:"",openFileEditor:m=>c({isFileEditorOpen:!0,currentFilePath:m,currentFile:m.split("/").pop()||"",curentFileType:m.split(".").pop()||""}),closeFileEditor:()=>c({isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:""}),isEditable:m=>{const v=["png","jpg","jpeg","gif","bmp","webp","ico","svg","tiff","tif","avif","mp4","avi","mkv","mov","wmv","flv","webm","m4v","3gp","mp3","wav","ogg","flac","aac","m4a","wma","pdf","doc","docx","xls","xlsx","ppt","pptx","zip","rar","7z","tar","gz","bz2","xz","ttf","otf","woff","woff2","eot","exe","dll","so","dylib","bin","dat","db","sqlite"],R=m.split(".").pop()?.toLowerCase();return!v.includes(R||"")},loadFile:async m=>{try{const v=await fetch(`${Ne.serverPath}${Oe.textEditor}/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})});return v.ok?(await v.json()).content:""}catch(v){return console.error(v),""}},saveFile:async(m,v)=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m,content:v})})).json()}catch(R){return console.error(R),{error:"Failed to save"}}},createNewFile:async m=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/newfile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},createNewFolder:async m=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/newfolder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},delete:async m=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to delete"}}},rename:async(m,v)=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m,newname:v})})).json()}catch(R){return console.error(R),{error:"Failed to rename"}}},getFileDiff:async m=>{try{const v=await fetch(`${Ne.serverPath}${Oe.textEditor}/diff`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})});return v.ok?await v.json():{added:[],modified:[]}}catch(v){return console.error(v),{added:[],modified:[]}}}})),nt=Qn(Hk);function zk({name:c}){const _=c.split(".").pop()?.toLowerCase();let m="fa-solid fa-file text-white/40";switch(_){case"ts":case"tsx":m="fa-solid fa-file-code text-blue-400";break;case"js":case"jsx":m="fa-brands fa-js text-yellow-400";break;case"json":m="fa-solid fa-file-code text-yellow-200";break;case"css":case"scss":m="fa-brands fa-css3 text-blue-300";break;case"html":m="fa-brands fa-html5 text-orange-400";break;case"md":m="fa-brands fa-markdown text-white/60";break;case"png":case"jpg":case"jpeg":case"svg":m="fa-solid fa-image text-purple-400";break}return N.jsx("i",{className:`${m} w-4 text-center`})}function s0({path:c,name:_,onClose:m}){const v=ne.useRef(null),R=zt.use.showModal(),E=nt.use.rename(),y=nt.use.delete(),f=nt.use.loadProjectTree();ne.useEffect(()=>{function s(n){v.current&&!v.current.contains(n.target)&&m()}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[m]);const a=s=>{s.stopPropagation(),m(),R("prompt","Rename",`Enter new name for "${_}"`,"success",async n=>{n&&n!==_&&(await E(c,n),f())},null,"Enter new name",_)},u=s=>{s.stopPropagation(),m(),R("confirm","Delete",`Are you sure you want to delete "${_}"? This can only be undone if the file was previously committed to Git.`,"error",async n=>{n&&(await y(c),f())})};return N.jsxs("div",{ref:v,className:"absolute right-0 top-full mt-1 bg-gray-800 border border-white/10 rounded shadow-xl z-50 overflow-hidden min-w-[120px]",onClick:s=>s.stopPropagation(),children:[N.jsxs("button",{onClick:a,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-edit text-xs text-blue-400"}),"Rename"]}),N.jsxs("button",{onClick:u,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-trash text-xs text-red-400"}),"Delete"]})]})}function hs({icon:c,onClick:_,title:m,className:v}){return N.jsx("button",{onClick:R=>{R.stopPropagation(),_()},className:`w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white ${v}`,title:m,children:N.jsx("i",{className:c})})}function jy({item:c,level:_=0}){const m=Xe.use.projectTreeFontSize(),[v,R]=ne.useState(!1),E="folder"in c,y=c.path,f=nt(b=>b.openFolders[y]||!1),a=nt.use.toggleFolder(),u=nt.use.openFileEditor(),s=nt.use.isEditable(),n=nt.use.loadFile(),[i,r]=ne.useState(null),l=nt.use.setSelectedPath(),h=nt(b=>b.selectedPath),o=_*12+4,d=E?c.folder:c.file,g=c.color,x=nt.use.isPasteProjecTextEnable(),S=g==="yellow"?"text-yellow-400":g==="green"?"text-green-400":"text-white/70";function w(b){n(b).then(k=>{r(k)})}if(E){const b=c;return N.jsxs("div",{children:[N.jsxs("div",{className:`
                        flex  py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                        ${h===y?"bg-blue-400/8":""}
                    `,style:{paddingLeft:`${o}px`},onClick:k=>{k.stopPropagation(),a(y),l(y)},draggable:!0,onDragStart:k=>{k.dataTransfer.setData("text/plain",`@${b.path} 
`),k.dataTransfer.effectAllowed="copy"},children:[N.jsx("i",{className:`fa-solid ${f?"fa-folder-open":"fa-folder"} text-blue-400/80 mr-2 text-[${m}px]`}),N.jsx("span",{className:`text-[${m}px] truncate ${S} group-hover:text-white`,children:d}),h===y&&N.jsxs("div",{className:"flex-end ml-auto relative",children:[N.jsx(hs,{onClick:()=>{R(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&N.jsx(s0,{path:y,name:d,onClose:()=>R(!1)})]})]}),f&&N.jsx("div",{children:b.content.map((k,A)=>N.jsx(jy,{item:k,level:_+1},A))})]})}else{const b=c;return N.jsxs("div",{className:`
                    flex items-center py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                    ${h===b.path?"bg-blue-400/8":""}
                `,style:{paddingLeft:`${o}px`},draggable:!0,onDragStart:k=>{x?(k.dataTransfer.setData("text/plain",`${b.path}
${i}

`),k.dataTransfer.effectAllowed="copy"):(k.dataTransfer.setData("text/plain",`@${b.path} 
`),k.dataTransfer.effectAllowed="copy")},onClick:k=>{k.stopPropagation(),l(b.path),x?w(b.path):r("")},onDoubleClick:k=>{k.preventDefault();const A=b.path.replace("@","");s(A)&&u(A)},children:[N.jsx("div",{className:"w-4"}),N.jsx("span",{className:`mr-2 text-[${m}px]`,children:N.jsx(zk,{name:d})}),N.jsx("span",{className:`text-[${m}px] truncate ${S} group-hover:text-white`,children:d}),h===y&&N.jsxs("div",{className:"flex-end ml-auto relative",children:[N.jsx(hs,{onClick:()=>{R(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&N.jsx(s0,{path:y,name:d,onClose:()=>R(!1)})]})]})}}function Fk(){const c=nt.use.changes(),_=nt.use.loadProjectTree(),m=zt.use.showModal(),v=nt.use.selectedFolder(),R=nt.use.createNewFolder(),E=nt.use.createNewFile(),y=nt.use.getParentPath(),f=ls.use.stashCount(),a=nt.use.isPasteProjecTextEnable(),u=nt.use.setIsPasteProjecTextEnable();async function s(){m("prompt","New Folder",`Create a new folder at ${v}`,"success",async i=>{if(i){const l=`${y()}/${i}`;await R(l),_()}})}async function n(){m("prompt","New File",`Create a new file at ${v}`,"success",async i=>{if(i){const l=`${y()}/${i}`;await E(l),_()}})}return N.jsxs("div",{className:"flex items-center justify-between p-2",children:[N.jsxs("div",{className:"text-xs font-medium text-white/40 uppercase tracking-wider pl-1",children:[c," change",c>1?"s":""]}),N.jsxs("div",{className:"flex flex-end gap-2",children:[N.jsxs("div",{className:"relative",children:[N.jsx(hs,{onClick:()=>Xe.use.setShowGit()(!0),title:"Git Stash",icon:"fa-solid fa-clock-rotate-left text-xs"}),f>0&&N.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30 pointer-events-none",children:f})]}),N.jsx(hs,{onClick:n,title:"New File",icon:"fas fa-file text-xs"}),N.jsx(hs,{onClick:s,title:"New Folder",icon:"fas fa-folder text-xs"}),N.jsx(hs,{onClick:()=>u(!a),title:a?"Will Paste Project Text":"Paste @<path>",icon:"fas fa-paste text-xs",className:a?"bg-red-600":""})]})]})}function Pk(c){return N.jsxs("button",{onClick:_=>{_.stopPropagation(),c.onClick()},className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:c.text}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function Wk(){const c=nt.use.isFileEditorOpen(),_=nt.use.currentFile(),m=nt.use.currentFilePath(),v=nt.use.curentFileType(),R=nt.use.loadProjectTree(),E=nt.use.closeFileEditor(),y=nt.use.loadFile(),f=nt.use.saveFile(),a=nt.use.getFileDiff(),[u,s]=ne.useState(""),[n,i]=ne.useState(void 0),[r,l]=ne.useState(void 0);if(ne.useEffect(()=>{c&&m?(y(m).then(h=>{s(typeof h=="string"?h:"")}),a(m).then(h=>{h&&(h.added?.length>0||h.modified?.length>0)?i({added:h.added||[],modified:h.modified||[]}):i(void 0)})):i(void 0)},[c,m]),c)return N.jsxs($n,{width:"1200px",children:[N.jsx(Dn,{title:_,description:m,close:()=>E(),icon:"fa-solid fa-file-code"}),N.jsx("div",{className:"p-2 flex-1 text-md h-full",children:N.jsx(Cc,{value:u,transparent:!0,mode:v==="js"||v==="jsx"?"javascript":v==="ts"||v==="tsx"?"typescript":"json",height:"60vh",width:"100%",onChange:h=>{s(h)},diffMarkers:n,onSave:()=>{m&&(f(m,u),E(),R())},rightClickMenu:(h,o,d,g)=>{g&&l({start:g.startLine,end:g.endLine})},contextMenuComponent:N.jsx("div",{className:"bg-gray-800 w-[200px] p-2 rounded-md",children:N.jsxs("button",{className:"flex gap-2 w-full text-left p-2 rounded-md hover:bg-gray-700",onClick:()=>{if(!m)return;const h=new CustomEvent("opencode:terminal:type",{detail:"@"+m+" Lines: "+r?.start+" - "+r?.end+`
`});window.dispatchEvent(h),E()},children:[N.jsx("i",{className:"fa-solid fa-code"}),N.jsx("span",{className:"text-sm",children:"Chat About This"})]})})})}),N.jsxs("div",{className:"flex justify-end gap-2 p-3",children:[N.jsx(Pk,{onClick:()=>E(),text:"Close"}),N.jsx(Ji,{className:"w-[200px]",onClick:()=>{m&&(f(m,u),E(),R())},text:"Save (Ctrl + S)",icon:"fa-solid fa-floppy-disk"})]})]})}function Uk(c){const _=nt.use.projectTree(),m=Xe.use.loadRootDir(),v=ls.use.loadGitStashList(),R=nt.use.setSelectedPath(),E=nt.use.loadProjectTree(),[y,f]=ne.useState(null);return ne.useEffect(()=>{if(c.isVisible){m(),E(),v();const a=setInterval(()=>{E(),v()},5e3);f(a)}else clearInterval(y);return()=>{clearInterval(y)}},[c.isVisible]),N.jsxs("div",{className:`flex flex-col h-full min-h-0 bg-gray-800/20 rounded ${c.className}`,children:[N.jsx(Fk,{}),N.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden min-h-0 py-1",onClick:a=>{a.stopPropagation(),R("")},children:_&&_.length>0?_.map((a,u)=>N.jsx(jy,{item:a},u)):N.jsx("div",{className:"p-4 text-center text-white/20 text-xs italic",children:"Loading or empty..."})}),N.jsx(Wk,{})]})}function Vk(c){const _=Xn.use.opencodeInstances(),m=Xn.use.setInstanceActive(),v=Xn.use.closeInstance(),R=zt.use.showModal();function E(y){y.stopPropagation(),R("confirm","Close this Opencode?",`Are you sure you want to close ${c.instance.name}?`,"warning",f=>{f&&v(c.instance.id)})}return N.jsx("div",{className:"flex items-center",children:N.jsxs("div",{onClick:()=>m(c.instance.id),className:`
                        group relative flex items-center justify-between rounded-t-md w-36 px-2 py-0.3
                        cursor-pointer transition-all duration-300 select-none
                        border-r border-white/5
                        ${c.isActive?"bg-gradient-to-br from-blue-600/40 to-blue-400/40 text-white":"bg-[#0b0b0b] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[N.jsx("span",{className:"truncate text-sm flex-1",children:c.instance.name}),_.length>1?N.jsx("button",{onClick:E,className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-0.5 rounded",children:N.jsx("i",{className:"fa-solid fa-times text-xs"})}):N.jsx("div",{className:"opacity-0 p-0.5",children:N.jsx("i",{className:"fa-solid fa-times text-xs"})})]})})}function Gk(){return N.jsx("div",{children:N.jsx("h1",{children:"Chat Container"})})}function Kk(c){return N.jsx("div",{className:`w-full h-full ${c.isActive?"block":"hidden"}`,children:N.jsx(Gk,{})})}function Yk(){const c=Xn.use.isCreatingInstance(),_=Xn.use.createInstance(),m=zt.use.showModal(),v=()=>{c||m("prompt","New Instance","Enter the name of the new instance","success",R=>{R&&R.trim()!==""&&_(R.trim())})};return N.jsx(hs,{icon:c?"fa-solid fa-spinner fa-spin":"fa-solid fa-plus",onClick:v,title:"New Terminal",className:`mx-2 px-2 opacity-50 hover:opacity-100 ${c?"animate-pulse":""}`})}function Xk(){const c=Xn.use.opencodeInstances();return N.jsxs("div",{className:"w-full h-full",children:[N.jsxs("div",{className:"flex items-center",children:[c.map(_=>N.jsx(Vk,{..._},_.instance.id)),N.jsx(Yk,{})]}),N.jsx("div",{className:"w-full h-full",children:c.map(_=>N.jsx(Kk,{..._},_.instance.id))})]})}function qk({isVisible:c}){const _=Xn.use.opencodeInstances(),m=Xn.use.sidebarWidth(),v=Xn.use.setSidebarWidth(),R=Xn.use.loadInstances(),[E,y]=ne.useState(!1),f=Xn.use.checkOpencodeInstalled();return ne.useEffect(()=>{f(),R()},[]),ne.useEffect(()=>{c&&R()},[c]),N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${c?"flex":"hidden"} `,children:[N.jsx("div",{className:"flex flex-col gap-3 h-full min-h-0 overflow-y-auto shrink-0",style:{width:m},children:N.jsx(Uk,{isVisible:c})}),N.jsx(Ik,{setBarWidth:v}),N.jsx("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded overflow-hidden",onDragOver:a=>{a.preventDefault(),E||y(!0)},children:_.length===0?N.jsx(Bk,{isVisible:c,onStart:()=>{}}):N.jsx(Xk,{})})]})}function Zk(){const c=Wm.use.currentPage(),_=Wm.use.action(),m=Xe.use.loadRootDir(),v=Xe.use.checkIfFirstTime(),R=Xe.use.showAboutModal(),E=Xe.use.setShowAboutModal(),y=Xe.use.setShowGit(),f=hc.use.setShowOrchestrator(),[a,u]=ne.useState(!1),[s,n]=ne.useState(!0);return ne.useEffect(()=>{const i=r=>{(r.ctrlKey||r.metaKey)&&(r.key.toLowerCase()==="s"&&(r.preventDefault(),y(!0)),r.key.toLowerCase()==="d"&&(r.preventDefault(),f(!0)))};return window.addEventListener("keydown",i,{capture:!0}),()=>window.removeEventListener("keydown",i,{capture:!0})},[]),ne.useEffect(()=>{n(!1),setTimeout(async()=>{await v()&&u(!0),await m()},0)},[]),s?N.jsx(ew,{}):a?N.jsx(Jx,{onComplete:()=>u(!1)}):N.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-[#090909] relative",children:[N.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[N.jsx("div",{className:"absolute -top-[20%]    -left-[10%]  w-[70%] h-[50%] bg-blue-600/8 rounded-full blur-[160px]"}),N.jsx("div",{className:"absolute -bottom-[35%] -right-[25%]  w-[70%] h-[50%] bg-blue-500/7 rounded-full blur-[160px]"})]}),N.jsx(u0,{}),N.jsxs("div",{className:"flex flex-1 overflow-hidden h-full w-full ",children:[N.jsx(tx,{navs:[{name:"dashboard",label:"Dashboard",icon:"fa fa-solid fa-house",isSelected:c==="dashboard",onClick:()=>_.setCurrentPage("dashboard")},{name:"workspace",label:"Workspace",icon:"fa fa-cube",isSelected:c==="workspace",onClick:()=>_.setCurrentPage("workspace")},{name:"open-code",label:"Opencode",icon:"fa fa-solid fa-terminal",isSelected:c==="open-code",onClick:()=>_.setCurrentPage("open-code")},{name:"turborepo",label:"Turborepo",icon:"fa fa-solid fa-truck-fast",isSelected:c==="turborepo",onClick:()=>_.setCurrentPage("turborepo")},{name:"crud",label:"CRUD Tester",icon:"fa fa-microscope",isSelected:c==="crud",onClick:()=>_.setCurrentPage("crud")}],extraNavs:[{name:"network",label:"Network & Docker",icon:"fa fa-solid fa-network-wired",isSelected:c==="network",onClick:()=>_.setCurrentPage("network")},{name:"cloudflare",label:"Tunnel (via Cloudflare)",icon:"fa fa-solid fa-cloud",isSelected:c==="cloudflare",onClick:()=>_.setCurrentPage("cloudflare")}]}),N.jsx("main",{className:"flex-1 relative overflow-hidden",children:N.jsxs("div",{className:"w-full h-full pb-8",children:[N.jsx(lx,{isVisible:c==="dashboard"}),N.jsx(qx,{isVisible:c==="workspace"}),N.jsx(qk,{isVisible:c==="open-code"}),N.jsx(rw,{isVisible:c==="turborepo"}),N.jsx(Ow,{isVisible:c==="cloudflare"}),N.jsx(Iw,{isVisible:c==="network"}),N.jsx($w,{isVisible:c==="crud"})]})})]}),N.jsx(Vw,{}),N.jsx(Ok,{}),N.jsx(Qx,{}),N.jsx(Dw,{isOpen:R,setIsOpen:()=>E(!1)}),N.jsx(Zx,{})]})}const Qk=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);Qk&&document.documentElement.classList.add("is-chrome");window.addEventListener("beforeunload",c=>{c.preventDefault()});H_.createRoot(document.getElementById("root")).render(N.jsx(ne.StrictMode,{children:N.jsx(Zk,{})}));

(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))v(R);new MutationObserver(R=>{for(const E of R)if(E.type==="childList")for(const y of E.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&v(y)}).observe(document,{childList:!0,subtree:!0});function m(R){const E={};return R.integrity&&(E.integrity=R.integrity),R.referrerPolicy&&(E.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?E.credentials="include":R.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function v(R){if(R.ep)return;R.ep=!0;const E=m(R);fetch(R.href,E)}})();var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Mh={exports:{}},_a={};var Cm;function R_(){if(Cm)return _a;Cm=1;var h=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function m(v,R,E){var y=null;if(E!==void 0&&(y=""+E),R.key!==void 0&&(y=""+R.key),"key"in R){E={};for(var f in R)f!=="key"&&(E[f]=R[f])}else E=R;return R=E.ref,{$$typeof:h,type:v,key:y,ref:R!==void 0?R:null,props:E}}return _a.Fragment=_,_a.jsx=m,_a.jsxs=m,_a}var Em;function N_(){return Em||(Em=1,Mh.exports=R_()),Mh.exports}var O=N_(),Lh={exports:{}},je={};var Am;function $_(){if(Am)return je;Am=1;var h=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),y=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),i=Symbol.for("react.activity"),n=Symbol.iterator;function r(W){return W===null||typeof W!="object"?null:(W=n&&W[n]||W["@@iterator"],typeof W=="function"?W:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,o={};function d(W,K,Y){this.props=W,this.context=K,this.refs=o,this.updater=Y||l}d.prototype.isReactComponent={},d.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},d.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function g(){}g.prototype=d.prototype;function x(W,K,Y){this.props=W,this.context=K,this.refs=o,this.updater=Y||l}var S=x.prototype=new g;S.constructor=x,u(S,d.prototype),S.isPureReactComponent=!0;var w=Array.isArray;function b(){}var k={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function T(W,K,Y){var X=Y.ref;return{$$typeof:h,type:W,key:K,ref:X!==void 0?X:null,props:Y}}function j(W,K){return T(W.type,K,W.props)}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===h}function N(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return K[Y]})}var $=/\/+/g;function M(W,K){return typeof W=="object"&&W!==null&&W.key!=null?N(""+W.key):K.toString(36)}function L(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(b,b):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function D(W,K,Y,X,q){var J=typeof W;(J==="undefined"||J==="boolean")&&(W=null);var V=!1;if(W===null)V=!0;else switch(J){case"bigint":case"string":case"number":V=!0;break;case"object":switch(W.$$typeof){case h:case _:V=!0;break;case s:return V=W._init,D(V(W._payload),K,Y,X,q)}}if(V)return q=q(W),V=X===""?"."+M(W,0):X,w(q)?(Y="",V!=null&&(Y=V.replace($,"$&/")+"/"),D(q,K,Y,"",function(ne){return ne})):q!=null&&(F(q)&&(q=j(q,Y+(q.key==null||W&&W.key===q.key?"":(""+q.key).replace($,"$&/")+"/")+V)),K.push(q)),1;V=0;var Q=X===""?".":X+":";if(w(W))for(var te=0;te<W.length;te++)X=W[te],J=Q+M(X,te),V+=D(X,K,Y,J,q);else if(te=r(W),typeof te=="function")for(W=te.call(W),te=0;!(X=W.next()).done;)X=X.value,J=Q+M(X,te++),V+=D(X,K,Y,J,q);else if(J==="object"){if(typeof W.then=="function")return D(L(W),K,Y,X,q);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return V}function z(W,K,Y){if(W==null)return W;var X=[],q=0;return D(W,X,"","",function(J){return K.call(Y,J,q++)}),X}function B(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var P=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},U={map:z,forEach:function(W,K,Y){z(W,function(){K.apply(this,arguments)},Y)},count:function(W){var K=0;return z(W,function(){K++}),K},toArray:function(W){return z(W,function(K){return K})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return je.Activity=i,je.Children=U,je.Component=d,je.Fragment=m,je.Profiler=R,je.PureComponent=x,je.StrictMode=v,je.Suspense=a,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(W){return k.H.useMemoCache(W)}},je.cache=function(W){return function(){return W.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(W,K,Y){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=u({},W.props),q=W.key;if(K!=null)for(J in K.key!==void 0&&(q=""+K.key),K)!A.call(K,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&K.ref===void 0||(X[J]=K[J]);var J=arguments.length-2;if(J===1)X.children=Y;else if(1<J){for(var V=Array(J),Q=0;Q<J;Q++)V[Q]=arguments[Q+2];X.children=V}return T(W.type,q,X)},je.createContext=function(W){return W={$$typeof:y,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:E,_context:W},W},je.createElement=function(W,K,Y){var X,q={},J=null;if(K!=null)for(X in K.key!==void 0&&(J=""+K.key),K)A.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=K[X]);var V=arguments.length-2;if(V===1)q.children=Y;else if(1<V){for(var Q=Array(V),te=0;te<V;te++)Q[te]=arguments[te+2];q.children=Q}if(W&&W.defaultProps)for(X in V=W.defaultProps,V)q[X]===void 0&&(q[X]=V[X]);return T(W,J,q)},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:f,render:W}},je.isValidElement=F,je.lazy=function(W){return{$$typeof:s,_payload:{_status:-1,_result:W},_init:B}},je.memo=function(W,K){return{$$typeof:c,type:W,compare:K===void 0?null:K}},je.startTransition=function(W){var K=k.T,Y={};k.T=Y;try{var X=W(),q=k.S;q!==null&&q(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(b,P)}catch(J){P(J)}finally{K!==null&&Y.types!==null&&(K.types=Y.types),k.T=K}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(W){return k.H.use(W)},je.useActionState=function(W,K,Y){return k.H.useActionState(W,K,Y)},je.useCallback=function(W,K){return k.H.useCallback(W,K)},je.useContext=function(W){return k.H.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W,K){return k.H.useDeferredValue(W,K)},je.useEffect=function(W,K){return k.H.useEffect(W,K)},je.useEffectEvent=function(W){return k.H.useEffectEvent(W)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(W,K,Y){return k.H.useImperativeHandle(W,K,Y)},je.useInsertionEffect=function(W,K){return k.H.useInsertionEffect(W,K)},je.useLayoutEffect=function(W,K){return k.H.useLayoutEffect(W,K)},je.useMemo=function(W,K){return k.H.useMemo(W,K)},je.useOptimistic=function(W,K){return k.H.useOptimistic(W,K)},je.useReducer=function(W,K,Y){return k.H.useReducer(W,K,Y)},je.useRef=function(W){return k.H.useRef(W)},je.useState=function(W){return k.H.useState(W)},je.useSyncExternalStore=function(W,K,Y){return k.H.useSyncExternalStore(W,K,Y)},je.useTransition=function(){return k.H.useTransition()},je.version="19.2.3",je}var km;function Ir(){return km||(km=1,Lh.exports=$_()),Lh.exports}var ie=Ir();const _e=wc(ie);var Rh={exports:{}},xa={},Nh={exports:{}},$h={};var Tm;function D_(){return Tm||(Tm=1,(function(h){function _(D,z){var B=D.length;D.push(z);e:for(;0<B;){var P=B-1>>>1,U=D[P];if(0<R(U,z))D[P]=z,D[B]=U,B=P;else break e}}function m(D){return D.length===0?null:D[0]}function v(D){if(D.length===0)return null;var z=D[0],B=D.pop();if(B!==z){D[0]=B;e:for(var P=0,U=D.length,W=U>>>1;P<W;){var K=2*(P+1)-1,Y=D[K],X=K+1,q=D[X];if(0>R(Y,B))X<U&&0>R(q,Y)?(D[P]=q,D[X]=B,P=X):(D[P]=Y,D[K]=B,P=K);else if(X<U&&0>R(q,B))D[P]=q,D[X]=B,P=X;else break e}}return z}function R(D,z){var B=D.sortIndex-z.sortIndex;return B!==0?B:D.id-z.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;h.unstable_now=function(){return E.now()}}else{var y=Date,f=y.now();h.unstable_now=function(){return y.now()-f}}var a=[],c=[],s=1,i=null,n=3,r=!1,l=!1,u=!1,o=!1,d=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function S(D){for(var z=m(c);z!==null;){if(z.callback===null)v(c);else if(z.startTime<=D)v(c),z.sortIndex=z.expirationTime,_(a,z);else break;z=m(c)}}function w(D){if(u=!1,S(D),!l)if(m(a)!==null)l=!0,b||(b=!0,N());else{var z=m(c);z!==null&&L(w,z.startTime-D)}}var b=!1,k=-1,A=5,T=-1;function j(){return o?!0:!(h.unstable_now()-T<A)}function F(){if(o=!1,b){var D=h.unstable_now();T=D;var z=!0;try{e:{l=!1,u&&(u=!1,g(k),k=-1),r=!0;var B=n;try{t:{for(S(D),i=m(a);i!==null&&!(i.expirationTime>D&&j());){var P=i.callback;if(typeof P=="function"){i.callback=null,n=i.priorityLevel;var U=P(i.expirationTime<=D);if(D=h.unstable_now(),typeof U=="function"){i.callback=U,S(D),z=!0;break t}i===m(a)&&v(a),S(D)}else v(a);i=m(a)}if(i!==null)z=!0;else{var W=m(c);W!==null&&L(w,W.startTime-D),z=!1}}break e}finally{i=null,n=B,r=!1}z=void 0}}finally{z?N():b=!1}}}var N;if(typeof x=="function")N=function(){x(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=F,N=function(){M.postMessage(null)}}else N=function(){d(F,0)};function L(D,z){k=d(function(){D(h.unstable_now())},z)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(D){D.callback=null},h.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},h.unstable_getCurrentPriorityLevel=function(){return n},h.unstable_next=function(D){switch(n){case 1:case 2:case 3:var z=3;break;default:z=n}var B=n;n=z;try{return D()}finally{n=B}},h.unstable_requestPaint=function(){o=!0},h.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=n;n=D;try{return z()}finally{n=B}},h.unstable_scheduleCallback=function(D,z,B){var P=h.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,D={id:s++,callback:z,priorityLevel:D,startTime:B,expirationTime:U,sortIndex:-1},B>P?(D.sortIndex=B,_(c,D),m(a)===null&&D===m(c)&&(u?(g(k),k=-1):u=!0,L(w,B-P))):(D.sortIndex=U,_(a,D),l||r||(l=!0,b||(b=!0,N()))),D},h.unstable_shouldYield=j,h.unstable_wrapCallback=function(D){var z=n;return function(){var B=n;n=z;try{return D.apply(this,arguments)}finally{n=B}}}})($h)),$h}var Mm;function O_(){return Mm||(Mm=1,Nh.exports=D_()),Nh.exports}var Dh={exports:{}},li={};var Lm;function j_(){if(Lm)return li;Lm=1;var h=Ir();function _(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)c+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var v={d:{f:m,r:function(){throw Error(_(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},R=Symbol.for("react.portal");function E(a,c,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:i==null?null:""+i,children:a,containerInfo:c,implementation:s}}var y=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(a,c){if(a==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,li.createPortal=function(a,c){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(_(299));return E(a,c,null,s)},li.flushSync=function(a){var c=y.T,s=v.p;try{if(y.T=null,v.p=2,a)return a()}finally{y.T=c,v.p=s,v.d.f()}},li.preconnect=function(a,c){typeof a=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,v.d.C(a,c))},li.prefetchDNS=function(a){typeof a=="string"&&v.d.D(a)},li.preinit=function(a,c){if(typeof a=="string"&&c&&typeof c.as=="string"){var s=c.as,i=f(s,c.crossOrigin),n=typeof c.integrity=="string"?c.integrity:void 0,r=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;s==="style"?v.d.S(a,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:i,integrity:n,fetchPriority:r}):s==="script"&&v.d.X(a,{crossOrigin:i,integrity:n,fetchPriority:r,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},li.preinitModule=function(a,c){if(typeof a=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var s=f(c.as,c.crossOrigin);v.d.M(a,{crossOrigin:s,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&v.d.M(a)},li.preload=function(a,c){if(typeof a=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var s=c.as,i=f(s,c.crossOrigin);v.d.L(a,s,{crossOrigin:i,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},li.preloadModule=function(a,c){if(typeof a=="string")if(c){var s=f(c.as,c.crossOrigin);v.d.m(a,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:s,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else v.d.m(a)},li.requestFormReset=function(a){v.d.r(a)},li.unstable_batchedUpdates=function(a,c){return a(c)},li.useFormState=function(a,c,s){return y.H.useFormState(a,c,s)},li.useFormStatus=function(){return y.H.useHostTransitionStatus()},li.version="19.2.3",li}var Rm;function o0(){if(Rm)return Dh.exports;Rm=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(_){console.error(_)}}return h(),Dh.exports=j_(),Dh.exports}var Nm;function I_(){if(Nm)return xa;Nm=1;var h=O_(),_=Ir(),m=o0();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)t+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var t=e,p=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(p=t.return),e=t.return;while(e)}return t.tag===3?p:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a(e){if(E(e)!==e)throw Error(v(188))}function c(e){var t=e.alternate;if(!t){if(t=E(e),t===null)throw Error(v(188));return t!==e?null:e}for(var p=e,C=t;;){var I=p.return;if(I===null)break;var H=I.alternate;if(H===null){if(C=I.return,C!==null){p=C;continue}break}if(I.child===H.child){for(H=I.child;H;){if(H===p)return a(I),e;if(H===C)return a(I),t;H=H.sibling}throw Error(v(188))}if(p.return!==C.return)p=I,C=H;else{for(var G=!1,Z=I.child;Z;){if(Z===p){G=!0,p=I,C=H;break}if(Z===C){G=!0,C=I,p=H;break}Z=Z.sibling}if(!G){for(Z=H.child;Z;){if(Z===p){G=!0,p=H,C=I;break}if(Z===C){G=!0,C=H,p=I;break}Z=Z.sibling}if(!G)throw Error(v(189))}}if(p.alternate!==C)throw Error(v(190))}if(p.tag!==3)throw Error(v(188));return p.stateNode.current===p?e:t}function s(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=s(e),t!==null)return t;e=e.sibling}return null}var i=Object.assign,n=Symbol.for("react.element"),r=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case u:return"Fragment";case d:return"Profiler";case o:return"StrictMode";case w:return"Suspense";case b:return"SuspenseList";case T:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case l:return"Portal";case x:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var L=Array.isArray,D=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},P=[],U=-1;function W(e){return{current:e}}function K(e){0>U||(e.current=P[U],P[U]=null,U--)}function Y(e,t){U++,P[U]=e.current,e.current=t}var X=W(null),q=W(null),J=W(null),V=W(null);function Q(e,t){switch(Y(J,t),Y(q,e),Y(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kg(t),e=Yg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(X),Y(X,e)}function te(){K(X),K(q),K(J)}function ne(e){e.memoizedState!==null&&Y(V,e);var t=X.current,p=Yg(t,e.type);t!==p&&(Y(q,e),Y(X,p))}function me(e){q.current===e&&(K(X),K(q)),V.current===e&&(K(V),ma._currentValue=B)}var pe,Se;function ke(e){if(pe===void 0)try{throw Error()}catch(p){var t=p.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Se}var Ae=!1;function Ue(e,t){if(!e||Ae)return"";Ae=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(t){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(de){var he=de}Reflect.construct(e,[],ve)}else{try{ve.call()}catch(de){he=de}e.call(ve.prototype)}}else{try{throw Error()}catch(de){he=de}(ve=e())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(de){if(de&&he&&typeof de.stack=="string")return[de.stack,he.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=C.DetermineComponentFrameRoot(),G=H[0],Z=H[1];if(G&&Z){var re=G.split(`
`),ue=Z.split(`
`);for(I=C=0;C<re.length&&!re[C].includes("DetermineComponentFrameRoot");)C++;for(;I<ue.length&&!ue[I].includes("DetermineComponentFrameRoot");)I++;if(C===re.length||I===ue.length)for(C=re.length-1,I=ue.length-1;1<=C&&0<=I&&re[C]!==ue[I];)I--;for(;1<=C&&0<=I;C--,I--)if(re[C]!==ue[I]){if(C!==1||I!==1)do if(C--,I--,0>I||re[C]!==ue[I]){var fe=`
`+re[C].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=C&&0<=I);break}}}finally{Ae=!1,Error.prepareStackTrace=p}return(p=e?e.displayName||e.name:"")?ke(p):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return ke(e.type);case 16:return ke("Lazy");case 13:return e.child!==t&&t!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return ke("Activity");default:return""}}function Ce(e){try{var t="",p=null;do t+=we(e,p),p=e,e=e.return;while(e);return t}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var at=Object.prototype.hasOwnProperty,$t=h.unstable_scheduleCallback,qt=h.unstable_cancelCallback,Zt=h.unstable_shouldYield,mt=h.unstable_requestPaint,Ze=h.unstable_now,_t=h.unstable_getCurrentPriorityLevel,Dt=h.unstable_ImmediatePriority,xt=h.unstable_UserBlockingPriority,pt=h.unstable_NormalPriority,Kt=h.unstable_LowPriority,nt=h.unstable_IdlePriority,rt=h.log,He=h.unstable_setDisableYieldValue,Tt=null,gt=null;function wt(e){if(typeof rt=="function"&&He(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Tt,e)}catch{}}var le=Math.clz32?Math.clz32:Pe,be=Math.log,Me=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(be(e)/Me|0)|0}var Ft=256,si=262144,$i=4194304;function Pt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Di(e,t,p){var C=e.pendingLanes;if(C===0)return 0;var I=0,H=e.suspendedLanes,G=e.pingedLanes;e=e.warmLanes;var Z=C&134217727;return Z!==0?(C=Z&~H,C!==0?I=Pt(C):(G&=Z,G!==0?I=Pt(G):p||(p=Z&~e,p!==0&&(I=Pt(p))))):(Z=C&~H,Z!==0?I=Pt(Z):G!==0?I=Pt(G):p||(p=C&~e,p!==0&&(I=Pt(p)))),I===0?0:t!==0&&t!==I&&(t&H)===0&&(H=I&-I,p=t&-t,H>=p||H===32&&(p&4194048)!==0)?t:I}function Zi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Br(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var e=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),e}function Qi(e){for(var t=[],p=0;31>p;p++)t.push(e);return t}function Tn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ko(e,t,p,C,I,H){var G=e.pendingLanes;e.pendingLanes=p,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=p,e.entangledLanes&=p,e.errorRecoveryDisabledLanes&=p,e.shellSuspendCounter=0;var Z=e.entanglements,re=e.expirationTimes,ue=e.hiddenUpdates;for(p=G&~p;0<p;){var fe=31-le(p),ve=1<<fe;Z[fe]=0,re[fe]=-1;var he=ue[fe];if(he!==null)for(ue[fe]=null,fe=0;fe<he.length;fe++){var de=he[fe];de!==null&&(de.lane&=-536870913)}p&=~ve}C!==0&&ps(e,C,0),H!==0&&I===0&&e.tag!==0&&(e.suspendedLanes|=H&~(G&~t))}function ps(e,t,p){e.pendingLanes|=t,e.suspendedLanes&=~t;var C=31-le(t);e.entangledLanes|=t,e.entanglements[C]=e.entanglements[C]|1073741824|p&261930}function gs(e,t){var p=e.entangledLanes|=t;for(e=e.entanglements;p;){var C=31-le(p),I=1<<C;I&t|e[C]&t&&(e[C]|=t),p&=~I}}function ms(e,t){var p=t&-t;return p=(p&42)!==0?1:tr(p),(p&(e.suspendedLanes|t))!==0?0:p}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oi(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function vs(e,t){var p=z.p;try{return z.p=e,t()}finally{z.p=p}}var ji=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ji,Wt="__reactProps$"+ji,vn="__reactContainer$"+ji,ci="__reactEvents$"+ji,To="__reactListeners$"+ji,Mo="__reactHandles$"+ji,ys="__reactResources$"+ji,Ln="__reactMarker$"+ji;function Hr(e){delete e[Mt],delete e[Wt],delete e[ci],delete e[To],delete e[Mo]}function oi(e){var t=e[Mt];if(t)return t;for(var p=e.parentNode;p;){if(t=p[vn]||p[Mt]){if(p=t.alternate,t.child!==null||p!==null&&p.child!==null)for(e=tm(e);e!==null;){if(p=e[Mt])return p;e=tm(e)}return t}e=p,p=e.parentNode}return null}function Ji(e){if(e=e[Mt]||e[vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function yn(e){var t=e[ys];return t||(t=e[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[Ln]=!0}var bs=new Set,Nn={};function en(e,t){tn(e,t),tn(e+"Capture",t)}function tn(e,t){for(Nn[e]=t,e=0;e<t.length;e++)bs.add(t[e])}var Ii=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_s={},xs={};function zr(e){return at.call(xs,e)?!0:at.call(_s,e)?!1:Ii.test(e)?xs[e]=!0:(_s[e]=!0,!1)}function ws(e,t,p){if(zr(t))if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var C=t.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+p)}}function Ss(e,t,p){if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+p)}}function nn(e,t,p,C){if(C===null)e.removeAttribute(p);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(p);return}e.setAttributeNS(t,p,""+C)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function za(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fr(e,t,p){var C=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var I=C.get,H=C.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return I.call(this)},set:function(G){p=""+G,H.call(this,G)}}),Object.defineProperty(e,t,{enumerable:C.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){if(!e._valueTracker){var t=za(e)?"checked":"value";e._valueTracker=Fr(e,t,""+e[t])}}function Lo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var p=t.getValue(),C="";return e&&(C=za(e)?e.checked?"true":"false":e.value),e=C,e!==p?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lc=/[\n"\\]/g;function hi(e){return e.replace(Lc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ro(e,t,p,C,I,H,G,Z){e.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.type=G:e.removeAttribute("type"),t!=null?G==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):G!=="submit"&&G!=="reset"||e.removeAttribute("value"),t!=null?$o(e,G,Qt(t)):p!=null?$o(e,G,Qt(p)):C!=null&&e.removeAttribute("value"),I==null&&H!=null&&(e.defaultChecked=!!H),I!=null&&(e.checked=I&&typeof I!="function"&&typeof I!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?e.name=""+Qt(Z):e.removeAttribute("name")}function No(e,t,p,C,I,H,G,Z){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(e.type=H),t!=null||p!=null){if(!(H!=="submit"&&H!=="reset"||t!=null)){Cs(e);return}p=p!=null?""+Qt(p):"",t=t!=null?""+Qt(t):p,Z||t===e.value||(e.value=t),e.defaultValue=t}C=C??I,C=typeof C!="function"&&typeof C!="symbol"&&!!C,e.checked=Z?e.checked:!!C,e.defaultChecked=!!C,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(e.name=G),Cs(e)}function $o(e,t,p){t==="number"&&Es(e.ownerDocument)===e||e.defaultValue===""+p||(e.defaultValue=""+p)}function ir(e,t,p,C){if(e=e.options,t){t={};for(var I=0;I<p.length;I++)t["$"+p[I]]=!0;for(p=0;p<e.length;p++)I=t.hasOwnProperty("$"+e[p].value),e[p].selected!==I&&(e[p].selected=I),I&&C&&(e[p].defaultSelected=!0)}else{for(p=""+Qt(p),t=null,I=0;I<e.length;I++){if(e[I].value===p){e[I].selected=!0,C&&(e[I].defaultSelected=!0);return}t!==null||e[I].disabled||(t=e[I])}t!==null&&(t.selected=!0)}}function Do(e,t,p){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),p==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=p!=null?""+Qt(p):""}function Pr(e,t,p,C){if(t==null){if(C!=null){if(p!=null)throw Error(v(92));if(L(C)){if(1<C.length)throw Error(v(93));C=C[0]}p=C}p==null&&(p=""),t=p}p=Qt(t),e.defaultValue=p,C=e.textContent,C===p&&C!==""&&C!==null&&(e.value=C),Cs(e)}function xi(e,t){if(t){var p=e.firstChild;if(p&&p===e.lastChild&&p.nodeType===3){p.nodeValue=t;return}}e.textContent=t}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(e,t,p){var C=t.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?C?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":C?e.setProperty(t,p):typeof p!="number"||p===0||Rc.has(t)?t==="float"?e.cssFloat=p:e[t]=(""+p).trim():e[t]=p+"px"}function rn(e,t,p){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,p!=null){for(var C in p)!p.hasOwnProperty(C)||t!=null&&t.hasOwnProperty(C)||(C.indexOf("--")===0?e.setProperty(C,""):C==="float"?e.cssFloat="":e[C]="");for(var I in t)C=t[I],t.hasOwnProperty(I)&&p[I]!==C&&Fa(e,I,C)}else for(var H in t)t.hasOwnProperty(H)&&Fa(e,H,t[H])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(e){return $c.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var on=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nr=null,an=null;function Pa(e){var t=Ji(e);if(t&&(e=t.stateNode)){var p=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ro(e,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),t=p.name,p.type==="radio"&&t!=null){for(p=e;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hi(""+t)+'"][type="radio"]'),t=0;t<p.length;t++){var C=p[t];if(C!==e&&C.form===e.form){var I=C[Wt]||null;if(!I)throw Error(v(90));Ro(C,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(t=0;t<p.length;t++)C=p[t],C.form===e.form&&Lo(C)}break e;case"textarea":Do(e,p.value,p.defaultValue);break e;case"select":t=p.value,t!=null&&ir(e,!!p.multiple,t,!1)}}}var Wr=!1;function Wa(e,t,p){if(Wr)return e(t,p);Wr=!0;try{var C=e(t);return C}finally{if(Wr=!1,(nr!==null||an!==null)&&(kl(),nr&&(t=nr,e=an,an=nr=null,Pa(t),e)))for(t=0;t<e.length;t++)Pa(e[t])}}function rr(e,t){var p=e.stateNode;if(p===null)return null;var C=p[Wt]||null;if(C===null)return null;p=C[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(e=e.type,C=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!C;break e;default:e=!1}if(e)return null;if(p&&typeof p!="function")throw Error(v(231,t,typeof p));return p}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Bi)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Ts=!1}var cn=null,jo=null,Ms=null;function Ua(){if(Ms)return Ms;var e,t=jo,p=t.length,C,I="value"in cn?cn.value:cn.textContent,H=I.length;for(e=0;e<p&&t[e]===I[e];e++);var G=p-e;for(C=1;C<=G&&t[p-C]===I[H-C];C++);return Ms=I.slice(e,1<C?1-C:void 0)}function ee(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oe(){return!0}function ye(){return!1}function xe(e){function t(p,C,I,H,G){this._reactName=p,this._targetInst=I,this.type=C,this.nativeEvent=H,this.target=G,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(p=e[Z],this[Z]=p?p(H):H[Z]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?oe:ye,this.isPropagationStopped=ye,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){},isPersistent:oe}),t}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oe=xe(Qe),lt=i({},Qe,{view:0,detail:0}),Ot=xe(lt),Lt,dt,Ut,ai=i({},lt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ut&&(Ut&&e.type==="mousemove"?(Lt=e.screenX-Ut.screenX,dt=e.screenY-Ut.screenY):dt=Lt=0,Ut=e),Lt)},movementY:function(e){return"movementY"in e?e.movementY:dt}}),Vt=xe(ai),di=i({},ai,{dataTransfer:0}),fi=xe(di),bn=i({},lt,{relatedTarget:0}),wi=xe(bn),$n=i({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=xe($n),Ls=i({},Qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rs=xe(Ls),Iy=i({},Qe,{data:0}),qd=xe(Iy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zy[e])?!!t[e]:!1}function Dc(){return Fy}var Py=i({},lt,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ee(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?ee(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ee(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wy=xe(Py),Uy=i({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=xe(Uy),Vy=i({},lt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),Gy=xe(Vy),Ky=i({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=xe(Ky),Xy=i({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=xe(Xy),Zy=i({},Qe,{newState:0,oldState:0}),Qy=xe(Zy),Jy=[9,13,27,32],Oc=Bi&&"CompositionEvent"in window,Io=null;Bi&&"documentMode"in document&&(Io=document.documentMode);var eb=Bi&&"TextEvent"in window&&!Io,Qd=Bi&&(!Oc||Io&&8<Io&&11>=Io),Jd=" ",ef=!1;function tf(e,t){switch(e){case"keyup":return Jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function tb(e,t){switch(e){case"compositionend":return nf(t);case"keypress":return t.which!==32?null:(ef=!0,Jd);case"textInput":return e=t.data,e===Jd&&ef?null:e;default:return null}}function ib(e,t){if(Ns)return e==="compositionend"||!Oc&&tf(e,t)?(e=Ua(),Ms=jo=cn=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qd&&t.locale!=="ko"?null:t.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nb[e.type]:t==="textarea"}function sf(e,t,p,C){nr?an?an.push(C):an=[C]:nr=C,t=Dl(t,"onChange"),0<t.length&&(p=new Oe("onChange","change",null,p,C),e.push({event:p,listeners:t}))}var Bo=null,Ho=null;function rb(e){Fg(e,0)}function Ga(e){var t=Rn(e);if(Lo(t))return e}function of(e,t){if(e==="change")return t}var af=!1;if(Bi){var jc;if(Bi){var Ic="oninput"in document;if(!Ic){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Ic=typeof lf.oninput=="function"}jc=Ic}else jc=!1;af=jc&&(!document.documentMode||9<document.documentMode)}function cf(){Bo&&(Bo.detachEvent("onpropertychange",uf),Ho=Bo=null)}function uf(e){if(e.propertyName==="value"&&Ga(Ho)){var t=[];sf(t,Ho,e,ks(e)),Wa(rb,t)}}function sb(e,t,p){e==="focusin"?(cf(),Bo=t,Ho=p,Bo.attachEvent("onpropertychange",uf)):e==="focusout"&&cf()}function ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ga(Ho)}function ab(e,t){if(e==="click")return Ga(t)}function lb(e,t){if(e==="input"||e==="change")return Ga(t)}function cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Si=typeof Object.is=="function"?Object.is:cb;function zo(e,t){if(Si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var p=Object.keys(e),C=Object.keys(t);if(p.length!==C.length)return!1;for(C=0;C<p.length;C++){var I=p[C];if(!at.call(t,I)||!Si(e[I],t[I]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function df(e,t){var p=hf(e);e=0;for(var C;p;){if(p.nodeType===3){if(C=e+p.textContent.length,e<=t&&C>=t)return{node:p,offset:t-e};e=C}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=hf(p)}}function ff(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ff(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Es(e.document);t instanceof e.HTMLIFrameElement;){try{var p=typeof t.contentWindow.location.href=="string"}catch{p=!1}if(p)e=t.contentWindow;else break;t=Es(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ub=Bi&&"documentMode"in document&&11>=document.documentMode,$s=null,Hc=null,Fo=null,zc=!1;function gf(e,t,p){var C=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zc||$s==null||$s!==Es(C)||(C=$s,"selectionStart"in C&&Bc(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Fo&&zo(Fo,C)||(Fo=C,C=Dl(Hc,"onSelect"),0<C.length&&(t=new Oe("onSelect","select",null,t,p),e.push({event:t,listeners:C}),t.target=$s)))}function Ur(e,t){var p={};return p[e.toLowerCase()]=t.toLowerCase(),p["Webkit"+e]="webkit"+t,p["Moz"+e]="moz"+t,p}var Ds={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Fc={},mf={};Bi&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Vr(e){if(Fc[e])return Fc[e];if(!Ds[e])return e;var t=Ds[e],p;for(p in t)if(t.hasOwnProperty(p)&&p in mf)return Fc[e]=t[p];return e}var vf=Vr("animationend"),yf=Vr("animationiteration"),bf=Vr("animationstart"),hb=Vr("transitionrun"),db=Vr("transitionstart"),fb=Vr("transitioncancel"),_f=Vr("transitionend"),xf=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function un(e,t){xf.set(e,t),en(t,[e])}var Ka=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hi=[],Os=0,Wc=0;function Ya(){for(var e=Os,t=Wc=Os=0;t<e;){var p=Hi[t];Hi[t++]=null;var C=Hi[t];Hi[t++]=null;var I=Hi[t];Hi[t++]=null;var H=Hi[t];if(Hi[t++]=null,C!==null&&I!==null){var G=C.pending;G===null?I.next=I:(I.next=G.next,G.next=I),C.pending=I}H!==0&&wf(p,I,H)}}function Xa(e,t,p,C){Hi[Os++]=e,Hi[Os++]=t,Hi[Os++]=p,Hi[Os++]=C,Wc|=C,e.lanes|=C,e=e.alternate,e!==null&&(e.lanes|=C)}function Uc(e,t,p,C){return Xa(e,t,p,C),qa(e)}function Gr(e,t){return Xa(e,null,null,t),qa(e)}function wf(e,t,p){e.lanes|=p;var C=e.alternate;C!==null&&(C.lanes|=p);for(var I=!1,H=e.return;H!==null;)H.childLanes|=p,C=H.alternate,C!==null&&(C.childLanes|=p),H.tag===22&&(e=H.stateNode,e===null||e._visibility&1||(I=!0)),e=H,H=H.return;return e.tag===3?(H=e.stateNode,I&&t!==null&&(I=31-le(p),e=H.hiddenUpdates,C=e[I],C===null?e[I]=[t]:C.push(t),t.lane=p|536870912),H):null}function qa(e){if(50<ca)throw ca=0,Ju=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var js={};function pb(e,t,p,C){this.tag=e,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,p,C){return new pb(e,t,p,C)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,t){var p=e.alternate;return p===null?(p=Ci(e.tag,t,e.key,e.mode),p.elementType=e.elementType,p.type=e.type,p.stateNode=e.stateNode,p.alternate=e,e.alternate=p):(p.pendingProps=t,p.type=e.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=e.flags&65011712,p.childLanes=e.childLanes,p.lanes=e.lanes,p.child=e.child,p.memoizedProps=e.memoizedProps,p.memoizedState=e.memoizedState,p.updateQueue=e.updateQueue,t=e.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},p.sibling=e.sibling,p.index=e.index,p.ref=e.ref,p.refCleanup=e.refCleanup,p}function Sf(e,t){e.flags&=65011714;var p=e.alternate;return p===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=p.childLanes,e.lanes=p.lanes,e.child=p.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=p.memoizedProps,e.memoizedState=p.memoizedState,e.updateQueue=p.updateQueue,e.type=p.type,t=p.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Za(e,t,p,C,I,H){var G=0;if(C=e,typeof e=="function")Vc(e)&&(G=1);else if(typeof e=="string")G=b_(e,p,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case T:return e=Ci(31,p,t,I),e.elementType=T,e.lanes=H,e;case u:return Kr(p.children,I,H,t);case o:G=8,I|=24;break;case d:return e=Ci(12,p,t,I|2),e.elementType=d,e.lanes=H,e;case w:return e=Ci(13,p,t,I),e.elementType=w,e.lanes=H,e;case b:return e=Ci(19,p,t,I),e.elementType=b,e.lanes=H,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:G=10;break e;case g:G=9;break e;case S:G=11;break e;case k:G=14;break e;case A:G=16,C=null;break e}G=29,p=Error(v(130,e===null?"null":typeof e,"")),C=null}return t=Ci(G,p,t,I),t.elementType=e,t.type=C,t.lanes=H,t}function Kr(e,t,p,C){return e=Ci(7,e,C,t),e.lanes=p,e}function Gc(e,t,p){return e=Ci(6,e,null,t),e.lanes=p,e}function Cf(e){var t=Ci(18,null,null,0);return t.stateNode=e,t}function Kc(e,t,p){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=p,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ef=new WeakMap;function zi(e,t){if(typeof e=="object"&&e!==null){var p=Ef.get(e);return p!==void 0?p:(t={value:e,source:t,stack:Ce(t)},Ef.set(e,t),t)}return{value:e,source:t,stack:Ce(t)}}var Is=[],Bs=0,Qa=null,Po=0,Fi=[],Pi=0,sr=null,_n=1,xn="";function On(e,t){Is[Bs++]=Po,Is[Bs++]=Qa,Qa=e,Po=t}function Af(e,t,p){Fi[Pi++]=_n,Fi[Pi++]=xn,Fi[Pi++]=sr,sr=e;var C=_n;e=xn;var I=32-le(C)-1;C&=~(1<<I),p+=1;var H=32-le(t)+I;if(30<H){var G=I-I%5;H=(C&(1<<G)-1).toString(32),C>>=G,I-=G,_n=1<<32-le(t)+I|p<<I|C,xn=H+e}else _n=1<<H|p<<I|C,xn=e}function Yc(e){e.return!==null&&(On(e,1),Af(e,1,0))}function Xc(e){for(;e===Qa;)Qa=Is[--Bs],Is[Bs]=null,Po=Is[--Bs],Is[Bs]=null;for(;e===sr;)sr=Fi[--Pi],Fi[Pi]=null,xn=Fi[--Pi],Fi[Pi]=null,_n=Fi[--Pi],Fi[Pi]=null}function kf(e,t){Fi[Pi++]=_n,Fi[Pi++]=xn,Fi[Pi++]=sr,_n=t.id,xn=t.overflow,sr=e}var Jt=null,vt=null,qe=!1,or=null,Wi=!1,qc=Error(v(519));function ar(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(zi(t,e)),qc}function Tf(e){var t=e.stateNode,p=e.type,C=e.memoizedProps;switch(t[Mt]=e,t[Wt]=C,p){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(p=0;p<ha.length;p++)Ge(ha[p],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),No(t,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Pr(t,C.value,C.defaultValue,C.children)}p=C.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||t.textContent===""+p||C.suppressHydrationWarning===!0||Vg(t.textContent,p)?(C.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),C.onScroll!=null&&Ge("scroll",t),C.onScrollEnd!=null&&Ge("scrollend",t),C.onClick!=null&&(t.onclick=sn),t=!0):t=!1,t||ar(e,!0)}function Mf(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Jt=Jt.return}}function Hs(e){if(e!==Jt)return!1;if(!qe)return Mf(e),qe=!0,!1;var t=e.tag,p;if((p=t!==3&&t!==27)&&((p=t===5)&&(p=e.type,p=!(p!=="form"&&p!=="button")||ph(e.type,e.memoizedProps)),p=!p),p&&vt&&ar(e),Mf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=em(e)}else t===27?(t=vt,xr(e.type)?(e=bh,bh=null,vt=e):vt=t):vt=Jt?Vi(e.stateNode.nextSibling):null;return!0}function Yr(){vt=Jt=null,qe=!1}function Zc(){var e=or;return e!==null&&(vi===null?vi=e:vi.push.apply(vi,e),or=null),e}function Wo(e){or===null?or=[e]:or.push(e)}var Qc=W(null),Xr=null,jn=null;function lr(e,t,p){Y(Qc,t._currentValue),t._currentValue=p}function In(e){e._currentValue=Qc.current,K(Qc)}function Jc(e,t,p){for(;e!==null;){var C=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,C!==null&&(C.childLanes|=t)):C!==null&&(C.childLanes&t)!==t&&(C.childLanes|=t),e===p)break;e=e.return}}function eu(e,t,p,C){var I=e.child;for(I!==null&&(I.return=e);I!==null;){var H=I.dependencies;if(H!==null){var G=I.child;H=H.firstContext;e:for(;H!==null;){var Z=H;H=I;for(var re=0;re<t.length;re++)if(Z.context===t[re]){H.lanes|=p,Z=H.alternate,Z!==null&&(Z.lanes|=p),Jc(H.return,p,e),C||(G=null);break e}H=Z.next}}else if(I.tag===18){if(G=I.return,G===null)throw Error(v(341));G.lanes|=p,H=G.alternate,H!==null&&(H.lanes|=p),Jc(G,p,e),G=null}else G=I.child;if(G!==null)G.return=I;else for(G=I;G!==null;){if(G===e){G=null;break}if(I=G.sibling,I!==null){I.return=G.return,G=I;break}G=G.return}I=G}}function zs(e,t,p,C){e=null;for(var I=t,H=!1;I!==null;){if(!H){if((I.flags&524288)!==0)H=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var G=I.alternate;if(G===null)throw Error(v(387));if(G=G.memoizedProps,G!==null){var Z=I.type;Si(I.pendingProps.value,G.value)||(e!==null?e.push(Z):e=[Z])}}else if(I===V.current){if(G=I.alternate,G===null)throw Error(v(387));G.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(e!==null?e.push(ma):e=[ma])}I=I.return}e!==null&&eu(t,e,p,C),t.flags|=262144}function Ja(e){for(e=e.firstContext;e!==null;){if(!Si(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Xr=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ei(e){return Lf(Xr,e)}function el(e,t){return Xr===null&&qr(e),Lf(e,t)}function Lf(e,t){var p=t._currentValue;if(t={context:t,memoizedValue:p,next:null},jn===null){if(e===null)throw Error(v(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return p}var gb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(p,C){e.push(C)}};this.abort=function(){t.aborted=!0,e.forEach(function(p){return p()})}},mb=h.unstable_scheduleCallback,vb=h.unstable_NormalPriority,jt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new gb,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&mb(vb,function(){e.controller.abort()})}var Vo=null,iu=0,Fs=0,Ps=null;function yb(e,t){if(Vo===null){var p=Vo=[];iu=0,Fs=sh(),Ps={status:"pending",value:void 0,then:function(C){p.push(C)}}}return iu++,t.then(Rf,Rf),t}function Rf(){if(--iu===0&&Vo!==null){Ps!==null&&(Ps.status="fulfilled");var e=Vo;Vo=null,Fs=0,Ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bb(e,t){var p=[],C={status:"pending",value:null,reason:null,then:function(I){p.push(I)}};return e.then(function(){C.status="fulfilled",C.value=t;for(var I=0;I<p.length;I++)(0,p[I])(t)},function(I){for(C.status="rejected",C.reason=I,I=0;I<p.length;I++)(0,p[I])(void 0)}),C}var Nf=D.S;D.S=function(e,t){gg=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yb(e,t),Nf!==null&&Nf(e,t)};var Zr=W(null);function nu(){var e=Zr.current;return e!==null?e:ft.pooledCache}function tl(e,t){t===null?Y(Zr,Zr.current):Y(Zr,t.pool)}function $f(){var e=nu();return e===null?null:{parent:jt._currentValue,pool:e}}var Ws=Error(v(460)),ru=Error(v(474)),il=Error(v(542)),nl={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Of(e,t,p){switch(p=e[p],p===void 0?e.push(t):p!==t&&(t.then(sn,sn),t=p),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e;default:if(typeof t.status=="string")t.then(sn,sn);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(C){if(t.status==="pending"){var I=t;I.status="fulfilled",I.value=C}},function(C){if(t.status==="pending"){var I=t;I.status="rejected",I.reason=C}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e}throw Jr=t,Ws}}function Qr(e){try{var t=e._init;return t(e._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Jr=p,Ws):p}}var Jr=null;function jf(){if(Jr===null)throw Error(v(459));var e=Jr;return Jr=null,e}function If(e){if(e===Ws||e===il)throw Error(v(483))}var Us=null,Go=0;function rl(e){var t=Go;return Go+=1,Us===null&&(Us=[]),Of(Us,e,t)}function Ko(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===n?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bf(e){function t(ae,se){if(e){var ce=ae.deletions;ce===null?(ae.deletions=[se],ae.flags|=16):ce.push(se)}}function p(ae,se){if(!e)return null;for(;se!==null;)t(ae,se),se=se.sibling;return null}function C(ae){for(var se=new Map;ae!==null;)ae.key!==null?se.set(ae.key,ae):se.set(ae.index,ae),ae=ae.sibling;return se}function I(ae,se){return ae=Dn(ae,se),ae.index=0,ae.sibling=null,ae}function H(ae,se,ce){return ae.index=ce,e?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<se?(ae.flags|=67108866,se):ce):(ae.flags|=67108866,se)):(ae.flags|=1048576,se)}function G(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function Z(ae,se,ce,ge){return se===null||se.tag!==6?(se=Gc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function re(ae,se,ce,ge){var Re=ce.type;return Re===u?fe(ae,se,ce.props.children,ge,ce.key):se!==null&&(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Qr(Re)===se.type)?(se=I(se,ce.props),Ko(se,ce),se.return=ae,se):(se=Za(ce.type,ce.key,ce.props,null,ae.mode,ge),Ko(se,ce),se.return=ae,se)}function ue(ae,se,ce,ge){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=Kc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce.children||[]),se.return=ae,se)}function fe(ae,se,ce,ge,Re){return se===null||se.tag!==7?(se=Kr(ce,ae.mode,ge,Re),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function ve(ae,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Gc(""+se,ae.mode,ce),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case r:return ce=Za(se.type,se.key,se.props,null,ae.mode,ce),Ko(ce,se),ce.return=ae,ce;case l:return se=Kc(se,ae.mode,ce),se.return=ae,se;case A:return se=Qr(se),ve(ae,se,ce)}if(L(se)||N(se))return se=Kr(se,ae.mode,ce,null),se.return=ae,se;if(typeof se.then=="function")return ve(ae,rl(se),ce);if(se.$$typeof===x)return ve(ae,el(ae,se),ce);sl(ae,se)}return null}function he(ae,se,ce,ge){var Re=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Re!==null?null:Z(ae,se,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case r:return ce.key===Re?re(ae,se,ce,ge):null;case l:return ce.key===Re?ue(ae,se,ce,ge):null;case A:return ce=Qr(ce),he(ae,se,ce,ge)}if(L(ce)||N(ce))return Re!==null?null:fe(ae,se,ce,ge,null);if(typeof ce.then=="function")return he(ae,se,rl(ce),ge);if(ce.$$typeof===x)return he(ae,se,el(ae,ce),ge);sl(ae,ce)}return null}function de(ae,se,ce,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ae=ae.get(ce)||null,Z(se,ae,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case r:return ae=ae.get(ge.key===null?ce:ge.key)||null,re(se,ae,ge,Re);case l:return ae=ae.get(ge.key===null?ce:ge.key)||null,ue(se,ae,ge,Re);case A:return ge=Qr(ge),de(ae,se,ce,ge,Re)}if(L(ge)||N(ge))return ae=ae.get(ce)||null,fe(se,ae,ge,Re,null);if(typeof ge.then=="function")return de(ae,se,ce,rl(ge),Re);if(ge.$$typeof===x)return de(ae,se,ce,el(se,ge),Re);sl(se,ge)}return null}function Ee(ae,se,ce,ge){for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null;Te!==null&&ze<ce.length;ze++){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var et=he(ae,Te,ce[ze],ge);if(et===null){Te===null&&(Te=Ye);break}e&&Te&&et.alternate===null&&t(ae,Te),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et,Te=Ye}if(ze===ce.length)return p(ae,Te),qe&&On(ae,ze),Re;if(Te===null){for(;ze<ce.length;ze++)Te=ve(ae,ce[ze],ge),Te!==null&&(se=H(Te,se,ze),Je===null?Re=Te:Je.sibling=Te,Je=Te);return qe&&On(ae,ze),Re}for(Te=C(Te);ze<ce.length;ze++)Ye=de(Te,ae,ze,ce[ze],ge),Ye!==null&&(e&&Ye.alternate!==null&&Te.delete(Ye.key===null?ze:Ye.key),se=H(Ye,se,ze),Je===null?Re=Ye:Je.sibling=Ye,Je=Ye);return e&&Te.forEach(function(Ar){return t(ae,Ar)}),qe&&On(ae,ze),Re}function Ne(ae,se,ce,ge){if(ce==null)throw Error(v(151));for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null,et=ce.next();Te!==null&&!et.done;ze++,et=ce.next()){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var Ar=he(ae,Te,et.value,ge);if(Ar===null){Te===null&&(Te=Ye);break}e&&Te&&Ar.alternate===null&&t(ae,Te),se=H(Ar,se,ze),Je===null?Re=Ar:Je.sibling=Ar,Je=Ar,Te=Ye}if(et.done)return p(ae,Te),qe&&On(ae,ze),Re;if(Te===null){for(;!et.done;ze++,et=ce.next())et=ve(ae,et.value,ge),et!==null&&(se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return qe&&On(ae,ze),Re}for(Te=C(Te);!et.done;ze++,et=ce.next())et=de(Te,ae,ze,et.value,ge),et!==null&&(e&&et.alternate!==null&&Te.delete(et.key===null?ze:et.key),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return e&&Te.forEach(function(L_){return t(ae,L_)}),qe&&On(ae,ze),Re}function ht(ae,se,ce,ge){if(typeof ce=="object"&&ce!==null&&ce.type===u&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case r:e:{for(var Re=ce.key;se!==null;){if(se.key===Re){if(Re=ce.type,Re===u){if(se.tag===7){p(ae,se.sibling),ge=I(se,ce.props.children),ge.return=ae,ae=ge;break e}}else if(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Qr(Re)===se.type){p(ae,se.sibling),ge=I(se,ce.props),Ko(ge,ce),ge.return=ae,ae=ge;break e}p(ae,se);break}else t(ae,se);se=se.sibling}ce.type===u?(ge=Kr(ce.props.children,ae.mode,ge,ce.key),ge.return=ae,ae=ge):(ge=Za(ce.type,ce.key,ce.props,null,ae.mode,ge),Ko(ge,ce),ge.return=ae,ae=ge)}return G(ae);case l:e:{for(Re=ce.key;se!==null;){if(se.key===Re)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){p(ae,se.sibling),ge=I(se,ce.children||[]),ge.return=ae,ae=ge;break e}else{p(ae,se);break}else t(ae,se);se=se.sibling}ge=Kc(ce,ae.mode,ge),ge.return=ae,ae=ge}return G(ae);case A:return ce=Qr(ce),ht(ae,se,ce,ge)}if(L(ce))return Ee(ae,se,ce,ge);if(N(ce)){if(Re=N(ce),typeof Re!="function")throw Error(v(150));return ce=Re.call(ce),Ne(ae,se,ce,ge)}if(typeof ce.then=="function")return ht(ae,se,rl(ce),ge);if(ce.$$typeof===x)return ht(ae,se,el(ae,ce),ge);sl(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,se!==null&&se.tag===6?(p(ae,se.sibling),ge=I(se,ce),ge.return=ae,ae=ge):(p(ae,se),ge=Gc(ce,ae.mode,ge),ge.return=ae,ae=ge),G(ae)):p(ae,se)}return function(ae,se,ce,ge){try{Go=0;var Re=ht(ae,se,ce,ge);return Us=null,Re}catch(Te){if(Te===Ws||Te===il)throw Te;var Je=Ci(29,Te,null,ae.mode);return Je.lanes=ge,Je.return=ae,Je}}}var es=Bf(!0),Hf=Bf(!1),cr=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,t,p){var C=e.updateQueue;if(C===null)return null;if(C=C.shared,(tt&2)!==0){var I=C.pending;return I===null?t.next=t:(t.next=I.next,I.next=t),C.pending=t,t=qa(e),wf(e,null,p),t}return Xa(e,C,t,p),qa(e)}function Yo(e,t,p){if(t=t.updateQueue,t!==null&&(t=t.shared,(p&4194048)!==0)){var C=t.lanes;C&=e.pendingLanes,p|=C,t.lanes=p,gs(e,p)}}function au(e,t){var p=e.updateQueue,C=e.alternate;if(C!==null&&(C=C.updateQueue,p===C)){var I=null,H=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};H===null?I=H=G:H=H.next=G,p=p.next}while(p!==null);H===null?I=H=t:H=H.next=t}else I=H=t;p={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:H,shared:C.shared,callbacks:C.callbacks},e.updateQueue=p;return}e=p.lastBaseUpdate,e===null?p.firstBaseUpdate=t:e.next=t,p.lastBaseUpdate=t}var lu=!1;function Xo(){if(lu){var e=Ps;if(e!==null)throw e}}function qo(e,t,p,C){lu=!1;var I=e.updateQueue;cr=!1;var H=I.firstBaseUpdate,G=I.lastBaseUpdate,Z=I.shared.pending;if(Z!==null){I.shared.pending=null;var re=Z,ue=re.next;re.next=null,G===null?H=ue:G.next=ue,G=re;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,Z=fe.lastBaseUpdate,Z!==G&&(Z===null?fe.firstBaseUpdate=ue:Z.next=ue,fe.lastBaseUpdate=re))}if(H!==null){var ve=I.baseState;G=0,fe=ue=re=null,Z=H;do{var he=Z.lane&-536870913,de=he!==Z.lane;if(de?(Ke&he)===he:(C&he)===he){he!==0&&he===Fs&&(lu=!0),fe!==null&&(fe=fe.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ee=e,Ne=Z;he=t;var ht=p;switch(Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){ve=Ee.call(ht,ve,he);break e}ve=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,he=typeof Ee=="function"?Ee.call(ht,ve,he):Ee,he==null)break e;ve=i({},ve,he);break e;case 2:cr=!0}}he=Z.callback,he!==null&&(e.flags|=64,de&&(e.flags|=8192),de=I.callbacks,de===null?I.callbacks=[he]:de.push(he))}else de={lane:he,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},fe===null?(ue=fe=de,re=ve):fe=fe.next=de,G|=he;if(Z=Z.next,Z===null){if(Z=I.shared.pending,Z===null)break;de=Z,Z=de.next,de.next=null,I.lastBaseUpdate=de,I.shared.pending=null}}while(!0);fe===null&&(re=ve),I.baseState=re,I.firstBaseUpdate=ue,I.lastBaseUpdate=fe,H===null&&(I.shared.lanes=0),mr|=G,e.lanes=G,e.memoizedState=ve}}function zf(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Ff(e,t){var p=e.callbacks;if(p!==null)for(e.callbacks=null,e=0;e<p.length;e++)zf(p[e],t)}var Vs=W(null),ol=W(0);function Pf(e,t){e=Gn,Y(ol,e),Y(Vs,t),Gn=e|t.baseLanes}function cu(){Y(ol,Gn),Y(Vs,Vs.current)}function uu(){Gn=ol.current,K(Vs),K(ol)}var Ei=W(null),Ui=null;function dr(e){var t=e.alternate;Y(Rt,Rt.current&1),Y(Ei,e),Ui===null&&(t===null||Vs.current!==null||t.memoizedState!==null)&&(Ui=e)}function hu(e){Y(Rt,Rt.current),Y(Ei,e),Ui===null&&(Ui=e)}function Wf(e){e.tag===22?(Y(Rt,Rt.current),Y(Ei,e),Ui===null&&(Ui=e)):fr()}function fr(){Y(Rt,Rt.current),Y(Ei,Ei.current)}function Ai(e){K(Ei),Ui===e&&(Ui=null),K(Rt)}var Rt=W(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var p=t.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||vh(p)||yh(p)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,Be=null,ct=null,It=null,ll=!1,Gs=!1,ts=!1,cl=0,Zo=0,Ks=null,_b=0;function Ct(){throw Error(v(321))}function du(e,t){if(t===null)return!1;for(var p=0;p<t.length&&p<e.length;p++)if(!Si(e[p],t[p]))return!1;return!0}function fu(e,t,p,C,I,H){return Bn=H,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Ap:Tu,ts=!1,H=p(C,I),ts=!1,Gs&&(H=Vf(t,p,C,I)),Uf(e),H}function Uf(e){D.H=ea;var t=ct!==null&&ct.next!==null;if(Bn=0,It=ct=Be=null,ll=!1,Zo=0,Ks=null,t)throw Error(v(300));e===null||Bt||(e=e.dependencies,e!==null&&Ja(e)&&(Bt=!0))}function Vf(e,t,p,C){Be=e;var I=0;do{if(Gs&&(Ks=null),Zo=0,Gs=!1,25<=I)throw Error(v(301));if(I+=1,It=ct=null,e.updateQueue!=null){var H=e.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}D.H=kp,H=t(p,C)}while(Gs);return H}function xb(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Qo(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Be.flags|=1024),t}function pu(){var e=cl!==0;return cl=0,e}function gu(e,t,p){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p}function mu(e){if(ll){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ll=!1}Bn=0,It=ct=Be=null,Gs=!1,Zo=cl=0,Ks=null}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Be.memoizedState=It=e:It=It.next=e,It}function Nt(){if(ct===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=It===null?Be.memoizedState:It.next;if(t!==null)It=t,ct=e;else{if(e===null)throw Be.alternate===null?Error(v(467)):Error(v(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},It===null?Be.memoizedState=It=e:It=It.next=e}return It}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var t=Zo;return Zo+=1,Ks===null&&(Ks=[]),e=Of(Ks,e,t),t=Be,(It===null?t.memoizedState:It.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Ap:Tu),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===x)return ei(e)}throw Error(v(438,String(e)))}function vu(e){var t=null,p=Be.updateQueue;if(p!==null&&(t=p.memoCache),t==null){var C=Be.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(t={data:C.data.map(function(I){return I.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),p===null&&(p=ul(),Be.updateQueue=p),p.memoCache=t,p=t.data[t.index],p===void 0)for(p=t.data[t.index]=Array(e),C=0;C<e;C++)p[C]=j;return t.index++,p}function Hn(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=Nt();return yu(t,ct,e)}function yu(e,t,p){var C=e.queue;if(C===null)throw Error(v(311));C.lastRenderedReducer=p;var I=e.baseQueue,H=C.pending;if(H!==null){if(I!==null){var G=I.next;I.next=H.next,H.next=G}t.baseQueue=I=H,C.pending=null}if(H=e.baseState,I===null)e.memoizedState=H;else{t=I.next;var Z=G=null,re=null,ue=t,fe=!1;do{var ve=ue.lane&-536870913;if(ve!==ue.lane?(Ke&ve)===ve:(Bn&ve)===ve){var he=ue.revertLane;if(he===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),ve===Fs&&(fe=!0);else if((Bn&he)===he){ue=ue.next,he===Fs&&(fe=!0);continue}else ve={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=ve,G=H):re=re.next=ve,Be.lanes|=he,mr|=he;ve=ue.action,ts&&p(H,ve),H=ue.hasEagerState?ue.eagerState:p(H,ve)}else he={lane:ve,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=he,G=H):re=re.next=he,Be.lanes|=ve,mr|=ve;ue=ue.next}while(ue!==null&&ue!==t);if(re===null?G=H:re.next=Z,!Si(H,e.memoizedState)&&(Bt=!0,fe&&(p=Ps,p!==null)))throw p;e.memoizedState=H,e.baseState=G,e.baseQueue=re,C.lastRenderedState=H}return I===null&&(C.lanes=0),[e.memoizedState,C.dispatch]}function bu(e){var t=Nt(),p=t.queue;if(p===null)throw Error(v(311));p.lastRenderedReducer=e;var C=p.dispatch,I=p.pending,H=t.memoizedState;if(I!==null){p.pending=null;var G=I=I.next;do H=e(H,G.action),G=G.next;while(G!==I);Si(H,t.memoizedState)||(Bt=!0),t.memoizedState=H,t.baseQueue===null&&(t.baseState=H),p.lastRenderedState=H}return[H,C]}function Gf(e,t,p){var C=Be,I=Nt(),H=qe;if(H){if(p===void 0)throw Error(v(407));p=p()}else p=t();var G=!Si((ct||I).memoizedState,p);if(G&&(I.memoizedState=p,Bt=!0),I=I.queue,wu(Xf.bind(null,C,I,e),[e]),I.getSnapshot!==t||G||It!==null&&It.memoizedState.tag&1){if(C.flags|=2048,Ys(9,{destroy:void 0},Yf.bind(null,C,I,p,t),null),ft===null)throw Error(v(349));H||(Bn&127)!==0||Kf(C,t,p)}return p}function Kf(e,t,p){e.flags|=16384,e={getSnapshot:t,value:p},t=Be.updateQueue,t===null?(t=ul(),Be.updateQueue=t,t.stores=[e]):(p=t.stores,p===null?t.stores=[e]:p.push(e))}function Yf(e,t,p,C){t.value=p,t.getSnapshot=C,qf(t)&&Zf(e)}function Xf(e,t,p){return p(function(){qf(t)&&Zf(e)})}function qf(e){var t=e.getSnapshot;e=e.value;try{var p=t();return!Si(e,p)}catch{return!0}}function Zf(e){var t=Gr(e,2);t!==null&&yi(t,e,2)}function _u(e){var t=ui();if(typeof e=="function"){var p=e;if(e=p(),ts){wt(!0);try{p()}finally{wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t}function Qf(e,t,p,C){return e.baseState=p,yu(e,ct,typeof C=="function"?C:Hn)}function wb(e,t,p,C,I){if(gl(e))throw Error(v(485));if(e=t.action,e!==null){var H={payload:I,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){H.listeners.push(G)}};D.T!==null?p(!0):H.isTransition=!1,C(H),p=t.pending,p===null?(H.next=t.pending=H,Jf(t,H)):(H.next=p.next,t.pending=p.next=H)}}function Jf(e,t){var p=t.action,C=t.payload,I=e.state;if(t.isTransition){var H=D.T,G={};D.T=G;try{var Z=p(I,C),re=D.S;re!==null&&re(G,Z),ep(e,t,Z)}catch(ue){xu(e,t,ue)}finally{H!==null&&G.types!==null&&(H.types=G.types),D.T=H}}else try{H=p(I,C),ep(e,t,H)}catch(ue){xu(e,t,ue)}}function ep(e,t,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(C){tp(e,t,C)},function(C){return xu(e,t,C)}):tp(e,t,p)}function tp(e,t,p){t.status="fulfilled",t.value=p,ip(t),e.state=p,t=e.pending,t!==null&&(p=t.next,p===t?e.pending=null:(p=p.next,t.next=p,Jf(e,p)))}function xu(e,t,p){var C=e.pending;if(e.pending=null,C!==null){C=C.next;do t.status="rejected",t.reason=p,ip(t),t=t.next;while(t!==C)}e.action=null}function ip(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function np(e,t){return t}function rp(e,t){if(qe){var p=ft.formState;if(p!==null){e:{var C=Be;if(qe){if(vt){t:{for(var I=vt,H=Wi;I.nodeType!==8;){if(!H){I=null;break t}if(I=Vi(I.nextSibling),I===null){I=null;break t}}H=I.data,I=H==="F!"||H==="F"?I:null}if(I){vt=Vi(I.nextSibling),C=I.data==="F!";break e}}ar(C)}C=!1}C&&(t=p[0])}}return p=ui(),p.memoizedState=p.baseState=t,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:t},p.queue=C,p=Sp.bind(null,Be,C),C.dispatch=p,C=_u(!1),H=ku.bind(null,Be,!1,C.queue),C=ui(),I={state:t,dispatch:null,action:e,pending:null},C.queue=I,p=wb.bind(null,Be,I,H,p),I.dispatch=p,C.memoizedState=e,[t,p,!1]}function sp(e){var t=Nt();return op(t,ct,e)}function op(e,t,p){if(t=yu(e,t,np)[0],e=dl(Hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var C=Qo(t)}catch(G){throw G===Ws?il:G}else C=t;t=Nt();var I=t.queue,H=I.dispatch;return p!==t.memoizedState&&(Be.flags|=2048,Ys(9,{destroy:void 0},Sb.bind(null,I,p),null)),[C,H,e]}function Sb(e,t){e.action=t}function ap(e){var t=Nt(),p=ct;if(p!==null)return op(t,p,e);Nt(),t=t.memoizedState,p=Nt();var C=p.queue.dispatch;return p.memoizedState=e,[t,C,!1]}function Ys(e,t,p,C){return e={tag:e,create:p,deps:C,inst:t,next:null},t=Be.updateQueue,t===null&&(t=ul(),Be.updateQueue=t),p=t.lastEffect,p===null?t.lastEffect=e.next=e:(C=p.next,p.next=e,e.next=C,t.lastEffect=e),e}function lp(){return Nt().memoizedState}function fl(e,t,p,C){var I=ui();Be.flags|=e,I.memoizedState=Ys(1|t,{destroy:void 0},p,C===void 0?null:C)}function pl(e,t,p,C){var I=Nt();C=C===void 0?null:C;var H=I.memoizedState.inst;ct!==null&&C!==null&&du(C,ct.memoizedState.deps)?I.memoizedState=Ys(t,H,p,C):(Be.flags|=e,I.memoizedState=Ys(1|t,H,p,C))}function cp(e,t){fl(8390656,8,e,t)}function wu(e,t){pl(2048,8,e,t)}function Cb(e){Be.flags|=4;var t=Be.updateQueue;if(t===null)t=ul(),Be.updateQueue=t,t.events=[e];else{var p=t.events;p===null?t.events=[e]:p.push(e)}}function up(e){var t=Nt().memoizedState;return Cb({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function hp(e,t){return pl(4,2,e,t)}function dp(e,t){return pl(4,4,e,t)}function fp(e,t){if(typeof t=="function"){e=e();var p=t(e);return function(){typeof p=="function"?p():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pp(e,t,p){p=p!=null?p.concat([e]):null,pl(4,4,fp.bind(null,t,e),p)}function Su(){}function gp(e,t){var p=Nt();t=t===void 0?null:t;var C=p.memoizedState;return t!==null&&du(t,C[1])?C[0]:(p.memoizedState=[e,t],e)}function mp(e,t){var p=Nt();t=t===void 0?null:t;var C=p.memoizedState;if(t!==null&&du(t,C[1]))return C[0];if(C=e(),ts){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[C,t],C}function Cu(e,t,p){return p===void 0||(Bn&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=t:(e.memoizedState=p,e=vg(),Be.lanes|=e,mr|=e,p)}function vp(e,t,p,C){return Si(p,t)?p:Vs.current!==null?(e=Cu(e,p,C),Si(e,t)||(Bt=!0),e):(Bn&42)===0||(Bn&1073741824)!==0&&(Ke&261930)===0?(Bt=!0,e.memoizedState=p):(e=vg(),Be.lanes|=e,mr|=e,t)}function yp(e,t,p,C,I){var H=z.p;z.p=H!==0&&8>H?H:8;var G=D.T,Z={};D.T=Z,ku(e,!1,t,p);try{var re=I(),ue=D.S;if(ue!==null&&ue(Z,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=bb(re,C);Jo(e,t,fe,Mi(e))}else Jo(e,t,C,Mi(e))}catch(ve){Jo(e,t,{then:function(){},status:"rejected",reason:ve},Mi())}finally{z.p=H,G!==null&&Z.types!==null&&(G.types=Z.types),D.T=G}}function Eb(){}function Eu(e,t,p,C){if(e.tag!==5)throw Error(v(476));var I=bp(e).queue;yp(e,I,t,B,p===null?Eb:function(){return _p(e),p(C)})}function bp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:B},next:null};var p={};return t.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:p},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _p(e){var t=bp(e);t.next===null&&(t=e.alternate.memoizedState),Jo(e,t.next.queue,{},Mi())}function Au(){return ei(ma)}function xp(){return Nt().memoizedState}function wp(){return Nt().memoizedState}function Ab(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var p=Mi();e=ur(p);var C=hr(t,e,p);C!==null&&(yi(C,t,p),Yo(C,t,p)),t={cache:tu()},e.payload=t;return}t=t.return}}function kb(e,t,p){var C=Mi();p={lane:C,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},gl(e)?Cp(t,p):(p=Uc(e,t,p,C),p!==null&&(yi(p,e,C),Ep(p,t,C)))}function Sp(e,t,p){var C=Mi();Jo(e,t,p,C)}function Jo(e,t,p,C){var I={lane:C,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(gl(e))Cp(t,I);else{var H=e.alternate;if(e.lanes===0&&(H===null||H.lanes===0)&&(H=t.lastRenderedReducer,H!==null))try{var G=t.lastRenderedState,Z=H(G,p);if(I.hasEagerState=!0,I.eagerState=Z,Si(Z,G))return Xa(e,t,I,0),ft===null&&Ya(),!1}catch{}if(p=Uc(e,t,I,C),p!==null)return yi(p,e,C),Ep(p,t,C),!0}return!1}function ku(e,t,p,C){if(C={lane:2,revertLane:sh(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},gl(e)){if(t)throw Error(v(479))}else t=Uc(e,p,C,2),t!==null&&yi(t,e,2)}function gl(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Cp(e,t){Gs=ll=!0;var p=e.pending;p===null?t.next=t:(t.next=p.next,p.next=t),e.pending=t}function Ep(e,t,p){if((p&4194048)!==0){var C=t.lanes;C&=e.pendingLanes,p|=C,t.lanes=p,gs(e,p)}}var ea={readContext:ei,use:hl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ea.useEffectEvent=Ct;var Ap={readContext:ei,use:hl,useCallback:function(e,t){return ui().memoizedState=[e,t===void 0?null:t],e},useContext:ei,useEffect:cp,useImperativeHandle:function(e,t,p){p=p!=null?p.concat([e]):null,fl(4194308,4,fp.bind(null,t,e),p)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){fl(4,2,e,t)},useMemo:function(e,t){var p=ui();t=t===void 0?null:t;var C=e();if(ts){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[C,t],C},useReducer:function(e,t,p){var C=ui();if(p!==void 0){var I=p(t);if(ts){wt(!0);try{p(t)}finally{wt(!1)}}}else I=t;return C.memoizedState=C.baseState=I,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:I},C.queue=e,e=e.dispatch=kb.bind(null,Be,e),[C.memoizedState,e]},useRef:function(e){var t=ui();return e={current:e},t.memoizedState=e},useState:function(e){e=_u(e);var t=e.queue,p=Sp.bind(null,Be,t);return t.dispatch=p,[e.memoizedState,p]},useDebugValue:Su,useDeferredValue:function(e,t){var p=ui();return Cu(p,e,t)},useTransition:function(){var e=_u(!1);return e=yp.bind(null,Be,e.queue,!0,!1),ui().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,p){var C=Be,I=ui();if(qe){if(p===void 0)throw Error(v(407));p=p()}else{if(p=t(),ft===null)throw Error(v(349));(Ke&127)!==0||Kf(C,t,p)}I.memoizedState=p;var H={value:p,getSnapshot:t};return I.queue=H,cp(Xf.bind(null,C,H,e),[e]),C.flags|=2048,Ys(9,{destroy:void 0},Yf.bind(null,C,H,p,t),null),p},useId:function(){var e=ui(),t=ft.identifierPrefix;if(qe){var p=xn,C=_n;p=(C&~(1<<32-le(C)-1)).toString(32)+p,t="_"+t+"R_"+p,p=cl++,0<p&&(t+="H"+p.toString(32)),t+="_"}else p=_b++,t="_"+t+"r_"+p.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Au,useFormState:rp,useActionState:rp,useOptimistic:function(e){var t=ui();t.memoizedState=t.baseState=e;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=p,t=ku.bind(null,Be,!0,p),p.dispatch=t,[e,t]},useMemoCache:vu,useCacheRefresh:function(){return ui().memoizedState=Ab.bind(null,Be)},useEffectEvent:function(e){var t=ui(),p={impl:e};return t.memoizedState=p,function(){if((tt&2)!==0)throw Error(v(440));return p.impl.apply(void 0,arguments)}}},Tu={readContext:ei,use:hl,useCallback:gp,useContext:ei,useEffect:wu,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:mp,useReducer:dl,useRef:lp,useState:function(){return dl(Hn)},useDebugValue:Su,useDeferredValue:function(e,t){var p=Nt();return vp(p,ct.memoizedState,e,t)},useTransition:function(){var e=dl(Hn)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Gf,useId:xp,useHostTransitionStatus:Au,useFormState:sp,useActionState:sp,useOptimistic:function(e,t){var p=Nt();return Qf(p,ct,e,t)},useMemoCache:vu,useCacheRefresh:wp};Tu.useEffectEvent=up;var kp={readContext:ei,use:hl,useCallback:gp,useContext:ei,useEffect:wu,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:mp,useReducer:bu,useRef:lp,useState:function(){return bu(Hn)},useDebugValue:Su,useDeferredValue:function(e,t){var p=Nt();return ct===null?Cu(p,e,t):vp(p,ct.memoizedState,e,t)},useTransition:function(){var e=bu(Hn)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Gf,useId:xp,useHostTransitionStatus:Au,useFormState:ap,useActionState:ap,useOptimistic:function(e,t){var p=Nt();return ct!==null?Qf(p,ct,e,t):(p.baseState=e,[e,p.queue.dispatch])},useMemoCache:vu,useCacheRefresh:wp};kp.useEffectEvent=up;function Mu(e,t,p,C){t=e.memoizedState,p=p(C,t),p=p==null?t:i({},t,p),e.memoizedState=p,e.lanes===0&&(e.updateQueue.baseState=p)}var Lu={enqueueSetState:function(e,t,p){e=e._reactInternals;var C=Mi(),I=ur(C);I.payload=t,p!=null&&(I.callback=p),t=hr(e,I,C),t!==null&&(yi(t,e,C),Yo(t,e,C))},enqueueReplaceState:function(e,t,p){e=e._reactInternals;var C=Mi(),I=ur(C);I.tag=1,I.payload=t,p!=null&&(I.callback=p),t=hr(e,I,C),t!==null&&(yi(t,e,C),Yo(t,e,C))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var p=Mi(),C=ur(p);C.tag=2,t!=null&&(C.callback=t),t=hr(e,C,p),t!==null&&(yi(t,e,p),Yo(t,e,p))}};function Tp(e,t,p,C,I,H,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(C,H,G):t.prototype&&t.prototype.isPureReactComponent?!zo(p,C)||!zo(I,H):!0}function Mp(e,t,p,C){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(p,C),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(p,C),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function is(e,t){var p=t;if("ref"in t){p={};for(var C in t)C!=="ref"&&(p[C]=t[C])}if(e=e.defaultProps){p===t&&(p=i({},p));for(var I in e)p[I]===void 0&&(p[I]=e[I])}return p}function Lp(e){Ka(e)}function Rp(e){console.error(e)}function Np(e){Ka(e)}function ml(e,t){try{var p=e.onUncaughtError;p(t.value,{componentStack:t.stack})}catch(C){setTimeout(function(){throw C})}}function $p(e,t,p){try{var C=e.onCaughtError;C(p.value,{componentStack:p.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Ru(e,t,p){return p=ur(p),p.tag=3,p.payload={element:null},p.callback=function(){ml(e,t)},p}function Dp(e){return e=ur(e),e.tag=3,e}function Op(e,t,p,C){var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var H=C.value;e.payload=function(){return I(H)},e.callback=function(){$p(t,p,C)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(e.callback=function(){$p(t,p,C),typeof I!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var Z=C.stack;this.componentDidCatch(C.value,{componentStack:Z!==null?Z:""})})}function Tb(e,t,p,C,I){if(p.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(t=p.alternate,t!==null&&zs(t,p,I,!0),p=Ei.current,p!==null){switch(p.tag){case 31:case 13:return Ui===null?Tl():p.alternate===null&&Et===0&&(Et=3),p.flags&=-257,p.flags|=65536,p.lanes=I,C===nl?p.flags|=16384:(t=p.updateQueue,t===null?p.updateQueue=new Set([C]):t.add(C),ih(e,C,I)),!1;case 22:return p.flags|=65536,C===nl?p.flags|=16384:(t=p.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([C])},p.updateQueue=t):(p=t.retryQueue,p===null?t.retryQueue=new Set([C]):p.add(C)),ih(e,C,I)),!1}throw Error(v(435,p.tag))}return ih(e,C,I),Tl(),!1}if(qe)return t=Ei.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=I,C!==qc&&(e=Error(v(422),{cause:C}),Wo(zi(e,p)))):(C!==qc&&(t=Error(v(423),{cause:C}),Wo(zi(t,p))),e=e.current.alternate,e.flags|=65536,I&=-I,e.lanes|=I,C=zi(C,p),I=Ru(e.stateNode,C,I),au(e,I),Et!==4&&(Et=2)),!1;var H=Error(v(520),{cause:C});if(H=zi(H,p),la===null?la=[H]:la.push(H),Et!==4&&(Et=2),t===null)return!0;C=zi(C,p),p=t;do{switch(p.tag){case 3:return p.flags|=65536,e=I&-I,p.lanes|=e,e=Ru(p.stateNode,C,e),au(p,e),!1;case 1:if(t=p.type,H=p.stateNode,(p.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(vr===null||!vr.has(H))))return p.flags|=65536,I&=-I,p.lanes|=I,I=Dp(I),Op(I,e,p,C),au(p,I),!1}p=p.return}while(p!==null);return!1}var Nu=Error(v(461)),Bt=!1;function ti(e,t,p,C){t.child=e===null?Hf(t,null,p,C):es(t,e.child,p,C)}function jp(e,t,p,C,I){p=p.render;var H=t.ref;if("ref"in C){var G={};for(var Z in C)Z!=="ref"&&(G[Z]=C[Z])}else G=C;return qr(t),C=fu(e,t,p,G,H,I),Z=pu(),e!==null&&!Bt?(gu(e,t,I),zn(e,t,I)):(qe&&Z&&Yc(t),t.flags|=1,ti(e,t,C,I),t.child)}function Ip(e,t,p,C,I){if(e===null){var H=p.type;return typeof H=="function"&&!Vc(H)&&H.defaultProps===void 0&&p.compare===null?(t.tag=15,t.type=H,Bp(e,t,H,C,I)):(e=Za(p.type,null,C,t,t.mode,I),e.ref=t.ref,e.return=t,t.child=e)}if(H=e.child,!zu(e,I)){var G=H.memoizedProps;if(p=p.compare,p=p!==null?p:zo,p(G,C)&&e.ref===t.ref)return zn(e,t,I)}return t.flags|=1,e=Dn(H,C),e.ref=t.ref,e.return=t,t.child=e}function Bp(e,t,p,C,I){if(e!==null){var H=e.memoizedProps;if(zo(H,C)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=C=H,zu(e,I))(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,zn(e,t,I)}return $u(e,t,p,C,I)}function Hp(e,t,p,C){var I=C.children,H=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((t.flags&128)!==0){if(H=H!==null?H.baseLanes|p:p,e!==null){for(C=t.child=e.child,I=0;C!==null;)I=I|C.lanes|C.childLanes,C=C.sibling;C=I&~H}else C=0,t.child=null;return zp(e,t,H,p,C)}if((p&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&tl(t,H!==null?H.cachePool:null),H!==null?Pf(t,H):cu(),Wf(t);else return C=t.lanes=536870912,zp(e,t,H!==null?H.baseLanes|p:p,p,C)}else H!==null?(tl(t,H.cachePool),Pf(t,H),fr(),t.memoizedState=null):(e!==null&&tl(t,null),cu(),fr());return ti(e,t,I,p),t.child}function ta(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zp(e,t,p,C,I){var H=nu();return H=H===null?null:{parent:jt._currentValue,pool:H},t.memoizedState={baseLanes:p,cachePool:H},e!==null&&tl(t,null),cu(),Wf(t),e!==null&&zs(e,t,C,!0),t.childLanes=I,null}function vl(e,t){return t=bl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fp(e,t,p){return es(t,e.child,null,p),e=vl(t,t.pendingProps),e.flags|=2,Ai(t),t.memoizedState=null,e}function Mb(e,t,p){var C=t.pendingProps,I=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(C.mode==="hidden")return e=vl(t,C),t.lanes=536870912,ta(null,e);if(hu(t),(e=vt)?(e=Jg(e,Wi),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sr!==null?{id:_n,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},p=Cf(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw ar(t);return t.lanes=536870912,null}return vl(t,C)}var H=e.memoizedState;if(H!==null){var G=H.dehydrated;if(hu(t),I)if(t.flags&256)t.flags&=-257,t=Fp(e,t,p);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(Bt||zs(e,t,p,!1),I=(p&e.childLanes)!==0,Bt||I){if(C=ft,C!==null&&(G=ms(C,p),G!==0&&G!==H.retryLane))throw H.retryLane=G,Gr(e,G),yi(C,e,G),Nu;Tl(),t=Fp(e,t,p)}else e=H.treeContext,vt=Vi(G.nextSibling),Jt=t,qe=!0,or=null,Wi=!1,e!==null&&kf(t,e),t=vl(t,C),t.flags|=4096;return t}return e=Dn(e.child,{mode:C.mode,children:C.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yl(e,t){var p=t.ref;if(p===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(v(284));(e===null||e.ref!==p)&&(t.flags|=4194816)}}function $u(e,t,p,C,I){return qr(t),p=fu(e,t,p,C,void 0,I),C=pu(),e!==null&&!Bt?(gu(e,t,I),zn(e,t,I)):(qe&&C&&Yc(t),t.flags|=1,ti(e,t,p,I),t.child)}function Pp(e,t,p,C,I,H){return qr(t),t.updateQueue=null,p=Vf(t,C,p,I),Uf(e),C=pu(),e!==null&&!Bt?(gu(e,t,H),zn(e,t,H)):(qe&&C&&Yc(t),t.flags|=1,ti(e,t,p,H),t.child)}function Wp(e,t,p,C,I){if(qr(t),t.stateNode===null){var H=js,G=p.contextType;typeof G=="object"&&G!==null&&(H=ei(G)),H=new p(C,H),t.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Lu,t.stateNode=H,H._reactInternals=t,H=t.stateNode,H.props=C,H.state=t.memoizedState,H.refs={},su(t),G=p.contextType,H.context=typeof G=="object"&&G!==null?ei(G):js,H.state=t.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(Mu(t,p,G,C),H.state=t.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(G=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),G!==H.state&&Lu.enqueueReplaceState(H,H.state,null),qo(t,C,H,I),Xo(),H.state=t.memoizedState),typeof H.componentDidMount=="function"&&(t.flags|=4194308),C=!0}else if(e===null){H=t.stateNode;var Z=t.memoizedProps,re=is(p,Z);H.props=re;var ue=H.context,fe=p.contextType;G=js,typeof fe=="object"&&fe!==null&&(G=ei(fe));var ve=p.getDerivedStateFromProps;fe=typeof ve=="function"||typeof H.getSnapshotBeforeUpdate=="function",Z=t.pendingProps!==Z,fe||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z||ue!==G)&&Mp(t,H,C,G),cr=!1;var he=t.memoizedState;H.state=he,qo(t,C,H,I),Xo(),ue=t.memoizedState,Z||he!==ue||cr?(typeof ve=="function"&&(Mu(t,p,ve,C),ue=t.memoizedState),(re=cr||Tp(t,p,re,C,he,ue,G))?(fe||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(t.flags|=4194308)):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=C,t.memoizedState=ue),H.props=C,H.state=ue,H.context=G,C=re):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),C=!1)}else{H=t.stateNode,ou(e,t),G=t.memoizedProps,fe=is(p,G),H.props=fe,ve=t.pendingProps,he=H.context,ue=p.contextType,re=js,typeof ue=="object"&&ue!==null&&(re=ei(ue)),Z=p.getDerivedStateFromProps,(ue=typeof Z=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(G!==ve||he!==re)&&Mp(t,H,C,re),cr=!1,he=t.memoizedState,H.state=he,qo(t,C,H,I),Xo();var de=t.memoizedState;G!==ve||he!==de||cr||e!==null&&e.dependencies!==null&&Ja(e.dependencies)?(typeof Z=="function"&&(Mu(t,p,Z,C),de=t.memoizedState),(fe=cr||Tp(t,p,fe,C,he,de,re)||e!==null&&e.dependencies!==null&&Ja(e.dependencies))?(ue||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,de,re),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,de,re)),typeof H.componentDidUpdate=="function"&&(t.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=C,t.memoizedState=de),H.props=C,H.state=de,H.context=re,C=fe):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),C=!1)}return H=C,yl(e,t),C=(t.flags&128)!==0,H||C?(H=t.stateNode,p=C&&typeof p.getDerivedStateFromError!="function"?null:H.render(),t.flags|=1,e!==null&&C?(t.child=es(t,e.child,null,I),t.child=es(t,null,p,I)):ti(e,t,p,I),t.memoizedState=H.state,e=t.child):e=zn(e,t,I),e}function Up(e,t,p,C){return Yr(),t.flags|=256,ti(e,t,p,C),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:$f()}}function ju(e,t,p){return e=e!==null?e.childLanes&~p:0,t&&(e|=Ti),e}function Vp(e,t,p){var C=t.pendingProps,I=!1,H=(t.flags&128)!==0,G;if((G=H)||(G=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),G&&(I=!0,t.flags&=-129),G=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(I?dr(t):fr(),(e=vt)?(e=Jg(e,Wi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sr!==null?{id:_n,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},p=Cf(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw ar(t);return yh(e)?t.lanes=32:t.lanes=536870912,null}var Z=C.children;return C=C.fallback,I?(fr(),I=t.mode,Z=bl({mode:"hidden",children:Z},I),C=Kr(C,I,p,null),Z.return=t,C.return=t,Z.sibling=C,t.child=Z,C=t.child,C.memoizedState=Ou(p),C.childLanes=ju(e,G,p),t.memoizedState=Du,ta(null,C)):(dr(t),Iu(t,Z))}var re=e.memoizedState;if(re!==null&&(Z=re.dehydrated,Z!==null)){if(H)t.flags&256?(dr(t),t.flags&=-257,t=Bu(e,t,p)):t.memoizedState!==null?(fr(),t.child=e.child,t.flags|=128,t=null):(fr(),Z=C.fallback,I=t.mode,C=bl({mode:"visible",children:C.children},I),Z=Kr(Z,I,p,null),Z.flags|=2,C.return=t,Z.return=t,C.sibling=Z,t.child=C,es(t,e.child,null,p),C=t.child,C.memoizedState=Ou(p),C.childLanes=ju(e,G,p),t.memoizedState=Du,t=ta(null,C));else if(dr(t),yh(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var ue=G.dgst;G=ue,C=Error(v(419)),C.stack="",C.digest=G,Wo({value:C,source:null,stack:null}),t=Bu(e,t,p)}else if(Bt||zs(e,t,p,!1),G=(p&e.childLanes)!==0,Bt||G){if(G=ft,G!==null&&(C=ms(G,p),C!==0&&C!==re.retryLane))throw re.retryLane=C,Gr(e,C),yi(G,e,C),Nu;vh(Z)||Tl(),t=Bu(e,t,p)}else vh(Z)?(t.flags|=192,t.child=e.child,t=null):(e=re.treeContext,vt=Vi(Z.nextSibling),Jt=t,qe=!0,or=null,Wi=!1,e!==null&&kf(t,e),t=Iu(t,C.children),t.flags|=4096);return t}return I?(fr(),Z=C.fallback,I=t.mode,re=e.child,ue=re.sibling,C=Dn(re,{mode:"hidden",children:C.children}),C.subtreeFlags=re.subtreeFlags&65011712,ue!==null?Z=Dn(ue,Z):(Z=Kr(Z,I,p,null),Z.flags|=2),Z.return=t,C.return=t,C.sibling=Z,t.child=C,ta(null,C),C=t.child,Z=e.child.memoizedState,Z===null?Z=Ou(p):(I=Z.cachePool,I!==null?(re=jt._currentValue,I=I.parent!==re?{parent:re,pool:re}:I):I=$f(),Z={baseLanes:Z.baseLanes|p,cachePool:I}),C.memoizedState=Z,C.childLanes=ju(e,G,p),t.memoizedState=Du,ta(e.child,C)):(dr(t),p=e.child,e=p.sibling,p=Dn(p,{mode:"visible",children:C.children}),p.return=t,p.sibling=null,e!==null&&(G=t.deletions,G===null?(t.deletions=[e],t.flags|=16):G.push(e)),t.child=p,t.memoizedState=null,p)}function Iu(e,t){return t=bl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bl(e,t){return e=Ci(22,e,null,t),e.lanes=0,e}function Bu(e,t,p){return es(t,e.child,null,p),e=Iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gp(e,t,p){e.lanes|=t;var C=e.alternate;C!==null&&(C.lanes|=t),Jc(e.return,t,p)}function Hu(e,t,p,C,I,H){var G=e.memoizedState;G===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:C,tail:p,tailMode:I,treeForkCount:H}:(G.isBackwards=t,G.rendering=null,G.renderingStartTime=0,G.last=C,G.tail=p,G.tailMode=I,G.treeForkCount=H)}function Kp(e,t,p){var C=t.pendingProps,I=C.revealOrder,H=C.tail;C=C.children;var G=Rt.current,Z=(G&2)!==0;if(Z?(G=G&1|2,t.flags|=128):G&=1,Y(Rt,G),ti(e,t,C,p),C=qe?Po:0,!Z&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,p,t);else if(e.tag===19)Gp(e,p,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(I){case"forwards":for(p=t.child,I=null;p!==null;)e=p.alternate,e!==null&&al(e)===null&&(I=p),p=p.sibling;p=I,p===null?(I=t.child,t.child=null):(I=p.sibling,p.sibling=null),Hu(t,!1,I,p,H,C);break;case"backwards":case"unstable_legacy-backwards":for(p=null,I=t.child,t.child=null;I!==null;){if(e=I.alternate,e!==null&&al(e)===null){t.child=I;break}e=I.sibling,I.sibling=p,p=I,I=e}Hu(t,!0,p,null,H,C);break;case"together":Hu(t,!1,null,null,void 0,C);break;default:t.memoizedState=null}return t.child}function zn(e,t,p){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,(p&t.childLanes)===0)if(e!==null){if(zs(e,t,p,!1),(p&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,p=Dn(e,e.pendingProps),t.child=p,p.return=t;e.sibling!==null;)e=e.sibling,p=p.sibling=Dn(e,e.pendingProps),p.return=t;p.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ja(e)))}function Lb(e,t,p){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),lr(t,jt,e.memoizedState.cache),Yr();break;case 27:case 5:ne(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:lr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,hu(t),null;break;case 13:var C=t.memoizedState;if(C!==null)return C.dehydrated!==null?(dr(t),t.flags|=128,null):(p&t.child.childLanes)!==0?Vp(e,t,p):(dr(t),e=zn(e,t,p),e!==null?e.sibling:null);dr(t);break;case 19:var I=(e.flags&128)!==0;if(C=(p&t.childLanes)!==0,C||(zs(e,t,p,!1),C=(p&t.childLanes)!==0),I){if(C)return Kp(e,t,p);t.flags|=128}if(I=t.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Y(Rt,Rt.current),C)break;return null;case 22:return t.lanes=0,Hp(e,t,p,t.pendingProps);case 24:lr(t,jt,e.memoizedState.cache)}return zn(e,t,p)}function Yp(e,t,p){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!zu(e,p)&&(t.flags&128)===0)return Bt=!1,Lb(e,t,p);Bt=(e.flags&131072)!==0}else Bt=!1,qe&&(t.flags&1048576)!==0&&Af(t,Po,t.index);switch(t.lanes=0,t.tag){case 16:e:{var C=t.pendingProps;if(e=Qr(t.elementType),t.type=e,typeof e=="function")Vc(e)?(C=is(e,C),t.tag=1,t=Wp(null,t,e,C,p)):(t.tag=0,t=$u(null,t,e,C,p));else{if(e!=null){var I=e.$$typeof;if(I===S){t.tag=11,t=jp(null,t,e,C,p);break e}else if(I===k){t.tag=14,t=Ip(null,t,e,C,p);break e}}throw t=M(e)||e,Error(v(306,t,""))}}return t;case 0:return $u(e,t,t.type,t.pendingProps,p);case 1:return C=t.type,I=is(C,t.pendingProps),Wp(e,t,C,I,p);case 3:e:{if(Q(t,t.stateNode.containerInfo),e===null)throw Error(v(387));C=t.pendingProps;var H=t.memoizedState;I=H.element,ou(e,t),qo(t,C,null,p);var G=t.memoizedState;if(C=G.cache,lr(t,jt,C),C!==H.cache&&eu(t,[jt],p,!0),Xo(),C=G.element,H.isDehydrated)if(H={element:C,isDehydrated:!1,cache:G.cache},t.updateQueue.baseState=H,t.memoizedState=H,t.flags&256){t=Up(e,t,C,p);break e}else if(C!==I){I=zi(Error(v(424)),t),Wo(I),t=Up(e,t,C,p);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,vt=Vi(e.firstChild),Jt=t,qe=!0,or=null,Wi=!0,p=Hf(t,null,C,p),t.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yr(),C===I){t=zn(e,t,p);break e}ti(e,t,C,p)}t=t.child}return t;case 26:return yl(e,t),e===null?(p=sm(t.type,null,t.pendingProps,null))?t.memoizedState=p:qe||(p=t.type,e=t.pendingProps,C=Ol(J.current).createElement(p),C[Mt]=t,C[Wt]=e,ii(C,p,e),St(C),t.stateNode=C):t.memoizedState=sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ne(t),e===null&&qe&&(C=t.stateNode=im(t.type,t.pendingProps,J.current),Jt=t,Wi=!0,I=vt,xr(t.type)?(bh=I,vt=Vi(C.firstChild)):vt=I),ti(e,t,t.pendingProps.children,p),yl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((I=C=vt)&&(C=o_(C,t.type,t.pendingProps,Wi),C!==null?(t.stateNode=C,Jt=t,vt=Vi(C.firstChild),Wi=!1,I=!0):I=!1),I||ar(t)),ne(t),I=t.type,H=t.pendingProps,G=e!==null?e.memoizedProps:null,C=H.children,ph(I,H)?C=null:G!==null&&ph(I,G)&&(t.flags|=32),t.memoizedState!==null&&(I=fu(e,t,xb,null,null,p),ma._currentValue=I),yl(e,t),ti(e,t,C,p),t.child;case 6:return e===null&&qe&&((e=p=vt)&&(p=a_(p,t.pendingProps,Wi),p!==null?(t.stateNode=p,Jt=t,vt=null,e=!0):e=!1),e||ar(t)),null;case 13:return Vp(e,t,p);case 4:return Q(t,t.stateNode.containerInfo),C=t.pendingProps,e===null?t.child=es(t,null,C,p):ti(e,t,C,p),t.child;case 11:return jp(e,t,t.type,t.pendingProps,p);case 7:return ti(e,t,t.pendingProps,p),t.child;case 8:return ti(e,t,t.pendingProps.children,p),t.child;case 12:return ti(e,t,t.pendingProps.children,p),t.child;case 10:return C=t.pendingProps,lr(t,t.type,C.value),ti(e,t,C.children,p),t.child;case 9:return I=t.type._context,C=t.pendingProps.children,qr(t),I=ei(I),C=C(I),t.flags|=1,ti(e,t,C,p),t.child;case 14:return Ip(e,t,t.type,t.pendingProps,p);case 15:return Bp(e,t,t.type,t.pendingProps,p);case 19:return Kp(e,t,p);case 31:return Mb(e,t,p);case 22:return Hp(e,t,p,t.pendingProps);case 24:return qr(t),C=ei(jt),e===null?(I=nu(),I===null&&(I=ft,H=tu(),I.pooledCache=H,H.refCount++,H!==null&&(I.pooledCacheLanes|=p),I=H),t.memoizedState={parent:C,cache:I},su(t),lr(t,jt,I)):((e.lanes&p)!==0&&(ou(e,t),qo(t,null,null,p),Xo()),I=e.memoizedState,H=t.memoizedState,I.parent!==C?(I={parent:C,cache:C},t.memoizedState=I,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=I),lr(t,jt,C)):(C=H.cache,lr(t,jt,C),C!==I.cache&&eu(t,[jt],p,!0))),ti(e,t,t.pendingProps.children,p),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Fn(e){e.flags|=4}function Fu(e,t,p,C,I){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(I&335544128)===I)if(e.stateNode.complete)e.flags|=8192;else if(xg())e.flags|=8192;else throw Jr=nl,ru}else e.flags&=-16777217}function Xp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!um(t))if(xg())e.flags|=8192;else throw Jr=nl,ru}function _l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?er():536870912,e.lanes|=t,Qs|=t)}function ia(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var p=null;t!==null;)t.alternate!==null&&(p=t),t=t.sibling;p===null?e.tail=null:p.sibling=null;break;case"collapsed":p=e.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:C.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,p=0,C=0;if(t)for(var I=e.child;I!==null;)p|=I.lanes|I.childLanes,C|=I.subtreeFlags&65011712,C|=I.flags&65011712,I.return=e,I=I.sibling;else for(I=e.child;I!==null;)p|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=e,I=I.sibling;return e.subtreeFlags|=C,e.childLanes=p,t}function Rb(e,t,p){var C=t.pendingProps;switch(Xc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return yt(t),null;case 3:return p=t.stateNode,C=null,e!==null&&(C=e.memoizedState.cache),t.memoizedState.cache!==C&&(t.flags|=2048),In(jt),te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?Fn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zc())),yt(t),null;case 26:var I=t.type,H=t.memoizedState;return e===null?(Fn(t),H!==null?(yt(t),Xp(t,H)):(yt(t),Fu(t,I,null,C,p))):H?H!==e.memoizedState?(Fn(t),yt(t),Xp(t,H)):(yt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==C&&Fn(t),yt(t),Fu(t,I,e,C,p)),null;case 27:if(me(t),p=J.current,I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==C&&Fn(t);else{if(!C){if(t.stateNode===null)throw Error(v(166));return yt(t),null}e=X.current,Hs(t)?Tf(t):(e=im(I,C,p),t.stateNode=e,Fn(t))}return yt(t),null;case 5:if(me(t),I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==C&&Fn(t);else{if(!C){if(t.stateNode===null)throw Error(v(166));return yt(t),null}if(H=X.current,Hs(t))Tf(t);else{var G=Ol(J.current);switch(H){case 1:H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":H=G.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild);break;case"select":H=typeof C.is=="string"?G.createElement("select",{is:C.is}):G.createElement("select"),C.multiple?H.multiple=!0:C.size&&(H.size=C.size);break;default:H=typeof C.is=="string"?G.createElement(I,{is:C.is}):G.createElement(I)}}H[Mt]=t,H[Wt]=C;e:for(G=t.child;G!==null;){if(G.tag===5||G.tag===6)H.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}t.stateNode=H;e:switch(ii(H,I,C),I){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Fn(t)}}return yt(t),Fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,p),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==C&&Fn(t);else{if(typeof C!="string"&&t.stateNode===null)throw Error(v(166));if(e=J.current,Hs(t)){if(e=t.stateNode,p=t.memoizedProps,C=null,I=Jt,I!==null)switch(I.tag){case 27:case 5:C=I.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===p||C!==null&&C.suppressHydrationWarning===!0||Vg(e.nodeValue,p)),e||ar(t,!0)}else e=Ol(e).createTextNode(C),e[Mt]=t,t.stateNode=e}return yt(t),null;case 31:if(p=t.memoizedState,e===null||e.memoizedState!==null){if(C=Hs(t),p!==null){if(e===null){if(!C)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[Mt]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),e=!1}else p=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),e=!0;if(!e)return t.flags&256?(Ai(t),t):(Ai(t),null);if((t.flags&128)!==0)throw Error(v(558))}return yt(t),null;case 13:if(C=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I=Hs(t),C!==null&&C.dehydrated!==null){if(e===null){if(!I)throw Error(v(318));if(I=t.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(v(317));I[Mt]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),I=!1}else I=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=I),I=!0;if(!I)return t.flags&256?(Ai(t),t):(Ai(t),null)}return Ai(t),(t.flags&128)!==0?(t.lanes=p,t):(p=C!==null,e=e!==null&&e.memoizedState!==null,p&&(C=t.child,I=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(I=C.alternate.memoizedState.cachePool.pool),H=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(H=C.memoizedState.cachePool.pool),H!==I&&(C.flags|=2048)),p!==e&&p&&(t.child.flags|=8192),_l(t,t.updateQueue),yt(t),null);case 4:return te(),e===null&&ch(t.stateNode.containerInfo),yt(t),null;case 10:return In(t.type),yt(t),null;case 19:if(K(Rt),C=t.memoizedState,C===null)return yt(t),null;if(I=(t.flags&128)!==0,H=C.rendering,H===null)if(I)ia(C,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(H=al(e),H!==null){for(t.flags|=128,ia(C,!1),e=H.updateQueue,t.updateQueue=e,_l(t,e),t.subtreeFlags=0,e=p,p=t.child;p!==null;)Sf(p,e),p=p.sibling;return Y(Rt,Rt.current&1|2),qe&&On(t,C.treeForkCount),t.child}e=e.sibling}C.tail!==null&&Ze()>El&&(t.flags|=128,I=!0,ia(C,!1),t.lanes=4194304)}else{if(!I)if(e=al(H),e!==null){if(t.flags|=128,I=!0,e=e.updateQueue,t.updateQueue=e,_l(t,e),ia(C,!0),C.tail===null&&C.tailMode==="hidden"&&!H.alternate&&!qe)return yt(t),null}else 2*Ze()-C.renderingStartTime>El&&p!==536870912&&(t.flags|=128,I=!0,ia(C,!1),t.lanes=4194304);C.isBackwards?(H.sibling=t.child,t.child=H):(e=C.last,e!==null?e.sibling=H:t.child=H,C.last=H)}return C.tail!==null?(e=C.tail,C.rendering=e,C.tail=e.sibling,C.renderingStartTime=Ze(),e.sibling=null,p=Rt.current,Y(Rt,I?p&1|2:p&1),qe&&On(t,C.treeForkCount),e):(yt(t),null);case 22:case 23:return Ai(t),uu(),C=t.memoizedState!==null,e!==null?e.memoizedState!==null!==C&&(t.flags|=8192):C&&(t.flags|=8192),C?(p&536870912)!==0&&(t.flags&128)===0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),p=t.updateQueue,p!==null&&_l(t,p.retryQueue),p=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),C=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(C=t.memoizedState.cachePool.pool),C!==p&&(t.flags|=2048),e!==null&&K(Zr),null;case 24:return p=null,e!==null&&(p=e.memoizedState.cache),t.memoizedState.cache!==p&&(t.flags|=2048),In(jt),yt(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function Nb(e,t){switch(Xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(jt),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(Ai(t),t.alternate===null)throw Error(v(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ai(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Rt),null;case 4:return te(),null;case 10:return In(t.type),null;case 22:case 23:return Ai(t),uu(),e!==null&&K(Zr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(jt),null;case 25:return null;default:return null}}function qp(e,t){switch(Xc(t),t.tag){case 3:In(jt),te();break;case 26:case 27:case 5:me(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Ai(t);break;case 13:Ai(t);break;case 19:K(Rt);break;case 10:In(t.type);break;case 22:case 23:Ai(t),uu(),e!==null&&K(Zr);break;case 24:In(jt)}}function na(e,t){try{var p=t.updateQueue,C=p!==null?p.lastEffect:null;if(C!==null){var I=C.next;p=I;do{if((p.tag&e)===e){C=void 0;var H=p.create,G=p.inst;C=H(),G.destroy=C}p=p.next}while(p!==I)}}catch(Z){ot(t,t.return,Z)}}function pr(e,t,p){try{var C=t.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var H=I.next;C=H;do{if((C.tag&e)===e){var G=C.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,I=t;var re=p,ue=Z;try{ue()}catch(fe){ot(I,re,fe)}}}C=C.next}while(C!==H)}}catch(fe){ot(t,t.return,fe)}}function Zp(e){var t=e.updateQueue;if(t!==null){var p=e.stateNode;try{Ff(t,p)}catch(C){ot(e,e.return,C)}}}function Qp(e,t,p){p.props=is(e.type,e.memoizedProps),p.state=e.memoizedState;try{p.componentWillUnmount()}catch(C){ot(e,t,C)}}function ra(e,t){try{var p=e.ref;if(p!==null){switch(e.tag){case 26:case 27:case 5:var C=e.stateNode;break;case 30:C=e.stateNode;break;default:C=e.stateNode}typeof p=="function"?e.refCleanup=p(C):p.current=C}}catch(I){ot(e,t,I)}}function wn(e,t){var p=e.ref,C=e.refCleanup;if(p!==null)if(typeof C=="function")try{C()}catch(I){ot(e,t,I)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(I){ot(e,t,I)}else p.current=null}function Jp(e){var t=e.type,p=e.memoizedProps,C=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":p.autoFocus&&C.focus();break e;case"img":p.src?C.src=p.src:p.srcSet&&(C.srcset=p.srcSet)}}catch(I){ot(e,e.return,I)}}function Pu(e,t,p){try{var C=e.stateNode;e_(C,e.type,p,t),C[Wt]=t}catch(I){ot(e,e.return,I)}}function eg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uu(e,t,p){var C=e.tag;if(C===5||C===6)e=e.stateNode,t?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(e,t):(t=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,t.appendChild(e),p=p._reactRootContainer,p!=null||t.onclick!==null||(t.onclick=sn));else if(C!==4&&(C===27&&xr(e.type)&&(p=e.stateNode,t=null),e=e.child,e!==null))for(Uu(e,t,p),e=e.sibling;e!==null;)Uu(e,t,p),e=e.sibling}function xl(e,t,p){var C=e.tag;if(C===5||C===6)e=e.stateNode,t?p.insertBefore(e,t):p.appendChild(e);else if(C!==4&&(C===27&&xr(e.type)&&(p=e.stateNode),e=e.child,e!==null))for(xl(e,t,p),e=e.sibling;e!==null;)xl(e,t,p),e=e.sibling}function tg(e){var t=e.stateNode,p=e.memoizedProps;try{for(var C=e.type,I=t.attributes;I.length;)t.removeAttributeNode(I[0]);ii(t,C,p),t[Mt]=e,t[Wt]=p}catch(H){ot(e,e.return,H)}}var Pn=!1,Ht=!1,Vu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function $b(e,t){if(e=e.containerInfo,dh=Pl,e=pf(e),Bc(e)){if("selectionStart"in e)var p={start:e.selectionStart,end:e.selectionEnd};else e:{p=(p=e.ownerDocument)&&p.defaultView||window;var C=p.getSelection&&p.getSelection();if(C&&C.rangeCount!==0){p=C.anchorNode;var I=C.anchorOffset,H=C.focusNode;C=C.focusOffset;try{p.nodeType,H.nodeType}catch{p=null;break e}var G=0,Z=-1,re=-1,ue=0,fe=0,ve=e,he=null;t:for(;;){for(var de;ve!==p||I!==0&&ve.nodeType!==3||(Z=G+I),ve!==H||C!==0&&ve.nodeType!==3||(re=G+C),ve.nodeType===3&&(G+=ve.nodeValue.length),(de=ve.firstChild)!==null;)he=ve,ve=de;for(;;){if(ve===e)break t;if(he===p&&++ue===I&&(Z=G),he===H&&++fe===C&&(re=G),(de=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=de}p=Z===-1||re===-1?null:{start:Z,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(fh={focusedElem:e,selectionRange:p},Pl=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,H=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(p=0;p<e.length;p++)I=e[p],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&H!==null){e=void 0,p=t,I=H.memoizedProps,H=H.memoizedState,C=p.stateNode;try{var Ee=is(p.type,I);e=C.getSnapshotBeforeUpdate(Ee,H),C.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){ot(p,p.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,p=e.nodeType,p===9)mh(e);else if(p===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function ng(e,t,p){var C=p.flags;switch(p.tag){case 0:case 11:case 15:Un(e,p),C&4&&na(5,p);break;case 1:if(Un(e,p),C&4)if(e=p.stateNode,t===null)try{e.componentDidMount()}catch(G){ot(p,p.return,G)}else{var I=is(p.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(I,t,e.__reactInternalSnapshotBeforeUpdate)}catch(G){ot(p,p.return,G)}}C&64&&Zp(p),C&512&&ra(p,p.return);break;case 3:if(Un(e,p),C&64&&(e=p.updateQueue,e!==null)){if(t=null,p.child!==null)switch(p.child.tag){case 27:case 5:t=p.child.stateNode;break;case 1:t=p.child.stateNode}try{Ff(e,t)}catch(G){ot(p,p.return,G)}}break;case 27:t===null&&C&4&&tg(p);case 26:case 5:Un(e,p),t===null&&C&4&&Jp(p),C&512&&ra(p,p.return);break;case 12:Un(e,p);break;case 31:Un(e,p),C&4&&og(e,p);break;case 13:Un(e,p),C&4&&ag(e,p),C&64&&(e=p.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(p=Pb.bind(null,p),l_(e,p))));break;case 22:if(C=p.memoizedState!==null||Pn,!C){t=t!==null&&t.memoizedState!==null||Ht,I=Pn;var H=Ht;Pn=C,(Ht=t)&&!H?Vn(e,p,(p.subtreeFlags&8772)!==0):Un(e,p),Pn=I,Ht=H}break;case 30:break;default:Un(e,p)}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,pi=!1;function Wn(e,t,p){for(p=p.child;p!==null;)sg(e,t,p),p=p.sibling}function sg(e,t,p){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Tt,p)}catch{}switch(p.tag){case 26:Ht||wn(p,t),Wn(e,t,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ht||wn(p,t);var C=bt,I=pi;xr(p.type)&&(bt=p.stateNode,pi=!1),Wn(e,t,p),fa(p.stateNode),bt=C,pi=I;break;case 5:Ht||wn(p,t);case 6:if(C=bt,I=pi,bt=null,Wn(e,t,p),bt=C,pi=I,bt!==null)if(pi)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(p.stateNode)}catch(H){ot(p,t,H)}else try{bt.removeChild(p.stateNode)}catch(H){ot(p,t,H)}break;case 18:bt!==null&&(pi?(e=bt,Zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,p.stateNode),oo(e)):Zg(bt,p.stateNode));break;case 4:C=bt,I=pi,bt=p.stateNode.containerInfo,pi=!0,Wn(e,t,p),bt=C,pi=I;break;case 0:case 11:case 14:case 15:pr(2,p,t),Ht||pr(4,p,t),Wn(e,t,p);break;case 1:Ht||(wn(p,t),C=p.stateNode,typeof C.componentWillUnmount=="function"&&Qp(p,t,C)),Wn(e,t,p);break;case 21:Wn(e,t,p);break;case 22:Ht=(C=Ht)||p.memoizedState!==null,Wn(e,t,p),Ht=C;break;default:Wn(e,t,p)}}function og(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oo(e)}catch(p){ot(t,t.return,p)}}}function ag(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oo(e)}catch(p){ot(t,t.return,p)}}function Db(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(v(435,e.tag))}}function wl(e,t){var p=Db(e);t.forEach(function(C){if(!p.has(C)){p.add(C);var I=Wb.bind(null,e,C);C.then(I,I)}})}function gi(e,t){var p=t.deletions;if(p!==null)for(var C=0;C<p.length;C++){var I=p[C],H=e,G=t,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(xr(Z.type)){bt=Z.stateNode,pi=!1;break e}break;case 5:bt=Z.stateNode,pi=!1;break e;case 3:case 4:bt=Z.stateNode.containerInfo,pi=!0;break e}Z=Z.return}if(bt===null)throw Error(v(160));sg(H,G,I),bt=null,pi=!1,H=I.alternate,H!==null&&(H.return=null),I.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lg(t,e),t=t.sibling}var hn=null;function lg(e,t){var p=e.alternate,C=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gi(t,e),mi(e),C&4&&(pr(3,e,e.return),na(3,e),pr(5,e,e.return));break;case 1:gi(t,e),mi(e),C&512&&(Ht||p===null||wn(p,p.return)),C&64&&Pn&&(e=e.updateQueue,e!==null&&(C=e.callbacks,C!==null&&(p=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=p===null?C:p.concat(C))));break;case 26:var I=hn;if(gi(t,e),mi(e),C&512&&(Ht||p===null||wn(p,p.return)),C&4){var H=p!==null?p.memoizedState:null;if(C=e.memoizedState,p===null)if(C===null)if(e.stateNode===null){e:{C=e.type,p=e.memoizedProps,I=I.ownerDocument||I;t:switch(C){case"title":H=I.getElementsByTagName("title")[0],(!H||H[Ln]||H[Mt]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=I.createElement(C),I.head.insertBefore(H,I.querySelector("head > title"))),ii(H,C,p),H[Mt]=e,St(H),C=H;break e;case"link":var G=lm("link","href",I).get(C+(p.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&H.getAttribute("rel")===(p.rel==null?null:p.rel)&&H.getAttribute("title")===(p.title==null?null:p.title)&&H.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(Z,1);break t}}H=I.createElement(C),ii(H,C,p),I.head.appendChild(H);break;case"meta":if(G=lm("meta","content",I).get(C+(p.content||""))){for(Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("content")===(p.content==null?null:""+p.content)&&H.getAttribute("name")===(p.name==null?null:p.name)&&H.getAttribute("property")===(p.property==null?null:p.property)&&H.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&H.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(Z,1);break t}}H=I.createElement(C),ii(H,C,p),I.head.appendChild(H);break;default:throw Error(v(468,C))}H[Mt]=e,St(H),C=H}e.stateNode=C}else cm(I,e.type,e.stateNode);else e.stateNode=am(I,C,e.memoizedProps);else H!==C?(H===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):H.count--,C===null?cm(I,e.type,e.stateNode):am(I,C,e.memoizedProps)):C===null&&e.stateNode!==null&&Pu(e,e.memoizedProps,p.memoizedProps)}break;case 27:gi(t,e),mi(e),C&512&&(Ht||p===null||wn(p,p.return)),p!==null&&C&4&&Pu(e,e.memoizedProps,p.memoizedProps);break;case 5:if(gi(t,e),mi(e),C&512&&(Ht||p===null||wn(p,p.return)),e.flags&32){I=e.stateNode;try{xi(I,"")}catch(Ee){ot(e,e.return,Ee)}}C&4&&e.stateNode!=null&&(I=e.memoizedProps,Pu(e,I,p!==null?p.memoizedProps:I)),C&1024&&(Vu=!0);break;case 6:if(gi(t,e),mi(e),C&4){if(e.stateNode===null)throw Error(v(162));C=e.memoizedProps,p=e.stateNode;try{p.nodeValue=C}catch(Ee){ot(e,e.return,Ee)}}break;case 3:if(Bl=null,I=hn,hn=jl(t.containerInfo),gi(t,e),hn=I,mi(e),C&4&&p!==null&&p.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(Ee){ot(e,e.return,Ee)}Vu&&(Vu=!1,cg(e));break;case 4:C=hn,hn=jl(e.stateNode.containerInfo),gi(t,e),mi(e),hn=C;break;case 12:gi(t,e),mi(e);break;case 31:gi(t,e),mi(e),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,wl(e,C)));break;case 13:gi(t,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Cl=Ze()),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,wl(e,C)));break;case 22:I=e.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,ue=Pn,fe=Ht;if(Pn=ue||I,Ht=fe||re,gi(t,e),Ht=fe,Pn=ue,mi(e),C&8192)e:for(t=e.stateNode,t._visibility=I?t._visibility&-2:t._visibility|1,I&&(p===null||re||Pn||Ht||ns(e)),p=null,t=e;;){if(t.tag===5||t.tag===26){if(p===null){re=p=t;try{if(H=re.stateNode,I)G=H.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=re.stateNode;var ve=re.memoizedProps.style,he=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;Z.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===6){if(p===null){re=t;try{re.stateNode.nodeValue=I?"":re.memoizedProps}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===18){if(p===null){re=t;try{var de=re.stateNode;I?Qg(de,!0):Qg(re.stateNode,!1)}catch(Ee){ot(re,re.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;p===t&&(p=null),t=t.return}p===t&&(p=null),t.sibling.return=t.return,t=t.sibling}C&4&&(C=e.updateQueue,C!==null&&(p=C.retryQueue,p!==null&&(C.retryQueue=null,wl(e,p))));break;case 19:gi(t,e),mi(e),C&4&&(C=e.updateQueue,C!==null&&(e.updateQueue=null,wl(e,C)));break;case 30:break;case 21:break;default:gi(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{for(var p,C=e.return;C!==null;){if(eg(C)){p=C;break}C=C.return}if(p==null)throw Error(v(160));switch(p.tag){case 27:var I=p.stateNode,H=Wu(e);xl(e,H,I);break;case 5:var G=p.stateNode;p.flags&32&&(xi(G,""),p.flags&=-33);var Z=Wu(e);xl(e,Z,G);break;case 3:case 4:var re=p.stateNode.containerInfo,ue=Wu(e);Uu(e,ue,re);break;default:throw Error(v(161))}}catch(fe){ot(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ng(e,t.alternate,t),t=t.sibling}function ns(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:pr(4,t,t.return),ns(t);break;case 1:wn(t,t.return);var p=t.stateNode;typeof p.componentWillUnmount=="function"&&Qp(t,t.return,p),ns(t);break;case 27:fa(t.stateNode);case 26:case 5:wn(t,t.return),ns(t);break;case 22:t.memoizedState===null&&ns(t);break;case 30:ns(t);break;default:ns(t)}e=e.sibling}}function Vn(e,t,p){for(p=p&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var C=t.alternate,I=e,H=t,G=H.flags;switch(H.tag){case 0:case 11:case 15:Vn(I,H,p),na(4,H);break;case 1:if(Vn(I,H,p),C=H,I=C.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ue){ot(C,C.return,ue)}if(C=H,I=C.updateQueue,I!==null){var Z=C.stateNode;try{var re=I.shared.hiddenCallbacks;if(re!==null)for(I.shared.hiddenCallbacks=null,I=0;I<re.length;I++)zf(re[I],Z)}catch(ue){ot(C,C.return,ue)}}p&&G&64&&Zp(H),ra(H,H.return);break;case 27:tg(H);case 26:case 5:Vn(I,H,p),p&&C===null&&G&4&&Jp(H),ra(H,H.return);break;case 12:Vn(I,H,p);break;case 31:Vn(I,H,p),p&&G&4&&og(I,H);break;case 13:Vn(I,H,p),p&&G&4&&ag(I,H);break;case 22:H.memoizedState===null&&Vn(I,H,p),ra(H,H.return);break;case 30:break;default:Vn(I,H,p)}t=t.sibling}}function Gu(e,t){var p=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==p&&(e!=null&&e.refCount++,p!=null&&Uo(p))}function Ku(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Uo(e))}function dn(e,t,p,C){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ug(e,t,p,C),t=t.sibling}function ug(e,t,p,C){var I=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,p,C),I&2048&&na(9,t);break;case 1:dn(e,t,p,C);break;case 3:dn(e,t,p,C),I&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Uo(e)));break;case 12:if(I&2048){dn(e,t,p,C),e=t.stateNode;try{var H=t.memoizedProps,G=H.id,Z=H.onPostCommit;typeof Z=="function"&&Z(G,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(re){ot(t,t.return,re)}}else dn(e,t,p,C);break;case 31:dn(e,t,p,C);break;case 13:dn(e,t,p,C);break;case 23:break;case 22:H=t.stateNode,G=t.alternate,t.memoizedState!==null?H._visibility&2?dn(e,t,p,C):sa(e,t):H._visibility&2?dn(e,t,p,C):(H._visibility|=2,Xs(e,t,p,C,(t.subtreeFlags&10256)!==0||!1)),I&2048&&Gu(G,t);break;case 24:dn(e,t,p,C),I&2048&&Ku(t.alternate,t);break;default:dn(e,t,p,C)}}function Xs(e,t,p,C,I){for(I=I&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var H=e,G=t,Z=p,re=C,ue=G.flags;switch(G.tag){case 0:case 11:case 15:Xs(H,G,Z,re,I),na(8,G);break;case 23:break;case 22:var fe=G.stateNode;G.memoizedState!==null?fe._visibility&2?Xs(H,G,Z,re,I):sa(H,G):(fe._visibility|=2,Xs(H,G,Z,re,I)),I&&ue&2048&&Gu(G.alternate,G);break;case 24:Xs(H,G,Z,re,I),I&&ue&2048&&Ku(G.alternate,G);break;default:Xs(H,G,Z,re,I)}t=t.sibling}}function sa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var p=e,C=t,I=C.flags;switch(C.tag){case 22:sa(p,C),I&2048&&Gu(C.alternate,C);break;case 24:sa(p,C),I&2048&&Ku(C.alternate,C);break;default:sa(p,C)}t=t.sibling}}var oa=8192;function qs(e,t,p){if(e.subtreeFlags&oa)for(e=e.child;e!==null;)hg(e,t,p),e=e.sibling}function hg(e,t,p){switch(e.tag){case 26:qs(e,t,p),e.flags&oa&&e.memoizedState!==null&&__(p,hn,e.memoizedState,e.memoizedProps);break;case 5:qs(e,t,p);break;case 3:case 4:var C=hn;hn=jl(e.stateNode.containerInfo),qs(e,t,p),hn=C;break;case 22:e.memoizedState===null&&(C=e.alternate,C!==null&&C.memoizedState!==null?(C=oa,oa=16777216,qs(e,t,p),oa=C):qs(e,t,p));break;default:qs(e,t,p)}}function dg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var C=t[p];Yt=C,pg(C,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fg(e),e=e.sibling}function fg(e){switch(e.tag){case 0:case 11:case 15:aa(e),e.flags&2048&&pr(9,e,e.return);break;case 3:aa(e);break;case 12:aa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sl(e)):aa(e);break;default:aa(e)}}function Sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var C=t[p];Yt=C,pg(C,e)}dg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:pr(8,t,t.return),Sl(t);break;case 22:p=t.stateNode,p._visibility&2&&(p._visibility&=-3,Sl(t));break;default:Sl(t)}e=e.sibling}}function pg(e,t){for(;Yt!==null;){var p=Yt;switch(p.tag){case 0:case 11:case 15:pr(8,p,t);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var C=p.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Uo(p.memoizedState.cache)}if(C=p.child,C!==null)C.return=p,Yt=C;else e:for(p=e;Yt!==null;){C=Yt;var I=C.sibling,H=C.return;if(rg(C),C===p){Yt=null;break e}if(I!==null){I.return=H,Yt=I;break e}Yt=H}}}var Ob={getCacheForType:function(e){var t=ei(jt),p=t.data.get(e);return p===void 0&&(p=e(),t.data.set(e,p)),p},cacheSignal:function(){return ei(jt).controller.signal}},jb=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Ve=null,Ke=0,st=0,ki=null,gr=!1,Zs=!1,Yu=!1,Gn=0,Et=0,mr=0,rs=0,Xu=0,Ti=0,Qs=0,la=null,vi=null,qu=!1,Cl=0,gg=0,El=1/0,Al=null,vr=null,Gt=0,yr=null,Js=null,Kn=0,Zu=0,Qu=null,mg=null,ca=0,Ju=null;function Mi(){return(tt&2)!==0&&Ke!==0?Ke&-Ke:D.T!==null?sh():Oi()}function vg(){if(Ti===0)if((Ke&536870912)===0||qe){var e=si;si<<=1,(si&3932160)===0&&(si=262144),Ti=e}else Ti=536870912;return e=Ei.current,e!==null&&(e.flags|=32),Ti}function yi(e,t,p){(e===ft&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(eo(e,0),br(e,Ke,Ti,!1)),Tn(e,p),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(rs|=p),Et===4&&br(e,Ke,Ti,!1)),Sn(e))}function yg(e,t,p){if((tt&6)!==0)throw Error(v(327));var C=!p&&(t&127)===0&&(t&e.expiredLanes)===0||Zi(e,t),I=C?Hb(e,t):th(e,t,!0),H=C;do{if(I===0){Zs&&!C&&br(e,t,0,!1);break}else{if(p=e.current.alternate,H&&!Ib(p)){I=th(e,t,!1),H=!1;continue}if(I===2){if(H=t,e.errorRecoveryDisabledLanes&H)var G=0;else G=e.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){t=G;e:{var Z=e;I=la;var re=Z.current.memoizedState.isDehydrated;if(re&&(eo(Z,G).flags|=256),G=th(Z,G,!1),G!==2){if(Yu&&!re){Z.errorRecoveryDisabledLanes|=H,rs|=H,I=4;break e}H=vi,vi=I,H!==null&&(vi===null?vi=H:vi.push.apply(vi,H))}I=G}if(H=!1,I!==2)continue}}if(I===1){eo(e,0),br(e,t,0,!0);break}e:{switch(C=e,H=I,H){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:br(C,t,Ti,!gr);break e;case 2:vi=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(I=Cl+300-Ze(),10<I)){if(br(C,t,Ti,!gr),Di(C,0,!0)!==0)break e;Kn=t,C.timeoutHandle=Xg(bg.bind(null,C,p,vi,Al,qu,t,Ti,rs,Qs,gr,H,"Throttled",-0,0),I);break e}bg(C,p,vi,Al,qu,t,Ti,rs,Qs,gr,H,null,-0,0)}}break}while(!0);Sn(e)}function bg(e,t,p,C,I,H,G,Z,re,ue,fe,ve,he,de){if(e.timeoutHandle=-1,ve=t.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},hg(t,H,ve);var Ee=(H&62914560)===H?Cl-Ze():(H&4194048)===H?gg-Ze():0;if(Ee=x_(ve,Ee),Ee!==null){Kn=H,e.cancelPendingCommit=Ee(kg.bind(null,e,t,H,p,C,I,G,Z,re,fe,ve,null,he,de)),br(e,H,G,!ue);return}}kg(e,t,H,p,C,I,G,Z,re)}function Ib(e){for(var t=e;;){var p=t.tag;if((p===0||p===11||p===15)&&t.flags&16384&&(p=t.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var C=0;C<p.length;C++){var I=p[C],H=I.getSnapshot;I=I.value;try{if(!Si(H(),I))return!1}catch{return!1}}if(p=t.child,t.subtreeFlags&16384&&p!==null)p.return=t,t=p;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function br(e,t,p,C){t&=~Xu,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,C&&(e.warmLanes|=t),C=e.expirationTimes;for(var I=t;0<I;){var H=31-le(I),G=1<<H;C[H]=-1,I&=~G}p!==0&&ps(e,p,t)}function kl(){return(tt&6)===0?(ua(0),!1):!0}function eh(){if(Ve!==null){if(st===0)var e=Ve.return;else e=Ve,jn=Xr=null,mu(e),Us=null,Go=0,e=Ve;for(;e!==null;)qp(e.alternate,e),e=e.return;Ve=null}}function eo(e,t){var p=e.timeoutHandle;p!==-1&&(e.timeoutHandle=-1,n_(p)),p=e.cancelPendingCommit,p!==null&&(e.cancelPendingCommit=null,p()),Kn=0,eh(),ft=e,Ve=p=Dn(e.current,null),Ke=t,st=0,ki=null,gr=!1,Zs=Zi(e,t),Yu=!1,Qs=Ti=Xu=rs=mr=Et=0,vi=la=null,qu=!1,(t&8)!==0&&(t|=t&32);var C=e.entangledLanes;if(C!==0)for(e=e.entanglements,C&=t;0<C;){var I=31-le(C),H=1<<I;t|=e[I],C&=~H}return Gn=t,Ya(),p}function _g(e,t){Be=null,D.H=ea,t===Ws||t===il?(t=jf(),st=3):t===ru?(t=jf(),st=4):st=t===Nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ki=t,Ve===null&&(Et=1,ml(e,zi(t,e.current)))}function xg(){var e=Ei.current;return e===null?!0:(Ke&4194048)===Ke?Ui===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===Ui:!1}function wg(){var e=D.H;return D.H=ea,e===null?ea:e}function Sg(){var e=D.A;return D.A=Ob,e}function Tl(){Et=4,gr||(Ke&4194048)!==Ke&&Ei.current!==null||(Zs=!0),(mr&134217727)===0&&(rs&134217727)===0||ft===null||br(ft,Ke,Ti,!1)}function th(e,t,p){var C=tt;tt|=2;var I=wg(),H=Sg();(ft!==e||Ke!==t)&&(Al=null,eo(e,t)),t=!1;var G=Et;e:do try{if(st!==0&&Ve!==null){var Z=Ve,re=ki;switch(st){case 8:eh(),G=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(t=!0);var ue=st;if(st=0,ki=null,to(e,Z,re,ue),p&&Zs){G=0;break e}break;default:ue=st,st=0,ki=null,to(e,Z,re,ue)}}Bb(),G=Et;break}catch(fe){_g(e,fe)}while(!0);return t&&e.shellSuspendCounter++,jn=Xr=null,tt=C,D.H=I,D.A=H,Ve===null&&(ft=null,Ke=0,Ya()),G}function Bb(){for(;Ve!==null;)Cg(Ve)}function Hb(e,t){var p=tt;tt|=2;var C=wg(),I=Sg();ft!==e||Ke!==t?(Al=null,El=Ze()+500,eo(e,t)):Zs=Zi(e,t);e:do try{if(st!==0&&Ve!==null){t=Ve;var H=ki;t:switch(st){case 1:st=0,ki=null,to(e,t,H,1);break;case 2:case 9:if(Df(H)){st=0,ki=null,Eg(t);break}t=function(){st!==2&&st!==9||ft!==e||(st=7),Sn(e)},H.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Df(H)?(st=0,ki=null,Eg(t)):(st=0,ki=null,to(e,t,H,7));break;case 5:var G=null;switch(Ve.tag){case 26:G=Ve.memoizedState;case 5:case 27:var Z=Ve;if(G?um(G):Z.stateNode.complete){st=0,ki=null;var re=Z.sibling;if(re!==null)Ve=re;else{var ue=Z.return;ue!==null?(Ve=ue,Ml(ue)):Ve=null}break t}}st=0,ki=null,to(e,t,H,5);break;case 6:st=0,ki=null,to(e,t,H,6);break;case 8:eh(),Et=6;break e;default:throw Error(v(462))}}zb();break}catch(fe){_g(e,fe)}while(!0);return jn=Xr=null,D.H=C,D.A=I,tt=p,Ve!==null?0:(ft=null,Ke=0,Ya(),Et)}function zb(){for(;Ve!==null&&!Zt();)Cg(Ve)}function Cg(e){var t=Yp(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Ml(e):Ve=t}function Eg(e){var t=e,p=t.alternate;switch(t.tag){case 15:case 0:t=Pp(p,t,t.pendingProps,t.type,void 0,Ke);break;case 11:t=Pp(p,t,t.pendingProps,t.type.render,t.ref,Ke);break;case 5:mu(t);default:qp(p,t),t=Ve=Sf(t,Gn),t=Yp(p,t,Gn)}e.memoizedProps=e.pendingProps,t===null?Ml(e):Ve=t}function to(e,t,p,C){jn=Xr=null,mu(t),Us=null,Go=0;var I=t.return;try{if(Tb(e,I,t,p,Ke)){Et=1,ml(e,zi(p,e.current)),Ve=null;return}}catch(H){if(I!==null)throw Ve=I,H;Et=1,ml(e,zi(p,e.current)),Ve=null;return}t.flags&32768?(qe||C===1?e=!0:Zs||(Ke&536870912)!==0?e=!1:(gr=e=!0,(C===2||C===9||C===3||C===6)&&(C=Ei.current,C!==null&&C.tag===13&&(C.flags|=16384))),Ag(t,e)):Ml(t)}function Ml(e){var t=e;do{if((t.flags&32768)!==0){Ag(t,gr);return}e=t.return;var p=Rb(t.alternate,t,Gn);if(p!==null){Ve=p;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Et===0&&(Et=5)}function Ag(e,t){do{var p=Nb(e.alternate,e);if(p!==null){p.flags&=32767,Ve=p;return}if(p=e.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=p}while(e!==null);Et=6,Ve=null}function kg(e,t,p,C,I,H,G,Z,re){e.cancelPendingCommit=null;do Ll();while(Gt!==0);if((tt&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(H=t.lanes|t.childLanes,H|=Wc,ko(e,p,H,G,Z,re),e===ft&&(Ve=ft=null,Ke=0),Js=t,yr=e,Kn=p,Zu=H,Qu=I,mg=C,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ub(pt,function(){return Ng(),null})):(e.callbackNode=null,e.callbackPriority=0),C=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||C){C=D.T,D.T=null,I=z.p,z.p=2,G=tt,tt|=4;try{$b(e,t,p)}finally{tt=G,z.p=I,D.T=C}}Gt=1,Tg(),Mg(),Lg()}}function Tg(){if(Gt===1){Gt=0;var e=yr,t=Js,p=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||p){p=D.T,D.T=null;var C=z.p;z.p=2;var I=tt;tt|=4;try{lg(t,e);var H=fh,G=pf(e.containerInfo),Z=H.focusedElem,re=H.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&ff(Z.ownerDocument.documentElement,Z)){if(re!==null&&Bc(Z)){var ue=re.start,fe=re.end;if(fe===void 0&&(fe=ue),"selectionStart"in Z)Z.selectionStart=ue,Z.selectionEnd=Math.min(fe,Z.value.length);else{var ve=Z.ownerDocument||document,he=ve&&ve.defaultView||window;if(he.getSelection){var de=he.getSelection(),Ee=Z.textContent.length,Ne=Math.min(re.start,Ee),ht=re.end===void 0?Ne:Math.min(re.end,Ee);!de.extend&&Ne>ht&&(G=ht,ht=Ne,Ne=G);var ae=df(Z,Ne),se=df(Z,ht);if(ae&&se&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==se.node||de.focusOffset!==se.offset)){var ce=ve.createRange();ce.setStart(ae.node,ae.offset),de.removeAllRanges(),Ne>ht?(de.addRange(ce),de.extend(se.node,se.offset)):(ce.setEnd(se.node,se.offset),de.addRange(ce))}}}}for(ve=[],de=Z;de=de.parentNode;)de.nodeType===1&&ve.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<ve.length;Z++){var ge=ve[Z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Pl=!!dh,fh=dh=null}finally{tt=I,z.p=C,D.T=p}}e.current=t,Gt=2}}function Mg(){if(Gt===2){Gt=0;var e=yr,t=Js,p=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||p){p=D.T,D.T=null;var C=z.p;z.p=2;var I=tt;tt|=4;try{ng(e,t.alternate,t)}finally{tt=I,z.p=C,D.T=p}}Gt=3}}function Lg(){if(Gt===4||Gt===3){Gt=0,mt();var e=yr,t=Js,p=Kn,C=mg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,Js=yr=null,Rg(e,e.pendingLanes));var I=e.pendingLanes;if(I===0&&(vr=null),Mn(p),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Tt,t,void 0,(t.current.flags&128)===128)}catch{}if(C!==null){t=D.T,I=z.p,z.p=2,D.T=null;try{for(var H=e.onRecoverableError,G=0;G<C.length;G++){var Z=C[G];H(Z.value,{componentStack:Z.stack})}}finally{D.T=t,z.p=I}}(Kn&3)!==0&&Ll(),Sn(e),I=e.pendingLanes,(p&261930)!==0&&(I&42)!==0?e===Ju?ca++:(ca=0,Ju=e):ca=0,ua(0)}}function Rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Uo(t)))}function Ll(){return Tg(),Mg(),Lg(),Ng()}function Ng(){if(Gt!==5)return!1;var e=yr,t=Zu;Zu=0;var p=Mn(Kn),C=D.T,I=z.p;try{z.p=32>p?32:p,D.T=null,p=Qu,Qu=null;var H=yr,G=Kn;if(Gt=0,Js=yr=null,Kn=0,(tt&6)!==0)throw Error(v(331));var Z=tt;if(tt|=4,fg(H.current),ug(H,H.current,G,p),tt=Z,ua(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Tt,H)}catch{}return!0}finally{z.p=I,D.T=C,Rg(e,t)}}function $g(e,t,p){t=zi(p,t),t=Ru(e.stateNode,t,2),e=hr(e,t,2),e!==null&&(Tn(e,2),Sn(e))}function ot(e,t,p){if(e.tag===3)$g(e,e,p);else for(;t!==null;){if(t.tag===3){$g(t,e,p);break}else if(t.tag===1){var C=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(vr===null||!vr.has(C))){e=zi(p,e),p=Dp(2),C=hr(t,p,2),C!==null&&(Op(p,C,t,e),Tn(C,2),Sn(C));break}}t=t.return}}function ih(e,t,p){var C=e.pingCache;if(C===null){C=e.pingCache=new jb;var I=new Set;C.set(t,I)}else I=C.get(t),I===void 0&&(I=new Set,C.set(t,I));I.has(p)||(Yu=!0,I.add(p),e=Fb.bind(null,e,t,p),t.then(e,e))}function Fb(e,t,p){var C=e.pingCache;C!==null&&C.delete(t),e.pingedLanes|=e.suspendedLanes&p,e.warmLanes&=~p,ft===e&&(Ke&p)===p&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Ze()-Cl?(tt&2)===0&&eo(e,0):Xu|=p,Qs===Ke&&(Qs=0)),Sn(e)}function Dg(e,t){t===0&&(t=er()),e=Gr(e,t),e!==null&&(Tn(e,t),Sn(e))}function Pb(e){var t=e.memoizedState,p=0;t!==null&&(p=t.retryLane),Dg(e,p)}function Wb(e,t){var p=0;switch(e.tag){case 31:case 13:var C=e.stateNode,I=e.memoizedState;I!==null&&(p=I.retryLane);break;case 19:C=e.stateNode;break;case 22:C=e.stateNode._retryCache;break;default:throw Error(v(314))}C!==null&&C.delete(t),Dg(e,p)}function Ub(e,t){return $t(e,t)}var Rl=null,io=null,nh=!1,Nl=!1,rh=!1,_r=0;function Sn(e){e!==io&&e.next===null&&(io===null?Rl=io=e:io=io.next=e),Nl=!0,nh||(nh=!0,Gb())}function ua(e,t){if(!rh&&Nl){rh=!0;do for(var p=!1,C=Rl;C!==null;){if(e!==0){var I=C.pendingLanes;if(I===0)var H=0;else{var G=C.suspendedLanes,Z=C.pingedLanes;H=(1<<31-le(42|e)+1)-1,H&=I&~(G&~Z),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(p=!0,Bg(C,H))}else H=Ke,H=Di(C,C===ft?H:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(H&3)===0||Zi(C,H)||(p=!0,Bg(C,H));C=C.next}while(p);rh=!1}}function Vb(){Og()}function Og(){Nl=nh=!1;var e=0;_r!==0&&i_()&&(e=_r);for(var t=Ze(),p=null,C=Rl;C!==null;){var I=C.next,H=jg(C,t);H===0?(C.next=null,p===null?Rl=I:p.next=I,I===null&&(io=p)):(p=C,(e!==0||(H&3)!==0)&&(Nl=!0)),C=I}Gt!==0&&Gt!==5||ua(e),_r!==0&&(_r=0)}function jg(e,t){for(var p=e.suspendedLanes,C=e.pingedLanes,I=e.expirationTimes,H=e.pendingLanes&-62914561;0<H;){var G=31-le(H),Z=1<<G,re=I[G];re===-1?((Z&p)===0||(Z&C)!==0)&&(I[G]=Br(Z,t)):re<=t&&(e.expiredLanes|=Z),H&=~Z}if(t=ft,p=Ke,p=Di(e,e===t?p:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),C=e.callbackNode,p===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return C!==null&&C!==null&&qt(C),e.callbackNode=null,e.callbackPriority=0;if((p&3)===0||Zi(e,p)){if(t=p&-p,t===e.callbackPriority)return t;switch(C!==null&&qt(C),Mn(p)){case 2:case 8:p=xt;break;case 32:p=pt;break;case 268435456:p=nt;break;default:p=pt}return C=Ig.bind(null,e),p=$t(p,C),e.callbackPriority=t,e.callbackNode=p,t}return C!==null&&C!==null&&qt(C),e.callbackPriority=2,e.callbackNode=null,2}function Ig(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var p=e.callbackNode;if(Ll()&&e.callbackNode!==p)return null;var C=Ke;return C=Di(e,e===ft?C:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),C===0?null:(yg(e,C,t),jg(e,Ze()),e.callbackNode!=null&&e.callbackNode===p?Ig.bind(null,e):null)}function Bg(e,t){if(Ll())return null;yg(e,t,!0)}function Gb(){r_(function(){(tt&6)!==0?$t(Dt,Vb):Og()})}function sh(){if(_r===0){var e=Fs;e===0&&(e=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),_r=e}return _r}function Hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:As(""+e)}function zg(e,t){var p=t.ownerDocument.createElement("input");return p.name=t.name,p.value=t.value,e.id&&p.setAttribute("form",e.id),t.parentNode.insertBefore(p,t),e=new FormData(e),p.parentNode.removeChild(p),e}function Kb(e,t,p,C,I){if(t==="submit"&&p&&p.stateNode===I){var H=Hg((I[Wt]||null).action),G=C.submitter;G&&(t=(t=G[Wt]||null)?Hg(t.formAction):G.getAttribute("formAction"),t!==null&&(H=t,G=null));var Z=new Oe("action","action",null,C,I);e.push({event:Z,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(_r!==0){var re=G?zg(I,G):new FormData(I);Eu(p,{pending:!0,data:re,method:I.method,action:H},null,re)}}else typeof H=="function"&&(Z.preventDefault(),re=G?zg(I,G):new FormData(I),Eu(p,{pending:!0,data:re,method:I.method,action:H},H,re))},currentTarget:I}]})}}for(var oh=0;oh<Pc.length;oh++){var ah=Pc[oh],Yb=ah.toLowerCase(),Xb=ah[0].toUpperCase()+ah.slice(1);un(Yb,"on"+Xb)}un(vf,"onAnimationEnd"),un(yf,"onAnimationIteration"),un(bf,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(hb,"onTransitionRun"),un(db,"onTransitionStart"),un(fb,"onTransitionCancel"),un(_f,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function Fg(e,t){t=(t&4)!==0;for(var p=0;p<e.length;p++){var C=e[p],I=C.event;C=C.listeners;e:{var H=void 0;if(t)for(var G=C.length-1;0<=G;G--){var Z=C[G],re=Z.instance,ue=Z.currentTarget;if(Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ka(fe)}I.currentTarget=null,H=re}else for(G=0;G<C.length;G++){if(Z=C[G],re=Z.instance,ue=Z.currentTarget,Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ka(fe)}I.currentTarget=null,H=re}}}}function Ge(e,t){var p=t[ci];p===void 0&&(p=t[ci]=new Set);var C=e+"__bubble";p.has(C)||(Pg(t,e,2,!1),p.add(C))}function lh(e,t,p){var C=0;t&&(C|=4),Pg(p,e,C,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ch(e){if(!e[$l]){e[$l]=!0,bs.forEach(function(p){p!=="selectionchange"&&(qb.has(p)||lh(p,!1,e),lh(p,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,lh("selectionchange",!1,t))}}function Pg(e,t,p,C){switch(vm(t)){case 2:var I=C_;break;case 8:I=E_;break;default:I=Ch}p=I.bind(null,t,p,e),I=void 0,!Ts||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(I=!0),C?I!==void 0?e.addEventListener(t,p,{capture:!0,passive:I}):e.addEventListener(t,p,!0):I!==void 0?e.addEventListener(t,p,{passive:I}):e.addEventListener(t,p,!1)}function uh(e,t,p,C,I){var H=C;if((t&1)===0&&(t&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var Z=C.stateNode.containerInfo;if(Z===I)break;if(G===4)for(G=C.return;G!==null;){var re=G.tag;if((re===3||re===4)&&G.stateNode.containerInfo===I)return;G=G.return}for(;Z!==null;){if(G=oi(Z),G===null)return;if(re=G.tag,re===5||re===6||re===26||re===27){C=H=G;continue e}Z=Z.parentNode}}C=C.return}Wa(function(){var ue=H,fe=ks(p),ve=[];e:{var he=xf.get(e);if(he!==void 0){var de=Oe,Ee=e;switch(e){case"keypress":if(ee(p)===0)break e;case"keydown":case"keyup":de=Wy;break;case"focusin":Ee="focus",de=wi;break;case"focusout":Ee="blur",de=wi;break;case"beforeblur":case"afterblur":de=wi;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Vt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=fi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Gy;break;case vf:case yf:case bf:de=Va;break;case _f:de=Yy;break;case"scroll":case"scrollend":de=Ot;break;case"wheel":de=qy;break;case"copy":case"cut":case"paste":de=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Zd;break;case"toggle":case"beforetoggle":de=Qy}var Ne=(t&4)!==0,ht=!Ne&&(e==="scroll"||e==="scrollend"),ae=Ne?he!==null?he+"Capture":null:he;Ne=[];for(var se=ue,ce;se!==null;){var ge=se;if(ce=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ce===null||ae===null||(ge=rr(se,ae),ge!=null&&Ne.push(da(se,ge,ce))),ht)break;se=se.return}0<Ne.length&&(he=new de(he,Ee,null,p,fe),ve.push({event:he,listeners:Ne}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",he&&p!==on&&(Ee=p.relatedTarget||p.fromElement)&&(oi(Ee)||Ee[vn]))break e;if((de||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,de?(Ee=p.relatedTarget||p.toElement,de=ue,Ee=Ee?oi(Ee):null,Ee!==null&&(ht=E(Ee),Ne=Ee.tag,Ee!==ht||Ne!==5&&Ne!==27&&Ne!==6)&&(Ee=null)):(de=null,Ee=ue),de!==Ee)){if(Ne=Vt,ge="onMouseLeave",ae="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Zd,ge="onPointerLeave",ae="onPointerEnter",se="pointer"),ht=de==null?he:Rn(de),ce=Ee==null?he:Rn(Ee),he=new Ne(ge,se+"leave",de,p,fe),he.target=ht,he.relatedTarget=ce,ge=null,oi(fe)===ue&&(Ne=new Ne(ae,se+"enter",Ee,p,fe),Ne.target=ce,Ne.relatedTarget=ht,ge=Ne),ht=ge,de&&Ee)t:{for(Ne=Zb,ae=de,se=Ee,ce=0,ge=ae;ge;ge=Ne(ge))ce++;ge=0;for(var Re=se;Re;Re=Ne(Re))ge++;for(;0<ce-ge;)ae=Ne(ae),ce--;for(;0<ge-ce;)se=Ne(se),ge--;for(;ce--;){if(ae===se||se!==null&&ae===se.alternate){Ne=ae;break t}ae=Ne(ae),se=Ne(se)}Ne=null}else Ne=null;de!==null&&Wg(ve,he,de,Ne,!1),Ee!==null&&ht!==null&&Wg(ve,ht,Ee,Ne,!0)}}e:{if(he=ue?Rn(ue):window,de=he.nodeName&&he.nodeName.toLowerCase(),de==="select"||de==="input"&&he.type==="file")var Je=of;else if(rf(he))if(af)Je=lb;else{Je=ob;var Te=sb}else de=he.nodeName,!de||de.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Oo(ue.elementType)&&(Je=of):Je=ab;if(Je&&(Je=Je(e,ue))){sf(ve,Je,p,fe);break e}Te&&Te(e,he,ue),e==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&$o(he,"number",he.value)}switch(Te=ue?Rn(ue):window,e){case"focusin":(rf(Te)||Te.contentEditable==="true")&&($s=Te,Hc=ue,Fo=null);break;case"focusout":Fo=Hc=$s=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,gf(ve,p,fe);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":gf(ve,p,fe)}var ze;if(Oc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ns?tf(e,p)&&(Ye="onCompositionEnd"):e==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(Qd&&p.locale!=="ko"&&(Ns||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ns&&(ze=Ua()):(cn=fe,jo="value"in cn?cn.value:cn.textContent,Ns=!0)),Te=Dl(ue,Ye),0<Te.length&&(Ye=new qd(Ye,e,null,p,fe),ve.push({event:Ye,listeners:Te}),ze?Ye.data=ze:(ze=nf(p),ze!==null&&(Ye.data=ze)))),(ze=eb?tb(e,p):ib(e,p))&&(Ye=Dl(ue,"onBeforeInput"),0<Ye.length&&(Te=new qd("onBeforeInput","beforeinput",null,p,fe),ve.push({event:Te,listeners:Ye}),Te.data=ze)),Kb(ve,e,ue,p,fe)}Fg(ve,t)})}function da(e,t,p){return{instance:e,listener:t,currentTarget:p}}function Dl(e,t){for(var p=t+"Capture",C=[];e!==null;){var I=e,H=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||H===null||(I=rr(e,p),I!=null&&C.unshift(da(e,I,H)),I=rr(e,t),I!=null&&C.push(da(e,I,H))),e.tag===3)return C;e=e.return}return[]}function Zb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,t,p,C,I){for(var H=t._reactName,G=[];p!==null&&p!==C;){var Z=p,re=Z.alternate,ue=Z.stateNode;if(Z=Z.tag,re!==null&&re===C)break;Z!==5&&Z!==26&&Z!==27||ue===null||(re=ue,I?(ue=rr(p,H),ue!=null&&G.unshift(da(p,ue,re))):I||(ue=rr(p,H),ue!=null&&G.push(da(p,ue,re)))),p=p.return}G.length!==0&&e.push({event:t,listeners:G})}var Qb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function Ug(e){return(typeof e=="string"?e:""+e).replace(Qb,`
`).replace(Jb,"")}function Vg(e,t){return t=Ug(t),Ug(e)===t}function ut(e,t,p,C,I,H){switch(p){case"children":typeof C=="string"?t==="body"||t==="textarea"&&C===""||xi(e,C):(typeof C=="number"||typeof C=="bigint")&&t!=="body"&&xi(e,""+C);break;case"className":Ss(e,"class",C);break;case"tabIndex":Ss(e,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(e,p,C);break;case"style":rn(e,C,H);break;case"data":if(t!=="object"){Ss(e,"data",C);break}case"src":case"href":if(C===""&&(t!=="a"||p!=="href")){e.removeAttribute(p);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){e.removeAttribute(p);break}C=As(""+C),e.setAttribute(p,C);break;case"action":case"formAction":if(typeof C=="function"){e.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(p==="formAction"?(t!=="input"&&ut(e,t,"name",I.name,I,null),ut(e,t,"formEncType",I.formEncType,I,null),ut(e,t,"formMethod",I.formMethod,I,null),ut(e,t,"formTarget",I.formTarget,I,null)):(ut(e,t,"encType",I.encType,I,null),ut(e,t,"method",I.method,I,null),ut(e,t,"target",I.target,I,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){e.removeAttribute(p);break}C=As(""+C),e.setAttribute(p,C);break;case"onClick":C!=null&&(e.onclick=sn);break;case"onScroll":C!=null&&Ge("scroll",e);break;case"onScrollEnd":C!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(v(61));if(p=C.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"multiple":e.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":e.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){e.removeAttribute("xlink:href");break}p=As(""+C),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,""+C):e.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,""):e.removeAttribute(p);break;case"capture":case"download":C===!0?e.setAttribute(p,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?e.setAttribute(p,C):e.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?e.setAttribute(p,C):e.removeAttribute(p);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?e.removeAttribute(p):e.setAttribute(p,C);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),ws(e,"popover",C);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ws(e,"is",C);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Nc.get(p)||p,ws(e,p,C))}}function hh(e,t,p,C,I,H){switch(p){case"style":rn(e,C,H);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(v(61));if(p=C.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"children":typeof C=="string"?xi(e,C):(typeof C=="number"||typeof C=="bigint")&&xi(e,""+C);break;case"onScroll":C!=null&&Ge("scroll",e);break;case"onScrollEnd":C!=null&&Ge("scrollend",e);break;case"onClick":C!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(I=p.endsWith("Capture"),t=p.slice(2,I?p.length-7:void 0),H=e[Wt]||null,H=H!=null?H[p]:null,typeof H=="function"&&e.removeEventListener(t,H,I),typeof C=="function")){typeof H!="function"&&H!==null&&(p in e?e[p]=null:e.hasAttribute(p)&&e.removeAttribute(p)),e.addEventListener(t,C,I);break e}p in e?e[p]=C:C===!0?e.setAttribute(p,""):ws(e,p,C)}}}function ii(e,t,p){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var C=!1,I=!1,H;for(H in p)if(p.hasOwnProperty(H)){var G=p[H];if(G!=null)switch(H){case"src":C=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,H,G,p,null)}}I&&ut(e,t,"srcSet",p.srcSet,p,null),C&&ut(e,t,"src",p.src,p,null);return;case"input":Ge("invalid",e);var Z=H=G=I=null,re=null,ue=null;for(C in p)if(p.hasOwnProperty(C)){var fe=p[C];if(fe!=null)switch(C){case"name":I=fe;break;case"type":G=fe;break;case"checked":re=fe;break;case"defaultChecked":ue=fe;break;case"value":H=fe;break;case"defaultValue":Z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(v(137,t));break;default:ut(e,t,C,fe,p,null)}}No(e,H,Z,re,ue,G,I,!1);return;case"select":Ge("invalid",e),C=G=H=null;for(I in p)if(p.hasOwnProperty(I)&&(Z=p[I],Z!=null))switch(I){case"value":H=Z;break;case"defaultValue":G=Z;break;case"multiple":C=Z;default:ut(e,t,I,Z,p,null)}t=H,p=G,e.multiple=!!C,t!=null?ir(e,!!C,t,!1):p!=null&&ir(e,!!C,p,!0);return;case"textarea":Ge("invalid",e),H=I=C=null;for(G in p)if(p.hasOwnProperty(G)&&(Z=p[G],Z!=null))switch(G){case"value":C=Z;break;case"defaultValue":I=Z;break;case"children":H=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(v(91));break;default:ut(e,t,G,Z,p,null)}Pr(e,C,I,H);return;case"option":for(re in p)p.hasOwnProperty(re)&&(C=p[re],C!=null)&&(re==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":ut(e,t,re,C,p,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(C=0;C<ha.length;C++)Ge(ha[C],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in p)if(p.hasOwnProperty(ue)&&(C=p[ue],C!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,ue,C,p,null)}return;default:if(Oo(t)){for(fe in p)p.hasOwnProperty(fe)&&(C=p[fe],C!==void 0&&hh(e,t,fe,C,p,void 0));return}}for(Z in p)p.hasOwnProperty(Z)&&(C=p[Z],C!=null&&ut(e,t,Z,C,p,null))}function e_(e,t,p,C){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,H=null,G=null,Z=null,re=null,ue=null,fe=null;for(de in p){var ve=p[de];if(p.hasOwnProperty(de)&&ve!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":re=ve;default:C.hasOwnProperty(de)||ut(e,t,de,null,C,ve)}}for(var he in C){var de=C[he];if(ve=p[he],C.hasOwnProperty(he)&&(de!=null||ve!=null))switch(he){case"type":H=de;break;case"name":I=de;break;case"checked":ue=de;break;case"defaultChecked":fe=de;break;case"value":G=de;break;case"defaultValue":Z=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(v(137,t));break;default:de!==ve&&ut(e,t,he,de,C,ve)}}Ro(e,G,Z,re,ue,fe,H,I);return;case"select":de=G=Z=he=null;for(H in p)if(re=p[H],p.hasOwnProperty(H)&&re!=null)switch(H){case"value":break;case"multiple":de=re;default:C.hasOwnProperty(H)||ut(e,t,H,null,C,re)}for(I in C)if(H=C[I],re=p[I],C.hasOwnProperty(I)&&(H!=null||re!=null))switch(I){case"value":he=H;break;case"defaultValue":Z=H;break;case"multiple":G=H;default:H!==re&&ut(e,t,I,H,C,re)}t=Z,p=G,C=de,he!=null?ir(e,!!p,he,!1):!!C!=!!p&&(t!=null?ir(e,!!p,t,!0):ir(e,!!p,p?[]:"",!1));return;case"textarea":de=he=null;for(Z in p)if(I=p[Z],p.hasOwnProperty(Z)&&I!=null&&!C.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ut(e,t,Z,null,C,I)}for(G in C)if(I=C[G],H=p[G],C.hasOwnProperty(G)&&(I!=null||H!=null))switch(G){case"value":he=I;break;case"defaultValue":de=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(v(91));break;default:I!==H&&ut(e,t,G,I,C,H)}Do(e,he,de);return;case"option":for(var Ee in p)he=p[Ee],p.hasOwnProperty(Ee)&&he!=null&&!C.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:ut(e,t,Ee,null,C,he));for(re in C)he=C[re],de=p[re],C.hasOwnProperty(re)&&he!==de&&(he!=null||de!=null)&&(re==="selected"?e.selected=he&&typeof he!="function"&&typeof he!="symbol":ut(e,t,re,he,C,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in p)he=p[Ne],p.hasOwnProperty(Ne)&&he!=null&&!C.hasOwnProperty(Ne)&&ut(e,t,Ne,null,C,he);for(ue in C)if(he=C[ue],de=p[ue],C.hasOwnProperty(ue)&&he!==de&&(he!=null||de!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(v(137,t));break;default:ut(e,t,ue,he,C,de)}return;default:if(Oo(t)){for(var ht in p)he=p[ht],p.hasOwnProperty(ht)&&he!==void 0&&!C.hasOwnProperty(ht)&&hh(e,t,ht,void 0,C,he);for(fe in C)he=C[fe],de=p[fe],!C.hasOwnProperty(fe)||he===de||he===void 0&&de===void 0||hh(e,t,fe,he,C,de);return}}for(var ae in p)he=p[ae],p.hasOwnProperty(ae)&&he!=null&&!C.hasOwnProperty(ae)&&ut(e,t,ae,null,C,he);for(ve in C)he=C[ve],de=p[ve],!C.hasOwnProperty(ve)||he===de||he==null&&de==null||ut(e,t,ve,he,C,de)}function Gg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,p=performance.getEntriesByType("resource"),C=0;C<p.length;C++){var I=p[C],H=I.transferSize,G=I.initiatorType,Z=I.duration;if(H&&Z&&Gg(G)){for(G=0,Z=I.responseEnd,C+=1;C<p.length;C++){var re=p[C],ue=re.startTime;if(ue>Z)break;var fe=re.transferSize,ve=re.initiatorType;fe&&Gg(ve)&&(re=re.responseEnd,G+=fe*(re<Z?1:(Z-ue)/(re-ue)))}if(--C,t+=8*(H+G)/(I.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dh=null,fh=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gh=null;function i_(){var e=window.event;return e&&e.type==="popstate"?e===gh?!1:(gh=e,!0):(gh=null,!1)}var Xg=typeof setTimeout=="function"?setTimeout:void 0,n_=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(e){return qg.resolve(null).then(e).catch(s_)}:Xg;function s_(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function Zg(e,t){var p=t,C=0;do{var I=p.nextSibling;if(e.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"||p==="/&"){if(C===0){e.removeChild(I),oo(t);return}C--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")C++;else if(p==="html")fa(e.ownerDocument.documentElement);else if(p==="head"){p=e.ownerDocument.head,fa(p);for(var H=p.firstChild;H;){var G=H.nextSibling,Z=H.nodeName;H[Ln]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&H.rel.toLowerCase()==="stylesheet"||p.removeChild(H),H=G}}else p==="body"&&fa(e.ownerDocument.body);p=I}while(p);oo(t)}function Qg(e,t){var p=e;e=0;do{var C=p.nextSibling;if(p.nodeType===1?t?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(t?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(e===0)break;e--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||e++;p=C}while(p)}function mh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var p=t;switch(t=t.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":mh(p),Hr(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}e.removeChild(p)}}function o_(e,t,p,C){for(;e.nodeType===1;){var I=p;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!C&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(C){if(!e[Ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(H=e.getAttribute("rel"),H==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(H!==I.rel||e.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||e.getAttribute("title")!==(I.title==null?null:I.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(H=e.getAttribute("src"),(H!==(I.src==null?null:I.src)||e.getAttribute("type")!==(I.type==null?null:I.type)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&H&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var H=I.name==null?null:""+I.name;if(I.type==="hidden"&&e.getAttribute("name")===H)return e}else return e;if(e=Vi(e.nextSibling),e===null)break}return null}function a_(e,t,p){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!p||(e=Vi(e.nextSibling),e===null))return null;return e}function Jg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vi(e.nextSibling),e===null))return null;return e}function vh(e){return e.data==="$?"||e.data==="$~"}function yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l_(e,t){var p=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||p.readyState!=="loading")t();else{var C=function(){t(),p.removeEventListener("DOMContentLoaded",C)};p.addEventListener("DOMContentLoaded",C),e._reactRetry=C}}function Vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bh=null;function em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="/$"||p==="/&"){if(t===0)return Vi(e.nextSibling);t--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||t++}e=e.nextSibling}return null}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(t===0)return e;t--}else p!=="/$"&&p!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,p){switch(t=Ol(p),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function fa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hr(e)}var Gi=new Map,nm=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=z.d;z.d={f:c_,r:u_,D:h_,C:d_,L:f_,m:p_,X:m_,S:g_,M:v_};function c_(){var e=Yn.f(),t=kl();return e||t}function u_(e){var t=Ji(e);t!==null&&t.tag===5&&t.type==="form"?_p(t):Yn.r(e)}var no=typeof document>"u"?null:document;function rm(e,t,p){var C=no;if(C&&typeof t=="string"&&t){var I=hi(t);I='link[rel="'+e+'"][href="'+I+'"]',typeof p=="string"&&(I+='[crossorigin="'+p+'"]'),nm.has(I)||(nm.add(I),e={rel:e,crossOrigin:p,href:t},C.querySelector(I)===null&&(t=C.createElement("link"),ii(t,"link",e),St(t),C.head.appendChild(t)))}}function h_(e){Yn.D(e),rm("dns-prefetch",e,null)}function d_(e,t){Yn.C(e,t),rm("preconnect",e,t)}function f_(e,t,p){Yn.L(e,t,p);var C=no;if(C&&e&&t){var I='link[rel="preload"][as="'+hi(t)+'"]';t==="image"&&p&&p.imageSrcSet?(I+='[imagesrcset="'+hi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(I+='[imagesizes="'+hi(p.imageSizes)+'"]')):I+='[href="'+hi(e)+'"]';var H=I;switch(t){case"style":H=ro(e);break;case"script":H=so(e)}Gi.has(H)||(e=i({rel:"preload",href:t==="image"&&p&&p.imageSrcSet?void 0:e,as:t},p),Gi.set(H,e),C.querySelector(I)!==null||t==="style"&&C.querySelector(pa(H))||t==="script"&&C.querySelector(ga(H))||(t=C.createElement("link"),ii(t,"link",e),St(t),C.head.appendChild(t)))}}function p_(e,t){Yn.m(e,t);var p=no;if(p&&e){var C=t&&typeof t.as=="string"?t.as:"script",I='link[rel="modulepreload"][as="'+hi(C)+'"][href="'+hi(e)+'"]',H=I;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=so(e)}if(!Gi.has(H)&&(e=i({rel:"modulepreload",href:e},t),Gi.set(H,e),p.querySelector(I)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ga(H)))return}C=p.createElement("link"),ii(C,"link",e),St(C),p.head.appendChild(C)}}}function g_(e,t,p){Yn.S(e,t,p);var C=no;if(C&&e){var I=yn(C).hoistableStyles,H=ro(e);t=t||"default";var G=I.get(H);if(!G){var Z={loading:0,preload:null};if(G=C.querySelector(pa(H)))Z.loading=5;else{e=i({rel:"stylesheet",href:e,"data-precedence":t},p),(p=Gi.get(H))&&_h(e,p);var re=G=C.createElement("link");St(re),ii(re,"link",e),re._p=new Promise(function(ue,fe){re.onload=ue,re.onerror=fe}),re.addEventListener("load",function(){Z.loading|=1}),re.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Il(G,t,C)}G={type:"stylesheet",instance:G,count:1,state:Z},I.set(H,G)}}}function m_(e,t){Yn.X(e,t);var p=no;if(p&&e){var C=yn(p).hoistableScripts,I=so(e),H=C.get(I);H||(H=p.querySelector(ga(I)),H||(e=i({src:e,async:!0},t),(t=Gi.get(I))&&xh(e,t),H=p.createElement("script"),St(H),ii(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(I,H))}}function v_(e,t){Yn.M(e,t);var p=no;if(p&&e){var C=yn(p).hoistableScripts,I=so(e),H=C.get(I);H||(H=p.querySelector(ga(I)),H||(e=i({src:e,async:!0,type:"module"},t),(t=Gi.get(I))&&xh(e,t),H=p.createElement("script"),St(H),ii(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},C.set(I,H))}}function sm(e,t,p,C){var I=(I=J.current)?jl(I):null;if(!I)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(t=ro(p.href),p=yn(I).hoistableStyles,C=p.get(t),C||(C={type:"style",instance:null,count:0,state:null},p.set(t,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){e=ro(p.href);var H=yn(I).hoistableStyles,G=H.get(e);if(G||(I=I.ownerDocument||I,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(e,G),(H=I.querySelector(pa(e)))&&!H._p&&(G.instance=H,G.state.loading=5),Gi.has(e)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Gi.set(e,p),H||y_(I,e,p,G.state))),t&&C===null)throw Error(v(528,""));return G}if(t&&C!==null)throw Error(v(529,""));return null;case"script":return t=p.async,p=p.src,typeof p=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=so(p),p=yn(I).hoistableScripts,C=p.get(t),C||(C={type:"script",instance:null,count:0,state:null},p.set(t,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function ro(e){return'href="'+hi(e)+'"'}function pa(e){return'link[rel="stylesheet"]['+e+"]"}function om(e){return i({},e,{"data-precedence":e.precedence,precedence:null})}function y_(e,t,p,C){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?C.loading=1:(t=e.createElement("link"),C.preload=t,t.addEventListener("load",function(){return C.loading|=1}),t.addEventListener("error",function(){return C.loading|=2}),ii(t,"link",p),St(t),e.head.appendChild(t))}function so(e){return'[src="'+hi(e)+'"]'}function ga(e){return"script[async]"+e}function am(e,t,p){if(t.count++,t.instance===null)switch(t.type){case"style":var C=e.querySelector('style[data-href~="'+hi(p.href)+'"]');if(C)return t.instance=C,St(C),C;var I=i({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return C=(e.ownerDocument||e).createElement("style"),St(C),ii(C,"style",I),Il(C,p.precedence,e),t.instance=C;case"stylesheet":I=ro(p.href);var H=e.querySelector(pa(I));if(H)return t.state.loading|=4,t.instance=H,St(H),H;C=om(p),(I=Gi.get(I))&&_h(C,I),H=(e.ownerDocument||e).createElement("link"),St(H);var G=H;return G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),ii(H,"link",C),t.state.loading|=4,Il(H,p.precedence,e),t.instance=H;case"script":return H=so(p.src),(I=e.querySelector(ga(H)))?(t.instance=I,St(I),I):(C=p,(I=Gi.get(H))&&(C=i({},p),xh(C,I)),e=e.ownerDocument||e,I=e.createElement("script"),St(I),ii(I,"link",C),e.head.appendChild(I),t.instance=I);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(C=t.instance,t.state.loading|=4,Il(C,p.precedence,e));return t.instance}function Il(e,t,p){for(var C=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=C.length?C[C.length-1]:null,H=I,G=0;G<C.length;G++){var Z=C[G];if(Z.dataset.precedence===t)H=Z;else if(H!==I)break}H?H.parentNode.insertBefore(e,H.nextSibling):(t=p.nodeType===9?p.head:p,t.insertBefore(e,t.firstChild))}function _h(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bl=null;function lm(e,t,p){if(Bl===null){var C=new Map,I=Bl=new Map;I.set(p,C)}else I=Bl,C=I.get(p),C||(C=new Map,I.set(p,C));if(C.has(e))return C;for(C.set(e,null),p=p.getElementsByTagName(e),I=0;I<p.length;I++){var H=p[I];if(!(H[Ln]||H[Mt]||e==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var G=H.getAttribute(t)||"";G=e+G;var Z=C.get(G);Z?Z.push(H):C.set(G,[H])}}return C}function cm(e,t,p){e=e.ownerDocument||e,e.head.insertBefore(p,t==="title"?e.querySelector("head > title"):null)}function b_(e,t,p){if(p===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function __(e,t,p,C){if(p.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var I=ro(C.href),H=t.querySelector(pa(I));if(H){t=H._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hl.bind(e),t.then(e,e)),p.state.loading|=4,p.instance=H,St(H);return}H=t.ownerDocument||t,C=om(C),(I=Gi.get(I))&&_h(C,I),H=H.createElement("link"),St(H);var G=H;G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),ii(H,"link",C),p.instance=H}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(p,t),(t=p.state.preload)&&(p.state.loading&3)===0&&(e.count++,p=Hl.bind(e),t.addEventListener("load",p),t.addEventListener("error",p))}}var wh=0;function x_(e,t){return e.stylesheets&&e.count===0&&Fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(p){var C=setTimeout(function(){if(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend){var H=e.unsuspend;e.unsuspend=null,H()}},6e4+t);0<e.imgBytes&&wh===0&&(wh=62500*t_());var I=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend)){var H=e.unsuspend;e.unsuspend=null,H()}},(e.imgBytes>wh?50:800)+t);return e.unsuspend=p,function(){e.unsuspend=null,clearTimeout(C),clearTimeout(I)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zl=null;function Fl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zl=new Map,t.forEach(w_,e),zl=null,Hl.call(e))}function w_(e,t){if(!(t.state.loading&4)){var p=zl.get(e);if(p)var C=p.get(null);else{p=new Map,zl.set(e,p);for(var I=e.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<I.length;H++){var G=I[H];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),C=G)}C&&p.set(null,C)}I=t.instance,G=I.getAttribute("data-precedence"),H=p.get(G)||C,H===C&&p.set(null,I),p.set(G,I),this.count++,C=Hl.bind(this),I.addEventListener("load",C),I.addEventListener("error",C),H?H.parentNode.insertBefore(I,H.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(I,e.firstChild)),t.state.loading|=4}}var ma={$$typeof:x,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function S_(e,t,p,C,I,H,G,Z,re){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=C,this.onUncaughtError=I,this.onCaughtError=H,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function hm(e,t,p,C,I,H,G,Z,re,ue,fe,ve){return e=new S_(e,t,p,G,re,ue,fe,ve,Z),t=1,H===!0&&(t|=24),H=Ci(3,null,null,t),e.current=H,H.stateNode=e,t=tu(),t.refCount++,e.pooledCache=t,t.refCount++,H.memoizedState={element:C,isDehydrated:p,cache:t},su(H),e}function dm(e){return e?(e=js,e):js}function fm(e,t,p,C,I,H){I=dm(I),C.context===null?C.context=I:C.pendingContext=I,C=ur(t),C.payload={element:p},H=H===void 0?null:H,H!==null&&(C.callback=H),p=hr(e,C,t),p!==null&&(yi(p,e,t),Yo(p,e,t))}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var p=e.retryLane;e.retryLane=p!==0&&p<t?p:t}}function Sh(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function gm(e){if(e.tag===13||e.tag===31){var t=Gr(e,67108864);t!==null&&yi(t,e,67108864),Sh(e,67108864)}}function mm(e){if(e.tag===13||e.tag===31){var t=Mi();t=tr(t);var p=Gr(e,t);p!==null&&yi(p,e,t),Sh(e,t)}}var Pl=!0;function C_(e,t,p,C){var I=D.T;D.T=null;var H=z.p;try{z.p=2,Ch(e,t,p,C)}finally{z.p=H,D.T=I}}function E_(e,t,p,C){var I=D.T;D.T=null;var H=z.p;try{z.p=8,Ch(e,t,p,C)}finally{z.p=H,D.T=I}}function Ch(e,t,p,C){if(Pl){var I=Eh(C);if(I===null)uh(e,t,C,Wl,p),ym(e,C);else if(k_(I,e,t,p,C))C.stopPropagation();else if(ym(e,C),t&4&&-1<A_.indexOf(e)){for(;I!==null;){var H=Ji(I);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var G=Pt(H.pendingLanes);if(G!==0){var Z=H;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var re=1<<31-le(G);Z.entanglements[1]|=re,G&=~re}Sn(H),(tt&6)===0&&(El=Ze()+500,ua(0))}}break;case 31:case 13:Z=Gr(H,2),Z!==null&&yi(Z,H,2),kl(),Sh(H,2)}if(H=Eh(C),H===null&&uh(e,t,C,Wl,p),H===I)break;I=H}I!==null&&C.stopPropagation()}else uh(e,t,C,null,p)}}function Eh(e){return e=ks(e),Ah(e)}var Wl=null;function Ah(e){if(Wl=null,e=oi(e),e!==null){var t=E(e);if(t===null)e=null;else{var p=t.tag;if(p===13){if(e=y(t),e!==null)return e;e=null}else if(p===31){if(e=f(t),e!==null)return e;e=null}else if(p===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wl=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Dt:return 2;case xt:return 8;case pt:case Kt:return 32;case nt:return 268435456;default:return 32}default:return 32}}var kh=!1,wr=null,Sr=null,Cr=null,va=new Map,ya=new Map,Er=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(t.pointerId)}}function ba(e,t,p,C,I,H){return e===null||e.nativeEvent!==H?(e={blockedOn:t,domEventName:p,eventSystemFlags:C,nativeEvent:H,targetContainers:[I]},t!==null&&(t=Ji(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=C,t=e.targetContainers,I!==null&&t.indexOf(I)===-1&&t.push(I),e)}function k_(e,t,p,C,I){switch(t){case"focusin":return wr=ba(wr,e,t,p,C,I),!0;case"dragenter":return Sr=ba(Sr,e,t,p,C,I),!0;case"mouseover":return Cr=ba(Cr,e,t,p,C,I),!0;case"pointerover":var H=I.pointerId;return va.set(H,ba(va.get(H)||null,e,t,p,C,I)),!0;case"gotpointercapture":return H=I.pointerId,ya.set(H,ba(ya.get(H)||null,e,t,p,C,I)),!0}return!1}function bm(e){var t=oi(e.target);if(t!==null){var p=E(t);if(p!==null){if(t=p.tag,t===13){if(t=y(p),t!==null){e.blockedOn=t,vs(e.priority,function(){mm(p)});return}}else if(t===31){if(t=f(p),t!==null){e.blockedOn=t,vs(e.priority,function(){mm(p)});return}}else if(t===3&&p.stateNode.current.memoizedState.isDehydrated){e.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var p=Eh(e.nativeEvent);if(p===null){p=e.nativeEvent;var C=new p.constructor(p.type,p);on=C,p.target.dispatchEvent(C),on=null}else return t=Ji(p),t!==null&&gm(t),e.blockedOn=p,!1;t.shift()}return!0}function _m(e,t,p){Ul(e)&&p.delete(t)}function T_(){kh=!1,wr!==null&&Ul(wr)&&(wr=null),Sr!==null&&Ul(Sr)&&(Sr=null),Cr!==null&&Ul(Cr)&&(Cr=null),va.forEach(_m),ya.forEach(_m)}function Vl(e,t){e.blockedOn===t&&(e.blockedOn=null,kh||(kh=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,T_)))}var Gl=null;function xm(e){Gl!==e&&(Gl=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var p=e[t],C=e[t+1],I=e[t+2];if(typeof C!="function"){if(Ah(C||p)===null)continue;break}var H=Ji(p);H!==null&&(e.splice(t,3),t-=3,Eu(H,{pending:!0,data:I,method:p.method,action:C},C,I))}}))}function oo(e){function t(re){return Vl(re,e)}wr!==null&&Vl(wr,e),Sr!==null&&Vl(Sr,e),Cr!==null&&Vl(Cr,e),va.forEach(t),ya.forEach(t);for(var p=0;p<Er.length;p++){var C=Er[p];C.blockedOn===e&&(C.blockedOn=null)}for(;0<Er.length&&(p=Er[0],p.blockedOn===null);)bm(p),p.blockedOn===null&&Er.shift();if(p=(e.ownerDocument||e).$$reactFormReplay,p!=null)for(C=0;C<p.length;C+=3){var I=p[C],H=p[C+1],G=I[Wt]||null;if(typeof H=="function")G||xm(p);else if(G){var Z=null;if(H&&H.hasAttribute("formAction")){if(I=H,G=H[Wt]||null)Z=G.formAction;else if(Ah(I)!==null)continue}else Z=G.action;typeof Z=="function"?p[C+1]=Z:(p.splice(C,3),C-=3),xm(p)}}}function wm(){function e(H){H.canIntercept&&H.info==="react-transition"&&H.intercept({handler:function(){return new Promise(function(G){return I=G})},focusReset:"manual",scroll:"manual"})}function t(){I!==null&&(I(),I=null),C||setTimeout(p,20)}function p(){if(!C&&!navigation.transition){var H=navigation.currentEntry;H&&H.url!=null&&navigation.navigate(H.url,{state:H.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,I=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(p,100),function(){C=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),I!==null&&(I(),I=null)}}}function Th(e){this._internalRoot=e}Kl.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var p=t.current,C=Mi();fm(p,C,e,t,null,null)},Kl.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),kl(),t[vn]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oi();e={blockedOn:null,target:e,priority:t};for(var p=0;p<Er.length&&t!==0&&t<Er[p].priority;p++);Er.splice(p,0,e),p===0&&bm(e)}};var Sm=_.version;if(Sm!=="19.2.3")throw Error(v(527,Sm,"19.2.3"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=c(t),e=e!==null?s(e):null,e=e===null?null:e.stateNode,e};var M_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Tt=Yl.inject(M_),gt=Yl}catch{}}return xa.createRoot=function(e,t){if(!R(e))throw Error(v(299));var p=!1,C="",I=Lp,H=Rp,G=Np;return t!=null&&(t.unstable_strictMode===!0&&(p=!0),t.identifierPrefix!==void 0&&(C=t.identifierPrefix),t.onUncaughtError!==void 0&&(I=t.onUncaughtError),t.onCaughtError!==void 0&&(H=t.onCaughtError),t.onRecoverableError!==void 0&&(G=t.onRecoverableError)),t=hm(e,1,!1,null,null,p,C,null,I,H,G,wm),e[vn]=t.current,ch(e),new Th(t)},xa.hydrateRoot=function(e,t,p){if(!R(e))throw Error(v(299));var C=!1,I="",H=Lp,G=Rp,Z=Np,re=null;return p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onUncaughtError!==void 0&&(H=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(Z=p.onRecoverableError),p.formState!==void 0&&(re=p.formState)),t=hm(e,1,!0,t,p??null,C,I,re,H,G,Z,wm),t.context=dm(null),p=t.current,C=Mi(),C=tr(C),I=ur(C),I.callback=null,hr(p,I,C),p=C,t.current.lanes=p,Tn(t,p),Sn(t),e[vn]=t.current,ch(e),new Kl(t)},xa.version="19.2.3",xa}var $m;function B_(){if($m)return Rh.exports;$m=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(_){console.error(_)}}return h(),Rh.exports=I_(),Rh.exports}var H_=B_();const z_={},Dm=h=>{let _;const m=new Set,v=(s,i)=>{const n=typeof s=="function"?s(_):s;if(!Object.is(n,_)){const r=_;_=i??(typeof n!="object"||n===null)?n:Object.assign({},_,n),m.forEach(l=>l(_,r))}},R=()=>_,a={setState:v,getState:R,getInitialState:()=>c,subscribe:s=>(m.add(s),()=>m.delete(s)),destroy:()=>{(z_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),m.clear()}},c=_=h(v,R,a);return a},a0=h=>h?Dm(h):Dm;var Oh={exports:{}},jh={},Ih={exports:{}},Bh={};var Om;function F_(){if(Om)return Bh;Om=1;var h=Ir();function _(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var m=typeof Object.is=="function"?Object.is:_,v=h.useState,R=h.useEffect,E=h.useLayoutEffect,y=h.useDebugValue;function f(i,n){var r=n(),l=v({inst:{value:r,getSnapshot:n}}),u=l[0].inst,o=l[1];return E(function(){u.value=r,u.getSnapshot=n,a(u)&&o({inst:u})},[i,r,n]),R(function(){return a(u)&&o({inst:u}),i(function(){a(u)&&o({inst:u})})},[i]),y(r),r}function a(i){var n=i.getSnapshot;i=i.value;try{var r=n();return!m(i,r)}catch{return!0}}function c(i,n){return n()}var s=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:f;return Bh.useSyncExternalStore=h.useSyncExternalStore!==void 0?h.useSyncExternalStore:s,Bh}var jm;function P_(){return jm||(jm=1,Ih.exports=F_()),Ih.exports}var Im;function W_(){if(Im)return jh;Im=1;var h=Ir(),_=P_();function m(c,s){return c===s&&(c!==0||1/c===1/s)||c!==c&&s!==s}var v=typeof Object.is=="function"?Object.is:m,R=_.useSyncExternalStore,E=h.useRef,y=h.useEffect,f=h.useMemo,a=h.useDebugValue;return jh.useSyncExternalStoreWithSelector=function(c,s,i,n,r){var l=E(null);if(l.current===null){var u={hasValue:!1,value:null};l.current=u}else u=l.current;l=f(function(){function d(b){if(!g){if(g=!0,x=b,b=n(b),r!==void 0&&u.hasValue){var k=u.value;if(r(k,b))return S=k}return S=b}if(k=S,v(x,b))return k;var A=n(b);return r!==void 0&&r(k,A)?(x=b,k):(x=b,S=A)}var g=!1,x,S,w=i===void 0?null:i;return[function(){return d(s())},w===null?void 0:function(){return d(w())}]},[s,i,n,r]);var o=R(c,l[0],l[1]);return y(function(){u.hasValue=!0,u.value=o},[o]),a(o),o},jh}var Bm;function U_(){return Bm||(Bm=1,Oh.exports=W_()),Oh.exports}var V_=U_();const l0=wc(V_),c0={},{useDebugValue:G_}=_e,{useSyncExternalStoreWithSelector:K_}=l0;let Hm=!1;const Y_=h=>h;function X_(h,_=Y_,m){(c0?"production":void 0)!=="production"&&m&&!Hm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Hm=!0);const v=K_(h.subscribe,h.getState,h.getServerState||h.getInitialState,_,m);return G_(v),v}const zm=h=>{(c0?"production":void 0)!=="production"&&typeof h!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const _=typeof h=="function"?a0(h):h,m=(v,R)=>X_(_,v,R);return Object.assign(m,_),m},Yi=h=>h?zm(h):zm,Xi=h=>{let _=h;_.use={};for(let m of Object.keys(_.getState()))_.use[m]=()=>_(v=>v[m]);return _},Ie={scanWorkspace:"scanworkspace",runCmdDev:"runcmddev",stopProcess:"stopprocess",listWorkspacesDir:"listworkspacedirs",newWorkspace:"newworkspace",interactvTerminal:"interactvterminal",stopInteractiveTerminal:"stopinteractiveterminal",stopTerminalWorkspace:"stopTerminalWorkspace",hideShowFileFolder:"hideshowfilefolder",updateWorkspace:"updateworkspace",getRootPath:"getrootpath",scaffoldRepo:"scaffoldrepo",turborepoExist:"turborepoexist",firstRun:"firstrun",notes:"notes",crudTest:"crudtest",gitControl:"gitcontrol",initMonorepoTime:"initmtime",processTree:"processtree",docker:"docker",availabletemplates:"availabletemplates",setWorkspaceTemplate:"setworkspacetemplate",deleteWorkspace:"deleteworkspace",opencodeHelper:"opencode",opencodeTUI:"opencodetui",scanProject:"scanproject",textEditor:"texteditor",gitStash:"gitstash"},q_=4792,$e={apiPort:q_,serverPath:"/",useDemo:!1},Z_=Yi()((h,_)=>({showTerminal:!1,setShowTerminal:m=>h({showTerminal:m}),rootDir:"",showAboutModal:!1,setShowAboutModal:m=>h({showAboutModal:m}),terminalFontSize:15,setTerminalFontSize:m=>{localStorage.setItem("terminalFontSize",m.toString()),h({terminalFontSize:m})},loadTerminalFontSize(){const m=localStorage.getItem("terminalFontSize");m&&h({terminalFontSize:parseInt(m)})},showGit:!1,setShowGit:m=>h({showGit:m}),projectTreeFontSize:14,setProjectTreeFontSize:m=>{localStorage.setItem("projectTreeFontSize",m.toString()),h({projectTreeFontSize:m})},loadProjectTreeFontSize(){const m=localStorage.getItem("projectTreeFontSize");m&&h({projectTreeFontSize:parseInt(m)})},loadRootDir:async()=>{if(!(_().rootDir.length>0))try{const v=await(await fetch(`${$e.serverPath}${Ie.getRootPath}`)).json();h({rootDir:v.path})}catch{}},checkIfFirstTime:async()=>{try{return(await(await fetch(`${$e.serverPath}${Ie.firstRun}`)).json()).isFirstTime}catch{return!1}},initMonorepoTime:async()=>{try{await fetch(`${$e.serverPath}${Ie.initMonorepoTime}`)}catch(m){console.error("Error initializing Monorepo Time:",m)}},notes:"",noteNotFound:!0,setNotes:m=>h({notes:m}),loadNotes:async()=>{try{const m=await fetch(`${$e.serverPath}${Ie.notes}`);if(!m.ok){h({noteNotFound:!0});return}const v=await m.json();h({notes:v.notes,noteNotFound:!1})}catch{h({noteNotFound:!0})}},saveNotes:async()=>{try{await fetch(`${$e.serverPath}${Ie.notes}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:_().notes})})}catch(m){console.error("Error saving notes:",m)}},scaffoldRepo:async()=>await(await fetch(`${$e.serverPath}${Ie.scaffoldRepo}`)).json(),hideShowFileFolder:async(m,v)=>await(await fetch(`${$e.serverPath}${Ie.hideShowFileFolder}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hide:m,pathInclude:v})})).json(),getTemplates:async()=>await(await fetch(`${$e.serverPath}${Ie.availabletemplates}`)).json()})),Xe=Xi(Z_);function Q_(){return O.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg",children:O.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-5 h-5"})})}const J_=Yi(h=>({showOrchestrator:!1,setShowOrchestrator:_=>h({showOrchestrator:_})})),uc=Xi(J_);function u0(){const h=Xe.use.setShowAboutModal(),_=Xe.use.setShowGit(),m=uc.use.setShowOrchestrator();return O.jsx("header",{className:"h-7 w-full px-6 py-2 sticky top-0",children:O.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(Q_,{}),O.jsx("div",{children:O.jsxs("h1",{className:"text-md font-space tracking-tight text-white font-medium",children:["Monorepo",O.jsx("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-400",children:"Time"})]})})]}),O.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[O.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[O.jsx("i",{className:"text-2xl fa-brands fa-git-alt text-blue-400 group-hover:text-blue-300"}),O.jsxs("span",{className:"text-sm",children:[O.jsx("span",{className:"font-bold text-white",children:" Ctrl + S "}),"Git Panel"]})]}),O.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[O.jsx("i",{className:"text-xl fa-solid fa-terminal text-blue-400 group-hover:text-blue-300"}),O.jsxs("span",{className:"text-sm",children:[O.jsx("span",{className:"font-bold text-white",children:" Ctrl + X "}),"Agent Orchestrator"]})]}),O.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[O.jsx("i",{className:"fas fa-info-circle text-blue-400 group-hover:text-blue-300"}),O.jsx("span",{children:"About"})]})]})]})})}function ex(h){return O.jsxs("nav",{className:"w-14 h-full flex flex-col items-center py-4",children:[O.jsx("div",{className:"flex flex-col gap-2 w-full px-2",children:h.navs.map(_=>O.jsx(Fm,{isSelected:_.isSelected,icon:_.icon,name:_.name,label:_.label,onClick:()=>_.onClick()},_.name))}),O.jsx("div",{className:"h-full flex flex-col justify-end gap-2 mb-16",children:h.extraNavs?.map(_=>O.jsx(Fm,{isSelected:_.isSelected,icon:_.icon,name:_.name,label:_.label,onClick:()=>_.onClick()},_.name))})]})}function Fm(h){const _=h.isSelected?"bg-gradient-to-br from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-white/5 hover:text-white";return O.jsxs("button",{className:`nav-item group relative flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 outline-none ${_}`,onClick:h.onClick,children:[O.jsx("i",{className:`${h.icon} text-lg transition-transform duration-200 group-hover:scale-110`}),O.jsxs("div",{className:"z-50 absolute bg-black/90 backdrop-blur-md left-14 px-3 py-1.5 text-white text-sm font-medium rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 translate-x-2 group-hover:translate-x-0 shadow-xl border border-white/10 whitespace-nowrap",children:[h.label,O.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/90 border-l border-b border-white/10 rotate-45"})]})]})}function Hh({children:h,className:_,onClick:m}){return O.jsx("div",{className:`bg-gray-800/20 rounded-2xl p-6 flex flex-col ${_}`,onClick:m,children:h})}const tx=Yi()((h,_)=>({dockerprocessInfo:[],loadDockerProcessInfo:async()=>{try{const v=await(await fetch(`${$e.serverPath}${Ie.docker}`)).json();h({dockerprocessInfo:v.containers})}catch(m){console.error("Failed to load docker info",m)}},stopDockerContainer:async m=>{try{await fetch(`${$e.serverPath}${Ie.docker}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:m})}),await _().loadDockerProcessInfo()}catch(v){console.error("Failed to stop container",v)}},stopAllDockerContainers:async()=>{try{await fetch(`${$e.serverPath}${Ie.docker}/stop-all`,{method:"POST"}),await _().loadDockerProcessInfo()}catch(m){console.error("Failed to stop all containers",m)}}})),Xl=Xi(tx);function ix(){const h=Xl.use.dockerprocessInfo(),_=Xl.use.loadDockerProcessInfo(),m=Xl.use.stopDockerContainer(),v=Xl.use.stopAllDockerContainers();ie.useEffect(()=>{_();const y=setInterval(()=>{_()},5e3);return()=>clearInterval(y)},[]);const R=h.reduce((y,f)=>y+(f.memoryBytes||0),0),E=Math.round(R/1024/1024);return O.jsxs("div",{className:"h-[420px] overflow-hidden flex flex-col",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4 flex-none",children:[O.jsx("i",{className:"fab fa-docker text-blue-400"}),O.jsxs("div",{className:"flex items-center gap-3",children:[h.length>0&&O.jsxs("button",{id:"docker-stop-all-btn",onClick:()=>v(),className:"text-xs px-2 py-0.5 rounded bg-red-900/30 hover:bg-red-800/50 text-red-400 hover:text-red-200 transition-colors border border-red-800/30",title:"Stop All Containers",children:[O.jsx("i",{className:"fas fa-power-off"})," Stop All"]}),O.jsx("span",{id:"docker-mem-total",className:"text-xs text-blue-400 font-mono"}),O.jsxs("span",{id:"docker-count",className:"text-xs text-gray-400 font-mono",children:["Total RAM: ",E," MB (",h.length," active)"]})]})]}),O.jsxs("div",{className:"overflow-y-auto flex-1 space-y-2 pr-1 custom-scrollbar",id:"docker-list-container",children:[h.length===0&&O.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"No active containers"}),h.map((y,f)=>O.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 border border-gray-700/30 text-xs",children:[O.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("i",{className:"fab fa-docker text-blue-500"}),O.jsx("span",{className:"text-gray-200 font-bold truncate",title:y.name,children:y.name})]}),O.jsx("span",{className:"text-gray-500 text-[10px] truncate",title:y.image,children:y.image})]}),O.jsxs("div",{className:"flex items-center gap-3 flex-none ml-2",children:[O.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[O.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:y.memoryStr}),O.jsx("span",{className:`text-[10px] font-medium ${y.status.startsWith("Up")?"text-green-400":"text-gray-400"}`,children:y.status})]}),O.jsx("button",{onClick:()=>m(y.id),className:"p-1 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition-colors",title:"Stop Container",children:O.jsx("i",{className:"fas fa-power-off"})})]})]},f))]})]})}const nx=Yi()(h=>({childprocessInfo:[],totalRam:0,peakRam:0,loadChildProcessInfo:async()=>{try{const v=(await(await fetch(`${$e.serverPath}${Ie.processTree}`)).json()).processes.map(E=>{let y=E.name;if(y.startsWith("Terminal (")&&y.endsWith(")")){const f=y.match(/Terminal \(\s*(.*?)\s*\)/);f&&f[1]&&(y=f[1])}return{name:y,pid:E.pid,mem:Math.round(E.memory/1024/1024)}}),R=v.reduce((E,y)=>E+y.mem,0);h(E=>{const y=R>E.peakRam?R:E.peakRam;return{childprocessInfo:v,totalRam:R,peakRam:y}})}catch(_){console.error("Failed to load process info",_)}}})),ql=Xi(nx);function rx(){const h=ql.use.childprocessInfo(),_=ql.use.totalRam(),m=ql.use.peakRam(),v=ql.use.loadChildProcessInfo();return ie.useEffect(()=>{const R=setInterval(async()=>{await v()},5e3);return()=>clearInterval(R)},[]),O.jsxs("div",{className:"h-[420px]",children:[O.jsx("div",{className:"flex items-center justify-between mb-4",children:O.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-chart-line text-blue-500"}),"Processes Memory Usage"]})}),O.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[O.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[O.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Current RAM"}),O.jsxs("div",{className:"text-xl font-bold text-white font-mono",children:[_," MB"]})]}),O.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[O.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Peak RAM"}),O.jsxs("div",{className:"text-xl font-bold text-blue-400 font-mono",children:[m," MB"]})]})]}),O.jsxs("div",{className:"flex-none h-full overflow-hidden flex flex-col",children:[O.jsxs("div",{className:"text-xs text-gray-400 uppercase mb-2 font-bold tracking-wider flex justify-between",children:["Top Processes",O.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:[h.length," Active"]})]}),O.jsxs("div",{className:"overflow-y-auto flex-1 space-y-1 pr-1 custom-scrollbar",children:[h.length===0&&O.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"Loading..."}),h.map((R,E)=>O.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 hover:bg-gray-800/60 border border-transparent hover:border-gray-700 transition-colors text-xs",children:[O.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[O.jsx("i",{className:"fas fa-boxes w-4 text-center"}),O.jsx("span",{className:"text-gray-300 font-mono truncate",children:R.name})]}),O.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[O.jsx("span",{className:"px-1.5 py-0.5 rounded bg-gray-800 text-[10px] text-gray-500",children:R.pid}),O.jsxs("span",{className:"font-mono text-white w-20 text-right",children:[O.jsx("span",{className:"text-orange-500",children:R.mem})," MB"]})]})]},E+R.name))]})]})]})}function sx({isVisible:h}){const _=Xe.use.notes(),m=Xe.use.noteNotFound(),v=Xe.use.loadNotes(),R=Xe.use.setNotes(),E=Xe.use.saveNotes();return ie.useEffect(()=>{h&&v()},[h]),ie.useEffect(()=>{const y=setTimeout(()=>{m||E()},2e3);return()=>clearTimeout(y)},[_,m,E]),m?O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"}),O.jsx("p",{className:"text-gray-400",children:"monorepotime.json not found"})]}):O.jsxs("div",{className:"h-[420px] overflow-y-auto flex flex-col",children:[O.jsx("div",{className:"flex items-center justify-between",children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:O.jsx("i",{className:"fas fa-sticky-note text-yellow-500"})}),O.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"})]})}),O.jsx("textarea",{value:_,onChange:y=>R(y.target.value),placeholder:"Write your project notes, todos, or ideas here...",className:"flex-1 w-full p-4 bg-transparent border-none outline-none resize-none text-gray-300 placeholder-gray-600 font-mono text-sm leading-relaxed",spellCheck:!1})]})}function Ri(h){const{children:_,width:m}=h,v=m||"650px";return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),O.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 pointer-events-none",children:O.jsxs("div",{onClick:R=>R.stopPropagation(),className:`
                        pointer-events-auto
                        relative flex flex-col
                        w-[95%] md:w-[${v}]
                        rounded-2xl overflow-hidden 
                        shadow-2xl shadow-blue-900/20 
                        animate-fade-in-up
                    `,style:{width:v},children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/50 to-blue-400/50 pointer-events-none"}),O.jsx("div",{className:"absolute inset-[2px] bg-[#0A0A0A] rounded-[15px] pointer-events-none"}),O.jsx("div",{className:"relative flex flex-col h-full bg-transparent z-10",children:_})]})})]})}function Ni({close:h,title:_,description:m,icon:v}){return O.jsxs("header",{className:"px-5 py-2 flex justify-between items-center bg-white/[0.05]",children:[O.jsxs("div",{className:"text-md font-bold text-white flex items-center gap-4",children:[O.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-blue-500/20",children:O.jsx("i",{className:v||"fas fa-cube text-white text-lg"})}),O.jsxs("div",{className:"flex flex-col",children:[O.jsx("span",{className:"text-lg font-bold bg-clip-text text-white",children:_}),O.jsx("span",{className:"text-gray-500 font-medium text-xs",children:m})]})]}),O.jsx("button",{onClick:h,className:"w-8 h-8 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all flex items-center justify-center",children:O.jsx("i",{className:"fas fa-times text-sm"})})]})}function Zn(h){return O.jsxs("button",{onClick:_=>{_.stopPropagation(),h.onClick()},className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]"+(h.className?" "+h.className:""),children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),O.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[h.icon&&O.jsx("i",{className:h.icon}),h.text,h.children]})]})}function ox({isOpen:h,onClose:_}){const m=Xe.use.loadTerminalFontSize(),v=Xe.use.loadProjectTreeFontSize(),R=Xe.use.terminalFontSize(),E=Xe.use.setTerminalFontSize(),y=Xe.use.projectTreeFontSize(),f=Xe.use.setProjectTreeFontSize();return ie.useEffect(()=>{const a=c=>{c.key==="Escape"&&_()};return h&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[h,_]),ie.useEffect(()=>{m(),v()},[]),h?O.jsxs(Ri,{width:"420px",children:[O.jsx(Ni,{close:_,title:"Settings",description:"Manage your preferences",icon:"fa-solid fa-cog"}),O.jsxs("div",{className:"p-6 space-y-6",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:O.jsx("i",{className:"fa-solid fa-text-height"})}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-white text-sm",children:"Terminal Font Size"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Adjust text readability"})]})]}),O.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[O.jsx("button",{onClick:()=>E(Math.max(10,R-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:O.jsx("i",{className:"fa-solid fa-minus text-xs"})}),O.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:R}),O.jsx("button",{onClick:()=>E(Math.min(32,R+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:O.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:O.jsx("i",{className:"fa-solid fa-folder-tree"})}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-white text-sm",children:"Project Tree Font Size"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Adjust tree readability"})]})]}),O.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[O.jsx("button",{onClick:()=>f(Math.max(10,y-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:O.jsx("i",{className:"fa-solid fa-minus text-xs"})}),O.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:y}),O.jsx("button",{onClick:()=>f(Math.min(32,y+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:O.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),O.jsx("div",{className:"flex justify-end",children:O.jsx(Zn,{onClick:_,icon:"",text:"Ok"})})]})]}):null}function ax(h){const[_,m]=ie.useState(!1);return O.jsxs("div",{className:`h-full w-full ${h.isVisible?"block":"hidden"}`,children:[O.jsxs("div",{className:"relative px-6 py-8 space-y-8 animate-fade-in max-w-[1600px] mx-auto",children:[O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[O.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6 h-[400px]",children:O.jsx(Hh,{children:O.jsx(sx,{isVisible:h.isVisible})})}),O.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:O.jsx(Hh,{children:O.jsx(rx,{})})}),O.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:O.jsx(Hh,{children:O.jsx(ix,{})})})]}),O.jsx("button",{onClick:()=>m(!0),className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:O.jsx("i",{className:"fa-solid fa-cog text-xl text-blue-400 group-hover:rotate-90 transition-transform duration-500"})})]}),O.jsx(ox,{isOpen:_,onClose:()=>m(!1)})]})}const lx=Yi()(h=>({currentPage:"dashboard",action:{setCurrentPage:_=>h({currentPage:_})}})),Pm=Xi(lx),cx=async(h,_)=>{if(!_().loading){h({loading:!0});try{const v=await fetch(`${$e.serverPath}${Ie.scanWorkspace}`);let R=await v.json();if(!v.ok)throw new Error("Failed to fetch workspace");h({workspaceDirs:R.workspaceDirs??[]});const E=[],y=_().workspace;R.workspace.forEach(a=>{y.find(c=>c.info.name===a.name)?E.push({isRunningAs:y.find(c=>c.info.name===a.name)?.isRunningAs??null,info:a}):E.push({isRunningAs:null,info:a})});const f=E.sort((a,c)=>a.info.name<c.info.name?-1:a.info.name>c.info.name?1:0);h({workspace:f})}catch(v){console.error("Error fetching workspace:",v)}h({loading:!1})}},ux=async(h,_,m)=>{if(_().loadingWorkspace!=m){h({loadingWorkspace:m});try{if(!(await fetch(`${$e.serverPath}${Ie.stopProcess}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m}})})).ok)throw new Error("Failed to stop process")}catch(R){console.error("Error stopping process:",R)}h({loadingWorkspace:null})}},hx=async(h,_,m,v)=>{if(_().loadingWorkspace!=m){h({loadingWorkspace:m});try{if(!(await fetch(`${$e.serverPath}${Ie.stopInteractiveTerminal}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m}})})).ok)throw new Error("Failed to stop interactive terminal");v||await new Promise(y=>setTimeout(y,1e3))}catch(E){console.error("Error stopping interactive terminal:",E)}h({loadingWorkspace:null})}},dx=async(h,_,m,v)=>{if(_().loadingWorkspace==m)return;h({loadingWorkspace:m});const y=_().workspace.find(f=>f.info.name===m)?.info.path;try{const f=await fetch(`${$e.serverPath}${Ie.stopTerminalWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:m,path:y}})});if(!f.ok){let a="Failed to stop interactive terminal";try{const c=await f.text();try{const s=JSON.parse(c);a=s.message||s.error||a}catch{c&&(a=c)}}catch{}throw console.error("[Frontend] Backend error:",a),new Error(a)}v||await new Promise(a=>setTimeout(a,1e3))}catch(f){console.error("Error stopping interactive terminal:",f)}h({loadingWorkspace:null})},fx=async()=>{try{const h=await fetch(`${$e.serverPath}${Ie.listWorkspacesDir}`);if(!h.ok)throw new Error("Failed to list workspace");return await h.json()}catch(h){return console.error("Error listing workspace:",h),[]}},px=async h=>{try{return await(await fetch(`${$e.serverPath}${Ie.newWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),!0}catch{return!1}},gx=async h=>{try{return await(await fetch(`${$e.serverPath}${Ie.updateWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),!0}catch{return!1}},mx="modulepreload",vx=function(h){return"/"+h},Wm={},h0=function(_,m,v){let R=Promise.resolve();if(m&&m.length>0){let c=function(s){return Promise.all(s.map(i=>Promise.resolve(i).then(n=>({status:"fulfilled",value:n}),n=>({status:"rejected",reason:n}))))};var y=c;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),a=f?.nonce||f?.getAttribute("nonce");R=c(m.map(s=>{if(s=vx(s),s in Wm)return;Wm[s]=!0;const i=s.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":mx,i||(r.as="script"),r.crossOrigin="",r.href=s,a&&r.setAttribute("nonce",a),document.head.appendChild(r),i)return new Promise((l,u)=>{r.addEventListener("load",l),r.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})}))}function E(f){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=f,window.dispatchEvent(a),!a.defaultPrevented)throw f}return R.then(f=>{for(const a of f||[])a.status==="rejected"&&E(a.reason);return _().catch(E)})},yx=async(h,_,m)=>{window.isLoadingCancelled=!1;const{io:v}=await h0(async()=>{const{io:R}=await import("./index-Crsm9Fe1.js");return{io:R}},[]);return new Promise((R,E)=>{const y=v($e.serverPath,{transports:["websocket"],forceNew:!0,reconnection:!1});h({loadMessage:"Connecting..."}),y.on("connect",()=>{h({loadMessage:`Starting template '${m}'...`}),y.emit("template:start",{workspace:_,templatename:m}),window.isLoadingCancelled&&(y.disconnect(),E(new Error("Loading cancelled")))}),y.on("template:progress",f=>{h({loadMessage:f.message}),console.log("[Template Progress]",f.message),window.isLoadingCancelled&&(y.disconnect(),E(new Error("Loading cancelled")))}),y.on("template:success",f=>{h({loadMessage:f.message}),console.log("[Template Success]",f.message),y.disconnect(),R()}),y.on("template:error",f=>{h({loadMessage:`Error: ${f.error}`}),console.error("[Template Error]",f.error),alert(f.error),y.disconnect(),E(new Error(f.error))}),y.on("connect_error",f=>{h({loadMessage:`Connection error: ${f.message}`}),console.error("[Template Connect Error]",f),alert(f.message),y.disconnect(),E(f)}),setTimeout(()=>{y.connected&&(y.disconnect(),h({loadMessage:"Template setup timed out"}),E(new Error("Template setup timed out")))},300*1e3)})},bx=async(h,_,m)=>{if(!_().loading){h({loading:!0});try{const R=await fetch(`${$e.serverPath}${Ie.deleteWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:m})});if(!R.ok)throw new Error("Failed to delete workspace");const E=await R.json();return h({loading:!1}),E.message}catch(R){return console.error("Error deleting workspace:",R),h({loading:!1}),"Error deleting workspace"}}},_x=Yi()((h,_)=>({workspace:[],workspaceLoading:!1,workspaceDirs:["apps","packages"],activeTerminal:"",activeWorkspaceOptionModal:null,loadingWorkspace:null,loading:!1,showWorkspaceNew:!1,showNewTerminalWindow:null,loadMessage:"",setWorkSpaceRunningAs:(m,v)=>{_().workspace.find(E=>E.info.name===m)&&h({workspace:_().workspace.map(E=>E.info.name===m?{...E,isRunningAs:v}:E)})},setWorkspaceLoading:m=>{h({workspaceLoading:m})},setShowNewTerminalWindow:m=>{h({showNewTerminalWindow:m})},setActiveWorkspaceOptionModal:m=>{h({activeWorkspaceOptionModal:m})},setActiveTerminal:m=>{h({activeTerminal:m})},setShowWorkspaceNew:m=>{h({showWorkspaceNew:m})},listWorkspace:async()=>fx(),loadWorkspace:()=>cx(h,_),stopProcess:m=>ux(h,_,m),stopInteractiveTerminal:async(m,v)=>hx(h,_,m,v),stopWorkspaceTerminal:async(m,v)=>dx(h,_,m,v),createNewWorkspace:async m=>await px(m),updateWorkspace:async m=>await gx(m),setWorkspaceTemplate:async(m,v)=>await yx(h,m,v),deleteWorkspace:async m=>await bx(h,_,m)})),Fe=Xi(_x);var zh={exports:{}},Um;function xx(){return Um||(Um=1,(function(h,_){(function(m,v){h.exports=v()})(self,(()=>(()=>{var m={4567:function(y,f,a){var c=this&&this.__decorate||function(x,S,w,b){var k,A=arguments.length,T=A<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,w):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,S,w,b);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(S,w,T):k(S,w))||T);return A>3&&T&&Object.defineProperty(S,w,T),T},s=this&&this.__param||function(x,S){return function(w,b){S(w,b,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.AccessibilityManager=void 0;const i=a(9042),n=a(6114),r=a(9924),l=a(844),u=a(5596),o=a(4725),d=a(3656);let g=f.AccessibilityManager=class extends l.Disposable{constructor(x,S){super(),this._terminal=x,this._renderService=S,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new r.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((w=>this._handleResize(w.rows)))),this.register(this._terminal.onRender((w=>this._refreshRows(w.start,w.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((w=>this._handleChar(w)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((w=>this._handleTab(w)))),this.register(this._terminal.onKey((w=>this._handleKey(w.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new u.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,d.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,l.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(x){for(let S=0;S<x;S++)this._handleChar(" ")}_handleChar(x){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==x&&(this._charsToAnnounce+=x):this._charsToAnnounce+=x,x===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=i.tooMuchOutput)),n.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,n.isMac&&this._liveRegion.remove()}_handleKey(x){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(x)||this._charsToConsume.push(x)}_refreshRows(x,S){this._liveRegionDebouncer.refresh(x,S,this._terminal.rows)}_renderRows(x,S){const w=this._terminal.buffer,b=w.lines.length.toString();for(let k=x;k<=S;k++){const A=w.translateBufferLineToString(w.ydisp+k,!0),T=(w.ydisp+k+1).toString(),j=this._rowElements[k];j&&(A.length===0?j.innerText="":j.textContent=A,j.setAttribute("aria-posinset",T),j.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(x,S){const w=x.target,b=this._rowElements[S===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(S===0?"1":`${this._terminal.buffer.lines.length}`)||x.relatedTarget!==b)return;let k,A;if(S===0?(k=w,A=this._rowElements.pop(),this._rowContainer.removeChild(A)):(k=this._rowElements.shift(),A=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),A.removeEventListener("focus",this._bottomBoundaryFocusListener),S===0){const T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else{const T=this._createAccessibilityTreeNode();this._rowElements.push(T),this._rowContainer.appendChild(T)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(S===0?-1:1),this._rowElements[S===0?1:this._rowElements.length-2].focus(),x.preventDefault(),x.stopImmediatePropagation()}_handleResize(x){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let S=this._rowContainer.children.length;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);for(;this._rowElements.length>x;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const x=document.createElement("div");return x.setAttribute("role","listitem"),x.tabIndex=-1,this._refreshRowDimensions(x),x}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let x=0;x<this._terminal.rows;x++)this._refreshRowDimensions(this._rowElements[x])}}_refreshRowDimensions(x){x.style.height=`${this._renderService.dimensions.css.cell.height}px`}};f.AccessibilityManager=g=c([s(1,o.IRenderService)],g)},3614:(y,f)=>{function a(n){return n.replace(/\r?\n/g,"\r")}function c(n,r){return r?"\x1B[200~"+n+"\x1B[201~":n}function s(n,r,l,u){n=c(n=a(n),l.decPrivateModes.bracketedPasteMode&&u.rawOptions.ignoreBracketedPasteMode!==!0),l.triggerDataEvent(n,!0),r.value=""}function i(n,r,l){const u=l.getBoundingClientRect(),o=n.clientX-u.left-10,d=n.clientY-u.top-10;r.style.width="20px",r.style.height="20px",r.style.left=`${o}px`,r.style.top=`${d}px`,r.style.zIndex="1000",r.focus()}Object.defineProperty(f,"__esModule",{value:!0}),f.rightClickHandler=f.moveTextAreaUnderMouseCursor=f.paste=f.handlePasteEvent=f.copyHandler=f.bracketTextForPaste=f.prepareTextForTerminal=void 0,f.prepareTextForTerminal=a,f.bracketTextForPaste=c,f.copyHandler=function(n,r){n.clipboardData&&n.clipboardData.setData("text/plain",r.selectionText),n.preventDefault()},f.handlePasteEvent=function(n,r,l,u){n.stopPropagation(),n.clipboardData&&s(n.clipboardData.getData("text/plain"),r,l,u)},f.paste=s,f.moveTextAreaUnderMouseCursor=i,f.rightClickHandler=function(n,r,l,u,o){i(n,r,l),o&&u.rightClickSelect(n),r.value=u.selectionText,r.select()}},7239:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorContrastCache=void 0;const c=a(1505);f.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(s,i,n){this._css.set(s,i,n)}getCss(s,i){return this._css.get(s,i)}setColor(s,i,n){this._color.set(s,i,n)}getColor(s,i){return this._color.get(s,i)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addDisposableDomListener=void 0,f.addDisposableDomListener=function(a,c,s,i){a.addEventListener(c,s,i);let n=!1;return{dispose:()=>{n||(n=!0,a.removeEventListener(c,s,i))}}}},6465:function(y,f,a){var c=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Linkifier2=void 0;const i=a(3656),n=a(8460),r=a(844),l=a(2585);let u=f.Linkifier2=class extends r.Disposable{get currentLink(){return this._currentLink}constructor(o){super(),this._bufferService=o,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new n.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new n.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,r.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,r.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(o){return this._linkProviders.push(o),{dispose:()=>{const d=this._linkProviders.indexOf(o);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(o,d,g){this._element=o,this._mouseService=d,this._renderService=g,this.register((0,i.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,i.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,i.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,i.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){if(this._lastMouseEvent=o,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const g=o.composedPath();for(let x=0;x<g.length;x++){const S=g[x];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,d){var g,x;this._activeProviderReplies&&d||((g=this._activeProviderReplies)===null||g===void 0||g.forEach((w=>{w?.forEach((b=>{b.link.dispose&&b.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=o.y);let S=!1;for(const[w,b]of this._linkProviders.entries())d?!((x=this._activeProviderReplies)===null||x===void 0)&&x.get(w)&&(S=this._checkLinkProviderResult(w,o,S)):b.provideLinks(o.y,(k=>{var A,T;if(this._isMouseOut)return;const j=k?.map((F=>({link:F})));(A=this._activeProviderReplies)===null||A===void 0||A.set(w,j),S=this._checkLinkProviderResult(w,o,S),((T=this._activeProviderReplies)===null||T===void 0?void 0:T.size)===this._linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)}))}_removeIntersectingLinks(o,d){const g=new Set;for(let x=0;x<d.size;x++){const S=d.get(x);if(S)for(let w=0;w<S.length;w++){const b=S[w],k=b.link.range.start.y<o?0:b.link.range.start.x,A=b.link.range.end.y>o?this._bufferService.cols:b.link.range.end.x;for(let T=k;T<=A;T++){if(g.has(T)){S.splice(w--,1);break}g.add(T)}}}}_checkLinkProviderResult(o,d,g){var x;if(!this._activeProviderReplies)return g;const S=this._activeProviderReplies.get(o);let w=!1;for(let b=0;b<o;b++)this._activeProviderReplies.has(b)&&!this._activeProviderReplies.get(b)||(w=!0);if(!w&&S){const b=S.find((k=>this._linkAtPosition(k.link,d)));b&&(g=!0,this._handleNewLink(b))}if(this._activeProviderReplies.size===this._linkProviders.length&&!g)for(let b=0;b<this._activeProviderReplies.size;b++){const k=(x=this._activeProviderReplies.get(b))===null||x===void 0?void 0:x.find((A=>this._linkAtPosition(A.link,d)));if(k){g=!0,this._handleNewLink(k);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(o,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!o||!d||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,r.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(o.link,d)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:o.link.decorations===void 0||o.link.decorations.underline,pointerCursor:o.link.decorations===void 0||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>{var g,x;return(x=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||x===void 0?void 0:x.decorations.pointerCursor},set:g=>{var x,S;!((x=this._currentLink)===null||x===void 0)&&x.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&((S=this._element)===null||S===void 0||S.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:()=>{var g,x;return(x=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||x===void 0?void 0:x.decorations.underline},set:g=>{var x,S,w;!((x=this._currentLink)===null||x===void 0)&&x.state&&((w=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||w===void 0?void 0:w.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((g=>{if(!this._currentLink)return;const x=g.start===0?0:g.start+1+this._bufferService.buffer.ydisp,S=this._bufferService.buffer.ydisp+1+g.end;if(this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=S&&(this._clearCurrentLink(x,S),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}}))))}_linkHover(o,d,g){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(g,d.text)}_fireUnderlineEvent(o,d){const g=o.range,x=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-x-1,g.end.x,g.end.y-x-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)}_linkLeave(o,d,g){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(g,d.text)}_linkAtPosition(o,d){const g=o.range.start.y*this._bufferService.cols+o.range.start.x,x=o.range.end.y*this._bufferService.cols+o.range.end.x,S=d.y*this._bufferService.cols+d.x;return g<=S&&S<=x}_positionFromMouseEvent(o,d,g){const x=g.getCoords(o,d,this._bufferService.cols,this._bufferService.rows);if(x)return{x:x[0],y:x[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,d,g,x,S){return{x1:o,y1:d,x2:g,y2:x,cols:this._bufferService.cols,fg:S}}};f.Linkifier2=u=c([s(0,l.IBufferService)],u)},9042:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.tooMuchOutput=f.promptLabel=void 0,f.promptLabel="Terminal input",f.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,f,a){var c=this&&this.__decorate||function(u,o,d,g){var x,S=arguments.length,w=S<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,d,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(w=(S<3?x(w):S>3?x(o,d,w):x(o,d))||w);return S>3&&w&&Object.defineProperty(o,d,w),w},s=this&&this.__param||function(u,o){return function(d,g){o(d,g,u)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkProvider=void 0;const i=a(511),n=a(2585);let r=f.OscLinkProvider=class{constructor(u,o,d){this._bufferService=u,this._optionsService=o,this._oscLinkService=d}provideLinks(u,o){var d;const g=this._bufferService.buffer.lines.get(u-1);if(!g)return void o(void 0);const x=[],S=this._optionsService.rawOptions.linkHandler,w=new i.CellData,b=g.getTrimmedLength();let k=-1,A=-1,T=!1;for(let j=0;j<b;j++)if(A!==-1||g.hasContent(j)){if(g.loadCell(j,w),w.hasExtendedAttrs()&&w.extended.urlId){if(A===-1){A=j,k=w.extended.urlId;continue}T=w.extended.urlId!==k}else A!==-1&&(T=!0);if(T||A!==-1&&j===b-1){const F=(d=this._oscLinkService.getLinkData(k))===null||d===void 0?void 0:d.uri;if(F){const N={start:{x:A+1,y:u},end:{x:j+(T||j!==b-1?0:1),y:u}};let $=!1;if(!S?.allowNonHttpProtocols)try{const M=new URL(F);["http:","https:"].includes(M.protocol)||($=!0)}catch{$=!0}$||x.push({text:F,range:N,activate:(M,L)=>S?S.activate(M,L,N):l(0,L),hover:(M,L)=>{var D;return(D=S?.hover)===null||D===void 0?void 0:D.call(S,M,L,N)},leave:(M,L)=>{var D;return(D=S?.leave)===null||D===void 0?void 0:D.call(S,M,L,N)}})}T=!1,w.hasExtendedAttrs()&&w.extended.urlId?(A=j,k=w.extended.urlId):(A=-1,k=-1)}}o(x)}};function l(u,o){if(confirm(`Do you want to navigate to ${o}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}f.OscLinkProvider=r=c([s(0,n.IBufferService),s(1,n.IOptionsService),s(2,n.IOscLinkService)],r)},6193:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderDebouncer=void 0,f.RenderDebouncer=class{constructor(a,c){this._parentWindow=a,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(a,c,s){this._rowCount=s,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ScreenDprMonitor=void 0;const c=a(844);class s extends c.Disposable{constructor(n){super(),this._parentWindow=n,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)((()=>{this.clearListener()})))}setListener(n){this._listener&&this.clearListener(),this._listener=n,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var n;this._outerListener&&((n=this._resolutionMediaMatchList)===null||n===void 0||n.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}f.ScreenDprMonitor=s},3236:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const c=a(3614),s=a(3656),i=a(6465),n=a(9042),r=a(3730),l=a(1680),u=a(3107),o=a(5744),d=a(2950),g=a(1296),x=a(428),S=a(4269),w=a(5114),b=a(8934),k=a(3230),A=a(9312),T=a(4725),j=a(6731),F=a(8055),N=a(8969),$=a(8460),M=a(844),L=a(6114),D=a(8437),z=a(2584),B=a(7399),P=a(5941),U=a(9074),W=a(2585),K=a(5435),Y=a(4567),X=typeof window<"u"?window.document:null;class q extends N.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(V={}){super(V),this.browser=L,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new M.MutableDisposable),this._onCursorMove=this.register(new $.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new $.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new $.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new $.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new $.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new $.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new $.EventEmitter),this._onBlur=this.register(new $.EventEmitter),this._onA11yCharEmitter=this.register(new $.EventEmitter),this._onA11yTabEmitter=this.register(new $.EventEmitter),this._onWillOpen=this.register(new $.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(i.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(r.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(U.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((Q,te)=>this.refresh(Q,te)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((Q=>this._reportWindowsOptions(Q)))),this.register(this._inputHandler.onColor((Q=>this._handleColorEvent(Q)))),this.register((0,$.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,$.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((Q=>this._afterResize(Q.cols,Q.rows)))),this.register((0,M.toDisposable)((()=>{var Q,te;this._customKeyEventHandler=void 0,(te=(Q=this.element)===null||Q===void 0?void 0:Q.parentNode)===null||te===void 0||te.removeChild(this.element)})))}_handleColorEvent(V){if(this._themeService)for(const Q of V){let te,ne="";switch(Q.index){case 256:te="foreground",ne="10";break;case 257:te="background",ne="11";break;case 258:te="cursor",ne="12";break;default:te="ansi",ne="4;"+Q.index}switch(Q.type){case 0:const me=F.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[Q.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${ne};${(0,P.toRgbString)(me)}${z.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors((pe=>pe.ansi[Q.index]=F.rgba.toColor(...Q.color)));else{const pe=te;this._themeService.modifyColors((Se=>Se[pe]=F.rgba.toColor(...Q.color)))}break;case 2:this._themeService.restoreColor(Q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){V?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.updateCursorStyle(V),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return(V=this.textarea)===null||V===void 0?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const V=this.buffer.ybase+this.buffer.y,Q=this.buffer.lines.get(V);if(!Q)return;const te=Math.min(this.buffer.x,this.cols-1),ne=this._renderService.dimensions.css.cell.height,me=Q.getWidth(te),pe=this._renderService.dimensions.css.cell.width*me,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,ke=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ke+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=pe+"px",this.textarea.style.height=ne+"px",this.textarea.style.lineHeight=ne+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",(Q=>{this.hasSelection()&&(0,c.copyHandler)(Q,this._selectionService)})));const V=Q=>(0,c.handlePasteEvent)(Q,this.textarea,this.coreService,this.optionsService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,s.addDisposableDomListener)(this.element,"paste",V)),L.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",(Q=>{Q.button===2&&(0,c.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",(Q=>{(0,c.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),L.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",(Q=>{Q.button===1&&(0,c.moveTextAreaUnderMouseCursor)(Q,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",(V=>this._keyUp(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",(V=>this._keyDown(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",(V=>this._keyPress(V)),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",(V=>this._compositionHelper.compositionupdate(V)))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,s.addDisposableDomListener)(this.textarea,"input",(V=>this._inputEvent(V)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(V){var Q;if(!V)throw new Error("Terminal requires a parent element.");V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=V.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),V.appendChild(this.element);const te=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),te.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),te.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",n.promptLabel),L.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(Q=this._document.defaultView)!==null&&Q!==void 0?Q:window),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,s.addDisposableDomListener)(this.textarea,"focus",(ne=>this._handleTextAreaFocus(ne)))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(S.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ne=>this._onRender.fire(ne)))),this.onResize((ne=>this._renderService.resize(ne.cols,ne.rows))),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(te);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(b.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(A.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ne=>this._renderService.handleSelectionChanged(ne.start,ne.end,ne.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ne=>{this.textarea.value=ne,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ne=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(u.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",(ne=>this._selectionService.handleMouseDown(ne)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ne=>this._handleScreenReaderModeOptionChange(ne)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ne=>{!this._overviewRulerRenderer&&ne&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const V=this,Q=this.element;function te(pe){const Se=V._mouseService.getMouseReportCoords(pe,V.screenElement);if(!Se)return!1;let ke,Ae;switch(pe.overrideType||pe.type){case"mousemove":Ae=32,pe.buttons===void 0?(ke=3,pe.button!==void 0&&(ke=pe.button<3?pe.button:3)):ke=1&pe.buttons?0:4&pe.buttons?1:2&pe.buttons?2:3;break;case"mouseup":Ae=0,ke=pe.button<3?pe.button:3;break;case"mousedown":Ae=1,ke=pe.button<3?pe.button:3;break;case"wheel":if(V.viewport.getLinesScrolled(pe)===0)return!1;Ae=pe.deltaY<0?0:1,ke=4;break;default:return!1}return!(Ae===void 0||ke===void 0||ke>4)&&V.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:ke,action:Ae,ctrl:pe.ctrlKey,alt:pe.altKey,shift:pe.shiftKey})}const ne={mouseup:null,wheel:null,mousedrag:null,mousemove:null},me={mouseup:pe=>(te(pe),pe.buttons||(this._document.removeEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.removeEventListener("mousemove",ne.mousedrag)),this.cancel(pe)),wheel:pe=>(te(pe),this.cancel(pe,!0)),mousedrag:pe=>{pe.buttons&&te(pe)},mousemove:pe=>{pe.buttons||te(pe)}};this.register(this.coreMouseService.onProtocolChange((pe=>{pe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(pe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&pe?ne.mousemove||(Q.addEventListener("mousemove",me.mousemove),ne.mousemove=me.mousemove):(Q.removeEventListener("mousemove",ne.mousemove),ne.mousemove=null),16&pe?ne.wheel||(Q.addEventListener("wheel",me.wheel,{passive:!1}),ne.wheel=me.wheel):(Q.removeEventListener("wheel",ne.wheel),ne.wheel=null),2&pe?ne.mouseup||(Q.addEventListener("mouseup",me.mouseup),ne.mouseup=me.mouseup):(this._document.removeEventListener("mouseup",ne.mouseup),Q.removeEventListener("mouseup",ne.mouseup),ne.mouseup=null),4&pe?ne.mousedrag||(ne.mousedrag=me.mousedrag):(this._document.removeEventListener("mousemove",ne.mousedrag),ne.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(Q,"mousedown",(pe=>{if(pe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(pe))return te(pe),ne.mouseup&&this._document.addEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.addEventListener("mousemove",ne.mousedrag),this.cancel(pe)}))),this.register((0,s.addDisposableDomListener)(Q,"wheel",(pe=>{if(!ne.wheel){if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(pe);if(Se===0)return;const ke=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(pe.deltaY<0?"A":"B");let Ae="";for(let Ue=0;Ue<Math.abs(Se);Ue++)Ae+=ke;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(pe,!0)}return this.viewport.handleWheel(pe)?this.cancel(pe):void 0}}),{passive:!1})),this.register((0,s.addDisposableDomListener)(Q,"touchstart",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(pe),this.cancel(pe)}),{passive:!0})),this.register((0,s.addDisposableDomListener)(Q,"touchmove",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(pe)?void 0:this.cancel(pe)}),{passive:!1}))}refresh(V,Q){var te;(te=this._renderService)===null||te===void 0||te.refreshRows(V,Q)}updateCursorStyle(V){var Q;!((Q=this._selectionService)===null||Q===void 0)&&Q.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,Q,te=0){var ne;te===1?(super.scrollLines(V,Q,te),this.refresh(0,this.rows-1)):(ne=this.viewport)===null||ne===void 0||ne.scrollLines(V)}paste(V){(0,c.paste)(V,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}registerLinkProvider(V){return this.linkifier2.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Q=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),Q}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,Q,te){this._selectionService.setSelection(V,Q,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;(V=this._selectionService)===null||V===void 0||V.clearSelection()}selectAll(){var V;(V=this._selectionService)===null||V===void 0||V.selectAll()}selectLines(V,Q){var te;(te=this._selectionService)===null||te===void 0||te.selectLines(V,Q)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;const Q=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!Q&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Q||V.key!=="Dead"&&V.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,B.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),te.type===3||te.type===2){const ne=this.rows-1;return this.scrollLines(te.type===2?-ne:ne),this.cancel(V,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(te.cancel&&this.cancel(V,!0),!te.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&V.key.length===1&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==z.C0.ETX&&te.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,Q){const te=V.isMac&&!this.options.macOptionIsMeta&&Q.altKey&&!Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.altKey&&Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.getModifierState("AltGraph");return Q.type==="keypress"?te:te&&(!Q.keyCode||Q.keyCode>47)}_keyUp(V){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1||((function(Q){return Q.keyCode===16||Q.keyCode===17||Q.keyCode===18})(V)||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let Q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;if(this.cancel(V),V.charCode)Q=V.charCode;else if(V.which===null||V.which===void 0)Q=V.keyCode;else{if(V.which===0||V.charCode===0)return!1;Q=V.which}return!(!Q||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(Q=String.fromCharCode(Q),this._onKey.fire({key:Q,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(Q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){if(V.data&&V.inputType==="insertText"&&(!V.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Q=V.data;return this.coreService.triggerDataEvent(Q,!0),this.cancel(V),!0}return!1}resize(V,Q){V!==this.cols||Q!==this.rows?super.resize(V,Q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,Q){var te,ne;(te=this._charSizeService)===null||te===void 0||te.measure(),(ne=this.viewport)===null||ne===void 0||ne.syncScrollArea(!0)}clear(){var V;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Q=1;Q<this.rows;Q++)this.buffer.lines.push(this.buffer.getBlankLine(D.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(V=this.viewport)===null||V===void 0||V.reset(),this.refresh(0,this.rows-1)}}reset(){var V,Q;this.options.rows=this.rows,this.options.cols=this.cols;const te=this._customKeyEventHandler;this._setup(),super.reset(),(V=this._selectionService)===null||V===void 0||V.reset(),this._decorationService.reset(),(Q=this.viewport)===null||Q===void 0||Q.reset(),this._customKeyEventHandler=te,this.refresh(0,this.rows-1)}clearTextureAtlas(){var V;(V=this._renderService)===null||V===void 0||V.clearTextureAtlas()}_reportFocus(){var V;!((V=this.element)===null||V===void 0)&&V.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Q=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${te};${Q}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ne=this._renderService.dimensions.css.cell.width.toFixed(0),me=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${me};${ne}t`)}}cancel(V,Q){if(this.options.cancelEvents||Q)return V.preventDefault(),V.stopPropagation(),!1}}f.Terminal=q},9924:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TimeBasedDebouncer=void 0,f.TimeBasedDebouncer=class{constructor(a,c=1e3){this._renderCallback=a,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,c,s){this._rowCount=s,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const i=Date.now();if(i-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=i,this._innerRefresh();else if(!this._additionalRefreshRequested){const n=i-this._lastRefreshMs,r=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),r)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c)}}},1680:function(y,f,a){var c=this&&this.__decorate||function(d,g,x,S){var w,b=arguments.length,k=b<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,g,x,S);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(b<3?w(k):b>3?w(g,x,k):w(g,x))||k);return b>3&&k&&Object.defineProperty(g,x,k),k},s=this&&this.__param||function(d,g){return function(x,S){g(x,S,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Viewport=void 0;const i=a(3656),n=a(4725),r=a(8460),l=a(844),u=a(2585);let o=f.Viewport=class extends l.Disposable{constructor(d,g,x,S,w,b,k,A){super(),this._viewportElement=d,this._scrollArea=g,this._bufferService=x,this._optionsService=S,this._charSizeService=w,this._renderService=b,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new r.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,i.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((T=>this._activeBuffer=T.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((T=>this._renderDimensions=T))),this._handleThemeChange(A.colors),this.register(A.onChangeColors((T=>this._handleThemeChange(T)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,g){const x=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&x<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const g=this._getPixelsScrolled(d);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(d,g))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let g=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(d,g){var x;let S,w="";const b=[],k=g??this._bufferService.buffer.lines.length,A=this._bufferService.buffer.lines;for(let T=d;T<k;T++){const j=A.get(T);if(!j)continue;const F=(x=A.get(T+1))===null||x===void 0?void 0:x.isWrapped;if(w+=j.translateToString(!F),!F||T===A.length-1){const N=document.createElement("div");N.textContent=w,b.push(N),w.length>0&&(S=N),w=""}}return{bufferElements:b,cursorElement:S}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let g=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(d,g){const x=this._optionsService.rawOptions.fastScrollModifier;return x==="alt"&&g.altKey||x==="ctrl"&&g.ctrlKey||x==="shift"&&g.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const g=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(d,g))}};f.Viewport=o=c([s(2,u.IBufferService),s(3,u.IOptionsService),s(4,n.ICharSizeService),s(5,n.IRenderService),s(6,n.ICoreBrowserService),s(7,n.IThemeService)],o)},3107:function(y,f,a){var c=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferDecorationRenderer=void 0;const i=a(3656),n=a(4725),r=a(844),l=a(2585);let u=f.BufferDecorationRenderer=class extends r.Disposable{constructor(o,d,g,x){super(),this._screenElement=o,this._bufferService=d,this._decorationService=g,this._renderService=x,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,i.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((S=>this._removeDecoration(S)))),this.register((0,r.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const o of this._decorationService.decorations)this._renderDecoration(o);this._dimensionsChanged=!1}_renderDecoration(o){this._refreshStyle(o),this._dimensionsChanged&&this._refreshXPosition(o)}_createElement(o){var d,g;const x=document.createElement("div");x.classList.add("xterm-decoration"),x.classList.toggle("xterm-decoration-top-layer",((d=o?.options)===null||d===void 0?void 0:d.layer)==="top"),x.style.width=`${Math.round((o.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,x.style.height=(o.options.height||1)*this._renderService.dimensions.css.cell.height+"px",x.style.top=(o.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",x.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const S=(g=o.options.x)!==null&&g!==void 0?g:0;return S&&S>this._bufferService.cols&&(x.style.display="none"),this._refreshXPosition(o,x),x}_refreshStyle(o){const d=o.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)o.element&&(o.element.style.display="none",o.onRenderEmitter.fire(o.element));else{let g=this._decorationElements.get(o);g||(g=this._createElement(o),o.element=g,this._decorationElements.set(o,g),this._container.appendChild(g),o.onDispose((()=>{this._decorationElements.delete(o),g.remove()}))),g.style.top=d*this._renderService.dimensions.css.cell.height+"px",g.style.display=this._altBufferIsActive?"none":"block",o.onRenderEmitter.fire(g)}}_refreshXPosition(o,d=o.element){var g;if(!d)return;const x=(g=o.options.x)!==null&&g!==void 0?g:0;(o.options.anchor||"left")==="right"?d.style.right=x?x*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=x?x*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(o){var d;(d=this._decorationElements.get(o))===null||d===void 0||d.remove(),this._decorationElements.delete(o),o.dispose()}};f.BufferDecorationRenderer=u=c([s(1,l.IBufferService),s(2,l.IDecorationService),s(3,n.IRenderService)],u)},5871:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorZoneStore=void 0,f.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const c of this._zones)if(c.color===a.options.overviewRulerOptions.color&&c.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,a.marker.line))return;if(this._lineAdjacentToZone(c,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(c,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,c){return c>=a.startBufferLine&&c<=a.endBufferLine}_lineAdjacentToZone(a,c,s){return c>=a.startBufferLine-this._linePadding[s||"full"]&&c<=a.endBufferLine+this._linePadding[s||"full"]}_addLineToZone(a,c){a.startBufferLine=Math.min(a.startBufferLine,c),a.endBufferLine=Math.max(a.endBufferLine,c)}}},5744:function(y,f,a){var c=this&&this.__decorate||function(S,w,b,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(S,w,b,k);else for(var F=S.length-1;F>=0;F--)(A=S[F])&&(j=(T<3?A(j):T>3?A(w,b,j):A(w,b))||j);return T>3&&j&&Object.defineProperty(w,b,j),j},s=this&&this.__param||function(S,w){return function(b,k){w(b,k,S)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OverviewRulerRenderer=void 0;const i=a(5871),n=a(3656),r=a(4725),l=a(844),u=a(2585),o={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0};let x=f.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(S,w,b,k,A,T,j){var F;super(),this._viewportElement=S,this._screenElement=w,this._bufferService=b,this._decorationService=k,this._renderService=A,this._optionsService=T,this._coreBrowseService=j,this._colorZoneStore=new i.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(F=this._viewportElement.parentElement)===null||F===void 0||F.insertBefore(this._canvas,this._viewportElement);const N=this._canvas.getContext("2d");if(!N)throw new Error("Ctx cannot be null");this._ctx=N,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)((()=>{var $;($=this._canvas)===null||$===void 0||$.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,n.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const S=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=S,d.center=w,d.right=S,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=d.left,g.right=d.left+d.center}_refreshDrawHeightConstants(){o.full=Math.round(2*this._coreBrowseService.dpr);const S=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(S,12),6)*this._coreBrowseService.dpr);o.left=w,o.center=w,o.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const S=this._colorZoneStore.zones;for(const w of S)w.position!=="full"&&this._renderColorZone(w);for(const w of S)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(S){this._ctx.fillStyle=S.color,this._ctx.fillRect(g[S.position||"full"],Math.round((this._canvas.height-1)*(S.startBufferLine/this._bufferService.buffers.active.lines.length)-o[S.position||"full"]/2),d[S.position||"full"],Math.round((this._canvas.height-1)*((S.endBufferLine-S.startBufferLine)/this._bufferService.buffers.active.lines.length)+o[S.position||"full"]))}_queueRefresh(S,w){this._shouldUpdateDimensions=S||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};f.OverviewRulerRenderer=x=c([s(2,u.IBufferService),s(3,u.IDecorationService),s(4,r.IRenderService),s(5,u.IOptionsService),s(6,r.ICoreBrowserService)],x)},2950:function(y,f,a){var c=this&&this.__decorate||function(u,o,d,g){var x,S=arguments.length,w=S<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,d,g);else for(var b=u.length-1;b>=0;b--)(x=u[b])&&(w=(S<3?x(w):S>3?x(o,d,w):x(o,d))||w);return S>3&&w&&Object.defineProperty(o,d,w),w},s=this&&this.__param||function(u,o){return function(d,g){o(d,g,u)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CompositionHelper=void 0;const i=a(4725),n=a(2585),r=a(2584);let l=f.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(u,o,d,g,x,S){this._textarea=u,this._compositionView=o,this._bufferService=d,this._optionsService=g,this._coreService=x,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(u){this._compositionView.textContent=u.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(u){if(this._isComposing||this._isSendingComposition){if(u.keyCode===229||u.keyCode===16||u.keyCode===17||u.keyCode===18)return!1;this._finalizeComposition(!1)}return u.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(u){if(this._compositionView.classList.remove("active"),this._isComposing=!1,u){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}}),0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const u=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const o=this._textarea.value,d=o.replace(u,"");this._dataAlreadySent=d,o.length>u.length?this._coreService.triggerDataEvent(d,!0):o.length<u.length?this._coreService.triggerDataEvent(`${r.C0.DEL}`,!0):o.length===u.length&&o!==u&&this._coreService.triggerDataEvent(o,!0)}}),0)}updateCompositionElements(u){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,x=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=x+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=x+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}u||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};f.CompositionHelper=l=c([s(2,n.IBufferService),s(3,n.IOptionsService),s(4,n.ICoreService),s(5,i.IRenderService)],l)},9806:(y,f)=>{function a(c,s,i){const n=i.getBoundingClientRect(),r=c.getComputedStyle(i),l=parseInt(r.getPropertyValue("padding-left")),u=parseInt(r.getPropertyValue("padding-top"));return[s.clientX-n.left-l,s.clientY-n.top-u]}Object.defineProperty(f,"__esModule",{value:!0}),f.getCoords=f.getCoordsRelativeToElement=void 0,f.getCoordsRelativeToElement=a,f.getCoords=function(c,s,i,n,r,l,u,o,d){if(!l)return;const g=a(c,s,i);return g?(g[0]=Math.ceil((g[0]+(d?u/2:0))/u),g[1]=Math.ceil(g[1]/o),g[0]=Math.min(Math.max(g[0],1),n+(d?1:0)),g[1]=Math.min(Math.max(g[1],1),r),g):void 0}},9504:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.moveToCellSequence=void 0;const c=a(2584);function s(o,d,g,x){const S=o-i(o,g),w=d-i(d,g),b=Math.abs(S-w)-(function(k,A,T){let j=0;const F=k-i(k,T),N=A-i(A,T);for(let $=0;$<Math.abs(F-N);$++){const M=n(k,A)==="A"?-1:1,L=T.buffer.lines.get(F+M*$);L?.isWrapped&&j++}return j})(o,d,g);return u(b,l(n(o,d),x))}function i(o,d){let g=0,x=d.buffer.lines.get(o),S=x?.isWrapped;for(;S&&o>=0&&o<d.rows;)g++,x=d.buffer.lines.get(--o),S=x?.isWrapped;return g}function n(o,d){return o>d?"A":"B"}function r(o,d,g,x,S,w){let b=o,k=d,A="";for(;b!==g||k!==x;)b+=S?1:-1,S&&b>w.cols-1?(A+=w.buffer.translateBufferLineToString(k,!1,o,b),b=0,o=0,k++):!S&&b<0&&(A+=w.buffer.translateBufferLineToString(k,!1,0,o+1),b=w.cols-1,o=b,k--);return A+w.buffer.translateBufferLineToString(k,!1,o,b)}function l(o,d){const g=d?"O":"[";return c.C0.ESC+g+o}function u(o,d){o=Math.floor(o);let g="";for(let x=0;x<o;x++)g+=d;return g}f.moveToCellSequence=function(o,d,g,x){const S=g.buffer.x,w=g.buffer.y;if(!g.buffer.hasScrollback)return(function(A,T,j,F,N,$){return s(T,F,N,$).length===0?"":u(r(A,T,A,T-i(T,N),!1,N).length,l("D",$))})(S,w,0,d,g,x)+s(w,d,g,x)+(function(A,T,j,F,N,$){let M;M=s(T,F,N,$).length>0?F-i(F,N):T;const L=F,D=(function(z,B,P,U,W,K){let Y;return Y=s(P,U,W,K).length>0?U-i(U,W):B,z<P&&Y<=U||z>=P&&Y<U?"C":"D"})(A,T,j,F,N,$);return u(r(A,M,j,L,D==="C",N).length,l(D,$))})(S,w,o,d,g,x);let b;if(w===d)return b=S>o?"D":"C",u(Math.abs(S-o),l(b,x));b=w>d?"D":"C";const k=Math.abs(w-d);return u((function(A,T){return T.cols-A})(w>d?o:S,g)+(k-1)*g.cols+1+((w>d?S:o)-1),l(b,x))}},1296:function(y,f,a){var c=this&&this.__decorate||function(N,$,M,L){var D,z=arguments.length,B=z<3?$:L===null?L=Object.getOwnPropertyDescriptor($,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,$,M,L);else for(var P=N.length-1;P>=0;P--)(D=N[P])&&(B=(z<3?D(B):z>3?D($,M,B):D($,M))||B);return z>3&&B&&Object.defineProperty($,M,B),B},s=this&&this.__param||function(N,$){return function(M,L){$(M,L,N)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRenderer=void 0;const i=a(3787),n=a(2550),r=a(2223),l=a(6171),u=a(4725),o=a(8055),d=a(8460),g=a(844),x=a(2585),S="xterm-dom-renderer-owner-",w="xterm-rows",b="xterm-fg-",k="xterm-bg-",A="xterm-focus",T="xterm-selection";let j=1,F=f.DomRenderer=class extends g.Disposable{constructor(N,$,M,L,D,z,B,P,U,W){super(),this._element=N,this._screenElement=$,this._viewportElement=M,this._linkifier2=L,this._charSizeService=z,this._optionsService=B,this._bufferService=P,this._coreBrowserService=U,this._themeService=W,this._terminalClass=j++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((K=>this._injectCss(K)))),this._injectCss(this._themeService.colors),this._rowFactory=D.createInstance(i.DomRendererRowFactory,document),this._element.classList.add(S+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((K=>this._handleLinkHover(K)))),this.register(this._linkifier2.onHideLinkUnderline((K=>this._handleLinkLeave(K)))),this.register((0,g.toDisposable)((()=>{this._element.classList.remove(S+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new n.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const N=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*N,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*N),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/N),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/N),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const M of this._rowElements)M.style.width=`${this.dimensions.css.canvas.width}px`,M.style.height=`${this.dimensions.css.cell.height}px`,M.style.lineHeight=`${this.dimensions.css.cell.height}px`,M.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const $=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(N){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let $=`${this._terminalSelector} .${w} { color: ${N.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;$+=`${this._terminalSelector} .${w} .xterm-dim { color: ${o.color.multiplyOpacity(N.foreground,.5).css};}`,$+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,$+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",$+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${N.cursor.css};  color: ${N.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${N.cursor.css}; }}`,$+=`${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${N.cursor.css}; color: ${N.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${N.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${N.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${N.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,$+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${N.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${N.selectionInactiveBackgroundOpaque.css};}`;for(const[M,L]of N.ansi.entries())$+=`${this._terminalSelector} .${b}${M} { color: ${L.css}; }${this._terminalSelector} .${b}${M}.xterm-dim { color: ${o.color.multiplyOpacity(L,.5).css}; }${this._terminalSelector} .${k}${M} { background-color: ${L.css}; }`;$+=`${this._terminalSelector} .${b}${r.INVERTED_DEFAULT_COLOR} { color: ${o.color.opaque(N.background).css}; }${this._terminalSelector} .${b}${r.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${o.color.multiplyOpacity(o.color.opaque(N.background),.5).css}; }${this._terminalSelector} .${k}${r.INVERTED_DEFAULT_COLOR} { background-color: ${N.foreground.css}; }`,this._themeStyleElement.textContent=$}_setDefaultSpacing(){const N=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${N}px`,this._rowFactory.defaultSpacing=N}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(N,$){for(let M=this._rowElements.length;M<=$;M++){const L=document.createElement("div");this._rowContainer.appendChild(L),this._rowElements.push(L)}for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(N,$){this._refreshRowElements(N,$),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(A)}handleFocus(){this._rowContainer.classList.add(A),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(N,$,M){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(N,$,M),this.renderRows(0,this._bufferService.rows-1),!N||!$)return;const L=N[1]-this._bufferService.buffer.ydisp,D=$[1]-this._bufferService.buffer.ydisp,z=Math.max(L,0),B=Math.min(D,this._bufferService.rows-1);if(z>=this._bufferService.rows||B<0)return;const P=document.createDocumentFragment();if(M){const U=N[0]>$[0];P.appendChild(this._createSelectionElement(z,U?$[0]:N[0],U?N[0]:$[0],B-z+1))}else{const U=L===z?N[0]:0,W=z===D?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(z,U,W));const K=B-z-1;if(P.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,K)),z!==B){const Y=D===B?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(B,0,Y))}}this._selectionContainer.appendChild(P)}_createSelectionElement(N,$,M,L=1){const D=document.createElement("div");return D.style.height=L*this.dimensions.css.cell.height+"px",D.style.top=N*this.dimensions.css.cell.height+"px",D.style.left=$*this.dimensions.css.cell.width+"px",D.style.width=this.dimensions.css.cell.width*(M-$)+"px",D}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const N of this._rowElements)N.replaceChildren()}renderRows(N,$){const M=this._bufferService.buffer,L=M.ybase+M.y,D=Math.min(M.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,B=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let U=N;U<=$;U++){const W=U+M.ydisp,K=this._rowElements[U],Y=M.lines.get(W);if(!K||!Y)break;K.replaceChildren(...this._rowFactory.createRow(Y,W,W===L,B,P,D,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${S}${this._terminalClass}`}_handleLinkHover(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!0)}_handleLinkLeave(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!1)}_setCellUnderline(N,$,M,L,D,z){M<0&&(N=0),L<0&&($=0);const B=this._bufferService.rows-1;M=Math.max(Math.min(M,B),0),L=Math.max(Math.min(L,B),0),D=Math.min(D,this._bufferService.cols);const P=this._bufferService.buffer,U=P.ybase+P.y,W=Math.min(P.x,D-1),K=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=M;q<=L;++q){const J=q+P.ydisp,V=this._rowElements[q],Q=P.lines.get(J);if(!V||!Q)break;V.replaceChildren(...this._rowFactory.createRow(Q,J,J===U,Y,X,W,K,this.dimensions.css.cell.width,this._widthCache,z?q===M?N:0:-1,z?(q===L?$:D)-1:-1))}}};f.DomRenderer=F=c([s(4,x.IInstantiationService),s(5,u.ICharSizeService),s(6,x.IOptionsService),s(7,x.IBufferService),s(8,u.ICoreBrowserService),s(9,u.IThemeService)],F)},3787:function(y,f,a){var c=this&&this.__decorate||function(b,k,A,T){var j,F=arguments.length,N=F<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,k,A,T);else for(var $=b.length-1;$>=0;$--)(j=b[$])&&(N=(F<3?j(N):F>3?j(k,A,N):j(k,A))||N);return F>3&&N&&Object.defineProperty(k,A,N),N},s=this&&this.__param||function(b,k){return function(A,T){k(A,T,b)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRendererRowFactory=void 0;const i=a(2223),n=a(643),r=a(511),l=a(2585),u=a(8055),o=a(4725),d=a(4269),g=a(6171),x=a(3734);let S=f.DomRendererRowFactory=class{constructor(b,k,A,T,j,F,N){this._document=b,this._characterJoinerService=k,this._optionsService=A,this._coreBrowserService=T,this._coreService=j,this._decorationService=F,this._themeService=N,this._workCell=new r.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(b,k,A){this._selectionStart=b,this._selectionEnd=k,this._columnSelectMode=A}createRow(b,k,A,T,j,F,N,$,M,L,D){const z=[],B=this._characterJoinerService.getJoinedCharacters(k),P=this._themeService.colors;let U,W=b.getNoBgTrimmedLength();A&&W<F+1&&(W=F+1);let K=0,Y="",X=0,q=0,J=0,V=!1,Q=0,te=!1,ne=0;const me=[],pe=L!==-1&&D!==-1;for(let Se=0;Se<W;Se++){b.loadCell(Se,this._workCell);let ke=this._workCell.getWidth();if(ke===0)continue;let Ae=!1,Ue=Se,we=this._workCell;if(B.length>0&&Se===B[0][0]){Ae=!0;const He=B.shift();we=new d.JoinedCellData(this._workCell,b.translateToString(!0,He[0],He[1]),He[1]-He[0]),Ue=He[1]-1,ke=we.getWidth()}const Ce=this._isCellInSelection(Se,k),at=A&&Se===F,$t=pe&&Se>=L&&Se<=D;let qt=!1;this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{qt=!0}));let Zt=we.getChars()||n.WHITESPACE_CELL_CHAR;if(Zt===" "&&(we.isUnderline()||we.isOverline())&&(Zt=""),ne=ke*$-M.get(Zt,we.isBold(),we.isItalic()),U){if(K&&(Ce&&te||!Ce&&!te&&we.bg===X)&&(Ce&&te&&P.selectionForeground||we.fg===q)&&we.extended.ext===J&&$t===V&&ne===Q&&!at&&!Ae&&!qt){Y+=Zt,K++;continue}K&&(U.textContent=Y),U=this._document.createElement("span"),K=0,Y=""}else U=this._document.createElement("span");if(X=we.bg,q=we.fg,J=we.extended.ext,V=$t,Q=ne,te=Ce,Ae&&F>=Se&&F<=Ue&&(F=Se),!this._coreService.isCursorHidden&&at){if(me.push("xterm-cursor"),this._coreBrowserService.isFocused)N&&me.push("xterm-cursor-blink"),me.push(T==="bar"?"xterm-cursor-bar":T==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":me.push("xterm-cursor-outline");break;case"block":me.push("xterm-cursor-block");break;case"bar":me.push("xterm-cursor-bar");break;case"underline":me.push("xterm-cursor-underline")}}if(we.isBold()&&me.push("xterm-bold"),we.isItalic()&&me.push("xterm-italic"),we.isDim()&&me.push("xterm-dim"),Y=we.isInvisible()?n.WHITESPACE_CELL_CHAR:we.getChars()||n.WHITESPACE_CELL_CHAR,we.isUnderline()&&(me.push(`xterm-underline-${we.extended.underlineStyle}`),Y===" "&&(Y=""),!we.isUnderlineColorDefault()))if(we.isUnderlineColorRGB())U.style.textDecorationColor=`rgb(${x.AttributeData.toColorRGB(we.getUnderlineColor()).join(",")})`;else{let He=we.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&we.isBold()&&He<8&&(He+=8),U.style.textDecorationColor=P.ansi[He].css}we.isOverline()&&(me.push("xterm-overline"),Y===" "&&(Y="")),we.isStrikethrough()&&me.push("xterm-strikethrough"),$t&&(U.style.textDecoration="underline");let mt=we.getFgColor(),Ze=we.getFgColorMode(),_t=we.getBgColor(),Dt=we.getBgColorMode();const xt=!!we.isInverse();if(xt){const He=mt;mt=_t,_t=He;const Tt=Ze;Ze=Dt,Dt=Tt}let pt,Kt,nt,rt=!1;switch(this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{He.options.layer!=="top"&&rt||(He.backgroundColorRGB&&(Dt=50331648,_t=He.backgroundColorRGB.rgba>>8&16777215,pt=He.backgroundColorRGB),He.foregroundColorRGB&&(Ze=50331648,mt=He.foregroundColorRGB.rgba>>8&16777215,Kt=He.foregroundColorRGB),rt=He.options.layer==="top")})),!rt&&Ce&&(pt=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,_t=pt.rgba>>8&16777215,Dt=50331648,rt=!0,P.selectionForeground&&(Ze=50331648,mt=P.selectionForeground.rgba>>8&16777215,Kt=P.selectionForeground)),rt&&me.push("xterm-decoration-top"),Dt){case 16777216:case 33554432:nt=P.ansi[_t],me.push(`xterm-bg-${_t}`);break;case 50331648:nt=u.rgba.toColor(_t>>16,_t>>8&255,255&_t),this._addStyle(U,`background-color:#${w((_t>>>0).toString(16),"0",6)}`);break;default:xt?(nt=P.foreground,me.push(`xterm-bg-${i.INVERTED_DEFAULT_COLOR}`)):nt=P.background}switch(pt||we.isDim()&&(pt=u.color.multiplyOpacity(nt,.5)),Ze){case 16777216:case 33554432:we.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(U,nt,P.ansi[mt],we,pt,void 0)||me.push(`xterm-fg-${mt}`);break;case 50331648:const He=u.rgba.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(U,nt,He,we,pt,Kt)||this._addStyle(U,`color:#${w(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(U,nt,P.foreground,we,pt,void 0)||xt&&me.push(`xterm-fg-${i.INVERTED_DEFAULT_COLOR}`)}me.length&&(U.className=me.join(" "),me.length=0),at||Ae||qt?U.textContent=Y:K++,ne!==this.defaultSpacing&&(U.style.letterSpacing=`${ne}px`),z.push(U),Se=Ue}return U&&K&&(U.textContent=Y),z}_applyMinimumContrast(b,k,A,T,j,F){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.excludeFromContrastRatioDemands)(T.getCode()))return!1;const N=this._getContrastCache(T);let $;if(j||F||($=N.getColor(k.rgba,A.rgba)),$===void 0){const M=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);$=u.color.ensureContrastRatio(j||k,F||A,M),N.setColor((j||k).rgba,(F||A).rgba,$??null)}return!!$&&(this._addStyle(b,`color:${$.css}`),!0)}_getContrastCache(b){return b.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(b,k){b.setAttribute("style",`${b.getAttribute("style")||""}${k};`)}_isCellInSelection(b,k){const A=this._selectionStart,T=this._selectionEnd;return!(!A||!T)&&(this._columnSelectMode?A[0]<=T[0]?b>=A[0]&&k>=A[1]&&b<T[0]&&k<=T[1]:b<A[0]&&k>=A[1]&&b>=T[0]&&k<=T[1]:k>A[1]&&k<T[1]||A[1]===T[1]&&k===A[1]&&b>=A[0]&&b<T[0]||A[1]<T[1]&&k===T[1]&&b<T[0]||A[1]<T[1]&&k===A[1]&&b>=A[0])}};function w(b,k,A){for(;b.length<A;)b=k+b;return b}f.DomRendererRowFactory=S=c([s(1,o.ICharacterJoinerService),s(2,l.IOptionsService),s(3,o.ICoreBrowserService),s(4,l.ICoreService),s(5,l.IDecorationService),s(6,o.IThemeService)],S)},2550:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WidthCache=void 0,f.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=a.createElement("span"),s=a.createElement("span");s.style.fontWeight="bold";const i=a.createElement("span");i.style.fontStyle="italic";const n=a.createElement("span");n.style.fontWeight="bold",n.style.fontStyle="italic",this._measureElements=[c,s,i,n],this._container.appendChild(c),this._container.appendChild(s),this._container.appendChild(i),this._container.appendChild(n),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,c,s,i){a===this._font&&c===this._fontSize&&s===this._weight&&i===this._weightBold||(this._font=a,this._fontSize=c,this._weight=s,this._weightBold=i,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${s}`,this._measureElements[1].style.fontWeight=`${i}`,this._measureElements[2].style.fontWeight=`${s}`,this._measureElements[3].style.fontWeight=`${i}`,this.clear())}get(a,c,s){let i=0;if(!c&&!s&&a.length===1&&(i=a.charCodeAt(0))<256)return this._flat[i]!==-9999?this._flat[i]:this._flat[i]=this._measure(a,0);let n=a;c&&(n+="B"),s&&(n+="I");let r=this._holey.get(n);if(r===void 0){let l=0;c&&(l|=1),s&&(l|=2),r=this._measure(a,l),this._holey.set(n,r)}return r}_measure(a,c){const s=this._measureElements[c];return s.textContent=a.repeat(32),s.offsetWidth/32}}},2223:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TEXT_BASELINE=f.DIM_OPACITY=f.INVERTED_DEFAULT_COLOR=void 0;const c=a(6114);f.INVERTED_DEFAULT_COLOR=257,f.DIM_OPACITY=.5,f.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(y,f)=>{function a(c){return 57508<=c&&c<=57558}Object.defineProperty(f,"__esModule",{value:!0}),f.createRenderDimensions=f.excludeFromContrastRatioDemands=f.isRestrictedPowerlineGlyph=f.isPowerlineGlyph=f.throwIfFalsy=void 0,f.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},f.isPowerlineGlyph=a,f.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},f.excludeFromContrastRatioDemands=function(c){return a(c)||(function(s){return 9472<=s&&s<=9631})(c)},f.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionModel=void 0,f.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,c=this.selectionEnd;return!(!a||!c)&&(a[1]>c[1]||a[1]===c[1]&&a[0]>c[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,f,a){var c=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharSizeService=void 0;const i=a(2585),n=a(8460),r=a(844);let l=f.CharSizeService=class extends r.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(o,d,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new n.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new u(o,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};f.CharSizeService=l=c([s(2,i.IOptionsService)],l);class u{constructor(d,g,x){this._document=d,this._parentElement=g,this._optionsService=x,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(y,f,a){var c=this&&this.__decorate||function(d,g,x,S){var w,b=arguments.length,k=b<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,g,x,S);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(b<3?w(k):b>3?w(g,x,k):w(g,x))||k);return b>3&&k&&Object.defineProperty(g,x,k),k},s=this&&this.__param||function(d,g){return function(x,S){g(x,S,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterJoinerService=f.JoinedCellData=void 0;const i=a(3734),n=a(643),r=a(511),l=a(2585);class u extends i.AttributeData{constructor(g,x,S){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=x,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.JoinedCellData=u;let o=f.CharacterJoinerService=class d0{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new r.CellData}register(g){const x={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(x),x.id}deregister(g){for(let x=0;x<this._characterJoiners.length;x++)if(this._characterJoiners[x].id===g)return this._characterJoiners.splice(x,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const x=this._bufferService.buffer.lines.get(g);if(!x||x.length===0)return[];const S=[],w=x.translateToString(!0);let b=0,k=0,A=0,T=x.getFg(0),j=x.getBg(0);for(let F=0;F<x.getTrimmedLength();F++)if(x.loadCell(F,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==j){if(F-b>1){const N=this._getJoinedRanges(w,A,k,x,b);for(let $=0;$<N.length;$++)S.push(N[$])}b=F,A=k,T=this._workCell.fg,j=this._workCell.bg}k+=this._workCell.getChars().length||n.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-b>1){const F=this._getJoinedRanges(w,A,k,x,b);for(let N=0;N<F.length;N++)S.push(F[N])}return S}_getJoinedRanges(g,x,S,w,b){const k=g.substring(x,S);let A=[];try{A=this._characterJoiners[0].handler(k)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const j=this._characterJoiners[T].handler(k);for(let F=0;F<j.length;F++)d0._mergeRanges(A,j[F])}catch(j){console.error(j)}return this._stringRangesToCellRanges(A,w,b),A}_stringRangesToCellRanges(g,x,S){let w=0,b=!1,k=0,A=g[w];if(A){for(let T=S;T<this._bufferService.cols;T++){const j=x.getWidth(T),F=x.getString(T).length||n.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!b&&A[0]<=k&&(A[0]=T,b=!0),A[1]<=k){if(A[1]=T,A=g[++w],!A)break;A[0]<=k?(A[0]=T,b=!0):b=!1}k+=F}}A&&(A[1]=this._bufferService.cols)}}static _mergeRanges(g,x){let S=!1;for(let w=0;w<g.length;w++){const b=g[w];if(S){if(x[1]<=b[0])return g[w-1][1]=x[1],g;if(x[1]<=b[1])return g[w-1][1]=Math.max(x[1],b[1]),g.splice(w,1),g;g.splice(w,1),w--}else{if(x[1]<=b[0])return g.splice(w,0,x),g;if(x[1]<=b[1])return b[0]=Math.min(x[0],b[0]),g;x[0]<b[1]&&(b[0]=Math.min(x[0],b[0]),S=!0)}}return S?g[g.length-1][1]=x[1]:g.push(x),g}};f.CharacterJoinerService=o=c([s(0,l.IBufferService)],o)},5114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreBrowserService=void 0,f.CoreBrowserService=class{constructor(a,c){this._textarea=a,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(y,f,a){var c=this&&this.__decorate||function(l,u,o,d){var g,x=arguments.length,S=x<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(l,u,o,d);else for(var w=l.length-1;w>=0;w--)(g=l[w])&&(S=(x<3?g(S):x>3?g(u,o,S):g(u,o))||S);return x>3&&S&&Object.defineProperty(u,o,S),S},s=this&&this.__param||function(l,u){return function(o,d){u(o,d,l)}};Object.defineProperty(f,"__esModule",{value:!0}),f.MouseService=void 0;const i=a(4725),n=a(9806);let r=f.MouseService=class{constructor(l,u){this._renderService=l,this._charSizeService=u}getCoords(l,u,o,d,g){return(0,n.getCoords)(window,l,u,o,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(l,u){const o=(0,n.getCoordsRelativeToElement)(window,l,u);if(this._charSizeService.hasValidSize)return o[0]=Math.min(Math.max(o[0],0),this._renderService.dimensions.css.canvas.width-1),o[1]=Math.min(Math.max(o[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};f.MouseService=r=c([s(0,i.IRenderService),s(1,i.ICharSizeService)],r)},3230:function(y,f,a){var c=this&&this.__decorate||function(S,w,b,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,b):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(S,w,b,k);else for(var F=S.length-1;F>=0;F--)(A=S[F])&&(j=(T<3?A(j):T>3?A(w,b,j):A(w,b))||j);return T>3&&j&&Object.defineProperty(w,b,j),j},s=this&&this.__param||function(S,w){return function(b,k){w(b,k,S)}};Object.defineProperty(f,"__esModule",{value:!0}),f.RenderService=void 0;const i=a(3656),n=a(6193),r=a(5596),l=a(4725),u=a(8460),o=a(844),d=a(7226),g=a(2585);let x=f.RenderService=class extends o.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(S,w,b,k,A,T,j,F){if(super(),this._rowCount=S,this._charSizeService=k,this._renderer=this.register(new o.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new u.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new u.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new u.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new u.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new n.RenderDebouncer(j.window,((N,$)=>this._renderRows(N,$))),this.register(this._renderDebouncer),this._screenDprMonitor=new r.ScreenDprMonitor(j.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var N;return(N=this._renderer.value)===null||N===void 0?void 0:N.clear()}))),this.register(b.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(A.onDecorationRegistered((()=>this._fullRefresh()))),this.register(A.onDecorationRemoved((()=>this._fullRefresh()))),this.register(b.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(b.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register((0,i.addDisposableDomListener)(j.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(F.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in j.window){const N=new j.window.IntersectionObserver(($=>this._handleIntersectionChange($[$.length-1])),{threshold:0});N.observe(w),this.register({dispose:()=>N.disconnect()})}}_handleIntersectionChange(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(S,w,b=!1){this._isPaused?this._needsFullRefresh=!0:(b||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,w,this._rowCount))}_renderRows(S,w){this._renderer.value&&(S=Math.min(S,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(S,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:S,end:w}),this._onRender.fire({start:S,end:w}),this._isNextRenderRedrawOnly=!0)}resize(S,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(S){this._renderer.value=S,this._renderer.value.onRequestRedraw((w=>this.refreshRows(w.start,w.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(S){return this._renderDebouncer.addRefreshCallback(S)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var S,w;this._renderer.value&&((w=(S=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(S),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(S,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(S,w))):this._renderer.value.handleResize(S,w),this._fullRefresh())}handleCharSizeChanged(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCharSizeChanged()}handleBlur(){var S;(S=this._renderer.value)===null||S===void 0||S.handleBlur()}handleFocus(){var S;(S=this._renderer.value)===null||S===void 0||S.handleFocus()}handleSelectionChanged(S,w,b){var k;this._selectionState.start=S,this._selectionState.end=w,this._selectionState.columnSelectMode=b,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(S,w,b)}handleCursorMove(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCursorMove()}clear(){var S;(S=this._renderer.value)===null||S===void 0||S.clear()}};f.RenderService=x=c([s(2,g.IOptionsService),s(3,l.ICharSizeService),s(4,g.IDecorationService),s(5,g.IBufferService),s(6,l.ICoreBrowserService),s(7,l.IThemeService)],x)},9312:function(y,f,a){var c=this&&this.__decorate||function(A,T,j,F){var N,$=arguments.length,M=$<3?T:F===null?F=Object.getOwnPropertyDescriptor(T,j):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(A,T,j,F);else for(var L=A.length-1;L>=0;L--)(N=A[L])&&(M=($<3?N(M):$>3?N(T,j,M):N(T,j))||M);return $>3&&M&&Object.defineProperty(T,j,M),M},s=this&&this.__param||function(A,T){return function(j,F){T(j,F,A)}};Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionService=void 0;const i=a(9806),n=a(9504),r=a(456),l=a(4725),u=a(8460),o=a(844),d=a(6114),g=a(4841),x=a(511),S=a(2585),w="",b=new RegExp(w,"g");let k=f.SelectionService=class extends o.Disposable{constructor(A,T,j,F,N,$,M,L,D){super(),this._element=A,this._screenElement=T,this._linkifier=j,this._bufferService=F,this._coreService=N,this._mouseService=$,this._optionsService=M,this._renderService=L,this._coreBrowserService=D,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new x.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new u.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new u.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new u.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new u.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((z=>this._handleTrim(z))),this.register(this._bufferService.buffers.onBufferActivate((z=>this._handleBufferActivate(z)))),this.enable(),this._model=new r.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!A||!T||A[0]===T[0]&&A[1]===T[1])}get selectionText(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!A||!T)return"";const j=this._bufferService.buffer,F=[];if(this._activeSelectionMode===3){if(A[0]===T[0])return"";const N=A[0]<T[0]?A[0]:T[0],$=A[0]<T[0]?T[0]:A[0];for(let M=A[1];M<=T[1];M++){const L=j.translateBufferLineToString(M,!0,N,$);F.push(L)}}else{const N=A[1]===T[1]?T[0]:void 0;F.push(j.translateBufferLineToString(A[1],!0,A[0],N));for(let $=A[1]+1;$<=T[1]-1;$++){const M=j.lines.get($),L=j.translateBufferLineToString($,!0);M?.isWrapped?F[F.length-1]+=L:F.push(L)}if(A[1]!==T[1]){const $=j.lines.get(T[1]),M=j.translateBufferLineToString(T[1],!0,0,T[0]);$&&$.isWrapped?F[F.length-1]+=M:F.push(M)}}return F.map((N=>N.replace(b," "))).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(A){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),d.isLinux&&A&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(A){const T=this._getMouseBufferCoords(A),j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(j&&F&&T)&&this._areCoordsInSelection(T,j,F)}isCellInSelection(A,T){const j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!j||!F)&&this._areCoordsInSelection([A,T],j,F)}_areCoordsInSelection(A,T,j){return A[1]>T[1]&&A[1]<j[1]||T[1]===j[1]&&A[1]===T[1]&&A[0]>=T[0]&&A[0]<j[0]||T[1]<j[1]&&A[1]===j[1]&&A[0]<j[0]||T[1]<j[1]&&A[1]===T[1]&&A[0]>=T[0]}_selectWordAtCursor(A,T){var j,F;const N=(F=(j=this._linkifier.currentLink)===null||j===void 0?void 0:j.link)===null||F===void 0?void 0:F.range;if(N)return this._model.selectionStart=[N.start.x-1,N.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(N,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const $=this._getMouseBufferCoords(A);return!!$&&(this._selectWordAt($,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(A,T){this._model.clearSelection(),A=Math.max(A,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,A],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(A){this._model.handleTrim(A)&&this.refresh()}_getMouseBufferCoords(A){const T=this._mouseService.getCoords(A,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(A){let T=(0,i.getCoordsRelativeToElement)(this._coreBrowserService.window,A,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=j?0:(T>j&&(T-=j),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(A){return d.isMac?A.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:A.shiftKey}handleMouseDown(A){if(this._mouseDownTimeStamp=A.timeStamp,(A.button!==2||!this.hasSelection)&&A.button===0){if(!this._enabled){if(!this.shouldForceSelection(A))return;A.stopPropagation()}A.preventDefault(),this._dragScrollAmount=0,this._enabled&&A.shiftKey?this._handleIncrementalClick(A):A.detail===1?this._handleSingleClick(A):A.detail===2?this._handleDoubleClick(A):A.detail===3&&this._handleTripleClick(A),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(A){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(A))}_handleSingleClick(A){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(A)?3:0,this._model.selectionStart=this._getMouseBufferCoords(A),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(A){this._selectWordAtCursor(A,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(A){const T=this._getMouseBufferCoords(A);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(A){return A.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(A){if(A.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(A),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(A),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const F=j.lines.get(this._model.selectionEnd[1]);F&&F.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const A=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(A.ydisp+this._bufferService.rows,A.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=A.ydisp),this.refresh()}}_handleMouseUp(A){const T=A.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&A.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(A,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const F=(0,n.moveToCellSequence)(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,j=!(!A||!T||A[0]===T[0]&&A[1]===T[1]);j?A&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&A[0]===this._oldSelectionStart[0]&&A[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(A,T,j)):this._oldHasSelection&&this._fireOnSelectionChange(A,T,j)}_fireOnSelectionChange(A,T,j){this._oldSelectionStart=A,this._oldSelectionEnd=T,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(A){this.clearSelection(),this._trimListener.dispose(),this._trimListener=A.activeBuffer.lines.onTrim((T=>this._handleTrim(T)))}_convertViewportColToCharacterIndex(A,T){let j=T;for(let F=0;T>=F;F++){const N=A.loadCell(F,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:N>1&&T!==F&&(j+=N-1)}return j}setSelection(A,T,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[A,T],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(A){this._isClickInSelection(A)||(this._selectWordAtCursor(A,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(A,T,j=!0,F=!0){if(A[0]>=this._bufferService.cols)return;const N=this._bufferService.buffer,$=N.lines.get(A[1]);if(!$)return;const M=N.translateBufferLineToString(A[1],!1);let L=this._convertViewportColToCharacterIndex($,A[0]),D=L;const z=A[0]-L;let B=0,P=0,U=0,W=0;if(M.charAt(L)===" "){for(;L>0&&M.charAt(L-1)===" ";)L--;for(;D<M.length&&M.charAt(D+1)===" ";)D++}else{let X=A[0],q=A[0];$.getWidth(X)===0&&(B++,X--),$.getWidth(q)===2&&(P++,q++);const J=$.getString(q).length;for(J>1&&(W+=J-1,D+=J-1);X>0&&L>0&&!this._isCharWordSeparator($.loadCell(X-1,this._workCell));){$.loadCell(X-1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===0?(B++,X--):V>1&&(U+=V-1,L-=V-1),L--,X--}for(;q<$.length&&D+1<M.length&&!this._isCharWordSeparator($.loadCell(q+1,this._workCell));){$.loadCell(q+1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,q++):V>1&&(W+=V-1,D+=V-1),D++,q++}}D++;let K=L+z-B+U,Y=Math.min(this._bufferService.cols,D-L+B+P-U-W);if(T||M.slice(L,D).trim()!==""){if(j&&K===0&&$.getCodePoint(0)!==32){const X=N.lines.get(A[1]-1);if(X&&$.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,A[1]-1],!1,!0,!1);if(q){const J=this._bufferService.cols-q.start;K-=J,Y+=J}}}if(F&&K+Y===this._bufferService.cols&&$.getCodePoint(this._bufferService.cols-1)!==32){const X=N.lines.get(A[1]+1);if(X?.isWrapped&&X.getCodePoint(0)!==32){const q=this._getWordAt([0,A[1]+1],!1,!1,!0);q&&(Y+=q.length)}}return{start:K,length:Y}}}_selectWordAt(A,T){const j=this._getWordAt(A,T);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,A[1]--;this._model.selectionStart=[j.start,A[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(A){const T=this._getWordAt(A,!0);if(T){let j=A[1];for(;T.start<0;)T.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,j]}}_isCharWordSeparator(A){return A.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(A.getChars())>=0}_selectLineAt(A){const T=this._bufferService.buffer.getWrappedRangeForLine(A),j={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(j,this._bufferService.cols)}};f.SelectionService=k=c([s(3,S.IBufferService),s(4,S.ICoreService),s(5,l.IMouseService),s(6,S.IOptionsService),s(7,l.IRenderService),s(8,l.ICoreBrowserService)],k)},4725:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IThemeService=f.ICharacterJoinerService=f.ISelectionService=f.IRenderService=f.IMouseService=f.ICoreBrowserService=f.ICharSizeService=void 0;const c=a(8343);f.ICharSizeService=(0,c.createDecorator)("CharSizeService"),f.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),f.IMouseService=(0,c.createDecorator)("MouseService"),f.IRenderService=(0,c.createDecorator)("RenderService"),f.ISelectionService=(0,c.createDecorator)("SelectionService"),f.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),f.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(y,f,a){var c=this&&this.__decorate||function(k,A,T,j){var F,N=arguments.length,$=N<3?A:j===null?j=Object.getOwnPropertyDescriptor(A,T):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(k,A,T,j);else for(var M=k.length-1;M>=0;M--)(F=k[M])&&($=(N<3?F($):N>3?F(A,T,$):F(A,T))||$);return N>3&&$&&Object.defineProperty(A,T,$),$},s=this&&this.__param||function(k,A){return function(T,j){A(T,j,k)}};Object.defineProperty(f,"__esModule",{value:!0}),f.ThemeService=f.DEFAULT_ANSI_COLORS=void 0;const i=a(7239),n=a(8055),r=a(8460),l=a(844),u=a(2585),o=n.css.toColor("#ffffff"),d=n.css.toColor("#000000"),g=n.css.toColor("#ffffff"),x=n.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};f.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],A=[0,95,135,175,215,255];for(let T=0;T<216;T++){const j=A[T/36%6|0],F=A[T/6%6|0],N=A[T%6];k.push({css:n.channels.toCss(j,F,N),rgba:n.channels.toRgba(j,F,N)})}for(let T=0;T<24;T++){const j=8+10*T;k.push({css:n.channels.toCss(j,j,j),rgba:n.channels.toRgba(j,j,j)})}return k})());let w=f.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new i.ColorContrastCache,this._halfContrastCache=new i.ColorContrastCache,this._onChangeColors=this.register(new r.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:o,background:d,cursor:g,cursorAccent:x,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:n.color.blend(d,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:n.color.blend(d,S),ansi:f.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(k={}){const A=this._colors;if(A.foreground=b(k.foreground,o),A.background=b(k.background,d),A.cursor=b(k.cursor,g),A.cursorAccent=b(k.cursorAccent,x),A.selectionBackgroundTransparent=b(k.selectionBackground,S),A.selectionBackgroundOpaque=n.color.blend(A.background,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundTransparent=b(k.selectionInactiveBackground,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundOpaque=n.color.blend(A.background,A.selectionInactiveBackgroundTransparent),A.selectionForeground=k.selectionForeground?b(k.selectionForeground,n.NULL_COLOR):void 0,A.selectionForeground===n.NULL_COLOR&&(A.selectionForeground=void 0),n.color.isOpaque(A.selectionBackgroundTransparent)&&(A.selectionBackgroundTransparent=n.color.opacity(A.selectionBackgroundTransparent,.3)),n.color.isOpaque(A.selectionInactiveBackgroundTransparent)&&(A.selectionInactiveBackgroundTransparent=n.color.opacity(A.selectionInactiveBackgroundTransparent,.3)),A.ansi=f.DEFAULT_ANSI_COLORS.slice(),A.ansi[0]=b(k.black,f.DEFAULT_ANSI_COLORS[0]),A.ansi[1]=b(k.red,f.DEFAULT_ANSI_COLORS[1]),A.ansi[2]=b(k.green,f.DEFAULT_ANSI_COLORS[2]),A.ansi[3]=b(k.yellow,f.DEFAULT_ANSI_COLORS[3]),A.ansi[4]=b(k.blue,f.DEFAULT_ANSI_COLORS[4]),A.ansi[5]=b(k.magenta,f.DEFAULT_ANSI_COLORS[5]),A.ansi[6]=b(k.cyan,f.DEFAULT_ANSI_COLORS[6]),A.ansi[7]=b(k.white,f.DEFAULT_ANSI_COLORS[7]),A.ansi[8]=b(k.brightBlack,f.DEFAULT_ANSI_COLORS[8]),A.ansi[9]=b(k.brightRed,f.DEFAULT_ANSI_COLORS[9]),A.ansi[10]=b(k.brightGreen,f.DEFAULT_ANSI_COLORS[10]),A.ansi[11]=b(k.brightYellow,f.DEFAULT_ANSI_COLORS[11]),A.ansi[12]=b(k.brightBlue,f.DEFAULT_ANSI_COLORS[12]),A.ansi[13]=b(k.brightMagenta,f.DEFAULT_ANSI_COLORS[13]),A.ansi[14]=b(k.brightCyan,f.DEFAULT_ANSI_COLORS[14]),A.ansi[15]=b(k.brightWhite,f.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const T=Math.min(A.ansi.length-16,k.extendedAnsi.length);for(let j=0;j<T;j++)A.ansi[j+16]=b(k.extendedAnsi[j],f.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let A=0;A<this._restoreColors.ansi.length;++A)this._colors.ansi[A]=this._restoreColors.ansi[A]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function b(k,A){if(k!==void 0)try{return n.css.toColor(k)}catch{}return A}f.ThemeService=w=c([s(0,u.IOptionsService)],w)},6349:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CircularList=void 0;const c=a(8460),s=a(844);class i extends s.Disposable{constructor(r){super(),this._maxLength=r,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(r){if(this._maxLength===r)return;const l=new Array(r);for(let u=0;u<Math.min(r,this.length);u++)l[u]=this._array[this._getCyclicIndex(u)];this._array=l,this._maxLength=r,this._startIndex=0}get length(){return this._length}set length(r){if(r>this._length)for(let l=this._length;l<r;l++)this._array[l]=void 0;this._length=r}get(r){return this._array[this._getCyclicIndex(r)]}set(r,l){this._array[this._getCyclicIndex(r)]=l}push(r){this._array[this._getCyclicIndex(this._length)]=r,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(r,l,...u){if(l){for(let o=r;o<this._length-l;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+l)];this._length-=l,this.onDeleteEmitter.fire({index:r,amount:l})}for(let o=this._length-1;o>=r;o--)this._array[this._getCyclicIndex(o+u.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<u.length;o++)this._array[this._getCyclicIndex(r+o)]=u[o];if(u.length&&this.onInsertEmitter.fire({index:r,amount:u.length}),this._length+u.length>this._maxLength){const o=this._length+u.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=u.length}trimStart(r){r>this._length&&(r=this._length),this._startIndex+=r,this._length-=r,this.onTrimEmitter.fire(r)}shiftElements(r,l,u){if(!(l<=0)){if(r<0||r>=this._length)throw new Error("start argument out of range");if(r+u<0)throw new Error("Cannot shift elements in list beyond index 0");if(u>0){for(let d=l-1;d>=0;d--)this.set(r+d+u,this.get(r+d));const o=r+l+u-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<l;o++)this.set(r+o+u,this.get(r+o))}}_getCyclicIndex(r){return(this._startIndex+r)%this._maxLength}}f.CircularList=i},1439:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clone=void 0,f.clone=function a(c,s=5){if(typeof c!="object")return c;const i=Array.isArray(c)?[]:{};for(const n in c)i[n]=s<=1?c[n]:c[n]&&a(c[n],s-1);return i}},8055:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.contrastRatio=f.toPaddedHex=f.rgba=f.rgb=f.css=f.color=f.channels=f.NULL_COLOR=void 0;const c=a(6114);let s=0,i=0,n=0,r=0;var l,u,o,d,g;function x(w){const b=w.toString(16);return b.length<2?"0"+b:b}function S(w,b){return w<b?(b+.05)/(w+.05):(w+.05)/(b+.05)}f.NULL_COLOR={css:"#00000000",rgba:0},(function(w){w.toCss=function(b,k,A,T){return T!==void 0?`#${x(b)}${x(k)}${x(A)}${x(T)}`:`#${x(b)}${x(k)}${x(A)}`},w.toRgba=function(b,k,A,T=255){return(b<<24|k<<16|A<<8|T)>>>0}})(l||(f.channels=l={})),(function(w){function b(k,A){return r=Math.round(255*A),[s,i,n]=g.toChannels(k.rgba),{css:l.toCss(s,i,n,r),rgba:l.toRgba(s,i,n,r)}}w.blend=function(k,A){if(r=(255&A.rgba)/255,r===1)return{css:A.css,rgba:A.rgba};const T=A.rgba>>24&255,j=A.rgba>>16&255,F=A.rgba>>8&255,N=k.rgba>>24&255,$=k.rgba>>16&255,M=k.rgba>>8&255;return s=N+Math.round((T-N)*r),i=$+Math.round((j-$)*r),n=M+Math.round((F-M)*r),{css:l.toCss(s,i,n),rgba:l.toRgba(s,i,n)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,A,T){const j=g.ensureContrastRatio(k.rgba,A.rgba,T);if(j)return g.toColor(j>>24&255,j>>16&255,j>>8&255)},w.opaque=function(k){const A=(255|k.rgba)>>>0;return[s,i,n]=g.toChannels(A),{css:l.toCss(s,i,n),rgba:A}},w.opacity=b,w.multiplyOpacity=function(k,A){return r=255&k.rgba,b(k,r*A/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}})(u||(f.color=u={})),(function(w){let b,k;if(!c.isNode){const A=document.createElement("canvas");A.width=1,A.height=1;const T=A.getContext("2d",{willReadFrequently:!0});T&&(b=T,b.globalCompositeOperation="copy",k=b.createLinearGradient(0,0,1,1))}w.toColor=function(A){if(A.match(/#[\da-f]{3,8}/i))switch(A.length){case 4:return s=parseInt(A.slice(1,2).repeat(2),16),i=parseInt(A.slice(2,3).repeat(2),16),n=parseInt(A.slice(3,4).repeat(2),16),g.toColor(s,i,n);case 5:return s=parseInt(A.slice(1,2).repeat(2),16),i=parseInt(A.slice(2,3).repeat(2),16),n=parseInt(A.slice(3,4).repeat(2),16),r=parseInt(A.slice(4,5).repeat(2),16),g.toColor(s,i,n,r);case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}const T=A.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return s=parseInt(T[1]),i=parseInt(T[2]),n=parseInt(T[3]),r=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),g.toColor(s,i,n,r);if(!b||!k)throw new Error("css.toColor: Unsupported css format");if(b.fillStyle=k,b.fillStyle=A,typeof b.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(b.fillRect(0,0,1,1),[s,i,n,r]=b.getImageData(0,0,1,1).data,r!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(s,i,n,r),css:A}}})(o||(f.css=o={})),(function(w){function b(k,A,T){const j=k/255,F=A/255,N=T/255;return .2126*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.7152*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))+.0722*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))}w.relativeLuminance=function(k){return b(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=b})(d||(f.rgb=d={})),(function(w){function b(A,T,j){const F=A>>24&255,N=A>>16&255,$=A>>8&255;let M=T>>24&255,L=T>>16&255,D=T>>8&255,z=S(d.relativeLuminance2(M,L,D),d.relativeLuminance2(F,N,$));for(;z<j&&(M>0||L>0||D>0);)M-=Math.max(0,Math.ceil(.1*M)),L-=Math.max(0,Math.ceil(.1*L)),D-=Math.max(0,Math.ceil(.1*D)),z=S(d.relativeLuminance2(M,L,D),d.relativeLuminance2(F,N,$));return(M<<24|L<<16|D<<8|255)>>>0}function k(A,T,j){const F=A>>24&255,N=A>>16&255,$=A>>8&255;let M=T>>24&255,L=T>>16&255,D=T>>8&255,z=S(d.relativeLuminance2(M,L,D),d.relativeLuminance2(F,N,$));for(;z<j&&(M<255||L<255||D<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),L=Math.min(255,L+Math.ceil(.1*(255-L))),D=Math.min(255,D+Math.ceil(.1*(255-D))),z=S(d.relativeLuminance2(M,L,D),d.relativeLuminance2(F,N,$));return(M<<24|L<<16|D<<8|255)>>>0}w.ensureContrastRatio=function(A,T,j){const F=d.relativeLuminance(A>>8),N=d.relativeLuminance(T>>8);if(S(F,N)<j){if(N<F){const L=b(A,T,j),D=S(F,d.relativeLuminance(L>>8));if(D<j){const z=k(A,T,j);return D>S(F,d.relativeLuminance(z>>8))?L:z}return L}const $=k(A,T,j),M=S(F,d.relativeLuminance($>>8));if(M<j){const L=b(A,T,j);return M>S(F,d.relativeLuminance(L>>8))?$:L}return $}},w.reduceLuminance=b,w.increaseLuminance=k,w.toChannels=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]},w.toColor=function(A,T,j,F){return{css:l.toCss(A,T,j,F),rgba:l.toRgba(A,T,j,F)}}})(g||(f.rgba=g={})),f.toPaddedHex=x,f.contrastRatio=S},8969:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreTerminal=void 0;const c=a(844),s=a(2585),i=a(4348),n=a(7866),r=a(744),l=a(7302),u=a(6975),o=a(8460),d=a(1753),g=a(1480),x=a(7994),S=a(9282),w=a(5435),b=a(5981),k=a(2660);let A=!1;class T extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event((F=>{var N;(N=this._onScrollApi)===null||N===void 0||N.fire(F.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const N in F)this.optionsService.options[N]=F[N]}constructor(F){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new i.InstantiationService,this.optionsService=this.register(new l.OptionsService(F)),this._instantiationService.setService(s.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(r.BufferService)),this._instantiationService.setService(s.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(n.LogService)),this._instantiationService.setService(s.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(u.CoreService)),this._instantiationService.setService(s.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(s.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(s.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(x.CharsetService),this._instantiationService.setService(s.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(s.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((N=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((N=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new b.WriteBuffer(((N,$)=>this._inputHandler.parse(N,$)))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(F,N){this._writeBuffer.write(F,N)}writeSync(F,N){this._logService.logLevel<=s.LogLevelEnum.WARN&&!A&&(this._logService.warn("writeSync is unreliable and will be removed soon."),A=!0),this._writeBuffer.writeSync(F,N)}resize(F,N){isNaN(F)||isNaN(N)||(F=Math.max(F,r.MINIMUM_COLS),N=Math.max(N,r.MINIMUM_ROWS),this._bufferService.resize(F,N))}scroll(F,N=!1){this._bufferService.scroll(F,N)}scrollLines(F,N,$){this._bufferService.scrollLines(F,N,$)}scrollPages(F){this.scrollLines(F*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(F){const N=F-this._bufferService.buffer.ydisp;N!==0&&this.scrollLines(N)}registerEscHandler(F,N){return this._inputHandler.registerEscHandler(F,N)}registerDcsHandler(F,N){return this._inputHandler.registerDcsHandler(F,N)}registerCsiHandler(F,N){return this._inputHandler.registerCsiHandler(F,N)}registerOscHandler(F,N){return this._inputHandler.registerOscHandler(F,N)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let F=!1;const N=this.optionsService.rawOptions.windowsPty;N&&N.buildNumber!==void 0&&N.buildNumber!==void 0?F=N.backend==="conpty"&&N.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(F=!0),F?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const F=[];F.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},(()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)((()=>{for(const N of F)N.dispose()}))}}}f.CoreTerminal=T},8460:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.forwardEvent=f.EventEmitter=void 0,f.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===a)return void this._listeners.splice(c,1)}}})),this._event}fire(a,c){const s=[];for(let i=0;i<this._listeners.length;i++)s.push(this._listeners[i]);for(let i=0;i<s.length;i++)s[i].call(void 0,a,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},f.forwardEvent=function(a,c){return a((s=>c.fire(s)))}},5435:function(y,f,a){var c=this&&this.__decorate||function(z,B,P,U){var W,K=arguments.length,Y=K<3?B:U===null?U=Object.getOwnPropertyDescriptor(B,P):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(z,B,P,U);else for(var X=z.length-1;X>=0;X--)(W=z[X])&&(Y=(K<3?W(Y):K>3?W(B,P,Y):W(B,P))||Y);return K>3&&Y&&Object.defineProperty(B,P,Y),Y},s=this&&this.__param||function(z,B){return function(P,U){B(P,U,z)}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputHandler=f.WindowsOptionsReportType=void 0;const i=a(2584),n=a(7116),r=a(2015),l=a(844),u=a(482),o=a(8437),d=a(8460),g=a(643),x=a(511),S=a(3734),w=a(2585),b=a(6242),k=a(6351),A=a(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},j=131072;function F(z,B){if(z>24)return B.setWinLines||!1;switch(z){case 1:return!!B.restoreWin;case 2:return!!B.minimizeWin;case 3:return!!B.setWinPosition;case 4:return!!B.setWinSizePixels;case 5:return!!B.raiseWin;case 6:return!!B.lowerWin;case 7:return!!B.refreshWin;case 8:return!!B.setWinSizeChars;case 9:return!!B.maximizeWin;case 10:return!!B.fullscreenWin;case 11:return!!B.getWinState;case 13:return!!B.getWinPosition;case 14:return!!B.getWinSizePixels;case 15:return!!B.getScreenSizePixels;case 16:return!!B.getCellSizePixels;case 18:return!!B.getWinSizeChars;case 19:return!!B.getScreenSizeChars;case 20:return!!B.getIconTitle;case 21:return!!B.getWinTitle;case 22:return!!B.pushTitle;case 23:return!!B.popTitle;case 24:return!!B.setWinLines}return!1}var N;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(N||(f.WindowsOptionsReportType=N={}));let $=0;class M extends l.Disposable{getAttrData(){return this._curAttrData}constructor(B,P,U,W,K,Y,X,q,J=new r.EscapeSequenceParser){super(),this._bufferService=B,this._charsetService=P,this._coreService=U,this._logService=W,this._optionsService=K,this._oscLinkService=Y,this._coreMouseService=X,this._unicodeService=q,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new u.StringToUtf32,this._utf8Decoder=new u.Utf8ToUtf32,this._workCell=new x.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new L(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((V=>this._activeBuffer=V.activeBuffer))),this._parser.setCsiHandlerFallback(((V,Q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(V),params:Q.toArray()})})),this._parser.setEscHandlerFallback((V=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(V)})})),this._parser.setExecuteHandlerFallback((V=>{this._logService.debug("Unknown EXECUTE code: ",{code:V})})),this._parser.setOscHandlerFallback(((V,Q,te)=>{this._logService.debug("Unknown OSC code: ",{identifier:V,action:Q,data:te})})),this._parser.setDcsHandlerFallback(((V,Q,te)=>{Q==="HOOK"&&(te=te.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(V),action:Q,payload:te})})),this._parser.setPrintHandler(((V,Q,te)=>this.print(V,Q,te))),this._parser.registerCsiHandler({final:"@"},(V=>this.insertChars(V))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(V=>this.scrollLeft(V))),this._parser.registerCsiHandler({final:"A"},(V=>this.cursorUp(V))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(V=>this.scrollRight(V))),this._parser.registerCsiHandler({final:"B"},(V=>this.cursorDown(V))),this._parser.registerCsiHandler({final:"C"},(V=>this.cursorForward(V))),this._parser.registerCsiHandler({final:"D"},(V=>this.cursorBackward(V))),this._parser.registerCsiHandler({final:"E"},(V=>this.cursorNextLine(V))),this._parser.registerCsiHandler({final:"F"},(V=>this.cursorPrecedingLine(V))),this._parser.registerCsiHandler({final:"G"},(V=>this.cursorCharAbsolute(V))),this._parser.registerCsiHandler({final:"H"},(V=>this.cursorPosition(V))),this._parser.registerCsiHandler({final:"I"},(V=>this.cursorForwardTab(V))),this._parser.registerCsiHandler({final:"J"},(V=>this.eraseInDisplay(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(V=>this.eraseInDisplay(V,!0))),this._parser.registerCsiHandler({final:"K"},(V=>this.eraseInLine(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(V=>this.eraseInLine(V,!0))),this._parser.registerCsiHandler({final:"L"},(V=>this.insertLines(V))),this._parser.registerCsiHandler({final:"M"},(V=>this.deleteLines(V))),this._parser.registerCsiHandler({final:"P"},(V=>this.deleteChars(V))),this._parser.registerCsiHandler({final:"S"},(V=>this.scrollUp(V))),this._parser.registerCsiHandler({final:"T"},(V=>this.scrollDown(V))),this._parser.registerCsiHandler({final:"X"},(V=>this.eraseChars(V))),this._parser.registerCsiHandler({final:"Z"},(V=>this.cursorBackwardTab(V))),this._parser.registerCsiHandler({final:"`"},(V=>this.charPosAbsolute(V))),this._parser.registerCsiHandler({final:"a"},(V=>this.hPositionRelative(V))),this._parser.registerCsiHandler({final:"b"},(V=>this.repeatPrecedingCharacter(V))),this._parser.registerCsiHandler({final:"c"},(V=>this.sendDeviceAttributesPrimary(V))),this._parser.registerCsiHandler({prefix:">",final:"c"},(V=>this.sendDeviceAttributesSecondary(V))),this._parser.registerCsiHandler({final:"d"},(V=>this.linePosAbsolute(V))),this._parser.registerCsiHandler({final:"e"},(V=>this.vPositionRelative(V))),this._parser.registerCsiHandler({final:"f"},(V=>this.hVPosition(V))),this._parser.registerCsiHandler({final:"g"},(V=>this.tabClear(V))),this._parser.registerCsiHandler({final:"h"},(V=>this.setMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(V=>this.setModePrivate(V))),this._parser.registerCsiHandler({final:"l"},(V=>this.resetMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(V=>this.resetModePrivate(V))),this._parser.registerCsiHandler({final:"m"},(V=>this.charAttributes(V))),this._parser.registerCsiHandler({final:"n"},(V=>this.deviceStatus(V))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(V=>this.deviceStatusPrivate(V))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(V=>this.softReset(V))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(V=>this.setCursorStyle(V))),this._parser.registerCsiHandler({final:"r"},(V=>this.setScrollRegion(V))),this._parser.registerCsiHandler({final:"s"},(V=>this.saveCursor(V))),this._parser.registerCsiHandler({final:"t"},(V=>this.windowOptions(V))),this._parser.registerCsiHandler({final:"u"},(V=>this.restoreCursor(V))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(V=>this.insertColumns(V))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(V=>this.deleteColumns(V))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(V=>this.selectProtected(V))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(V=>this.requestMode(V,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(V=>this.requestMode(V,!1))),this._parser.setExecuteHandler(i.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(i.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(i.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(i.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(i.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(i.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(i.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(i.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(i.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(i.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(i.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(i.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new b.OscHandler((V=>(this.setTitle(V),this.setIconName(V),!0)))),this._parser.registerOscHandler(1,new b.OscHandler((V=>this.setIconName(V)))),this._parser.registerOscHandler(2,new b.OscHandler((V=>this.setTitle(V)))),this._parser.registerOscHandler(4,new b.OscHandler((V=>this.setOrReportIndexedColor(V)))),this._parser.registerOscHandler(8,new b.OscHandler((V=>this.setHyperlink(V)))),this._parser.registerOscHandler(10,new b.OscHandler((V=>this.setOrReportFgColor(V)))),this._parser.registerOscHandler(11,new b.OscHandler((V=>this.setOrReportBgColor(V)))),this._parser.registerOscHandler(12,new b.OscHandler((V=>this.setOrReportCursorColor(V)))),this._parser.registerOscHandler(104,new b.OscHandler((V=>this.restoreIndexedColor(V)))),this._parser.registerOscHandler(110,new b.OscHandler((V=>this.restoreFgColor(V)))),this._parser.registerOscHandler(111,new b.OscHandler((V=>this.restoreBgColor(V)))),this._parser.registerOscHandler(112,new b.OscHandler((V=>this.restoreCursorColor(V)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const V in n.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:V},(()=>this.selectCharset("("+V))),this._parser.registerEscHandler({intermediates:")",final:V},(()=>this.selectCharset(")"+V))),this._parser.registerEscHandler({intermediates:"*",final:V},(()=>this.selectCharset("*"+V))),this._parser.registerEscHandler({intermediates:"+",final:V},(()=>this.selectCharset("+"+V))),this._parser.registerEscHandler({intermediates:"-",final:V},(()=>this.selectCharset("-"+V))),this._parser.registerEscHandler({intermediates:".",final:V},(()=>this.selectCharset("."+V))),this._parser.registerEscHandler({intermediates:"/",final:V},(()=>this.selectCharset("/"+V)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((V=>(this._logService.error("Parsing error: ",V),V))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler(((V,Q)=>this.requestStatusString(V,Q))))}_preserveStack(B,P,U,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=B,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=U,this._parseStack.position=W}_logSlowResolvingAsync(B){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([B,new Promise(((P,U)=>setTimeout((()=>U("#SLOW_TIMEOUT")),5e3)))]).catch((P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(B,P){let U,W=this._activeBuffer.x,K=this._activeBuffer.y,Y=0;const X=this._parseStack.paused;if(X){if(U=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(U),U;W=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,B.length>j&&(Y=this._parseStack.position+j)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof B=="string"?` "${B}"`:` "${Array.prototype.map.call(B,(q=>String.fromCharCode(q))).join("")}"`),typeof B=="string"?B.split("").map((q=>q.charCodeAt(0))):B),this._parseBuffer.length<B.length&&this._parseBuffer.length<j&&(this._parseBuffer=new Uint32Array(Math.min(B.length,j))),X||this._dirtyRowTracker.clearRange(),B.length>j)for(let q=Y;q<B.length;q+=j){const J=q+j<B.length?q+j:B.length,V=typeof B=="string"?this._stringDecoder.decode(B.substring(q,J),this._parseBuffer):this._utf8Decoder.decode(B.subarray(q,J),this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,V))return this._preserveStack(W,K,V,q),this._logSlowResolvingAsync(U),U}else if(!X){const q=typeof B=="string"?this._stringDecoder.decode(B,this._parseBuffer):this._utf8Decoder.decode(B,this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,q))return this._preserveStack(W,K,q,0),this._logSlowResolvingAsync(U),U}this._activeBuffer.x===W&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(B,P,U){let W,K;const Y=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,q=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,V=this._coreService.modes.insertMode,Q=this._curAttrData;let te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&U-P>0&&te.getWidth(this._activeBuffer.x-1)===2&&te.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Q.fg,Q.bg,Q.extended);for(let ne=P;ne<U;++ne){if(W=B[ne],K=this._unicodeService.wcwidth(W),W<127&&Y){const me=Y[String.fromCharCode(W)];me&&(W=me.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,u.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=q){if(J){for(;this._activeBuffer.x<q;)te.setCellFromCodePoint(this._activeBuffer.x++,0,1,Q.fg,Q.bg,Q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=q-1,K===2)continue}if(V&&(te.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(Q),Q),te.getWidth(q-1)===2&&te.setCellFromCodePoint(q-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,Q.fg,Q.bg,Q.extended)),te.setCellFromCodePoint(this._activeBuffer.x++,W,K,Q.fg,Q.bg,Q.extended),K>0)for(;--K;)te.setCellFromCodePoint(this._activeBuffer.x++,0,0,Q.fg,Q.bg,Q.extended)}else te.getWidth(this._activeBuffer.x-1)?te.addCodepointToCell(this._activeBuffer.x-1,W):te.addCodepointToCell(this._activeBuffer.x-2,W)}U-P>0&&(te.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<q&&U-P>0&&te.getWidth(this._activeBuffer.x)===0&&!te.hasContent(this._activeBuffer.x)&&te.setCellFromCodePoint(this._activeBuffer.x,0,1,Q.fg,Q.bg,Q.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(B,P){return B.final!=="t"||B.prefix||B.intermediates?this._parser.registerCsiHandler(B,P):this._parser.registerCsiHandler(B,(U=>!F(U.params[0],this._optionsService.rawOptions.windowOptions)||P(U)))}registerDcsHandler(B,P){return this._parser.registerDcsHandler(B,new k.DcsHandler(P))}registerEscHandler(B,P){return this._parser.registerEscHandler(B,P)}registerOscHandler(B,P){return this._parser.registerOscHandler(B,new b.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var B;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||B===void 0)&&B.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const B=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-B),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(B=this._bufferService.cols-1){this._activeBuffer.x=Math.min(B,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(B,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=B,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=B,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(B,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+B,this._activeBuffer.y+P)}cursorUp(B){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,B.params[0]||1)):this._moveCursor(0,-(B.params[0]||1)),!0}cursorDown(B){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,B.params[0]||1)):this._moveCursor(0,B.params[0]||1),!0}cursorForward(B){return this._moveCursor(B.params[0]||1,0),!0}cursorBackward(B){return this._moveCursor(-(B.params[0]||1),0),!0}cursorNextLine(B){return this.cursorDown(B),this._activeBuffer.x=0,!0}cursorPrecedingLine(B){return this.cursorUp(B),this._activeBuffer.x=0,!0}cursorCharAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(B){return this._setCursor(B.length>=2?(B.params[1]||1)-1:0,(B.params[0]||1)-1),!0}charPosAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(B){return this._moveCursor(B.params[0]||1,0),!0}linePosAbsolute(B){return this._setCursor(this._activeBuffer.x,(B.params[0]||1)-1),!0}vPositionRelative(B){return this._moveCursor(0,B.params[0]||1),!0}hVPosition(B){return this.cursorPosition(B),!0}tabClear(B){const P=B.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(B){const P=B.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(B,P,U,W=!1,K=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);Y.replaceCells(P,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),W&&(Y.isWrapped=!1)}_resetBufferLine(B,P=!1){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);U&&(U.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+B),U.isWrapped=!1)}eraseInDisplay(B,P=!1){let U;switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);U<this._bufferService.rows;U++)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(U);break;case 1:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(U=this._bufferService.rows,this._dirtyRowTracker.markDirty(U-1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(B,P=!1){switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;P--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;P--;)this._activeBuffer.lines.splice(U,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(B.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(B){if(!this._parser.precedingCodepoint)return!0;const P=B.params[0]||1,U=new Uint32Array(P);for(let W=0;W<P;++W)U[W]=this._parser.precedingCodepoint;return this.print(U,0,U.length),!0}sendDeviceAttributesPrimary(B){return B.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(i.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(i.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(B){return B.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(i.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(i.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(B.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(i.C0.ESC+"[>83;40003;0c")),!0}_is(B){return(this._optionsService.rawOptions.termName+"").indexOf(B)===0}setMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,n.DEFAULT_CHARSET),this._charsetService.setgCharset(1,n.DEFAULT_CHARSET),this._charsetService.setgCharset(2,n.DEFAULT_CHARSET),this._charsetService.setgCharset(3,n.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),B.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(B,P){const U=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:K}=this._coreMouseService,Y=this._coreService,{buffers:X,cols:q}=this._bufferService,{active:J,alt:V}=X,Q=this._optionsService.rawOptions,te=Se=>Se?1:2,ne=B.params[0];return me=ne,pe=P?ne===2?4:ne===4?te(Y.modes.insertMode):ne===12?3:ne===20?te(Q.convertEol):0:ne===1?te(U.applicationCursorKeys):ne===3?Q.windowOptions.setWinLines?q===80?2:q===132?1:0:0:ne===6?te(U.origin):ne===7?te(U.wraparound):ne===8?3:ne===9?te(W==="X10"):ne===12?te(Q.cursorBlink):ne===25?te(!Y.isCursorHidden):ne===45?te(U.reverseWraparound):ne===66?te(U.applicationKeypad):ne===67?4:ne===1e3?te(W==="VT200"):ne===1002?te(W==="DRAG"):ne===1003?te(W==="ANY"):ne===1004?te(U.sendFocus):ne===1005?4:ne===1006?te(K==="SGR"):ne===1015?4:ne===1016?te(K==="SGR_PIXELS"):ne===1048?1:ne===47||ne===1047||ne===1049?te(J===V):ne===2004?te(U.bracketedPasteMode):0,Y.triggerDataEvent(`${i.C0.ESC}[${P?"":"?"}${me};${pe}$y`),!0;var me,pe}_updateAttrColor(B,P,U,W,K){return P===2?(B|=50331648,B&=-16777216,B|=S.AttributeData.fromColorRGB([U,W,K])):P===5&&(B&=-50331904,B|=33554432|255&U),B}_extractColor(B,P,U){const W=[0,0,-1,0,0,0];let K=0,Y=0;do{if(W[Y+K]=B.params[P+Y],B.hasSubParams(P+Y)){const X=B.getSubParams(P+Y);let q=0;do W[1]===5&&(K=1),W[Y+q+1+K]=X[q];while(++q<X.length&&q+Y+1+K<W.length);break}if(W[1]===5&&Y+K>=2||W[1]===2&&Y+K>=5)break;W[1]&&(K=1)}while(++Y+P<B.length&&Y+K<W.length);for(let X=2;X<W.length;++X)W[X]===-1&&(W[X]=0);switch(W[0]){case 38:U.fg=this._updateAttrColor(U.fg,W[1],W[3],W[4],W[5]);break;case 48:U.bg=this._updateAttrColor(U.bg,W[1],W[3],W[4],W[5]);break;case 58:U.extended=U.extended.clone(),U.extended.underlineColor=this._updateAttrColor(U.extended.underlineColor,W[1],W[3],W[4],W[5])}return Y}_processUnderline(B,P){P.extended=P.extended.clone(),(!~B||B>5)&&(B=1),P.extended.underlineStyle=B,P.fg|=268435456,B===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(B){B.fg=o.DEFAULT_ATTR_DATA.fg,B.bg=o.DEFAULT_ATTR_DATA.bg,B.extended=B.extended.clone(),B.extended.underlineStyle=0,B.extended.underlineColor&=-67108864,B.updateExtended()}charAttributes(B){if(B.length===1&&B.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=B.length;let U;const W=this._curAttrData;for(let K=0;K<P;K++)U=B.params[K],U>=30&&U<=37?(W.fg&=-50331904,W.fg|=16777216|U-30):U>=40&&U<=47?(W.bg&=-50331904,W.bg|=16777216|U-40):U>=90&&U<=97?(W.fg&=-50331904,W.fg|=16777224|U-90):U>=100&&U<=107?(W.bg&=-50331904,W.bg|=16777224|U-100):U===0?this._processSGR0(W):U===1?W.fg|=134217728:U===3?W.bg|=67108864:U===4?(W.fg|=268435456,this._processUnderline(B.hasSubParams(K)?B.getSubParams(K)[0]:1,W)):U===5?W.fg|=536870912:U===7?W.fg|=67108864:U===8?W.fg|=1073741824:U===9?W.fg|=2147483648:U===2?W.bg|=134217728:U===21?this._processUnderline(2,W):U===22?(W.fg&=-134217729,W.bg&=-134217729):U===23?W.bg&=-67108865:U===24?(W.fg&=-268435457,this._processUnderline(0,W)):U===25?W.fg&=-536870913:U===27?W.fg&=-67108865:U===28?W.fg&=-1073741825:U===29?W.fg&=2147483647:U===39?(W.fg&=-67108864,W.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):U===49?(W.bg&=-67108864,W.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):U===38||U===48||U===58?K+=this._extractColor(B,K,W):U===53?W.bg|=1073741824:U===55?W.bg&=-1073741825:U===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):U===100?(W.fg&=-67108864,W.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0}deviceStatus(B){switch(B.params[0]){case 5:this._coreService.triggerDataEvent(`${i.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${i.C0.ESC}[${P};${U}R`)}return!0}deviceStatusPrivate(B){if(B.params[0]===6){const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${i.C0.ESC}[?${P};${U}R`)}return!0}softReset(B){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(B){const P=B.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const U=P%2==1;return this._optionsService.options.cursorBlink=U,!0}setScrollRegion(B){const P=B.params[0]||1;let U;return(B.length<2||(U=B.params[1])>this._bufferService.rows||U===0)&&(U=this._bufferService.rows),U>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0}windowOptions(B){if(!F(B.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=B.length>1?B.params[1]:0;switch(B.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(N.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(N.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${i.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(B){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(B){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(B){return this._windowTitle=B,this._onTitleChange.fire(B),!0}setIconName(B){return this._iconName=B,!0}setOrReportIndexedColor(B){const P=[],U=B.split(";");for(;U.length>1;){const W=U.shift(),K=U.shift();if(/^\d+$/.exec(W)){const Y=parseInt(W);if(D(Y))if(K==="?")P.push({type:0,index:Y});else{const X=(0,A.parseColor)(K);X&&P.push({type:1,index:Y,color:X})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(B){const P=B.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(B,P){this._getCurrentLinkId()&&this._finishHyperlink();const U=B.split(":");let W;const K=U.findIndex((Y=>Y.startsWith("id=")));return K!==-1&&(W=U[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(B,P){const U=B.split(";");for(let W=0;W<U.length&&!(P>=this._specialColors.length);++W,++P)if(U[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const K=(0,A.parseColor)(U[W]);K&&this._onColor.fire([{type:1,index:this._specialColors[P],color:K}])}return!0}setOrReportFgColor(B){return this._setOrReportSpecialColor(B,0)}setOrReportBgColor(B){return this._setOrReportSpecialColor(B,1)}setOrReportCursorColor(B){return this._setOrReportSpecialColor(B,2)}restoreIndexedColor(B){if(!B)return this._onColor.fire([{type:2}]),!0;const P=[],U=B.split(";");for(let W=0;W<U.length;++W)if(/^\d+$/.exec(U[W])){const K=parseInt(U[W]);D(K)&&P.push({type:2,index:K})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(B){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(B){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(B){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,n.DEFAULT_CHARSET),!0}selectCharset(B){return B.length!==2?(this.selectDefaultCharset(),!0):(B[0]==="/"||this._charsetService.setgCharset(T[B[0]],n.CHARSETS[B[1]]||n.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const B=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,B,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(B){return this._charsetService.setgLevel(B),!0}screenAlignmentPattern(){const B=new x.CellData;B.content=4194373,B.fg=this._curAttrData.fg,B.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const U=this._activeBuffer.ybase+this._activeBuffer.y+P,W=this._activeBuffer.lines.get(U);W&&(W.fill(B),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(B,P){const U=this._bufferService.buffer,W=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${i.C0.ESC}${K}${i.C0.ESC}\\`),!0))(B==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:B==='"p'?'P1$r61;1"p':B==="r"?`P1$r${U.scrollTop+1};${U.scrollBottom+1}r`:B==="m"?"P1$r0m":B===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(B,P){this._dirtyRowTracker.markRangeDirty(B,P)}}f.InputHandler=M;let L=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,B){z>B&&($=z,z=B,B=$),z<this.start&&(this.start=z),B>this.end&&(this.end=B)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function D(z){return 0<=z&&z<256}L=c([s(0,w.IBufferService)],L)},844:(y,f)=>{function a(c){for(const s of c)s.dispose();c.length=0}Object.defineProperty(f,"__esModule",{value:!0}),f.getDisposeArrayDisposable=f.disposeArray=f.toDisposable=f.MutableDisposable=f.Disposable=void 0,f.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const s=this._disposables.indexOf(c);s!==-1&&this._disposables.splice(s,1)}},f.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var s;this._isDisposed||c===this._value||((s=this._value)===null||s===void 0||s.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},f.toDisposable=function(c){return{dispose:c}},f.disposeArray=a,f.getDisposeArrayDisposable=function(c){return{dispose:()=>a(c)}}},1505:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FourKeyMap=f.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(s,i,n){this._data[s]||(this._data[s]={}),this._data[s][i]=n}get(s,i){return this._data[s]?this._data[s][i]:void 0}clear(){this._data={}}}f.TwoKeyMap=a,f.FourKeyMap=class{constructor(){this._data=new a}set(c,s,i,n,r){this._data.get(c,s)||this._data.set(c,s,new a),this._data.get(c,s).set(i,n,r)}get(c,s,i,n){var r;return(r=this._data.get(c,s))===null||r===void 0?void 0:r.get(i,n)}clear(){this._data.clear()}}},6114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isChromeOS=f.isLinux=f.isWindows=f.isIphone=f.isIpad=f.isMac=f.getSafariVersion=f.isSafari=f.isLegacyEdge=f.isFirefox=f.isNode=void 0,f.isNode=typeof navigator>"u";const a=f.isNode?"node":navigator.userAgent,c=f.isNode?"node":navigator.platform;f.isFirefox=a.includes("Firefox"),f.isLegacyEdge=a.includes("Edge"),f.isSafari=/^((?!chrome|android).)*safari/i.test(a),f.getSafariVersion=function(){if(!f.isSafari)return 0;const s=a.match(/Version\/(\d+)/);return s===null||s.length<2?0:parseInt(s[1])},f.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),f.isIpad=c==="iPad",f.isIphone=c==="iPhone",f.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),f.isLinux=c.indexOf("Linux")>=0,f.isChromeOS=/\bCrOS\b/.test(a)},6106:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SortedList=void 0;let a=0;f.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(a=this._search(this._getKey(c)),this._array.splice(a,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const s=this._getKey(c);if(s===void 0||(a=this._search(s),a===-1)||this._getKey(this._array[a])!==s)return!1;do if(this._array[a]===c)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===s);return!1}*getKeyIterator(c){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===c)}forEachByKey(c,s){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do s(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===c)}values(){return[...this._array].values()}_search(c){let s=0,i=this._array.length-1;for(;i>=s;){let n=s+i>>1;const r=this._getKey(this._array[n]);if(r>c)i=n-1;else{if(!(r<c)){for(;n>0&&this._getKey(this._array[n-1])===c;)n--;return n}s=n+1}}return s}}},7226:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DebouncedIdleTask=f.IdleTaskQueue=f.PriorityTaskQueue=void 0;const c=a(6114);class s{constructor(){this._tasks=[],this._i=0}enqueue(r){this._tasks.push(r),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(r){this._idleCallback=void 0;let l=0,u=0,o=r.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(l=Date.now(),this._tasks[this._i]()||this._i++,l=Math.max(1,Date.now()-l),u=Math.max(l,u),d=r.timeRemaining(),1.5*u>d)return o-l<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-l))}ms`),void this._start();o=d}this.clear()}}class i extends s{_requestCallback(r){return setTimeout((()=>r(this._createDeadline(16))))}_cancelCallback(r){clearTimeout(r)}_createDeadline(r){const l=Date.now()+r;return{timeRemaining:()=>Math.max(0,l-Date.now())}}}f.PriorityTaskQueue=i,f.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends s{_requestCallback(n){return requestIdleCallback(n)}_cancelCallback(n){cancelIdleCallback(n)}}:i,f.DebouncedIdleTask=class{constructor(){this._queue=new f.IdleTaskQueue}set(n){this._queue.clear(),this._queue.enqueue(n)}flush(){this._queue.flush()}}},9282:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.updateWindowsModeWrappedState=void 0;const c=a(643);f.updateWindowsModeWrappedState=function(s){const i=s.buffer.lines.get(s.buffer.ybase+s.buffer.y-1),n=i?.get(s.cols-1),r=s.buffer.lines.get(s.buffer.ybase+s.buffer.y);r&&n&&(r.isWrapped=n[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&n[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExtendedAttrs=f.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(i){return[i>>>16&255,i>>>8&255,255&i]}static fromColorRGB(i){return(255&i[0])<<16|(255&i[1])<<8|255&i[2]}clone(){const i=new a;return i.fg=this.fg,i.bg=this.bg,i.extended=this.extended.clone(),i}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}f.AttributeData=a;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(i){this._ext=i}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(i){this._ext&=-469762049,this._ext|=i<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(i){this._ext&=-67108864,this._ext|=67108863&i}get urlId(){return this._urlId}set urlId(i){this._urlId=i}constructor(i=0,n=0){this._ext=0,this._urlId=0,this._ext=i,this._urlId=n}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}f.ExtendedAttrs=c},9092:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Buffer=f.MAX_BUFFER_SIZE=void 0;const c=a(6349),s=a(7226),i=a(3734),n=a(8437),r=a(4634),l=a(511),u=a(643),o=a(4863),d=a(7116);f.MAX_BUFFER_SIZE=4294967295,f.Buffer=class{constructor(g,x,S){this._hasScrollback=g,this._optionsService=x,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=n.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,u.WHITESPACE_CELL_CHAR,u.WHITESPACE_CELL_WIDTH,u.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new s.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new i.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new i.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,x){return new n.BufferLine(this._bufferService.cols,this.getNullCell(g),x)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const x=g+this._optionsService.rawOptions.scrollback;return x>f.MAX_BUFFER_SIZE?f.MAX_BUFFER_SIZE:x}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=n.DEFAULT_ATTR_DATA);let x=this._rows;for(;x--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,x){const S=this.getNullCell(n.DEFAULT_ATTR_DATA);let w=0;const b=this._getCorrectBufferLength(x);if(b>this.lines.maxLength&&(this.lines.maxLength=b),this.lines.length>0){if(this._cols<g)for(let A=0;A<this.lines.length;A++)w+=+this.lines.get(A).resize(g,S);let k=0;if(this._rows<x)for(let A=this._rows;A<x;A++)this.lines.length<x+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new n.BufferLine(g,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new n.BufferLine(g,S)));else for(let A=this._rows;A>x;A--)this.lines.length>x+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(b<this.lines.maxLength){const A=this.lines.length-b;A>0&&(this.lines.trimStart(A),this.ybase=Math.max(this.ybase-A,0),this.ydisp=Math.max(this.ydisp-A,0),this.savedY=Math.max(this.savedY-A,0)),this.lines.maxLength=b}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,x-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=x-1,this._isReflowEnabled&&(this._reflow(g,x),this._cols>g))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(g,S);this._cols=g,this._rows=x,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let x=0;for(;this._memoryCleanupPosition<this.lines.length;)if(x+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),x>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,x){this._cols!==g&&(g>this._cols?this._reflowLarger(g,x):this._reflowSmaller(g,x))}_reflowLarger(g,x){const S=(0,r.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(n.DEFAULT_ATTR_DATA));if(S.length>0){const w=(0,r.reflowLargerCreateNewLayout)(this.lines,S);(0,r.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(g,x,w.countRemoved)}}_reflowLargerAdjustViewport(g,x,S){const w=this.getNullCell(n.DEFAULT_ATTR_DATA);let b=S;for(;b-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<x&&this.lines.push(new n.BufferLine(g,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(g,x){const S=this.getNullCell(n.DEFAULT_ATTR_DATA),w=[];let b=0;for(let k=this.lines.length-1;k>=0;k--){let A=this.lines.get(k);if(!A||!A.isWrapped&&A.getTrimmedLength()<=g)continue;const T=[A];for(;A.isWrapped&&k>0;)A=this.lines.get(--k),T.unshift(A);const j=this.ybase+this.y;if(j>=k&&j<k+T.length)continue;const F=T[T.length-1].getTrimmedLength(),N=(0,r.reflowSmallerGetNewLineLengths)(T,this._cols,g),$=N.length-T.length;let M;M=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);const L=[];for(let W=0;W<$;W++){const K=this.getBlankLine(n.DEFAULT_ATTR_DATA,!0);L.push(K)}L.length>0&&(w.push({start:k+T.length+b,newLines:L}),b+=L.length),T.push(...L);let D=N.length-1,z=N[D];z===0&&(D--,z=N[D]);let B=T.length-$-1,P=F;for(;B>=0;){const W=Math.min(P,z);if(T[D]===void 0)break;if(T[D].copyCellsFrom(T[B],P-W,z-W,W,!0),z-=W,z===0&&(D--,z=N[D]),P-=W,P===0){B--;const K=Math.max(B,0);P=(0,r.getWrappedLineTrimmedLength)(T,K,this._cols)}}for(let W=0;W<T.length;W++)N[W]<g&&T[W].setCell(N[W],S);let U=$-M;for(;U-- >0;)this.ybase===0?this.y<x-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+b)-x&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+x-1)}if(w.length>0){const k=[],A=[];for(let D=0;D<this.lines.length;D++)A.push(this.lines.get(D));const T=this.lines.length;let j=T-1,F=0,N=w[F];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+b);let $=0;for(let D=Math.min(this.lines.maxLength-1,T+b-1);D>=0;D--)if(N&&N.start>j+$){for(let z=N.newLines.length-1;z>=0;z--)this.lines.set(D--,N.newLines[z]);D++,k.push({index:j+1,amount:N.newLines.length}),$+=N.newLines.length,N=w[++F]}else this.lines.set(D,A[j--]);let M=0;for(let D=k.length-1;D>=0;D--)k[D].index+=M,this.lines.onInsertEmitter.fire(k[D]),M+=k[D].amount;const L=Math.max(0,T+b-this.lines.maxLength);L>0&&this.lines.onTrimEmitter.fire(L)}}translateBufferLineToString(g,x,S=0,w){const b=this.lines.get(g);return b?b.translateToString(x,S,w):""}getWrappedRangeForLine(g){let x=g,S=g;for(;x>0&&this.lines.get(x).isWrapped;)x--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:x,last:S}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].line===g&&(this.markers[x].dispose(),this.markers.splice(x--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const x=new o.Marker(g);return this.markers.push(x),x.register(this.lines.onTrim((S=>{x.line-=S,x.line<0&&x.dispose()}))),x.register(this.lines.onInsert((S=>{x.line>=S.index&&(x.line+=S.amount)}))),x.register(this.lines.onDelete((S=>{x.line>=S.index&&x.line<S.index+S.amount&&x.dispose(),x.line>S.index&&(x.line-=S.amount)}))),x.register(x.onDispose((()=>this._removeMarker(x)))),x}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLine=f.DEFAULT_ATTR_DATA=void 0;const c=a(3734),s=a(511),i=a(643),n=a(482);f.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let r=0;class l{constructor(o,d,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const x=d||s.CellData.fromCharData([0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]);for(let S=0;S<o;++S)this.setCell(S,x);this.length=o}get(o){const d=this._data[3*o+0],g=2097151&d;return[this._data[3*o+1],2097152&d?this._combined[o]:g?(0,n.stringFromCodePoint)(g):"",d>>22,2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):g]}set(o,d){this._data[3*o+1]=d[i.CHAR_DATA_ATTR_INDEX],d[i.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=d[1],this._data[3*o+0]=2097152|o|d[i.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=d[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[i.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&d}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o]:2097151&d?(0,n.stringFromCodePoint)(2097151&d):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,d){return r=3*o,d.content=this._data[r+0],d.fg=this._data[r+1],d.bg=this._data[r+2],2097152&d.content&&(d.combinedData=this._combined[o]),268435456&d.bg&&(d.extended=this._extendedAttrs[o]),d}setCell(o,d){2097152&d.content&&(this._combined[o]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[o]=d.extended),this._data[3*o+0]=d.content,this._data[3*o+1]=d.fg,this._data[3*o+2]=d.bg}setCellFromCodePoint(o,d,g,x,S,w){268435456&S&&(this._extendedAttrs[o]=w),this._data[3*o+0]=d|g<<22,this._data[3*o+1]=x,this._data[3*o+2]=S}addCodepointToCell(o,d){let g=this._data[3*o+0];2097152&g?this._combined[o]+=(0,n.stringFromCodePoint)(d):(2097151&g?(this._combined[o]=(0,n.stringFromCodePoint)(2097151&g)+(0,n.stringFromCodePoint)(d),g&=-2097152,g|=2097152):g=d|4194304,this._data[3*o+0]=g)}insertCells(o,d,g,x){if((o%=this.length)&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs),d<this.length-o){const S=new s.CellData;for(let w=this.length-o-d-1;w>=0;--w)this.setCell(o+d+w,this.loadCell(o+w,S));for(let w=0;w<d;++w)this.setCell(o+w,g)}else for(let S=o;S<this.length;++S)this.setCell(S,g);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs)}deleteCells(o,d,g,x){if(o%=this.length,d<this.length-o){const S=new s.CellData;for(let w=0;w<this.length-o-d;++w)this.setCell(o+w,this.loadCell(o+d+w,S));for(let w=this.length-d;w<this.length;++w)this.setCell(w,g)}else for(let S=o;S<this.length;++S)this.setCell(S,g);o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs),this.getWidth(o)!==0||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs)}replaceCells(o,d,g,x,S=!1){if(S)for(o&&this.getWidth(o-1)===2&&!this.isProtected(o-1)&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs);o<d&&o<this.length;)this.isProtected(o)||this.setCell(o,g),o++;else for(o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new c.ExtendedAttrs);o<d&&o<this.length;)this.setCell(o++,g)}resize(o,d){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const x=new Uint32Array(g);x.set(this._data),this._data=x}for(let x=this.length;x<o;++x)this.setCell(x,d)}else{this._data=this._data.subarray(0,g);const x=Object.keys(this._combined);for(let w=0;w<x.length;w++){const b=parseInt(x[w],10);b>=o&&delete this._combined[b]}const S=Object.keys(this._extendedAttrs);for(let w=0;w<S.length;w++){const b=parseInt(S[w],10);b>=o&&delete this._extendedAttrs[b]}}return this.length=o,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,d=!1){if(d)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,o);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const d in o._combined)this._combined[d]=o._combined[d];this._extendedAttrs={};for(const d in o._extendedAttrs)this._extendedAttrs[d]=o._extendedAttrs[d];this.isWrapped=o.isWrapped}clone(){const o=new l(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const d in this._combined)o._combined[d]=this._combined[d];for(const d in this._extendedAttrs)o._extendedAttrs[d]=this._extendedAttrs[d];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}getNoBgTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0]||50331648&this._data[3*o+2])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,d,g,x,S){const w=o._data;if(S)for(let k=x-1;k>=0;k--){for(let A=0;A<3;A++)this._data[3*(g+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[g+k]=o._extendedAttrs[d+k])}else for(let k=0;k<x;k++){for(let A=0;A<3;A++)this._data[3*(g+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[g+k]=o._extendedAttrs[d+k])}const b=Object.keys(o._combined);for(let k=0;k<b.length;k++){const A=parseInt(b[k],10);A>=d&&(this._combined[A-d+g]=o._combined[A])}}translateToString(o=!1,d=0,g=this.length){o&&(g=Math.min(g,this.getTrimmedLength()));let x="";for(;d<g;){const S=this._data[3*d+0],w=2097151&S;x+=2097152&S?this._combined[d]:w?(0,n.stringFromCodePoint)(w):i.WHITESPACE_CELL_CHAR,d+=S>>22||1}return x}}f.BufferLine=l},4841:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getRangeLength=void 0,f.getRangeLength=function(a,c){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return c*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(y,f)=>{function a(c,s,i){if(s===c.length-1)return c[s].getTrimmedLength();const n=!c[s].hasContent(i-1)&&c[s].getWidth(i-1)===1,r=c[s+1].getWidth(0)===2;return n&&r?i-1:i}Object.defineProperty(f,"__esModule",{value:!0}),f.getWrappedLineTrimmedLength=f.reflowSmallerGetNewLineLengths=f.reflowLargerApplyNewLayout=f.reflowLargerCreateNewLayout=f.reflowLargerGetLinesToRemove=void 0,f.reflowLargerGetLinesToRemove=function(c,s,i,n,r){const l=[];for(let u=0;u<c.length-1;u++){let o=u,d=c.get(++o);if(!d.isWrapped)continue;const g=[c.get(u)];for(;o<c.length&&d.isWrapped;)g.push(d),d=c.get(++o);if(n>=u&&n<o){u+=g.length-1;continue}let x=0,S=a(g,x,s),w=1,b=0;for(;w<g.length;){const A=a(g,w,s),T=A-b,j=i-S,F=Math.min(T,j);g[x].copyCellsFrom(g[w],b,S,F,!1),S+=F,S===i&&(x++,S=0),b+=F,b===A&&(w++,b=0),S===0&&x!==0&&g[x-1].getWidth(i-1)===2&&(g[x].copyCellsFrom(g[x-1],i-1,S++,1,!1),g[x-1].setCell(i-1,r))}g[x].replaceCells(S,i,r);let k=0;for(let A=g.length-1;A>0&&(A>x||g[A].getTrimmedLength()===0);A--)k++;k>0&&(l.push(u+g.length-k),l.push(k)),u+=g.length-1}return l},f.reflowLargerCreateNewLayout=function(c,s){const i=[];let n=0,r=s[n],l=0;for(let u=0;u<c.length;u++)if(r===u){const o=s[++n];c.onDeleteEmitter.fire({index:u-l,amount:o}),u+=o-1,l+=o,r=s[++n]}else i.push(u);return{layout:i,countRemoved:l}},f.reflowLargerApplyNewLayout=function(c,s){const i=[];for(let n=0;n<s.length;n++)i.push(c.get(s[n]));for(let n=0;n<i.length;n++)c.set(n,i[n]);c.length=s.length},f.reflowSmallerGetNewLineLengths=function(c,s,i){const n=[],r=c.map(((d,g)=>a(c,g,s))).reduce(((d,g)=>d+g));let l=0,u=0,o=0;for(;o<r;){if(r-o<i){n.push(r-o);break}l+=i;const d=a(c,u,s);l>d&&(l-=d,u++);const g=c[u].getWidth(l-1)===2;g&&l--;const x=g?i-1:i;n.push(x),o+=x}return n},f.getWrappedLineTrimmedLength=a},5295:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferSet=void 0;const c=a(8460),s=a(844),i=a(9092);class n extends s.Disposable{constructor(l,u){super(),this._optionsService=l,this._bufferService=u,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new i.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new i.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(l){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(l),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(l,u){this._normal.resize(l,u),this._alt.resize(l,u),this.setupTabStops(l)}setupTabStops(l){this._normal.setupTabStops(l),this._alt.setupTabStops(l)}}f.BufferSet=n},511:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CellData=void 0;const c=a(482),s=a(643),i=a(3734);class n extends i.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new i.ExtendedAttrs,this.combinedData=""}static fromCharData(l){const u=new n;return u.setFromCharData(l),u}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(l){this.fg=l[s.CHAR_DATA_ATTR_INDEX],this.bg=0;let u=!1;if(l[s.CHAR_DATA_CHAR_INDEX].length>2)u=!0;else if(l[s.CHAR_DATA_CHAR_INDEX].length===2){const o=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const d=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(o-55296)+d-56320+65536|l[s.CHAR_DATA_WIDTH_INDEX]<<22:u=!0}else u=!0}else this.content=l[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|l[s.CHAR_DATA_WIDTH_INDEX]<<22;u&&(this.combinedData=l[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|l[s.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.CellData=n},643:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WHITESPACE_CELL_CODE=f.WHITESPACE_CELL_WIDTH=f.WHITESPACE_CELL_CHAR=f.NULL_CELL_CODE=f.NULL_CELL_WIDTH=f.NULL_CELL_CHAR=f.CHAR_DATA_CODE_INDEX=f.CHAR_DATA_WIDTH_INDEX=f.CHAR_DATA_CHAR_INDEX=f.CHAR_DATA_ATTR_INDEX=f.DEFAULT_EXT=f.DEFAULT_ATTR=f.DEFAULT_COLOR=void 0,f.DEFAULT_COLOR=0,f.DEFAULT_ATTR=256|f.DEFAULT_COLOR<<9,f.DEFAULT_EXT=0,f.CHAR_DATA_ATTR_INDEX=0,f.CHAR_DATA_CHAR_INDEX=1,f.CHAR_DATA_WIDTH_INDEX=2,f.CHAR_DATA_CODE_INDEX=3,f.NULL_CELL_CHAR="",f.NULL_CELL_WIDTH=1,f.NULL_CELL_CODE=0,f.WHITESPACE_CELL_CHAR=" ",f.WHITESPACE_CELL_WIDTH=1,f.WHITESPACE_CELL_CODE=32},4863:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Marker=void 0;const c=a(8460),s=a(844);class i{get id(){return this._id}constructor(r){this.line=r,this.isDisposed=!1,this._disposables=[],this._id=i._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,s.disposeArray)(this._disposables),this._disposables.length=0)}register(r){return this._disposables.push(r),r}}f.Marker=i,i._nextId=1},7116:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_CHARSET=f.CHARSETS=void 0,f.CHARSETS={},f.DEFAULT_CHARSET=f.CHARSETS.B,f.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},f.CHARSETS.A={"#":""},f.CHARSETS.B=void 0,f.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},f.CHARSETS.C=f.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.E=f.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},f.CHARSETS.H=f.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(y,f)=>{var a,c,s;Object.defineProperty(f,"__esModule",{value:!0}),f.C1_ESCAPED=f.C1=f.C0=void 0,(function(i){i.NUL="\0",i.SOH="",i.STX="",i.ETX="",i.EOT="",i.ENQ="",i.ACK="",i.BEL="\x07",i.BS="\b",i.HT="	",i.LF=`
`,i.VT="\v",i.FF="\f",i.CR="\r",i.SO="",i.SI="",i.DLE="",i.DC1="",i.DC2="",i.DC3="",i.DC4="",i.NAK="",i.SYN="",i.ETB="",i.CAN="",i.EM="",i.SUB="",i.ESC="\x1B",i.FS="",i.GS="",i.RS="",i.US="",i.SP=" ",i.DEL=""})(a||(f.C0=a={})),(function(i){i.PAD="",i.HOP="",i.BPH="",i.NBH="",i.IND="",i.NEL="",i.SSA="",i.ESA="",i.HTS="",i.HTJ="",i.VTS="",i.PLD="",i.PLU="",i.RI="",i.SS2="",i.SS3="",i.DCS="",i.PU1="",i.PU2="",i.STS="",i.CCH="",i.MW="",i.SPA="",i.EPA="",i.SOS="",i.SGCI="",i.SCI="",i.CSI="",i.ST="",i.OSC="",i.PM="",i.APC=""})(c||(f.C1=c={})),(function(i){i.ST=`${a.ESC}\\`})(s||(f.C1_ESCAPED=s={}))},7399:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.evaluateKeyboardEvent=void 0;const c=a(2584),s={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};f.evaluateKeyboardEvent=function(i,n,r,l){const u={type:0,cancel:!1,key:void 0},o=(i.shiftKey?1:0)|(i.altKey?2:0)|(i.ctrlKey?4:0)|(i.metaKey?8:0);switch(i.keyCode){case 0:i.key==="UIKeyInputUpArrow"?u.key=n?c.C0.ESC+"OA":c.C0.ESC+"[A":i.key==="UIKeyInputLeftArrow"?u.key=n?c.C0.ESC+"OD":c.C0.ESC+"[D":i.key==="UIKeyInputRightArrow"?u.key=n?c.C0.ESC+"OC":c.C0.ESC+"[C":i.key==="UIKeyInputDownArrow"&&(u.key=n?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(i.altKey){u.key=c.C0.ESC+c.C0.DEL;break}u.key=c.C0.DEL;break;case 9:if(i.shiftKey){u.key=c.C0.ESC+"[Z";break}u.key=c.C0.HT,u.cancel=!0;break;case 13:u.key=i.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,u.cancel=!0;break;case 27:u.key=c.C0.ESC,i.altKey&&(u.key=c.C0.ESC+c.C0.ESC),u.cancel=!0;break;case 37:if(i.metaKey)break;o?(u.key=c.C0.ESC+"[1;"+(o+1)+"D",u.key===c.C0.ESC+"[1;3D"&&(u.key=c.C0.ESC+(r?"b":"[1;5D"))):u.key=n?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(i.metaKey)break;o?(u.key=c.C0.ESC+"[1;"+(o+1)+"C",u.key===c.C0.ESC+"[1;3C"&&(u.key=c.C0.ESC+(r?"f":"[1;5C"))):u.key=n?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(i.metaKey)break;o?(u.key=c.C0.ESC+"[1;"+(o+1)+"A",r||u.key!==c.C0.ESC+"[1;3A"||(u.key=c.C0.ESC+"[1;5A")):u.key=n?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(i.metaKey)break;o?(u.key=c.C0.ESC+"[1;"+(o+1)+"B",r||u.key!==c.C0.ESC+"[1;3B"||(u.key=c.C0.ESC+"[1;5B")):u.key=n?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:i.shiftKey||i.ctrlKey||(u.key=c.C0.ESC+"[2~");break;case 46:u.key=o?c.C0.ESC+"[3;"+(o+1)+"~":c.C0.ESC+"[3~";break;case 36:u.key=o?c.C0.ESC+"[1;"+(o+1)+"H":n?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:u.key=o?c.C0.ESC+"[1;"+(o+1)+"F":n?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:i.shiftKey?u.type=2:i.ctrlKey?u.key=c.C0.ESC+"[5;"+(o+1)+"~":u.key=c.C0.ESC+"[5~";break;case 34:i.shiftKey?u.type=3:i.ctrlKey?u.key=c.C0.ESC+"[6;"+(o+1)+"~":u.key=c.C0.ESC+"[6~";break;case 112:u.key=o?c.C0.ESC+"[1;"+(o+1)+"P":c.C0.ESC+"OP";break;case 113:u.key=o?c.C0.ESC+"[1;"+(o+1)+"Q":c.C0.ESC+"OQ";break;case 114:u.key=o?c.C0.ESC+"[1;"+(o+1)+"R":c.C0.ESC+"OR";break;case 115:u.key=o?c.C0.ESC+"[1;"+(o+1)+"S":c.C0.ESC+"OS";break;case 116:u.key=o?c.C0.ESC+"[15;"+(o+1)+"~":c.C0.ESC+"[15~";break;case 117:u.key=o?c.C0.ESC+"[17;"+(o+1)+"~":c.C0.ESC+"[17~";break;case 118:u.key=o?c.C0.ESC+"[18;"+(o+1)+"~":c.C0.ESC+"[18~";break;case 119:u.key=o?c.C0.ESC+"[19;"+(o+1)+"~":c.C0.ESC+"[19~";break;case 120:u.key=o?c.C0.ESC+"[20;"+(o+1)+"~":c.C0.ESC+"[20~";break;case 121:u.key=o?c.C0.ESC+"[21;"+(o+1)+"~":c.C0.ESC+"[21~";break;case 122:u.key=o?c.C0.ESC+"[23;"+(o+1)+"~":c.C0.ESC+"[23~";break;case 123:u.key=o?c.C0.ESC+"[24;"+(o+1)+"~":c.C0.ESC+"[24~";break;default:if(!i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)if(r&&!l||!i.altKey||i.metaKey)!r||i.altKey||i.ctrlKey||i.shiftKey||!i.metaKey?i.key&&!i.ctrlKey&&!i.altKey&&!i.metaKey&&i.keyCode>=48&&i.key.length===1?u.key=i.key:i.key&&i.ctrlKey&&(i.key==="_"&&(u.key=c.C0.US),i.key==="@"&&(u.key=c.C0.NUL)):i.keyCode===65&&(u.type=1);else{const d=s[i.keyCode],g=d?.[i.shiftKey?1:0];if(g)u.key=c.C0.ESC+g;else if(i.keyCode>=65&&i.keyCode<=90){const x=i.ctrlKey?i.keyCode-64:i.keyCode+32;let S=String.fromCharCode(x);i.shiftKey&&(S=S.toUpperCase()),u.key=c.C0.ESC+S}else if(i.keyCode===32)u.key=c.C0.ESC+(i.ctrlKey?c.C0.NUL:" ");else if(i.key==="Dead"&&i.code.startsWith("Key")){let x=i.code.slice(3,4);i.shiftKey||(x=x.toLowerCase()),u.key=c.C0.ESC+x,u.cancel=!0}}else i.keyCode>=65&&i.keyCode<=90?u.key=String.fromCharCode(i.keyCode-64):i.keyCode===32?u.key=c.C0.NUL:i.keyCode>=51&&i.keyCode<=55?u.key=String.fromCharCode(i.keyCode-51+27):i.keyCode===56?u.key=c.C0.DEL:i.keyCode===219?u.key=c.C0.ESC:i.keyCode===220?u.key=c.C0.FS:i.keyCode===221&&(u.key=c.C0.GS)}return u}},482:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Utf8ToUtf32=f.StringToUtf32=f.utf32ToString=f.stringFromCodePoint=void 0,f.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},f.utf32ToString=function(a,c=0,s=a.length){let i="";for(let n=c;n<s;++n){let r=a[n];r>65535?(r-=65536,i+=String.fromCharCode(55296+(r>>10))+String.fromCharCode(r%1024+56320)):i+=String.fromCharCode(r)}return i},f.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,c){const s=a.length;if(!s)return 0;let i=0,n=0;if(this._interim){const r=a.charCodeAt(n++);56320<=r&&r<=57343?c[i++]=1024*(this._interim-55296)+r-56320+65536:(c[i++]=this._interim,c[i++]=r),this._interim=0}for(let r=n;r<s;++r){const l=a.charCodeAt(r);if(55296<=l&&l<=56319){if(++r>=s)return this._interim=l,i;const u=a.charCodeAt(r);56320<=u&&u<=57343?c[i++]=1024*(l-55296)+u-56320+65536:(c[i++]=l,c[i++]=u)}else l!==65279&&(c[i++]=l)}return i}},f.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,c){const s=a.length;if(!s)return 0;let i,n,r,l,u=0,o=0,d=0;if(this.interim[0]){let S=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let b,k=0;for(;(b=63&this.interim[++k])&&k<4;)w<<=6,w|=b;const A=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=A-k;for(;d<T;){if(d>=s)return 0;if(b=a[d++],(192&b)!=128){d--,S=!0;break}this.interim[k++]=b,w<<=6,w|=63&b}S||(A===2?w<128?d--:c[u++]=w:A===3?w<2048||w>=55296&&w<=57343||w===65279||(c[u++]=w):w<65536||w>1114111||(c[u++]=w)),this.interim.fill(0)}const g=s-4;let x=d;for(;x<s;){for(;!(!(x<g)||128&(i=a[x])||128&(n=a[x+1])||128&(r=a[x+2])||128&(l=a[x+3]));)c[u++]=i,c[u++]=n,c[u++]=r,c[u++]=l,x+=4;if(i=a[x++],i<128)c[u++]=i;else if((224&i)==192){if(x>=s)return this.interim[0]=i,u;if(n=a[x++],(192&n)!=128){x--;continue}if(o=(31&i)<<6|63&n,o<128){x--;continue}c[u++]=o}else if((240&i)==224){if(x>=s)return this.interim[0]=i,u;if(n=a[x++],(192&n)!=128){x--;continue}if(x>=s)return this.interim[0]=i,this.interim[1]=n,u;if(r=a[x++],(192&r)!=128){x--;continue}if(o=(15&i)<<12|(63&n)<<6|63&r,o<2048||o>=55296&&o<=57343||o===65279)continue;c[u++]=o}else if((248&i)==240){if(x>=s)return this.interim[0]=i,u;if(n=a[x++],(192&n)!=128){x--;continue}if(x>=s)return this.interim[0]=i,this.interim[1]=n,u;if(r=a[x++],(192&r)!=128){x--;continue}if(x>=s)return this.interim[0]=i,this.interim[1]=n,this.interim[2]=r,u;if(l=a[x++],(192&l)!=128){x--;continue}if(o=(7&i)<<18|(63&n)<<12|(63&r)<<6|63&l,o<65536||o>1114111)continue;c[u++]=o}}return u}}},225:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let s;f.UnicodeV6=class{constructor(){if(this.version="6",!s){s=new Uint8Array(65536),s.fill(1),s[0]=0,s.fill(0,1,32),s.fill(0,127,160),s.fill(2,4352,4448),s[9001]=2,s[9002]=2,s.fill(2,11904,42192),s[12351]=1,s.fill(2,44032,55204),s.fill(2,63744,64256),s.fill(2,65040,65050),s.fill(2,65072,65136),s.fill(2,65280,65377),s.fill(2,65504,65511);for(let i=0;i<a.length;++i)s.fill(0,a[i][0],a[i][1]+1)}}wcwidth(i){return i<32?0:i<127?1:i<65536?s[i]:(function(n,r){let l,u=0,o=r.length-1;if(n<r[0][0]||n>r[o][1])return!1;for(;o>=u;)if(l=u+o>>1,n>r[l][1])u=l+1;else{if(!(n<r[l][0]))return!0;o=l-1}return!1})(i,c)?0:i>=131072&&i<=196605||i>=196608&&i<=262141?2:1}}},5981:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WriteBuffer=void 0;const c=a(8460),s=a(844);class i extends s.Disposable{constructor(r){super(),this._action=r,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(r,l){if(l!==void 0&&this._syncCalls>l)return void(this._syncCalls=0);if(this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let u;for(this._isSyncWriting=!0;u=this._writeBuffer.shift();){this._action(u);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(r,l){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(l),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=r.length,this._writeBuffer.push(r),this._callbacks.push(l)}_innerWrite(r=0,l=!0){const u=r||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],d=this._action(o,l);if(d){const x=S=>Date.now()-u>=12?setTimeout((()=>this._innerWrite(0,S))):this._innerWrite(u,S);return void d.catch((S=>(queueMicrotask((()=>{throw S})),Promise.resolve(!1)))).then(x)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-u>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}f.WriteBuffer=i},5941:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.toRgbString=f.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function s(i,n){const r=i.toString(16),l=r.length<2?"0"+r:r;switch(n){case 4:return r[0];case 8:return l;case 12:return(l+l).slice(0,3);default:return l+l}}f.parseColor=function(i){if(!i)return;let n=i.toLowerCase();if(n.indexOf("rgb:")===0){n=n.slice(4);const r=a.exec(n);if(r){const l=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/l*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/l*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/l*255)]}}else if(n.indexOf("#")===0&&(n=n.slice(1),c.exec(n)&&[3,6,9,12].includes(n.length))){const r=n.length/3,l=[0,0,0];for(let u=0;u<3;++u){const o=parseInt(n.slice(r*u,r*u+r),16);l[u]=r===1?o<<4:r===2?o:r===3?o>>4:o>>8}return l}},f.toRgbString=function(i,n=16){const[r,l,u]=i;return`rgb:${s(r,n)}/${s(l,n)}/${s(u,n)}`}},5770:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PAYLOAD_LIMIT=void 0,f.PAYLOAD_LIMIT=1e7},6351:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DcsHandler=f.DcsParser=void 0;const c=a(482),s=a(8742),i=a(5770),n=[];f.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=n,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=n}registerHandler(l,u){this._handlers[l]===void 0&&(this._handlers[l]=[]);const o=this._handlers[l];return o.push(u),{dispose:()=>{const d=o.indexOf(u);d!==-1&&o.splice(d,1)}}}clearHandler(l){this._handlers[l]&&delete this._handlers[l]}setHandlerFallback(l){this._handlerFb=l}reset(){if(this._active.length)for(let l=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;l>=0;--l)this._active[l].unhook(!1);this._stack.paused=!1,this._active=n,this._ident=0}hook(l,u){if(this.reset(),this._ident=l,this._active=this._handlers[l]||n,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(u);else this._handlerFb(this._ident,"HOOK",u)}put(l,u,o){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(l,u,o);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(l,u,o))}unhook(l,u=!0){if(this._active.length){let o=!1,d=this._active.length-1,g=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,o=u,g=this._stack.fallThrough,this._stack.paused=!1),!g&&o===!1){for(;d>=0&&(o=this._active[d].unhook(l),o!==!0);d--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,o;d--}for(;d>=0;d--)if(o=this._active[d].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",l);this._active=n,this._ident=0}};const r=new s.Params;r.addParam(0),f.DcsHandler=class{constructor(l){this._handler=l,this._data="",this._params=r,this._hitLimit=!1}hook(l){this._params=l.length>1||l.params[0]?l.clone():r,this._data="",this._hitLimit=!1}put(l,u,o){this._hitLimit||(this._data+=(0,c.utf32ToString)(l,u,o),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(l){let u=!1;if(this._hitLimit)u=!1;else if(l&&(u=this._handler(this._data,this._params),u instanceof Promise))return u.then((o=>(this._params=r,this._data="",this._hitLimit=!1,o)));return this._params=r,this._data="",this._hitLimit=!1,u}}},2015:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.EscapeSequenceParser=f.VT500_TRANSITION_TABLE=f.TransitionTable=void 0;const c=a(844),s=a(8742),i=a(6242),n=a(6351);class r{constructor(d){this.table=new Uint8Array(d)}setDefault(d,g){this.table.fill(d<<4|g)}add(d,g,x,S){this.table[g<<8|d]=x<<4|S}addMany(d,g,x,S){for(let w=0;w<d.length;w++)this.table[g<<8|d[w]]=x<<4|S}}f.TransitionTable=r;const l=160;f.VT500_TRANSITION_TABLE=(function(){const o=new r(4095),d=Array.apply(null,Array(256)).map(((k,A)=>A)),g=(k,A)=>d.slice(k,A),x=g(32,127),S=g(0,24);S.push(25),S.push.apply(S,g(28,32));const w=g(0,14);let b;for(b in o.setDefault(1,0),o.addMany(x,0,2,0),w)o.addMany([24,26,153,154],b,3,0),o.addMany(g(128,144),b,3,0),o.addMany(g(144,152),b,3,0),o.add(156,b,0,0),o.add(27,b,11,1),o.add(157,b,4,8),o.addMany([152,158,159],b,0,7),o.add(155,b,11,3),o.add(144,b,11,9);return o.addMany(S,0,3,0),o.addMany(S,1,3,1),o.add(127,1,0,1),o.addMany(S,8,0,8),o.addMany(S,3,3,3),o.add(127,3,0,3),o.addMany(S,4,3,4),o.add(127,4,0,4),o.addMany(S,6,3,6),o.addMany(S,5,3,5),o.add(127,5,0,5),o.addMany(S,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(x,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(g(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(x,7,0,7),o.addMany(S,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(g(64,127),3,7,0),o.addMany(g(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(g(48,60),4,8,4),o.addMany(g(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(g(32,64),6,0,6),o.add(127,6,0,6),o.addMany(g(64,127),6,0,0),o.addMany(g(32,48),3,9,5),o.addMany(g(32,48),5,9,5),o.addMany(g(48,64),5,0,6),o.addMany(g(64,127),5,7,0),o.addMany(g(32,48),4,9,5),o.addMany(g(32,48),1,9,2),o.addMany(g(32,48),2,9,2),o.addMany(g(48,127),2,10,0),o.addMany(g(48,80),1,10,0),o.addMany(g(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(g(96,127),1,10,0),o.add(80,1,11,9),o.addMany(S,9,0,9),o.add(127,9,0,9),o.addMany(g(28,32),9,0,9),o.addMany(g(32,48),9,9,12),o.addMany(g(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(S,11,0,11),o.addMany(g(32,128),11,0,11),o.addMany(g(28,32),11,0,11),o.addMany(S,10,0,10),o.add(127,10,0,10),o.addMany(g(28,32),10,0,10),o.addMany(g(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(g(32,48),10,9,12),o.addMany(S,12,0,12),o.add(127,12,0,12),o.addMany(g(28,32),12,0,12),o.addMany(g(32,48),12,9,12),o.addMany(g(48,64),12,0,11),o.addMany(g(64,127),12,12,13),o.addMany(g(64,127),10,12,13),o.addMany(g(64,127),9,12,13),o.addMany(S,13,13,13),o.addMany(x,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(l,0,2,0),o.add(l,8,5,8),o.add(l,6,0,6),o.add(l,11,0,11),o.add(l,13,13,13),o})();class u extends c.Disposable{constructor(d=f.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new s.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(g,x,S)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,x)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new i.OscParser),this._dcsParser=this.register(new n.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(d,g=[64,126]){let x=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(x=d.prefix.charCodeAt(0),x&&60>x||x>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<d.intermediates.length;++w){const b=d.intermediates.charCodeAt(w);if(32>b||b>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");x<<=8,x|=b}}if(d.final.length!==1)throw new Error("final must be a single byte");const S=d.final.charCodeAt(0);if(g[0]>S||S>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return x<<=8,x|=S,x}identToString(d){const g=[];for(;d;)g.push(String.fromCharCode(255&d)),d>>=8;return g.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,g){const x=this._identifier(d,[48,126]);this._escHandlers[x]===void 0&&(this._escHandlers[x]=[]);const S=this._escHandlers[x];return S.push(g),{dispose:()=>{const w=S.indexOf(g);w!==-1&&S.splice(w,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,g){this._executeHandlers[d.charCodeAt(0)]=g}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,g){const x=this._identifier(d);this._csiHandlers[x]===void 0&&(this._csiHandlers[x]=[]);const S=this._csiHandlers[x];return S.push(g),{dispose:()=>{const w=S.indexOf(g);w!==-1&&S.splice(w,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,g){return this._dcsParser.registerHandler(this._identifier(d),g)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,g){return this._oscParser.registerHandler(d,g)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,g,x,S,w){this._parseStack.state=d,this._parseStack.handlers=g,this._parseStack.handlerPos=x,this._parseStack.transition=S,this._parseStack.chunkPos=w}parse(d,g,x){let S,w=0,b=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(x===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const A=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(x===!1&&T>-1){for(;T>=0&&(S=A[T](this._params),S!==!0);T--)if(S instanceof Promise)return this._parseStack.handlerPos=T,S}this._parseStack.handlers=[];break;case 4:if(x===!1&&T>-1){for(;T>=0&&(S=A[T](),S!==!0);T--)if(S instanceof Promise)return this._parseStack.handlerPos=T,S}this._parseStack.handlers=[];break;case 6:if(w=d[this._parseStack.chunkPos],S=this._dcsParser.unhook(w!==24&&w!==26,x),S)return S;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=d[this._parseStack.chunkPos],S=this._oscParser.end(w!==24&&w!==26,x),S)return S;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let A=k;A<g;++A){switch(w=d[A],b=this._transitions.table[this.currentState<<8|(w<160?w:l)],b>>4){case 2:for(let $=A+1;;++$){if($>=g||(w=d[$])<32||w>126&&w<l){this._printHandler(d,A,$),A=$-1;break}if(++$>=g||(w=d[$])<32||w>126&&w<l){this._printHandler(d,A,$),A=$-1;break}if(++$>=g||(w=d[$])<32||w>126&&w<l){this._printHandler(d,A,$),A=$-1;break}if(++$>=g||(w=d[$])<32||w>126&&w<l){this._printHandler(d,A,$),A=$-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:A,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|w];let j=T?T.length-1:-1;for(;j>=0&&(S=T[j](this._params),S!==!0);j--)if(S instanceof Promise)return this._preserveStack(3,T,j,b,A),S;j<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++A<g&&(w=d[A])>47&&w<60);A--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const F=this._escHandlers[this._collect<<8|w];let N=F?F.length-1:-1;for(;N>=0&&(S=F[N](),S!==!0);N--)if(S instanceof Promise)return this._preserveStack(4,F,N,b,A),S;N<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let $=A+1;;++$)if($>=g||(w=d[$])===24||w===26||w===27||w>127&&w<l){this._dcsParser.put(d,A,$),A=$-1;break}break;case 14:if(S=this._dcsParser.unhook(w!==24&&w!==26),S)return this._preserveStack(6,[],0,b,A),S;w===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let $=A+1;;$++)if($>=g||(w=d[$])<32||w>127&&w<l){this._oscParser.put(d,A,$),A=$-1;break}break;case 6:if(S=this._oscParser.end(w!==24&&w!==26),S)return this._preserveStack(5,[],0,b,A),S;w===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&b}}}f.EscapeSequenceParser=u},6242:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OscHandler=f.OscParser=void 0;const c=a(5770),s=a(482),i=[];f.OscParser=class{constructor(){this._state=0,this._active=i,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(n,r){this._handlers[n]===void 0&&(this._handlers[n]=[]);const l=this._handlers[n];return l.push(r),{dispose:()=>{const u=l.indexOf(r);u!==-1&&l.splice(u,1)}}}clearHandler(n){this._handlers[n]&&delete this._handlers[n]}setHandlerFallback(n){this._handlerFb=n}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=i}reset(){if(this._state===2)for(let n=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;n>=0;--n)this._active[n].end(!1);this._stack.paused=!1,this._active=i,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||i,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].start();else this._handlerFb(this._id,"START")}_put(n,r,l){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(n,r,l);else this._handlerFb(this._id,"PUT",(0,s.utf32ToString)(n,r,l))}start(){this.reset(),this._state=1}put(n,r,l){if(this._state!==3){if(this._state===1)for(;r<l;){const u=n[r++];if(u===59){this._state=2,this._start();break}if(u<48||57<u)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+u-48}this._state===2&&l-r>0&&this._put(n,r,l)}}end(n,r=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let l=!1,u=this._active.length-1,o=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,l=r,o=this._stack.fallThrough,this._stack.paused=!1),!o&&l===!1){for(;u>=0&&(l=this._active[u].end(n),l!==!0);u--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,l;u--}for(;u>=0;u--)if(l=this._active[u].end(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,l}else this._handlerFb(this._id,"END",n);this._active=i,this._id=-1,this._state=0}}},f.OscHandler=class{constructor(n){this._handler=n,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(n,r,l){this._hitLimit||(this._data+=(0,s.utf32ToString)(n,r,l),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(n){let r=!1;if(this._hitLimit)r=!1;else if(n&&(r=this._handler(this._data),r instanceof Promise))return r.then((l=>(this._data="",this._hitLimit=!1,l)));return this._data="",this._hitLimit=!1,r}}},8742:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Params=void 0;const a=2147483647;class c{static fromArray(i){const n=new c;if(!i.length)return n;for(let r=Array.isArray(i[0])?1:0;r<i.length;++r){const l=i[r];if(Array.isArray(l))for(let u=0;u<l.length;++u)n.addSubParam(l[u]);else n.addParam(l)}return n}constructor(i=32,n=32){if(this.maxLength=i,this.maxSubParamsLength=n,n>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(i),this.length=0,this._subParams=new Int32Array(n),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(i),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const i=new c(this.maxLength,this.maxSubParamsLength);return i.params.set(this.params),i.length=this.length,i._subParams.set(this._subParams),i._subParamsLength=this._subParamsLength,i._subParamsIdx.set(this._subParamsIdx),i._rejectDigits=this._rejectDigits,i._rejectSubDigits=this._rejectSubDigits,i._digitIsSub=this._digitIsSub,i}toArray(){const i=[];for(let n=0;n<this.length;++n){i.push(this.params[n]);const r=this._subParamsIdx[n]>>8,l=255&this._subParamsIdx[n];l-r>0&&i.push(Array.prototype.slice.call(this._subParams,r,l))}return i}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(i){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(i<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=i>a?a:i}}addSubParam(i){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(i<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=i>a?a:i,this._subParamsIdx[this.length-1]++}}hasSubParams(i){return(255&this._subParamsIdx[i])-(this._subParamsIdx[i]>>8)>0}getSubParams(i){const n=this._subParamsIdx[i]>>8,r=255&this._subParamsIdx[i];return r-n>0?this._subParams.subarray(n,r):null}getSubParamsAll(){const i={};for(let n=0;n<this.length;++n){const r=this._subParamsIdx[n]>>8,l=255&this._subParamsIdx[n];l-r>0&&(i[n]=this._subParams.slice(r,l))}return i}addDigit(i){let n;if(this._rejectDigits||!(n=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const r=this._digitIsSub?this._subParams:this.params,l=r[n-1];r[n-1]=~l?Math.min(10*l+i,a):i}}f.Params=c},5741:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AddonManager=void 0,f.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,c){const s={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(s),c.dispose=()=>this._wrappedAddonDispose(s),c.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let c=-1;for(let s=0;s<this._addons.length;s++)if(this._addons[s]===a){c=s;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(c,1)}}},8771:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferApiView=void 0;const c=a(3785),s=a(511);f.BufferApiView=class{constructor(i,n){this._buffer=i,this.type=n}init(i){return this._buffer=i,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(i){const n=this._buffer.lines.get(i);if(n)return new c.BufferLineApiView(n)}getNullCell(){return new s.CellData}}},3785:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLineApiView=void 0;const c=a(511);f.BufferLineApiView=class{constructor(s){this._line=s}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(s,i){if(!(s<0||s>=this._line.length))return i?(this._line.loadCell(s,i),i):this._line.loadCell(s,new c.CellData)}translateToString(s,i,n){return this._line.translateToString(s,i,n)}}},8285:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferNamespaceApi=void 0;const c=a(8771),s=a(8460),i=a(844);class n extends i.Disposable{constructor(l){super(),this._core=l,this._onBufferChange=this.register(new s.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}f.BufferNamespaceApi=n},7975:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ParserApi=void 0,f.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,c){return this._core.registerCsiHandler(a,(s=>c(s.toArray())))}addCsiHandler(a,c){return this.registerCsiHandler(a,c)}registerDcsHandler(a,c){return this._core.registerDcsHandler(a,((s,i)=>c(s,i.toArray())))}addDcsHandler(a,c){return this.registerDcsHandler(a,c)}registerEscHandler(a,c){return this._core.registerEscHandler(a,c)}addEscHandler(a,c){return this.registerEscHandler(a,c)}registerOscHandler(a,c){return this._core.registerOscHandler(a,c)}addOscHandler(a,c){return this.registerOscHandler(a,c)}}},7090:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeApi=void 0,f.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(y,f,a){var c=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferService=f.MINIMUM_ROWS=f.MINIMUM_COLS=void 0;const i=a(8460),n=a(844),r=a(5295),l=a(2585);f.MINIMUM_COLS=2,f.MINIMUM_ROWS=1;let u=f.BufferService=class extends n.Disposable{get buffer(){return this.buffers.active}constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new i.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new i.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,f.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,f.MINIMUM_ROWS),this.buffers=this.register(new r.BufferSet(o,this))}resize(o,d){this.cols=o,this.rows=d,this.buffers.resize(o,d),this._onResize.fire({cols:o,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,d=!1){const g=this.buffer;let x;x=this._cachedBlankLine,x&&x.length===this.cols&&x.getFg(0)===o.fg&&x.getBg(0)===o.bg||(x=g.getBlankLine(o,d),this._cachedBlankLine=x),x.isWrapped=d;const S=g.ybase+g.scrollTop,w=g.ybase+g.scrollBottom;if(g.scrollTop===0){const b=g.lines.isFull;w===g.lines.length-1?b?g.lines.recycle().copyFrom(x):g.lines.push(x.clone()):g.lines.splice(w+1,0,x.clone()),b?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const b=w-S+1;g.lines.shiftElements(S+1,b-1,-1),g.lines.set(w,x.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(o,d,g){const x=this.buffer;if(o<0){if(x.ydisp===0)return;this.isUserScrolling=!0}else o+x.ydisp>=x.ybase&&(this.isUserScrolling=!1);const S=x.ydisp;x.ydisp=Math.max(Math.min(x.ydisp+o,x.ybase),0),S!==x.ydisp&&(d||this._onScroll.fire(x.ydisp))}};f.BufferService=u=c([s(0,l.IOptionsService)],u)},7994:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharsetService=void 0,f.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,c){this._charsets[a]=c,this.glevel===a&&(this.charset=c)}}},1753:function(y,f,a){var c=this&&this.__decorate||function(x,S,w,b){var k,A=arguments.length,T=A<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,w):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,S,w,b);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(S,w,T):k(S,w))||T);return A>3&&T&&Object.defineProperty(S,w,T),T},s=this&&this.__param||function(x,S){return function(w,b){S(w,b,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreMouseService=void 0;const i=a(2585),n=a(8460),r=a(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:x=>x.button!==4&&x.action===1&&(x.ctrl=!1,x.alt=!1,x.shift=!1,!0)},VT200:{events:19,restrict:x=>x.action!==32},DRAG:{events:23,restrict:x=>x.action!==32||x.button!==3},ANY:{events:31,restrict:x=>!0}};function u(x,S){let w=(x.ctrl?16:0)|(x.shift?4:0)|(x.alt?8:0);return x.button===4?(w|=64,w|=x.action):(w|=3&x.button,4&x.button&&(w|=64),8&x.button&&(w|=128),x.action===32?w|=32:x.action!==0||S||(w|=3)),w}const o=String.fromCharCode,d={DEFAULT:x=>{const S=[u(x,!1)+32,x.col+32,x.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1B[M${o(S[0])}${o(S[1])}${o(S[2])}`},SGR:x=>{const S=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${u(x,!0)};${x.col};${x.row}${S}`},SGR_PIXELS:x=>{const S=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${u(x,!0)};${x.x};${x.y}${S}`}};let g=f.CoreMouseService=class extends r.Disposable{constructor(x,S){super(),this._bufferService=x,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new n.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(l))this.addProtocol(w,l[w]);for(const w of Object.keys(d))this.addEncoding(w,d[w]);this.reset()}addProtocol(x,S){this._protocols[x]=S}addEncoding(x,S){this._encodings[x]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(x){if(!this._protocols[x])throw new Error(`unknown protocol "${x}"`);this._activeProtocol=x,this._onProtocolChange.fire(this._protocols[x].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(x){if(!this._encodings[x])throw new Error(`unknown encoding "${x}"`);this._activeEncoding=x}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(x){if(x.col<0||x.col>=this._bufferService.cols||x.row<0||x.row>=this._bufferService.rows||x.button===4&&x.action===32||x.button===3&&x.action!==32||x.button!==4&&(x.action===2||x.action===3)||(x.col++,x.row++,x.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,x,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(x))return!1;const S=this._encodings[this._activeEncoding](x);return S&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=x,!0}explainEvents(x){return{down:!!(1&x),up:!!(2&x),drag:!!(4&x),move:!!(8&x),wheel:!!(16&x)}}_equalEvents(x,S,w){if(w){if(x.x!==S.x||x.y!==S.y)return!1}else if(x.col!==S.col||x.row!==S.row)return!1;return x.button===S.button&&x.action===S.action&&x.ctrl===S.ctrl&&x.alt===S.alt&&x.shift===S.shift}};f.CoreMouseService=g=c([s(0,i.IBufferService),s(1,i.ICoreService)],g)},6975:function(y,f,a){var c=this&&this.__decorate||function(g,x,S,w){var b,k=arguments.length,A=k<3?x:w===null?w=Object.getOwnPropertyDescriptor(x,S):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,x,S,w);else for(var T=g.length-1;T>=0;T--)(b=g[T])&&(A=(k<3?b(A):k>3?b(x,S,A):b(x,S))||A);return k>3&&A&&Object.defineProperty(x,S,A),A},s=this&&this.__param||function(g,x){return function(S,w){x(S,w,g)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreService=void 0;const i=a(1439),n=a(8460),r=a(844),l=a(2585),u=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=f.CoreService=class extends r.Disposable{constructor(g,x,S){super(),this._bufferService=g,this._logService=x,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new n.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new n.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,i.clone)(u),this.decPrivateModes=(0,i.clone)(o)}reset(){this.modes=(0,i.clone)(u),this.decPrivateModes=(0,i.clone)(o)}triggerDataEvent(g,x=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;x&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),x&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((x=>x.charCodeAt(0))))),this._onBinary.fire(g))}};f.CoreService=d=c([s(0,l.IBufferService),s(1,l.ILogService),s(2,l.IOptionsService)],d)},9074:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecorationService=void 0;const c=a(8055),s=a(8460),i=a(844),n=a(6106);let r=0,l=0;class u extends i.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new n.SortedList((g=>g?.marker.line)),this._onDecorationRegistered=this.register(new s.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new s.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,i.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const x=new o(g);if(x){const S=x.marker.onDispose((()=>x.dispose()));x.onDispose((()=>{x&&(this._decorations.delete(x)&&this._onDecorationRemoved.fire(x),S.dispose())})),this._decorations.insert(x),this._onDecorationRegistered.fire(x)}return x}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,x,S){var w,b,k;let A=0,T=0;for(const j of this._decorations.getKeyIterator(x))A=(w=j.options.x)!==null&&w!==void 0?w:0,T=A+((b=j.options.width)!==null&&b!==void 0?b:1),g>=A&&g<T&&(!S||((k=j.options.layer)!==null&&k!==void 0?k:"bottom")===S)&&(yield j)}forEachDecorationAtCell(g,x,S,w){this._decorations.forEachByKey(x,(b=>{var k,A,T;r=(k=b.options.x)!==null&&k!==void 0?k:0,l=r+((A=b.options.width)!==null&&A!==void 0?A:1),g>=r&&g<l&&(!S||((T=b.options.layer)!==null&&T!==void 0?T:"bottom")===S)&&w(b)}))}}f.DecorationService=u;class o extends i.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new s.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new s.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.InstantiationService=f.ServiceCollection=void 0;const c=a(2585),s=a(8343);class i{constructor(...r){this._entries=new Map;for(const[l,u]of r)this.set(l,u)}set(r,l){const u=this._entries.get(r);return this._entries.set(r,l),u}forEach(r){for(const[l,u]of this._entries.entries())r(l,u)}has(r){return this._entries.has(r)}get(r){return this._entries.get(r)}}f.ServiceCollection=i,f.InstantiationService=class{constructor(){this._services=new i,this._services.set(c.IInstantiationService,this)}setService(n,r){this._services.set(n,r)}getService(n){return this._services.get(n)}createInstance(n,...r){const l=(0,s.getServiceDependencies)(n).sort(((d,g)=>d.index-g.index)),u=[];for(const d of l){const g=this._services.get(d.id);if(!g)throw new Error(`[createInstance] ${n.name} depends on UNKNOWN service ${d.id}.`);u.push(g)}const o=l.length>0?l[0].index:r.length;if(r.length!==o)throw new Error(`[createInstance] First service dependency of ${n.name} at position ${o+1} conflicts with ${r.length} static arguments`);return new n(...r,...u)}}},7866:function(y,f,a){var c=this&&this.__decorate||function(o,d,g,x){var S,w=arguments.length,b=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,d,g,x);else for(var k=o.length-1;k>=0;k--)(S=o[k])&&(b=(w<3?S(b):w>3?S(d,g,b):S(d,g))||b);return w>3&&b&&Object.defineProperty(d,g,b),b},s=this&&this.__param||function(o,d){return function(g,x){d(g,x,o)}};Object.defineProperty(f,"__esModule",{value:!0}),f.traceCall=f.setTraceLogger=f.LogService=void 0;const i=a(844),n=a(2585),r={trace:n.LogLevelEnum.TRACE,debug:n.LogLevelEnum.DEBUG,info:n.LogLevelEnum.INFO,warn:n.LogLevelEnum.WARN,error:n.LogLevelEnum.ERROR,off:n.LogLevelEnum.OFF};let l,u=f.LogService=class extends i.Disposable{get logLevel(){return this._logLevel}constructor(o){super(),this._optionsService=o,this._logLevel=n.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),l=this}_updateLogLevel(){this._logLevel=r[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(o){for(let d=0;d<o.length;d++)typeof o[d]=="function"&&(o[d]=o[d]())}_log(o,d,g){this._evalLazyOptionalParams(g),o.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...g)}trace(o,...d){var g,x;this._logLevel<=n.LogLevelEnum.TRACE&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.trace.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,o,d)}debug(o,...d){var g,x;this._logLevel<=n.LogLevelEnum.DEBUG&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.debug.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,o,d)}info(o,...d){var g,x;this._logLevel<=n.LogLevelEnum.INFO&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.info.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.info,o,d)}warn(o,...d){var g,x;this._logLevel<=n.LogLevelEnum.WARN&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.warn.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.warn,o,d)}error(o,...d){var g,x;this._logLevel<=n.LogLevelEnum.ERROR&&this._log((x=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.error.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.error,o,d)}};f.LogService=u=c([s(0,n.IOptionsService)],u),f.setTraceLogger=function(o){l=o},f.traceCall=function(o,d,g){if(typeof g.value!="function")throw new Error("not supported");const x=g.value;g.value=function(...S){if(l.logLevel!==n.LogLevelEnum.TRACE)return x.apply(this,S);l.trace(`GlyphRenderer#${x.name}(${S.map((b=>JSON.stringify(b))).join(", ")})`);const w=x.apply(this,S);return l.trace(`GlyphRenderer#${x.name} return`,w),w}}},7302:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionsService=f.DEFAULT_OPTIONS=void 0;const c=a(8460),s=a(844),i=a(6114);f.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:i.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const n=["normal","bold","100","200","300","400","500","600","700","800","900"];class r extends s.Disposable{constructor(u){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=Object.assign({},f.DEFAULT_OPTIONS);for(const d in u)if(d in o)try{const g=u[d];o[d]=this._sanitizeAndValidateOption(d,g)}catch(g){console.error(g)}this.rawOptions=o,this.options=Object.assign({},o),this._setupOptions()}onSpecificOptionChange(u,o){return this.onOptionChange((d=>{d===u&&o(this.rawOptions[u])}))}onMultipleOptionChange(u,o){return this.onOptionChange((d=>{u.indexOf(d)!==-1&&o()}))}_setupOptions(){const u=d=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},o=(d,g)=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);g=this._sanitizeAndValidateOption(d,g),this.rawOptions[d]!==g&&(this.rawOptions[d]=g,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const g={get:u.bind(this,d),set:o.bind(this,d)};Object.defineProperty(this.options,d,g)}}_sanitizeAndValidateOption(u,o){switch(u){case"cursorStyle":if(o||(o=f.DEFAULT_OPTIONS[u]),!(function(d){return d==="block"||d==="underline"||d==="bar"})(o))throw new Error(`"${o}" is not a valid value for ${u}`);break;case"wordSeparator":o||(o=f.DEFAULT_OPTIONS[u]);break;case"fontWeight":case"fontWeightBold":if(typeof o=="number"&&1<=o&&o<=1e3)break;o=n.includes(o)?o:f.DEFAULT_OPTIONS[u];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${u} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${u} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${u} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&o!==0)throw new Error(`${u} must be numeric, value: ${o}`);break;case"windowsPty":o=o??{}}return o}}f.OptionsService=r},2660:function(y,f,a){var c=this&&this.__decorate||function(r,l,u,o){var d,g=arguments.length,x=g<3?l:o===null?o=Object.getOwnPropertyDescriptor(l,u):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(r,l,u,o);else for(var S=r.length-1;S>=0;S--)(d=r[S])&&(x=(g<3?d(x):g>3?d(l,u,x):d(l,u))||x);return g>3&&x&&Object.defineProperty(l,u,x),x},s=this&&this.__param||function(r,l){return function(u,o){l(u,o,r)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkService=void 0;const i=a(2585);let n=f.OscLinkService=class{constructor(r){this._bufferService=r,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(r){const l=this._bufferService.buffer;if(r.id===void 0){const S=l.addMarker(l.ybase+l.y),w={data:r,id:this._nextId++,lines:[S]};return S.onDispose((()=>this._removeMarkerFromLink(w,S))),this._dataByLinkId.set(w.id,w),w.id}const u=r,o=this._getEntryIdKey(u),d=this._entriesWithId.get(o);if(d)return this.addLineToLink(d.id,l.ybase+l.y),d.id;const g=l.addMarker(l.ybase+l.y),x={id:this._nextId++,key:this._getEntryIdKey(u),data:u,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(x,g))),this._entriesWithId.set(x.key,x),this._dataByLinkId.set(x.id,x),x.id}addLineToLink(r,l){const u=this._dataByLinkId.get(r);if(u&&u.lines.every((o=>o.line!==l))){const o=this._bufferService.buffer.addMarker(l);u.lines.push(o),o.onDispose((()=>this._removeMarkerFromLink(u,o)))}}getLinkData(r){var l;return(l=this._dataByLinkId.get(r))===null||l===void 0?void 0:l.data}_getEntryIdKey(r){return`${r.id};;${r.uri}`}_removeMarkerFromLink(r,l){const u=r.lines.indexOf(l);u!==-1&&(r.lines.splice(u,1),r.lines.length===0&&(r.data.id!==void 0&&this._entriesWithId.delete(r.key),this._dataByLinkId.delete(r.id)))}};f.OscLinkService=n=c([s(0,i.IBufferService)],n)},8343:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDecorator=f.getServiceDependencies=f.serviceRegistry=void 0;const a="di$target",c="di$dependencies";f.serviceRegistry=new Map,f.getServiceDependencies=function(s){return s[c]||[]},f.createDecorator=function(s){if(f.serviceRegistry.has(s))return f.serviceRegistry.get(s);const i=function(n,r,l){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(u,o,d){o[a]===o?o[c].push({id:u,index:d}):(o[c]=[{id:u,index:d}],o[a]=o)})(i,n,l)};return i.toString=()=>s,f.serviceRegistry.set(s,i),i}},2585:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IDecorationService=f.IUnicodeService=f.IOscLinkService=f.IOptionsService=f.ILogService=f.LogLevelEnum=f.IInstantiationService=f.ICharsetService=f.ICoreService=f.ICoreMouseService=f.IBufferService=void 0;const c=a(8343);var s;f.IBufferService=(0,c.createDecorator)("BufferService"),f.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),f.ICoreService=(0,c.createDecorator)("CoreService"),f.ICharsetService=(0,c.createDecorator)("CharsetService"),f.IInstantiationService=(0,c.createDecorator)("InstantiationService"),(function(i){i[i.TRACE=0]="TRACE",i[i.DEBUG=1]="DEBUG",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.OFF=5]="OFF"})(s||(f.LogLevelEnum=s={})),f.ILogService=(0,c.createDecorator)("LogService"),f.IOptionsService=(0,c.createDecorator)("OptionsService"),f.IOscLinkService=(0,c.createDecorator)("OscLinkService"),f.IUnicodeService=(0,c.createDecorator)("UnicodeService"),f.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(y,f,a)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeService=void 0;const c=a(8460),s=a(225);f.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const i=new s.UnicodeV6;this.register(i),this._active=i.version,this._activeProvider=i}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(i){if(!this._providers[i])throw new Error(`unknown Unicode version "${i}"`);this._active=i,this._activeProvider=this._providers[i],this._onChange.fire(i)}register(i){this._providers[i.version]=i}wcwidth(i){return this._activeProvider.wcwidth(i)}getStringCellWidth(i){let n=0;const r=i.length;for(let l=0;l<r;++l){let u=i.charCodeAt(l);if(55296<=u&&u<=56319){if(++l>=r)return n+this.wcwidth(u);const o=i.charCodeAt(l);56320<=o&&o<=57343?u=1024*(u-55296)+o-56320+65536:n+=this.wcwidth(o)}n+=this.wcwidth(u)}return n}}}},v={};function R(y){var f=v[y];if(f!==void 0)return f.exports;var a=v[y]={exports:{}};return m[y].call(a.exports,a,a.exports,R),a.exports}var E={};return(()=>{var y=E;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const f=R(9042),a=R(3236),c=R(844),s=R(5741),i=R(8285),n=R(7975),r=R(7090),l=["cols","rows"];class u extends c.Disposable{constructor(d){super(),this._core=this.register(new a.Terminal(d)),this._addonManager=this.register(new s.AddonManager),this._publicOptions=Object.assign({},this._core.options);const g=S=>this._core.options[S],x=(S,w)=>{this._checkReadonlyOptions(S),this._core.options[S]=w};for(const S in this._core.options){const w={get:g.bind(this,S),set:x.bind(this,S)};Object.defineProperty(this._publicOptions,S,w)}}_checkReadonlyOptions(d){if(l.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new n.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new r.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new i.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const g in d)this._publicOptions[g]=d[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,g){this._verifyIntegers(d,g),this._core.resize(d,g)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var g,x,S;return this._checkProposedApi(),this._verifyPositiveIntegers((g=d.x)!==null&&g!==void 0?g:0,(x=d.width)!==null&&x!==void 0?x:0,(S=d.height)!==null&&S!==void 0?S:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,g,x){this._verifyIntegers(d,g,x),this._core.select(d,g,x)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,g){this._verifyIntegers(d,g),this._core.selectLines(d,g)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,g){this._core.write(d,g)}writeln(d,g){this._core.write(d),this._core.write(`\r
`,g)}paste(d){this._core.paste(d)}refresh(d,g){this._verifyIntegers(d,g),this._core.refresh(d,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return f}_verifyIntegers(...d){for(const g of d)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const g of d)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}y.Terminal=u})(),E})()))})(zh)),zh.exports}var wx=xx(),Fh={exports:{}},Vm;function Sx(){return Vm||(Vm=1,(function(h,_){(function(m,v){h.exports=v()})(self,(()=>(()=>{var m={};return(()=>{var v=m;Object.defineProperty(v,"__esModule",{value:!0}),v.FitAddon=void 0,v.FitAddon=class{activate(R){this._terminal=R}dispose(){}fit(){const R=this.proposeDimensions();if(!R||!this._terminal||isNaN(R.cols)||isNaN(R.rows))return;const E=this._terminal._core;this._terminal.rows===R.rows&&this._terminal.cols===R.cols||(E._renderService.clear(),this._terminal.resize(R.cols,R.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const R=this._terminal._core,E=R._renderService.dimensions;if(E.css.cell.width===0||E.css.cell.height===0)return;const y=this._terminal.options.scrollback===0?0:R.viewport.scrollBarWidth,f=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(f.getPropertyValue("height")),c=Math.max(0,parseInt(f.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),i=a-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))),n=c-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(n/E.css.cell.width)),rows:Math.max(1,Math.floor(i/E.css.cell.height))}}}})(),m})()))})(Fh)),Fh.exports}var Cx=Sx(),Ph={exports:{}},Gm;function Ex(){return Gm||(Gm=1,(function(h,_){(function(m,v){h.exports=v()})(self,(()=>(()=>{var m={6:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LinkComputer=f.WebLinkProvider=void 0,f.WebLinkProvider=class{constructor(c,s,i,n={}){this._terminal=c,this._regex=s,this._handler=i,this._options=n}provideLinks(c,s){const i=a.computeLink(c,this._regex,this._terminal,this._handler);s(this._addCallbacks(i))}_addCallbacks(c){return c.map((s=>(s.leave=this._options.leave,s.hover=(i,n)=>{if(this._options.hover){const{range:r}=s;this._options.hover(i,n,r)}},s)))}};class a{static computeLink(s,i,n,r){const l=new RegExp(i.source,(i.flags||"")+"g"),[u,o]=a._getWindowedLineStrings(s-1,n),d=u.join("");let g;const x=[];for(;g=l.exec(d);){const S=g[0];try{const j=new URL(S),F=decodeURI(j.toString());if(S!==F&&S+"/"!==F)continue}catch{continue}const[w,b]=a._mapStrIdx(n,o,0,g.index),[k,A]=a._mapStrIdx(n,w,b,S.length);if(w===-1||b===-1||k===-1||A===-1)continue;const T={start:{x:b+1,y:w+1},end:{x:A,y:k+1}};x.push({range:T,text:S,activate:r})}return x}static _getWindowedLineStrings(s,i){let n,r=s,l=s,u=0,o="";const d=[];if(n=i.buffer.active.getLine(s)){const g=n.translateToString(!0);if(n.isWrapped&&g[0]!==" "){for(u=0;(n=i.buffer.active.getLine(--r))&&u<2048&&(o=n.translateToString(!0),u+=o.length,d.push(o),n.isWrapped&&o.indexOf(" ")===-1););d.reverse()}for(d.push(g),u=0;(n=i.buffer.active.getLine(++l))&&n.isWrapped&&u<2048&&(o=n.translateToString(!0),u+=o.length,d.push(o),o.indexOf(" ")===-1););}return[d,r]}static _mapStrIdx(s,i,n,r){const l=s.buffer.active,u=l.getNullCell();let o=n;for(;r;){const d=l.getLine(i);if(!d)return[-1,-1];for(let g=o;g<d.length;++g){d.getCell(g,u);const x=u.getChars();if(u.getWidth()&&(r-=x.length||1,g===d.length-1&&x==="")){const S=l.getLine(i+1);S&&S.isWrapped&&(S.getCell(0,u),u.getWidth()===2&&(r+=1))}if(r<0)return[i,g]}i++,o=0}return[i,o]}}f.LinkComputer=a}},v={};function R(y){var f=v[y];if(f!==void 0)return f.exports;var a=v[y]={exports:{}};return m[y](a,a.exports,R),a.exports}var E={};return(()=>{var y=E;Object.defineProperty(y,"__esModule",{value:!0}),y.WebLinksAddon=void 0;const f=R(6),a=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(s,i){const n=window.open();if(n){try{n.opener=null}catch{}n.location.href=i}else console.warn("Opening link blocked as opener could not be cleared")}y.WebLinksAddon=class{constructor(s=c,i={}){this._handler=s,this._options=i}activate(s){this._terminal=s;const i=this._options,n=i.urlRegex||a;this._linkProvider=this._terminal.registerLinkProvider(new f.WebLinkProvider(this._terminal,n,this._handler,i))}dispose(){var s;(s=this._linkProvider)===null||s===void 0||s.dispose()}}})(),E})()))})(Ph)),Ph.exports}var Ax=Ex();const fs=ie.forwardRef((h,_)=>{const m=ie.useRef(null),v=ie.useRef(null),R=ie.useRef(null),E=ie.useRef(null),y=ie.useRef(null),f=ie.useRef(null),a=()=>{R.current&&(R.current.removeAllListeners(),R.current.disconnect(),R.current=null)},c=async(n,r="bash",l)=>{a();const{io:u}=await h0(async()=>{const{io:g}=await import("./index-Crsm9Fe1.js");return{io:g}},[]),o=h.socketUrl,d=u(o,{transports:["websocket"],forceNew:!0,reconnection:!1});R.current=d,d.on("connect",()=>{m.current?.clear(),r!="bash"&&m.current?.write(`\x1B[34m${n}\x1B[0m: ${r}\r
`),d.emit("terminal:start",{path:n,command:r,workspaceName:l}),m.current?.focus(),setTimeout(()=>{v.current?.fit()},100)}),d.on("terminal:log",g=>{m.current?.write(g)}),d.on("terminal:error",g=>{m.current?.write(`\x1B[31m${g}\x1B[0m`)}),d.on("terminal:exit",g=>{m.current?.write(`\r
\x1B[33mProcess exited with code ${g}\x1B[0m\r
`),g!==0&&(f.current&&f.current(g),h.onCrash&&h.onCrash(g)),y.current&&y.current(),h.onExit&&h.onExit()})};ie.useImperativeHandle(_,()=>({write:n=>{m.current?.write(n)},input:n=>{if(R.current&&R.current.connected){const r=n.endsWith("\r")?n:n+"\r";R.current.emit("terminal:input",r)}else E.current&&E.current(n+"\r")},onData:n=>{E.current=n},onClose:n=>{y.current=n},onCrash:n=>{f.current=n},fit:()=>{v.current?.fit()},clear:()=>{m.current?.clear()},focus:()=>{m.current?.focus()},connect:(n,r="bash",l)=>{c(n,r,l)},disconnect:()=>{a()}})),ie.useEffect(()=>{h.startingText&&m.current&&m.current.write(h.startingText)},[h.startingText]),ie.useEffect(()=>{const n=r=>{r.data?.type==="PASTE_TEXT"&&r.data?.text&&h.isInteractive!==!1&&R.current&&R.current.connected&&R.current.emit("terminal:input",r.data.text)};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n),a()}},[h.isInteractive]),ie.useEffect(()=>{const n=m.current;if(!n)return;const r=h.isInteractive??!0;n.options.disableStdin=!r,n.options.cursorBlink=r,n.options.cursorStyle=r?"block":"underline",r?n.options.theme={...n.options.theme,cursor:"#ffffff"}:n.options.theme={...n.options.theme,cursor:"transparent"}},[h.isInteractive]);const s=n=>{R.current&&R.current.connected&&R.current.emit("terminal:input",n),E.current&&E.current(n)},i=(n,r)=>{R.current&&R.current.connected&&R.current.emit("terminal:resize",{cols:n,rows:r})};return O.jsx("div",{className:`h-full w-full ${h.className||""}`,children:O.jsx(kx,{ref:v,terminalRef:m,onData:s,onResize:i})})});fs.displayName="InteractiveTerminal";const kx=ie.forwardRef((h,_)=>{const m=Xe.use.terminalFontSize(),v=ie.useRef(null),R=ie.useRef(null),E=ie.useRef(null),y=ie.useRef(h.onData),f=ie.useRef(h.onResize);return ie.useImperativeHandle(_,()=>({fit:()=>{try{E.current?.fit(),R.current&&f.current&&f.current(R.current.cols,R.current.rows)}catch{}}})),ie.useEffect(()=>{y.current=h.onData},[h.onData]),ie.useEffect(()=>{f.current=h.onResize},[h.onResize]),ie.useEffect(()=>{if(!v.current)return;const a=new wx.Terminal({cursorBlink:!0,allowTransparency:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:m,theme:{background:"#00000000",foreground:"#f3f4f6",cursor:"#ffffff",selectionBackground:"#374151"},convertEol:!0}),c=new Cx.FitAddon,s=new Ax.WebLinksAddon;a.loadAddon(c),a.loadAddon(s);const i=setTimeout(()=>{if(v.current){a.open(v.current);try{c.fit(),f.current&&f.current(a.cols,a.rows)}catch(r){console.warn("Fit failed on init:",r)}}},0);R.current=a,E.current=c,h.terminalRef&&(h.terminalRef.current=a),a.onData(r=>{y.current&&y.current(r)});const n=new ResizeObserver(()=>{try{c.fit(),f.current&&f.current(a.cols,a.rows)}catch{}});return n.observe(v.current),()=>{clearTimeout(i),n.disconnect(),a.dispose()}},[m]),O.jsx("div",{className:"h-full w-full overflow-hidden bg-transparent p-1",ref:v})});function Tx(h){const _=Fe.use.setWorkSpaceRunningAs(),m=ie.useRef(null);return ie.useEffect(()=>()=>{m.current&&m.current.disconnect()},[]),ie.useEffect(()=>{const v=h.workspace.isRunningAs;v==="dev"||v==="start"?m.current&&(m.current.connect(h.workspace.info.path,`npm run ${v}`,h.workspace.info.name),m.current.onCrash(()=>{_(h.workspace.info.name,"crashed")})):v=="crashed"?m.current&&m.current.disconnect():m.current&&(m.current.disconnect(),m.current.clear())},[h.workspace.isRunningAs]),O.jsx("div",{className:`w-full h-full ${h.visible?"block":"hidden"}`,children:O.jsx(fs,{ref:m,isInteractive:!1,socketUrl:$e.serverPath})})}function Mx(h){const _=Fe.use.setActiveTerminal(),m=Fe.use.stopWorkspaceTerminal(),v=Fe.use.setWorkSpaceRunningAs(),[R,E]=ie.useState(!1),y=Fe.use.activeTerminal(),f=y===h.workspace.info.name;async function a(){if(!(R||!y))try{E(!0),await m(y),v(y,null),E(!1),_("")}catch(c){console.error(c),E(!1)}}return O.jsxs("div",{onClick:()=>_(h.workspace.info.name),className:`
                group relative flex items-center justify-between w-48 w-7 px-3 
                cursor-pointer transition-all duration-300 select-none
                rounded-t-md
                ${f?"bg-gradient-to-br from-blue-600/30 to-blue-400/30 text-white":"bg-[#111] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[O.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[O.jsx("div",{className:`
                    flex-none w-6 h-6 flex items-center justify-center rounded-md
                    transition-colors duration-300
                    ${f?"bg-blue-500/10 text-blue-400":"bg-transparent text-gray-600 group-hover:text-gray-400"}
                `,children:O.jsx("i",{className:`${h.workspace.info.fontawesomeIcon??"fas fa-terminal"} text-xs`})}),O.jsx("span",{className:"truncate text-xs font-semibold tracking-wide",children:h.workspace.info.name})]}),O.jsx("button",{onClick:c=>{c.stopPropagation(),a()},disabled:R,className:`
                    w-6 h-6 flex-none flex items-center justify-center rounded-md 
                    transition-all duration-200
                    ${f?"opacity-0 group-hover:opacity-100":"hidden"}
                    ${R?"text-blue-400 cursor-wait":"text-gray-500 hover:bg-red-500/20 hover:text-red-400"}
                `,title:"Stop Process",children:O.jsx("i",{className:`fas ${R?"fa-circle-notch animate-spin":"fa-times"} text-xs`})})]})}function Lx({whichShow:h}){const _=Fe.use.workspace();return O.jsx(O.Fragment,{children:_.map(m=>{if(m.isRunningAs!=null&&(h==="all"||h===m.info.workspace))return O.jsx(Mx,{workspace:m},m.info.name)})})}function Rx({whichShow:h,isMaximized:_,onToggleMaximize:m}){const v=Fe.use.workspace(),R=Fe.use.activeTerminal();return O.jsxs("div",{className:"flex flex-col w-full h-full relative ",children:[O.jsxs("header",{className:"flex-none w-full pt-1 flex h-9 flex-wrap select-none",children:[O.jsx("button",{onClick:m,className:"w-8 px-2 cursor-pointer select-none rounded-t-md bg-[#0a0a0a]/80 text-gray-500 hover:bg-[#121212] hover:text-gray-300 flex items-center justify-center transition-colors",title:_?"Restore":"Maximize",children:O.jsx("i",{className:`fas ${_?"fa-compress":"fa-expand"}`})}),O.jsx(Lx,{whichShow:h})]}),O.jsx("div",{className:"flex-1 overflow-hidden px-4 py-1 border-t border-gray-900/80 relative",children:v.map(E=>O.jsx(Tx,{workspace:E,visible:h==="all"&&R==E.info.name&&E.isRunningAs!=null||h===E.info.workspace&&R==E.info.name&&E.isRunningAs!=null},E.info.name))})]})}function Nx({children:h,className:_}){return O.jsx("div",{className:`bg-gradient-to-b from-[#050505] to-[#191919] ${_}`,children:h})}const vo={blueIndigo:"from-blue-500 to-blue-300",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function ss(h){return h.isNotRendered||h.render!=null&&h.render==!1?null:O.jsx($x,{...h})}function $x(h){const _=vo.blueIndigo,m=h.color&&vo[h.color]?vo[h.color]:h.color||_;let v=h.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg";return v=h.bg?"cursor-pointer hover:-translate-y-1 shadow-lg":v,O.jsxs("button",{disabled:h.disabled,onClick:R=>{R.stopPropagation(),!h.disabled&&h.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${v}
                ${h.className||""}
            `,children:[!h.disabled&&!h.bg&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),h.bg&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-50 blur-lg`}),O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-50`})]}),O.jsxs("div",{className:`
                relative h-full w-full rounded bg-blue-400/10 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
            `,children:[h.bg&&O.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m} opacity-20`}),O.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${m} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:O.jsx("i",{className:`fas ${h.icon||"fa-circle"} text-sm`})}),O.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[O.jsx("span",{className:`
                        font-bold text-md truncate transition-colors duration-300
                        ${h.disabled?"text-gray-500":h.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:h.name}),O.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${h.disabled?"text-gray-600":h.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:h.description})]})]})]},h.name)}function Dx(h){const _=Fe.use.loadingWorkspace(),m=Fe.use.setWorkSpaceRunningAs(),v=Fe.use.setActiveTerminal(),R=Fe.use.stopWorkspaceTerminal(),[E,y]=ie.useState(!1);return ie.useEffect(()=>{_==h.info.name?y(!0):y(!1)},[_]),O.jsxs("div",{className:"flex-1 flex gap-2",children:[O.jsx(ss,{onClick:()=>{},name:"Loading",description:"...",color:"blueIndigo",icon:"fas fa-spinner animate-spin",disabled:!0,render:E}),O.jsx(ss,{onClick:async()=>{await R(h.info.name),m(h.info.name,null)},name:"App is Running",description:"Click to stop",color:"yellowOrange",icon:"fas fa-check-circle",disabled:!1,render:!E&&h.isRunningAs=="start",bg:h.isRunningAs=="start"}),O.jsx(ss,{onClick:async()=>{await R(h.info.name),m(h.info.name,null)},name:"Development Server",description:"Click to stop",color:"red",icon:"fas fa-check-circle",disabled:!1,render:!E&&h.isRunningAs=="dev",bg:h.isRunningAs=="dev"}),O.jsx(ss,{onClick:()=>{y(!0),m(h.info.name,"start"),v(h.info.name),setTimeout(()=>y(!1),1e3)},name:"Start",description:"npm run start",color:"emeraldTeal",icon:"fas fa-play",disabled:!1,render:!!(!E&&h.isRunningAs!="dev"&&h.isRunningAs!="start"&&h.isRunningAs!="crashed"&&h.info.startCommand)}),O.jsx(ss,{onClick:()=>{y(!0),m(h.info.name,"dev"),v(h.info.name),setTimeout(()=>y(!1),1e3)},name:"Dev",description:"npm run dev",color:"blueIndigo",icon:"fas fa-code",disabled:!1,render:!!(!E&&h.isRunningAs!="dev"&&h.isRunningAs!="start"&&h.isRunningAs!="crashed"&&h.info.devCommand)}),O.jsx(ss,{onClick:async()=>{R(h.info.name,!0),m(h.info.name,null)},name:"Crashed",description:"Crashed",color:"red",icon:"fas fa-code",disabled:!1,render:!E&&h.isRunningAs=="crashed",bg:!0})]})}function Ox(h){const _=Fe.use.setActiveWorkspaceOptionModal(),m=Fe.use.setShowNewTerminalWindow();return O.jsxs(Nx,{className:"rounded overflow-hidden border border-gray-800",children:[O.jsxs("header",{className:"p-2 flex items-start gap-4 bg-blue-400/10",children:[O.jsx("div",{className:"w-10 h-10 rounded flex items-center justify-center border border-white/10",children:O.jsx("i",{className:`text-xl ${h.info.fontawesomeIcon??"text-gray-400 fa fa-cube"}`})}),O.jsxs("div",{className:"flex flex-col h-12 overflow-hidden flex-1",children:[O.jsx("h3",{className:"text-base font-bold text-gray-200 group-hover:text-white leading-tight mb-1 transition-colors",children:h.info.name}),O.jsx("p",{className:"text-gray-500 group-hover:text-gray-400 text-xs truncate transition-colors",children:h.info.description})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>m(h.info),className:"w-8 h-8 rounded-lg bg-gray-800 hover:bg-blue-600 hover:text-white text-gray-500 flex items-center justify-center transition-colors",children:O.jsx("i",{className:"fas fa-terminal text-xs"})}),O.jsx("button",{onClick:()=>_(h.info),className:"group/btn flex-none w-8 h-8 rounded-lg border border-white/10 hover:border-white/30 text-gray-500 hover:text-white hover:bg-white/5 transition-all flex items-center justify-center p-0",title:"Options",children:O.jsx("i",{className:"fas fa-cog group-hover/btn:rotate-90 transition-transform duration-300 text-xs"})})]})]}),O.jsx("div",{className:"mt-auto p-3 bg-blue-400/5 flex gap-2 relative",children:O.jsx(Dx,{...h})})]})}function ni(h){return O.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[O.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:h.label}),O.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:O.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300
                    ${h.disabled?"bg-transparent cursor-not-allowed":""}
                    `,children:O.jsxs("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[O.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:O.jsx("i",{className:`${h.icon} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),O.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:h.placeholder,value:h.value,onChange:_=>{h.onChange(_)},disabled:h.disabled})]})})})]})}const jx=Yi()(h=>({text:"",setText:_=>{h({text:_})},modal:null,title:"",message:"",banner:null,data:null,placeholder:"",callback:()=>{},showModal:(_,m,v,R,E,y,f,a)=>{h({modal:_,title:m,message:v,banner:R,callback:E,data:y,text:a||"",placeholder:f||""})},hideModal:()=>{h({modal:null,title:"",message:"",banner:null,callback:()=>{},data:null,text:"",placeholder:""})}})),Xt=Xi(jx);function Ix(){const h=Fe.use.workspace(),_=Fe.use.activeWorkspaceOptionModal(),m=Fe.use.setActiveWorkspaceOptionModal(),v=Fe.use.updateWorkspace(),R=Fe.use.loadWorkspace(),E=Fe.use.deleteWorkspace(),y=Xt.use.showModal(),[f,a]=ie.useState(null),[c,s]=ie.useState(""),[i,n]=ie.useState("");ie.useEffect(()=>{_&&(a(_),s(_.name))},[_]);function r(){m(null),s(".")}async function l(){if(!f)return;if(f.name.length<1){n("Package name cannot be empty");return}if(!await v(f)){n("Failed to update workspace");return}await R(),r()}async function u(){if(!_)return;if(h.find(d=>d.info.name===_.name)?.isRunningAs){y("alert","Workspace is running","Please stop the workspace before deleting it");return}y("confirm",`Delete ${_.name}`,`Are you sure you want to delete ${_.name}?
It can be reverse with GIT`,"warning",async d=>{d&&(await E(_),await R(),r())})}return _?O.jsxs(Ri,{children:[O.jsx(Ni,{close:r,title:c,description:f?.path??""}),O.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[i&&O.jsx("p",{className:"text-red-500 mb-2",children:i}),O.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[O.jsx(ni,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:f?.fontawesomeIcon||"",onChange:o=>{f&&a({...f,fontawesomeIcon:o.target.value.toLowerCase()})}}),O.jsx(ni,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:f?.description||"",onChange:o=>{f&&a({...f,description:o.target.value})}})]}),O.jsx("h4",{className:"my-4 w-full font-semibold text-gray-500 uppercase tracking-wider flex items-center",children:O.jsxs("p",{className:"flex-1 text-sm",children:[O.jsx("i",{className:"fas fa-terminal mr-2"}),O.jsx("span",{children:"Scripts & Commands"})]})}),O.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{pkg:"devCommand",label:"Dev Command",icon:"fas fa-code",placeholder:"ex: nodemon index.js"},{pkg:"startCommand",label:"Start Command",icon:"fas fa-code",placeholder:"ex: node index.js"},{pkg:"stopCommand",label:"Stop Command",icon:"fas fa-code",placeholder:"ex: npx -y kill-port 3000"},{pkg:"buildCommand",label:"Build Command",icon:"fas fa-code",placeholder:"ex: tsc"},{pkg:"cleanCommand",label:"Clean Command",icon:"fas fa-code",placeholder:"ex: rm -rf dist"},{pkg:"lintCommand",label:"Lint Command",icon:"fas fa-code",placeholder:"ex: lint ."},{pkg:"testCommand",label:"Test Command",icon:"fas fa-code",placeholder:"ex: jest"}].map(o=>O.jsx(ni,{label:o.label,icon:o.icon,placeholder:o.placeholder,value:f?.[o.pkg]||"",onChange:d=>{f&&a({...f,[o.pkg]:d.target.value})}},o.pkg))})]}),O.jsxs("footer",{className:"p-2 px-6 flex gap-4",children:[O.jsx("div",{className:"flex-1",children:O.jsxs("button",{onClick:u,className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-red-400 rounded-lg"}),O.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),O.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})}),O.jsxs("button",{onClick:r,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:"Cancel"}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),O.jsx(Zn,{onClick:l,text:"Save",icon:"fas fa-save"})]})]}):null}function Bx(h){const _=Xe.use.getTemplates(),[m,v]=ie.useState({project:[],database:[],services:[],opensource:[],tool:[],demo:[]}),[R,E]=ie.useState("Project");return ie.useEffect(()=>{if(!h.show)return;(async()=>{const f=await _(),a={project:f.project||[],database:f.database||[],services:f.services||[],opensource:f.opensource||[],tool:f.tool||[],demo:f.demo||[]};v(a)})()},[h.show]),h.show?O.jsxs(Ri,{width:"700px",children:[O.jsx(Ni,{close:()=>h.onClose(),title:"Select Template or Open-source App",description:"Choose a template or bundle an open-source app"}),O.jsxs("div",{className:"flex-1 flex flex-row gap-2 overflow-hidden p-2",children:[O.jsxs("div",{className:"w-48",children:[O.jsx(ao,{name:"Project",icon:"fas fa-code",activeTab:R,setActiveTab:E}),O.jsxs("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2 flex gap-2",children:[O.jsx("li",{className:"fab fa-docker"}),"Docker Apps"]}),O.jsx(ao,{name:"Database",icon:"fas fa-database",activeTab:R,setActiveTab:E}),O.jsx(ao,{name:"Services",icon:"fas fa-server",activeTab:R,setActiveTab:E}),O.jsx(ao,{name:"Open Source",icon:"fa-brands fa-github",activeTab:R,setActiveTab:E}),O.jsx(ao,{name:"Tool",icon:"fas fa-tools",activeTab:R,setActiveTab:E}),O.jsx("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2",children:"Sample Projects"}),O.jsx(ao,{name:"Demo",icon:"fas fa-cube",activeTab:R,setActiveTab:E})]}),O.jsx("div",{className:"flex-1 w-full h-[500px] overflow-y-auto",children:O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx(lo,{show:R==="Project",project:m.project,onClick:(y,f)=>{h.onSelect(y,f)}}),O.jsx(lo,{show:R==="Database",project:m.database,onClick:(y,f)=>{h.onSelect(y,f)}}),O.jsx(lo,{show:R==="Services",project:m.services,onClick:(y,f)=>{h.onSelect(y,f)}}),O.jsx(lo,{show:R==="Open Source",project:m.opensource,onClick:(y,f)=>{h.onSelect(y,f)}}),O.jsx(lo,{show:R==="Tool",project:m.tool,onClick:(y,f)=>{h.onSelect(y,f)}}),O.jsx(lo,{show:R==="Demo",project:m.demo,onClick:(y,f)=>{h.onSelect(y,f)}})]})})]})]}):null}function ao({name:h,icon:_,activeTab:m,setActiveTab:v}){return O.jsxs("button",{onClick:()=>v(h),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 w-full text-left
                    ${m===h?"bg-gradient-to-br from-blue-600 to-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,children:[O.jsx("i",{className:`${_} w-5 text-center ${m===h?"text-blue-400":"text-gray-500 group-hover:text-gray-400"}`}),h]})}function lo({project:h,onClick:_,show:m}){return m?O.jsx(O.Fragment,{children:h.map((v,R)=>O.jsx("button",{onClick:()=>_(v.name,v.type),className:"rounded-lg flex items-center p-2 hover:bg-gradient-to-br hover:from-blue-600/50 hover:to-blue-400/50 text-left w-full",children:O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("i",{className:`${v.icon} text-xl`}),O.jsx("span",{className:"font-bold text-gray-200 group-hover:text-blue-400 text-base truncate",children:v.name})]}),O.jsx("div",{className:"text-xs text-white mt-1 leading-relaxed",children:v.description}),v.notes&&O.jsxs("div",{className:"flex items-start gap-1.5 text-[11px] text-amber-400/90  w-fit",children:[O.jsx("i",{className:"fas fa-info-circle mt-0.5"}),O.jsx("span",{className:"font-medium opacity-90",children:v.notes})]})]})},R))}):null}function Hx({label:h,icon:_,value:m,onChange:v,options:R,placeholder:E="Select an option"}){return O.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[O.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:h}),O.jsxs("div",{className:"relative group rounded-lg transition-all duration-300",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg opacity-0 group-focus-within:opacity-100 blur transition-opacity duration-300 -z-10"}),O.jsx("div",{className:"relative p-[1px] rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 group-focus-within:from-blue-600 group-focus-within:to-blue-400 transition-colors duration-300",children:O.jsxs("div",{className:"relative bg-[#0A0A0A] rounded-[7px] flex items-center overflow-hidden",children:[O.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:O.jsx("i",{className:`${_} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),O.jsxs("select",{value:m,onChange:v,className:"appearance-none pl-3 pr-10 py-2.5 text-sm w-full bg-transparent text-gray-200 placeholder-gray-600 focus:outline-none cursor-pointer",children:[O.jsx("option",{value:"",disabled:!0,className:"bg-gray-900 text-gray-500",children:E}),R.map((y,f)=>{const a=typeof y=="string"?y:y.label,c=typeof y=="string"?y:y.value||y.path||"";return O.jsx("option",{value:c,className:"bg-[#0A0A0A] text-gray-300",children:a},f)})]}),O.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:O.jsx("i",{className:"fas fa-chevron-down text-gray-500 group-focus-within:text-blue-400 text-xs transition-colors"})})]})})]})]})}const zx={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Fx(h){const[_,m]=ie.useState([]),v=Fe.use.showWorkspaceNew(),R=Fe.use.listWorkspace();return ie.useEffect(()=>{v&&(async()=>{const y=await R();m(y),h.setWorkspaceCopy({...zx,path:y[0].path||""}),h.setTemplateType("")})()},[v]),O.jsxs(Ri,{children:[O.jsx(Ni,{close:h.close,title:"New Workspace App",description:"Create a new application inside the workspace"}),O.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[h.error&&O.jsx("p",{className:"text-red-500",children:h.error}),O.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[O.jsx(ni,{label:"Name (small letters)",icon:"fa fa-cube",placeholder:"Package and Folder Name",value:h.workspaceCopy?.name||"",onChange:E=>{if(!h.workspaceCopy)return;const y=E.target.value.replace(/ /g,"-");h.setWorkspaceCopy({...h.workspaceCopy,name:y.toLowerCase()})}}),O.jsx(Hx,{label:"Workspace Directory",icon:"fas fa-folder",placeholder:"Select a workspace directory",value:h.workspaceCopy?.path||"",onChange:E=>{h.workspaceCopy&&h.setWorkspaceCopy({...h.workspaceCopy,path:E.target.value})},options:_})]}),h.template===""&&O.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[O.jsx(ni,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:h.workspaceCopy?.fontawesomeIcon||"",onChange:E=>{h.workspaceCopy&&h.setWorkspaceCopy({...h.workspaceCopy,fontawesomeIcon:E.target.value.toLowerCase()})}}),O.jsx(ni,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:h.workspaceCopy?.description||"",onChange:E=>{h.workspaceCopy&&h.setWorkspaceCopy({...h.workspaceCopy,description:E.target.value})}})]}),O.jsxs("div",{className:"flex flex-row w-[50%] gap-2 mb-2 mt-4",children:[O.jsx(ni,{label:"Template (Optional)",icon:"fas fa-cube",placeholder:"Template name",value:h.template,disabled:!0,onChange:()=>{}}),O.jsxs("button",{onClick:()=>h.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),O.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]})]}),O.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[O.jsxs("button",{onClick:h.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:"Cancel"}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),O.jsx(Zn,{onClick:h.createWorkspace,text:"Create New App",icon:"fas fa-plus"})]})]})}function Px(h){return O.jsxs(Ri,{children:[O.jsx(Ni,{close:h.close,title:"Add Open Source App",description:"Bundle it with your monorepo to allow developer to use the same tool as you do"}),O.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[O.jsxs("div",{className:"flex flex-row w-full gap-6 px-5 mb-5",children:[O.jsx(ni,{label:"App Name",icon:"fas fa-cube",placeholder:"",value:h.template,onChange:_=>{h.setTemplate(_.target.value)},disabled:!0}),O.jsxs("button",{onClick:()=>h.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),O.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]}),O.jsxs("div",{className:"text-sm text-gray-500 ml-4",children:[O.jsx("p",{children:"* it will be place in opensource folder"}),O.jsx("p",{children:"** Requires Docker installed in your system to run"})]})]}),O.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[O.jsxs("button",{onClick:h.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:"Cancel"}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),O.jsx(Zn,{onClick:h.createWorkspace,text:"Add New Tool",icon:"fas fa-plus"})]})]})}const Wx={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Ux(){const[h,_]=ie.useState(Wx),[m,v]=ie.useState(""),R=Fe.use.showWorkspaceNew(),E=Fe.use.workspace(),y=Fe.use.createNewWorkspace(),f=Fe.use.setShowWorkspaceNew(),a=Fe.use.setShowNewTerminalWindow(),c=Fe.use.loadWorkspace(),s=Fe.use.setWorkspaceTemplate(),i=Fe.use.setWorkspaceLoading(),[n,r]=ie.useState(""),[l,u]=ie.useState(!1),[o,d]=ie.useState("");ie.useEffect(()=>{R&&(r(""),d(""),v(""))},[R]);function g(){v(""),f(!1)}async function x(){if(o!=="tool"&&o!=="opensource-app"&&(h.name===""||h.path==="")){v("Package name and path is required");return}if(E.find(b=>b.info.name===h.name)){v("Package name already exist");return}const w={name:h.name,path:h.path+"/"+h.name,devCommand:h.devCommand,fontawesomeIcon:h.fontawesomeIcon||void 0,description:h.description||void 0};try{i(!0),f(!1),o!="tool"&&o!="opensource-app"?await y(w)&&(n?await s(w,n):(i(!1),a(w))):await s(w,n)}catch{if(window.isLoadingCancelled)return;v("Failed to create workspace")}c(),i(!1)}return R?O.jsxs(O.Fragment,{children:[o=="tool"||o=="opensource-app"?O.jsx(Px,{template:n,setTemplate:r,setShowTemplateSelector:u,close:g,createWorkspace:x}):O.jsx(Fx,{createWorkspace:x,templateType:o,setTemplateType:d,workspaceCopy:h,setWorkspaceCopy:_,setShowTemplateSelector:u,template:n,close:g,error:m,setError:v}),O.jsx(Bx,{show:l,onClose:()=>u(!1),onSelect:(S,w)=>{r(S),d(w),u(!1)}})]}):null}function Vx(){const h=Fe.use.showNewTerminalWindow(),_=Fe.use.setShowNewTerminalWindow(),m=ie.useRef(null),v=()=>{m.current&&m.current.disconnect(),_(null)};return ie.useEffect(()=>{if(h&&m.current){const R=setTimeout(()=>{m.current?.connect(h.path,"bash",h.name),m.current?.focus()},50);return()=>clearTimeout(R)}},[h]),h?O.jsxs(Ri,{width:"800px",children:[O.jsx(Ni,{close:v,title:h.name||"",description:h.description||"",icon:"fas fa-terminal text-blue-500 text-xl"}),O.jsx("div",{className:"flex-1 overflow-hidden p-2",children:O.jsx(fs,{ref:m,isInteractive:!0,className:"h-full",socketUrl:$e.serverPath})})]}):null}const Km={default:"from-blue-600/50 to-blue-400/50",neon:"from-blue-600/50 to-purple-600/50",blueIndigo:"from-blue-500 to-indigo-600",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function Wh(h){const _=h.spanTo??"toLeft",m=Km[h.color]??h.color??Km.default,v={toLeft:{btnFlex:"flex-row justify-end",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toRight:{btnFlex:"flex-row justify-start",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toTop:{btnFlex:"flex-col justify-end",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"},toBottom:{btnFlex:"flex-col justify-start",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"}},R=v[_]||v.toLeft;return O.jsx("button",{onClick:E=>{E.stopPropagation(),h.onClick()},className:`group fixed z-50 flex items-center ${R.btnFlex}`,style:{top:h.top,right:h.right,bottom:h.bottom,left:h.left},children:O.jsx("div",{className:`relative flex items-center ${R.contentFlex} p-[1px] rounded-xl bg-gradient-to-r ${m} transition-transform duration-300 group-hover:scale-105`,children:O.jsxs("div",{className:`relative flex items-center ${R.contentFlex} bg-[#0A0A0A] rounded-xl px-4 py-3 transition-colors duration-300 group-hover:bg-[#0A0A0A]/80`,children:[O.jsx("i",{className:h.icon+" w-6 h-6 text-xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"}),O.jsx("span",{className:`font-bold overflow-hidden transition-all duration-300 whitespace-nowrap text-white ${R.textAnim}`,children:h.text})]})})})}function Gx(){const h=Xe.use.hideShowFileFolder(),_=Fe.use.workspace(),m=Fe.use.setShowWorkspaceNew(),v=Xe.use.setShowTerminal(),[R,E]=ie.useState(!0);async function y(){try{let f=[];_.filter(i=>i.isRunningAs!=null).length>0&&(f=_.filter(i=>i.isRunningAs==null).map(i=>i.info.path)),(await h(R,f)).isHidden?E(!1):E(!0)}catch(f){console.error("Error toggling files visibility:",f)}}return O.jsxs(O.Fragment,{children:[O.jsx(Wh,{onClick:()=>v(!0),bottom:184,right:32,icon:"fa-solid fa-terminal",text:"Root Terminal"}),O.jsx(Wh,{onClick:()=>y(),bottom:104,right:32,icon:R?"fa-solid fa-eye-slash":"fa-solid fa-eye",text:R?"Hide Files":"Show Files"}),O.jsx(Wh,{onClick:()=>m(!0),bottom:24,right:32,icon:"fa-solid fa-plus",text:"Add Workspace App"})]})}function Kx(){const h=Fe.use.workspaceLoading(),_=Fe.use.loadMessage();return h?O.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-black/50",children:O.jsxs("div",{className:"flex flex-col items-center",children:[O.jsx("i",{className:"fas fa-spinner animate-spin text-4xl text-blue-500"}),O.jsx("p",{className:"text-white text-lg font-bold",children:_}),O.jsx("button",{className:"mt-2 text-white text-md w-24 font-bold bg-red-500 p-2 rounded hover:bg-red-600",onClick:()=>{window.isLoadingCancelled=!0},children:"Cancel"})]})}):null}function Yx(h){const{whichShow:_,setWhichShow:m}=h,v=Fe.use.workspaceDirs();return O.jsxs("div",{className:"absolute top-2 left-2 z-20 bg-gradient-to-br from-blue-600/10 to-blue-400/10 px-2 rounded-lg",children:[O.jsx("button",{onClick:()=>m("all"),className:`${_==="all"?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,children:"Show All Apps"}),v.map(R=>O.jsx("button",{onClick:()=>m(R),className:`${_===R?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,children:R},R))]})}function Xx(h){const[_,m]=ie.useState("all"),v=Fe.use.workspace(),R=Fe.use.loadWorkspace(),[E,y]=ie.useState(null),[f,a]=ie.useState(!1),[c,s]=ie.useState(!1);ie.useEffect(()=>{h.isVisible&&R()},[h.isVisible]),ie.useEffect(()=>{y(_==="all"?v:v.filter(r=>r.info.workspace===_));const n=v.find(r=>r.isRunningAs!=null);a(!!n)},[_,v]);const i=ie.useMemo(()=>{if(!E)return[];const n={};return E.forEach(l=>{const u=l.info.workspace||"other";n[u]||(n[u]=[]),n[u].push(l)}),Object.keys(n).sort((l,u)=>l.localeCompare(u)).map(l=>({dir:l,items:n[l].sort((u,o)=>u.info.name.localeCompare(o.info.name))}))},[E]);return O.jsxs(O.Fragment,{children:[h.isVisible&&O.jsx(Yx,{whichShow:_,setWhichShow:m}),O.jsxs("div",{className:`relative flex flex-col w-full h-full ${h.isVisible?"":"hidden"}`,children:[O.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[O.jsx("div",{className:`flex-1 min-h-0 flex overflow-hidden p-2 transition-all duration-500 ${c?"opacity-0 h-0 pointer-events-none":"opacity-100"}`,children:O.jsx("div",{className:"px-3 flex-1 xl:grid-cols-4 pt-9 h-full overflow-y-auto grid grid-cols-1 md:grid-cols-2 content-start gap-4 relative transition-all duration-300",children:i.map(n=>O.jsxs("div",{className:"contents",children:[_==="all"&&O.jsx("div",{className:"col-span-full",children:O.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-white/80",children:n.dir})}),n.items.map(r=>O.jsx("div",{children:O.jsx(Ox,{...r})},r.info.name))]},n.dir))})}),O.jsx("div",{className:`transition-all duration-500 ease-in-out
                            ${f?`${c?"h-[calc(100vh-100px)]":"h-[40%]"} opacity-100 translate-y-0`:"h-0 opacity-0 translate-y-4 overflow-hidden pointer-events-none"}`,children:O.jsx(Rx,{whichShow:_,isMaximized:c,onToggleMaximize:()=>s(!c)})})]}),O.jsx(Gx,{}),O.jsx(Ix,{}),O.jsx(Ux,{}),O.jsx(Vx,{}),O.jsx(Kx,{})]})]})}function qx(){const h=Xt.use.text(),_=Xt.use.setText(),m=Xt.use.modal(),v=Xt.use.title(),R=Xt.use.message(),E=Xt.use.callback(),y=Xt.use.hideModal(),f=Xt.use.banner(),a=Xt.use.data(),c=Xt.use.placeholder();let s="fa fa-info-circle",i="bg-blue-500/20",n="text-blue-400",r="bg-blue-600 hover:bg-blue-500";return f==="warning"?(s="fa fa-exclamation-triangle",i="bg-yellow-500/20",n="text-yellow-400",r="bg-yellow-600 hover:bg-yellow-500"):f==="error"?(s="fa fa-times-circle",i="bg-red-500/20",n="text-red-400",r="bg-red-600 hover:bg-red-500"):f==="success"&&(s="fa fa-check-circle",i="bg-green-500/20",n="text-green-400",r="bg-green-600 hover:bg-green-500"),m?O.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:O.jsx("div",{className:"relative w-full max-w-[500px] animate-in fade-in zoom-in-95 duration-200",children:O.jsxs("div",{className:"relative bg-gray-900/95 backdrop-blur-xl rounded overflow-hidden",children:[O.jsx("div",{className:"px-5 pt-5 pb-4",children:O.jsxs("div",{className:"flex items-start gap-4",children:[O.jsx("div",{className:`w-10 h-10 rounded-lg ${i} flex items-center justify-center flex-shrink-0`,children:O.jsx("i",{className:`${s} ${n} text-lg`})}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:v}),O.jsx("p",{className:"text-md text-gray-400 leading-relaxed",children:R})]})]})}),O.jsxs("div",{className:"px-5 py-4",children:[m==="alert"&&O.jsx("button",{onClick:()=>{E&&E(void 0),y()},autoFocus:!0,className:`w-full py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"OK"}),m==="selection"&&O.jsxs("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto",children:[a?.map((l,u)=>O.jsxs("button",{onClick:()=>{E&&E(l),y()},className:"flex items-center gap-3 w-full p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left group ",children:[O.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-800 flex items-center justify-center text-gray-400 group-hover:text-white transition-colors",children:O.jsx("i",{className:`fas ${l.info.fontawesomeIcon||"fa-box"}`})}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("div",{className:"text-white font-medium text-sm truncate",children:l.info.name}),O.jsx("div",{className:"text-gray-500 text-xs truncate",children:l.info.path})]}),O.jsx("i",{className:"fas fa-chevron-right text-gray-600 group-hover:text-gray-400 text-sm"})]},u)),O.jsx("button",{onClick:()=>y(),className:"mt-2 w-full py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"})]}),m==="confirm"&&O.jsxs("div",{className:"flex gap-3 justify-end",children:[O.jsx("button",{onClick:()=>{E&&E(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),O.jsx("button",{onClick:()=>{E&&E(!0),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"Confirm"})]}),m==="prompt"&&O.jsxs("div",{className:"flex flex-col gap-4",children:[O.jsx("input",{value:h,placeholder:c,onChange:l=>_(l.target.value),onKeyDown:l=>{l.key==="Enter"&&(E&&E(h),y())},autoFocus:!0,type:"text",className:"w-full px-4 py-3 rounded-lg text-white text-sm bg-white/5 focus:outline-none focus:ring-2 focus:ring-white/5 placeholder-gray-500 transition-all"}),O.jsxs("div",{className:"flex gap-3 justify-end",children:[O.jsx("button",{onClick:()=>{E&&E(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),O.jsx("button",{onClick:()=>{E&&E(h),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${r}`,children:"Submit"})]})]})]})]})})}):null}function Zx(){const h=Xe.use.showTerminal(),_=Xe.use.rootDir(),m=Xe.use.setShowTerminal(),v=ie.useRef(null),R=()=>{v.current&&v.current.disconnect(),m(!1)};return ie.useEffect(()=>{if(h&&_&&v.current){const E=setTimeout(()=>{v.current?.connect(_),v.current?.focus()},50);return()=>clearTimeout(E)}},[h,_]),h?O.jsxs(Ri,{width:"800px",children:[O.jsx(Ni,{close:R,title:"Root Terminal",description:"Execute commands in the project root",icon:"fas fa-terminal text-blue-500 text-xl"}),O.jsx("div",{className:"flex-1 overflow-hidden p-2",children:O.jsx(fs,{ref:v,isInteractive:!0,className:"h-full",socketUrl:$e.serverPath})})]}):null}function Qx({onComplete:h}){const _=Xe.use.scaffoldRepo(),[m,v]=ie.useState("intro"),[R,E]=ie.useState(""),y=async()=>{v("scaffolding"),E("Scaffolding directories and files...");try{const f=await _();f.success?(E("Scaffolding complete! Installing dependencies..."),setTimeout(()=>{v("success")},1e3)):(E(`Error: ${f.error}`),setTimeout(()=>h&&h(),3e3))}catch(f){console.error(f),E("Failed to connect to backend."),setTimeout(()=>h&&h(),3e3)}};return O.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:O.jsx("div",{className:"bg-[#111111] border border-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl flex flex-col relative animate-fade-in-up my-auto",children:O.jsxs("div",{className:"p-6 md:p-12 flex-1",children:[m==="intro"&&O.jsxs("div",{className:"space-y-8 text-center",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-600 to-blue-400 border border-blue-500/20 mb-4",children:O.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12"})}),O.jsxs("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight text-white leading-tight",children:["Welcome to ",O.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-400 block sm:inline",children:"Monorepo TIME"})]}),O.jsx("p",{className:"text-base md:text-lg text-gray-400 max-w-lg mx-auto leading-relaxed",children:"Your modern dashboard for managing monorepos with speed, elegance, and precision."})]}),O.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-left",children:[{icon:"fa-project-diagram",title:"Unified View",desc:"Manage apps & packages in one place."},{icon:"fa-terminal",title:"Web Terminal",desc:"Run commands without leaving the UI."},{icon:"fa-bolt",title:"Turborepo",desc:"Accelerate workflows with Turbo."}].map((f,a)=>O.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[O.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center mb-3",children:O.jsx("i",{className:`fas ${f.icon} text-blue-400`})}),O.jsx("h3",{className:"font-semibold text-gray-200",children:f.title}),O.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.desc})]},a))}),O.jsx("div",{className:"pt-4",children:O.jsxs("button",{onClick:()=>v("prompt"),className:"w-full sm:w-auto px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:["Get Started ",O.jsx("i",{className:"fas fa-arrow-right ml-2 text-sm"})]})})]}),m==="prompt"&&O.jsxs("div",{className:"space-y-6 md:space-y-8",children:[O.jsxs("div",{className:"text-center space-y-4",children:[O.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full bg-blue-500/10 text-blue-400 mb-2",children:O.jsx("i",{className:"fas fa-tools text-xl md:text-2xl"})}),O.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Recommended Setup"}),O.jsx("p",{className:"text-sm md:text-base text-gray-400 max-w-md mx-auto",children:"We noticed this might be a new project. Let's get you set up with a best-practice folder structure."})]}),O.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex flex-col sm:flex-row items-start gap-4",children:[O.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg shrink-0",children:O.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-500 text-lg"})}),O.jsxs("div",{children:[O.jsx("h4",{className:"text-yellow-500 font-semibold text-sm uppercase tracking-wider mb-1",children:"Requirement"}),O.jsxs("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:["This tool requires ",O.jsx("strong",{className:"text-white",children:"Turborepo"})," to function correctly. We will generate a ",O.jsx("code",{className:"bg-black/30 px-1.5 py-0.5 rounded text-white font-mono text-xs",children:"turbo.json"})," configuration and organize your workspace for you."]})]})]}),O.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 font-mono text-sm text-gray-400 overflow-x-auto",children:[O.jsx("p",{className:"mb-2 text-xs text-gray-500 uppercase tracking-widest font-semibold",children:"Planned Structure"}),O.jsxs("div",{className:"space-y-2 pl-2 border-l border-gray-800 min-w-[280px]",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-folder text-blue-500"})," /root"]}),O.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[O.jsx("i",{className:"fas fa-folder text-yellow-500"})," apps/"]}),O.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[O.jsx("i",{className:"fas fa-folder text-green-500"})," packages/"]}),O.jsxs("div",{className:"flex items-center gap-2 pl-8 text-gray-500",children:[O.jsx("i",{className:"fas fa-folder text-green-500/50"})," types/"]}),O.jsxs("div",{className:"flex items-center gap-2 pl-4 truncate",children:[O.jsx("i",{className:"fas fa-file-code text-purple-400 shrink-0"}),"turbo.json",O.jsx("span",{className:"text-[10px] text-blue-400 border border-blue-400/30 px-1 rounded ml-auto",children:"NEW"})]})]})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-2",children:[O.jsx("button",{onClick:y,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:"Scaffold & Install"}),O.jsx("button",{onClick:h,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 font-medium transition-colors border border-white/5",children:"Skip setup"})]})]}),m==="scaffolding"&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6 text-center",children:[O.jsxs("div",{className:"relative",children:[O.jsx("div",{className:"w-16 h-16 border-4 border-gray-700 rounded-full"}),O.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})]}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Setting things up"}),O.jsx("p",{className:"text-gray-400 animate-pulse",children:R})]})]}),m==="success"&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6 text-center",children:[O.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center border border-green-500/20",children:O.jsx("i",{className:"fas fa-check text-4xl text-green-500"})}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("h3",{className:"text-2xl font-bold text-white",children:"Ready to go!"}),O.jsx("p",{className:"text-gray-400 max-w-sm mx-auto",children:"Your workspace has been successfully initialized. You can now start building."})]}),O.jsx("button",{onClick:h,className:"px-8 py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-medium transition-colors shadow-lg shadow-green-600/20 w-full sm:w-auto",children:"Enter Dashboard"})]})]})})})}function Jx(){return O.jsxs("div",{className:"w-screen h-screen overflow-hidden",children:[O.jsx(u0,{}),O.jsx("div",{className:"flex flex-1 overflow-hidden ",children:O.jsx("main",{className:"flex-1 relative overflow-hidden bg-gray-900",children:O.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[O.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl"}),O.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]})})})]})}function hc(h){return h.isNotRendered||h.render!=null&&h.render==!1?null:O.jsx(ew,{...h})}function ew(h){const _=vo.blueIndigo,m=h.color&&vo[h.color]?vo[h.color]:h.color||_;return O.jsxs("button",{disabled:h.disabled,onClick:v=>{v.stopPropagation(),!h.disabled&&h.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${h.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg"}
            `,children:[!h.disabled&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),O.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${m} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),O.jsxs("div",{className:`
                relative h-full w-full rounded bg-gradient-to-br from-blue-600/15 to-blue-400/15 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
                ${!h.disabled&&!h.bg?"group-hover:bg-[#212121]/70":""}
            `,children:[h.bg&&O.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m} opacity-20`}),O.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${m} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:O.jsx("i",{className:`fas ${h.icon||"fa-circle"} text-sm`})}),O.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[O.jsx("span",{className:`
                        font-bold text-sm truncate transition-colors duration-300
                        ${h.disabled?"text-gray-500":h.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:h.name}),O.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${h.disabled?"text-gray-600":h.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:h.description})]})]})]},h.name)}function tw({onClose:h}){return O.jsxs(Ri,{width:"900px",children:[O.jsx(Ni,{title:"CI/CD Tutorial with Vercel",description:"Mastering Continuous Integration & Deployment",icon:"fas fa-infinity",close:h}),O.jsxs("div",{className:"flex flex-col h-[70vh] overflow-hidden text-sm",children:[O.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-12 text-gray-300 custom-scrollbar",children:[O.jsxs("section",{id:"intro",className:"space-y-4",children:[O.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[O.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:O.jsx("i",{className:"fas fa-infinity text-2xl text-white"})}),O.jsxs("div",{children:[O.jsx("h2",{className:"text-2xl font-bold text-white",children:"What is CI/CD?"}),O.jsx("p",{className:"text-blue-400 text-sm",children:"Continuous Integration & Continuous Delivery"})]})]}),O.jsx("div",{className:"bg-white/5 p-6 rounded-xl border border-white/10",children:O.jsxs("p",{className:"leading-relaxed",children:[O.jsx("strong",{className:"text-white",children:"CI (Continuous Integration)"})," is the practice of automating the integration of code changes from multiple contributors into a single software project.",O.jsx("br",{}),O.jsx("br",{}),O.jsx("strong",{className:"text-white",children:"CD (Continuous Delivery/Deployment)"})," ensures that your code is always in a deployable state and automatically releases it to production when ready."]})})]}),O.jsxs("section",{id:"why",className:"space-y-6",children:[O.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[O.jsx("i",{className:"fas fa-lightbulb text-yellow-500"}),"Why use CI/CD?"]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"Speed",desc:"Ship code faster with automated testing and building.",icon:"fa-rocket",color:"text-green-400"},{title:"Reliability",desc:"Catch bugs early before they reach production.",icon:"fa-shield-alt",color:"text-blue-400"},{title:"Efficiency",desc:"Stop wasting time on manual deployments.",icon:"fa-clock",color:"text-orange-400"},{title:"Consistency",desc:"Ensure every environment matches production.",icon:"fa-sync",color:"text-purple-400"}].map(_=>O.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-white/20 transition-colors",children:[O.jsx("i",{className:`fas ${_.icon} ${_.color} text-xl mb-3`}),O.jsx("h3",{className:"text-white font-bold mb-1",children:_.title}),O.jsx("p",{className:"text-sm text-gray-400",children:_.desc})]},_.title))})]}),O.jsxs("section",{id:"turbo-vercel",className:"space-y-6",children:[O.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:O.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[O.jsx("i",{className:"fas fa-layer-group text-pink-500"}),"Turborepo + Vercel"]})}),O.jsxs("div",{className:"flex items-center gap-8 justify-center py-8",children:[O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-[#1e1e1e] flex items-center justify-center border border-white/20 mb-3",children:O.jsx("i",{className:"fas fa-cube text-3xl text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500"})}),O.jsx("span",{className:"font-bold text-white",children:"Turborepo"})]}),O.jsxs("div",{className:"flex flex-col items-center gap-1",children:[O.jsx("span",{className:"text-xs text-green-400 font-bold",children:"CACHE HIT!"}),O.jsx("div",{className:"h-[2px] w-24 bg-gradient-to-r from-red-500 to-white"}),O.jsx("i",{className:"fas fa-arrow-right text-white"})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-black flex items-center justify-center border border-white/20 mb-3",children:O.jsx("i",{className:"fas fa-triangle text-3xl text-white"})}),O.jsx("span",{className:"font-bold text-white",children:"Vercel"})]})]}),O.jsxs("p",{className:"bg-blue-500/10 border-l-4 border-blue-500 p-4 rounded text-sm",children:["Combining ",O.jsx("strong",{children:"Turborepo's"})," intelligent caching with ",O.jsx("strong",{children:"Vercel's"})," global edge network gives you the fastest build times and deployments possible. Vercel automatically understands your Turborepo structure."]})]}),O.jsxs("section",{id:"guide",className:"space-y-8",children:[O.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[O.jsx("i",{className:"fas fa-tasks text-green-500"}),"Step-by-Step Setup"]}),O.jsx("div",{className:"space-y-6",children:[{step:1,title:"Login with Vercel",desc:"Ensure you have a Vercel account and are logged in via the CLI or Dashboard to authorize deployments.",icon:"fa-sign-in-alt"},{step:2,title:"Connect to GitHub",desc:"Link your Monorepo to a GitHub repository. Vercel uses this to trigger automatic deployments on push.",icon:"fa-code-branch"},{step:3,title:"Add Projects in Vercel",desc:"In the Vercel Dashboard, import your repository. Vercel detects Turborepo and asks which workspace (app) you want to deploy. Add each app (e.g., 'web', 'docs') as a separate Vercel project linked to the same repo.",icon:"fa-plus-circle"},{step:4,title:"Deployment",desc:"Push to 'main' to deploy. Vercel will build only what has changed.",icon:"fa-cloud-upload-alt"}].map(_=>O.jsxs("div",{className:"flex gap-4",children:[O.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white border border-white/20",children:_.step}),O.jsxs("div",{className:"space-y-2",children:[O.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[_.title,O.jsx("i",{className:`fas ${_.icon} text-gray-500 text-sm`})]}),O.jsx("p",{className:"text-sm text-gray-400",children:_.desc})]})]},_.step))}),O.jsxs("div",{className:"mt-8 p-5 bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-500/30",children:[O.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-magic text-purple-400"}),'Pro Tip: The "Turbo Build" Button']}),O.jsxs("p",{className:"text-sm text-gray-300",children:["When you use the ",O.jsx("span",{className:"px-2 py-0.5 rounded bg-white/10 text-white font-mono text-xs",children:"turbo build"})," command or button in this dashboard, it can be configured to upload your ",O.jsx("strong",{children:"pre-compiled dist/build artifacts"})," directly to Vercel's cache."]}),O.jsxs("div",{className:"mt-3 flex items-start gap-3 text-xs text-purple-200 bg-purple-500/10 p-3 rounded-lg",children:[O.jsx("i",{className:"fas fa-info-circle mt-0.5"}),O.jsxs("span",{children:["This means Vercel ",O.jsx("strong",{children:"doesn't have to rebuild"})," everything from scratch. It pulls the artifacts you just built locally (or in CI), saving massive amounts of build minutes and time!"]})]})]})]})]}),O.jsxs("div",{className:"p-4 border-t border-white/10 bg-black/40 flex justify-between items-center text-xs text-gray-500",children:[O.jsx("span",{children:"Learn more at:"}),O.jsxs("div",{className:"flex gap-4",children:[O.jsxs("a",{href:"https://vercel.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[O.jsx("i",{className:"fas fa-triangle text-white"})," Vercel Docs"]}),O.jsxs("a",{href:"https://turbo.build/repo/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[O.jsx("i",{className:"fas fa-cube text-red-500"})," Turborepo Docs"]})]})]})]})]})}function dc(h){return O.jsxs("div",{className:"overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[O.jsx("span",{className:"text-white font-medium text-sm",children:h.title}),O.jsx("span",{className:"ml-auto text-gray-600 text-xs",children:h.description})]}),h.children?O.jsx("div",{className:h.contentClassName??"p-2 grid grid-cols-2 gap-2",children:h.children}):null]})}function Ld(h){return O.jsxs("header",{className:"px-4 py-3 border-b border-white/[0.08] flex justify-between items-center bg-black/30 flex-none backdrop-blur-md",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("div",{className:"relative",children:[O.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 blur-md opacity-50"}),O.jsx("div",{className:"relative w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 flex items-center justify-center shadow-lg shadow-blue-500/30",children:O.jsx("i",{className:h.icon})})]}),O.jsxs("div",{className:"flex flex-col",children:[O.jsx("div",{className:"flex items-center gap-2",children:O.jsx("span",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400",children:h.title})}),O.jsx("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:h.children})]})]}),O.jsxs("button",{onClick:h.handleStop,disabled:!h.isRunning,className:`px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-all duration-200
                            ${h.isRunning?"bg-red-500/20 border border-red-500/30 text-red-400 hover:bg-red-500/30 hover:border-red-500/50 cursor-pointer":"bg-white/5 border border-white/10 text-gray-500 cursor-not-allowed"}`,children:[O.jsx("i",{className:"fas fa-stop text-sm"}),"Stop"]})]})}const iw=[{title:"Build & Deploy",commands:[{label:"Install",cmd:"npm install",icon:"fa-download",color:"blueIndigo"},{label:"Build",cmd:"npx turbo build",icon:"fa-hammer",color:"emeraldTeal"},{label:"Deploy",cmd:"npx turbo run build --force",icon:"fa-sync-alt",color:"yellowOrange"}]},{title:"Code Quality",commands:[{label:"Lint",cmd:"npx turbo lint",icon:"fa-check-double",color:"cyanBlue"},{label:"Test",cmd:"npx turbo test",icon:"fa-vial",color:"emeraldTeal"}]},{title:"Optimization",commands:[{label:"Prune",cmd:"npx turbo prune",icon:"fa-scissors",color:"orangePurple"},{label:"Summary",cmd:"npx turbo run build --dry-run",icon:"fa-list-alt",color:"blueIndigo"},{label:"Generate",cmd:"npx turbo gen",icon:"fa-plus-circle",color:"pinkRose"}]},{title:"Diagnostics",commands:[{label:"Graph",cmd:"npx turbo run build --graph",icon:"fa-project-diagram",color:"cyanBlue"},{label:"Info",cmd:"npx turbo info",icon:"fa-info-circle",color:"blueIndigo"},{label:"Daemon",cmd:"npx turbo daemon status",icon:"fa-server",color:"gray"}]},{title:"Remote Cache",commands:[{label:"Link",cmd:"npx turbo link",icon:"fa-cloud",color:"cyanBlue"},{label:"Login",cmd:"npx turbo login",icon:"fa-sign-in-alt",color:"emeraldTeal"},{label:"Unlink",cmd:"npx turbo unlink",icon:"fa-unlink",color:"red"}]},{title:"Maintenance",commands:[{label:"Clean",cmd:"npx turbo clean",icon:"fa-broom",color:"orangePurple"},{label:"Cache",cmd:"rm -rf node_modules/.cache/turbo .turbo",icon:"fa-trash-alt",color:"darkRed"}]}];function nw(h){const _=ie.useRef(null),m=Xe.use.rootDir(),[v,R]=ie.useState(!1),[E,y]=ie.useState(!1);ie.useEffect(()=>()=>{_.current&&_.current.disconnect()},[]);const f=Xt.use.showModal(),a=Fe.use.workspace();function c(n){_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>{R(!1)}),_.current.onCrash(()=>{R(!1)}),R(!0),_.current.connect(m,n),_.current.fit())}function s(n){if(n==="npx turbo prune"||n==="npx turbo prune --docker"){f("selection","Select Workspace","Choose a workspace to prune / dockerize",null,r=>{if(r){const l=n.includes("--docker"),u=`npx turbo prune ${r.info.name}${l?" --docker":""}`;c(u)}},a);return}c(n)}function i(){_.current&&(_.current.disconnect(),R(!1))}return O.jsxs("div",{className:`h-full w-full p-2 gap-2 ${h.isVisible?"flex":"hidden"}`,children:[O.jsxs("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:[O.jsx("button",{onClick:()=>y(!0),className:`mb-4 p-2 w-full rounded-lg border border-blue-500/20 
                               hover:border-blue-500/40 hover:from-blue-500/20 hover:to-purple-500/20
                               transition-all duration-300 group`,children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("div",{className:"flex flex-col text-left",children:[O.jsx("span",{className:"text-white font-semibold text-sm",children:"CI/CD Tutorial"}),O.jsx("span",{className:"text-gray-400 text-xs",children:"Learn deployment with Vercel"})]}),O.jsx("i",{className:"fas fa-chevron-right text-gray-500 ml-auto group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})}),O.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:iw.map(n=>O.jsx(dc,{title:n.title,description:"",children:n.commands.map(r=>O.jsx(hc,{onClick:()=>s(r.cmd),name:r.label,description:r.cmd,color:r.color,icon:r.icon,disabled:v},r.label))},n.title))})]}),O.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[O.jsxs(Ld,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:i,isRunning:v,children:["Execute",O.jsx("a",{href:"https://turborepo.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Turborepo"}),"commands"]}),O.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:O.jsx(fs,{ref:_,isInteractive:!0,className:"h-full w-full",socketUrl:$e.serverPath,onExit:()=>{R(!1)},onCrash:()=>{R(!1)}})})]}),E&&O.jsx(tw,{onClose:()=>y(!1)})]})}const rw=Yi()((h,_)=>({noData:!0,crudData:[],currentCategoryIndex:-1,currentCrudIndex:-1,useDevURL:!0,devURL:"",prodURL:"",params:"",method:"GET",requestStartTime:0,isFetching:!1,executionTime:0,header:`{
  "Content-Type": "application/json",
  "Accept": "application/json",
  "Authorization": "Bearer token",
  "x-refresh-token": "refresh-token",
  "X-CSRF-Token": "csrf-token-placeholder",
 "Cache-Control": "no-cache"
}
`,body:`{
  "key": "value"
}
`,output:`{
  "key": "value"
}
`,expectedOutput:`Contains what to expect from the response
example:
{
    "key": "value"
}
`,setHeader:m=>h({header:m}),setBody:m=>h({body:m}),setOutput:m=>h({output:m}),setExpectedOutput:m=>h({expectedOutput:m}),setUseDevURL:m=>h({useDevURL:m}),setParams:m=>h({params:m}),setMethod:m=>h({method:m}),setCurrentCategoryIndex:m=>h({currentCategoryIndex:m}),setCurrentCrudIndex:m=>h({currentCrudIndex:m}),setCrudData:async m=>{try{await fetch(`${$e.serverPath}${Ie.crudTest}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({crudtest:m})})}catch(v){console.log(v)}h({crudData:m})},loadCrudData:async()=>{try{const m=await fetch(`${$e.serverPath}${Ie.crudTest}`);if(!m.ok){h({noData:!0});return}const v=await m.json();h({crudData:v.crudtest,noData:!1})}catch{h({noData:!0})}},sendRequest:async()=>{const{useDevURL:m,params:v,method:R,crudData:E,currentCategoryIndex:y,currentCrudIndex:f}=_(),a=v?v.startsWith("?")?v:`?${v}`:"",c=encodeURI(a),i=`${m?E[y].devurl:E[y].produrl}${E[y].items[f].route}${c}`,n=Date.now();if(h({isFetching:!0,requestStartTime:n,executionTime:0}),R==="STREAM"){try{h({output:""});const r=await fetch(i,{method:"GET",headers:JSON.parse(_().header)});if(!r.body){h({isFetching:!1,executionTime:Date.now()-n});return}const l=r.body.getReader(),u=new TextDecoder("utf-8");for(;;){const{done:o,value:d}=await l.read();if(o)break;const g=u.decode(d,{stream:!0});h(x=>({output:x.output+g}))}h({isFetching:!1,executionTime:Date.now()-n})}catch(r){let l="";try{l=r.toString()}catch(u){l="Error: "+u}h({output:l,isFetching:!1,executionTime:Date.now()-n})}return}try{const r={method:R,headers:JSON.parse(_().header)};R!=="GET"&&(r.body=_().body);const u=await(await fetch(i,r)).text();h({output:u,isFetching:!1,executionTime:Date.now()-n})}catch(r){let l="";try{l=r.toString()}catch(u){l="Error: "+u}h({output:l,isFetching:!1,executionTime:Date.now()-n})}}})),De=Xi(rw);var kr={},Tr={},Uh={exports:{}},Ym;function La(){return Ym||(Ym=1,(function(h,_){(function(){var m="ace",v=(function(){return this})();!v&&typeof window<"u"&&(v=window);var R=function(s,i,n){if(typeof s!="string"){R.original?R.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=i),R.modules[s]||(R.payloads[s]=n,R.modules[s]=null)};R.modules={},R.payloads={};var E=function(s,i,n){if(typeof i=="string"){var r=a(s,i);if(r!=null)return n&&n(),r}else if(Object.prototype.toString.call(i)==="[object Array]"){for(var l=[],u=0,o=i.length;u<o;++u){var d=a(s,i[u]);if(d==null&&y.original)return;l.push(d)}return n&&n.apply(null,l)||!0}},y=function(s,i){var n=E("",s,i);return n==null&&y.original?y.original.apply(this,arguments):n},f=function(s,i){if(i.indexOf("!")!==-1){var n=i.split("!");return f(s,n[0])+"!"+f(s,n[1])}if(i.charAt(0)=="."){var r=s.split("/").slice(0,-1).join("/");for(i=r+"/"+i;i.indexOf(".")!==-1&&l!=i;){var l=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},a=function(s,i){i=f(s,i);var n=R.modules[i];if(!n){if(n=R.payloads[i],typeof n=="function"){var r={},l={id:i,uri:"",exports:r,packaged:!0},u=function(d,g){return E(i,d,g)},o=n(u,r,l);r=o||l.exports,R.modules[i]=r,delete R.payloads[i]}n=R.modules[i]=r||n}return n};function c(s){var i=v;v[s]||(v[s]={}),i=v[s],(!i.define||!i.define.packaged)&&(R.original=i.define,i.define=R,i.define.packaged=!0),(!i.require||!i.require.packaged)&&(y.original=i.require,i.require=y,i.require.packaged=!0)}c(m)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(m,v,R){function E(y,f,a){Object.defineProperty(y,f,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||E(String.prototype,"startsWith",function(y,f){return f=f||0,this.lastIndexOf(y,f)===f}),String.prototype.endsWith||E(String.prototype,"endsWith",function(y,f){var a=this;(f===void 0||f>a.length)&&(f=a.length),f-=y.length;var c=a.indexOf(y,f);return c!==-1&&c===f}),String.prototype.repeat||E(String.prototype,"repeat",function(y){for(var f="",a=this;y>0;)y&1&&(f+=a),(y>>=1)&&(a+=a);return f}),String.prototype.includes||E(String.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Object.assign||(Object.assign=function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(y),a=1;a<arguments.length;a++){var c=arguments[a];c!=null&&Object.keys(c).forEach(function(s){f[s]=c[s]})}return f}),Object.values||(Object.values=function(y){return Object.keys(y).map(function(f){return y[f]})}),Array.prototype.find||E(Array.prototype,"find",function(y){for(var f=this.length,a=arguments[1],c=0;c<f;c++){var s=this[c];if(y.call(a,s,c,this))return s}}),Array.prototype.findIndex||E(Array.prototype,"findIndex",function(y){for(var f=this.length,a=arguments[1],c=0;c<f;c++){var s=this[c];if(y.call(a,s,c,this))return c}}),Array.prototype.includes||E(Array.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Array.prototype.fill||E(Array.prototype,"fill",function(y){for(var f=this,a=f.length>>>0,c=arguments[1],s=c>>0,i=s<0?Math.max(a+s,0):Math.min(s,a),n=arguments[2],r=n===void 0?a:n>>0,l=r<0?Math.max(a+r,0):Math.min(r,a);i<l;)f[i]=y,i++;return f}),Array.of||E(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(m,v,R){m("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(m,v,R){v.deepCopy=function E(y){if(typeof y!="object"||!y)return y;var f;if(Array.isArray(y)){f=[];for(var a=0;a<y.length;a++)f[a]=E(y[a]);return f}if(Object.prototype.toString.call(y)!=="[object Object]")return y;f={};for(var a in y)f[a]=E(y[a]);return f}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(m,v,R){v.last=function(f){return f[f.length-1]},v.stringReverse=function(f){return f.split("").reverse().join("")},v.stringRepeat=function(f,a){for(var c="";a>0;)a&1&&(c+=f),(a>>=1)&&(f+=f);return c};var E=/^\s\s*/,y=/\s\s*$/;v.stringTrimLeft=function(f){return f.replace(E,"")},v.stringTrimRight=function(f){return f.replace(y,"")},v.copyObject=function(f){var a={};for(var c in f)a[c]=f[c];return a},v.copyArray=function(f){for(var a=[],c=0,s=f.length;c<s;c++)f[c]&&typeof f[c]=="object"?a[c]=this.copyObject(f[c]):a[c]=f[c];return a},v.deepCopy=m("./deep_copy").deepCopy,v.arrayToMap=function(f){for(var a={},c=0;c<f.length;c++)a[f[c]]=1;return a},v.createMap=function(f){var a=Object.create(null);for(var c in f)a[c]=f[c];return a},v.arrayRemove=function(f,a){for(var c=0;c<=f.length;c++)a===f[c]&&f.splice(c,1)},v.escapeRegExp=function(f){return f.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},v.escapeHTML=function(f){return(""+f).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},v.getMatchOffsets=function(f,a){var c=[];return f.replace(a,function(s){c.push({offset:arguments[arguments.length-2],length:s.length})}),c},v.deferredCall=function(f){var a=null,c=function(){a=null,f()},s=function(i){return s.cancel(),a=setTimeout(c,i||0),s};return s.schedule=s,s.call=function(){return this.cancel(),f(),s},s.cancel=function(){return clearTimeout(a),a=null,s},s.isPending=function(){return a},s},v.delayedCall=function(f,a){var c=null,s=function(){c=null,f()},i=function(n){c==null&&(c=setTimeout(s,n||a))};return i.delay=function(n){c&&clearTimeout(c),c=setTimeout(s,n||a)},i.schedule=i,i.call=function(){this.cancel(),f()},i.cancel=function(){c&&clearTimeout(c),c=null},i.isPending=function(){return c},i},v.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},v.skipEmptyMatch=function(f,a,c){return c&&f.codePointAt(a)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(m,v,R){v.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},v.getOS=function(){return v.isMac?v.OS.MAC:v.isLinux?v.OS.LINUX:v.OS.WINDOWS};var E=typeof navigator=="object"?navigator:{},y=(/mac|win|linux/i.exec(E.platform)||["other"])[0].toLowerCase(),f=E.userAgent||"",a=E.appName||"";v.isWin=y=="win",v.isMac=y=="mac",v.isLinux=y=="linux",v.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((f.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((f.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),v.isOldIE=v.isIE&&v.isIE<9,v.isGecko=v.isMozilla=f.match(/ Gecko\/\d+/),v.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",v.isWebKit=parseFloat(f.split("WebKit/")[1])||void 0,v.isChrome=parseFloat(f.split(" Chrome/")[1])||void 0,v.isSafari=parseFloat(f.split(" Safari/")[1])&&!v.isChrome||void 0,v.isEdge=parseFloat(f.split(" Edge/")[1])||void 0,v.isAIR=f.indexOf("AdobeAIR")>=0,v.isAndroid=f.indexOf("Android")>=0,v.isChromeOS=f.indexOf(" CrOS ")>=0,v.isIOS=/iPad|iPhone|iPod/.test(f)&&!window.MSStream,v.isIOS&&(v.isMac=!0),v.isMobile=v.isIOS||v.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(m,v,R){var E=m("./useragent"),y="http://www.w3.org/1999/xhtml";v.buildDom=function n(r,l,u){if(typeof r=="string"&&r){var o=document.createTextNode(r);return l&&l.appendChild(o),o}if(!Array.isArray(r))return r&&r.appendChild&&l&&l.appendChild(r),r;if(typeof r[0]!="string"||!r[0]){for(var d=[],g=0;g<r.length;g++){var x=n(r[g],l,u);x&&d.push(x)}return d}var S=document.createElement(r[0]),w=r[1],b=1;w&&typeof w=="object"&&!Array.isArray(w)&&(b=2);for(var g=b;g<r.length;g++)n(r[g],S,u);return b==2&&Object.keys(w).forEach(function(k){var A=w[k];k==="class"?S.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||k=="value"||k[0]=="$"?S[k]=A:k==="ref"?u&&(u[A]=S):k==="style"?typeof A=="string"&&(S.style.cssText=A):A!=null&&S.setAttribute(k,A)}),l&&l.appendChild(S),S},v.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement},v.createElement=function(n,r){return document.createElementNS?document.createElementNS(r||y,n):document.createElement(n)},v.removeChildren=function(n){n.innerHTML=""},v.createTextNode=function(n,r){var l=r?r.ownerDocument:document;return l.createTextNode(n)},v.createFragment=function(n){var r=n?n.ownerDocument:document;return r.createDocumentFragment()},v.hasCssClass=function(n,r){var l=(n.className+"").split(/\s+/g);return l.indexOf(r)!==-1},v.addCssClass=function(n,r){v.hasCssClass(n,r)||(n.className+=" "+r)},v.removeCssClass=function(n,r){for(var l=n.className.split(/\s+/g);;){var u=l.indexOf(r);if(u==-1)break;l.splice(u,1)}n.className=l.join(" ")},v.toggleCssClass=function(n,r){for(var l=n.className.split(/\s+/g),u=!0;;){var o=l.indexOf(r);if(o==-1)break;u=!1,l.splice(o,1)}return u&&l.push(r),n.className=l.join(" "),u},v.setCssClass=function(n,r,l){l?v.addCssClass(n,r):v.removeCssClass(n,r)},v.hasCssString=function(n,r){var l=0,u;if(r=r||document,u=r.querySelectorAll("style")){for(;l<u.length;)if(u[l++].id===n)return!0}},v.removeElementById=function(n,r){r=r||document,r.getElementById(n)&&r.getElementById(n).remove()};var f,a=[];v.useStrictCSP=function(n){f=n,n==!1?c():a||(a=[])};function c(){var n=a;a=null,n&&n.forEach(function(r){s(r[0],r[1])})}function s(n,r,l){if(!(typeof document>"u")){if(a){if(l)c();else if(l===!1)return a.push([n,r])}if(!f){var u=l;!l||!l.getRootNode?u=document:(u=l.getRootNode(),(!u||u==l)&&(u=document));var o=u.ownerDocument||u;if(r&&v.hasCssString(r,u))return null;r&&(n+=`
/*# sourceURL=ace/css/`+r+" */");var d=v.createElement("style");d.appendChild(o.createTextNode(n)),r&&(d.id=r),u==o&&(u=v.getDocumentHead(o)),u.insertBefore(d,u.firstChild)}}}if(v.importCssString=s,v.importCssStylsheet=function(n,r){v.buildDom(["link",{rel:"stylesheet",href:n}],v.getDocumentHead(r))},v.$fixPositionBug=function(n){var r=n.getBoundingClientRect();if(n.style.left){var l=parseFloat(n.style.left),u=+r.left;Math.abs(l-u)>1&&(n.style.left=2*l-u+"px")}if(n.style.right){var l=parseFloat(n.style.right),u=window.innerWidth-r.right;Math.abs(l-u)>1&&(n.style.right=2*l-u+"px")}if(n.style.top){var l=parseFloat(n.style.top),u=+r.top;Math.abs(l-u)>1&&(n.style.top=2*l-u+"px")}if(n.style.bottom){var l=parseFloat(n.style.bottom),u=window.innerHeight-r.bottom;Math.abs(l-u)>1&&(n.style.bottom=2*l-u+"px")}},v.scrollbarWidth=function(n){var r=v.createElement("ace_inner");r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block";var l=v.createElement("ace_outer"),u=l.style;u.position="absolute",u.left="-10000px",u.overflow="hidden",u.width="200px",u.minWidth="0px",u.height="150px",u.display="block",l.appendChild(r);var o=n&&n.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(l);var d=r.offsetWidth;u.overflow="scroll";var g=r.offsetWidth;return d===g&&(g=l.clientWidth),o.removeChild(l),d-g},v.computedStyle=function(n,r){return window.getComputedStyle(n,"")||{}},v.setStyle=function(n,r,l){n[r]!==l&&(n[r]=l)},v.HAS_CSS_ANIMATION=!1,v.HAS_CSS_TRANSFORMS=!1,v.HI_DPI=E.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,E.isChromeOS&&(v.HI_DPI=!1),typeof document<"u"){var i=document.createElement("div");v.HI_DPI&&i.style.transform!==void 0&&(v.HAS_CSS_TRANSFORMS=!0),!E.isEdge&&typeof i.style.animationName<"u"&&(v.HAS_CSS_ANIMATION=!0),i=null}v.HAS_CSS_TRANSFORMS?v.translate=function(n,r,l){n.style.transform="translate("+Math.round(r)+"px, "+Math.round(l)+"px)"}:v.translate=function(n,r,l){n.style.top=Math.round(l)+"px",n.style.left=Math.round(r)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("./dom");v.get=function(y,f){var a=new XMLHttpRequest;a.open("GET",y,!0),a.onreadystatechange=function(){a.readyState===4&&f(a.responseText)},a.send(null)},v.loadScript=function(y,f){var a=E.getDocumentHead(),c=document.createElement("script");c.src=y,a.appendChild(c),c.onload=c.onreadystatechange=function(s,i){(i||!c.readyState||c.readyState=="loaded"||c.readyState=="complete")&&(c=c.onload=c.onreadystatechange=null,i||f())}},v.qualifyURL=function(y){var f=document.createElement("a");return f.href=y,f.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(m,v,R){v.inherits=function(E,y){E.super_=y,E.prototype=Object.create(y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}})},v.mixin=function(E,y){for(var f in y)E[f]=y[f];return E},v.implement=function(E,y){v.mixin(E,y)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(m,v,R){var E={},y=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};E._emit=E._dispatchEvent=function(a,c){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[a]||[],i=this._defaultHandlers[a];if(!(!s.length&&!i)){(typeof c!="object"||!c)&&(c={}),c.type||(c.type=a),c.stopPropagation||(c.stopPropagation=y),c.preventDefault||(c.preventDefault=f),s=s.slice();for(var n=0;n<s.length&&(s[n](c,this),!c.propagationStopped);n++);if(i&&!c.defaultPrevented)return i(c,this)}},E._signal=function(a,c){var s=(this._eventRegistry||{})[a];if(s){s=s.slice();for(var i=0;i<s.length;i++)s[i](c,this)}},E.once=function(a,c){var s=this;if(this.on(a,function i(){s.off(a,i),c.apply(null,arguments)}),!c)return new Promise(function(i){c=i})},E.setDefaultHandler=function(a,c){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[a]){var i=s[a],n=s._disabled_[a];n||(s._disabled_[a]=n=[]),n.push(i);var r=n.indexOf(c);r!=-1&&n.splice(r,1)}s[a]=c},E.removeDefaultHandler=function(a,c){var s=this._defaultHandlers;if(s){var i=s._disabled_[a];if(s[a]==c)i&&this.setDefaultHandler(a,i.pop());else if(i){var n=i.indexOf(c);n!=-1&&i.splice(n,1)}}},E.on=E.addEventListener=function(a,c,s){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[a];return i||(i=this._eventRegistry[a]=[]),i.indexOf(c)==-1&&i[s?"unshift":"push"](c),c},E.off=E.removeListener=E.removeEventListener=function(a,c){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[a];if(s){var i=s.indexOf(c);i!==-1&&s.splice(i,1)}},E.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},v.EventEmitter=E}),ace.define("ace/lib/report_error",["require","exports","module"],function(m,v,R){v.reportError=function(y,f){var a=new Error(y);a.data=f,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(m,v,R){var E={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};v.defaultEnglishMessages=E}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(m,v,R){"no use strict";var E=m("./oop"),y=m("./event_emitter").EventEmitter,f=m("./report_error").reportError,a=m("./default_english_messages").defaultEnglishMessages,c={setOptions:function(l){Object.keys(l).forEach(function(u){this.setOption(u,l[u])},this)},getOptions:function(l){var u={};if(l)Array.isArray(l)||(l=Object.keys(l));else{var o=this.$options;l=Object.keys(o).filter(function(d){return!o[d].hidden})}return l.forEach(function(d){u[d]=this.getOption(d)},this),u},setOption:function(l,u){if(this["$"+l]!==u){var o=this.$options[l];if(!o)return s('misspelled option "'+l+'"');if(o.forwardTo)return this[o.forwardTo]&&this[o.forwardTo].setOption(l,u);o.handlesSet||(this["$"+l]=u),o&&o.set&&o.set.call(this,u)}},getOption:function(l){var u=this.$options[l];return u?u.forwardTo?this[u.forwardTo]&&this[u.forwardTo].getOption(l):u&&u.get?u.get.call(this):this["$"+l]:s('misspelled option "'+l+'"')}};function s(l){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var i,n,r=(function(){function l(){this.$defaultOptions={},i=a,n="dollarSigns"}return l.prototype.defineOptions=function(u,o,d){return u.$options||(this.$defaultOptions[o]=u.$options={}),Object.keys(d).forEach(function(g){var x=d[g];typeof x=="string"&&(x={forwardTo:x}),x.name||(x.name=g),u.$options[x.name]=x,"initialValue"in x&&(u["$"+x.name]=x.initialValue)}),E.implement(u,c),this},l.prototype.resetOptions=function(u){Object.keys(u.$options).forEach(function(o){var d=u.$options[o];"value"in d&&u.setOption(o,d.value)})},l.prototype.setDefaultValue=function(u,o,d){if(!u){for(u in this.$defaultOptions)if(this.$defaultOptions[u][o])break;if(!this.$defaultOptions[u][o])return!1}var g=this.$defaultOptions[u]||(this.$defaultOptions[u]={});g[o]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,o,d):g[o].value=d)},l.prototype.setDefaultValues=function(u,o){Object.keys(o).forEach(function(d){this.setDefaultValue(u,d,o[d])},this)},l.prototype.setMessages=function(u,o){i=u,o&&o.placeholders&&(n=o.placeholders)},l.prototype.nls=function(u,o,d){i[u]||(s("No message found for the key '"+u+"' in messages with id "+i.$id+", trying to find a translation for the default string '"+o+"'."),i[o]||s("No message found for the default string '"+o+"' in the provided messages. Falling back to the default English message."));var g=i[u]||i[o]||o;return d&&(n==="dollarSigns"&&(g=g.replace(/\$(\$|[\d]+)/g,function(x,S){return S=="$"?"$":d[S]})),n==="curlyBrackets"&&(g=g.replace(/\{([^\}]+)\}/g,function(x,S){return d[S]}))),g},l})();r.prototype.warn=s,r.prototype.reportError=f,E.implement(r.prototype,y),v.AppConfig=r}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(m,v,R){R.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(m,v,R){v.isDark=!1,v.cssClass="ace-tm",v.cssText=m("./textmate-css"),v.$id="ace/theme/textmate";var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(m,v,R){"no use strict";var E=m("./lib/lang"),y=m("./lib/net"),f=m("./lib/dom"),a=m("./lib/app_config").AppConfig;R.exports=v=new a;var c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};v.get=function(r){if(!c.hasOwnProperty(r))throw new Error("Unknown config key: "+r);return c[r]},v.set=function(r,l){if(c.hasOwnProperty(r))c[r]=l;else if(this.setDefaultValue("",r,l)==!1)throw new Error("Unknown config key: "+r);r=="useStrictCSP"&&f.useStrictCSP(l)},v.all=function(){return E.copyObject(c)},v.$modes={},v.moduleUrl=function(r,l){if(c.$moduleUrls[r])return c.$moduleUrls[r];var u=r.split("/");l=l||u[u.length-2]||"";var o=l=="snippets"?"/":"-",d=u[u.length-1];if(l=="worker"&&o=="-"){var g=new RegExp("^"+l+"[\\-_]|[\\-_]"+l+"$","g");d=d.replace(g,"")}(!d||d==l)&&u.length>1&&(d=u[u.length-2]);var x=c[l+"Path"];return x==null?x=c.basePath:o=="/"&&(l=o=""),x&&x.slice(-1)!="/"&&(x+="/"),x+l+o+d+this.get("suffix")},v.setModuleUrl=function(r,l){return c.$moduleUrls[r]=l};var s=function(r,l){if(r==="ace/theme/textmate"||r==="./theme/textmate")return l(null,m("./theme/textmate"));if(i)return i(r,l);console.error("loader is not configured")},i;v.setLoader=function(r){i=r},v.dynamicModules=Object.create(null),v.$loading={},v.$loaded={},v.loadModule=function(r,l){var u;if(Array.isArray(r))var o=r[0],d=r[1];else if(typeof r=="string")var d=r;var g=function(x){if(x&&!v.$loading[d])return l&&l(x);if(v.$loading[d]||(v.$loading[d]=[]),v.$loading[d].push(l),!(v.$loading[d].length>1)){var S=function(){s(d,function(w,b){b&&(v.$loaded[d]=b),v._emit("load.module",{name:d,module:b});var k=v.$loading[d];v.$loading[d]=null,k.forEach(function(A){A&&A(b)})})};if(!v.get("packaged"))return S();y.loadScript(v.moduleUrl(d,o),S),n()}};if(v.dynamicModules[d])v.dynamicModules[d]().then(function(x){x.default?g(x.default):g(x)});else{try{u=this.$require(d)}catch{}g(u||v.$loaded[d])}},v.$require=function(r){if(typeof R.require=="function"){var l="require";return R[l](r)}},v.setModuleLoader=function(r,l){v.dynamicModules[r]=l};var n=function(){!c.basePath&&!c.workerPath&&!c.modePath&&!c.themePath&&!Object.keys(c.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),n=function(){})};v.version="1.43.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(m,v,R){m("./lib/fixoldbrowsers");var E=m("./config");E.setLoader(function(c,s){m([c],function(i){s(null,i)})});var y=(function(){return this||typeof window<"u"&&window})();R.exports=function(c){E.init=f,E.$require=m,c.require=m},f(!0);function f(c){if(!(!y||!y.document)){E.set("packaged",c||m.packaged||R.packaged||y.define&&(void 0).packaged);var s={},i="",n=document.currentScript||document._currentScript,r=n&&n.ownerDocument||document;n&&n.src&&(i=n.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var l=r.getElementsByTagName("script"),u=0;u<l.length;u++){var o=l[u],d=o.src||o.getAttribute("src");if(d){for(var g=o.attributes,x=0,S=g.length;x<S;x++){var w=g[x];w.name.indexOf("data-ace-")===0&&(s[a(w.name.replace(/^data-ace-/,""))]=w.value)}var b=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(i=b[1])}}i&&(s.base=s.base||i,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var k in s)typeof s[k]<"u"&&E.set(k,s[k])}}function a(c){return c.replace(/-(.)/g,function(s,i){return i.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(m,v,R){var E=(function(){function y(f,a,c,s){this.start={row:f,column:a},this.end={row:c,column:s}}return y.prototype.isEqual=function(f){return this.start.row===f.start.row&&this.end.row===f.end.row&&this.start.column===f.start.column&&this.end.column===f.end.column},y.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},y.prototype.contains=function(f,a){return this.compare(f,a)==0},y.prototype.compareRange=function(f){var a,c=f.end,s=f.start;return a=this.compare(c.row,c.column),a==1?(a=this.compare(s.row,s.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(s.row,s.column),a==-1?-1:a==1?42:0)},y.prototype.comparePoint=function(f){return this.compare(f.row,f.column)},y.prototype.containsRange=function(f){return this.comparePoint(f.start)==0&&this.comparePoint(f.end)==0},y.prototype.intersects=function(f){var a=this.compareRange(f);return a==-1||a==0||a==1},y.prototype.isEnd=function(f,a){return this.end.row==f&&this.end.column==a},y.prototype.isStart=function(f,a){return this.start.row==f&&this.start.column==a},y.prototype.setStart=function(f,a){typeof f=="object"?(this.start.column=f.column,this.start.row=f.row):(this.start.row=f,this.start.column=a)},y.prototype.setEnd=function(f,a){typeof f=="object"?(this.end.column=f.column,this.end.row=f.row):(this.end.row=f,this.end.column=a)},y.prototype.inside=function(f,a){return this.compare(f,a)==0?!(this.isEnd(f,a)||this.isStart(f,a)):!1},y.prototype.insideStart=function(f,a){return this.compare(f,a)==0?!this.isEnd(f,a):!1},y.prototype.insideEnd=function(f,a){return this.compare(f,a)==0?!this.isStart(f,a):!1},y.prototype.compare=function(f,a){return!this.isMultiLine()&&f===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:f<this.start.row?-1:f>this.end.row?1:this.start.row===f?a>=this.start.column?0:-1:this.end.row===f?a<=this.end.column?0:1:0},y.prototype.compareStart=function(f,a){return this.start.row==f&&this.start.column==a?-1:this.compare(f,a)},y.prototype.compareEnd=function(f,a){return this.end.row==f&&this.end.column==a?1:this.compare(f,a)},y.prototype.compareInside=function(f,a){return this.end.row==f&&this.end.column==a?1:this.start.row==f&&this.start.column==a?-1:this.compare(f,a)},y.prototype.clipRows=function(f,a){if(this.end.row>a)var c={row:a+1,column:0};else if(this.end.row<f)var c={row:f,column:0};if(this.start.row>a)var s={row:a+1,column:0};else if(this.start.row<f)var s={row:f,column:0};return y.fromPoints(s||this.start,c||this.end)},y.prototype.extend=function(f,a){var c=this.compare(f,a);if(c==0)return this;if(c==-1)var s={row:f,column:a};else var i={row:f,column:a};return y.fromPoints(s||this.start,i||this.end)},y.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},y.prototype.isMultiLine=function(){return this.start.row!==this.end.row},y.prototype.clone=function(){return y.fromPoints(this.start,this.end)},y.prototype.collapseRows=function(){return this.end.column==0?new y(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new y(this.start.row,0,this.end.row,0)},y.prototype.toScreenRange=function(f){var a=f.documentToScreenPosition(this.start),c=f.documentToScreenPosition(this.end);return new y(a.row,a.column,c.row,c.column)},y.prototype.moveBy=function(f,a){this.start.row+=f,this.start.column+=a,this.end.row+=f,this.end.column+=a},y})();E.fromPoints=function(y,f){return new E(y.row,y.column,f.row,f.column)},E.comparePoints=function(y,f){return y.row-f.row||y.column-f.column},v.Range=E}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(m,v,R){for(var E=m("./oop"),y={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},f={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},a=0;a<10;a++)f["Digit"+a]=48+a,f["Numpad"+a]=96+a,y.PRINTABLE_KEYS[48+a]=""+a,y.FUNCTION_KEYS[96+a]="Numpad"+a;for(var a=65;a<91;a++){var c=String.fromCharCode(a+32);f["Key"+c.toUpperCase()]=a,y.PRINTABLE_KEYS[a]=c}for(var a=1;a<13;a++)f["F"+a]=111+a,y.FUNCTION_KEYS[111+a]="F"+a;var s={Shift:16,Control:17,Alt:18,Meta:224};for(var i in s)f[i]=f[i+"Left"]=f[i+"Right"]=s[i];v.$codeToKeyCode=f,y.PRINTABLE_KEYS[173]="-";for(var n in y.FUNCTION_KEYS){var r=y.FUNCTION_KEYS[n].toLowerCase();y[r]=parseInt(n,10)}for(var n in y.PRINTABLE_KEYS){var r=y.PRINTABLE_KEYS[n].toLowerCase();y[r]=parseInt(n,10)}E.mixin(y,y.MODIFIER_KEYS),E.mixin(y,y.PRINTABLE_KEYS),E.mixin(y,y.FUNCTION_KEYS),y.enter=y.return,y.escape=y.esc,y.del=y.delete,(function(){for(var l=["cmd","ctrl","alt","shift"],u=Math.pow(2,l.length);u--;)y.KEY_MODS[u]=l.filter(function(o){return u&y.KEY_MODS[o]}).join("-")+"-"})(),y.KEY_MODS[0]="",y.KEY_MODS[-1]="input-",E.mixin(v,y),v.default=v,v.keyCodeToString=function(l){var u=y[l];return typeof u!="string"&&(u=String.fromCharCode(l)),u.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(m,v,R){var E=m("./keys"),y=m("./useragent"),f=null,a=0,c;function s(){c=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return c={passive:!1},!0}})}catch{}}function i(){return c==null&&s(),c}function n(x,S,w){this.elem=x,this.type=S,this.callback=w}n.prototype.destroy=function(){l(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var r=v.addListener=function(x,S,w,b){x.addEventListener(S,w,i()),b&&b.$toDestroy.push(new n(x,S,w))},l=v.removeListener=function(x,S,w){x.removeEventListener(S,w,i())};v.stopEvent=function(x){return v.stopPropagation(x),v.preventDefault(x),!1},v.stopPropagation=function(x){x.stopPropagation&&x.stopPropagation()},v.preventDefault=function(x){x.preventDefault&&x.preventDefault()},v.getButton=function(x){return x.type=="dblclick"?0:x.type=="contextmenu"||y.isMac&&x.ctrlKey&&!x.altKey&&!x.shiftKey?2:x.button},v.capture=function(x,S,w){var b=x&&x.ownerDocument||document;function k(A){S&&S(A),w&&w(A),l(b,"mousemove",S),l(b,"mouseup",k),l(b,"dragstart",k)}return r(b,"mousemove",S),r(b,"mouseup",k),r(b,"dragstart",k),k},v.addMouseWheelListener=function(x,S,w){r(x,"wheel",function(b){var k=.15,A=b.deltaX||0,T=b.deltaY||0;switch(b.deltaMode){case b.DOM_DELTA_PIXEL:b.wheelX=A*k,b.wheelY=T*k;break;case b.DOM_DELTA_LINE:var j=15;b.wheelX=A*j,b.wheelY=T*j;break;case b.DOM_DELTA_PAGE:var F=150;b.wheelX=A*F,b.wheelY=T*F;break}S(b)},w)},v.addMultiMouseDownListener=function(x,S,w,b,k){var A=0,T,j,F,N={2:"dblclick",3:"tripleclick",4:"quadclick"};function $(M){if(v.getButton(M)!==0?A=0:M.detail>1?(A++,A>4&&(A=1)):A=1,y.isIE){var L=Math.abs(M.clientX-T)>5||Math.abs(M.clientY-j)>5;(!F||L)&&(A=1),F&&clearTimeout(F),F=setTimeout(function(){F=null},S[A-1]||600),A==1&&(T=M.clientX,j=M.clientY)}if(M._clicks=A,w[b]("mousedown",M),A>4)A=0;else if(A>1)return w[b](N[A],M)}Array.isArray(x)||(x=[x]),x.forEach(function(M){r(M,"mousedown",$,k)})};function u(x){return 0|(x.ctrlKey?1:0)|(x.altKey?2:0)|(x.shiftKey?4:0)|(x.metaKey?8:0)}v.getModifierString=function(x){return E.KEY_MODS[u(x)]};function o(x,S,w){var b=u(S);if(!w&&S.code&&(w=E.$codeToKeyCode[S.code]||w),!y.isMac&&f){if(S.getModifierState&&(S.getModifierState("OS")||S.getModifierState("Win"))&&(b|=8),f.altGr)if((3&b)!=3)f.altGr=0;else return;if(w===18||w===17){var k=S.location;if(w===17&&k===1)f[w]==1&&(a=S.timeStamp);else if(w===18&&b===3&&k===2){var A=S.timeStamp-a;A<50&&(f.altGr=!0)}}}if(w in E.MODIFIER_KEYS&&(w=-1),!(!b&&w===13&&S.location===3&&(x(S,b,-w),S.defaultPrevented))){if(y.isChromeOS&&b&8){if(x(S,b,w),S.defaultPrevented)return;b&=-9}return!b&&!(w in E.FUNCTION_KEYS)&&!(w in E.PRINTABLE_KEYS)?!1:x(S,b,w)}}v.addCommandKeyListener=function(x,S,w){var b=null;r(x,"keydown",function(k){f[k.keyCode]=(f[k.keyCode]||0)+1;var A=o(S,k,k.keyCode);return b=k.defaultPrevented,A},w),r(x,"keypress",function(k){b&&(k.ctrlKey||k.altKey||k.shiftKey||k.metaKey)&&(v.stopEvent(k),b=null)},w),r(x,"keyup",function(k){f[k.keyCode]=null},w),f||(d(),r(window,"focus",d))};function d(){f=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!y.isOldIE){var g=1;v.nextTick=function(x,S){S=S||window;var w="zero-timeout-message-"+g++,b=function(k){k.data==w&&(v.stopPropagation(k),l(S,"message",b),x())};r(S,"message",b),S.postMessage(w,"*")}}v.$idleBlocked=!1,v.onIdle=function(x,S){return setTimeout(function w(){v.$idleBlocked?setTimeout(w,100):x()},S)},v.$idleBlockId=null,v.blockIdle=function(x){v.$idleBlockId&&clearTimeout(v.$idleBlockId),v.$idleBlocked=!0,v.$idleBlockId=setTimeout(function(){v.$idleBlocked=!1},x||100)},v.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),v.nextFrame?v.nextFrame=v.nextFrame.bind(window):v.nextFrame=function(x){setTimeout(x,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(m,v,R){var E;R.exports={lineMode:!1,pasteCancelled:function(){return E&&E>Date.now()-50?!0:E=!1},cancel:function(){E=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(m,v,R){var E=m("../lib/event"),y=m("../config").nls,f=m("../lib/useragent"),a=m("../lib/dom"),c=m("../lib/lang"),s=m("../clipboard"),i=f.isChrome<18,n=f.isIE,r=f.isChrome>63,l=400,u=m("../lib/keys"),o=u.KEY_MODS,d=f.isIOS,g=d?/\s/:/\n/,x=f.isMobile,S=(function(){function w(b,k){var A=this;this.host=k,this.text=a.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",b.insertBefore(this.text,b.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",x||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),E.addListener(this.text,"blur",function(T){A.ignoreFocusEvents||(k.onBlur(T),A.$isFocused=!1)},k),E.addListener(this.text,"focus",function(T){if(!A.ignoreFocusEvents){if(A.$isFocused=!0,f.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(T),f.isEdge?setTimeout(A.resetSelection.bind(A)):A.resetSelection()}},k),this.$focusScroll=!1,k.on("beforeEndOperation",function(){var T=k.curOp,j=T&&T.command&&T.command.name;if(j!="insertstring"){var F=j&&(T.docChanged||T.selectionChanged);A.inComposition&&F&&(A.lastValue=A.text.value="",A.onCompositionEnd()),A.resetSelection()}}),k.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=d?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&k.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,E.addCommandKeyListener(this.text,function(T,j,F){if(!A.inComposition)return k.onCommandKey(T,j,F)},k),E.addListener(this.text,"select",this.onSelect.bind(this),k),E.addListener(this.text,"input",this.onInput.bind(this),k),E.addListener(this.text,"cut",this.onCut.bind(this),k),E.addListener(this.text,"copy",this.onCopy.bind(this),k),E.addListener(this.text,"paste",this.onPaste.bind(this),k),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&E.addListener(b,"keydown",function(T){if(!(f.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:A.onCopy(T);break;case 86:A.onPaste(T);break;case 88:A.onCut(T);break}},k),this.syncComposition=c.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),E.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),k),E.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),k),E.addListener(this.text,"keyup",this.onKeyup.bind(this),k),E.addListener(this.text,"keydown",this.syncComposition.bind(this),k),E.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),k),this.closeTimeout,E.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),k),E.addListener(this.text,"mousedown",function(T){T.preventDefault(),A.onContextMenuClose()},k),E.addListener(k.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),k),E.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),k),d&&this.addIosSelectionHandler(b,k,this.text)}return w.prototype.addIosSelectionHandler=function(b,k,A){var T=this,j=null,F=!1;A.addEventListener("keydown",function($){j&&clearTimeout(j),F=!0},!0),A.addEventListener("keyup",function($){j=setTimeout(function(){F=!1},100)},!0);var N=function($){if(document.activeElement===A&&!(F||T.inComposition||k.$mouseHandler.isMousePressed)&&!T.copied){var M=A.selectionStart,L=A.selectionEnd,D=null,z=0;if(M==0?D=u.up:M==1?D=u.home:L>T.lastSelectionEnd&&T.lastValue[L]==`
`?D=u.end:M<T.lastSelectionStart&&T.lastValue[M-1]==" "?(D=u.left,z=o.option):M<T.lastSelectionStart||M==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&M==L?D=u.left:L>T.lastSelectionEnd&&T.lastValue.slice(0,L).split(`
`).length>2?D=u.down:L>T.lastSelectionEnd&&T.lastValue[L-1]==" "?(D=u.right,z=o.option):(L>T.lastSelectionEnd||L==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&M==L)&&(D=u.right),M!==L&&(z|=o.shift),D){var B=k.onCommandKey({},z,D);if(!B&&k.commands){D=u.keyCodeToString(D);var P=k.commands.findKeyCommand(z,D);P&&k.execCommand(P)}T.lastSelectionStart=M,T.lastSelectionEnd=L,T.resetSelection("")}}};document.addEventListener("selectionchange",N),k.on("destroy",function(){document.removeEventListener("selectionchange",N)})},w.prototype.onContextMenuClose=function(){var b=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){b.tempStyle&&(b.text.style.cssText=b.tempStyle,b.tempStyle=""),b.host.renderer.$isMousePressed=!1,b.host.renderer.$keepTextAreaAtCursor&&b.host.renderer.$moveTextAreaToCursor()},0)},w.prototype.$onContextMenu=function(b){this.host.textInput.onContextMenu(b),this.onContextMenuClose()},w.prototype.onKeyup=function(b){b.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},w.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},w.prototype.onCompositionStart=function(b){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){b.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var k=this.host.getSelectionRange();k.end.row=k.start.row,k.end.column=k.start.column,this.inComposition.markerRange=k,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},w.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var b=this.text.value;this.sendText(b),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},w.prototype.onCompositionEnd=function(b){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),b&&this.onInput())},w.prototype.onCut=function(b){this.doCopy(b,!0)},w.prototype.onCopy=function(b){this.doCopy(b,!1)},w.prototype.onPaste=function(b){var k=this.handleClipboardData(b);s.pasteCancelled()||(typeof k=="string"?(k&&this.host.onPaste(k,b),f.isIE&&setTimeout(this.resetSelection),E.preventDefault(b)):(this.text.value="",this.pasted=!0))},w.prototype.doCopy=function(b,k){var A=this,T=this.host.getCopyText();if(!T)return E.preventDefault(b);this.handleClipboardData(b,T)?(d&&(this.resetSelection(T),this.copied=T,setTimeout(function(){A.copied=!1},10)),k?this.host.onCut():this.host.onCopy(),E.preventDefault(b)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){A.copied=!1,A.resetSelection(),k?A.host.onCut():A.host.onCopy()}))},w.prototype.handleClipboardData=function(b,k,A){var T=b.clipboardData||window.clipboardData;if(!(!T||i)){var j=n||A?"Text":"text/plain";try{return k?T.setData(j,k)!==!1:T.getData(j)}catch(F){if(!A)return this.handleClipboardData(F,k,!0)}}},w.prototype.onInput=function(b){if(this.inComposition)return this.onCompositionUpdate();if(b&&b.inputType){if(b.inputType=="historyUndo")return this.host.execCommand("undo");if(b.inputType=="historyRedo")return this.host.execCommand("redo")}var k=this.text.value,A=this.sendText(k,!0);(k.length>l+100||g.test(A)||x&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},w.prototype.sendText=function(b,k){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),b&&this.host.onPaste(b),this.pasted=!1,"";for(var A=this.text.selectionStart,T=this.text.selectionEnd,j=this.lastSelectionStart,F=this.lastValue.length-this.lastSelectionEnd,N=b,$=b.length-A,M=b.length-T,L=0;j>0&&this.lastValue[L]==b[L];)L++,j--;for(N=N.slice(L),L=1;F>0&&this.lastValue.length-L>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-L]==b[b.length-L];)L++,F--;$-=L-1,M-=L-1;var D=N.length-L+1;if(D<0&&(j=-D,D=0),N=N.slice(0,D),!k&&!N&&!$&&!j&&!F&&!M)return"";this.sendingText=!0;var z=!1;return f.isAndroid&&N==". "&&(N="  ",z=!0),N&&!j&&!F&&!$&&!M||this.commandMode?this.host.onTextInput(N):this.host.onTextInput(N,{extendLeft:j,extendRight:F,restoreStart:$,restoreEnd:M}),this.sendingText=!1,this.lastValue=b,this.lastSelectionStart=A,this.lastSelectionEnd=T,this.lastRestoreEnd=M,z?`
`:N},w.prototype.onSelect=function(b){var k=this;if(!this.inComposition){var A=function(T){return T.selectionStart===0&&T.selectionEnd>=k.lastValue.length&&T.value===k.lastValue&&k.lastValue&&T.selectionEnd!==k.lastSelectionEnd};this.copied?this.copied=!1:A(this.text)?(this.host.selectAll(),this.resetSelection()):x&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},w.prototype.$resetSelectionIOS=function(b){if(!(!this.$isFocused||this.copied&&!b||this.sendingText)){b||(b="");var k=`
 ab`+b+`cde fg
`;k!=this.text.value&&(this.text.value=this.lastValue=k);var A=4,T=4+(b.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=A||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(A,T),this.lastSelectionStart=A,this.lastSelectionEnd=T}},w.prototype.$resetSelection=function(){var b=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var k=0,A=0,T="",j=function(P,U){for(var W=U,K=1;K<=P-b.rowStart&&K<2*b.numberOfExtraLines+1;K++)W+=b.host.session.getLine(P-K).length+1;return W};if(this.host.session){var F=this.host.selection,N=F.getRange(),$=F.cursor.row;$===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):$===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):($<this.rowStart-1||$>this.rowEnd+1)&&(this.rowStart=$>this.numberOfExtraLines?$-this.numberOfExtraLines:0,this.rowEnd=$>this.numberOfExtraLines?$+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var M=[],L=this.rowStart;L<=this.rowEnd;L++)M.push(this.host.session.getLine(L));if(T=M.join(`
`),k=j(N.start.row,N.start.column),A=j(N.end.row,N.end.column),N.start.row<this.rowStart){var D=this.host.session.getLine(this.rowStart-1);k=N.start.row<this.rowStart-1?0:k,A+=D.length+1,T=D+`
`+T}else if(N.end.row>this.rowEnd){var z=this.host.session.getLine(this.rowEnd+1);A=N.end.row>this.rowEnd+1?z.length:N.end.column,A+=T.length+1,T=T+`
`+z}else x&&$>0&&(T=`
`+T,A+=1,k+=1);T.length>l&&(k<l&&A<l?T=T.slice(0,l):(T=`
`,k==A?k=A=0:(k=0,A=1)));var B=T+`

`;B!=this.lastValue&&(this.text.value=this.lastValue=B,this.lastSelectionStart=this.lastSelectionEnd=B.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=A||this.lastSelectionStart!=k||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(k,A),this.lastSelectionStart=k,this.lastSelectionEnd=A}catch{}this.inComposition=!1}},w.prototype.setHost=function(b){this.host=b},w.prototype.setNumberOfExtraLines=function(b){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,b<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=b},w.prototype.setAriaLabel=function(){var b="";if(this.host.$textInputAriaLabel&&(b+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var k=this.host.session.selection.cursor.row;b+=y("text-input.aria-label","Cursor at row $0",[k+1])}this.text.setAttribute("aria-label",b)},w.prototype.setAriaOptions=function(b){b.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",b.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",b.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),b.role&&this.text.setAttribute("role",b.role),b.setLabel&&(this.text.setAttribute("aria-roledescription",y("text-input.aria-roledescription","editor")),this.setAriaLabel())},w.prototype.focus=function(){var b=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||r||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var k=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var A=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(A)for(var j=this.text.parentElement;j&&j.nodeType==1;)T.push(j),j.setAttribute("ace_nocontext","true"),!j.parentElement&&j.getRootNode?j=j.getRootNode().host:j=j.parentElement;this.text.focus({preventScroll:!0}),A&&T.forEach(function(F){F.removeAttribute("ace_nocontext")}),setTimeout(function(){b.text.style.position="",b.text.style.top=="0px"&&(b.text.style.top=k)},0)},w.prototype.blur=function(){this.text.blur()},w.prototype.isFocused=function(){return this.$isFocused},w.prototype.setInputHandler=function(b){this.inputHandler=b},w.prototype.getInputHandler=function(){return this.inputHandler},w.prototype.getElement=function(){return this.text},w.prototype.setCommandMode=function(b){this.commandMode=b,this.text.readOnly=!1},w.prototype.setReadOnly=function(b){this.commandMode||(this.text.readOnly=b)},w.prototype.setCopyWithEmptySelection=function(b){},w.prototype.onContextMenu=function(b){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:b}),this.moveToMouse(b,!0)},w.prototype.moveToMouse=function(b,k){var A=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(k?"z-index:100000;":"")+(f.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),j=a.computedStyle(this.host.container),F=T.top+(parseInt(j.borderTopWidth)||0),N=T.left+(parseInt(j.borderLeftWidth)||0),$=T.bottom-F-this.text.clientHeight-2,M=function(L){a.translate(A.text,L.clientX-N-2,Math.min(L.clientY-F-2,$))};M(b),b.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),f.isWin&&E.capture(this.host.container,M,this.onContextMenuClose.bind(this)))},w.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},w})();v.TextInput=S,v.$setUserAgentForTests=function(w,b){x=w,d=b}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(m,v,R){var E=m("../lib/useragent"),y=0,f=550,a=(function(){function i(n){n.$clickSelection=null;var r=n.editor;r.setDefaultHandler("mousedown",this.onMouseDown.bind(n)),r.setDefaultHandler("dblclick",this.onDoubleClick.bind(n)),r.setDefaultHandler("tripleclick",this.onTripleClick.bind(n)),r.setDefaultHandler("quadclick",this.onQuadClick.bind(n)),r.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));var l=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];l.forEach(function(u){n[u]=this[u]},this),n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange"),n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}return i.prototype.onMouseDown=function(n){var r=n.inSelection(),l=n.getDocumentPosition();this.mousedownEvent=n;var u=this.editor,o=n.getButton();if(o!==0){var d=u.getSelectionRange(),g=d.isEmpty();(g||o==1)&&u.selection.moveToPosition(l),o==2&&(u.textInput.onContextMenu(n.domEvent),E.isMozilla||n.preventDefault());return}if(this.mousedownEvent.time=Date.now(),r&&!u.isFocused()&&(u.focus(),this.$focusTimeout&&!this.$clickSelection&&!u.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(l,n.domEvent._clicks>1),n.preventDefault()},i.prototype.startSelect=function(n,r){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var l=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?l.selection.selectToPosition(n):r||l.selection.moveToPosition(n),r||this.select(),l.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var n,r=this.editor,l=r.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var u=this.$clickSelection.comparePoint(l);if(u==-1)n=this.$clickSelection.end;else if(u==1)n=this.$clickSelection.start;else{var o=s(this.$clickSelection,l,r.session);l=o.cursor,n=o.anchor}r.selection.setSelectionAnchor(n.row,n.column)}r.selection.selectToPosition(l),r.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(n){var r,l=this.editor,u=l.renderer.screenToTextCoordinates(this.x,this.y),o=l.selection[n](u.row,u.column);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(o.start),g=this.$clickSelection.comparePoint(o.end);if(d==-1&&g<=0)r=this.$clickSelection.end,(o.end.row!=u.row||o.end.column!=u.column)&&(u=o.start);else if(g==1&&d>=0)r=this.$clickSelection.start,(o.start.row!=u.row||o.start.column!=u.column)&&(u=o.end);else if(d==-1&&g==1)u=o.end,r=o.start;else{var x=s(this.$clickSelection,u,l.session);u=x.cursor,r=x.anchor}l.selection.setSelectionAnchor(r.row,r.column)}l.selection.selectToPosition(u),l.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){var n=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),r=Date.now();(n>y||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(n){var r=n.getDocumentPosition(),l=this.editor,u=l.session,o=u.getBracketRange(r);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=l.selection.getWordRange(r.row,r.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},i.prototype.onTripleClick=function(n){var r=n.getDocumentPosition(),l=this.editor;this.setState("selectByLines");var u=l.getSelectionRange();u.isMultiLine()&&u.contains(r.row,r.column)?(this.$clickSelection=l.selection.getLineRange(u.start.row),this.$clickSelection.end=l.selection.getLineRange(u.end.row).end):this.$clickSelection=l.selection.getLineRange(r.row),this.select()},i.prototype.onQuadClick=function(n){var r=this.editor;r.selectAll(),this.$clickSelection=r.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(n){if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);var r=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var l=this.$lastScroll,u=n.domEvent.timeStamp,o=u-l.t,d=o?n.wheelX/o:l.vx,g=o?n.wheelY/o:l.vy;o<f&&(d=(d+l.vx)/2,g=(g+l.vy)/2);var x=Math.abs(d/g),S=!1;if(x>=1&&r.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(S=!0),x<=1&&r.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(S=!0),S)l.allowed=u;else if(u-l.allowed<f){var w=Math.abs(d)<=1.5*Math.abs(l.vx)&&Math.abs(g)<=1.5*Math.abs(l.vy);w?(S=!0,l.allowed=u):l.allowed=0}if(l.t=u,l.vx=d,l.vy=g,S)return r.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()}},i})();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,v.DefaultHandlers=a;function c(i,n,r,l){return Math.sqrt(Math.pow(r-i,2)+Math.pow(l-n,2))}function s(i,n,r){if(i.start.row==i.end.row)var l=2*n.column-i.start.column-i.end.column;else if(i.start.row==i.end.row-1&&!i.start.column&&!i.end.column)var l=3*n.column-2*r.getLine(i.start.row).length;else var l=2*n.row-i.start.row-i.end.row;return l<0?{cursor:i.start,anchor:i.end}:{cursor:i.end,anchor:i.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent"),f=(function(){function a(c,s){this.speed,this.wheelX,this.wheelY,this.domEvent=c,this.editor=s,this.x=this.clientX=c.clientX,this.y=this.clientY=c.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){E.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){E.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var c=this.getDocumentPosition().row,s=this.editor.session.documentToScreenRow(c,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return s-i},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var c=this.editor,s=c.getSelectionRange();if(s.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=s.contains(i.row,i.column)}return this.$inSelection},a.prototype.getButton=function(){return E.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return y.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a})();v.MouseEvent=f}),ace.define("ace/lib/scroll",["require","exports","module"],function(m,v,R){v.preventParentScroll=function(y){y.stopPropagation();var f=y.currentTarget,a=f.scrollHeight>f.clientHeight;a||y.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(m,v,R){var E=this&&this.__extends||(function(){var u=function(o,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(g[S]=x[S])},u(o,d)};return function(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(o,d);function g(){this.constructor=o}o.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}})(),y=this&&this.__values||function(u){var o=typeof Symbol=="function"&&Symbol.iterator,d=o&&u[o],g=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&g>=u.length&&(u=void 0),{value:u&&u[g++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},f=m("./lib/dom");m("./lib/event");var a=m("./range").Range,c=m("./lib/scroll").preventParentScroll,s="ace_tooltip",i=(function(){function u(o){this.isOpen=!1,this.$element=null,this.$parentNode=o}return u.prototype.$init=function(){return this.$element=f.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},u.prototype.getElement=function(){return this.$element||this.$init()},u.prototype.setText=function(o){this.getElement().textContent=o},u.prototype.setHtml=function(o){this.getElement().innerHTML=o},u.prototype.setPosition=function(o,d){this.getElement().style.left=o+"px",this.getElement().style.top=d+"px"},u.prototype.setClassName=function(o){f.addCssClass(this.getElement(),o)},u.prototype.setTheme=function(o){this.theme&&(this.theme.isDark&&f.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&f.removeCssClass(this.getElement(),this.theme.cssClass)),o.isDark&&f.addCssClass(this.getElement(),"ace_dark"),o.cssClass&&f.addCssClass(this.getElement(),o.cssClass),this.theme={isDark:o.isDark,cssClass:o.cssClass}},u.prototype.show=function(o,d,g){o!=null&&this.setText(o),d!=null&&g!=null&&this.setPosition(d,g),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},u.prototype.hide=function(o){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},u.prototype.getHeight=function(){return this.getElement().offsetHeight},u.prototype.getWidth=function(){return this.getElement().offsetWidth},u.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},u})(),n=(function(){function u(){this.popups=[]}return u.prototype.addPopup=function(o){this.popups.push(o),this.updatePopups()},u.prototype.removePopup=function(o){var d=this.popups.indexOf(o);d!==-1&&(this.popups.splice(d,1),this.updatePopups())},u.prototype.updatePopups=function(){var o,d,g,x;this.popups.sort(function(N,$){return $.priority-N.priority});var S=[];try{for(var w=y(this.popups),b=w.next();!b.done;b=w.next()){var k=b.value,A=!0;try{for(var T=(g=void 0,y(S)),j=T.next();!j.done;j=T.next()){var F=j.value;if(this.doPopupsOverlap(F,k)){A=!1;break}}}catch(N){g={error:N}}finally{try{j&&!j.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}A?S.push(k):k.hide()}}catch(N){o={error:N}}finally{try{b&&!b.done&&(d=w.return)&&d.call(w)}finally{if(o)throw o.error}}},u.prototype.doPopupsOverlap=function(o,d){var g=o.getElement().getBoundingClientRect(),x=d.getElement().getBoundingClientRect();return g.left<x.right&&g.right>x.left&&g.top<x.bottom&&g.bottom>x.top},u})(),r=new n;v.popupManager=r,v.Tooltip=i;var l=(function(u){E(o,u);function o(d){d===void 0&&(d=document.body);var g=u.call(this,d)||this;g.timeout=void 0,g.lastT=0,g.idleTime=350,g.lastEvent=void 0,g.onMouseOut=g.onMouseOut.bind(g),g.onMouseMove=g.onMouseMove.bind(g),g.waitForHover=g.waitForHover.bind(g),g.hide=g.hide.bind(g);var x=g.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",g.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",(function(){x.contains(document.activeElement)||this.hide()}).bind(g)),x.addEventListener("wheel",c),g}return o.prototype.addToEditor=function(d){d.on("mousemove",this.onMouseMove),d.on("mousedown",this.hide);var g=d.renderer.getMouseEventTarget();g&&typeof g.removeEventListener=="function"&&g.addEventListener("mouseout",this.onMouseOut,!0)},o.prototype.removeFromEditor=function(d){d.off("mousemove",this.onMouseMove),d.off("mousedown",this.hide);var g=d.renderer.getMouseEventTarget();g&&typeof g.removeEventListener=="function"&&g.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},o.prototype.onMouseMove=function(d,g){this.lastEvent=d,this.lastT=Date.now();var x=g.$mouseHandler.isMousePressed;if(this.isOpen){var S=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(S.row,S.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=d,this.timeout=setTimeout(this.waitForHover,this.idleTime))},o.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var d=Date.now()-this.lastT;if(this.idleTime-d>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-d);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},o.prototype.isOutsideOfText=function(d){var g=d.editor,x=d.getDocumentPosition(),S=g.session.getLine(x.row);if(x.column==S.length){var w=g.renderer.pixelToScreenCoordinates(d.clientX,d.clientY),b=g.session.documentToScreenPosition(x.row,x.column);if(b.column!=w.column||b.row!=w.row)return!0}return!1},o.prototype.setDataProvider=function(d){this.$gatherData=d},o.prototype.showForRange=function(d,g,x,S){if(!(S&&S!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=d.renderer;this.isOpen||(r.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.range=a.fromPoints(g.start,g.end);var b=w.textToScreenCoordinates(g.start.row,g.start.column),k=w.scroller.getBoundingClientRect();b.pageX<k.left&&(b.pageX=k.left);var A=this.getElement();A.innerHTML="",A.appendChild(x),A.style.maxHeight="",A.style.display="block",this.$setPosition(d,b,!0,g),f.$fixPositionBug(A)}},o.prototype.$setPosition=function(d,g,x,S){var w=10;x&&this.addMarker(S,d.session);var b=d.renderer,k=this.getElement(),A=k.offsetHeight,T=k.offsetWidth,j=g.pageY,F=g.pageX,N=window.innerHeight-j-b.lineHeight,$=this.$shouldPlaceAbove(A,j,N-w);k.style.maxHeight=($?j:N)-w+"px",k.style.top=$?"":j+b.lineHeight+"px",k.style.bottom=$?window.innerHeight-j+"px":"",k.style.left=Math.min(F,window.innerWidth-T-w)+"px"},o.prototype.$shouldPlaceAbove=function(d,g,x){return!(g-d<0&&g<x)},o.prototype.addMarker=function(d,g){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=g,this.marker=g&&g.addMarker(d,"ace_highlight-marker","text")},o.prototype.hide=function(d){d&&this.$fromKeyboard&&d.type=="keydown"&&d.code=="Escape"||!d&&document.activeElement==this.getElement()||d&&d.target&&(d.type!="keydown"||d.ctrlKey||d.metaKey)&&this.$element.contains(d.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,r.removePopup(this)))},o.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},o.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},o.prototype.onMouseOut=function(d){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!d.relatedTarget||this.getElement().contains(d.relatedTarget)||d&&d.currentTarget.contains(d.relatedTarget)||d.relatedTarget.classList.contains("ace_content")||this.hide())},o})(i);v.HoverTooltip=l}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(m,v,R){var E=this&&this.__extends||(function(){var l=function(u,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(d[x]=g[x])},l(u,o)};return function(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(u,o);function d(){this.constructor=u}u.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}})(),y=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,o=u&&l[u],d=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},f=m("../lib/dom"),a=m("./mouse_event").MouseEvent,c=m("../tooltip").HoverTooltip,s=m("../config").nls,i=m("../range").Range;function n(l){var u=l.editor,o=u.renderer.$gutterLayer;l.$tooltip=new r(u),l.$tooltip.addToEditor(u),l.$tooltip.setDataProvider(function(d,g){var x=d.getDocumentPosition().row;l.$tooltip.showTooltip(x)}),l.editor.setDefaultHandler("guttermousedown",function(d){if(!(!u.isFocused()||d.getButton()!=0)){var g=o.getRegion(d);if(g!="foldWidgets"){var x=d.getDocumentPosition().row,S=u.session.selection;if(d.getShiftKey())S.selectTo(x,0);else{if(d.domEvent.detail==2)return u.selectAll(),d.preventDefault();l.$clickSelection=u.selection.getLineRange(x)}return l.setState("selectByLines"),l.captureMouse(d),d.preventDefault()}}})}v.GutterHandler=n;var r=(function(l){E(u,l);function u(o){var d=l.call(this,o.container)||this;d.id="gt"+ ++u.$uid,d.editor=o,d.visibleTooltipRow;var g=d.getElement();return g.setAttribute("role","tooltip"),g.setAttribute("id",d.id),g.style.pointerEvents="auto",d.idleTime=50,d.onDomMouseMove=d.onDomMouseMove.bind(d),d.onDomMouseOut=d.onDomMouseOut.bind(d),d.setClassName("ace_gutter-tooltip"),d}return u.prototype.onDomMouseMove=function(o){var d=new a(o,this.editor);this.onMouseMove(d,this.editor)},u.prototype.onDomMouseOut=function(o){var d=new a(o,this.editor);this.onMouseOut(d)},u.prototype.addToEditor=function(o){var d=o.renderer.$gutter;d.addEventListener("mousemove",this.onDomMouseMove),d.addEventListener("mouseout",this.onDomMouseOut),l.prototype.addToEditor.call(this,o)},u.prototype.removeFromEditor=function(o){var d=o.renderer.$gutter;d.removeEventListener("mousemove",this.onDomMouseMove),d.removeEventListener("mouseout",this.onDomMouseOut),l.prototype.removeFromEditor.call(this,o)},u.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),l.prototype.destroy.call(this)},Object.defineProperty(u,"annotationLabels",{get:function(){return{error:{singular:s("gutter-tooltip.aria-label.error.singular","error"),plural:s("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:s("gutter-tooltip.aria-label.security.singular","security finding"),plural:s("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:s("gutter-tooltip.aria-label.warning.singular","warning"),plural:s("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:s("gutter-tooltip.aria-label.info.singular","information message"),plural:s("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:s("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:s("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),u.prototype.showTooltip=function(o){var d,g=this.editor.renderer.$gutterLayer,x=g.$annotations[o],S;x?S={displayText:Array.from(x.displayText),type:Array.from(x.type)}:S={displayText:[],type:[]};var w=g.session.getFoldLine(o);if(w&&g.$showFoldedAnnotations){for(var b={error:[],security:[],warning:[],info:[],hint:[]},k={error:1,security:2,warning:3,info:4,hint:5},A,T=o+1;T<=w.end.row;T++)if(g.$annotations[T])for(var j=0;j<g.$annotations[T].text.length;j++){var F=g.$annotations[T].type[j];b[F].push(g.$annotations[T].text[j]),(!A||k[F]<k[A])&&(A=F)}if(["error","security","warning"].includes(A)){var N="".concat(u.annotationsToSummaryString(b)," in folded code.");S.displayText.push(N),S.type.push(A+"_fold")}}if(S.displayText.length===0)return this.hide();for(var $={error:[],security:[],warning:[],info:[],hint:[]},M=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",T=0;T<S.displayText.length;T++){var L=f.createElement("span"),D=f.createElement("span");(d=D.classList).add.apply(d,["ace_".concat(S.type[T]),M]),D.setAttribute("aria-label","".concat(u.annotationLabels[S.type[T].replace("_fold","")].singular)),D.setAttribute("role","img"),D.appendChild(f.createTextNode(" ")),L.appendChild(D),L.appendChild(f.createTextNode(S.displayText[T])),L.appendChild(f.createElement("br")),$[S.type[T].replace("_fold","")].push(L)}var z=f.createElement("span");$.error.forEach(function(U){return z.appendChild(U)}),$.security.forEach(function(U){return z.appendChild(U)}),$.warning.forEach(function(U){return z.appendChild(U)}),$.info.forEach(function(U){return z.appendChild(U)}),$.hint.forEach(function(U){return z.appendChild(U)}),z.setAttribute("aria-live","polite");var B=this.$findLinkedAnnotationNode(o);B&&B.setAttribute("aria-describedby",this.id);var P=i.fromPoints({row:o,column:0},{row:o,column:0});this.showForRange(this.editor,P,z),this.visibleTooltipRow=o,this.editor._signal("showGutterTooltip",this)},u.prototype.$setPosition=function(o,d,g,x){var S=this.$findCellByRow(x.start.row);if(S){var w=S&&S.element,b=w&&w.querySelector(".ace_gutter_annotation");if(b){var k=b.getBoundingClientRect();if(k){var A={pageX:k.right,pageY:k.top};return l.prototype.$setPosition.call(this,o,A,!1,x)}}}},u.prototype.$shouldPlaceAbove=function(o,d,g){return g<o},u.prototype.$findLinkedAnnotationNode=function(o){var d=this.$findCellByRow(o);if(d){var g=d.element;if(g.childNodes.length>2)return g.childNodes[2]}},u.prototype.$findCellByRow=function(o){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(d){return d.row===o})},u.prototype.hide=function(o){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var d=this.$findLinkedAnnotationNode(this.visibleTooltipRow);d&&d.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),l.prototype.hide.call(this,o)}},u.annotationsToSummaryString=function(o){var d,g,x=[],S=["error","security","warning","info","hint"];try{for(var w=y(S),b=w.next();!b.done;b=w.next()){var k=b.value;if(o[k].length){var A=o[k].length===1?u.annotationLabels[k].singular:u.annotationLabels[k].plural;x.push("".concat(o[k].length," ").concat(A))}}}catch(T){d={error:T}}finally{try{b&&!b.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x.join(", ")},u.prototype.isOutsideOfText=function(o){var d=o.editor,g=d.renderer.$gutter.getBoundingClientRect();return!(o.clientX>=g.left&&o.clientX<=g.right&&o.clientY>=g.top&&o.clientY<=g.bottom)},u})(c);r.$uid=0,v.GutterTooltip=r}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/event"),f=m("../lib/useragent"),a=200,c=200,s=5;function i(r){var l=r.editor,u=E.createElement("div");u.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",u.textContent="";var o=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];o.forEach(function(Y){r[Y]=this[Y]},this),l.on("mousedown",this.onMouseDown.bind(r));var d=l.container,g,x,S,w,b,k,A=0,T,j,F,N,$;this.onDragStart=function(Y){if(this.cancelDrag||!d.draggable){var X=this;return setTimeout(function(){X.startSelect(),X.captureMouse(Y)},0),Y.preventDefault()}b=l.getSelectionRange();var q=Y.dataTransfer;q.effectAllowed=l.getReadOnly()?"copy":"copyMove",l.container.appendChild(u),q.setDragImage&&q.setDragImage(u,0,0),setTimeout(function(){l.container.removeChild(u)}),q.clearData(),q.setData("Text",l.session.getTextRange()),j=!0,this.setState("drag")},this.onDragEnd=function(Y){if(d.draggable=!1,j=!1,this.setState(null),!l.getReadOnly()){var X=Y.dataTransfer.dropEffect;!T&&X=="move"&&l.session.remove(l.getSelectionRange()),l.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Y){if(!(l.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,S=Y.clientY,g||z(),A++,Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragOver=function(Y){if(!(l.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,S=Y.clientY,g||(z(),A++),P!==null&&(P=null),Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragLeave=function(Y){if(A--,A<=0&&g)return B(),T=null,y.preventDefault(Y)},this.onDrop=function(Y){if(k){var X=Y.dataTransfer;if(j)switch(T){case"move":b.contains(k.row,k.column)?b={start:k,end:k}:b=l.moveText(b,k);break;case"copy":b=l.moveText(b,k,!0);break}else{var q=X.getData("Text");b={start:k,end:l.session.insert(k,q)},l.focus(),T=null}return B(),y.preventDefault(Y)}},y.addListener(d,"dragstart",this.onDragStart.bind(r),l),y.addListener(d,"dragend",this.onDragEnd.bind(r),l),y.addListener(d,"dragenter",this.onDragEnter.bind(r),l),y.addListener(d,"dragover",this.onDragOver.bind(r),l),y.addListener(d,"dragleave",this.onDragLeave.bind(r),l),y.addListener(d,"drop",this.onDrop.bind(r),l);function M(Y,X){var q=Date.now(),J=!X||Y.row!=X.row,V=!X||Y.column!=X.column;if(!N||J||V)l.moveCursorToPosition(Y),N=q,$={x,y:S};else{var Q=n($.x,$.y,x,S);Q>s?N=null:q-N>=c&&(l.renderer.scrollCursorIntoView(),N=null)}}function L(Y,X){var q=Date.now(),J=l.renderer.layerConfig.lineHeight,V=l.renderer.layerConfig.characterWidth,Q=l.renderer.scroller.getBoundingClientRect(),te={x:{left:x-Q.left,right:Q.right-x},y:{top:S-Q.top,bottom:Q.bottom-S}},ne=Math.min(te.x.left,te.x.right),me=Math.min(te.y.top,te.y.bottom),pe={row:Y.row,column:Y.column};ne/V<=2&&(pe.column+=te.x.left<te.x.right?-3:2),me/J<=1&&(pe.row+=te.y.top<te.y.bottom?-1:1);var Se=Y.row!=pe.row,ke=Y.column!=pe.column,Ae=!X||Y.row!=X.row;Se||ke&&!Ae?F?q-F>=a&&l.renderer.scrollCursorIntoView(pe):F=q:F=null}function D(){var Y=k;k=l.renderer.screenToTextCoordinates(x,S),M(k,Y),L(k,Y)}function z(){b=l.selection.toOrientedRange(),g=l.session.addMarker(b,"ace_selection",l.getSelectionStyle()),l.clearSelection(),l.isFocused()&&l.renderer.$cursorLayer.setBlinking(!1),clearInterval(w),D(),w=setInterval(D,20),A=0,y.addListener(document,"mousemove",U)}function B(){clearInterval(w),l.session.removeMarker(g),g=null,l.selection.fromOrientedRange(b),l.isFocused()&&!j&&l.$resetCursorStyle(),b=null,k=null,A=0,F=null,N=null,y.removeListener(document,"mousemove",U)}var P=null;function U(){P==null&&(P=setTimeout(function(){P!=null&&g&&B()},20))}function W(Y){var X=Y.types;return!X||Array.prototype.some.call(X,function(q){return q=="text/plain"||q=="Text"})}function K(Y){var X=["copy","copymove","all","uninitialized"],q=["move","copymove","linkmove","all","uninitialized"],J=f.isMac?Y.altKey:Y.ctrlKey,V="uninitialized";try{V=Y.dataTransfer.effectAllowed.toLowerCase()}catch{}var Q="none";return J&&X.indexOf(V)>=0?Q="copy":q.indexOf(V)>=0?Q="move":X.indexOf(V)>=0&&(Q="copy"),Q}}(function(){this.dragWait=function(){var r=Date.now()-this.mousedownEvent.time;r>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var r=this.editor.container;r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(r){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var r=this.editor,l=r.container;l.draggable=!0,r.renderer.$cursorLayer.setBlinking(!1),r.setStyle("ace_dragging");var u=f.isWin?"default":"move";r.renderer.setCursorStyle(u),this.setState("dragReady")},this.onMouseDrag=function(r){var l=this.editor.container;if(f.isIE&&this.state=="dragReady"){var u=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);u>3&&l.dragDrop()}if(this.state==="dragWait"){var u=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);u>0&&(l.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(r){if(this.$dragEnabled){this.mousedownEvent=r;var l=this.editor,u=r.inSelection(),o=r.getButton(),d=r.domEvent.detail||1;if(d===1&&o===0&&u){if(r.editor.inMultiSelectMode&&(r.getAccelKey()||r.getShiftKey()))return;this.mousedownEvent.time=Date.now();var g=r.domEvent.target||r.domEvent.srcElement;if("unselectable"in g&&(g.unselectable="on"),l.getDragDelay()){if(f.isWebKit){this.cancelDrag=!0;var x=l.container;x.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(r,this.onMouseDrag.bind(this)),r.defaultPrevented=!0}}}}).call(i.prototype);function n(r,l,u,o){return Math.sqrt(Math.pow(u-r,2)+Math.pow(o-l,2))}v.DragdropHandler=i}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(m,v,R){var E=m("./mouse_event").MouseEvent,y=m("../lib/event"),f=m("../lib/dom");v.addTouchListeners=function(a,c){var s="scroll",i,n,r,l,u,o,d=0,g,x=0,S=0,w=0,b,k;function A(){var M=window.navigator&&window.navigator.clipboard,L=!1,D=function(){var P=c.getCopyText(),U=c.session.getUndoManager().hasUndo();k.replaceChild(f.buildDom(L?["span",!P&&z("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&z("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&z("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],M&&z("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],U&&z("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],z("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],z("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),k.firstChild)},z=function(P){return c.commands.canExecute(P,c)},B=function(P){var U=P.target.getAttribute("action");if(U=="more"||!L)return L=!L,D();U=="paste"?M.readText().then(function(W){c.execCommand(U,W)}):U&&((U=="cut"||U=="copy")&&(M?M.writeText(c.getCopyText()):document.execCommand("copy")),c.execCommand(U)),k.firstChild.style.display="none",L=!1,U!="openCommandPalette"&&c.focus()};k=f.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){s="menu",P.stopPropagation(),P.preventDefault(),c.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),B(P)},onclick:B},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],c.container)}function T(){if(!c.getOption("enableMobileMenu")){k&&j();return}k||A();var M=c.selection.cursor,L=c.renderer.textToScreenCoordinates(M.row,M.column),D=c.renderer.textToScreenCoordinates(0,0).pageX,z=c.renderer.scrollLeft,B=c.container.getBoundingClientRect();k.style.top=L.pageY-B.top-3+"px",L.pageX-B.left<B.width-70?(k.style.left="",k.style.right="10px"):(k.style.right="",k.style.left=D+z-B.left+"px"),k.style.display="",k.firstChild.style.display="none",c.on("input",j)}function j(M){k&&(k.style.display="none"),c.off("input",j)}function F(){u=null,clearTimeout(u);var M=c.selection.getRange(),L=M.contains(g.row,g.column);(M.isEmpty()||!L)&&(c.selection.moveToPosition(g),c.selection.selectWord()),s="wait",T()}function N(){u=null,clearTimeout(u),c.selection.moveToPosition(g);var M=x>=2?c.selection.getLineRange(g.row):c.session.getBracketRange(g);M&&!M.isEmpty()?c.selection.setRange(M):c.selection.selectWord(),s="wait"}y.addListener(a,"contextmenu",function(M){if(b){var L=c.textInput.getElement();L.focus()}},c),y.addListener(a,"touchstart",function(M){var L=M.touches;if(u||L.length>1){clearTimeout(u),u=null,r=-1,s="zoom";return}b=c.$mouseHandler.isMousePressed=!0;var D=c.renderer.layerConfig.lineHeight,z=c.renderer.layerConfig.lineHeight,B=M.timeStamp;l=B;var P=L[0],U=P.clientX,W=P.clientY;Math.abs(i-U)+Math.abs(n-W)>D&&(r=-1),i=M.clientX=U,n=M.clientY=W,S=w=0;var K=new E(M,c);if(g=K.getDocumentPosition(),B-r<500&&L.length==1&&!d)x++,M.preventDefault(),M.button=0,N();else{x=0;var Y=c.selection.cursor,X=c.selection.isEmpty()?Y:c.selection.anchor,q=c.renderer.$cursorLayer.getPixelPosition(Y,!0),J=c.renderer.$cursorLayer.getPixelPosition(X,!0),V=c.renderer.scroller.getBoundingClientRect(),Q=c.renderer.layerConfig.offset,te=c.renderer.scrollLeft,ne=function(Se,ke){return Se=Se/z,ke=ke/D-.75,Se*Se+ke*ke};if(M.clientX<V.left){s="zoom";return}var me=ne(M.clientX-V.left-q.left+te,M.clientY-V.top-q.top+Q),pe=ne(M.clientX-V.left-J.left+te,M.clientY-V.top-J.top+Q);me<3.5&&pe<3.5&&(s=me>pe?"cursor":"anchor"),pe<3.5?s="anchor":me<3.5?s="cursor":s="scroll",u=setTimeout(F,450)}r=B},c),y.addListener(a,"touchend",function(M){b=c.$mouseHandler.isMousePressed=!1,o&&clearInterval(o),s=="zoom"?(s="",d=0):u?(c.selection.moveToPosition(g),d=0,T()):s=="scroll"?($(),j()):T(),clearTimeout(u),u=null},c),y.addListener(a,"touchmove",function(M){u&&(clearTimeout(u),u=null);var L=M.touches;if(!(L.length>1||s=="zoom")){var D=L[0],z=i-D.clientX,B=n-D.clientY;if(s=="wait")if(z*z+B*B>4)s="cursor";else return M.preventDefault();i=D.clientX,n=D.clientY,M.clientX=D.clientX,M.clientY=D.clientY;var P=M.timeStamp,U=P-l;if(l=P,s=="scroll"){var W=new E(M,c);W.speed=1,W.wheelX=z,W.wheelY=B,10*Math.abs(z)<Math.abs(B)&&(z=0),10*Math.abs(B)<Math.abs(z)&&(B=0),U!=0&&(S=z/U,w=B/U),c._emit("mousewheel",W),W.propagationStopped||(S=w=0)}else{var K=new E(M,c),Y=K.getDocumentPosition();s=="cursor"?c.selection.moveCursorToPosition(Y):s=="anchor"&&c.selection.setSelectionAnchor(Y.row,Y.column),c.renderer.scrollCursorIntoView(Y),M.preventDefault()}}},c);function $(){d+=60,o=setInterval(function(){d--<=0&&(clearInterval(o),o=null),Math.abs(S)<.01&&(S=0),Math.abs(w)<.01&&(w=0),d<20&&(S=.9*S),d<20&&(w=.9*w);var M=c.session.getScrollTop();c.renderer.scrollBy(10*S,10*w),M==c.session.getScrollTop()&&(d=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent"),f=m("./default_handlers").DefaultHandlers,a=m("./default_gutter_handler").GutterHandler,c=m("./mouse_event").MouseEvent,s=m("./dragdrop_handler").DragdropHandler,i=m("./touch_handler").addTouchListeners,n=m("../config"),r=(function(){function l(u){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var o=this;this.editor=u,new f(this),new a(this),new s(this);var d=function(S){var w=!document.hasFocus||!document.hasFocus()||!u.isFocused()&&document.activeElement==(u.textInput&&u.textInput.getElement());w&&window.focus(),u.focus(),setTimeout(function(){u.isFocused()||u.focus()})},g=u.renderer.getMouseEventTarget();E.addListener(g,"click",this.onMouseEvent.bind(this,"click"),u),E.addListener(g,"mousemove",this.onMouseMove.bind(this,"mousemove"),u),E.addMultiMouseDownListener([g,u.renderer.scrollBarV&&u.renderer.scrollBarV.inner,u.renderer.scrollBarH&&u.renderer.scrollBarH.inner,u.textInput&&u.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",u),E.addMouseWheelListener(u.container,this.onMouseWheel.bind(this,"mousewheel"),u),i(u.container,u);var x=u.renderer.$gutter;E.addListener(x,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),u),E.addListener(x,"click",this.onMouseEvent.bind(this,"gutterclick"),u),E.addListener(x,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),u),E.addListener(x,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),u),E.addListener(g,"mousedown",d,u),E.addListener(x,"mousedown",d,u),y.isIE&&u.renderer.scrollBarV&&(E.addListener(u.renderer.scrollBarV.element,"mousedown",d,u),E.addListener(u.renderer.scrollBarH.element,"mousedown",d,u)),u.on("mousemove",function(S){if(!(o.state||o.$dragDelay||!o.$dragEnabled)){var w=u.renderer.screenToTextCoordinates(S.x,S.y),b=u.session.selection.getRange(),k=u.renderer;!b.isEmpty()&&b.insideStart(w.row,w.column)?k.setCursorStyle("default"):k.setCursorStyle("")}},u)}return l.prototype.onMouseEvent=function(u,o){this.editor.session&&this.editor._emit(u,new c(o,this.editor))},l.prototype.onMouseMove=function(u,o){var d=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!d||!d.length||this.editor._emit(u,new c(o,this.editor))},l.prototype.onMouseWheel=function(u,o){var d=new c(o,this.editor);d.speed=this.$scrollSpeed*2,d.wheelX=o.wheelX,d.wheelY=o.wheelY,this.editor._emit(u,d)},l.prototype.setState=function(u){this.state=u},l.prototype.captureMouse=function(u,o){this.x=u.x,this.y=u.y,this.isMousePressed=!0;var d=this.editor,g=this.editor.renderer;g.$isMousePressed=!0;var x=this,S=!0,w=function(j){if(j){if(y.isWebKit&&!j.which&&x.releaseMouse)return x.releaseMouse();x.x=j.clientX,x.y=j.clientY,o&&o(j),x.mouseEvent=new c(j,x.editor),x.$mouseMoved=!0}},b=function(j){d.off("beforeEndOperation",T),S=!1,d.session&&k(),x[x.state+"End"]&&x[x.state+"End"](j),x.state="",x.isMousePressed=g.$isMousePressed=!1,g.$keepTextAreaAtCursor&&g.$moveTextAreaToCursor(),x.$onCaptureMouseMove=x.releaseMouse=null,j&&x.onMouseEvent("mouseup",j),d.endOperation()},k=function(){x[x.state]&&x[x.state](),x.$mouseMoved=!1},A=function(){S&&(k(),E.nextFrame(A))};if(y.isOldIE&&u.domEvent.type=="dblclick")return setTimeout(function(){b(u)});var T=function(j){x.releaseMouse&&d.curOp.command.name&&d.curOp.selectionChanged&&(x[x.state+"End"]&&x[x.state+"End"](),x.state="",x.releaseMouse())};d.on("beforeEndOperation",T),d.startOperation({command:{name:"mouse"}}),x.$onCaptureMouseMove=w,x.releaseMouse=E.capture(this.editor.container,w,b),A()},l.prototype.cancelContextMenu=function(){var u=(function(o){o&&o.domEvent&&o.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",u),o&&o.domEvent&&E.stopEvent(o.domEvent))}).bind(this);setTimeout(u,10),this.editor.on("nativecontextmenu",u)},l.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},l})();r.prototype.releaseMouse=null,n.defineOptions(r.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:y.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),v.MouseHandler=r}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a){a.on("click",function(c){var s=c.getDocumentPosition(),i=a.session,n=i.getFoldAt(s.row,s.column,1);n&&(c.getAccelKey()?i.removeFold(n):i.expandFold(n),c.stop());var r=c.domEvent&&c.domEvent.target;r&&E.hasCssClass(r,"ace_inline_button")&&E.hasCssClass(r,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(c){var s=a.renderer.$gutterLayer.getRegion(c);if(s=="foldWidgets"){var i=c.getDocumentPosition().row,n=a.session;n.foldWidgets&&n.foldWidgets[i]&&a.session.onFoldWidgetClick(i,c),a.isFocused()||a.focus(),c.stop()}}),a.on("gutterdblclick",function(c){var s=a.renderer.$gutterLayer.getRegion(c);if(s=="foldWidgets"){var i=c.getDocumentPosition().row,n=a.session,r=n.getParentFoldRangeData(i,!0),l=r.range||r.firstRange;if(l){i=l.start.row;var u=n.getFoldAt(i,n.getLine(i).length,1);u?n.removeFold(u):(n.addFold("...",l),a.renderer.scrollCursorIntoView({row:l.start.row,column:0}))}c.stop()}})}return f})();v.FoldHandler=y}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(m,v,R){var E=m("../lib/keys"),y=m("../lib/event"),f=(function(){function a(c){this.$editor=c,this.$data={editor:c},this.$handlers=[],this.setDefaultHandler(c.commands)}return a.prototype.setDefaultHandler=function(c){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=c,this.addKeyboardHandler(c,0)},a.prototype.setKeyboardHandler=function(c){var s=this.$handlers;if(s[s.length-1]!=c){for(;s[s.length-1]&&s[s.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(s[s.length-1]);this.addKeyboardHandler(c,1)}},a.prototype.addKeyboardHandler=function(c,s){if(c){typeof c=="function"&&!c.handleKeyboard&&(c.handleKeyboard=c);var i=this.$handlers.indexOf(c);i!=-1&&this.$handlers.splice(i,1),s==null?this.$handlers.push(c):this.$handlers.splice(s,0,c),i==-1&&c.attach&&c.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(c){var s=this.$handlers.indexOf(c);return s==-1?!1:(this.$handlers.splice(s,1),c.detach&&c.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var c=this.$data,s=c.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(s,c)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(c,s,i,n){for(var r,l=!1,u=this.$editor.commands,o=this.$handlers.length;o--&&(r=this.$handlers[o].handleKeyboard(this.$data,c,s,i,n),!(!(!r||!r.command)&&(r.command=="null"?l=!0:l=u.exec(r.command,this.$editor,r.args,n),l&&n&&c!=-1&&r.passEvent!=!0&&r.command.passEvent!=!0&&y.stopEvent(n),l))););return!l&&c==-1&&(r={command:"insertstring"},l=u.exec("insertstring",this.$editor,s)),l&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),l},a.prototype.onCommandKey=function(c,s,i){var n=E.keyCodeToString(i);return this.$callKeyboardHandlers(s,n,i,c)},a.prototype.onTextInput=function(c){return this.$callKeyboardHandlers(-1,c)},a})();v.KeyBinding=f}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(m,v,R){var E=0,y=0,f=!1,a=!1,c=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],i=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=0,r=1,l=0,u=1,o=2,d=3,g=4,x=5,S=6,w=7,b=8,k=9,A=10,T=11,j=12,F=13,N=14,$=15,M=16,L=17,D=18,z=[D,D,D,D,D,D,D,D,D,S,x,S,b,x,D,D,D,D,D,D,D,D,D,D,D,D,D,D,x,x,x,S,b,g,g,T,T,T,g,g,g,g,g,A,k,A,k,k,o,o,o,o,o,o,o,o,o,o,k,g,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,D,D,D,D,D,D,x,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,k,g,T,T,T,T,g,g,g,g,l,g,g,D,g,g,T,T,o,o,g,l,g,g,g,o,l,g,g,g,g,g],B=[b,b,b,b,b,b,b,b,b,b,b,D,D,D,l,u,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,x,F,N,$,M,L,k,T,T,T,T,T,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b];function P(Y,X,q,J){var V=E?i:s,Q=null,te=null,ne=null,me=0,pe=null,Se=null,ke=-1,Ae=null,Ue=null,we=[];if(!J)for(Ae=0,J=[];Ae<q;Ae++)J[Ae]=K(Y[Ae]);for(y=E,f=!1,a=!1,c=!1,Ue=0;Ue<q;Ue++){if(Q=me,we[Ue]=te=W(Y,J,we,Ue),me=V[Q][te],pe=me&240,me&=15,X[Ue]=ne=V[me][5],pe>0)if(pe==16){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=1;ke=-1}else ke=-1;if(Se=V[me][6],Se)ke==-1&&(ke=Ue);else if(ke>-1){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=ne;ke=-1}J[Ue]==x&&(X[Ue]=0),y|=ne}if(c){for(Ae=0;Ae<q;Ae++)if(J[Ae]==S){X[Ae]=E;for(var Ce=Ae-1;Ce>=0&&J[Ce]==b;Ce--)X[Ce]=E}}}function U(Y,X,q){if(!(y<Y)){if(Y==1&&E==r&&!a){q.reverse();return}for(var J=q.length,V=0,Q,te,ne,me;V<J;){if(X[V]>=Y){for(Q=V+1;Q<J&&X[Q]>=Y;)Q++;for(te=V,ne=Q-1;te<ne;te++,ne--)me=q[te],q[te]=q[ne],q[ne]=me;V=Q}V++}}}function W(Y,X,q,J){var V=X[J],Q,te,ne,me;switch(V){case l:case u:f=!1;case g:case d:return V;case o:return f?d:o;case w:return f=!0,u;case b:return g;case k:return J<1||J+1>=X.length||(Q=q[J-1])!=o&&Q!=d||(te=X[J+1])!=o&&te!=d?g:(f&&(te=d),te==Q?te:g);case A:return Q=J>0?q[J-1]:x,Q==o&&J+1<X.length&&X[J+1]==o?o:g;case T:if(J>0&&q[J-1]==o)return o;if(f)return g;for(me=J+1,ne=X.length;me<ne&&X[me]==T;)me++;return me<ne&&X[me]==o?o:g;case j:for(ne=X.length,me=J+1;me<ne&&X[me]==j;)me++;if(me<ne){var pe=Y[J],Se=pe>=1425&&pe<=2303||pe==64286;if(Q=X[me],Se&&(Q==u||Q==w))return u}return J<1||(Q=X[J-1])==x?g:q[J-1];case x:return f=!1,a=!0,E;case S:return c=!0,g;case F:case N:case M:case L:case $:f=!1;case D:return g}}function K(Y){var X=Y.charCodeAt(0),q=X>>8;return q==0?X>191?l:z[X]:q==5?/[\u0591-\u05f4]/.test(Y)?u:l:q==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Y)?j:/[\u0660-\u0669\u066b-\u066c]/.test(Y)?d:X==1642?T:/[\u06f0-\u06f9]/.test(Y)?o:w:q==32&&X<=8287?B[X&255]:q==254&&X>=65136?w:g}v.L=l,v.R=u,v.EN=o,v.ON_R=3,v.AN=4,v.R_H=5,v.B=6,v.RLE=7,v.DOT="",v.doBidiReorder=function(Y,X,q){if(Y.length<2)return{};var J=Y.split(""),V=new Array(J.length),Q=new Array(J.length),te=[];E=q?r:n,P(J,te,J.length,X);for(var ne=0;ne<V.length;V[ne]=ne,ne++);U(2,te,V),U(1,te,V);for(var ne=0;ne<V.length-1;ne++)X[ne]===d?te[ne]=v.AN:te[ne]===u&&(X[ne]>w&&X[ne]<F||X[ne]===g||X[ne]===D)?te[ne]=v.ON_R:ne>0&&J[ne-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(J[ne])&&(te[ne-1]=te[ne]=v.R_H,ne++);J[J.length-1]===v.DOT&&(te[J.length-1]=v.B),J[0]===""&&(te[0]=v.RLE);for(var ne=0;ne<V.length;ne++)Q[ne]=te[V[ne]];return{logicalFromVisual:V,bidiLevels:Q}},v.hasBidiCharacters=function(Y,X){for(var q=!1,J=0;J<Y.length;J++)X[J]=K(Y.charAt(J)),!q&&(X[J]==u||X[J]==w||X[J]==d)&&(q=!0);return q},v.getVisualFromLogicalIdx=function(Y,X){for(var q=0;q<X.logicalFromVisual.length;q++)if(X.logicalFromVisual[q]==Y)return q;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(m,v,R){var E=m("./lib/bidiutil"),y=m("./lib/lang"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=(function(){function c(s){this.session=s,this.bidiMap={},this.currentRow=null,this.bidiUtil=E,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=f.test(s.getValue())}return c.prototype.isBidiRow=function(s,i,n){return this.seenBidi?(s!==this.currentRow&&(this.currentRow=s,this.updateRowLine(i,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},c.prototype.onChange=function(s){this.seenBidi?this.currentRow=null:s.action=="insert"&&f.test(s.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},c.prototype.getDocumentRow=function(){var s=0,i=this.session.$screenRowCache;if(i.length){var n=this.session.$getRowCacheIndex(i,this.currentRow);n>=0&&(s=this.session.$docRowCache[n])}return s},c.prototype.getSplitIndex=function(){var s=0,i=this.session.$screenRowCache;if(i.length)for(var n,r=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-s>0&&(n=this.session.$getRowCacheIndex(i,this.currentRow-s-1),n===r);)r=n,s++;else s=this.currentRow;return s},c.prototype.updateRowLine=function(s,i){s===void 0&&(s=this.getDocumentRow());var n=s===this.session.getLength()-1,r=n?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(s),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var l=this.session.$wrapData[s];l&&(i===void 0&&(i=this.getSplitIndex()),i>0&&l.length?(this.wrapIndent=l.indent,this.wrapOffset=this.wrapIndent*this.charWidths[E.L],this.line=i<l.length?this.line.substring(l[i-1],l[i]):this.line.substring(l[l.length-1])):this.line=this.line.substring(0,l[i]),i==l.length&&(this.line+=this.showInvisibles?r:E.DOT))}else this.line+=this.showInvisibles?r:E.DOT;var u=this.session,o=0,d;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(g,x){return g==="	"||u.isFullWidth(g.charCodeAt(0))?(d=g==="	"?u.getScreenTabSize(x+o):2,o+=d-1,y.stringRepeat(E.DOT,d)):g}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==E.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},c.prototype.updateBidiMap=function(){var s=[];E.hasBidiCharacters(this.line,s)||this.isRtlDir?this.bidiMap=E.doBidiReorder(this.line,s,this.isRtlDir):this.bidiMap={}},c.prototype.markAsDirty=function(){this.currentRow=null},c.prototype.updateCharacterWidths=function(s){if(this.characterWidth!==s.$characterSize.width){this.fontMetrics=s;var i=this.characterWidth=s.$characterSize.width,n=s.$measureCharWidth("");this.charWidths[E.L]=this.charWidths[E.EN]=this.charWidths[E.ON_R]=i,this.charWidths[E.R]=this.charWidths[E.AN]=n,this.charWidths[E.R_H]=n*.45,this.charWidths[E.B]=this.charWidths[E.RLE]=0,this.currentRow=null}},c.prototype.setShowInvisibles=function(s){this.showInvisibles=s,this.currentRow=null},c.prototype.setEolChar=function(s){this.EOL=s},c.prototype.setContentWidth=function(s){this.contentWidth=s},c.prototype.isRtlLine=function(s){return this.$isRtl?!0:s!=null?this.session.getLine(s).charAt(0)==this.RLE:this.isRtlDir},c.prototype.setRtlDirection=function(s,i){for(var n=s.getCursorPosition(),r=s.selection.getSelectionAnchor().row;r<=n.row;r++)!i&&s.session.getLine(r).charAt(0)===s.session.$bidiHandler.RLE?s.session.doc.removeInLine(r,0,1):i&&s.session.getLine(r).charAt(0)!==s.session.$bidiHandler.RLE&&s.session.doc.insert({column:0,row:r},s.session.$bidiHandler.RLE)},c.prototype.getPosLeft=function(s){s-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,n=s>i?this.session.getOverwrite()?s:s-1:i,r=E.getVisualFromLogicalIdx(n,this.bidiMap),l=this.bidiMap.bidiLevels,u=0;!this.session.getOverwrite()&&s<=i&&l[r]%2!==0&&r++;for(var o=0;o<r;o++)u+=this.charWidths[l[o]];return!this.session.getOverwrite()&&s>i&&l[r]%2===0&&(u+=this.charWidths[l[r]]),this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(u+=this.rtlLineOffset),u},c.prototype.getSelections=function(s,i){var n=this.bidiMap,r=n.bidiLevels,l,u=[],o=0,d=Math.min(s,i)-this.wrapIndent,g=Math.max(s,i)-this.wrapIndent,x=!1,S=!1,w=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var b,k=0;k<r.length;k++)b=n.logicalFromVisual[k],l=r[k],x=b>=d&&b<g,x&&!S?w=o:!x&&S&&u.push({left:w,width:o-w}),o+=this.charWidths[l],S=x;if(x&&k===r.length&&u.push({left:w,width:o-w}),this.isRtlDir)for(var A=0;A<u.length;A++)u[A].left+=this.rtlLineOffset;return u},c.prototype.offsetToCol=function(n){this.isRtlDir&&(n-=this.rtlLineOffset);var i=0,n=Math.max(n,0),r=0,l=0,u=this.bidiMap.bidiLevels,o=this.charWidths[u[l]];for(this.wrapIndent&&(n-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n>r+o/2;){if(r+=o,l===u.length-1){o=0;break}o=this.charWidths[u[++l]]}return l>0&&u[l-1]%2!==0&&u[l]%2===0?(n<r&&l--,i=this.bidiMap.logicalFromVisual[l]):l>0&&u[l-1]%2===0&&u[l]%2!==0?i=1+(n>r?this.bidiMap.logicalFromVisual[l]:this.bidiMap.logicalFromVisual[l-1]):this.isRtlDir&&l===u.length-1&&o===0&&u[l-1]%2===0||!this.isRtlDir&&l===0&&u[l]%2!==0?i=1+this.bidiMap.logicalFromVisual[l]:(l>0&&u[l-1]%2!==0&&o!==0&&l--,i=this.bidiMap.logicalFromVisual[l]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent},c})();v.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/lang"),f=m("./lib/event_emitter").EventEmitter,a=m("./range").Range,c=(function(){function s(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var n=this;this.cursor.on("change",function(r){n.$cursorChanged=!0,n.$silent||n._emit("changeCursor"),!n.$isEmpty&&!n.$silent&&n._emit("changeSelection"),!n.$keepDesiredColumnOnChange&&r.old.column!=r.value.column&&(n.$desiredColumn=null)}),this.anchor.on("change",function(){n.$anchorChanged=!0,!n.$isEmpty&&!n.$silent&&n._emit("changeSelection")})}return s.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},s.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},s.prototype.getCursor=function(){return this.lead.getPosition()},s.prototype.setAnchor=function(i,n){this.$isEmpty=!1,this.anchor.setPosition(i,n)},s.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},s.prototype.getSelectionLead=function(){return this.lead.getPosition()},s.prototype.isBackwards=function(){var i=this.anchor,n=this.lead;return i.row>n.row||i.row==n.row&&i.column>n.column},s.prototype.getRange=function(){var i=this.anchor,n=this.lead;return this.$isEmpty?a.fromPoints(n,n):this.isBackwards()?a.fromPoints(n,i):a.fromPoints(i,n)},s.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},s.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.setRange=function(i,n){var r=n?i.end:i.start,l=n?i.start:i.end;this.$setSelection(r.row,r.column,l.row,l.column)},s.prototype.$setSelection=function(i,n,r,l){if(!this.$silent){var u=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,n),this.cursor.setPosition(r,l),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||u!=this.$isEmpty||o)&&this._emit("changeSelection")}},s.prototype.$moveSelection=function(i){var n=this.lead;this.$isEmpty&&this.setSelectionAnchor(n.row,n.column),i.call(this)},s.prototype.selectTo=function(i,n){this.$moveSelection(function(){this.moveCursorTo(i,n)})},s.prototype.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},s.prototype.moveTo=function(i,n){this.clearSelection(),this.moveCursorTo(i,n)},s.prototype.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},s.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},s.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},s.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},s.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},s.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},s.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},s.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},s.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},s.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},s.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},s.prototype.getWordRange=function(i,n){if(typeof n>"u"){var r=i||this.lead;i=r.row,n=r.column}return this.session.getWordRange(i,n)},s.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},s.prototype.selectAWord=function(){var i=this.getCursor(),n=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(n)},s.prototype.getLineRange=function(i,n){var r=typeof i=="number"?i:this.lead.row,l,u=this.session.getFoldLine(r);return u?(r=u.start.row,l=u.end.row):l=r,n===!0?new a(r,0,l,this.session.getLine(l).length):new a(r,0,l+1,0)},s.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},s.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},s.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},s.prototype.wouldMoveIntoSoftTab=function(i,n,r){var l=i.column,u=i.column+n;return r<0&&(l=i.column-n,u=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(l,u).split(" ").length-1==n},s.prototype.moveCursorLeft=function(){var i=this.lead.getPosition(),n;if(n=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(n.start.row,n.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var r=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,r,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-r):this.moveCursorBy(0,-1)}},s.prototype.moveCursorRight=function(){var i=this.lead.getPosition(),n;if(n=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(n.end.row,n.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var r=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,r,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,r):this.moveCursorBy(0,1)}},s.prototype.moveCursorLineStart=function(){var i=this.lead.row,n=this.lead.column,r=this.session.documentToScreenRow(i,n),l=this.session.screenToDocumentPosition(r,0),u=this.session.getDisplayLine(i,null,l.row,l.column),o=u.match(/^\s*/);o[0].length!=n&&!this.session.$useEmacsStyleLineStart&&(l.column+=o[0].length),this.moveCursorToPosition(l)},s.prototype.moveCursorLineEnd=function(){var i=this.lead,n=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==n.column){var r=this.session.getLine(n.row);if(n.column==r.length){var l=r.search(/\s+$/);l>0&&(n.column=l)}}this.moveCursorTo(n.row,n.column)},s.prototype.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,n=this.doc.getLine(i).length;this.moveCursorTo(i,n)},s.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},s.prototype.moveCursorLongWordRight=function(){var i=this.lead.row,n=this.lead.column,r=this.doc.getLine(i),l=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var u=this.session.getFoldAt(i,n,1);if(u){this.moveCursorTo(u.end.row,u.end.column);return}if(this.session.nonTokenRe.exec(l)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,l=r.substring(n)),n>=r.length){this.moveCursorTo(i,r.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(l)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,n)},s.prototype.moveCursorLongWordLeft=function(){var i=this.lead.row,n=this.lead.column,r;if(r=this.session.getFoldAt(i,n,-1)){this.moveCursorTo(r.start.row,r.start.column);return}var l=this.session.getFoldStringAt(i,n,-1);l==null&&(l=this.doc.getLine(i).substring(0,n));var u=y.stringReverse(l);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(u)&&(n-=this.session.nonTokenRe.lastIndex,u=u.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(u)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,n)},s.prototype.$shortWordEndIndex=function(i){var n=0,r,l=/\s/,u=this.session.tokenRe;if(u.lastIndex=0,this.session.tokenRe.exec(i))n=this.session.tokenRe.lastIndex;else{for(;(r=i[n])&&l.test(r);)n++;if(n<1){for(u.lastIndex=0;(r=i[n])&&!u.test(r);)if(u.lastIndex=0,n++,l.test(r))if(n>2){n--;break}else{for(;(r=i[n])&&l.test(r);)n++;if(n>2)break}}}return u.lastIndex=0,n},s.prototype.moveCursorShortWordRight=function(){var i=this.lead.row,n=this.lead.column,r=this.doc.getLine(i),l=r.substring(n),u=this.session.getFoldAt(i,n,1);if(u)return this.moveCursorTo(u.end.row,u.end.column);if(n==r.length){var o=this.doc.getLength();do i++,l=this.doc.getLine(i);while(i<o&&/^\s*$/.test(l));/^\s+/.test(l)||(l=""),n=0}var d=this.$shortWordEndIndex(l);this.moveCursorTo(i,n+d)},s.prototype.moveCursorShortWordLeft=function(){var i=this.lead.row,n=this.lead.column,r;if(r=this.session.getFoldAt(i,n,-1))return this.moveCursorTo(r.start.row,r.start.column);var l=this.session.getLine(i).substring(0,n);if(n===0){do i--,l=this.doc.getLine(i);while(i>0&&/^\s*$/.test(l));n=l.length,/\s+$/.test(l)||(l="")}var u=y.stringReverse(l),o=this.$shortWordEndIndex(u);return this.moveCursorTo(i,n-o)},s.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},s.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},s.prototype.moveCursorBy=function(i,n){var r=this.session.documentToScreenPosition(this.lead.row,this.lead.column),l;if(n===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(l=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(l/this.session.$bidiHandler.charWidths[0])):l=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var u=this.session.lineWidgets[this.lead.row];i<0?i-=u.rowsAbove||0:i>0&&(i+=u.rowCount-(u.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+i,r.column,l);i!==0&&n===0&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+n,n===0)},s.prototype.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},s.prototype.moveCursorTo=function(i,n,r){var l=this.session.getFoldAt(i,n,1);l&&(i=l.start.row,n=l.start.column),this.$keepDesiredColumnOnChange=!0;var u=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(u.charAt(n))&&u.charAt(n-1)&&(this.lead.row==i&&this.lead.column==n+1?n=n-1:n=n+1),this.lead.setPosition(i,n),this.$keepDesiredColumnOnChange=!1,r||(this.$desiredColumn=null)},s.prototype.moveCursorToScreen=function(i,n,r){var l=this.session.screenToDocumentPosition(i,n);this.moveCursorTo(l.row,l.column,r)},s.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},s.prototype.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},s.prototype.toOrientedRange=function(i){var n=this.getRange();return i?(i.start.column=n.start.column,i.start.row=n.start.row,i.end.column=n.end.column,i.end.row=n.end.row):i=n,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},s.prototype.getRangeOfMovements=function(i){var n=this.getCursor();try{i(this);var r=this.getCursor();return a.fromPoints(n,r)}catch{return a.fromPoints(n,n)}finally{this.moveCursorToPosition(n)}},s.prototype.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(n){var r=n.clone();return r.isBackwards=n.cursor==n.start,r});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},s.prototype.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var n=i.length;n--;){var r=a.fromPoints(i[n].start,i[n].end);i[n].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},s.prototype.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var n=this.ranges.length;n--;)if(!this.ranges[n].isEqual(i[n]))return!1;return!0},s})();c.prototype.setSelectionAnchor=c.prototype.setAnchor,c.prototype.getSelectionAnchor=c.prototype.getAnchor,c.prototype.setSelectionRange=c.prototype.setRange,E.implement(c.prototype,f),v.Selection=c}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(m,v,R){var E=m("./lib/report_error").reportError,y=2e3,f=(function(){function a(c){this.splitRegex,this.states=c,this.regExps={},this.matchMappings={};for(var s in this.states){for(var i=this.states[s],n=[],r=0,l=this.matchMappings[s]={defaultToken:"text"},u="g",o=[],d=0;d<i.length;d++){var g=i[d];if(g.defaultToken&&(l.defaultToken=g.defaultToken),g.caseInsensitive&&u.indexOf("i")===-1&&(u+="i"),g.unicode&&u.indexOf("u")===-1&&(u+="u"),g.regex!=null){g.regex instanceof RegExp&&(g.regex=g.regex.toString().slice(1,-1));var x=g.regex,S=new RegExp("(?:("+x+")|(.))").exec("a").length-2;Array.isArray(g.token)?g.token.length==1||S==1?g.token=g.token[0]:S-1!=g.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:g,groupCount:S-1}),g.token=g.token[0]):(g.tokenArray=g.token,g.token=null,g.onMatch=this.$arrayTokens):typeof g.token=="function"&&!g.onMatch&&(S>1?g.onMatch=this.$applyToken:g.onMatch=g.token),S>1&&(/\\\d/.test(g.regex)?x=g.regex.replace(/\\([0-9]+)/g,function(w,b){return"\\"+(parseInt(b,10)+r+1)}):(S=1,x=this.removeCapturingGroups(g.regex)),!g.splitRegex&&typeof g.token!="string"&&o.push(g)),l[r]=d,r+=S,n.push(x),g.onMatch||(g.onMatch=null)}}n.length||(l[0]=0,n.push("$")),o.forEach(function(w){w.splitRegex=this.createSplitterRegexp(w.regex,u)},this),this.regExps[s]=new RegExp("("+n.join(")|(")+")|($)",u)}}return a.prototype.$setMaxTokenCount=function(c){y=c|0},a.prototype.$applyToken=function(c){var s=this.splitRegex.exec(c).slice(1),i=this.token.apply(this,s);if(typeof i=="string")return[{type:i,value:c}];for(var n=[],r=0,l=i.length;r<l;r++)s[r]&&(n[n.length]={type:i[r],value:s[r]});return n},a.prototype.$arrayTokens=function(c){if(!c)return[];var s=this.splitRegex.exec(c);if(!s)return"text";for(var i=[],n=this.tokenArray,r=0,l=n.length;r<l;r++)s[r+1]&&(i[i.length]={type:n[r],value:s[r+1]});return i},a.prototype.removeCapturingGroups=function(c){var s=c.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,n){return n?"(?:":i});return s},a.prototype.createSplitterRegexp=function(c,s){if(c.indexOf("(?=")!=-1){var i=0,n=!1,r={};c.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(l,u,o,d,g,x){return n?n=g!="]":g?n=!0:d?(i==r.stack&&(r.end=x+1,r.stack=-1),i--):o&&(i++,o.length!=1&&(r.stack=i,r.start=x)),l}),r.end!=null&&/^\)*$/.test(c.substr(r.end))&&(c=c.substring(0,r.start)+c.substr(r.end))}return c.charAt(0)!="^"&&(c="^"+c),c.charAt(c.length-1)!="$"&&(c+="$"),new RegExp(c,(s||"").replace("g",""))},a.prototype.getLineTokens=function(c,s){if(s&&typeof s!="string"){var i=s.slice(0);s=i[0],s==="#tmp"&&(i.shift(),s=i.shift())}else var i=[];var n=s||"start",r=this.states[n];r||(n="start",r=this.states[n]);var l=this.matchMappings[n],u=this.regExps[n];u.lastIndex=0;for(var o,d=[],g=0,x=0,S={type:null,value:""};o=u.exec(c);){var w=l.defaultToken,b=null,k=o[0],A=u.lastIndex;if(A-k.length>g){var T=c.substring(g,A-k.length);S.type==w?S.value+=T:(S.type&&d.push(S),S={type:w,value:T})}for(var j=0;j<o.length-2;j++)if(o[j+1]!==void 0){b=r[l[j]],b.onMatch?w=b.onMatch(k,n,i,c):w=b.token,b.next&&(typeof b.next=="string"?n=b.next:n=b.next(n,i),r=this.states[n],r||(this.reportError("state doesn't exist",n),n="start",r=this.states[n]),l=this.matchMappings[n],g=A,u=this.regExps[n],u.lastIndex=A),b.consumeLineEnd&&(g=A);break}if(k){if(typeof w=="string")(!b||b.merge!==!1)&&S.type===w?S.value+=k:(S.type&&d.push(S),S={type:w,value:k});else if(w){S.type&&d.push(S),S={type:null,value:""};for(var j=0;j<w.length;j++)d.push(w[j])}}if(g==c.length)break;if(g=A,x++>y){for(x>2*c.length&&this.reportError("infinite loop with in ace tokenizer",{startState:s,line:c});g<c.length;)S.type&&d.push(S),S={value:c.substring(g,g+=500),type:"overflow"};n="start",i=[];break}}return S.type&&d.push(S),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:d,state:i.length?i:n}},a})();f.prototype.reportError=E,v.Tokenizer=f}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(m,v,R){var E=m("../lib/deep_copy").deepCopy,y;y=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(c,s){if(!s){for(var i in c)this.$rules[i]=c[i];return}for(var i in c){for(var n=c[i],r=0;r<n.length;r++){var l=n[r];(l.next||l.onMatch)&&(typeof l.next=="string"&&l.next.indexOf(s)!==0&&(l.next=s+l.next),l.nextState&&l.nextState.indexOf(s)!==0&&(l.nextState=s+l.nextState))}this.$rules[s+i]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(c,s,i,n,r){var l=typeof c=="function"?new c().getRules():c;if(n)for(var u=0;u<n.length;u++)n[u]=s+n[u];else{n=[];for(var o in l)n.push(s+o)}if(this.addRules(l,s),i)for(var d=Array.prototype[r?"push":"unshift"],u=0;u<n.length;u++)d.apply(this.$rules[n[u]],E(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(s)},this.getEmbeds=function(){return this.$embeds};var f=function(c,s){return(c!="start"||s.length)&&s.unshift(this.nextState,c),this.nextState},a=function(c,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var c=0,s=this.$rules;function i(n){var r=s[n];r.processed=!0;for(var l=0;l<r.length;l++){var u=r[l],o=null;Array.isArray(u)&&(o=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var d=u.next||u.push;if(d&&Array.isArray(d)){var g=u.stateName;g||(g=u.token,typeof g!="string"&&(g=g[0]||""),s[g]&&(g+=c++)),s[g]=d,u.next=g,i(g)}else d=="pop"&&(u.next=a);if(u.push&&(u.nextState=u.next||u.push,u.next=f,delete u.push),u.rules)for(var x in u.rules)s[x]?s[x].push&&s[x].push.apply(s[x],u.rules[x]):s[x]=u.rules[x];var S=typeof u=="string"?u:u.include;if(S&&(S==="$self"&&(S="start"),Array.isArray(S)?o=S.map(function(b){return s[b]}):o=s[S]),o){var w=[l,1].concat(o);u.noEscape&&(w=w.filter(function(b){return!b.next})),r.splice.apply(r,w),l--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}Object.keys(s).forEach(i,this)},this.createKeywordMapper=function(c,s,i,n){var r=Object.create(null);return this.$keywordList=[],Object.keys(c).forEach(function(l){for(var u=c[l],o=u.split(n||"|"),d=o.length;d--;){var g=o[d];this.$keywordList.push(g),i&&(g=g.toLowerCase()),r[g]=l}},this),c=null,i?function(l){return r[l.toLowerCase()]||s}:function(l){return r[l]||s}},this.getKeywords=function(){return this.$keywords}}).call(y.prototype),v.TextHighlightRules=y}),ace.define("ace/mode/behaviour",["require","exports","module"],function(m,v,R){var E;E=function(){this.$behaviours={}},(function(){this.add=function(y,f,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[y]:this.$behaviours[y]={}}this.$behaviours[y][f]=a},this.addBehaviours=function(y){for(var f in y)for(var a in y[f])this.add(f,a,y[f][a])},this.remove=function(y){this.$behaviours&&this.$behaviours[y]&&delete this.$behaviours[y]},this.inherit=function(y,f){if(typeof y=="function")var a=new y().getBehaviours(f);else var a=y.getBehaviours(f);this.addBehaviours(a)},this.getBehaviours=function(y){if(y){for(var f={},a=0;a<y.length;a++)this.$behaviours[y[a]]&&(f[y[a]]=this.$behaviours[y[a]]);return f}else return this.$behaviours}}).call(E.prototype),v.Behaviour=E}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(m,v,R){var E=m("./range").Range,y=(function(){function f(a,c,s){this.$session=a,this.$row=c,this.$rowTokens=a.getTokens(c);var i=a.getTokenAt(c,s);this.$tokenIndex=i?i.index:-1}return f.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},f.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentTokenRow=function(){return this.$row},f.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,c=this.$tokenIndex,s=a[c].start;if(s!==void 0)return s;for(s=0;c>0;)c-=1,s+=a[c].value.length;return s},f.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},f.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],c=this.getCurrentTokenColumn();return new E(this.$row,c,this.$row,c+a.value.length)},f})();v.TokenIterator=y}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator,a=m("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,n={},r={'"':'"',"'":"'"},l=function(d){var g=-1;if(d.multiSelect&&(g=d.selection.index,n.rangeCount!=d.multiSelect.rangeCount&&(n={rangeCount:d.multiSelect.rangeCount})),n[g])return i=n[g];i=n[g]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},u=function(d,g,x,S){var w=d.end.row-d.start.row;return{text:x+g+S,selection:[0,d.start.column+1,w,d.end.column+(w?0:1)]}},o;o=function(d){d=d||{},this.add("braces","insertion",function(g,x,S,w,b){var k=S.getCursorPosition(),A=w.doc.getLine(k.row);if(b=="{"){l(S);var T=S.getSelectionRange(),j=w.doc.getTextRange(T),F=w.getTokenAt(k.row,k.column);if(j!==""&&j!=="{"&&S.getWrapBehavioursEnabled())return u(T,j,"{","}");if(F&&/(?:string)\.quasi|\.xml/.test(F.type)){var N=[/tag\-(?:open|name)/,/attribute\-name/];return N.some(function(P){return P.test(F.type)})||/(string)\.quasi/.test(F.type)&&F.value[k.column-F.start-1]!=="$"?void 0:(o.recordAutoInsert(S,w,"}"),{text:"{}",selection:[1,1]})}else if(o.isSaneInsertion(S,w))return/[\]\}\)]/.test(A[k.column])||S.inMultiSelectMode||d.braces?(o.recordAutoInsert(S,w,"}"),{text:"{}",selection:[1,1]}):(o.recordMaybeInsert(S,w,"{"),{text:"{",selection:[1,1]})}else if(b=="}"){l(S);var $=A.substring(k.column,k.column+1);if($=="}"){var M=w.$findOpeningBracket("}",{column:k.column+1,row:k.row});if(M!==null&&o.isAutoInsertedClosing(k,A,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(b==`
`||b==`\r
`){l(S);var L="";o.isMaybeInsertedClosing(k,A)&&(L=a.stringRepeat("}",i.maybeInsertedBrackets),o.clearMaybeInsertedClosing());var $=A.substring(k.column,k.column+1);if($==="}"){var D=w.findMatchingBracket({row:k.row,column:k.column+1},"}");if(!D)return null;var z=this.$getIndent(w.getLine(D.row))}else if(L)var z=this.$getIndent(A);else{o.clearMaybeInsertedClosing();return}var B=z+w.getTabString();return{text:`
`+B+`
`+z+L,selection:[1,B.length,1,B.length]}}else o.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="{"){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.end.column,b.end.column+1);if(T=="}")return b.end.column++,b;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(g,x,S,w,b){if(b=="("){l(S);var k=S.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&S.getWrapBehavioursEnabled())return u(k,A,"(",")");if(o.isSaneInsertion(S,w))return o.recordAutoInsert(S,w,")"),{text:"()",selection:[1,1]}}else if(b==")"){l(S);var T=S.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F==")"){var N=w.$findOpeningBracket(")",{column:T.column+1,row:T.row});if(N!==null&&o.isAutoInsertedClosing(T,j,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="("){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.start.column+1,b.start.column+2);if(T==")")return b.end.column++,b}}),this.add("brackets","insertion",function(g,x,S,w,b){if(b=="["){l(S);var k=S.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&S.getWrapBehavioursEnabled())return u(k,A,"[","]");if(o.isSaneInsertion(S,w))return o.recordAutoInsert(S,w,"]"),{text:"[]",selection:[1,1]}}else if(b=="]"){l(S);var T=S.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F=="]"){var N=w.$findOpeningBracket("]",{column:T.column+1,row:T.row});if(N!==null&&o.isAutoInsertedClosing(T,j,b))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(g,x,S,w,b){var k=w.doc.getTextRange(b);if(!b.isMultiLine()&&k=="["){l(S);var A=w.doc.getLine(b.start.row),T=A.substring(b.start.column+1,b.start.column+2);if(T=="]")return b.end.column++,b}}),this.add("string_dquotes","insertion",function(g,x,S,w,b){var k=w.$mode.$quotes||r;if(b.length==1&&k[b]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(b)!=-1)return;l(S);var A=b,T=S.getSelectionRange(),j=w.doc.getTextRange(T);if(j!==""&&(j.length!=1||!k[j])&&S.getWrapBehavioursEnabled())return u(T,j,A,A);if(!j){var F=S.getCursorPosition(),N=w.doc.getLine(F.row),$=N.substring(F.column-1,F.column),M=N.substring(F.column,F.column+1),L=w.getTokenAt(F.row,F.column),D=w.getTokenAt(F.row,F.column+1);if($=="\\"&&L&&/escape/.test(L.type))return null;var z=L&&/string|escape/.test(L.type),B=!D||/string|escape/.test(D.type),P;if(M==A)P=z!==B,P&&/string\.end/.test(D.type)&&(P=!1);else{if(z&&!B||z&&B)return null;var U=w.$mode.tokenRe;U.lastIndex=0;var W=U.test($);U.lastIndex=0;var K=U.test(M),Y=w.$mode.$pairQuotesAfter,X=Y&&Y[A]&&Y[A].test($);if(!X&&W||K||M&&!/[\s;,.})\]\\]/.test(M))return null;var q=N[F.column-2];if($==A&&(q==A||U.test(q)))return null;P=!0}return{text:P?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(g,x,S,w,b){var k=w.$mode.$quotes||r,A=w.doc.getTextRange(b);if(!b.isMultiLine()&&k.hasOwnProperty(A)){l(S);var T=w.doc.getLine(b.start.row),j=T.substring(b.start.column+1,b.start.column+2);if(j==A)return b.end.column++,b}}),d.closeDocComment!==!1&&this.add("doc comment end","insertion",function(g,x,S,w,b){if(g==="doc-start"&&(b===`
`||b===`\r
`)&&S.selection.isEmpty()){var k=S.getCursorPosition();if(k.column===0)return;for(var A=w.doc.getLine(k.row),T=w.doc.getLine(k.row+1),j=w.getTokens(k.row),F=0,N=0;N<j.length;N++){F+=j[N].value.length;var $=j[N];if(F>=k.column){if(F===k.column){if(!/\.doc/.test($.type))return;if(/\*\//.test($.value)){var M=j[N+1];if(!M||!/\.doc/.test(M.type))return}}var L=k.column-(F-$.value.length),D=$.value.indexOf("*/"),z=$.value.indexOf("/**",D>-1?D+2:0);if(z!==-1&&L>z&&L<z+3||D!==-1&&z!==-1&&L>=D&&L<=z||!/\.doc/.test($.type))return;break}}var B=this.$getIndent(A);if(/\s*\*/.test(T))return/^\s*\*/.test(A)?{text:b+B+"* ",selection:[1,2+B.length,1,2+B.length]}:{text:b+B+" * ",selection:[1,3+B.length,1,3+B.length]};if(/\/\*\*/.test(A.substring(0,k.column)))return{text:b+B+" * "+b+" "+B+"*/",selection:[1,4+B.length,1,4+B.length]}}})},o.isSaneInsertion=function(d,g){var x=d.getCursorPosition(),S=new f(g,x.row,x.column);if(!this.$matchTokenType(S.getCurrentToken()||"text",c)){if(/[)}\]]/.test(d.session.getLine(x.row)[x.column]))return!0;var w=new f(g,x.row,x.column+1);if(!this.$matchTokenType(w.getCurrentToken()||"text",c))return!1}return S.stepForward(),S.getCurrentTokenRow()!==x.row||this.$matchTokenType(S.getCurrentToken()||"text",s)},o.$matchTokenType=function(d,g){return g.indexOf(d.type||d)>-1},o.recordAutoInsert=function(d,g,x){var S=d.getCursorPosition(),w=g.doc.getLine(S.row);this.isAutoInsertedClosing(S,w,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=S.row,i.autoInsertedLineEnd=x+w.substr(S.column),i.autoInsertedBrackets++},o.recordMaybeInsert=function(d,g,x){var S=d.getCursorPosition(),w=g.doc.getLine(S.row);this.isMaybeInsertedClosing(S,w)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=S.row,i.maybeInsertedLineStart=w.substr(0,S.column)+x,i.maybeInsertedLineEnd=w.substr(S.column),i.maybeInsertedBrackets++},o.isAutoInsertedClosing=function(d,g,x){return i.autoInsertedBrackets>0&&d.row===i.autoInsertedRow&&x===i.autoInsertedLineEnd[0]&&g.substr(d.column)===i.autoInsertedLineEnd},o.isMaybeInsertedClosing=function(d,g){return i.maybeInsertedBrackets>0&&d.row===i.maybeInsertedRow&&g.substr(d.column)===i.maybeInsertedLineEnd&&g.substr(0,d.column)==i.maybeInsertedLineStart},o.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},o.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},E.inherits(o,y),v.CstyleBehaviour=o}),ace.define("ace/unicode",["require","exports","module"],function(m,v,R){for(var E=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],y=0,f=[],a=0;a<E.length;a+=2)f.push(y+=E[a]),E[a+1]&&f.push(45,y+=E[a+1]);v.wordChars=String.fromCharCode.apply(null,f)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(m,v,R){var E=m("../config"),y=m("../tokenizer").Tokenizer,f=m("./text_highlight_rules").TextHighlightRules,a=m("./behaviour/cstyle").CstyleBehaviour,c=m("../unicode"),s=m("../lib/lang"),i=m("../token_iterator").TokenIterator,n=m("../range").Range,r;r=function(){this.HighlightRules=f},(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+c.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+c.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new y(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(l,u,o,d){var g=u.doc,x=!0,S=!0,w=1/0,b=u.getTabSize(),k=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var j=this.lineCommentStart.map(s.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var j=s.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;j=new RegExp("^(\\s*)(?:"+j+") ?"),k=u.getUseSoftTabs();var $=function(K,Y){var X=K.match(j);if(X){var q=X[1].length,J=X[0].length;!D(K,q,J)&&X[0][J-1]==" "&&J--,g.removeInLine(Y,q,J)}},L=A+" ",N=function(K,Y){(!x||/\S/.test(K))&&(D(K,w,w)?g.insertInLine({row:Y,column:w},L):g.insertInLine({row:Y,column:w},A))},M=function(K,Y){return j.test(K)},D=function(K,Y,X){for(var q=0;Y--&&K.charAt(Y)==" ";)q++;if(q%b!=0)return!1;for(var q=0;K.charAt(X++)==" ";)q++;return b>2?q%b!=b-1:q%b==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,T=this.blockComment.end,j=new RegExp("^(\\s*)(?:"+s.escapeRegExp(A)+")"),F=new RegExp("(?:"+s.escapeRegExp(T)+")\\s*$"),N=function(P,U){M(P,U)||(!x||/\S/.test(P))&&(g.insertInLine({row:U,column:P.length},T),g.insertInLine({row:U,column:w},A))},$=function(P,U){var W;(W=P.match(F))&&g.removeInLine(U,P.length-W[0].length,P.length),(W=P.match(j))&&g.removeInLine(U,W[1].length,W[0].length)},M=function(P,U){if(j.test(P))return!0;for(var W=u.getTokens(U),K=0;K<W.length;K++)if(W[K].type==="comment")return!0}}function z(P){for(var U=o;U<=d;U++)P(g.getLine(U),U)}var B=1/0;z(function(P,U){var W=P.search(/\S/);W!==-1?(W<w&&(w=W),S&&!M(P,U)&&(S=!1)):B>P.length&&(B=P.length)}),w==1/0&&(w=B,x=!1,S=!1),k&&w%b!=0&&(w=Math.floor(w/b)*b),z(S?$:N)},this.toggleBlockComment=function(l,u,o,d){var g=this.blockComment;if(g){!g.start&&g[0]&&(g=g[0]);var x=new i(u,d.row,d.column),S=x.getCurrentToken();u.selection;var w=u.selection.toOrientedRange(),b,k;if(S&&/comment/.test(S.type)){for(var A,T;S&&/comment/.test(S.type);){var j=S.value.indexOf(g.start);if(j!=-1){var F=x.getCurrentTokenRow(),N=x.getCurrentTokenColumn()+j;A=new n(F,N,F,N+g.start.length);break}S=x.stepBackward()}for(var x=new i(u,d.row,d.column),S=x.getCurrentToken();S&&/comment/.test(S.type);){var j=S.value.indexOf(g.end);if(j!=-1){var F=x.getCurrentTokenRow(),N=x.getCurrentTokenColumn()+j;T=new n(F,N,F,N+g.end.length);break}S=x.stepForward()}T&&u.remove(T),A&&(u.remove(A),b=A.start.row,k=-g.start.length)}else k=g.start.length,b=o.start.row,u.insert(o.end,g.end),u.insert(o.start,g.start);w.start.row==b&&(w.start.column+=k),w.end.row==b&&(w.end.column+=k),u.selection.fromOrientedRange(w)}},this.getNextLineIndent=function(l,u,o){return this.$getIndent(u)},this.checkOutdent=function(l,u,o){return!1},this.autoOutdent=function(l,u,o){},this.$getIndent=function(l){return l.match(/^\s*/)[0]},this.createWorker=function(l){return null},this.createModeDelegates=function(l){this.$embeds=[],this.$modes={};for(var u in l)if(l[u]){var o=l[u],d=o.prototype.$id,g=E.$modes[d];g||(E.$modes[d]=g=new o),E.$modes[u]||(E.$modes[u]=g),this.$embeds.push(u),this.$modes[u]=g}for(var x=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],S=function(b){(function(k){var A=x[b],T=k[A];k[x[b]]=function(){return this.$delegator(A,arguments,T)}})(w)},w=this,u=0;u<x.length;u++)S(u)},this.$delegator=function(l,u,o){var d=u[0]||"start";if(typeof d!="string"){if(Array.isArray(d[2])){var g=d[2][d[2].length-1],x=this.$modes[g];if(x)return x[l].apply(x,[d[1]].concat([].slice.call(u,1)))}d=d[0]||"start"}for(var S=0;S<this.$embeds.length;S++)if(this.$modes[this.$embeds[S]]){var w=d.split(this.$embeds[S]);if(!w[0]&&w[1]){u[0]=w[1];var x=this.$modes[this.$embeds[S]];return x[l].apply(x,u)}}var b=o.apply(this,u);return o?b:void 0},this.transformAction=function(l,u,o,d,g){if(this.$behaviour){var x=this.$behaviour.getBehaviours();for(var S in x)if(x[S][u]){var w=x[S][u].apply(this,arguments);if(w)return w}}},this.getKeywords=function(l){if(!this.completionKeywords){var u=this.$tokenizer.rules,o=[];for(var d in u)for(var g=u[d],x=0,S=g.length;x<S;x++)if(typeof g[x].token=="string")/keyword|support|storage/.test(g[x].token)&&o.push(g[x].regex);else if(typeof g[x].token=="object"){for(var w=0,b=g[x].token.length;w<b;w++)if(/keyword|support|storage/.test(g[x].token[w])){var d=g[x].regex.match(/\(.+?\)/g)[w];o.push(d.substr(1,d.length-2))}}this.completionKeywords=o}return l?o.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(l,u,o,d){var g=this.$keywordList||this.$createKeywordList();return g.map(function(x){return{name:x,value:x,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(r.prototype),v.Mode=r}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("./lib/dom"),y=(function(){function f(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return f.prototype.getRowLength=function(a){var c;return this.lineWidgets?c=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:c=0,!this.$useWrapMode||!this.$wrapData[a]?1+c:this.$wrapData[a].length+1+c},f.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(c){c&&c.rowCount&&!c.hidden&&(a+=c.rowCount)}),a},f.prototype.$onChangeEditor=function(a){this.attach(a.editor)},f.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},f.prototype.detach=function(a){var c=this.editor;if(c){this.editor=null,c.widgetManager=null,c.renderer.off("beforeRender",this.measureWidgets),c.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},f.prototype.updateOnFold=function(a,c){var s=c.lineWidgets;if(!(!s||!a.action)){for(var i=a.data,n=i.start.row,r=i.end.row,l=a.action=="add",u=n+1;u<r;u++)s[u]&&(s[u].hidden=l);s[r]&&(l?s[n]?s[r].hidden=l:s[n]=s[r]:(s[n]==s[r]&&(s[n]=void 0),s[r].hidden=l))}},f.prototype.updateOnChange=function(a){var c=this.session.lineWidgets;if(c){var s=a.start.row,i=a.end.row-s;if(i!==0)if(a.action=="remove"){var n=c.splice(s+1,i);!c[s]&&n[n.length-1]&&(c[s]=n.pop()),n.forEach(function(l){l&&this.removeLineWidget(l)},this),this.$updateRows()}else{var r=new Array(i);c[s]&&c[s].column!=null&&a.start.column>c[s].column&&s++,r.unshift(s,0),c.splice.apply(c,r),this.$updateRows()}}},f.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var c=!0;a.forEach(function(s,i){if(s)for(c=!1,s.row=i;s.$oldWidget;)s.$oldWidget.row=i,s=s.$oldWidget}),c&&(this.session.lineWidgets=null)}},f.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var c=this.session.lineWidgets[a.row];return c&&(a.$oldWidget=c,c.el&&c.el.parentNode&&(c.el.parentNode.removeChild(c.el),c._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},f.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var c=this.editor.renderer;a.html&&!a.el&&(a.el=E.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=E.createElement("div"),a.el.textContent=a.text),a.el&&(E.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&E.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex="5",c.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex="3"),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/c.layerConfig.lineHeight);var s=this.session.getFoldAt(a.row,0);if(a.$fold=s,s){var i=this.session.lineWidgets;a.row==s.end.row&&!i[s.start.row]?i[s.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,c),this.onWidgetChanged(a),a},f.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var c=this.session.lineWidgets[a.row];if(c==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;c;){if(c.$oldWidget==a){c.$oldWidget=a.$oldWidget;break}c=c.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},f.prototype.getWidgetsAtRow=function(a){for(var c=this.session.lineWidgets,s=c&&c[a],i=[];s;)i.push(s),s=s.$oldWidget;return i},f.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},f.prototype.measureWidgets=function(a,c){var s=this.session._changedWidgets,i=c.layerConfig;if(!(!s||!s.length)){for(var n=1/0,r=0;r<s.length;r++){var l=s[r];if(!(!l||!l.el)&&l.session==this.session){if(!l._inDocument){if(this.session.lineWidgets[l.row]!=l)continue;l._inDocument=!0,c.container.appendChild(l.el)}l.h=l.el.offsetHeight,l.fixedWidth||(l.w=l.el.offsetWidth,l.screenWidth=Math.ceil(l.w/i.characterWidth));var u=l.h/i.lineHeight;l.coverLine&&(u-=this.session.getRowLineCount(l.row),u<0&&(u=0)),l.rowCount!=u&&(l.rowCount=u,l.row<n&&(n=l.row))}}n!=1/0&&(this.session._emit("changeFold",{data:{start:{row:n}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},f.prototype.renderWidgets=function(a,c){var s=c.layerConfig,i=this.session.lineWidgets;if(i){for(var n=Math.min(this.firstRow,s.firstRow),r=Math.max(this.lastRow,s.lastRow,i.length);n>0&&!i[n];)n--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,c.$cursorLayer.config=s;for(var l=n;l<=r;l++){var u=i[l];if(!(!u||!u.el)){if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+"px";continue}u._inDocument||(u._inDocument=!0,c.container.appendChild(u.el));var o=c.$cursorLayer.getPixelPosition({row:l,column:0},!0).top;u.coverLine||(o+=s.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=o-s.offset+"px";var d=u.coverGutter?0:c.gutterWidth;u.fixedWidth||(d-=c.scrollLeft),u.el.style.left=d+"px",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=s.width+2*s.padding+"px"),u.fixedWidth?u.el.style.right=c.scrollBar.getWidth()+"px":u.el.style.right=""}}}},f})();v.LineWidgets=y}),ace.define("ace/apply_delta",["require","exports","module"],function(m,v,R){v.applyDelta=function(E,y,f){var a=y.start.row,c=y.start.column,s=E[a]||"";switch(y.action){case"insert":var i=y.lines;if(i.length===1)E[a]=s.substring(0,c)+y.lines[0]+s.substring(c);else{var n=[a,1].concat(y.lines);E.splice.apply(E,n),E[a]=s.substring(0,c)+E[a],E[a+y.lines.length-1]+=s.substring(c)}break;case"remove":var r=y.end.column,l=y.end.row;a===l?E[a]=s.substring(0,c)+s.substring(r):E.splice(a,l-a+1,s.substring(0,c)+E[l].substring(r));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/event_emitter").EventEmitter,f=(function(){function s(i,n,r){this.$onChange=this.onChange.bind(this),this.attach(i),typeof n!="number"?this.setPosition(n.row,n.column):this.setPosition(n,r)}return s.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},s.prototype.getDocument=function(){return this.document},s.prototype.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var n=c(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},s.prototype.setPosition=function(i,n,r){var l;if(r?l={row:i,column:n}:l=this.$clipPositionToDocument(i,n),!(this.row==l.row&&this.column==l.column)){var u={row:this.row,column:this.column};this.row=l.row,this.column=l.column,this._signal("change",{old:u,value:l})}},s.prototype.detach=function(){this.document.off("change",this.$onChange)},s.prototype.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},s.prototype.$clipPositionToDocument=function(i,n){var r={};return i>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):i<0?(r.row=0,r.column=0):(r.row=i,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,n))),n<0&&(r.column=0),r},s})();f.prototype.$insertRight=!1,E.implement(f.prototype,y);function a(s,i,n){var r=n?s.column<=i.column:s.column<i.column;return s.row<i.row||s.row==i.row&&r}function c(s,i,n){var r=s.action=="insert",l=(r?1:-1)*(s.end.row-s.start.row),u=(r?1:-1)*(s.end.column-s.start.column),o=s.start,d=r?o:s.end;return a(i,o,n)?{row:i.row,column:i.column}:a(d,i,!n)?{row:i.row+l,column:i.column+(i.row==d.row?u:0)}:{row:o.row,column:o.column}}v.Anchor=f}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(m,v,R){var E=m("./lib/oop"),y=m("./apply_delta").applyDelta,f=m("./lib/event_emitter").EventEmitter,a=m("./range").Range,c=m("./anchor").Anchor,s=(function(){function i(n){this.$lines=[""],n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)}return i.prototype.setValue=function(n){var r=this.getLength()-1;this.remove(new a(0,0,r,this.getLine(r).length)),this.insert({row:0,column:0},n||"")},i.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},i.prototype.createAnchor=function(n,r){return new c(this,n,r)},i.prototype.$detectNewLine=function(n){var r=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=r?r[1]:`
`,this._signal("changeNewLineMode")},i.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},i.prototype.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))},i.prototype.getNewLineMode=function(){return this.$newLineMode},i.prototype.isNewLine=function(n){return n==`\r
`||n=="\r"||n==`
`},i.prototype.getLine=function(n){return this.$lines[n]||""},i.prototype.getLines=function(n,r){return this.$lines.slice(n,r+1)},i.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},i.prototype.getLength=function(){return this.$lines.length},i.prototype.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())},i.prototype.getLinesForRange=function(n){var r;if(n.start.row===n.end.row)r=[this.getLine(n.start.row).substring(n.start.column,n.end.column)];else{r=this.getLines(n.start.row,n.end.row),r[0]=(r[0]||"").substring(n.start.column);var l=r.length-1;n.end.row-n.start.row==l&&(r[l]=r[l].substring(0,n.end.column))}return r},i.prototype.insertLines=function(n,r){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,r)},i.prototype.removeLines=function(n,r){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,r)},i.prototype.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])},i.prototype.insert=function(n,r){return this.getLength()<=1&&this.$detectNewLine(r),this.insertMergedLines(n,this.$split(r))},i.prototype.insertInLine=function(n,r){var l=this.clippedPos(n.row,n.column),u=this.pos(n.row,n.column+r.length);return this.applyDelta({start:l,end:u,action:"insert",lines:[r]},!0),this.clonePos(u)},i.prototype.clippedPos=function(n,r){var l=this.getLength();n===void 0?n=l:n<0?n=0:n>=l&&(n=l-1,r=void 0);var u=this.getLine(n);return r==null&&(r=u.length),r=Math.min(Math.max(r,0),u.length),{row:n,column:r}},i.prototype.clonePos=function(n){return{row:n.row,column:n.column}},i.prototype.pos=function(n,r){return{row:n,column:r}},i.prototype.$clipPosition=function(n){var r=this.getLength();return n.row>=r?(n.row=Math.max(0,r-1),n.column=this.getLine(r-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n},i.prototype.insertFullLines=function(n,r){n=Math.min(Math.max(n,0),this.getLength());var l=0;n<this.getLength()?(r=r.concat([""]),l=0):(r=[""].concat(r),n--,l=this.$lines[n].length),this.insertMergedLines({row:n,column:l},r)},i.prototype.insertMergedLines=function(n,r){var l=this.clippedPos(n.row,n.column),u={row:l.row+r.length-1,column:(r.length==1?l.column:0)+r[r.length-1].length};return this.applyDelta({start:l,end:u,action:"insert",lines:r}),this.clonePos(u)},i.prototype.remove=function(n){var r=this.clippedPos(n.start.row,n.start.column),l=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:r,end:l,action:"remove",lines:this.getLinesForRange({start:r,end:l})}),this.clonePos(r)},i.prototype.removeInLine=function(n,r,l){var u=this.clippedPos(n,r),o=this.clippedPos(n,l);return this.applyDelta({start:u,end:o,action:"remove",lines:this.getLinesForRange({start:u,end:o})},!0),this.clonePos(u)},i.prototype.removeFullLines=function(n,r){n=Math.min(Math.max(0,n),this.getLength()-1),r=Math.min(Math.max(0,r),this.getLength()-1);var l=r==this.getLength()-1&&n>0,u=r<this.getLength()-1,o=l?n-1:n,d=l?this.getLine(o).length:0,g=u?r+1:r,x=u?0:this.getLine(g).length,S=new a(o,d,g,x),w=this.$lines.slice(n,r+1);return this.applyDelta({start:S.start,end:S.end,action:"remove",lines:this.getLinesForRange(S)}),w},i.prototype.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})},i.prototype.replace=function(n,r){if(n instanceof a||(n=a.fromPoints(n.start,n.end)),r.length===0&&n.isEmpty())return n.start;if(r==this.getTextRange(n))return n.end;this.remove(n);var l;return r?l=this.insert(n.start,r):l=n.start,l},i.prototype.applyDeltas=function(n){for(var r=0;r<n.length;r++)this.applyDelta(n[r])},i.prototype.revertDeltas=function(n){for(var r=n.length-1;r>=0;r--)this.revertDelta(n[r])},i.prototype.applyDelta=function(n,r){var l=n.action=="insert";(l?n.lines.length<=1&&!n.lines[0]:!a.comparePoints(n.start,n.end))||(l&&n.lines.length>2e4?this.$splitAndapplyLargeDelta(n,2e4):(y(this.$lines,n,r),this._signal("change",n)))},i.prototype.$safeApplyDelta=function(n){var r=this.$lines.length;(n.action=="remove"&&n.start.row<r&&n.end.row<r||n.action=="insert"&&n.start.row<=r)&&this.applyDelta(n)},i.prototype.$splitAndapplyLargeDelta=function(n,r){for(var l=n.lines,u=l.length-r+1,o=n.start.row,d=n.start.column,g=0,x=0;g<u;g=x){x+=r-1;var S=l.slice(g,x);S.push(""),this.applyDelta({start:this.pos(o+g,d),end:this.pos(o+x,d=0),action:n.action,lines:S},!0)}n.lines=l.slice(g),n.start.row=o+g,n.start.column=d,this.applyDelta(n,!0)},i.prototype.revertDelta=function(n){this.$safeApplyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})},i.prototype.indexToPosition=function(n,r){for(var l=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,o=r||0,d=l.length;o<d;o++)if(n-=l[o].length+u,n<0)return{row:o,column:n+l[o].length+u};return{row:d-1,column:n+l[d-1].length+u}},i.prototype.positionToIndex=function(n,r){for(var l=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,o=0,d=Math.min(n.row,l.length),g=r||0;g<d;++g)o+=l[g].length+u;return o+n.column},i.prototype.$split=function(n){return n.split(/\r\n|\r|\n/)},i})();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",E.implement(s.prototype,f),v.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/event_emitter").EventEmitter,f=(function(){function a(c,s){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=c;var i=this;this.$worker=function(){if(i.running){for(var n=new Date,r=i.currentLine,l=-1,u=i.doc,o=r;i.lines[r];)r++;var d=u.getLength(),g=0;for(i.running=!1;r<d;){i.$tokenizeRow(r),l=r;do r++;while(i.lines[r]);if(g++,g%5===0&&new Date-n>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=r,l==-1&&(l=r),o<=l&&i.fireUpdateEvent(o,l)}}}return a.prototype.setTokenizer=function(c){this.tokenizer=c,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(c){this.doc=c,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(c,s){var i={first:c,last:s};this._signal("update",{data:i})},a.prototype.start=function(c){this.currentLine=Math.min(c||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(c){var s=c.start.row,i=c.end.row-s;if(i===0)this.lines[s]=null;else if(c.action=="remove")this.lines.splice(s,i+1,null),this.states.splice(s,i+1,null);else{var n=Array(i+1);n.unshift(s,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(s,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(c){return this.lines[c]||this.$tokenizeRow(c)},a.prototype.getState=function(c){return this.currentLine==c&&this.$tokenizeRow(c),this.states[c]||"start"},a.prototype.$tokenizeRow=function(c){var s=this.doc.getLine(c),i=this.states[c-1],n=this.tokenizer.getLineTokens(s,i,c);return this.states[c]+""!=n.state+""?(this.states[c]=n.state,this.lines[c+1]=null,this.currentLine>c+1&&(this.currentLine=c+1)):this.currentLine==c&&(this.currentLine=c+1),this.lines[c]=n.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a})();E.implement(f.prototype,y),v.BackgroundTokenizer=f}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(m,v,R){var E=m("./lib/lang"),y=m("./range").Range,f=(function(){function a(c,s,i){i===void 0&&(i="text"),this.setRegexp(c),this.clazz=s,this.type=i,this.docLen=0}return a.prototype.setRegexp=function(c){this.regExp+""!=c+""&&(this.regExp=c,this.cache=[])},a.prototype.update=function(c,s,i,n){if(this.regExp){for(var r=n.firstRow,l=n.lastRow,u={},o=i.$editor&&i.$editor.$search,d=o&&o.$isMultilineSearch(i.$editor.getLastSearchOptions()),g=r;g<=l;g++){var x=this.cache[g];if(x==null||i.getValue().length!=this.docLen){if(d){x=[];var S=o.$multiLineForward(i,this.regExp,g,l);if(S){var w=S.endRow<=l?S.endRow-1:l;w>g&&(g=w),x.push(new y(S.startRow,S.startCol,S.endRow,S.endCol))}x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES))}else x=E.getMatchOffsets(i.getLine(g),this.regExp),x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES)),x=x.map(function(T){return new y(g,T.offset,g,T.offset+T.length)});this.cache[g]=x.length?x:""}if(x.length!==0)for(var b=x.length;b--;){var k=x[b].toScreenRange(i),A=k.toString();u[A]||(u[A]=!0,s.drawSingleLineMarker(c,k,this.clazz,n))}}this.docLen=i.getValue().length}},a})();f.prototype.MAX_RANGES=500,v.SearchHighlight=f}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(m,v,R){var E=(function(){function w(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return w.prototype.addSession=function(b){this.$session=b},w.prototype.add=function(b,k,A){if(!this.$fromUndo&&b!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),k===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),b.id=this.$rev=++this.$maxRev}(b.action=="remove"||b.action=="insert")&&(this.$lastDelta=b),this.lastDeltas.push(b)}},w.prototype.addSelection=function(b,k){this.selections.push({value:b,rev:k||this.$rev})},w.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},w.prototype.markIgnored=function(b,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=A.length;T--;){var j=A[T][0];if(j.id<=b)break;j.id<k&&(j.ignore=!0)}this.lastDeltas=null},w.prototype.getSelection=function(b,k){for(var A=this.selections,T=A.length;T--;){var j=A[T];if(j.rev<b)return k&&(j=A[T+1]),j}},w.prototype.getRevision=function(){return this.$rev},w.prototype.getDeltas=function(b,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=null,j=0,F=A.length;F--;){var N=A[F][0];if(N.id<k&&!T&&(T=F+1),N.id<=b){j=F+1;break}}return A.slice(j,T)},w.prototype.getChangedRanges=function(b,k){k==null&&(k=this.$rev+1)},w.prototype.getChangedLines=function(b,k){k==null&&(k=this.$rev+1)},w.prototype.undo=function(b,k){this.lastDeltas=null;var A=this.$undoStack;if(y(A,A.length)){b||(b=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=A.pop(),j=null;return T&&(j=b.undoChanges(T,k),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j}},w.prototype.redo=function(b,k){if(this.lastDeltas=null,b||(b=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);S(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(F){F[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),j=null;return T&&(j=b.redoChanges(T,k),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j},w.prototype.$syncRev=function(){var b=this.$undoStack,k=b[b.length-1],A=k&&k[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},w.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},w.prototype.canUndo=function(){return this.$undoStack.length>0},w.prototype.canRedo=function(){return this.$redoStack.length>0},w.prototype.bookmark=function(b){b==null&&(b=this.$rev),this.mark=b},w.prototype.isAtBookmark=function(){return this.$rev===this.mark},w.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},w.prototype.fromJSON=function(b){this.reset(),this.$undoStack=b.$undoStack,this.$redoStack=b.$redoStack},w.prototype.$prettyPrint=function(b){return b?i(b):i(this.$undoStack)+`
---
`+i(this.$redoStack)},w})();E.prototype.hasUndo=E.prototype.canUndo,E.prototype.hasRedo=E.prototype.canRedo,E.prototype.isClean=E.prototype.isAtBookmark,E.prototype.markClean=E.prototype.bookmark;function y(w,b){for(var k=b;k--;){var A=w[k];if(A&&!A[0].ignore){for(;k<b-1;){var T=l(w[k],w[k+1]);w[k]=T[0],w[k+1]=T[1],k++}return!0}}}var f=m("./range").Range,a=f.comparePoints;f.comparePoints;function c(w){return{row:w.row,column:w.column}}function s(w){return{start:c(w.start),end:c(w.end),action:w.action,lines:w.lines.slice()}}function i(w){if(w=w||this,Array.isArray(w))return w.map(i).join(`
`);var b="";return w.action?(b=w.action=="insert"?"+":"-",b+="["+w.lines+"]"):w.value&&(Array.isArray(w.value)?b=w.value.map(n).join(`
`):b=n(w.value)),w.start&&(b+=n(w)),(w.id||w.rev)&&(b+="	("+(w.id||w.rev)+")"),b}function n(w){return w.start.row+":"+w.start.column+"=>"+w.end.row+":"+w.end.column}function r(w,b){var k=w.action=="insert",A=b.action=="insert";if(k&&A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.start,w.start)<=0)o(w,b,1);else return null;else if(k&&!A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.end,w.start)<=0)o(w,b,-1);else return null;else if(!k&&A)if(a(b.start,w.start)>=0)o(b,w,1);else if(a(b.start,w.start)<=0)o(w,b,1);else return null;else if(!k&&!A)if(a(b.start,w.start)>=0)o(b,w,1);else if(a(b.end,w.start)<=0)o(w,b,-1);else return null;return[b,w]}function l(w,b){for(var k=w.length;k--;)for(var A=0;A<b.length;A++)if(!r(w[k],b[A])){for(;k<w.length;){for(;A--;)r(b[A],w[k]);A=b.length,k++}return[w,b]}return w.selectionBefore=b.selectionBefore=w.selectionAfter=b.selectionAfter=null,[b,w]}function u(w,b){var k=w.action=="insert",A=b.action=="insert";if(k&&A)a(w.start,b.start)<0?o(b,w,1):o(w,b,1);else if(k&&!A)a(w.start,b.end)>=0?o(w,b,-1):(a(w.start,b.start)<=0||o(w,f.fromPoints(b.start,w.start),-1),o(b,w,1));else if(!k&&A)a(b.start,w.end)>=0?o(b,w,-1):(a(b.start,w.start)<=0||o(b,f.fromPoints(w.start,b.start),-1),o(w,b,1));else if(!k&&!A)if(a(b.start,w.end)>=0)o(b,w,-1);else if(a(b.end,w.start)<=0)o(w,b,-1);else{var T,j;return a(w.start,b.start)<0&&(T=w,w=g(w,b.start)),a(w.end,b.end)>0&&(j=g(w,b.end)),d(b.end,w.start,w.end,-1),j&&!T&&(w.lines=j.lines,w.start=j.start,w.end=j.end,j=w),[b,T,j].filter(Boolean)}return[b,w]}function o(w,b,k){d(w.start,b.start,b.end,k),d(w.end,b.start,b.end,k)}function d(w,b,k,A){w.row==(A==1?b:k).row&&(w.column+=A*(k.column-b.column)),w.row+=A*(k.row-b.row)}function g(w,b){var k=w.lines,A=w.end;w.end=c(b);var T=w.end.row-w.start.row,j=k.splice(T,k.length),F=T?b.column:b.column-w.start.column;k.push(j[0].substring(0,F)),j[0]=j[0].substr(F);var N={start:c(b),end:A,lines:j,action:w.action};return N}function x(w,b){b=s(b);for(var k=w.length;k--;){for(var A=w[k],T=0;T<A.length;T++){var j=A[T],F=u(j,b);b=F[0],F.length!=2&&(F[2]?(A.splice(T+1,1,F[1],F[2]),T++):F[1]||(A.splice(T,1),T--))}A.length||w.splice(k,1)}return w}function S(w,b){for(var k=0;k<b.length;k++)for(var A=b[k],T=0;T<A.length;T++)x(w,A[T])}v.UndoManager=E}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=(function(){function f(a,c){this.foldData=a,Array.isArray(c)?this.folds=c:c=this.folds=[c];var s=c[c.length-1];this.range=new E(c[0].start.row,c[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}return f.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(c){c.start.row+=a,c.end.row+=a})},f.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(c,s){return-c.range.compareEnd(s.start.row,s.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},f.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},f.prototype.walk=function(a,c,s){var i=0,n=this.folds,r,l,u,o=!0;c==null&&(c=this.end.row,s=this.end.column);for(var d=0;d<n.length;d++){if(r=n[d],l=r.range.compareStart(c,s),l==-1){a(null,c,s,i,o);return}if(u=a(null,r.start.row,r.start.column,i,o),u=!u&&a(r.placeholder,r.start.row,r.start.column,i),u||l===0)return;o=!r.sameRow,i=r.end.column}a(null,c,s,i,o)},f.prototype.getNextFoldTo=function(a,c){for(var s,i,n=0;n<this.folds.length;n++){if(s=this.folds[n],i=s.range.compareEnd(a,c),i==-1)return{fold:s,kind:"after"};if(i===0)return{fold:s,kind:"inside"}}return null},f.prototype.addRemoveChars=function(a,c,s){var i=this.getNextFoldTo(a,c),n,r;if(i){if(n=i.fold,i.kind=="inside"&&n.start.column!=c&&n.start.row!=a)window.console&&window.console.log(a,c,n);else if(n.start.row==a){r=this.folds;var l=r.indexOf(n);for(l===0&&(this.start.column+=s),l;l<r.length;l++){if(n=r[l],n.start.column+=s,!n.sameRow)return;n.end.column+=s}this.end.column+=s}}},f.prototype.split=function(a,c){var s=this.getNextFoldTo(a,c);if(!s||s.kind=="inside")return null;var i=s.fold,n=this.folds,r=this.foldData,l=n.indexOf(i),u=n[l-1];this.end.row=u.end.row,this.end.column=u.end.column,n=n.splice(l,n.length-l);var o=new f(r,n);return r.splice(r.indexOf(this)+1,0,o),o},f.prototype.merge=function(a){for(var c=a.folds,s=0;s<c.length;s++)this.addFold(c[s]);var i=this.foldData;i.splice(i.indexOf(a),1)},f.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(c){a.push("  "+c.toString())}),a.push("]"),a.join(`
`)},f.prototype.idxToPosition=function(a){for(var c=0,s=0;s<this.folds.length;s++){var i=this.folds[s];if(a-=i.start.column-c,a<0)return{row:i.start.row,column:i.start.column+a};if(a-=i.placeholder.length,a<0)return i.start;c=i.end.column}return{row:this.end.row,column:this.end.column+a}},f})();v.FoldLine=y}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(m,v,R){var E=m("./range").Range,y=E.comparePoints,f=(function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(c,s,i){for(var n=this.ranges,r=i||0;r<n.length;r++){var l=n[r],u=y(c,l.end);if(!(u>0)){var o=y(c,l.start);return u===0?s&&o!==0?-r-2:r:o>0||o===0&&!s?r:-r-1}}return-r-1},a.prototype.add=function(c){var s=!c.isEmpty(),i=this.pointIndex(c.start,s);i<0&&(i=-i-1);var n=this.pointIndex(c.end,s,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,c)},a.prototype.addList=function(c){for(var s=[],i=c.length;i--;)s.push.apply(s,this.add(c[i]));return s},a.prototype.substractPoint=function(c){var s=this.pointIndex(c);if(s>=0)return this.ranges.splice(s,1)},a.prototype.merge=function(){var c=[],s=this.ranges;s=s.sort(function(u,o){return y(u.start,o.start)});for(var i=s[0],n,r=1;r<s.length;r++){n=i,i=s[r];var l=y(n.end,i.start);l<0||l==0&&!n.isEmpty()&&!i.isEmpty()||(y(n.end,i.end)<0&&(n.end.row=i.end.row,n.end.column=i.end.column),s.splice(r,1),c.push(i),i=n,r--)}return this.ranges=s,c},a.prototype.contains=function(c,s){return this.pointIndex({row:c,column:s})>=0},a.prototype.containsPoint=function(c){return this.pointIndex(c)>=0},a.prototype.rangeAtPoint=function(c){var s=this.pointIndex(c);if(s>=0)return this.ranges[s]},a.prototype.clipRows=function(c,s){var i=this.ranges;if(i[0].start.row>s||i[i.length-1].start.row<c)return[];var n=this.pointIndex({row:c,column:0});n<0&&(n=-n-1);var r=this.pointIndex({row:s,column:0},n);r<0&&(r=-r-1);for(var l=[],u=n;u<r;u++)l.push(i[u]);return l},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(c){this.session&&this.detach(),this.session=c,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(c){for(var s=c.start,i=c.end,n=s.row,r=i.row,l=this.ranges,u=0,o=l.length;u<o;u++){var d=l[u];if(d.end.row>=n)break}if(c.action=="insert")for(var g=r-n,x=-s.column+i.column;u<o;u++){var d=l[u];if(d.start.row>n)break;if(d.start.row==n&&d.start.column>=s.column&&(d.start.column==s.column&&this.$bias<=0||(d.start.column+=x,d.start.row+=g)),d.end.row==n&&d.end.column>=s.column){if(d.end.column==s.column&&this.$bias<0)continue;d.end.column==s.column&&x>0&&u<o-1&&d.end.column>d.start.column&&d.end.column==l[u+1].start.column&&(d.end.column-=x),d.end.column+=x,d.end.row+=g}}else for(var g=n-r,x=s.column-i.column;u<o;u++){var d=l[u];if(d.start.row>r)break;d.end.row<r&&(n<d.end.row||n==d.end.row&&s.column<d.end.column)?(d.end.row=n,d.end.column=s.column):d.end.row==r?d.end.column<=i.column?(g||d.end.column>s.column)&&(d.end.column=s.column,d.end.row=s.row):(d.end.column+=x,d.end.row+=g):d.end.row>r&&(d.end.row+=g),d.start.row<r&&(n<d.start.row||n==d.start.row&&s.column<d.start.column)?(d.start.row=n,d.start.column=s.column):d.start.row==r?d.start.column<=i.column?(g||d.start.column>s.column)&&(d.start.column=s.column,d.start.row=s.row):(d.start.column+=x,d.start.row+=g):d.start.row>r&&(d.start.row+=g)}if(g!=0&&u<o)for(;u<o;u++){var d=l[u];d.start.row+=g,d.end.row+=g}},a})();f.prototype.comparePoints=y,v.RangeList=f}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(m,v,R){var E=this&&this.__extends||(function(){var n=function(r,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(u[d]=o[d])},n(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(r,l);function u(){this.constructor=r}r.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})(),y=m("../range_list").RangeList,f=(function(n){E(r,n);function r(l,u){var o=n.call(this)||this;return o.foldLine=null,o.placeholder=u,o.range=l,o.start=l.start,o.end=l.end,o.sameRow=l.start.row==l.end.row,o.subFolds=o.ranges=[],o}return r.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},r.prototype.setFoldLine=function(l){this.foldLine=l,this.subFolds.forEach(function(u){u.setFoldLine(l)})},r.prototype.clone=function(){var l=this.range.clone(),u=new r(l,this.placeholder);return this.subFolds.forEach(function(o){u.subFolds.push(o.clone())}),u.collapseChildren=this.collapseChildren,u},r.prototype.addSubFold=function(l){if(!this.range.isEqual(l)){c(l,this.start);for(var x=l.start.row,S=l.start.column,u=0,o=-1;u<this.subFolds.length&&(o=this.subFolds[u].range.compare(x,S),o==1);u++);var d=this.subFolds[u],g=0;if(o==0){if(d.range.containsRange(l))return d.addSubFold(l);g=1}for(var x=l.range.end.row,S=l.range.end.column,w=u,o=-1;w<this.subFolds.length&&(o=this.subFolds[w].range.compare(x,S),o==1);w++);o==0&&w++;for(var b=this.subFolds.splice(u,w-u,l),k=o==0?b.length-1:b.length,A=g;A<k;A++)l.addSubFold(b[A]);return l.setFoldLine(this.foldLine),l}},r.prototype.restoreRange=function(l){return i(l,this.start)},r})(y);function a(n,r){n.row-=r.row,n.row==0&&(n.column-=r.column)}function c(n,r){a(n.start,r),a(n.end,r)}function s(n,r){n.row==0&&(n.column+=r.column),n.row+=r.row}function i(n,r){s(n.start,r),s(n.end,r)}v.Fold=f}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(m,v,R){var E=m("../range").Range,y=m("./fold_line").FoldLine,f=m("./fold").Fold,a=m("../token_iterator").TokenIterator,c=m("../mouse/mouse_event").MouseEvent;function s(){this.getFoldAt=function(i,n,r){var l=this.getFoldLine(i);if(!l)return null;for(var u=l.folds,o=0;o<u.length;o++){var d=u[o].range;if(d.contains(i,n)){if(r==1&&d.isEnd(i,n)&&!d.isEmpty())continue;if(r==-1&&d.isStart(i,n)&&!d.isEmpty())continue;return u[o]}}},this.getFoldsInRange=function(i){var n=i.start,r=i.end,l=this.$foldData,u=[];n.column+=1,r.column-=1;for(var o=0;o<l.length;o++){var d=l[o].range.compareRange(i);if(d!=2){if(d==-2)break;for(var g=l[o].folds,x=0;x<g.length;x++){var S=g[x];if(d=S.range.compareRange(i),d==-2)break;if(d==2)continue;if(d==42)break;u.push(S)}}}return n.column-=1,r.column+=1,u},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var n=[];i.forEach(function(r){n=n.concat(this.getFoldsInRange(r))},this)}else var n=this.getFoldsInRange(i);return n},this.getAllFolds=function(){for(var i=[],n=this.$foldData,r=0;r<n.length;r++)for(var l=0;l<n[r].folds.length;l++)i.push(n[r].folds[l]);return i},this.getFoldStringAt=function(i,n,r,l){if(l=l||this.getFoldLine(i),!l)return null;for(var u={end:{column:0}},o,d,g=0;g<l.folds.length;g++){d=l.folds[g];var x=d.range.compareEnd(i,n);if(x==-1){o=this.getLine(d.start.row).substring(u.end.column,d.start.column);break}else if(x===0)return null;u=d}return o||(o=this.getLine(d.start.row).substring(u.end.column)),r==-1?o.substring(0,n-u.end.column):r==1?o.substring(n-u.end.column):o},this.getFoldLine=function(i,n){var r=this.$foldData,l=0;for(n&&(l=r.indexOf(n)),l==-1&&(l=0),l;l<r.length;l++){var u=r[l];if(u.start.row<=i&&u.end.row>=i)return u;if(u.end.row>i)return null}return null},this.getNextFoldLine=function(i,n){var r=this.$foldData,l=0;for(n&&(l=r.indexOf(n)),l==-1&&(l=0),l;l<r.length;l++){var u=r[l];if(u.end.row>=i)return u}return null},this.getFoldedRowCount=function(i,n){for(var r=this.$foldData,l=n-i+1,u=0;u<r.length;u++){var o=r[u],d=o.end.row,g=o.start.row;if(d>=n){g<n&&(g>=i?l-=n-g:l=0);break}else d>=i&&(g>=i?l-=d-g:l-=d-i+1)}return l},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(n,r){return n.start.row-r.start.row}),i},this.addFold=function(i,n){var r=this.$foldData,l=!1,u;i instanceof f?u=i:(u=new f(n,i),u.collapseChildren=n.collapseChildren),this.$clipRangeToDocument(u.range);var o=u.start.row,d=u.start.column,g=u.end.row,x=u.end.column,S=this.getFoldAt(o,d,1),w=this.getFoldAt(g,x,-1);if(S&&w==S)return S.addSubFold(u);S&&!S.range.isStart(o,d)&&this.removeFold(S),w&&!w.range.isEnd(g,x)&&this.removeFold(w);var b=this.getFoldsInRange(u.range);b.length>0&&(this.removeFolds(b),u.collapseChildren||b.forEach(function(j){u.addSubFold(j)}));for(var k=0;k<r.length;k++){var A=r[k];if(g==A.start.row){A.addFold(u),l=!0;break}else if(o==A.end.row){if(A.addFold(u),l=!0,!u.sameRow){var T=r[k+1];if(T&&T.start.row==g){A.merge(T);break}}break}else if(g<=A.start.row)break}return l||(A=this.$addFoldLine(new y(this.$foldData,u))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:u,action:"add"}),u},this.addFolds=function(i){i.forEach(function(n){this.addFold(n)},this)},this.removeFold=function(i){var n=i.foldLine,r=n.start.row,l=n.end.row,u=this.$foldData,o=n.folds;if(o.length==1)u.splice(u.indexOf(n),1);else if(n.range.isEnd(i.end.row,i.end.column))o.pop(),n.end.row=o[o.length-1].end.row,n.end.column=o[o.length-1].end.column;else if(n.range.isStart(i.start.row,i.start.column))o.shift(),n.start.row=o[0].start.row,n.start.column=o[0].start.column;else if(i.sameRow)o.splice(o.indexOf(i),1);else{var d=n.split(i.start.row,i.start.column);o=d.folds,o.shift(),d.start.row=o[0].start.row,d.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(r,l):this.$updateRowLengthCache(r,l)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var n=[],r=0;r<i.length;r++)n.push(i[r]);n.forEach(function(l){this.removeFold(l)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(n){i.restoreRange(n),this.addFold(n)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(n){this.expandFold(n)},this)},this.unfold=function(i,n){var r,l;if(i==null)r=new E(0,0,this.getLength(),0),n==null&&(n=!0);else if(typeof i=="number")r=new E(i,0,i,this.getLine(i).length);else if("row"in i)r=E.fromPoints(i,i);else{if(Array.isArray(i))return l=[],i.forEach(function(o){l=l.concat(this.unfold(o))},this),l;r=i}l=this.getFoldsInRangeList(r);for(var u=l;l.length==1&&E.comparePoints(l[0].start,r.start)<0&&E.comparePoints(l[0].end,r.end)>0;)this.expandFolds(l),l=this.getFoldsInRangeList(r);if(n!=!1?this.removeFolds(l):this.expandFolds(l),u.length)return u},this.isRowFolded=function(i,n){return!!this.getFoldLine(i,n)},this.getRowFoldEnd=function(i,n){var r=this.getFoldLine(i,n);return r?r.end.row:i},this.getRowFoldStart=function(i,n){var r=this.getFoldLine(i,n);return r?r.start.row:i},this.getFoldDisplayLine=function(i,n,r,l,u){l==null&&(l=i.start.row),u==null&&(u=0),n==null&&(n=i.end.row),r==null&&(r=this.getLine(n).length);var o=this.doc,d="";return i.walk(function(g,x,S,w){if(!(x<l)){if(x==l){if(S<u)return;w=Math.max(u,w)}g!=null?d+=g:d+=o.getLine(x).substring(w,S)}},n,r),d},this.getDisplayLine=function(i,n,r,l){var u=this.getFoldLine(i);if(u)return this.getFoldDisplayLine(u,i,n,r,l);var o;return o=this.doc.getLine(i),o.substring(l||0,n||o.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(n){var r=n.folds.map(function(l){return l.clone()});return new y(i,r)}),i},this.toggleFold=function(i){var n=this.selection,r=n.getRange(),l,u;if(r.isEmpty()){var o=r.start;if(l=this.getFoldAt(o.row,o.column),l){this.expandFold(l);return}else if(i){var d=this.getFoldLine(o.row);d&&this.expandFolds(d.folds);return}else(u=this.findMatchingBracket(o))?r.comparePoint(u)==1?r.end=u:(r.start=u,r.start.column++,r.end.column--):(u=this.findMatchingBracket({row:o.row,column:o.column+1}))?(r.comparePoint(u)==1?r.end=u:r.start=u,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var g=this.getFoldsInRange(r);if(i&&g.length){this.expandFolds(g);return}else g.length==1&&(l=g[0])}if(l||(l=this.getFoldAt(r.start.row,r.start.column)),l&&l.range.toString()==r.toString()){this.expandFold(l);return}var x="...";if(!r.isMultiLine()){if(x=this.getTextRange(r),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,r)},this.getCommentFoldRange=function(i,n,r){var l=new a(this,i,n),u=l.getCurrentToken(),o=u&&u.type;if(u&&/^comment|string/.test(o)){o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start|\\.doc");var d=new RegExp(o),g=new E;if(r!=1){do u=l.stepBackward();while(u&&d.test(u.type));u=l.stepForward()}g.start.row=l.getCurrentTokenRow(),g.start.column=l.getCurrentTokenColumn()+u.value.length,l=new a(this,i,n);var x=this.getState(l.$row);if(r!=-1){var S=-1;do if(u=l.stepForward(),S==-1){var w=this.getState(l.$row);x.toString()!==w.toString()&&(S=l.$row)}else if(l.$row>S)break;while(u&&d.test(u.type));u=l.stepBackward()}else u=l.getCurrentToken();return g.end.row=l.getCurrentTokenRow(),g.end.column=l.getCurrentTokenColumn(),g.start.row==g.end.row&&g.start.column>g.end.column?void 0:g}},this.foldAll=function(i,n,r,l){r==null&&(r=1e5);var u=this.foldWidgets;if(u){n=n||this.getLength(),i=i||0;for(var o=i;o<n;o++)if(u[o]==null&&(u[o]=this.getFoldWidget(o)),u[o]=="start"&&!(l&&!l(o))){var d=this.getFoldWidgetRange(o);d&&d.isMultiLine()&&d.end.row<=n&&d.start.row>=i&&(o=d.end.row,d.collapseChildren=r,this.addFold("...",d))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(n){for(var r=i.getTokens(n),l=0;l<r.length;l++){var u=r[l];if(!(u.type=="text"&&/^\s+$/.test(u.value)))return!!/comment/.test(u.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var n=this.$foldMode;this.$setFolding(null),this.$setFolding(n)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,n){var r=this.foldWidgets;if(!r||n&&r[i])return{};for(var l=i-1,u;l>=0;){var o=r[l];if(o==null&&(o=r[l]=this.getFoldWidget(l)),o=="start"){var d=this.getFoldWidgetRange(l);if(u||(u=d),d&&d.end.row>=i)break}l--}return{range:l!==-1&&d,firstRange:u}},this.onFoldWidgetClick=function(i,n){n instanceof c&&(n=n.domEvent);var r={children:n.shiftKey,all:n.ctrlKey||n.metaKey,siblings:n.altKey},l=this.$toggleFoldWidget(i,r);if(!l){var u=n.target||n.srcElement;u&&/ace_fold-widget/.test(u.className)&&(u.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,n){if(this.getFoldWidget){var r=this.getFoldWidget(i),l=this.getLine(i),u=r==="end"?-1:1,o=this.getFoldAt(i,u===-1?0:l.length,u);if(o)return n.children||n.all?this.removeFold(o):this.expandFold(o),o;var d=this.getFoldWidgetRange(i,!0);if(d&&!d.isMultiLine()&&(o=this.getFoldAt(d.start.row,d.start.column,1),o&&d.isEqual(o.range)))return this.removeFold(o),o;if(n.siblings){var g=this.getParentFoldRangeData(i);if(g.range)var x=g.range.start.row+1,S=g.range.end.row;this.foldAll(x,S,n.all?1e4:0)}else n.children?(S=d?d.end.row:this.getLength(),this.foldAll(i+1,S,n.all?1e4:0)):d&&(n.all&&(d.collapseChildren=1e4),this.addFold("...",d));return d}},this.toggleFoldWidget=function(i){var n=this.selection.getCursor().row;n=this.getRowFoldStart(n);var r=this.$toggleFoldWidget(n,{});if(!r){var l=this.getParentFoldRangeData(n,!0);if(r=l.range||l.firstRange,r){n=r.start.row;var u=this.getFoldAt(n,this.getLine(n).length,1);u?this.removeFold(u):this.addFold("...",r)}}},this.updateFoldWidgets=function(i){var n=i.start.row,r=i.end.row-n;if(r===0)this.foldWidgets[n]=null;else if(i.action=="remove")this.foldWidgets.splice(n,r+1,null);else{var l=Array(r+1);l.unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,l)}},this.tokenizerUpdateFoldWidgets=function(i){var n=i.data;n.first!=n.last&&this.foldWidgets.length>n.first&&this.foldWidgets.splice(n.first,this.foldWidgets.length)}}v.Folding=s}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(m,v,R){var E=m("../token_iterator").TokenIterator,y=m("../range").Range;function f(){this.findMatchingBracket=function(a,c){if(a.column==0)return null;var s=c||this.getLine(a.row).charAt(a.column-1);if(s=="")return null;var i=s.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],a):this.$findOpeningBracket(i[2],a):null},this.getBracketRange=function(a){var c=this.getLine(a.row),s=!0,i,n=c.charAt(a.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=c.charAt(a.column),a={row:a.row,column:a.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/),s=!1),!r)return null;if(r[1]){var l=this.$findClosingBracket(r[1],a);if(!l)return null;i=y.fromPoints(a,l),s||(i.end.column++,i.start.column--),i.cursor=i.end}else{var l=this.$findOpeningBracket(r[2],a);if(!l)return null;i=y.fromPoints(l,a),s||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(a,c){var s=this.getLine(a.row),i=/([\(\[\{])|([\)\]\}])/,n=!c&&s.charAt(a.column-1),r=n&&n.match(i);if(r||(n=(c===void 0||c)&&s.charAt(a.column),a={row:a.row,column:a.column+1},r=n&&n.match(i)),!r)return null;var l=new y(a.row,a.column-1,a.row,a.column),u=r[1]?this.$findClosingBracket(r[1],a):this.$findOpeningBracket(r[2],a);if(!u)return[l];var o=new y(u.row,u.column,u.row,u.column+1);return[l,o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,c,s){var i=this.$brackets[a],n=1,r=new E(this,c.row,c.column),l=r.getCurrentToken();if(l||(l=r.stepForward()),!!l){s||(s=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var u=c.column-r.getCurrentTokenColumn()-2,o=l.value;;){for(;u>=0;){var d=o.charAt(u);if(d==i){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:u+r.getCurrentTokenColumn()}}else d==a&&(n+=1);u-=1}do l=r.stepBackward();while(l&&!s.test(l.type));if(l==null)break;o=l.value,u=o.length-1}return null}},this.$findClosingBracket=function(a,c,s){var i=this.$brackets[a],n=1,r=new E(this,c.row,c.column),l=r.getCurrentToken();if(l||(l=r.stepForward()),!!l){s||(s=new RegExp("(\\.?"+l.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var u=c.column-r.getCurrentTokenColumn();;){for(var o=l.value,d=o.length;u<d;){var g=o.charAt(u);if(g==i){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:u+r.getCurrentTokenColumn()}}else g==a&&(n+=1);u+=1}do l=r.stepForward();while(l&&!s.test(l.type));if(l==null)break;u=0}return null}},this.getMatchingTags=function(a){var c=new E(this,a.row,a.column),s=this.$findTagName(c);if(s){var i=c.stepBackward();return i.value==="<"?this.$findClosingTag(c,s):this.$findOpeningTag(c,s)}},this.$findTagName=function(a){var c=a.getCurrentToken(),s=!1,i=!1;if(c&&c.type.indexOf("tag-name")===-1)do i?c=a.stepBackward():c=a.stepForward(),c&&(c.value==="/>"?i=!0:c.type.indexOf("tag-name")!==-1&&(s=!0));while(c&&!s);return c},this.$findClosingTag=function(a,c){var s,i=c.value,n=c.value,r=0,l=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);c=a.stepForward();var u=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+c.value.length),o=!1;do{if(s=c,s.type.indexOf("tag-close")!==-1&&!o){var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);o=!0}if(c=a.stepForward(),c){if(c.value===">"&&!o){var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);o=!0}if(c.type.indexOf("tag-name")!==-1){if(i=c.value,n===i){if(s.value==="<")r++;else if(s.value==="</"&&(r--,r<0)){a.stepBackward();var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);c=a.stepForward();var x=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=a.stepForward()),c&&c.value===">")var S=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(n===i&&c.value==="/>"&&(r--,r<0))var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),x=g,S=x,d=new y(u.end.row,u.end.column,u.end.row,u.end.column+1)}}while(c&&r>=0);if(l&&d&&g&&S&&u&&x)return{openTag:new y(l.start.row,l.start.column,d.end.row,d.end.column),closeTag:new y(g.start.row,g.start.column,S.end.row,S.end.column),openTagName:u,closeTagName:x}},this.$findOpeningTag=function(a,c){var s=a.getCurrentToken(),i=c.value,n=0,r=a.getCurrentTokenRow(),l=a.getCurrentTokenColumn(),u=l+2,o=new y(r,l,r,u);a.stepForward();var d=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=a.stepForward()),!(!c||c.value!==">")){var g=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(c=s,r=a.getCurrentTokenRow(),l=a.getCurrentTokenColumn(),u=l+c.value.length,s=a.stepBackward(),c){if(c.type.indexOf("tag-name")!==-1){if(i===c.value)if(s.value==="<"){if(n++,n>0){var x=new y(r,l,r,u),S=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do c=a.stepForward();while(c&&c.value!==">");var w=new y(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else s.value==="</"&&n--}else if(c.value==="/>"){for(var b=0,k=s;k;){if(k.type.indexOf("tag-name")!==-1&&k.value===i){n--;break}else if(k.value==="<")break;k=a.stepBackward(),b++}for(var A=0;A<b;A++)a.stepForward()}}while(s&&n<=0);if(S&&w&&o&&g&&x&&d)return{openTag:new y(S.start.row,S.start.column,w.end.row,w.end.column),closeTag:new y(o.start.row,o.start.column,g.end.row,g.end.column),openTagName:x,closeTagName:d}}}}v.BracketMatch=f}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/lang"),f=m("./bidihandler").BidiHandler,a=m("./config"),c=m("./lib/event_emitter").EventEmitter,s=m("./selection").Selection,i=m("./mode/text").Mode,n=m("./range").Range,r=m("./line_widgets").LineWidgets,l=m("./document").Document,u=m("./background_tokenizer").BackgroundTokenizer,o=m("./search_highlight").SearchHighlight,d=m("./undomanager").UndoManager,g=(function(){function N($,M){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++N.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new u(new i().getTokenizer(),this);var L=this;this.bgTokenizer.on("update",function(D){L._signal("tokenizerUpdate",D)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof $!="object"||!$.getLine)&&($=new l($)),this.setDocument($),this.selection=new s(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new f(this),a.resetOptions(this),this.setMode(M),a._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return N.prototype.$initOperationListeners=function(){var $=this;this.curOp=null,this.on("change",function(){$.curOp||($.startOperation(),$.curOp.selectionBefore=$.$lastSel),$.curOp.docChanged=!0},!0),this.on("changeSelection",function(){$.curOp||($.startOperation(),$.curOp.selectionBefore=$.$lastSel),$.curOp.selectionChanged=!0},!0),this.$operationResetTimer=y.delayedCall(this.endOperation.bind(this,!0))},N.prototype.startOperation=function($){if(this.curOp){if(!$||this.curOp.command)return;this.prevOp=this.curOp}$||($={}),this.$operationResetTimer.schedule(),this.curOp={command:$.command||{},args:$.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",$)},N.prototype.endOperation=function($){if(this.curOp){if($&&$.returnValue===!1){this.curOp=null,this._signal("endOperation",$);return}if($==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var M=this.selection.toJSON();this.curOp.selectionAfter=M,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(M),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",$)}},N.prototype.setDocument=function($){this.doc&&this.doc.off("change",this.$onChange),this.doc=$,$.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},N.prototype.getDocument=function(){return this.doc},Object.defineProperty(N.prototype,"widgetManager",{get:function(){var $=new r(this);return this.widgetManager=$,this.$editor&&$.attach(this.$editor),$},set:function($){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:$})},enumerable:!1,configurable:!0}),N.prototype.$resetRowCache=function($){if(!$){this.$docRowCache=[],this.$screenRowCache=[];return}var M=this.$docRowCache.length,L=this.$getRowCacheIndex(this.$docRowCache,$)+1;M>L&&(this.$docRowCache.splice(L,M),this.$screenRowCache.splice(L,M))},N.prototype.$getRowCacheIndex=function($,M){for(var L=0,D=$.length-1;L<=D;){var z=L+D>>1,B=$[z];if(M>B)L=z+1;else if(M<B)D=z-1;else return z}return L-1},N.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},N.prototype.onChangeFold=function($){var M=$.data;this.$resetRowCache(M.start.row)},N.prototype.onChange=function($){this.$modified=!0,this.$bidiHandler.onChange($),this.$resetRowCache($.start.row);var M=this.$updateInternalDataOnChange($);!this.$fromUndo&&this.$undoManager&&(M&&M.length&&(this.$undoManager.add({action:"removeFolds",folds:M},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add($,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange($),this._signal("change",$)},N.prototype.onSelectionChange=function(){this._signal("changeSelection")},N.prototype.setValue=function($){this.doc.setValue($),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},N.fromJSON=function($){typeof $=="string"&&($=JSON.parse($));var M=new d;M.$undoStack=$.history.undo,M.$redoStack=$.history.redo,M.mark=$.history.mark,M.$rev=$.history.rev;var L=new N($.value);return $.folds.forEach(function(D){L.addFold("...",n.fromPoints(D.start,D.end))}),L.setAnnotations($.annotations),L.setBreakpoints($.breakpoints),L.setMode($.mode),L.setScrollLeft($.scrollLeft),L.setScrollTop($.scrollTop),L.setUndoManager(M),L.selection.fromJSON($.selection),L},N.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function($){return $.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},N.prototype.toString=function(){return this.doc.getValue()},N.prototype.getSelection=function(){return this.selection},N.prototype.getState=function($){return this.bgTokenizer.getState($)},N.prototype.getTokens=function($){return this.bgTokenizer.getTokens($)},N.prototype.getTokenAt=function($,M){var L=this.bgTokenizer.getTokens($),D,z=0;if(M==null){var B=L.length-1;z=this.getLine($).length}else for(var B=0;B<L.length&&(z+=L[B].value.length,!(z>=M));B++);return D=L[B],D?(D.index=B,D.start=z-D.value.length,D):null},N.prototype.setUndoManager=function($){if(this.$undoManager=$,this.$informUndoManager&&this.$informUndoManager.cancel(),$){var M=this;$.addSession(this),this.$syncInformUndoManager=function(){M.$informUndoManager.cancel(),M.mergeUndoDeltas=!1},this.$informUndoManager=y.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},N.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},N.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},N.prototype.getTabString=function(){return this.getUseSoftTabs()?y.stringRepeat(" ",this.getTabSize()):"	"},N.prototype.setUseSoftTabs=function($){this.setOption("useSoftTabs",$)},N.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},N.prototype.setTabSize=function($){this.setOption("tabSize",$)},N.prototype.getTabSize=function(){return this.$tabSize},N.prototype.isTabStop=function($){return this.$useSoftTabs&&$.column%this.$tabSize===0},N.prototype.setNavigateWithinSoftTabs=function($){this.setOption("navigateWithinSoftTabs",$)},N.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},N.prototype.setOverwrite=function($){this.setOption("overwrite",$)},N.prototype.getOverwrite=function(){return this.$overwrite},N.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},N.prototype.addGutterDecoration=function($,M){this.$decorations[$]||(this.$decorations[$]=""),this.$decorations[$]+=" "+M,this._signal("changeBreakpoint",{})},N.prototype.removeGutterCustomWidget=function($){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget($)},N.prototype.addGutterCustomWidget=function($,M){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget($,M)},N.prototype.removeGutterDecoration=function($,M){this.$decorations[$]=(this.$decorations[$]||"").replace(" "+M,""),this._signal("changeBreakpoint",{})},N.prototype.getBreakpoints=function(){return this.$breakpoints},N.prototype.setBreakpoints=function($){this.$breakpoints=[];for(var M=0;M<$.length;M++)this.$breakpoints[$[M]]="ace_breakpoint";this._signal("changeBreakpoint",{})},N.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},N.prototype.setBreakpoint=function($,M){M===void 0&&(M="ace_breakpoint"),M?this.$breakpoints[$]=M:delete this.$breakpoints[$],this._signal("changeBreakpoint",{})},N.prototype.clearBreakpoint=function($){delete this.$breakpoints[$],this._signal("changeBreakpoint",{})},N.prototype.addMarker=function($,M,L,D){var z=this.$markerId++,B={range:$,type:L||"line",renderer:typeof L=="function"?L:null,clazz:M,inFront:!!D,id:z};return D?(this.$frontMarkers[z]=B,this._signal("changeFrontMarker")):(this.$backMarkers[z]=B,this._signal("changeBackMarker")),z},N.prototype.addDynamicMarker=function($,M){if($.update){var L=this.$markerId++;return $.id=L,$.inFront=!!M,M?(this.$frontMarkers[L]=$,this._signal("changeFrontMarker")):(this.$backMarkers[L]=$,this._signal("changeBackMarker")),$}},N.prototype.removeMarker=function($){var M=this.$frontMarkers[$]||this.$backMarkers[$];if(M){var L=M.inFront?this.$frontMarkers:this.$backMarkers;delete L[$],this._signal(M.inFront?"changeFrontMarker":"changeBackMarker")}},N.prototype.getMarkers=function($){return $?this.$frontMarkers:this.$backMarkers},N.prototype.highlight=function($){if(!this.$searchHighlight){var M=new o(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(M)}this.$searchHighlight.setRegexp($)},N.prototype.highlightLines=function($,M,L,D){typeof M!="number"&&(L=M,M=$),L||(L="ace_step");var z=new n($,0,M,1/0);return z.id=this.addMarker(z,L,"fullLine",D),z},N.prototype.setAnnotations=function($){this.$annotations=$,this._signal("changeAnnotation",{})},N.prototype.getAnnotations=function(){return this.$annotations||[]},N.prototype.clearAnnotations=function(){this.setAnnotations([])},N.prototype.$detectNewLine=function($){var M=$.match(/^.*?(\r?\n)/m);M?this.$autoNewLine=M[1]:this.$autoNewLine=`
`},N.prototype.getWordRange=function($,M){var L=this.getLine($),D=!1;if(M>0&&(D=!!L.charAt(M-1).match(this.tokenRe)),D||(D=!!L.charAt(M).match(this.tokenRe)),D)var z=this.tokenRe;else if(/^\s+$/.test(L.slice(M-1,M+1)))var z=/\s/;else var z=this.nonTokenRe;var B=M;if(B>0){do B--;while(B>=0&&L.charAt(B).match(z));B++}for(var P=M;P<L.length&&L.charAt(P).match(z);)P++;return new n($,B,$,P)},N.prototype.getAWordRange=function($,M){for(var L=this.getWordRange($,M),D=this.getLine(L.end.row);D.charAt(L.end.column).match(/[ \t]/);)L.end.column+=1;return L},N.prototype.setNewLineMode=function($){this.doc.setNewLineMode($)},N.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},N.prototype.setUseWorker=function($){this.setOption("useWorker",$)},N.prototype.getUseWorker=function(){return this.$useWorker},N.prototype.onReloadTokenizer=function($){var M=$.data;this.bgTokenizer.start(M.first),this._signal("tokenizerUpdate",$)},N.prototype.setMode=function($,M){if($&&typeof $=="object"){if($.getTokenizer)return this.$onChangeMode($);var L=$,D=L.path}else D=$||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[D]&&!L){this.$onChangeMode(this.$modes[D]),M&&M();return}this.$modeId=D,a.loadModule(["mode",D],(function(z){if(!this.destroyed){if(this.$modeId!==D)return M&&M();this.$modes[D]&&!L?this.$onChangeMode(this.$modes[D]):z&&z.Mode&&(z=new z.Mode(L),L||(this.$modes[D]=z,z.$id=D),this.$onChangeMode(z)),M&&M()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},N.prototype.$onChangeMode=function($,M){if(M||(this.$modeId=$.$id),this.$mode!==$){var L=this.$mode;this.$mode=$,this.$stopWorker(),this.$useWorker&&this.$startWorker();var D=$.getTokenizer();if(D.on!==void 0){var z=this.onReloadTokenizer.bind(this);D.on("update",z)}this.bgTokenizer.setTokenizer(D),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=$.tokenRe,this.nonTokenRe=$.nonTokenRe,M||($.attachToSession&&$.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding($.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:L,mode:$}))}},N.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},N.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch($){a.warn("Could not load worker",$),this.$worker=null}},N.prototype.getMode=function(){return this.$mode},N.prototype.setScrollTop=function($){this.$scrollTop===$||isNaN($)||(this.$scrollTop=$,this._signal("changeScrollTop",$))},N.prototype.getScrollTop=function(){return this.$scrollTop},N.prototype.setScrollLeft=function($){this.$scrollLeft===$||isNaN($)||(this.$scrollLeft=$,this._signal("changeScrollLeft",$))},N.prototype.getScrollLeft=function(){return this.$scrollLeft},N.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},N.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var $=0;return this.lineWidgets.forEach(function(M){M&&M.screenWidth>$&&($=M.screenWidth)}),this.lineWidgetWidth=$},N.prototype.$computeWidth=function($){if(this.$modified||$){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var M=this.doc.getAllLines(),L=this.$rowLengthCache,D=0,z=0,B=this.$foldData[z],P=B?B.start.row:1/0,U=M.length,W=0;W<U;W++){if(W>P){if(W=B.end.row+1,W>=U)break;B=this.$foldData[z++],P=B?B.start.row:1/0}L[W]==null&&(L[W]=this.$getStringScreenWidth(M[W])[0]),L[W]>D&&(D=L[W])}this.screenWidth=D}},N.prototype.getLine=function($){return this.doc.getLine($)},N.prototype.getLines=function($,M){return this.doc.getLines($,M)},N.prototype.getLength=function(){return this.doc.getLength()},N.prototype.getTextRange=function($){return this.doc.getTextRange($||this.selection.getRange())},N.prototype.insert=function($,M){return this.doc.insert($,M)},N.prototype.remove=function($){return this.doc.remove($)},N.prototype.removeFullLines=function($,M){return this.doc.removeFullLines($,M)},N.prototype.undoChanges=function($,M){if($.length){this.$fromUndo=!0;for(var L=$.length-1;L!=-1;L--){var D=$[L];D.action=="insert"||D.action=="remove"?this.doc.revertDelta(D):D.folds&&this.addFolds(D.folds)}!M&&this.$undoSelect&&($.selectionBefore?this.selection.fromJSON($.selectionBefore):this.selection.setRange(this.$getUndoSelection($,!0))),this.$fromUndo=!1}},N.prototype.redoChanges=function($,M){if($.length){this.$fromUndo=!0;for(var L=0;L<$.length;L++){var D=$[L];(D.action=="insert"||D.action=="remove")&&this.doc.$safeApplyDelta(D)}!M&&this.$undoSelect&&($.selectionAfter?this.selection.fromJSON($.selectionAfter):this.selection.setRange(this.$getUndoSelection($,!1))),this.$fromUndo=!1}},N.prototype.setUndoSelect=function($){this.$undoSelect=$},N.prototype.$getUndoSelection=function($,M){function L(U){return M?U.action!=="insert":U.action==="insert"}for(var D,z,B=0;B<$.length;B++){var P=$[B];if(P.start){if(!D){L(P)?D=n.fromPoints(P.start,P.end):D=n.fromPoints(P.start,P.start);continue}L(P)?(z=P.start,D.compare(z.row,z.column)==-1&&D.setStart(z),z=P.end,D.compare(z.row,z.column)==1&&D.setEnd(z)):(z=P.start,D.compare(z.row,z.column)==-1&&(D=n.fromPoints(P.start,P.start)))}}return D},N.prototype.replace=function($,M){return this.doc.replace($,M)},N.prototype.moveText=function($,M,L){var D=this.getTextRange($),z=this.getFoldsInRange($),B=n.fromPoints(M,M);if(!L){this.remove($);var P=$.start.row-$.end.row,U=P?-$.end.column:$.start.column-$.end.column;U&&(B.start.row==$.end.row&&B.start.column>$.end.column&&(B.start.column+=U),B.end.row==$.end.row&&B.end.column>$.end.column&&(B.end.column+=U)),P&&B.start.row>=$.end.row&&(B.start.row+=P,B.end.row+=P)}if(B.end=this.insert(B.start,D),z.length){var W=$.start,K=B.start,P=K.row-W.row,U=K.column-W.column;this.addFolds(z.map(function(q){return q=q.clone(),q.start.row==W.row&&(q.start.column+=U),q.end.row==W.row&&(q.end.column+=U),q.start.row+=P,q.end.row+=P,q}))}return B},N.prototype.indentRows=function($,M,L){L=L.replace(/\t/g,this.getTabString());for(var D=$;D<=M;D++)this.doc.insertInLine({row:D,column:0},L)},N.prototype.outdentRows=function($){for(var M=$.collapseRows(),L=new n(0,0,0,0),D=this.getTabSize(),z=M.start.row;z<=M.end.row;++z){var B=this.getLine(z);L.start.row=z,L.end.row=z;for(var P=0;P<D&&B.charAt(P)==" ";++P);P<D&&B.charAt(P)=="	"?(L.start.column=P,L.end.column=P+1):(L.start.column=0,L.end.column=P),this.remove(L)}},N.prototype.$moveLines=function($,M,L){if($=this.getRowFoldStart($),M=this.getRowFoldEnd(M),L<0){var D=this.getRowFoldStart($+L);if(D<0)return 0;var z=D-$}else if(L>0){var D=this.getRowFoldEnd(M+L);if(D>this.doc.getLength()-1)return 0;var z=D-M}else{$=this.$clipRowToDocument($),M=this.$clipRowToDocument(M);var z=M-$+1}var B=new n($,0,M,Number.MAX_VALUE),P=this.getFoldsInRange(B).map(function(W){return W=W.clone(),W.start.row+=z,W.end.row+=z,W}),U=L==0?this.doc.getLines($,M):this.doc.removeFullLines($,M);return this.doc.insertFullLines($+z,U),P.length&&this.addFolds(P),z},N.prototype.moveLinesUp=function($,M){return this.$moveLines($,M,-1)},N.prototype.moveLinesDown=function($,M){return this.$moveLines($,M,1)},N.prototype.duplicateLines=function($,M){return this.$moveLines($,M,0)},N.prototype.$clipRowToDocument=function($){return Math.max(0,Math.min($,this.doc.getLength()-1))},N.prototype.$clipColumnToRow=function($,M){return M<0?0:Math.min(this.doc.getLine($).length,M)},N.prototype.$clipPositionToDocument=function($,M){if(M=Math.max(0,M),$<0)$=0,M=0;else{var L=this.doc.getLength();$>=L?($=L-1,M=this.doc.getLine(L-1).length):M=Math.min(this.doc.getLine($).length,M)}return{row:$,column:M}},N.prototype.$clipRangeToDocument=function($){$.start.row<0?($.start.row=0,$.start.column=0):$.start.column=this.$clipColumnToRow($.start.row,$.start.column);var M=this.doc.getLength()-1;return $.end.row>M?($.end.row=M,$.end.column=this.doc.getLine(M).length):$.end.column=this.$clipColumnToRow($.end.row,$.end.column),$},N.prototype.setUseWrapMode=function($){if($!=this.$useWrapMode){if(this.$useWrapMode=$,this.$modified=!0,this.$resetRowCache(0),$){var M=this.getLength();this.$wrapData=Array(M),this.$updateWrapData(0,M-1)}this._signal("changeWrapMode")}},N.prototype.getUseWrapMode=function(){return this.$useWrapMode},N.prototype.setWrapLimitRange=function($,M){(this.$wrapLimitRange.min!==$||this.$wrapLimitRange.max!==M)&&(this.$wrapLimitRange={min:$,max:M},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},N.prototype.adjustWrapLimit=function($,M){var L=this.$wrapLimitRange;L.max<0&&(L={min:M,max:M});var D=this.$constrainWrapLimit($,L.min,L.max);return D!=this.$wrapLimit&&D>1?(this.$wrapLimit=D,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},N.prototype.$constrainWrapLimit=function($,M,L){return M&&($=Math.max(M,$)),L&&($=Math.min(L,$)),$},N.prototype.getWrapLimit=function(){return this.$wrapLimit},N.prototype.setWrapLimit=function($){this.setWrapLimitRange($,$)},N.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},N.prototype.$updateInternalDataOnChange=function($){var M=this.$useWrapMode,L=$.action,D=$.start,z=$.end,B=D.row,P=z.row,U=P-B,W=null;if(this.$updating=!0,U!=0)if(L==="remove"){this[M?"$wrapData":"$rowLengthCache"].splice(B,U);var K=this.$foldData;W=this.getFoldsInRange($),this.removeFolds(W);var Y=this.getFoldLine(z.row),X=0;if(Y){Y.addRemoveChars(z.row,z.column,D.column-z.column),Y.shiftRow(-U);var q=this.getFoldLine(B);q&&q!==Y&&(q.merge(Y),Y=q),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=z.row&&Y.shiftRow(-U)}P=B}else{var J=Array(U);J.unshift(B,0);var V=M?this.$wrapData:this.$rowLengthCache;V.splice.apply(V,J);var K=this.$foldData,Y=this.getFoldLine(B),X=0;if(Y){var Q=Y.range.compareInside(D.row,D.column);Q==0?(Y=Y.split(D.row,D.column),Y&&(Y.shiftRow(U),Y.addRemoveChars(P,0,z.column-D.column))):Q==-1&&(Y.addRemoveChars(B,0,z.column-D.column),Y.shiftRow(U)),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=B&&Y.shiftRow(U)}}else{U=Math.abs($.start.column-$.end.column),L==="remove"&&(W=this.getFoldsInRange($),this.removeFolds(W),U=-U);var Y=this.getFoldLine(B);Y&&Y.addRemoveChars(B,D.column,U)}return M&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,M?this.$updateWrapData(B,P):this.$updateRowLengthCache(B,P),W},N.prototype.$updateRowLengthCache=function($,M){this.$rowLengthCache[$]=null,this.$rowLengthCache[M]=null},N.prototype.$updateWrapData=function($,M){var L=this.doc.getAllLines(),D=this.getTabSize(),z=this.$wrapData,B=this.$wrapLimit,P,U,W=$;for(M=Math.min(M,L.length-1);W<=M;)U=this.getFoldLine(W,U),U?(P=[],U.walk((function(K,Y,X,q){var J;if(K!=null){J=this.$getDisplayTokens(K,P.length),J[0]=w;for(var V=1;V<J.length;V++)J[V]=b}else J=this.$getDisplayTokens(L[Y].substring(q,X),P.length);P=P.concat(J)}).bind(this),U.end.row,L[U.end.row].length+1),z[U.start.row]=this.$computeWrapSplits(P,B,D),W=U.end.row+1):(P=this.$getDisplayTokens(L[W]),z[W]=this.$computeWrapSplits(P,B,D),W++)},N.prototype.$computeWrapSplits=function($,M,L){if($.length==0)return[];var D=[],z=$.length,B=0,P=0,U=this.$wrapAsCode,W=this.$indentedSoftWrap,K=M<=Math.max(2*L,8)||W===!1?0:Math.floor(M/2);function Y(){var Q=0;if(K===0)return Q;if(W)for(var te=0;te<$.length;te++){var ne=$[te];if(ne==A)Q+=1;else if(ne==T)Q+=L;else{if(ne==j)continue;break}}return U&&W!==!1&&(Q+=L),Math.min(Q,K)}function X(Q){for(var te=Q-B,ne=B;ne<Q;ne++){var me=$[ne];(me===12||me===2)&&(te-=1)}D.length||(q=Y(),D.indent=q),P+=te,D.push(P),B=Q}for(var q=0;z-B>M-q;){var J=B+M-q;if($[J-1]>=A&&$[J]>=A){X(J);continue}if($[J]==w||$[J]==b){for(J;J!=B-1&&$[J]!=w;J--);if(J>B){X(J);continue}for(J=B+M,J;J<$.length&&$[J]==b;J++);if(J==$.length)break;X(J);continue}for(var V=Math.max(J-(M-(M>>2)),B-1);J>V&&$[J]<w;)J--;if(U){for(;J>V&&$[J]<w;)J--;for(;J>V&&$[J]==k;)J--}else for(;J>V&&$[J]<A;)J--;if(J>V){X(++J);continue}J=B+M,$[J]==S&&J--,X(J-q)}return D},N.prototype.$getDisplayTokens=function($,M){var L=[],D;M=M||0;for(var z=0;z<$.length;z++){var B=$.charCodeAt(z);if(B==9){D=this.getScreenTabSize(L.length+M),L.push(T);for(var P=1;P<D;P++)L.push(j)}else B==32?L.push(A):B>39&&B<48||B>57&&B<64?L.push(k):B>=4352&&F(B)?L.push(x,S):L.push(x)}return L},N.prototype.$getStringScreenWidth=function($,M,L){if(M==0)return[0,0];M==null&&(M=1/0),L=L||0;var D,z;for(z=0;z<$.length&&(D=$.charCodeAt(z),D==9?L+=this.getScreenTabSize(L):D>=4352&&F(D)?L+=2:L+=1,!(L>M));z++);return[L,z]},N.prototype.getRowLength=function($){var M=1;return this.lineWidgets&&(M+=this.lineWidgets[$]&&this.lineWidgets[$].rowCount||0),!this.$useWrapMode||!this.$wrapData[$]?M:this.$wrapData[$].length+M},N.prototype.getRowLineCount=function($){return!this.$useWrapMode||!this.$wrapData[$]?1:this.$wrapData[$].length+1},N.prototype.getRowWrapIndent=function($){if(this.$useWrapMode){var M=this.screenToDocumentPosition($,Number.MAX_VALUE),L=this.$wrapData[M.row];return L.length&&L[0]<M.column?L.indent:0}else return 0},N.prototype.getScreenLastRowColumn=function($){var M=this.screenToDocumentPosition($,Number.MAX_VALUE);return this.documentToScreenColumn(M.row,M.column)},N.prototype.getDocumentLastRowColumn=function($,M){var L=this.documentToScreenRow($,M);return this.getScreenLastRowColumn(L)},N.prototype.getDocumentLastRowColumnPosition=function($,M){var L=this.documentToScreenRow($,M);return this.screenToDocumentPosition(L,Number.MAX_VALUE/10)},N.prototype.getRowSplitData=function($){if(this.$useWrapMode)return this.$wrapData[$]},N.prototype.getScreenTabSize=function($){return this.$tabSize-($%this.$tabSize|0)},N.prototype.screenToDocumentRow=function($,M){return this.screenToDocumentPosition($,M).row},N.prototype.screenToDocumentColumn=function($,M){return this.screenToDocumentPosition($,M).column},N.prototype.screenToDocumentPosition=function($,M,L){if($<0)return{row:0,column:0};var D,z=0,B=0,P,U=0,W=0,K=this.$screenRowCache,Y=this.$getRowCacheIndex(K,$),X=K.length;if(X&&Y>=0)var U=K[Y],z=this.$docRowCache[Y],q=$>K[X-1];else var q=!X;for(var J=this.getLength()-1,V=this.getNextFoldLine(z),Q=V?V.start.row:1/0;U<=$&&(W=this.getRowLength(z),!(U+W>$||z>=J));)U+=W,z++,z>Q&&(z=V.end.row+1,V=this.getNextFoldLine(z,V),Q=V?V.start.row:1/0),q&&(this.$docRowCache.push(z),this.$screenRowCache.push(U));if(V&&V.start.row<=z)D=this.getFoldDisplayLine(V),z=V.start.row;else{if(U+W<=$||z>J)return{row:J,column:this.getLine(J).length};D=this.getLine(z),V=null}var te=0,ne=Math.floor($-U);if(this.$useWrapMode){var me=this.$wrapData[z];me&&(P=me[ne],ne>0&&me.length&&(te=me.indent,B=me[ne-1]||me[me.length-1],D=D.substring(B)))}return L!==void 0&&this.$bidiHandler.isBidiRow(U+ne,z,ne)&&(M=this.$bidiHandler.offsetToCol(L)),B+=this.$getStringScreenWidth(D,M-te)[1],this.$useWrapMode&&B>=P&&(B=P-1),V?V.idxToPosition(B):{row:z,column:B}},N.prototype.documentToScreenPosition=function($,M){if(typeof M>"u")var L=this.$clipPositionToDocument($.row,$.column);else L=this.$clipPositionToDocument($,M);$=L.row,M=L.column;var D=0,z=null,B=null;B=this.getFoldAt($,M,1),B&&($=B.start.row,M=B.start.column);var P,U=0,W=this.$docRowCache,K=this.$getRowCacheIndex(W,$),Y=W.length;if(Y&&K>=0)var U=W[K],D=this.$screenRowCache[K],X=$>W[Y-1];else var X=!Y;for(var q=this.getNextFoldLine(U),J=q?q.start.row:1/0;U<$;){if(U>=J){if(P=q.end.row+1,P>$)break;q=this.getNextFoldLine(P,q),J=q?q.start.row:1/0}else P=U+1;D+=this.getRowLength(U),U=P,X&&(this.$docRowCache.push(U),this.$screenRowCache.push(D))}var V="";q&&U>=J?(V=this.getFoldDisplayLine(q,$,M),z=q.start.row):(V=this.getLine($).substring(0,M),z=$);var Q=0;if(this.$useWrapMode){var te=this.$wrapData[z];if(te){for(var ne=0;V.length>=te[ne];)D++,ne++;V=V.substring(te[ne-1]||0,V.length),Q=ne>0?te.indent:0}}return this.lineWidgets&&this.lineWidgets[U]&&this.lineWidgets[U].rowsAbove&&(D+=this.lineWidgets[U].rowsAbove),{row:D,column:Q+this.$getStringScreenWidth(V)[0]}},N.prototype.documentToScreenColumn=function($,M){return this.documentToScreenPosition($,M).column},N.prototype.documentToScreenRow=function($,M){return this.documentToScreenPosition($,M).row},N.prototype.getScreenLength=function(){var $=0,M=null;if(this.$useWrapMode)for(var z=this.$wrapData.length,B=0,D=0,M=this.$foldData[D++],P=M?M.start.row:1/0;B<z;){var U=this.$wrapData[B];$+=U?U.length+1:1,B++,B>P&&(B=M.end.row+1,M=this.$foldData[D++],P=M?M.start.row:1/0)}else{$=this.getLength();for(var L=this.$foldData,D=0;D<L.length;D++)M=L[D],$-=M.end.row-M.start.row}return this.lineWidgets&&($+=this.$getWidgetScreenLength()),$},N.prototype.$setFontMetrics=function($){this.$enableVarChar&&(this.$getStringScreenWidth=function(M,L,D){if(L===0)return[0,0];L||(L=1/0),D=D||0;var z,B;for(B=0;B<M.length&&(z=M.charAt(B),z==="	"?D+=this.getScreenTabSize(D):D+=$.getCharacterWidth(z),!(D>L));B++);return[D,B]})},N.prototype.getPrecedingCharacter=function(){var $=this.selection.getCursor();if($.column===0)return $.row===0?"":this.doc.getNewLineCharacter();var M=this.getLine($.row);return M[$.column-1]},N.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},N})();g.$uid=0,g.prototype.$modes=a.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=F,E.implement(g.prototype,c);var x=1,S=2,w=3,b=4,k=9,A=10,T=11,j=12;function F(N){return N<4352?!1:N>=4352&&N<=4447||N>=4515&&N<=4519||N>=4602&&N<=4607||N>=9001&&N<=9002||N>=11904&&N<=11929||N>=11931&&N<=12019||N>=12032&&N<=12245||N>=12272&&N<=12283||N>=12288&&N<=12350||N>=12353&&N<=12438||N>=12441&&N<=12543||N>=12549&&N<=12589||N>=12593&&N<=12686||N>=12688&&N<=12730||N>=12736&&N<=12771||N>=12784&&N<=12830||N>=12832&&N<=12871||N>=12880&&N<=13054||N>=13056&&N<=19903||N>=19968&&N<=42124||N>=42128&&N<=42182||N>=43360&&N<=43388||N>=44032&&N<=55203||N>=55216&&N<=55238||N>=55243&&N<=55291||N>=63744&&N<=64255||N>=65040&&N<=65049||N>=65072&&N<=65106||N>=65108&&N<=65126||N>=65128&&N<=65131||N>=65281&&N<=65376||N>=65504&&N<=65510}m("./edit_session/folding").Folding.call(g.prototype),m("./edit_session/bracket_match").BracketMatch.call(g.prototype),a.defineOptions(g.prototype,"session",{wrap:{set:function(N){if(!N||N=="off"?N=!1:N=="free"?N=!0:N=="printMargin"?N=-1:typeof N=="string"&&(N=parseInt(N,10)||!1),this.$wrap!=N)if(this.$wrap=N,!N)this.setUseWrapMode(!1);else{var $=typeof N=="number"?N:null;this.setWrapLimitRange($,$),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(N){N=N=="auto"?this.$mode.type!="text":N!="text",N!=this.$wrapAsCode&&(this.$wrapAsCode=N,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(N){this.$useWorker=N,this.$stopWorker(),N&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(N){N=parseInt(N),N>0&&this.$tabSize!==N&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=N,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(N){this.setFoldStyle(N)},handlesSet:!0},overwrite:{set:function(N){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(N){this.doc.setNewLineMode(N)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(N){this.setMode(N)},get:function(){return this.$modeId},handlesSet:!0}}),v.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(m,v,R){var E=m("./lib/lang"),y=m("./lib/oop"),f=m("./range").Range,a=(function(){function n(){this.$options={}}return n.prototype.set=function(r){return y.mixin(this.$options,r),this},n.prototype.getOptions=function(){return E.copyObject(this.$options)},n.prototype.setOptions=function(r){this.$options=r},n.prototype.find=function(r){var l=this.$options,u=this.$matchIterator(r,l);if(!u)return!1;var o=null;return u.forEach(function(d,g,x,S){return o=new f(d,g,x,S),g==S&&l.start&&l.start.start&&l.skipCurrent!=!1&&o.isEqual(l.start)?(o=null,!1):!0}),o},n.prototype.findAll=function(r){var l=this.$options;if(!l.needle)return[];this.$assembleRegExp(l);var u=l.range,o=u?r.getLines(u.start.row,u.end.row):r.doc.getAllLines(),d=[],g=l.re;if(l.$isMultiLine){var x=g.length,S=o.length-x,w;e:for(var b=g.offset||0;b<=S;b++){for(var k=0;k<x;k++)if(o[b+k].search(g[k])==-1)continue e;var A=o[b],T=o[b+x-1],j=A.length-A.match(g[0])[0].length,F=T.match(g[x-1])[0].length;w&&w.end.row===b&&w.end.column>j||(d.push(w=new f(b,j,b+x-1,F)),x>2&&(b=b+x-2))}}else for(var N,$=0;$<o.length;$++)if(this.$isMultilineSearch(l)){var M=o.length-1;if(N=this.$multiLineForward(r,g,$,M),N){var L=N.endRow<=M?N.endRow-1:M;L>$&&($=L),d.push(new f(N.startRow,N.startCol,N.endRow,N.endCol))}}else{N=E.getMatchOffsets(o[$],g);for(var k=0;k<N.length;k++){var D=N[k];d.push(new f($,D.offset,$,D.offset+D.length))}}if(u){for(var z=u.start.column,B=u.end.column,$=0,k=d.length-1;$<k&&d[$].start.column<z&&d[$].start.row==0;)$++;for(var P=u.end.row-u.start.row;$<k&&d[k].end.column>B&&d[k].end.row==P;)k--;for(d=d.slice($,k+1),$=0,k=d.length;$<k;$++)d[$].start.row+=u.start.row,d[$].end.row+=u.start.row}return d},n.prototype.parseReplaceString=function(r){for(var l={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},u="",o=0,d=r.length;o<d;o++){var g=r.charCodeAt(o);if(g===l.Backslash){if(o++,o>=d){u+="\\";break}var x=r.charCodeAt(o);switch(x){case l.Backslash:u+="\\";break;case l.n:u+=`
`;break;case l.t:u+="	";break}continue}if(g===l.DollarSign){if(o++,o>=d){u+="$";break}var S=r.charCodeAt(o);if(S===l.DollarSign){u+="$$";continue}if(S===l.Digit0||S===l.Ampersand){u+="$&";continue}if(l.Digit1<=S&&S<=l.Digit9){u+="$"+r[o];continue}}u+=r[o]}return u||r},n.prototype.replace=function(r,l){var u=this.$options,o=this.$assembleRegExp(u);if(u.$isMultiLine)return l;if(o){var d=this.$isMultilineSearch(u);d&&(r=r.replace(/\r\n|\r|\n/g,`
`));var g=o.exec(r);if(!g||!d&&g[0].length!=r.length)return null;if(l=u.regExp?this.parseReplaceString(l):l.replace(/\$/g,"$$$$"),l=r.replace(o,l),u.preserveCase){l=l.split("");for(var x=Math.min(r.length,r.length);x--;){var S=r[x];S&&S.toLowerCase()!=S?l[x]=l[x].toUpperCase():l[x]=l[x].toLowerCase()}l=l.join("")}return l}},n.prototype.$assembleRegExp=function(r,l){if(r.needle instanceof RegExp)return r.re=r.needle;var u=r.needle;if(!r.needle)return r.re=!1;r.regExp||(u=E.escapeRegExp(u));var o=r.caseSensitive?"gm":"gmi";try{new RegExp(u,"u"),r.$supportsUnicodeFlag=!0,o+="u"}catch{r.$supportsUnicodeFlag=!1}if(r.wholeWord&&(u=c(u,r)),r.$isMultiLine=!l&&/[\n\r]/.test(u),r.$isMultiLine)return r.re=this.$assembleMultilineRegExp(u,o);try{var d=new RegExp(u,o)}catch{d=!1}return r.re=d},n.prototype.$assembleMultilineRegExp=function(r,l){for(var u=r.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),o=[],d=0;d<u.length;d++)try{o.push(new RegExp(u[d],l))}catch{return!1}return o},n.prototype.$isMultilineSearch=function(r){return r.re&&/\\r\\n|\\r|\\n/.test(r.re.source)&&r.regExp&&!r.$isMultiLine},n.prototype.$multiLineForward=function(r,l,u,o){for(var d,g=i(r,u),x=u;x<=o;){for(var S=0;S<g&&!(x>o);S++){var w=r.getLine(x++);d=d==null?w:d+`
`+w}var b=l.exec(d);if(l.lastIndex=0,b){var k=d.slice(0,b.index).split(`
`),A=b[0].split(`
`),T=u+k.length-1,j=k[k.length-1].length,F=T+A.length-1,N=A.length==1?j+A[0].length:A[A.length-1].length;return{startRow:T,startCol:j,endRow:F,endCol:N}}}return null},n.prototype.$multiLineBackward=function(r,l,u,o,d){for(var g,x=i(r,o),S=r.getLine(o).length-u,w=o;w>=d;){for(var b=0;b<x&&w>=d;b++){var k=r.getLine(w--);g=g==null?k:k+`
`+g}var A=s(g,l,S);if(A){var T=g.slice(0,A.index).split(`
`),j=A[0].split(`
`),F=w+T.length,N=T[T.length-1].length,$=F+j.length-1,M=j.length==1?N+j[0].length:j[j.length-1].length;return{startRow:F,startCol:N,endRow:$,endCol:M}}}return null},n.prototype.$matchIterator=function(r,l){var u=this.$assembleRegExp(l);if(!u)return!1;var o=this.$isMultilineSearch(l),d=this.$multiLineForward,g=this.$multiLineBackward,x=l.backwards==!0,S=l.skipCurrent!=!1,w=u.unicode,b=l.range,k=l.start;k||(k=b?b[x?"end":"start"]:r.selection.getRange()),k.start&&(k=k[S!=x?"end":"start"]);var A=b?b.start.row:0,T=b?b.end.row:r.getLength()-1;if(x)var j=function($){var M=k.row;if(!N(M,k.column,$)){for(M--;M>=A;M--)if(N(M,Number.MAX_VALUE,$))return;if(l.wrap!=!1){for(M=T,A=k.row;M>=A;M--)if(N(M,Number.MAX_VALUE,$))return}}};else var j=function(M){var L=k.row;if(!N(L,k.column,M)){for(L=L+1;L<=T;L++)if(N(L,0,M))return;if(l.wrap!=!1){for(L=A,T=k.row;L<=T;L++)if(N(L,0,M))return}}};if(l.$isMultiLine)var F=u.length,N=function($,M,L){var D=x?$-F+1:$;if(!(D<0||D+F>r.getLength())){var z=r.getLine(D),B=z.search(u[0]);if(!(!x&&B<M||B===-1)){for(var P=1;P<F;P++)if(z=r.getLine(D+P),z.search(u[P])==-1)return;var U=z.match(u[F-1])[0].length;if(!(x&&U>M)&&L(D,B,D+F-1,U))return!0}}};else if(x)var N=function(M,L,D){if(o){var z=g(r,u,L,M,A);if(!z)return!1;if(D(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else{var B=r.getLine(M),P=[],U,W=0;for(u.lastIndex=0;U=u.exec(B);){var K=U[0].length;if(W=U.index,!K){if(W>=B.length)break;u.lastIndex=W+=E.skipEmptyMatch(B,W,w)}if(U.index+K>L)break;P.push(U.index,K)}for(var Y=P.length-1;Y>=0;Y-=2){var X=P[Y-1],K=P[Y];if(D(M,X,M,X+K))return!0}}};else var N=function(M,L,D){if(u.lastIndex=L,o){var z=d(r,u,M,T);if(z){var B=z.endRow<=T?z.endRow-1:T;B>M&&(M=B)}if(!z)return!1;if(D(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else for(var P=r.getLine(M),U,W;W=u.exec(P);){var K=W[0].length;if(U=W.index,D(M,U,M,U+K))return!0;if(!K&&(u.lastIndex=U+=E.skipEmptyMatch(P,U,w),U>=P.length))return!1}};return{forEach:j}},n})();function c(n,r){var l=E.supportsLookbehind();function u(x,S){S===void 0&&(S=!0);var w=l&&r.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return w.test(x)||r.regExp?l&&r.$supportsUnicodeFlag?S?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var o=Array.from(n),d=o[0],g=o[o.length-1];return u(d)+n+u(g,!1)}function s(n,r,l){for(var u=null,o=0;o<=n.length;){r.lastIndex=o;var d=r.exec(n);if(!d)break;var g=d.index+d[0].length;if(g>n.length-l)break;(!u||g>u.index+u[0].length)&&(u=d),o=d.index+1}return u}function i(n,r){var l=5e3,u={row:r,column:0},o=n.doc.positionToIndex(u),d=o+l,g=n.doc.indexToPosition(d),x=g.row;return x+1}v.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(m,v,R){var E=this&&this.__extends||(function(){var n=function(r,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(u[d]=o[d])},n(r,l)};return function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(r,l);function u(){this.constructor=r}r.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})(),y=m("../lib/keys"),f=m("../lib/useragent"),a=y.KEY_MODS,c=(function(){function n(r,l){this.$init(r,l,!1)}return n.prototype.$init=function(r,l,u){this.platform=l||(f.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(r),this.$singleCommand=u},n.prototype.addCommand=function(r){this.commands[r.name]&&this.removeCommand(r),this.commands[r.name]=r,r.bindKey&&this._buildKeyHash(r)},n.prototype.removeCommand=function(r,l){var u=r&&(typeof r=="string"?r:r.name);r=this.commands[u],l||delete this.commands[u];var o=this.commandKeyBinding;for(var d in o){var g=o[d];if(g==r)delete o[d];else if(Array.isArray(g)){var x=g.indexOf(r);x!=-1&&(g.splice(x,1),g.length==1&&(o[d]=g[0]))}}},n.prototype.bindKey=function(r,l,u){if(typeof r=="object"&&r&&(u==null&&(u=r.position),r=r[this.platform]),!!r){if(typeof l=="function")return this.addCommand({exec:l,bindKey:r,name:l.name||r});r.split("|").forEach(function(o){var d="";if(o.indexOf(" ")!=-1){var g=o.split(/\s+/);o=g.pop(),g.forEach(function(w){var b=this.parseKeys(w),k=a[b.hashId]+b.key;d+=(d?" ":"")+k,this._addCommandToBinding(d,"chainKeys")},this),d+=" "}var x=this.parseKeys(o),S=a[x.hashId]+x.key;this._addCommandToBinding(d+S,l,u)},this)}},n.prototype._addCommandToBinding=function(r,l,u){var o=this.commandKeyBinding,d;if(!l)delete o[r];else if(!o[r]||this.$singleCommand)o[r]=l;else{Array.isArray(o[r])?(d=o[r].indexOf(l))!=-1&&o[r].splice(d,1):o[r]=[o[r]],typeof u!="number"&&(u=s(l));var g=o[r];for(d=0;d<g.length;d++){var x=g[d],S=s(x);if(S>u)break}g.splice(d,0,l)}},n.prototype.addCommands=function(r){r&&Object.keys(r).forEach(function(l){var u=r[l];if(u){if(typeof u=="string")return this.bindKey(u,l);typeof u=="function"&&(u={exec:u}),typeof u=="object"&&(u.name||(u.name=l),this.addCommand(u))}},this)},n.prototype.removeCommands=function(r){Object.keys(r).forEach(function(l){this.removeCommand(r[l])},this)},n.prototype.bindKeys=function(r){Object.keys(r).forEach(function(l){this.bindKey(l,r[l])},this)},n.prototype._buildKeyHash=function(r){this.bindKey(r.bindKey,r)},n.prototype.parseKeys=function(r){var l=r.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(S){return S}),u=l.pop(),o=y[u];if(y.FUNCTION_KEYS[o])u=y.FUNCTION_KEYS[o].toLowerCase();else if(l.length){if(l.length==1&&l[0]=="shift")return{key:u.toUpperCase(),hashId:-1}}else return{key:u,hashId:-1};for(var d=0,g=l.length;g--;){var x=y.KEY_MODS[l[g]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+l[g]+" in "+r),!1;d|=x}return{key:u,hashId:d}},n.prototype.findKeyCommand=function(r,l){var u=a[r]+l;return this.commandKeyBinding[u]},n.prototype.handleKeyboard=function(r,l,u,o){if(!(o<0)){var d=a[l]+u,g=this.commandKeyBinding[d];return r.$keyChain&&(r.$keyChain+=" "+d,g=this.commandKeyBinding[r.$keyChain]||g),g&&(g=="chainKeys"||g[g.length-1]=="chainKeys")?(r.$keyChain=r.$keyChain||d,{command:"null"}):(r.$keyChain&&((!l||l==4)&&u.length==1?r.$keyChain=r.$keyChain.slice(0,-d.length-1):(l==-1||o>0)&&(r.$keyChain="")),{command:g})}},n.prototype.getStatusText=function(r,l){return l.$keyChain||""},n})();function s(n){return typeof n=="object"&&n.bindKey&&n.bindKey.position||(n.isDefault?-100:0)}var i=(function(n){E(r,n);function r(l,u){var o=n.call(this,l,u)||this;return o.$singleCommand=!0,o}return r})(c);i.call=function(n,r,l){c.prototype.$init.call(n,r,l,!0)},c.call=function(n,r,l){c.prototype.$init.call(n,r,l,!1)},v.HashHandler=i,v.MultiHashHandler=c}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},s(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),y=m("../lib/oop"),f=m("../keyboard/hash_handler").MultiHashHandler,a=m("../lib/event_emitter").EventEmitter,c=(function(s){E(i,s);function i(n,r){var l=s.call(this,r,n)||this;return l.byName=l.commands,l.setDefaultHandler("exec",function(u){return u.args?u.command.exec(u.editor,u.args,u.event,!1):u.command.exec(u.editor,{},u.event,!0)}),l}return i.prototype.exec=function(n,r,l){if(Array.isArray(n)){for(var u=n.length;u--;)if(this.exec(n[u],r,l))return!0;return!1}typeof n=="string"&&(n=this.commands[n]);var o={editor:r,command:n,args:l};return this.canExecute(n,r)?(o.returnValue=this._emit("exec",o),this._signal("afterExec",o),o.returnValue!==!1):(this._signal("commandUnavailable",o),!1)},i.prototype.canExecute=function(n,r){return typeof n=="string"&&(n=this.commands[n]),!(!n||r&&r.$readOnly&&!n.readOnly||this.$checkCommandState!=!1&&n.isAvailable&&!n.isAvailable(r))},i.prototype.toggleRecording=function(n){if(!this.$inReplay)return n&&n._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(r){this.macro.push([r.command,r.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(n){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0,this.macro.forEach(function(r){typeof r=="string"?this.exec(r,n):this.exec(r[0],n,r[1])},this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(n){return n.map(function(r){return typeof r[0]!="string"&&(r[0]=r[0].name),r[1]||(r=r[0]),r})},i})(f);y.implement(c.prototype,a),v.CommandManager=c}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(m,v,R){var E=m("../lib/lang"),y=m("../config"),f=m("../range").Range;function a(s,i){return{win:s,mac:i}}v.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(s){y.loadModule("ace/ext/settings_menu",function(i){i.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(s){y.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(s){y.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(s,i){typeof i=="number"&&!isNaN(i)&&s.gotoLine(i),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(s){y.loadModule("ace/ext/searchbox",function(i){i.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(s,i){s.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(s,i){s.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(s,i){s.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(s,i){s.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var i=s.$copyWithEmptySelection&&s.selection.isEmpty(),n=i?s.selection.getLineRange():s.selection.getRange();s._emit("cut",n),n.isEmpty()||s.session.remove(n),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,i){s.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(s){y.loadModule("ace/ext/searchbox",function(i){i.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(s){if(s.selection.isEmpty())s.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(s){var i=s.selection.getRange();i.start.column=0,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(s){var i=s.selection.getRange();i.end.column=Number.MAX_VALUE,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,i){s.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,i){s.insert(E.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(s){s.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var i=s.selection.getRange();i.start.column=i.end.column=0,i.end.row++,s.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(s){s.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(s){for(var i=s.selection.isBackwards(),n=i?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),r=i?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),l=s.session.doc.getLine(n.row).length,u=s.session.doc.getTextRange(s.selection.getRange()),o=u.replace(/\n\s*/," ").length,d=s.session.doc.getLine(n.row),g=n.row+1;g<=r.row+1;g++){var x=E.stringTrimLeft(E.stringTrimRight(s.session.doc.getLine(g)));x.length!==0&&(x=" "+x),d+=x}r.row+1<s.session.doc.getLength()-1&&(d+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new f(n.row,0,r.row+2,0),d),o>0?(s.selection.moveCursorTo(n.row,n.column),s.selection.selectTo(n.row,n.column+o)):(l=s.session.doc.getLine(n.row).length>l?l+1:l,s.selection.moveCursorTo(n.row,l))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(s){var i=s.session.doc.getLength()-1,n=s.session.doc.getLine(i).length,r=s.selection.rangeList.ranges,l=[];r.length<1&&(r=[s.selection.getRange()]);for(var u=0;u<r.length;u++)u==r.length-1&&(r[u].end.row===i&&r[u].end.column===n||l.push(new f(r[u].end.row,r[u].end.column,i,n))),u===0?r[u].start.row===0&&r[u].start.column===0||l.push(new f(0,0,r[u].start.row,r[u].start.column)):l.push(new f(r[u-1].end.row,r[u-1].end.column,r[u].start.row,r[u].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var u=0;u<l.length;u++)s.selection.addRange(l[u],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var i=s.getCursorPosition();s.selection.moveTo(i.row-1,Number.MAX_VALUE),s.insert(`
`),i.row===0&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(s){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),s.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var c=1;c<9;c++)v.commands.push({name:"foldToLevel"+c,description:"Fold To Level "+c,level:c,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(m,v,R){var E=m("../lib/keys"),y=(function(){function a(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return a.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},a.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},a.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===E.escape&&this.annotationTooltip.hide();return}if(c.target===this.element){if(c.keyCode!=E.enter)return;c.preventDefault();var s=this.editor.getCursorPosition().row;this.editor.isRowVisible(s)||this.editor.scrollToLine(s,!0,!0),setTimeout((function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldLaneWidget(i),r=this.$findNearestAnnotation(i);if(!(n===null&&r===null)){var l=this.$findClosestNumber(n,r,i);if(l===n)if(this.activeLane="fold",this.activeRowIndex=n,this.$isCustomWidgetVisible(n)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=r,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new f(c,this))}).bind(this),10)},a.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===E.tab){c.preventDefault();return}if(c.keyCode===E.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===E.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===E.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===E.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===E.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===E.enter||c.keyCode===E.space){switch(c.preventDefault(),this.activeLane){case"fold":var s=this.$rowIndexToRow(this.activeRowIndex),i=this.editor.session.$gutterCustomWidgets[s];if(i)i.callbacks&&i.callbacks.onClick&&i.callbacks.onClick(c,s);else if(this.gutterLayer.session.foldWidgets[s]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==s&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(s),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},a.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},a.prototype.$isFoldWidgetVisible=function(c){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),i=this.$getFoldWidget(c).style.display!=="none";return s&&i},a.prototype.$isCustomWidgetVisible=function(c){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),i=!!this.$getCustomWidget(c);return s&&i},a.prototype.$isAnnotationVisible=function(c){var s=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),i=this.$getAnnotation(c).style.display!=="none";return s&&i},a.prototype.$getFoldWidget=function(c){var s=this.lines.get(c),i=s.element;return i.childNodes[1]},a.prototype.$getCustomWidget=function(c){var s=this.lines.get(c),i=s.element;return i.childNodes[3]},a.prototype.$getAnnotation=function(c){var s=this.lines.get(c),i=s.element;return i.childNodes[2]},a.prototype.$findNearestFoldLaneWidget=function(c){if(this.$isCustomWidgetVisible(c)||this.$isFoldWidgetVisible(c))return c;for(var s=0;c-s>0||c+s<this.lines.getLength()-1;){if(s++,c-s>=0&&this.$isCustomWidgetVisible(c-s))return c-s;if(c+s<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(c+s))return c+s;if(c-s>=0&&this.$isFoldWidgetVisible(c-s))return c-s;if(c+s<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+s))return c+s}return null},a.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var s=0;c-s>0||c+s<this.lines.getLength()-1;){if(s++,c-s>=0&&this.$isAnnotationVisible(c-s))return c-s;if(c+s<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+s))return c+s}return null},a.prototype.$focusFoldWidget=function(c){if(c!=null){var s=this.$getFoldWidget(c);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},a.prototype.$focusCustomWidget=function(c){if(c!=null){var s=this.$getCustomWidget(c);s&&(s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus())}},a.prototype.$focusAnnotation=function(c){if(c!=null){var s=this.$getAnnotation(c);s.classList.add(this.editor.renderer.keyboardFocusClassName),s.focus()}},a.prototype.$blurFoldWidget=function(c){var s=this.$getFoldWidget(c);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},a.prototype.$blurCustomWidget=function(c){var s=this.$getCustomWidget(c);s&&(s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur())},a.prototype.$blurAnnotation=function(c){var s=this.$getAnnotation(c);s.classList.remove(this.editor.renderer.keyboardFocusClassName),s.blur()},a.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)||this.$isCustomWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$isFoldWidgetVisible(c)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)||this.$isCustomWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$isFoldWidgetVisible(c)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$findClosestNumber=function(c,s,i){return c===null?s:s===null||Math.abs(i-c)<=Math.abs(i-s)?c:s},a.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var s=this.$findNearestAnnotation(this.activeRowIndex);if(s==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(i===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$isCustomWidgetVisible(i)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},a.prototype.$rowIndexToRow=function(c){var s=this.lines.get(c);return s?s.row:null},a.prototype.$rowToRowIndex=function(c){for(var s=0;s<this.lines.getLength();s++){var i=this.lines.get(s);if(i.row==c)return s}return null},a})();v.GutterKeyboardHandler=y;var f=(function(){function a(c,s){this.gutterKeyboardHandler=s,this.domEvent=c}return a.prototype.getKey=function(){return E.keyCodeToString(this.domEvent.keyCode)},a.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},a.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},a})();v.GutterKeyboardEvent=f}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(m,v,R){var E=this&&this.__values||function(M){var L=typeof Symbol=="function"&&Symbol.iterator,D=L&&M[L],z=0;if(D)return D.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&z>=M.length&&(M=void 0),{value:M&&M[z++],done:!M}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/lang"),c=m("./lib/useragent"),s=m("./keyboard/textinput").TextInput,i=m("./mouse/mouse_handler").MouseHandler,n=m("./mouse/fold_handler").FoldHandler,r=m("./keyboard/keybinding").KeyBinding,l=m("./edit_session").EditSession,u=m("./search").Search,o=m("./range").Range,d=m("./lib/event_emitter").EventEmitter,g=m("./commands/command_manager").CommandManager,x=m("./commands/default_commands").commands,S=m("./config"),w=m("./token_iterator").TokenIterator,b=m("./keyboard/gutter_handler").GutterKeyboardHandler,k=m("./config").nls,A=m("./clipboard"),T=m("./lib/keys"),j=m("./lib/event"),F=m("./tooltip").HoverTooltip,N=(function(){function M(L,D,z){this.id="editor"+ ++M.$uid,this.session,this.$toDestroy=[];var B=L.getContainerElement();this.container=B,this.renderer=L,this.commands=new g(c.isMac?"mac":"win",x),typeof document=="object"&&(this.textInput=new s(L.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new n(this)),this.keyBinding=new r(this),this.$search=new u().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(P,U){U._$emitInputEvent.schedule(31)}),this.setSession(D||z&&z.session||new l("")),S.resetOptions(this),z&&this.setOptions(z),S._signal("editor",this)}return M.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},M.prototype.startOperation=function(L){this.session.startOperation(L)},M.prototype.endOperation=function(L){this.session.endOperation(L)},M.prototype.onStartOperation=function(L){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,L||(this.previousCommand=null)},M.prototype.onEndOperation=function(L){if(this.curOp&&this.session){if(L&&L.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var D=this.curOp.command,z=D&&D.scrollIntoView;if(z){switch(z){case"center-animate":z="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var B=this.selection.getRange(),P=this.renderer.layerConfig;(B.start.row>=P.lastRow||B.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}z=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},M.prototype.$historyTracker=function(L){if(this.$mergeUndoDeltas){var D=this.prevOp,z=this.$mergeableCommands,B=D.command&&L.command.name==D.command.name;if(L.command.name=="insertstring"){var P=L.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),B=B&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(D.args)),this.mergeNextCommand=!0}else B=B&&z.indexOf(L.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(B=!1),B?this.session.mergeUndoDeltas=!0:z.indexOf(L.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},M.prototype.setKeyboardHandler=function(L,D){if(L&&typeof L=="string"&&L!="ace"){this.$keybindingId=L;var z=this;S.loadModule(["keybinding",L],function(B){z.$keybindingId==L&&z.keyBinding.setKeyboardHandler(B&&B.handler),D&&D()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(L),D&&D()},M.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},M.prototype.setSession=function(L){if(this.session!=L){this.curOp&&this.endOperation(),this.curOp={};var D=this.session;if(D){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var z=this.session.getSelection();z.off("changeCursor",this.$onCursorChange),z.off("changeSelection",this.$onSelectionChange)}this.session=L,L?(this.$onDocumentChange=this.onDocumentChange.bind(this),L.on("change",this.$onDocumentChange),this.renderer.setSession(L),this.$onChangeMode=this.onChangeMode.bind(this),L.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),L.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),L.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),L.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),L.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),L.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=L.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(L)),this._signal("changeSession",{session:L,oldSession:D}),this.curOp=null,D&&D._signal("changeEditor",{oldEditor:this}),D&&(D.$editor=null),L&&L._signal("changeEditor",{editor:this}),L&&(L.$editor=this),L&&!L.destroyed&&L.bgTokenizer.scheduleStart()}},M.prototype.getSession=function(){return this.session},M.prototype.setValue=function(L,D){return this.session.doc.setValue(L),D?D==1?this.navigateFileEnd():D==-1&&this.navigateFileStart():this.selectAll(),L},M.prototype.getValue=function(){return this.session.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.resize=function(L){this.renderer.onResize(L)},M.prototype.setTheme=function(L,D){this.renderer.setTheme(L,D)},M.prototype.getTheme=function(){return this.renderer.getTheme()},M.prototype.setStyle=function(L,D){this.renderer.setStyle(L,D)},M.prototype.unsetStyle=function(L){this.renderer.unsetStyle(L)},M.prototype.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container).fontSize},M.prototype.setFontSize=function(L){this.setOption("fontSize",L)},M.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var L=this;this.$highlightPending=!0,setTimeout(function(){L.$highlightPending=!1;var D=L.session;if(!(!D||D.destroyed)){D.$bracketHighlight&&(D.$bracketHighlight.markerIds.forEach(function(q){D.removeMarker(q)}),D.$bracketHighlight=null);var z=L.getCursorPosition(),B=L.getKeyboardHandler(),P=B&&B.$getDirectionForHighlight&&B.$getDirectionForHighlight(L),U=D.getMatchingBracketRanges(z,P);if(!U){var W=new w(D,z.row,z.column),K=W.getCurrentToken();if(K&&/\b(?:tag-open|tag-name)/.test(K.type)){var Y=D.getMatchingTags(z);Y&&(U=[Y.openTagName.isEmpty()?Y.openTag:Y.openTagName,Y.closeTagName.isEmpty()?Y.closeTag:Y.closeTagName])}}if(!U&&D.$mode.getMatching&&(U=D.$mode.getMatching(L.session)),!U){L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide();return}var X="ace_bracket";Array.isArray(U)?U.length==1&&(X="ace_error_bracket"):U=[U],U.length==2&&(o.comparePoints(U[0].end,U[1].start)==0?U=[o.fromPoints(U[0].start,U[1].end)]:o.comparePoints(U[0].start,U[1].end)==0&&(U=[o.fromPoints(U[1].start,U[0].end)])),D.$bracketHighlight={ranges:U,markerIds:U.map(function(q){return D.addMarker(q,X,"text")})},L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide()}},50)}},M.prototype.focus=function(){this.textInput.focus()},M.prototype.isFocused=function(){return this.textInput.isFocused()},M.prototype.blur=function(){this.textInput.blur()},M.prototype.onFocus=function(L){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",L))},M.prototype.onBlur=function(L){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",L))},M.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},M.prototype.onDocumentChange=function(L){var D=this.session.$useWrapMode,z=L.start.row==L.end.row?L.end.row:1/0;this.renderer.updateLines(L.start.row,z,D),this._signal("change",L),this.$cursorChange()},M.prototype.onTokenizerUpdate=function(L){var D=L.data;this.renderer.updateLines(D.first,D.last)},M.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},M.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},M.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},M.prototype.$updateHighlightActiveLine=function(){var L=this.getSession(),D;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(D=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(D=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(D=!1)),L.$highlightLineMarker&&!D)L.removeMarker(L.$highlightLineMarker.id),L.$highlightLineMarker=null;else if(!L.$highlightLineMarker&&D){var z=new o(D.row,D.column,D.row,1/0);z.id=L.addMarker(z,"ace_active-line","screenLine"),L.$highlightLineMarker=z}else D&&(L.$highlightLineMarker.start.row=D.row,L.$highlightLineMarker.end.row=D.row,L.$highlightLineMarker.start.column=D.column,L._signal("changeBackMarker"))},M.prototype.onSelectionChange=function(L){var D=this.session;if(D.$selectionMarker&&D.removeMarker(D.$selectionMarker),D.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var z=this.selection.getRange(),B=this.getSelectionStyle();D.$selectionMarker=D.addMarker(z,"ace_selection",B)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},M.prototype.$getSelectionHighLightRegexp=function(){var L=this.session,D=this.getSelectionRange();if(!(D.isEmpty()||D.isMultiLine())){var z=D.start.column,B=D.end.column,P=L.getLine(D.start.row),U=P.substring(z,B);if(!(U.length>5e3||!/[\w\d]/.test(U))){var W=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:U}),K=P.substring(z-1,B+1);if(W.test(K))return W}}},M.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},M.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},M.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},M.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},M.prototype.onChangeMode=function(L){this.renderer.updateText(),this._emit("changeMode",L)},M.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},M.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},M.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},M.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},M.prototype.getCopyText=function(){var L=this.getSelectedText(),D=this.session.doc.getNewLineCharacter(),z=!1;if(!L&&this.$copyWithEmptySelection){z=!0;for(var B=this.selection.getAllRanges(),P=0;P<B.length;P++){var U=B[P];P&&B[P-1].start.row==U.start.row||(L+=this.session.getLine(U.start.row)+D)}}var W={text:L};return this._signal("copy",W),A.lineMode=z?W.text:!1,W.text},M.prototype.onCopy=function(){this.commands.exec("copy",this)},M.prototype.onCut=function(){this.commands.exec("cut",this)},M.prototype.onPaste=function(L,D){var z={text:L,event:D};this.commands.exec("paste",this,z)},M.prototype.$handlePaste=function(L){typeof L=="string"&&(L={text:L}),this._signal("paste",L);var D=L.text,z=D===A.lineMode,B=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)z?B.insert({row:this.selection.lead.row,column:0},D):this.insert(D);else if(z)this.selection.rangeList.ranges.forEach(function(X){B.insert({row:X.start.row,column:0},D)});else{var P=D.split(/\r\n|\r|\n/),U=this.selection.rangeList.ranges,W=P.length==2&&(!P[0]||!P[1]);if(P.length!=U.length||W)return this.commands.exec("insertstring",this,D);for(var K=U.length;K--;){var Y=U[K];Y.isEmpty()||B.remove(Y),B.insert(Y.start,P[K])}}},M.prototype.execCommand=function(L,D){return this.commands.exec(L,this,D)},M.prototype.insert=function(L,D){var z=this.session,B=z.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!D){var U=B.transformAction(z.getState(P.row),"insertion",this,z,L);U&&(L!==U.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),L=U.text)}if(L=="	"&&(L=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&L.indexOf(`
`)==-1){var W=o.fromPoints(P,P);W.end.column+=L.length,this.session.remove(W)}}else{var W=this.getSelectionRange();P=this.session.remove(W),this.clearSelection()}if(L==`
`||L==`\r
`){var q=z.getLine(P.row);if(P.column>q.search(/\S|$/)){var K=q.substr(P.column).search(/\S|$/);z.doc.removeInLine(P.row,P.column,P.column+K)}}this.clearSelection();var Y=P.column,X=z.getState(P.row),q=z.getLine(P.row),J=B.checkOutdent(X,q,L);if(z.insert(P,L),U&&U.selection&&(U.selection.length==2?this.selection.setSelectionRange(new o(P.row,Y+U.selection[0],P.row,Y+U.selection[1])):this.selection.setSelectionRange(new o(P.row+U.selection[0],U.selection[1],P.row+U.selection[2],U.selection[3]))),this.$enableAutoIndent){if(z.getDocument().isNewLine(L)){var V=B.getNextLineIndent(X,q.slice(0,P.column),z.getTabString());z.insert({row:P.row+1,column:0},V)}J&&B.autoOutdent(X,z,P.row)}},M.prototype.autoIndent=function(){for(var L=this.session,D=L.getMode(),z=this.selection.isEmpty()?[new o(0,0,L.doc.getLength()-1,0)]:this.selection.getAllRanges(),B="",P="",U="",W=L.getTabString(),K=0;K<z.length;K++)for(var Y=z[K].start.row,X=z[K].end.row,q=Y;q<=X;q++){q>0&&(B=L.getState(q-1),P=L.getLine(q-1),U=D.getNextLineIndent(B,P,W));var J=L.getLine(q),V=D.$getIndent(J);if(U!==V){if(V.length>0){var Q=new o(q,0,q,V.length);L.remove(Q)}U.length>0&&L.insert({row:q,column:0},U)}D.autoOutdent(B,L,q)}},M.prototype.onTextInput=function(L,D){if(!D)return this.keyBinding.onTextInput(L);this.startOperation({command:{name:"insertstring"}});var z=this.applyComposition.bind(this,L,D);this.selection.rangeCount?this.forEachSelection(z):z(),this.endOperation()},M.prototype.applyComposition=function(L,D){if(D.extendLeft||D.extendRight){var z=this.selection.getRange();z.start.column-=D.extendLeft,z.end.column+=D.extendRight,z.start.column<0&&(z.start.row--,z.start.column+=this.session.getLine(z.start.row).length+1),this.selection.setRange(z),!L&&!z.isEmpty()&&this.remove()}if((L||!this.selection.isEmpty())&&this.insert(L,!0),D.restoreStart||D.restoreEnd){var z=this.selection.getRange();z.start.column-=D.restoreStart,z.end.column-=D.restoreEnd,this.selection.setRange(z)}},M.prototype.onCommandKey=function(L,D,z){return this.keyBinding.onCommandKey(L,D,z)},M.prototype.setOverwrite=function(L){this.session.setOverwrite(L)},M.prototype.getOverwrite=function(){return this.session.getOverwrite()},M.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},M.prototype.setScrollSpeed=function(L){this.setOption("scrollSpeed",L)},M.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},M.prototype.setDragDelay=function(L){this.setOption("dragDelay",L)},M.prototype.getDragDelay=function(){return this.getOption("dragDelay")},M.prototype.setSelectionStyle=function(L){this.setOption("selectionStyle",L)},M.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},M.prototype.setHighlightActiveLine=function(L){this.setOption("highlightActiveLine",L)},M.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},M.prototype.setHighlightGutterLine=function(L){this.setOption("highlightGutterLine",L)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.setHighlightSelectedWord=function(L){this.setOption("highlightSelectedWord",L)},M.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},M.prototype.setAnimatedScroll=function(L){this.renderer.setAnimatedScroll(L)},M.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},M.prototype.setShowInvisibles=function(L){this.renderer.setShowInvisibles(L)},M.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},M.prototype.setDisplayIndentGuides=function(L){this.renderer.setDisplayIndentGuides(L)},M.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},M.prototype.setHighlightIndentGuides=function(L){this.renderer.setHighlightIndentGuides(L)},M.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},M.prototype.setShowPrintMargin=function(L){this.renderer.setShowPrintMargin(L)},M.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},M.prototype.setPrintMarginColumn=function(L){this.renderer.setPrintMarginColumn(L)},M.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},M.prototype.setReadOnly=function(L){this.setOption("readOnly",L)},M.prototype.getReadOnly=function(){return this.getOption("readOnly")},M.prototype.setBehavioursEnabled=function(L){this.setOption("behavioursEnabled",L)},M.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},M.prototype.setWrapBehavioursEnabled=function(L){this.setOption("wrapBehavioursEnabled",L)},M.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},M.prototype.setShowFoldWidgets=function(L){this.setOption("showFoldWidgets",L)},M.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},M.prototype.setFadeFoldWidgets=function(L){this.setOption("fadeFoldWidgets",L)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.remove=function(L){this.selection.isEmpty()&&(L=="left"?this.selection.selectLeft():this.selection.selectRight());var D=this.getSelectionRange();if(this.getBehavioursEnabled()){var z=this.session,B=z.getState(D.start.row),P=z.getMode().transformAction(B,"deletion",this,z,D);if(D.end.column===0){var U=z.getTextRange(D);if(U[U.length-1]==`
`){var W=z.getLine(D.end.row);/^\s+$/.test(W)&&(D.end.column=W.length)}}P&&(D=P)}this.session.remove(D),this.clearSelection()},M.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var L=this.getSelectionRange();L.start.column==L.end.column&&L.start.row==L.end.row&&(L.end.column=0,L.end.row++),this.session.remove(L),this.clearSelection()},M.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var L=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(L)},M.prototype.setGhostText=function(L,D){this.renderer.setGhostText(L,D)},M.prototype.removeGhostText=function(){this.renderer.removeGhostText()},M.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var L=this.getCursorPosition(),D=L.column;if(D!==0){var z=this.session.getLine(L.row),B,P;D<z.length?(B=z.charAt(D)+z.charAt(D-1),P=new o(L.row,D-1,L.row,D+1)):(B=z.charAt(D-1)+z.charAt(D-2),P=new o(L.row,D-2,L.row,D)),this.session.replace(P,B),this.session.selection.moveToPosition(P.end)}}},M.prototype.toLowerCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var D=this.getSelectionRange(),z=this.session.getTextRange(D);this.session.replace(D,z.toLowerCase()),this.selection.setSelectionRange(L)},M.prototype.toUpperCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var D=this.getSelectionRange(),z=this.session.getTextRange(D);this.session.replace(D,z.toUpperCase()),this.selection.setSelectionRange(L)},M.prototype.indent=function(){var L=this.session,D=this.getSelectionRange();if(D.start.row<D.end.row){var z=this.$getSelectedRows();L.indentRows(z.first,z.last,"	");return}else if(D.start.column<D.end.column){var B=L.getTextRange(D);if(!/^\s+$/.test(B)){var z=this.$getSelectedRows();L.indentRows(z.first,z.last,"	");return}}var P=L.getLine(D.start.row),U=D.start,W=L.getTabSize(),K=L.documentToScreenColumn(U.row,U.column);if(this.session.getUseSoftTabs())var Y=W-K%W,X=a.stringRepeat(" ",Y);else{for(var Y=K%W;P[D.start.column-1]==" "&&Y;)D.start.column--,Y--;this.selection.setSelectionRange(D),X="	"}return this.insert(X)},M.prototype.blockIndent=function(){var L=this.$getSelectedRows();this.session.indentRows(L.first,L.last,"	")},M.prototype.blockOutdent=function(){var L=this.session.getSelection();this.session.outdentRows(L.getRange())},M.prototype.sortLines=function(){for(var L=this.$getSelectedRows(),D=this.session,z=[],B=L.first;B<=L.last;B++)z.push(D.getLine(B));z.sort(function(W,K){return W.toLowerCase()<K.toLowerCase()?-1:W.toLowerCase()>K.toLowerCase()?1:0});for(var P=new o(0,0,0,0),B=L.first;B<=L.last;B++){var U=D.getLine(B);P.start.row=B,P.end.row=B,P.end.column=U.length,D.replace(P,z[B-L.first])}},M.prototype.toggleCommentLines=function(){var L=this.session.getState(this.getCursorPosition().row),D=this.$getSelectedRows();this.session.getMode().toggleCommentLines(L,this.session,D.first,D.last)},M.prototype.toggleBlockComment=function(){var L=this.getCursorPosition(),D=this.session.getState(L.row),z=this.getSelectionRange();this.session.getMode().toggleBlockComment(D,this.session,z,L)},M.prototype.getNumberAt=function(L,D){var z=/[\-]?[0-9]+(?:\.[0-9]+)?/g;z.lastIndex=0;for(var B=this.session.getLine(L);z.lastIndex<D;){var P=z.exec(B);if(P.index<=D&&P.index+P[0].length>=D){var U={value:P[0],start:P.index,end:P.index+P[0].length};return U}}return null},M.prototype.modifyNumber=function(L){var D=this.selection.getCursor().row,z=this.selection.getCursor().column,B=new o(D,z-1,D,z),P=this.session.getTextRange(B);if(!isNaN(parseFloat(P))&&isFinite(P)){var U=this.getNumberAt(D,z);if(U){var W=U.value.indexOf(".")>=0?U.start+U.value.indexOf(".")+1:U.end,K=U.start+U.value.length-W,Y=parseFloat(U.value);Y*=Math.pow(10,K),W!==U.end&&z<W?L*=Math.pow(10,U.end-z-1):L*=Math.pow(10,U.end-z),Y+=L,Y/=Math.pow(10,K);var X=Y.toFixed(K),q=new o(D,U.start,D,U.end);this.session.replace(q,X),this.moveCursorTo(D,Math.max(U.start+1,z+X.length-U.value.length))}}else this.toggleWord()},M.prototype.toggleWord=function(){var L=this.selection.getCursor().row,D=this.selection.getCursor().column;this.selection.selectWord();var z=this.getSelectedText(),B=this.selection.getWordRange().start.column,P=z.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),U=D-B-1;U<0&&(U=0);var W=0,K=0,Y=this;z.match(/[A-Za-z0-9_]+/)&&P.forEach(function(pe,Se){K=W+pe.length,U>=W&&U<=K&&(z=pe,Y.selection.clearSelection(),Y.moveCursorTo(L,W+B),Y.selection.selectTo(L,K+B)),W=K});for(var X=this.$toggleWordPairs,q,J=0;J<X.length;J++)for(var V=X[J],Q=0;Q<=1;Q++){var te=+!Q,ne=z.match(new RegExp("^\\s?_?("+a.escapeRegExp(V[Q])+")\\s?$","i"));if(ne){var me=z.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(ne[1])+")($|\\s)","g"));me&&(q=z.replace(new RegExp(a.escapeRegExp(V[Q]),"i"),function(pe){var Se=V[te];return pe.toUpperCase()==pe?Se=Se.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(Se=Se.substr(0,0)+V[te].charAt(0).toUpperCase()+Se.substr(1)),Se}),this.insert(q),q="")}}},M.prototype.findLinkAt=function(L,D){var z,B,P=this.session.getLine(L),U=P.split(/((?:https?|ftp):\/\/[\S]+)/),W=D;W<0&&(W=0);var K=0,Y=0,X;try{for(var q=E(U),J=q.next();!J.done;J=q.next()){var V=J.value;if(Y=K+V.length,W>=K&&W<=Y&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){X=V.replace(/[\s:.,'";}\]]+$/,"");break}K=Y}}catch(Q){z={error:Q}}finally{try{J&&!J.done&&(B=q.return)&&B.call(q)}finally{if(z)throw z.error}}return X},M.prototype.openLink=function(){var L=this.selection.getCursor(),D=this.findLinkAt(L.row,L.column);return D&&window.open(D,"_blank"),D!=null},M.prototype.removeLines=function(){var L=this.$getSelectedRows();this.session.removeFullLines(L.first,L.last),this.clearSelection()},M.prototype.duplicateSelection=function(){var L=this.selection,D=this.session,z=L.getRange(),B=L.isBackwards();if(z.isEmpty()){var P=z.start.row;D.duplicateLines(P,P)}else{var U=B?z.start:z.end,W=D.insert(U,D.getTextRange(z));z.start=U,z.end=W,L.setSelectionRange(z,B)}},M.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},M.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},M.prototype.moveText=function(L,D,z){return this.session.moveText(L,D,z)},M.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},M.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},M.prototype.$moveLines=function(L,D){var z,B,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var U=P.toOrientedRange();z=this.$getSelectedRows(U),B=this.session.$moveLines(z.first,z.last,D?0:L),D&&L==-1&&(B=0),U.moveBy(B,0),P.fromOrientedRange(U)}else{var W=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var K=0,Y=0,X=W.length,q=0;q<X;q++){var J=q;W[q].moveBy(K,0),z=this.$getSelectedRows(W[q]);for(var V=z.first,Q=z.last;++q<X;){Y&&W[q].moveBy(Y,0);var te=this.$getSelectedRows(W[q]);if(D&&te.first!=Q)break;if(!D&&te.first>Q+1)break;Q=te.last}for(q--,K=this.session.$moveLines(V,Q,D?0:L),D&&L==-1&&(J=q+1);J<=q;)W[J].moveBy(K,0),J++;D||(K=0),Y+=K}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},M.prototype.$getSelectedRows=function(L){return L=(L||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(L.start.row),last:this.session.getRowFoldEnd(L.end.row)}},M.prototype.onCompositionStart=function(L){this.renderer.showComposition(L)},M.prototype.onCompositionUpdate=function(L){this.renderer.setCompositionText(L)},M.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},M.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},M.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},M.prototype.isRowVisible=function(L){return L>=this.getFirstVisibleRow()&&L<=this.getLastVisibleRow()},M.prototype.isRowFullyVisible=function(L){return L>=this.renderer.getFirstFullyVisibleRow()&&L<=this.renderer.getLastFullyVisibleRow()},M.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},M.prototype.$moveByPage=function(L,D){var z=this.renderer,B=this.renderer.layerConfig,P=L*Math.floor(B.height/B.lineHeight);D===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):D===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var U=z.scrollTop;z.scrollBy(0,P*B.lineHeight),D!=null&&z.scrollCursorIntoView(null,.5),z.animateScrolling(U)},M.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},M.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},M.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},M.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},M.prototype.scrollPageDown=function(){this.$moveByPage(1)},M.prototype.scrollPageUp=function(){this.$moveByPage(-1)},M.prototype.scrollToRow=function(L){this.renderer.scrollToRow(L)},M.prototype.scrollToLine=function(L,D,z,B){this.renderer.scrollToLine(L,D,z,B)},M.prototype.centerSelection=function(){var L=this.getSelectionRange(),D={row:Math.floor(L.start.row+(L.end.row-L.start.row)/2),column:Math.floor(L.start.column+(L.end.column-L.start.column)/2)};this.renderer.alignCursor(D,.5)},M.prototype.getCursorPosition=function(){return this.selection.getCursor()},M.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},M.prototype.getSelectionRange=function(){return this.selection.getRange()},M.prototype.selectAll=function(){this.selection.selectAll()},M.prototype.clearSelection=function(){this.selection.clearSelection()},M.prototype.moveCursorTo=function(L,D){this.selection.moveCursorTo(L,D)},M.prototype.moveCursorToPosition=function(L){this.selection.moveCursorToPosition(L)},M.prototype.jumpToMatching=function(L,D){var z=this.getCursorPosition(),B=new w(this.session,z.row,z.column),P=B.getCurrentToken(),U=0;P&&P.type.indexOf("tag-name")!==-1&&(P=B.stepBackward());var W=P||B.stepForward();if(W){var K,Y=!1,X={},q=z.column-W.start,J,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(W.value.match(/[{}()\[\]]/g)){for(;q<W.value.length&&!Y;q++)if(V[W.value[q]])switch(J=V[W.value[q]]+"."+W.type.replace("rparen","lparen"),isNaN(X[J])&&(X[J]=0),W.value[q]){case"(":case"[":case"{":X[J]++;break;case")":case"]":case"}":X[J]--,X[J]===-1&&(K="bracket",Y=!0);break}}else W.type.indexOf("tag-name")!==-1&&(isNaN(X[W.value])&&(X[W.value]=0),P.value==="<"&&U>1?X[W.value]++:P.value==="</"&&X[W.value]--,X[W.value]===-1&&(K="tag",Y=!0));Y||(P=W,U++,W=B.stepForward(),q=0)}while(W&&!Y);if(K){var Q,te;if(K==="bracket")Q=this.session.getBracketRange(z),Q||(Q=new o(B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1,B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1),te=Q.start,(D||te.row===z.row&&Math.abs(te.column-z.column)<2)&&(Q=this.session.getBracketRange(te)));else if(K==="tag"){if(!W||W.type.indexOf("tag-name")===-1)return;if(Q=new o(B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2,B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2),Q.compare(z.row,z.column)===0){var ne=this.session.getMatchingTags(z);ne&&(ne.openTag.contains(z.row,z.column)?(Q=ne.closeTag,te=Q.start):(Q=ne.openTag,ne.closeTag.start.row===z.row&&ne.closeTag.start.column===z.column?te=Q.end:te=Q.start))}te=te||Q.start}te=Q&&Q.cursor||te,te&&(L?Q&&D?this.selection.setRange(Q):Q&&Q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(te.row,te.column):this.selection.moveTo(te.row,te.column))}}},M.prototype.gotoLine=function(L,D,z){this.selection.clearSelection(),this.session.unfold({row:L-1,column:D||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(L-1,D||0),this.isRowFullyVisible(L-1)||this.scrollToLine(L-1,!0,z)},M.prototype.navigateTo=function(L,D){this.selection.moveTo(L,D)},M.prototype.navigateUp=function(L){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var D=this.selection.anchor.getPosition();return this.moveCursorToPosition(D)}this.selection.clearSelection(),this.selection.moveCursorBy(-L||-1,0)},M.prototype.navigateDown=function(L){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var D=this.selection.anchor.getPosition();return this.moveCursorToPosition(D)}this.selection.clearSelection(),this.selection.moveCursorBy(L||1,0)},M.prototype.navigateLeft=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorLeft();else{var D=this.getSelectionRange().start;this.moveCursorToPosition(D)}this.clearSelection()},M.prototype.navigateRight=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorRight();else{var D=this.getSelectionRange().end;this.moveCursorToPosition(D)}this.clearSelection()},M.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},M.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},M.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},M.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},M.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},M.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},M.prototype.replace=function(L,D){D&&this.$search.set(D);var z=this.$search.find(this.session),B=0;return z&&(this.$tryReplace(z,L)&&(B=1),this.selection.setSelectionRange(z),this.renderer.scrollSelectionIntoView(z.start,z.end)),B},M.prototype.replaceAll=function(L,D){D&&this.$search.set(D);var z=this.$search.findAll(this.session),B=0;if(!z.length)return B;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var U=z.length-1;U>=0;--U)this.$tryReplace(z[U],L)&&B++;return this.selection.setSelectionRange(P),B},M.prototype.$tryReplace=function(L,D){var z=this.session.getTextRange(L);return D=this.$search.replace(z,D),D!==null?(L.end=this.session.replace(L,D),L):null},M.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},M.prototype.find=function(L,D,z){D||(D={}),typeof L=="string"||L instanceof RegExp?D.needle=L:typeof L=="object"&&y.mixin(D,L);var B=this.selection.getRange();D.needle==null&&(L=this.session.getTextRange(B)||this.$search.$options.needle,L||(B=this.session.getWordRange(B.start.row,B.start.column),L=this.session.getTextRange(B)),this.$search.set({needle:L})),this.$search.set(D),D.start||this.$search.set({start:B});var P=this.$search.find(this.session);if(D.preventScroll)return P;if(P)return this.revealRange(P,z),P;D.backwards?B.start=B.end:B.end=B.start,this.selection.setRange(B)},M.prototype.findNext=function(L,D){this.find({skipCurrent:!0,backwards:!1},L,D)},M.prototype.findPrevious=function(L,D){this.find(L,{skipCurrent:!0,backwards:!0},D)},M.prototype.revealRange=function(L,D){this.session.unfold(L),this.selection.setSelectionRange(L);var z=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(L.start,L.end,.5),D!==!1&&this.renderer.animateScrolling(z)},M.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(L){L.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},M.prototype.setAutoScrollEditorIntoView=function(L){if(L){var D,z=this,B=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var U=this.on("changeSelection",function(){B=!0}),W=this.renderer.on("beforeRender",function(){B&&(D=z.renderer.container.getBoundingClientRect())}),K=this.renderer.on("afterRender",function(){if(B&&D&&(z.isFocused()||z.searchBox&&z.searchBox.isFocused())){var Y=z.renderer,X=Y.$cursorLayer.$pixelPos,q=Y.layerConfig,J=X.top-q.offset;X.top>=0&&J+D.top<0?B=!0:X.top<q.height&&X.top+D.top+q.lineHeight>window.innerHeight?B=!1:B=null,B!=null&&(P.style.top=J+"px",P.style.left=X.left+"px",P.style.height=q.lineHeight+"px",P.scrollIntoView(B)),B=D=null}});this.setAutoScrollEditorIntoView=function(Y){Y||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",U),this.renderer.off("afterRender",K),this.renderer.off("beforeRender",W))}}},M.prototype.$resetCursorStyle=function(){var L=this.$cursorStyle||"ace",D=this.renderer.$cursorLayer;D&&(D.setSmoothBlinking(/smooth/.test(L)),D.isBlinking=!this.$readOnly&&L!="wide",f.setCssClass(D.element,"ace_slim-cursors",/slim/.test(L)))},M.prototype.prompt=function(L,D,z){var B=this;S.loadModule("ace/ext/prompt",function(P){P.prompt(B,L,D,z)})},M})();N.$uid=0,N.prototype.curOp=null,N.prototype.prevOp={},N.prototype.$mergeableCommands=["backspace","del","insertstring"],N.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],y.implement(N.prototype,d),S.defineOptions(N.prototype,"editor",{selectionStyle:{set:function(M){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:M})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(M){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(M){var L=this;if(this.textInput.setReadOnly(M),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(z){var B=!1;if(z&&z.type=="keydown"){if(z&&z.key&&!z.ctrlKey&&!z.metaKey&&(z.key==" "&&z.preventDefault(),B=z.key.length==1),!B)return}else z&&z.type!=="exec"&&(B=!0);if(B){L.hoverTooltip||(L.hoverTooltip=new F);var P=f.createElement("div");P.textContent=k("editor.tooltip.disable-editing","Editing is disabled"),L.hoverTooltip.isOpen||L.hoverTooltip.showForRange(L,L.getSelectionRange(),P)}else L.hoverTooltip&&L.hoverTooltip.isOpen&&L.hoverTooltip.hide()});var D=this.textInput.getElement();M?(j.addListener(D,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(j.removeListener(D,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(M){this.textInput.setCopyWithEmptySelection(M)},initialValue:!1},cursorStyle:{set:function(M){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(M){this.setAutoScrollEditorIntoView(M)}},keyboardHandler:{set:function(M){this.setKeyboardHandler(M)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(M){this.session.setValue(M)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(M){this.setSession(M)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(M){this.renderer.$gutterLayer.setShowLineNumbers(M),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),M&&this.$relativeLineNumbers?$.attach(this):$.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(M){this.$showLineNumbers&&M?$.attach(this):$.detach(this)}},placeholder:{set:function(M){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var L=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(L&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),f.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!L&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),f.addCssClass(this.container,"ace_hasPlaceholder");var D=f.createElement("div");D.className="ace_placeholder",D.textContent=this.$placeholder||"",this.renderer.placeholderNode=D,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!L&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(M){var L={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(B){B.blur(),B.renderer.scroller.focus()},readOnly:!0},D=function(B){if(B.target==this.renderer.scroller&&B.keyCode===T.enter){B.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},z;M?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(c.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",k("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",k("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",D.bind(this)),this.commands.addCommand(L),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",k("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",k("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),z||(z=new b(this)),z.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",D.bind(this)),this.commands.removeCommand(L),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),z&&z.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(M){this.$textInputAriaLabel=M},initialValue:""},enableMobileMenu:{set:function(M){this.$enableMobileMenu=M},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var $={getText:function(M,L){return(Math.abs(M.selection.lead.row-L)||L+1+(L<9?"":""))+""},getWidth:function(M,L,D){return Math.max(L.toString().length,(D.lastRow+1).toString().length,2)*D.characterWidth},update:function(M,L){L.renderer.$loop.schedule(L.renderer.CHANGE_GUTTER)},attach:function(M){M.renderer.$gutterLayer.$renderer=this,M.on("changeSelection",this.update),this.update(null,M)},detach:function(M){M.renderer.$gutterLayer.$renderer==this&&(M.renderer.$gutterLayer.$renderer=null),M.off("changeSelection",this.update),this.update(null,M)}};v.Editor=N}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a,c){this.element=a,this.canvasHeight=c||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return f.prototype.moveContainer=function(a){E.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},f.prototype.pageChanged=function(a,c){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(c.firstRowScreen*c.lineHeight/this.canvasHeight)},f.prototype.computeLineTop=function(a,c,s){var i=c.firstRowScreen*c.lineHeight,n=Math.floor(i/this.canvasHeight),r=s.documentToScreenRow(a,0)*c.lineHeight;return r-n*this.canvasHeight},f.prototype.computeLineHeight=function(a,c,s){return c.lineHeight*s.getRowLineCount(a)},f.prototype.getLength=function(){return this.cells.length},f.prototype.get=function(a){return this.cells[a]},f.prototype.shift=function(){this.$cacheCell(this.cells.shift())},f.prototype.pop=function(){this.$cacheCell(this.cells.pop())},f.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var c=E.createFragment(this.element),s=0;s<a.length;s++)c.appendChild(a[s].element);this.element.appendChild(c)}else this.cells.push(a),this.element.appendChild(a.element)},f.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var c=E.createFragment(this.element),s=0;s<a.length;s++)c.appendChild(a[s].element);this.element.firstChild?this.element.insertBefore(c,this.element.firstChild):this.element.appendChild(c)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},f.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},f.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},f.prototype.createCell=function(a,c,s,i){var n=this.cellCache.pop();if(!n){var r=E.createElement("div");i&&i(r),this.element.appendChild(r),n={element:r,text:"",row:a}}return n.row=a,n},f})();v.Lines=y}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/oop"),f=m("../lib/lang"),a=m("../lib/event_emitter").EventEmitter,c=m("./lines").Lines,s=m("../config").nls,i=(function(){function r(l){this.$showCursorMarker=null,this.element=E.createElement("div"),this.element.className="ace_layer ace_gutter-layer",l.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new c(this.element),this.$lines.$offsetCoefficient=1}return r.prototype.setSession=function(l){this.session&&this.session.off("change",this.$updateAnnotations),this.session=l,l&&l.on("change",this.$updateAnnotations)},r.prototype.addGutterDecoration=function(l,u){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(l,u)},r.prototype.removeGutterDecoration=function(l,u){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(l,u)},r.prototype.setAnnotations=function(l){this.$annotations=[];for(var u=0;u<l.length;u++){var o=l[u],d=o.row,g=this.$annotations[d];g||(g=this.$annotations[d]={text:[],type:[],displayText:[]});var x=o.text,S=o.text,w=o.type;x=x?f.escapeHTML(x):o.html||"",S=S||o.html||"",g.text.indexOf(x)===-1&&(g.text.push(x),g.type.push(w),g.displayText.push(S));var b=o.className;b?g.className=b:w==="error"?g.className=" ace_error":w==="security"&&!/\bace_error\b/.test(g.className)?g.className=" ace_security":w==="warning"&&!/\bace_(error|security)\b/.test(g.className)?g.className=" ace_warning":w==="info"&&!g.className?g.className=" ace_info":w==="hint"&&!g.className&&(g.className=" ace_hint")}},r.prototype.$updateAnnotations=function(l){if(this.$annotations.length){var u=l.start.row,o=l.end.row-u;if(o!==0)if(l.action=="remove")this.$annotations.splice(u,o+1,null);else{var d=new Array(o+1);d.unshift(u,1),this.$annotations.splice.apply(this.$annotations,d)}}},r.prototype.update=function(l){this.config=l;var u=this.session,o=l.firstRow,d=Math.min(l.lastRow+l.gutterOffset,u.getLength()-1);this.oldLastRow=d,this.config=l,this.$lines.moveContainer(l),this.$updateCursorRow();for(var g=u.getNextFoldLine(o),x=g?g.start.row:1/0,S=null,w=-1,b=o;;){if(b>x&&(b=g.end.row+1,g=u.getNextFoldLine(b,g),x=g?g.start.row:1/0),b>d){for(;this.$lines.getLength()>w+1;)this.$lines.pop();break}S=this.$lines.get(++w),S?S.row=b:(S=this.$lines.createCell(b,l,this.session,n),this.$lines.push(S)),this.$renderCell(S,l,g,b),b++}this._signal("afterRender"),this.$updateGutterWidth(l),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},r.prototype.$updateGutterWidth=function(l){var u=this.session,o=u.gutterRenderer||this.$renderer,d=u.$firstLineNumber,g=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||u.$useWrapMode)&&(g=u.getLength()+d-1);var x=o?o.getWidth(u,g,l):g.toString().length*l.characterWidth,S=this.$padding||this.$computePadding();x+=S.left+S.right,x!==this.gutterWidth&&!isNaN(x)&&(this.gutterWidth=x,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",x))},r.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var l=this.session.selection.getCursor();this.$cursorRow!==l.row&&(this.$cursorRow=l.row)}},r.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var l=this.session.selection.cursor.row;if(this.$cursorRow=l,!(this.$cursorCell&&this.$cursorCell.row==l)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var u=this.$lines.cells;this.$cursorCell=null;for(var o=0;o<u.length;o++){var d=u[o];if(d.row>=this.$cursorRow){if(d.row>this.$cursorRow){var g=this.session.getFoldLine(this.$cursorRow);if(o>0&&g&&g.start.row==u[o-1].row)d=u[o-1];else break}d.element.className="ace_gutter-active-line "+d.element.className,this.$cursorCell=d;break}}}}},r.prototype.$updateCursorMarker=function(){if(this.session){var l=this.session;this.$highlightElement||(this.$highlightElement=E.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var u=l.selection.cursor,o=this.config,d=this.$lines,g=o.firstRowScreen*o.lineHeight,x=Math.floor(g/d.canvasHeight),S=l.documentToScreenRow(u)*o.lineHeight,w=S-x*d.canvasHeight;E.setStyle(this.$highlightElement.style,"height",o.lineHeight+"px"),E.setStyle(this.$highlightElement.style,"top",w+"px")}},r.prototype.scrollLines=function(l){var u=this.config;if(this.config=l,this.$updateCursorRow(),this.$lines.pageChanged(u,l))return this.update(l);this.$lines.moveContainer(l);var o=Math.min(l.lastRow+l.gutterOffset,this.session.getLength()-1),d=this.oldLastRow;if(this.oldLastRow=o,!u||d<l.firstRow)return this.update(l);if(o<u.firstRow)return this.update(l);if(u.firstRow<l.firstRow)for(var g=this.session.getFoldedRowCount(u.firstRow,l.firstRow-1);g>0;g--)this.$lines.shift();if(d>o)for(var g=this.session.getFoldedRowCount(o+1,d);g>0;g--)this.$lines.pop();l.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLines(l,l.firstRow,u.firstRow-1)),o>d&&this.$lines.push(this.$renderLines(l,d+1,o)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(l)},r.prototype.$renderLines=function(l,u,o){for(var d=[],g=u,x=this.session.getNextFoldLine(g),S=x?x.start.row:1/0;g>S&&(g=x.end.row+1,x=this.session.getNextFoldLine(g,x),S=x?x.start.row:1/0),!(g>o);){var w=this.$lines.createCell(g,l,this.session,n);this.$renderCell(w,l,x,g),d.push(w),g++}return d},r.prototype.$renderCell=function(l,u,o,d){var g=l.element,x=this.session,S=g.childNodes[0],w=g.childNodes[1],b=g.childNodes[2],k=g.childNodes[3],A=b.firstChild,T=x.$firstLineNumber,j=x.$breakpoints,F=x.$decorations,N=x.gutterRenderer||this.$renderer,$=this.$showFoldWidgets&&x.foldWidgets,M=o?o.start.row:Number.MAX_VALUE,L=u.lineHeight+"px",D=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",z=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",B=(N?N.getText(x,d):d+T).toString();if(this.$highlightGutterLine&&(d==this.$cursorRow||o&&d<this.$cursorRow&&d>=M&&this.$cursorRow<=o.end.row)&&(D+="ace_gutter-active-line ",this.$cursorCell!=l&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=l)),j[d]&&(D+=j[d]),F[d]&&(D+=F[d]),this.$annotations[d]&&d!==M&&(D+=this.$annotations[d].className),$){var P=$[d];P==null&&(P=$[d]=x.getFoldWidget(d))}if(P){var U="ace_fold-widget ace_"+P,W=P=="start"&&d==M&&d<o.end.row;if(W){U+=" ace_closed";for(var K="",Y=!1,X=d+1;X<=o.end.row;X++)if(this.$annotations[X]){if(this.$annotations[X].className===" ace_error"){Y=!0,K=" ace_error_fold";break}this.$annotations[X].className===" ace_security"?(Y=!0,K=" ace_security_fold"):this.$annotations[X].className===" ace_warning"&&K!==" ace_security_fold"&&(Y=!0,K=" ace_warning_fold")}D+=K}else U+=" ace_open";w.className!=U&&(w.className=U),E.setStyle(w.style,"height",L),E.setStyle(w.style,"display","inline-block"),w.setAttribute("role","button"),w.setAttribute("tabindex","-1");var q=x.getFoldWidgetRange(d);q?w.setAttribute("aria-label",s("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[q.start.row+1,q.end.row+1])):o?w.setAttribute("aria-label",s("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[o.start.row+1,o.end.row+1])):w.setAttribute("aria-label",s("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[d+1])),W?(w.setAttribute("aria-expanded","false"),w.setAttribute("title",s("gutter.code-folding.closed.title","Unfold code"))):(w.setAttribute("aria-expanded","true"),w.setAttribute("title",s("gutter.code-folding.open.title","Fold code")))}else w&&(E.setStyle(w.style,"display","none"),w.setAttribute("tabindex","0"),w.removeAttribute("role"),w.removeAttribute("aria-label"));var J=this.session.$gutterCustomWidgets[d];if(J?this.$addCustomWidget(d,J,l):k&&this.$removeCustomWidget(d,l),Y&&this.$showFoldedAnnotations){b.className="ace_gutter_annotation",A.className=z,A.className+=K,E.setStyle(A.style,"height",L),E.setStyle(b.style,"display","block"),E.setStyle(b.style,"height",L);var V;switch(K){case" ace_error_fold":V=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security_fold":V=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning_fold":V=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break}b.setAttribute("aria-label",V),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else if(this.$annotations[d]){b.className="ace_gutter_annotation",A.className=z,this.$useSvgGutterIcons?A.className+=this.$annotations[d].className:g.classList.add(this.$annotations[d].className.replace(" ","")),E.setStyle(A.style,"height",L),E.setStyle(b.style,"display","block"),E.setStyle(b.style,"height",L);var V;switch(this.$annotations[d].className){case" ace_error":V=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security":V=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning":V=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break;case" ace_info":V=s("gutter.annotation.aria-label.info","Info, read annotations row $0",[B]);break;case" ace_hint":V=s("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[B]);break}b.setAttribute("aria-label",V),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else E.setStyle(b.style,"display","none"),b.removeAttribute("aria-label"),b.removeAttribute("role"),b.setAttribute("tabindex","0");return B!==S.data&&(S.data=B),g.className!=D&&(g.className=D),E.setStyle(l.element.style,"height",this.$lines.computeLineHeight(d,u,x)+"px"),E.setStyle(l.element.style,"top",this.$lines.computeLineTop(d,u,x)+"px"),l.text=B,b.style.display==="none"&&w.style.display==="none"&&!J?l.element.setAttribute("aria-hidden",!0):l.element.setAttribute("aria-hidden",!1),l},r.prototype.setHighlightGutterLine=function(l){this.$highlightGutterLine=l,!l&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},r.prototype.setShowLineNumbers=function(l){this.$renderer=!l&&{getWidth:function(){return 0},getText:function(){return""}}},r.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},r.prototype.setShowFoldWidgets=function(l){l?E.addCssClass(this.element,"ace_folding-enabled"):E.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=l,this.$padding=null},r.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},r.prototype.$hideFoldWidget=function(l,u){var o=u||this.$getGutterCell(l);if(o&&o.element){var d=o.element.childNodes[1];d&&E.setStyle(d.style,"display","none")}},r.prototype.$showFoldWidget=function(l,u){var o=u||this.$getGutterCell(l);if(o&&o.element){var d=o.element.childNodes[1];d&&this.session.foldWidgets&&this.session.foldWidgets[o.row]&&E.setStyle(d.style,"display","inline-block")}},r.prototype.$getGutterCell=function(l){var u=this.$lines.cells,o=0,d=u.length-1;if(!(l<u[0].row||l>u[d].row)){for(;o<=d;){var g=Math.floor((o+d)/2),x=u[g];if(x.row>l)d=g-1;else if(x.row<l)o=g+1;else return x}return x}},r.prototype.$addCustomWidget=function(l,u,o){var d=u.className,g=u.label,x=u.title,S=u.callbacks;this.session.$gutterCustomWidgets[l]={className:d,label:g,title:x,callbacks:S},this.$hideFoldWidget(l,o);var w=o||this.$getGutterCell(l);if(w&&w.element){var b=w.element.querySelector(".ace_custom-widget");b&&b.remove(),b=E.createElement("span"),b.className="ace_custom-widget ".concat(d),b.setAttribute("tabindex","-1"),b.setAttribute("role","button"),b.setAttribute("aria-label",g),b.setAttribute("title",x),E.setStyle(b.style,"display","inline-block"),E.setStyle(b.style,"height","inherit"),S&&S.onClick&&b.addEventListener("click",function(k){S.onClick(k,l),k.stopPropagation()}),w.element.appendChild(b)}},r.prototype.$removeCustomWidget=function(l,u){delete this.session.$gutterCustomWidgets[l],this.$showFoldWidget(l,u);var o=u||this.$getGutterCell(l);if(o&&o.element){var d=o.element.querySelector(".ace_custom-widget");d&&o.element.removeChild(d)}},r.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var l=E.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(l.borderLeftWidth)||0)+(parseInt(l.paddingLeft)||0)+1,this.$padding.right=(parseInt(l.borderRightWidth)||0)+(parseInt(l.paddingRight)||0),this.$padding},r.prototype.getRegion=function(l){var u=this.$padding||this.$computePadding(),o=this.element.getBoundingClientRect();if(l.x<u.left+o.left)return"markers";if(this.$showFoldWidgets&&l.x>o.right-u.right)return"foldWidgets"},r})();i.prototype.$fixedWidth=!1,i.prototype.$highlightGutterLine=!0,i.prototype.$renderer=void 0,i.prototype.$showLineNumbers=!0,i.prototype.$showFoldWidgets=!0,y.implement(i.prototype,a);function n(r){var l=document.createTextNode("");r.appendChild(l);var u=E.createElement("span");r.appendChild(u);var o=E.createElement("span");r.appendChild(o);var d=E.createElement("span");return o.appendChild(d),r}v.Gutter=i}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(m,v,R){var E=m("../range").Range,y=m("../lib/dom"),f=(function(){function c(s){this.element=y.createElement("div"),this.element.className="ace_layer ace_marker-layer",s.appendChild(this.element)}return c.prototype.setPadding=function(s){this.$padding=s},c.prototype.setSession=function(s){this.session=s},c.prototype.setMarkers=function(s){this.markers=s},c.prototype.elt=function(s,i){var n=this.i!=-1&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=i,n.className=s},c.prototype.update=function(s){if(s){this.config=s,this.i=0;var i;for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(i,this,this.session,s);continue}var l=r.range.clipRows(s.firstRow,s.lastRow);if(!l.isEmpty())if(l=l.toScreenRange(this.session),r.renderer){var u=this.$getTop(l.start.row,s),o=this.$padding+l.start.column*s.characterWidth;r.renderer(i,l,o,u,s)}else r.type=="fullLine"?this.drawFullLineMarker(i,l,r.clazz,s):r.type=="screenLine"?this.drawScreenLineMarker(i,l,r.clazz,s):l.isMultiLine()?r.type=="text"?this.drawTextMarker(i,l,r.clazz,s):this.drawMultiLineMarker(i,l,r.clazz,s):this.drawSingleLineMarker(i,l,r.clazz+" ace_start ace_br15",s)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},c.prototype.$getTop=function(s,i){return(s-i.firstRowScreen)*i.lineHeight},c.prototype.drawTextMarker=function(s,i,n,r,l){for(var u=this.session,o=i.start.row,d=i.end.row,g=o,x=0,S=0,w=u.getScreenLastRowColumn(g),b=new E(g,i.start.column,g,S);g<=d;g++)b.start.row=b.end.row=g,b.start.column=g==o?i.start.column:u.getRowWrapIndent(g),b.end.column=w,x=S,S=w,w=g+1<d?u.getScreenLastRowColumn(g+1):g==d?0:i.end.column,this.drawSingleLineMarker(s,b,n+(g==o?" ace_start":"")+" ace_br"+a(g==o||g==o+1&&i.start.column,x<S,S>w,g==d),r,g==d?0:1,l)},c.prototype.drawMultiLineMarker=function(s,i,n,r,l){var u=this.$padding,o=r.lineHeight,d=this.$getTop(i.start.row,r),g=u+i.start.column*r.characterWidth;if(l=l||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var x=i.clone();x.end.row=x.start.row,x.end.column=this.session.getLine(x.start.row).length,this.drawBidiSingleLineMarker(s,x,n+" ace_br1 ace_start",r,null,l)}else this.elt(n+" ace_br1 ace_start","height:"+o+"px;right:"+u+"px;top:"+d+"px;left:"+g+"px;"+(l||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var x=i.clone();x.start.row=x.end.row,x.start.column=0,this.drawBidiSingleLineMarker(s,x,n+" ace_br12",r,null,l)}else{d=this.$getTop(i.end.row,r);var S=i.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+o+"px;width:"+S+"px;top:"+d+"px;left:"+u+"px;"+(l||""))}if(o=(i.end.row-i.start.row-1)*r.lineHeight,!(o<=0)){d=this.$getTop(i.start.row+1,r);var w=(i.start.column?1:0)|(i.end.column?0:8);this.elt(n+(w?" ace_br"+w:""),"height:"+o+"px;right:"+u+"px;top:"+d+"px;left:"+u+"px;"+(l||""))}},c.prototype.drawSingleLineMarker=function(s,i,n,r,l,u){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(s,i,n,r,l,u);var o=r.lineHeight,d=(i.end.column+(l||0)-i.start.column)*r.characterWidth,g=this.$getTop(i.start.row,r),x=this.$padding+i.start.column*r.characterWidth;this.elt(n,"height:"+o+"px;width:"+d+"px;top:"+g+"px;left:"+x+"px;"+(u||""))},c.prototype.drawBidiSingleLineMarker=function(s,i,n,r,l,u){var o=r.lineHeight,d=this.$getTop(i.start.row,r),g=this.$padding,x=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);x.forEach(function(S){this.elt(n,"height:"+o+"px;width:"+(S.width+(l||0))+"px;top:"+d+"px;left:"+(g+S.left)+"px;"+(u||""))},this)},c.prototype.drawFullLineMarker=function(s,i,n,r,l){var u=this.$getTop(i.start.row,r),o=r.lineHeight;i.start.row!=i.end.row&&(o+=this.$getTop(i.end.row,r)-u),this.elt(n,"height:"+o+"px;top:"+u+"px;left:0;right:0;"+(l||""))},c.prototype.drawScreenLineMarker=function(s,i,n,r,l){var u=this.$getTop(i.start.row,r),o=r.lineHeight;this.elt(n,"height:"+o+"px;top:"+u+"px;left:0;right:0;"+(l||""))},c})();f.prototype.$padding=0;function a(c,s,i,n){return(c?1:0)|(s?2:0)|(i?4:0)|(n?8:0)}v.Marker=f}),ace.define("ace/layer/text_util",["require","exports","module"],function(m,v,R){var E=new Set(["text","rparen","lparen"]);v.isTextToken=function(y){return E.has(y)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/dom"),f=m("../lib/lang"),a=m("./lines").Lines,c=m("../lib/event_emitter").EventEmitter,s=m("../config").nls,i=m("./text_util").isTextToken,n=(function(){function r(l){this.dom=y,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",l.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return r.prototype.$updateEolChar=function(){var l=this.session.doc,u=l.getNewLineCharacter()==`
`&&l.getNewLineMode()!="windows",o=u?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=o)return this.EOL_CHAR=o,!0},r.prototype.setPadding=function(l){this.$padding=l,this.element.style.margin="0 "+l+"px"},r.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},r.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},r.prototype.$setFontMetrics=function(l){this.$fontMetrics=l,this.$fontMetrics.on("changeCharacterSize",(function(u){this._signal("changeCharacterSize",u)}).bind(this)),this.$pollSizeChanges()},r.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},r.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},r.prototype.setSession=function(l){this.session=l,l&&this.$computeTabString()},r.prototype.setShowInvisibles=function(l){return this.showInvisibles==l?!1:(this.showInvisibles=l,typeof l=="string"?(this.showSpaces=/tab/i.test(l),this.showTabs=/space/i.test(l),this.showEOL=/eol/i.test(l)):this.showSpaces=this.showTabs=this.showEOL=l,this.$computeTabString(),!0)},r.prototype.setDisplayIndentGuides=function(l){return this.displayIndentGuides==l?!1:(this.displayIndentGuides=l,this.$computeTabString(),!0)},r.prototype.setHighlightIndentGuides=function(l){return this.$highlightIndentGuides===l?!1:(this.$highlightIndentGuides=l,l)},r.prototype.$computeTabString=function(){var l=this.session.getTabSize();this.tabSize=l;for(var u=this.$tabStrings=[0],o=1;o<l+1;o++)if(this.showTabs){var d=this.dom.createElement("span");d.className="ace_invisible ace_invisible_tab",d.textContent=f.stringRepeat(this.TAB_CHAR,o),u.push(d)}else u.push(this.dom.createTextNode(f.stringRepeat(" ",o),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var g="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",S=this.showSpaces?f.stringRepeat(this.SPACE_CHAR,this.tabSize):f.stringRepeat(" ",this.tabSize),w=this.showTabs?" ace_invisible ace_invisible_tab":"",b=this.showTabs?f.stringRepeat(this.TAB_CHAR,this.tabSize):S,d=this.dom.createElement("span");d.className=g+x,d.textContent=S,this.$tabStrings[" "]=d;var d=this.dom.createElement("span");d.className=g+w,d.textContent=b,this.$tabStrings["	"]=d}},r.prototype.updateLines=function(l,u,o){if(this.config.lastRow!=l.lastRow||this.config.firstRow!=l.firstRow)return this.update(l);this.config=l;for(var d=Math.max(u,l.firstRow),g=Math.min(o,l.lastRow),x=this.element.childNodes,S=0,b=l.firstRow;b<d;b++){var k=this.session.getFoldLine(b);if(k)if(k.containsRow(d)){d=k.start.row;break}else b=k.end.row;S++}for(var w=!1,b=d,k=this.session.getNextFoldLine(b),A=k?k.start.row:1/0;b>A&&(b=k.end.row+1,k=this.session.getNextFoldLine(b,k),A=k?k.start.row:1/0),!(b>g);){var T=x[S++];if(T){this.dom.removeChildren(T),this.$renderLine(T,b,b==A?k:!1),w&&(T.style.top=this.$lines.computeLineTop(b,l,this.session)+"px");var j=l.lineHeight*this.session.getRowLength(b)+"px";T.style.height!=j&&(w=!0,T.style.height=j)}b++}if(w)for(;S<this.$lines.cells.length;){var F=this.$lines.cells[S++];F.element.style.top=this.$lines.computeLineTop(F.row,l,this.session)+"px"}},r.prototype.scrollLines=function(l){var u=this.config;if(this.config=l,this.$lines.pageChanged(u,l))return this.update(l);this.$lines.moveContainer(l);var o=l.lastRow,d=u?u.lastRow:-1;if(!u||d<l.firstRow)return this.update(l);if(o<u.firstRow)return this.update(l);if(!u||u.lastRow<l.firstRow)return this.update(l);if(l.lastRow<u.firstRow)return this.update(l);if(u.firstRow<l.firstRow)for(var g=this.session.getFoldedRowCount(u.firstRow,l.firstRow-1);g>0;g--)this.$lines.shift();if(u.lastRow>l.lastRow)for(var g=this.session.getFoldedRowCount(l.lastRow+1,u.lastRow);g>0;g--)this.$lines.pop();l.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLinesFragment(l,l.firstRow,u.firstRow-1)),l.lastRow>u.lastRow&&this.$lines.push(this.$renderLinesFragment(l,u.lastRow+1,l.lastRow)),this.$highlightIndentGuide()},r.prototype.$renderLinesFragment=function(l,u,o){for(var d=[],g=u,x=this.session.getNextFoldLine(g),S=x?x.start.row:1/0;g>S&&(g=x.end.row+1,x=this.session.getNextFoldLine(g,x),S=x?x.start.row:1/0),!(g>o);){var w=this.$lines.createCell(g,l,this.session),b=w.element;this.dom.removeChildren(b),y.setStyle(b.style,"height",this.$lines.computeLineHeight(g,l,this.session)+"px"),y.setStyle(b.style,"top",this.$lines.computeLineTop(g,l,this.session)+"px"),this.$renderLine(b,g,g==S?x:!1),this.$useLineGroups()?b.className="ace_line_group":b.className="ace_line",d.push(w),g++}return d},r.prototype.update=function(l){this.$lines.moveContainer(l),this.config=l;for(var u=l.firstRow,o=l.lastRow,d=this.$lines;d.getLength();)d.pop();d.push(this.$renderLinesFragment(l,u,o))},r.prototype.$renderToken=function(l,u,o,d){for(var g=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,S=this.dom.createFragment(this.element),w,b=0;w=x.exec(d);){var k=w[1],A=w[2],T=w[3],j=w[4],F=w[5];if(!(!g.showSpaces&&A)){var N=b!=w.index?d.slice(b,w.index):"";if(b=w.index+w[0].length,N&&S.appendChild(this.dom.createTextNode(N,this.element)),k){var $=g.session.getScreenTabSize(u+w.index),M=g.$tabStrings[$].cloneNode(!0);M.charCount=1,S.appendChild(M),u+=$-1}else if(A)if(g.showSpaces){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space",L.textContent=f.stringRepeat(g.SPACE_CHAR,A.length),S.appendChild(L)}else S.appendChild(this.dom.createTextNode(A,this.element));else if(T){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space ace_invalid",L.textContent=f.stringRepeat(g.SPACE_CHAR,T.length),S.appendChild(L)}else if(j){u+=1;var L=this.dom.createElement("span");L.style.width=g.config.characterWidth*2+"px",L.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",L.textContent=g.showSpaces?g.SPACE_CHAR:j,S.appendChild(L)}else if(F){u+=1;var L=this.dom.createElement("span");L.style.width=g.config.characterWidth*2+"px",L.className="ace_cjk",L.textContent=F,S.appendChild(L)}}}if(S.appendChild(this.dom.createTextNode(b?d.slice(b):d,this.element)),i(o.type))l.appendChild(S);else{var D="ace_"+o.type.replace(/\./g," ace_"),L=this.dom.createElement("span");o.type=="fold"&&(L.style.width=o.value.length*this.config.characterWidth+"px",L.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),L.className=D,L.appendChild(S),l.appendChild(L)}return u+d.length},r.prototype.renderIndentGuide=function(l,u,o){var d=u.search(this.$indentGuideRe);if(d<=0||d>=o)return u;if(u[0]==" "){d-=d%this.tabSize;for(var g=d/this.tabSize,x=0;x<g;x++)l.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(d)}else if(u[0]=="	"){for(var x=0;x<d;x++)l.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(d)}return this.$highlightIndentGuide(),u},r.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var l=this.session.doc.$lines;if(l){var u=this.session.selection.getCursor(),o=/^\s*/.exec(this.session.doc.getLine(u.row))[0].length,d=Math.floor(o/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:d,start:u.row};var g=this.session.$bracketHighlight;if(g){for(var x=this.session.$bracketHighlight.ranges,S=0;S<x.length;S++)if(u.row!==x[S].start.row){this.$highlightIndentGuideMarker.end=x[S].start.row+1,u.row>x[S].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&l[u.row]!==""&&u.column===l[u.row].length){this.$highlightIndentGuideMarker.dir=1;for(var S=u.row+1;S<l.length;S++){var w=l[S],b=/^\s*/.exec(w)[0].length;if(w!==""&&(this.$highlightIndentGuideMarker.end=S,b<=o))break}}this.$renderHighlightIndentGuide()}}},r.prototype.$clearActiveIndentGuide=function(){for(var l=this.element.querySelectorAll(".ace_indent-guide-active"),u=0;u<l.length;u++)l[u].classList.remove("ace_indent-guide-active")},r.prototype.$setIndentGuideActive=function(l,u){var o=this.session.doc.getLine(l.row);if(o!==""){var d=l.element;if(l.element.classList&&l.element.classList.contains("ace_line_group"))if(l.element.childNodes.length>0)d=l.element.childNodes[0];else return;var g=d.childNodes;if(g){var x=g[u-1];x&&x.classList&&x.classList.contains("ace_indent-guide")&&x.classList.add("ace_indent-guide-active")}}},r.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var l=this.$lines.cells;this.$clearActiveIndentGuide();var u=this.$highlightIndentGuideMarker.indentLevel;if(u!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var o=0;o<l.length;o++){var d=l[o];if(this.$highlightIndentGuideMarker.end&&d.row>=this.$highlightIndentGuideMarker.start+1){if(d.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,u)}}else for(var o=l.length-1;o>=0;o--){var d=l[o];if(this.$highlightIndentGuideMarker.end&&d.row<this.$highlightIndentGuideMarker.start){if(d.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,u)}}}},r.prototype.$createLineElement=function(l){var u=this.dom.createElement("div");return u.className="ace_line",u.style.height=this.config.lineHeight+"px",u},r.prototype.$renderWrappedLine=function(l,u,o){var d=0,g=0,x=o[0],S=0,w=this.$createLineElement();l.appendChild(w);for(var b=0;b<u.length;b++){var k=u[b],A=k.value;if(b==0&&this.displayIndentGuides){if(d=A.length,A=this.renderIndentGuide(w,A,x),!A)continue;d-=A.length}if(d+A.length<x)S=this.$renderToken(w,S,k,A),d+=A.length;else{for(;d+A.length>=x;){S=this.$renderToken(w,S,k,A.substring(0,x-d)),A=A.substring(x-d),d=x,w=this.$createLineElement(),l.appendChild(w);var T=this.dom.createTextNode(f.stringRepeat("",o.indent),this.element);T.charCount=0,w.appendChild(T),g++,S=0,x=o[g]||Number.MAX_VALUE}A.length!=0&&(d+=A.length,S=this.$renderToken(w,S,k,A))}}o[o.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(w,S,null,"",!0)},r.prototype.$renderSimpleLine=function(l,u){for(var o=0,d=0;d<u.length;d++){var g=u[d],x=g.value;if(!(d==0&&this.displayIndentGuides&&(x=this.renderIndentGuide(l,x),!x))){if(o+x.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(l,o,g,x);o=this.$renderToken(l,o,g,x)}}},r.prototype.$renderOverflowMessage=function(l,u,o,d,g){o&&this.$renderToken(l,u,o,d.slice(0,this.MAX_LINE_LENGTH-u));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=g?"<hide>":"<click to see more...>",l.appendChild(x)},r.prototype.$renderLine=function(l,u,o){if(!o&&o!=!1&&(o=this.session.getFoldLine(u)),o)var d=this.$getFoldLineTokens(u,o);else var d=this.session.getTokens(u);var g=l;if(d.length){var x=this.session.getRowSplitData(u);if(x&&x.length){this.$renderWrappedLine(l,d,x);var g=l.lastChild}else{var g=l;this.$useLineGroups()&&(g=this.$createLineElement(),l.appendChild(g)),this.$renderSimpleLine(g,d)}}else this.$useLineGroups()&&(g=this.$createLineElement(),l.appendChild(g));if(this.showEOL&&g){o&&(u=o.end.row);var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_eol",S.textContent=u==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,g.appendChild(S)}},r.prototype.$getFoldLineTokens=function(l,u){var o=this.session,d=[];function g(S,w,b){for(var k=0,A=0;A+S[k].value.length<w;)if(A+=S[k].value.length,k++,k==S.length)return;if(A!=w){var T=S[k].value.substring(w-A);T.length>b-w&&(T=T.substring(0,b-w)),d.push({type:S[k].type,value:T}),A=w+T.length,k+=1}for(;A<b&&k<S.length;){var T=S[k].value;T.length+A>b?d.push({type:S[k].type,value:T.substring(0,b-A)}):d.push(S[k]),A+=T.length,k+=1}}var x=o.getTokens(l);return u.walk(function(S,w,b,k,A){S!=null?d.push({type:"fold",value:S}):(A&&(x=o.getTokens(w)),x.length&&g(x,k,b))},u.end.row,this.session.getLine(u.end.row).length),d},r.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},r})();n.prototype.EOF_CHAR="",n.prototype.EOL_CHAR_LF="",n.prototype.EOL_CHAR_CRLF="",n.prototype.EOL_CHAR=n.prototype.EOL_CHAR_LF,n.prototype.TAB_CHAR="",n.prototype.SPACE_CHAR="",n.prototype.$padding=0,n.prototype.MAX_LINE_LENGTH=1e4,n.prototype.showInvisibles=!1,n.prototype.showSpaces=!1,n.prototype.showTabs=!1,n.prototype.showEOL=!1,n.prototype.displayIndentGuides=!0,n.prototype.$highlightIndentGuides=!0,n.prototype.$tabStrings=[],n.prototype.destroy={},n.prototype.onChangeTabSize=n.prototype.$computeTabString,E.implement(n.prototype,c),v.Text=n}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(m,v,R){var E=m("../lib/dom"),y=(function(){function f(a){this.element=E.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),E.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return f.prototype.$updateOpacity=function(a){for(var c=this.cursors,s=c.length;s--;)E.setStyle(c[s].style,"opacity",a?"":"0")},f.prototype.$startCssAnimation=function(){for(var a=this.cursors,c=a.length;c--;)a[c].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&E.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},f.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,E.removeCssClass(this.element,"ace_animate-blinking")},f.prototype.setPadding=function(a){this.$padding=a},f.prototype.setSession=function(a){this.session=a},f.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},f.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},f.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,E.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},f.prototype.addCursor=function(){var a=E.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},f.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},f.prototype.hideCursor=function(){this.isVisible=!1,E.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.showCursor=function(){this.isVisible=!0,E.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,E.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&E.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),E.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var c=(function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){a(!0),c()},this.blinkInterval),c()}},f.prototype.getPixelPosition=function(a,c){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(a),i=this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,a.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),n=(s.row-(c?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:n}},f.prototype.isCursorInView=function(a,c){return a.top>=0&&a.top<c.maxHeight},f.prototype.update=function(a){this.config=a;var c=this.session.$selectionMarkers,s=0,i=0;(c===void 0||c.length===0)&&(c=[{cursor:null}]);for(var s=0,n=c.length;s<n;s++){var r=this.getPixelPosition(c[s].cursor,!0);if(!((r.top>a.height+a.offset||r.top<0)&&s>1)){var l=this.cursors[i++]||this.addCursor(),u=l.style;this.drawCursor?this.drawCursor(l,r,a,c[s],this.session):this.isCursorInView(r,a)?(E.setStyle(u,"display","block"),E.translate(l,r.left,r.top),E.setStyle(u,"width",Math.round(a.characterWidth)+"px"),E.setStyle(u,"height",a.lineHeight+"px")):E.setStyle(u,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=r,this.restartTimer()},f.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?E.addCssClass(this.element,"ace_overwrite-cursors"):E.removeCssClass(this.element,"ace_overwrite-cursors"))},f.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},f})();y.prototype.$padding=0,y.prototype.drawCursor=null,v.Cursor=y}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var l=function(u,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(d[x]=g[x])},l(u,o)};return function(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(u,o);function d(){this.constructor=u}u.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}})(),y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/event"),c=m("./lib/event_emitter").EventEmitter,s=32768,i=(function(){function l(u,o){this.element=f.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+o,this.inner=f.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),u.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return l.prototype.setVisible=function(u){this.element.style.display=u?"":"none",this.isVisible=u,this.coeff=1},l})();y.implement(i.prototype,c);var n=(function(l){E(u,l);function u(o,d){var g=l.call(this,o,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,d.$scrollbarWidth=g.width=f.scrollbarWidth(o.ownerDocument),g.inner.style.width=g.element.style.width=(g.width||15)+5+"px",g.$minWidth=0,g}return u.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var o=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-o)/(this.coeff-o)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},u.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},u.prototype.setHeight=function(o){this.element.style.height=o+"px"},u.prototype.setScrollHeight=function(o){this.scrollHeight=o,o>s?(this.coeff=s/o,o=s):this.coeff!=1&&(this.coeff=1),this.inner.style.height=o+"px"},u.prototype.setScrollTop=function(o){this.scrollTop!=o&&(this.skipEvent=!0,this.scrollTop=o,this.element.scrollTop=o*this.coeff)},u})(i);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var r=(function(l){E(u,l);function u(o,d){var g=l.call(this,o,"-h")||this;return g.scrollLeft=0,g.height=d.$scrollbarWidth,g.inner.style.height=g.element.style.height=(g.height||15)+5+"px",g}return u.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},u.prototype.getHeight=function(){return this.isVisible?this.height:0},u.prototype.setWidth=function(o){this.element.style.width=o+"px"},u.prototype.setInnerWidth=function(o){this.inner.style.width=o+"px"},u.prototype.setScrollWidth=function(o){this.inner.style.width=o+"px"},u.prototype.setScrollLeft=function(o){this.scrollLeft!=o&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=o)},u})(i);v.ScrollBar=n,v.ScrollBarV=n,v.ScrollBarH=r,v.VScrollBar=n,v.HScrollBar=r}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(m,v,R){var E=this&&this.__extends||(function(){var r=function(l,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,d){o.__proto__=d}||function(o,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(o[g]=d[g])},r(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");r(l,u);function o(){this.constructor=l}l.prototype=u===null?Object.create(u):(o.prototype=u.prototype,new o)}})(),y=m("./lib/oop"),f=m("./lib/dom"),a=m("./lib/event"),c=m("./lib/event_emitter").EventEmitter;f.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var s=(function(){function r(l,u){this.element=f.createElement("div"),this.element.className="ace_sb"+u,this.inner=f.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,l.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return r.prototype.setVisible=function(l){this.element.style.display=l?"":"none",this.isVisible=l,this.coeff=1},r})();y.implement(s.prototype,c);var i=(function(r){E(l,r);function l(u,o){var d=r.call(this,u,"-v")||this;return d.scrollTop=0,d.scrollHeight=0,d.parent=u,d.width=d.VScrollWidth,d.renderer=o,d.inner.style.width=d.element.style.width=(d.width||15)+"px",d.$minWidth=0,d}return l.prototype.onMouseDown=function(u,o){if(u==="mousedown"&&!(a.getButton(o)!==0||o.detail===2)){if(o.target===this.inner){var d=this,g=o.clientY,x=function(j){g=j.clientY},S=function(){clearInterval(A)},w=o.clientY,b=this.thumbTop,k=function(){if(g!==void 0){var j=d.scrollTopFromThumbTop(b+g-w);j!==d.scrollTop&&d._emit("scroll",{data:j})}};a.capture(this.inner,x,S);var A=setInterval(k,20);return a.preventDefault(o)}var T=o.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),a.preventDefault(o)}},l.prototype.getHeight=function(){return this.height},l.prototype.scrollTopFromThumbTop=function(u){var o=u*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return o=o>>0,o<0?o=0:o>this.pageHeight-this.viewHeight&&(o=this.pageHeight-this.viewHeight),o},l.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},l.prototype.setHeight=function(u){this.height=Math.max(0,u),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},l.prototype.setScrollHeight=function(u,o){this.pageHeight===u&&!o||(this.pageHeight=u,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},l.prototype.setScrollTop=function(u){this.scrollTop=u,u<0&&(u=0),this.thumbTop=u*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},l})(s);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var n=(function(r){E(l,r);function l(u,o){var d=r.call(this,u,"-h")||this;return d.scrollLeft=0,d.scrollWidth=0,d.height=d.HScrollHeight,d.inner.style.height=d.element.style.height=(d.height||12)+"px",d.renderer=o,d}return l.prototype.onMouseDown=function(u,o){if(u==="mousedown"&&!(a.getButton(o)!==0||o.detail===2)){if(o.target===this.inner){var d=this,g=o.clientX,x=function(j){g=j.clientX},S=function(){clearInterval(A)},w=o.clientX,b=this.thumbLeft,k=function(){if(g!==void 0){var j=d.scrollLeftFromThumbLeft(b+g-w);j!==d.scrollLeft&&d._emit("scroll",{data:j})}};a.capture(this.inner,x,S);var A=setInterval(k,20);return a.preventDefault(o)}var T=o.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),a.preventDefault(o)}},l.prototype.getHeight=function(){return this.isVisible?this.height:0},l.prototype.scrollLeftFromThumbLeft=function(u){var o=u*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return o=o>>0,o<0?o=0:o>this.pageWidth-this.viewWidth&&(o=this.pageWidth-this.viewWidth),o},l.prototype.setWidth=function(u){this.width=Math.max(0,u),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},l.prototype.setScrollWidth=function(u,o){this.pageWidth===u&&!o||(this.pageWidth=u,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},l.prototype.setScrollLeft=function(u){this.scrollLeft=u,u<0&&(u=0),this.thumbLeft=u*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},l})(s);n.prototype.setInnerWidth=n.prototype.setScrollWidth,v.ScrollBar=i,v.ScrollBarV=i,v.ScrollBarH=n,v.VScrollBar=i,v.HScrollBar=n}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(m,v,R){var E=m("./lib/event"),y=(function(){function f(a,c){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=c||window;var s=this;this._flush=function(i){s.pending=!1;var n=s.changes;if(n&&(E.blockIdle(100),s.changes=0,s.onRender(n)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}return f.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(E.nextFrame(this._flush),this.pending=!0)},f.prototype.clear=function(a){var c=this.changes;return this.changes=0,c},f})();v.RenderLoop=y}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/dom"),f=m("../lib/lang"),a=m("../lib/event"),c=m("../lib/useragent"),s=m("../lib/event_emitter").EventEmitter,i=512,n=typeof ResizeObserver=="function",r=200,l=(function(){function u(o){this.el=y.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=y.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=y.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),o.appendChild(this.el),this.$measureNode.textContent=f.stringRepeat("X",i),this.$characterSize={width:0,height:0},n?this.$addObserver():this.checkForSizeChanges()}return u.prototype.$setMeasureNodeStyles=function(o,d){o.width=o.height="auto",o.left=o.top="0px",o.visibility="hidden",o.position="absolute",o.whiteSpace="pre",c.isIE<8?o["font-family"]="inherit":o.font="inherit",o.overflow=d?"hidden":"visible"},u.prototype.checkForSizeChanges=function(o){if(o===void 0&&(o=this.$measureSizes()),o&&(this.$characterSize.width!==o.width||this.$characterSize.height!==o.height)){this.$measureNode.style.fontWeight="bold";var d=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=o,this.charSizes=Object.create(null),this.allowBoldFonts=d&&d.width===o.width&&d.height===o.height,this._emit("changeCharacterSize",{data:o})}},u.prototype.$addObserver=function(){var o=this;this.$observer=new window.ResizeObserver(function(d){o.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},u.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var o=this;return this.$pollSizeChangesTimer=a.onIdle(function d(){o.checkForSizeChanges(),a.onIdle(d,500)},500)},u.prototype.setPolling=function(o){o?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},u.prototype.$measureSizes=function(o){var d={height:(o||this.$measureNode).clientHeight,width:(o||this.$measureNode).clientWidth/i};return d.width===0||d.height===0?null:d},u.prototype.$measureCharWidth=function(o){this.$main.textContent=f.stringRepeat(o,i);var d=this.$main.getBoundingClientRect();return d.width/i},u.prototype.getCharacterWidth=function(o){var d=this.charSizes[o];return d===void 0&&(d=this.charSizes[o]=this.$measureCharWidth(o)/this.$characterSize.width),d},u.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},u.prototype.$getZoom=function(o){return!o||!o.parentElement?1:(Number(window.getComputedStyle(o).zoom)||1)*this.$getZoom(o.parentElement)},u.prototype.$initTransformMeasureNodes=function(){var o=function(d,g){return["div",{style:"position: absolute;top:"+d+"px;left:"+g+"px;"}]};this.els=y.buildDom([o(0,0),o(r,0),o(0,r),o(r,r)],this.el)},u.prototype.transformCoordinates=function(o,d){if(o){var g=this.$getZoom(this.el);o=b(1/g,o)}function x(U,W,K){var Y=U[1]*W[0]-U[0]*W[1];return[(-W[1]*K[0]+W[0]*K[1])/Y,(+U[1]*K[0]-U[0]*K[1])/Y]}function S(U,W){return[U[0]-W[0],U[1]-W[1]]}function w(U,W){return[U[0]+W[0],U[1]+W[1]]}function b(U,W){return[U*W[0],U*W[1]]}this.els||this.$initTransformMeasureNodes();function k(U){var W=U.getBoundingClientRect();return[W.left,W.top]}var A=k(this.els[0]),T=k(this.els[1]),j=k(this.els[2]),F=k(this.els[3]),N=x(S(F,T),S(F,j),S(w(T,j),w(F,A))),$=b(1+N[0],S(T,A)),M=b(1+N[1],S(j,A));if(d){var L=d,D=N[0]*L[0]/r+N[1]*L[1]/r+1,z=w(b(L[0],$),b(L[1],M));return w(b(1/D/r,z),A)}var B=S(o,A),P=x(S($,b(N[0],B)),S(M,b(N[1],B)),B);return b(r,P)},u})();l.prototype.$characterSize={width:0,height:0},E.implement(l.prototype,s),v.FontMetrics=l}),ace.define("ace/css/editor-css",["require","exports","module"],function(m,v,R){R.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(m,v,R){var E=m("../lib/dom"),y=m("../lib/oop"),f=m("../lib/event_emitter").EventEmitter,a=(function(){function c(s,i){this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(s)}return c.prototype.$createCanvas=function(){this.canvas=E.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},c.prototype.setScrollBarV=function(s){this.$createCanvas(),this.scrollbarV=s,s.element.appendChild(this.canvas),this.setDimensions()},c.prototype.$updateDecorators=function(s){if(typeof this.canvas.getContext!="function")return;var i=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(s);var n=this.canvas.getContext("2d");function r($,M){return $.priority<M.priority?-1:$.priority>M.priority?1:0}var l=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),l){var u={info:1,warning:2,error:3};l.forEach(function($){$.priority=u[$.type]||null}),l=l.sort(r);for(var o=0;o<l.length;o++){var d=l[o].row,g=this.getVerticalOffsetForRow(d),x=g+this.lineHeight,S=Math.round(this.heightRatio*g),w=Math.round(this.heightRatio*x),b=Math.round((S+w)/2),k=w-b;k<this.halfMinDecorationHeight&&(k=this.halfMinDecorationHeight),b-k<0&&(b=k),b+k>this.canvasHeight&&(b=this.canvasHeight-k);var A=b-k,T=b+k,j=T-A;n.fillStyle=i[l[o].type]||null,n.fillRect(0,A,Math.round(this.oneZoneWidth-1),j)}}var F=this.renderer.session.selection.getCursor();if(F){var N=Math.round(this.getVerticalOffsetForRow(F.row)*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,N,this.canvasWidth,2)}},c.prototype.getVerticalOffsetForRow=function(s){s=s|0;var i=this.renderer.session.documentToScreenRow(s,0)*this.lineHeight;return i},c.prototype.setDimensions=function(s){s=s||this.renderer.layerConfig,this.maxHeight=s.maxHeight,this.lineHeight=s.lineHeight,this.canvasHeight=s.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},c.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},c.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},c})();y.implement(a.prototype,f),v.Decorator=a}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(m,v,R){var E=m("./lib/oop"),y=m("./lib/dom"),f=m("./lib/lang"),a=m("./config"),c=m("./layer/gutter").Gutter,s=m("./layer/marker").Marker,i=m("./layer/text").Text,n=m("./layer/cursor").Cursor,r=m("./scrollbar").HScrollBar,l=m("./scrollbar").VScrollBar,u=m("./scrollbar_custom").HScrollBar,o=m("./scrollbar_custom").VScrollBar,d=m("./renderloop").RenderLoop,g=m("./layer/font_metrics").FontMetrics,x=m("./lib/event_emitter").EventEmitter,S=m("./css/editor-css"),w=m("./layer/decorators").Decorator,b=m("./lib/useragent"),k=m("./layer/text_util").isTextToken;y.importCssString(S,"ace_editor.css",!1);var A=(function(){function T(j,F){var N=this;this.container=j||y.createElement("div"),y.addCssClass(this.container,"ace_editor"),y.HI_DPI&&y.addCssClass(this.container,"ace_hidpi"),this.setTheme(F),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=y.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=y.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=y.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new c(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var $=this.$textLayer=new i(this.content);this.canvas=$.element,this.$markerFront=new s(this.content),this.$cursorLayer=new n(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new l(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.on("scroll",function(M){N.$scrollAnimation||N.session.setScrollTop(M.data-N.scrollMargin.top)}),this.scrollBarH.on("scroll",function(M){N.$scrollAnimation||N.session.setScrollLeft(M.data-N.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(M){N.updateCharacterSize(),N.onResize(!0,N.gutterWidth,N.$size.width,N.$size.height),N._signal("changeCharacterSize",M)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),y.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(j){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=j,j&&this.scrollMargin.top&&j.getScrollTop()<=0&&j.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(j),this.$markerBack.setSession(j),this.$markerFront.setSession(j),this.$gutterLayer.setSession(j),this.$textLayer.setSession(j),j&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(j,F,N){if(F===void 0&&(F=1/0),this.$changedLines?(this.$changedLines.firstRow>j&&(this.$changedLines.firstRow=j),this.$changedLines.lastRow<F&&(this.$changedLines.lastRow=F)):this.$changedLines={firstRow:j,lastRow:F},this.$changedLines.lastRow<this.layerConfig.firstRow)if(N)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(j){j?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(j,F,N,$){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=j?1:0;var M=this.container;$||($=M.clientHeight||M.scrollHeight),!$&&this.$maxLines&&this.lineHeight>1&&(!M.style.height||M.style.height=="0px")&&(M.style.height="1px",$=M.clientHeight||M.scrollHeight),N||(N=M.clientWidth||M.scrollWidth);var L=this.$updateCachedSize(j,F,N,$);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!N&&!$)return this.resizing=0;j&&(this.$gutterLayer.$padding=null),j?this.$renderChanges(L|this.$changes,!0):this.$loop.schedule(L|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(j,F,N,$){$-=this.$extraHeight||0;var M=0,L=this.$size,D={width:L.width,height:L.height,scrollerHeight:L.scrollerHeight,scrollerWidth:L.scrollerWidth};if($&&(j||L.height!=$)&&(L.height=$,M|=this.CHANGE_SIZE,L.scrollerHeight=L.height,this.$horizScroll&&(L.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(L.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",M=M|this.CHANGE_SCROLL),N&&(j||L.width!=N)){M|=this.CHANGE_SIZE,L.width=N,F==null&&(F=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=F,y.setStyle(this.scrollBarH.element.style,"left",F+"px"),y.setStyle(this.scroller.style,"left",F+this.margin.left+"px"),L.scrollerWidth=Math.max(0,N-F-this.scrollBarV.getWidth()-this.margin.h),y.setStyle(this.$gutter.style,"left",this.margin.left+"px");var z=this.scrollBarV.getWidth()+"px";y.setStyle(this.scrollBarH.element.style,"right",z),y.setStyle(this.scroller.style,"right",z),y.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(L.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||j)&&(M|=this.CHANGE_FULL)}return L.$dirty=!N||!$,M&&this._signal("resize",D),M},T.prototype.onGutterResize=function(j){var F=this.$showGutter?j:0;F!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,F,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var j=this.$size.scrollerWidth-this.$padding*2,F=Math.floor(j/this.characterWidth);return this.session.adjustWrapLimit(F,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(j){this.setOption("animatedScroll",j)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(j){this.setOption("showInvisibles",j),this.session.$bidiHandler.setShowInvisibles(j)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(j){this.setOption("displayIndentGuides",j)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(j){this.setOption("highlightIndentGuides",j)},T.prototype.setShowPrintMargin=function(j){this.setOption("showPrintMargin",j)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(j){this.setOption("printMarginColumn",j)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(j){return this.setOption("showGutter",j)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(j){this.setOption("fadeFoldWidgets",j)},T.prototype.setHighlightGutterLine=function(j){this.setOption("highlightGutterLine",j)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var j=y.createElement("div");j.className="ace_layer ace_print-margin-layer",this.$printMarginEl=y.createElement("div"),this.$printMarginEl.className="ace_print-margin",j.appendChild(this.$printMarginEl),this.content.insertBefore(j,this.content.firstChild)}var F=this.$printMarginEl.style;F.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",F.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var j=this.textarea.style,F=this.$composition;if(!this.$keepTextAreaAtCursor&&!F){y.translate(this.textarea,-100,0);return}var N=this.$cursorLayer.$pixelPos;if(N){F&&F.markerRange&&(N=this.$cursorLayer.getPixelPosition(F.markerRange.start,!0));var $=this.layerConfig,M=N.top,L=N.left;M-=$.offset;var D=F&&F.useTextareaForIME||b.isMobile?this.lineHeight:1;if(M<0||M>$.height-D){y.translate(this.textarea,0,0);return}var z=1,B=this.$size.height-D;if(!F)M+=this.lineHeight;else if(F.useTextareaForIME){var P=this.textarea.value;z=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else M+=this.lineHeight+2;L-=this.scrollLeft,L>this.$size.scrollerWidth-z&&(L=this.$size.scrollerWidth-z),L+=this.gutterWidth+this.margin.left,y.setStyle(j,"height",D+"px"),y.setStyle(j,"width",z+"px"),y.translate(this.textarea,Math.min(L,this.$size.scrollerWidth-z),Math.min(M,B))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var j=this.layerConfig,F=j.lastRow,N=this.session.documentToScreenRow(F,0)*j.lineHeight;return N-this.session.getScrollTop()>j.height-j.lineHeight?F-1:F},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(j){this.$padding=j,this.$textLayer.setPadding(j),this.$cursorLayer.setPadding(j),this.$markerFront.setPadding(j),this.$markerBack.setPadding(j),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(j,F,N,$){var M=this.scrollMargin;M.top=j|0,M.bottom=F|0,M.right=$|0,M.left=N|0,M.v=M.top+M.bottom,M.h=M.left+M.right,M.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-M.top),this.updateFull()},T.prototype.setMargin=function(j,F,N,$){var M=this.margin;M.top=j|0,M.bottom=F|0,M.right=$|0,M.left=N|0,M.v=M.top+M.bottom,M.h=M.left+M.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(j){this.setOption("hScrollBarAlwaysVisible",j)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(j){this.setOption("vScrollBarAlwaysVisible",j)},T.prototype.$updateScrollBarV=function(){var j=this.layerConfig.maxHeight,F=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(j-=(F-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>j-F&&(j=this.scrollTop+F,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(j+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(j,F){if(this.$changes&&(j|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!j&&!F){this.$changes|=j;return}if(this.$size.$dirty)return this.$changes|=j,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",j),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var N=this.layerConfig;if(j&this.CHANGE_FULL||j&this.CHANGE_SIZE||j&this.CHANGE_TEXT||j&this.CHANGE_LINES||j&this.CHANGE_SCROLL||j&this.CHANGE_H_SCROLL){if(j|=this.$computeLayerConfig()|this.$loop.clear(),N.firstRow!=this.layerConfig.firstRow&&N.firstRowScreen==this.layerConfig.firstRowScreen){var $=this.scrollTop+(N.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;$>0&&(this.scrollTop=$,j=j|this.CHANGE_SCROLL,j|=this.$computeLayerConfig()|this.$loop.clear())}N=this.layerConfig,this.$updateScrollBarV(),j&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),y.translate(this.content,-this.scrollLeft,-N.offset);var M=N.width+2*this.$padding+"px",L=N.minHeight+"px";y.setStyle(this.content.style,"width",M),y.setStyle(this.content.style,"height",L)}if(j&this.CHANGE_H_SCROLL&&(y.translate(this.content,-this.scrollLeft,-N.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),j&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(N),this.$showGutter&&this.$gutterLayer.update(N),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N),this.$markerBack.update(N),this.$markerFront.update(N),this.$cursorLayer.update(N),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}if(j&this.CHANGE_SCROLL){this.$changedLines=null,j&this.CHANGE_TEXT||j&this.CHANGE_LINES?this.$textLayer.update(N):this.$textLayer.scrollLines(N),this.$showGutter&&(j&this.CHANGE_GUTTER||j&this.CHANGE_LINES?this.$gutterLayer.update(N):this.$gutterLayer.scrollLines(N)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N),this.$markerBack.update(N),this.$markerFront.update(N),this.$cursorLayer.update(N),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}j&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(N),this.$showGutter&&this.$gutterLayer.update(N),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N)):j&this.CHANGE_LINES?((this.$updateLines()||j&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(N),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N)):j&this.CHANGE_TEXT||j&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(N),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N)):j&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(N),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(N)),j&this.CHANGE_CURSOR&&(this.$cursorLayer.update(N),this.$moveTextAreaToCursor()),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(N),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(N),this._signal("afterRender",j)},T.prototype.$autosize=function(){var j=this.session.getScreenLength()*this.lineHeight,F=this.$maxLines*this.lineHeight,N=Math.min(F,Math.max((this.$minLines||1)*this.lineHeight,j))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(N+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&N>this.$maxPixelHeight&&(N=this.$maxPixelHeight);var $=N<=2*this.lineHeight,M=!$&&j>F;if(N!=this.desiredHeight||this.$size.height!=this.desiredHeight||M!=this.$vScroll){M!=this.$vScroll&&(this.$vScroll=M,this.scrollBarV.setVisible(M));var L=this.container.clientWidth;this.container.style.height=N+"px",this.$updateCachedSize(!0,this.$gutterWidth,L,N),this.desiredHeight=N,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var j=this.session,F=this.$size,N=F.height<=2*this.lineHeight,$=this.session.getScreenLength(),M=$*this.lineHeight,L=this.$getLongestLine(),D=!N&&(this.$hScrollBarAlwaysVisible||F.scrollerWidth-L-2*this.$padding<0),z=this.$horizScroll!==D;z&&(this.$horizScroll=D,this.scrollBarH.setVisible(D));var B=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),N=F.height<=2*this.lineHeight);var P=F.scrollerHeight+this.lineHeight,U=!this.$maxLines&&this.$scrollPastEnd?(F.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;M+=U;var W=this.scrollMargin;this.session.setScrollTop(Math.max(-W.top,Math.min(this.scrollTop,M-F.scrollerHeight+W.bottom))),this.session.setScrollLeft(Math.max(-W.left,Math.min(this.scrollLeft,L+2*this.$padding-F.scrollerWidth+W.right)));var K=!N&&(this.$vScrollBarAlwaysVisible||F.scrollerHeight-M+U<0||this.scrollTop>W.top),Y=B!==K;Y&&(this.$vScroll=K,this.scrollBarV.setVisible(K));var X=this.scrollTop%this.lineHeight,q=Math.ceil(P/this.lineHeight)-1,J=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),V=J+q,Q,te,ne=this.lineHeight;J=j.screenToDocumentRow(J,0);var me=j.getFoldLine(J);me&&(J=me.start.row),Q=j.documentToScreenRow(J,0),te=j.getRowLength(J)*ne,V=Math.min(j.screenToDocumentRow(V,0),j.getLength()-1),P=F.scrollerHeight+j.getRowLength(V)*ne+te,X=this.scrollTop-Q*ne,X<0&&Q>0&&(Q=Math.max(0,Q+Math.floor(X/ne)),X=this.scrollTop-Q*ne);var pe=0;return(this.layerConfig.width!=L||z)&&(pe=this.CHANGE_H_SCROLL),(z||Y)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,F.width,F.height),this._signal("scrollbarVisibilityChanged"),Y&&(L=this.$getLongestLine())),this.layerConfig={width:L,padding:this.$padding,firstRow:J,firstRowScreen:Q,lastRow:V,lineHeight:ne,characterWidth:this.characterWidth,minHeight:P,maxHeight:M,offset:X,gutterOffset:ne?Math.max(0,Math.ceil((X+F.height-F.scrollerHeight)/ne)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(L-this.$padding),pe},T.prototype.$updateLines=function(){if(this.$changedLines){var j=this.$changedLines.firstRow,F=this.$changedLines.lastRow;this.$changedLines=null;var N=this.layerConfig;if(!(j>N.lastRow+1)&&!(F<N.firstRow)){if(F===1/0){this.$showGutter&&this.$gutterLayer.update(N),this.$textLayer.update(N);return}return this.$textLayer.updateLines(N,j,F),!0}}},T.prototype.$getLongestLine=function(){var j=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(j+=1),this.$textLayer&&j>this.$textLayer.MAX_LINE_LENGTH&&(j=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(j*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(j,F){this.$gutterLayer.addGutterDecoration(j,F)},T.prototype.removeGutterDecoration=function(j,F){this.$gutterLayer.removeGutterDecoration(j,F)},T.prototype.updateBreakpoints=function(j){this._rows=j,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(j){this.$gutterLayer.setAnnotations(j),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(j,F,N){this.scrollCursorIntoView(j,N),this.scrollCursorIntoView(F,N)},T.prototype.scrollCursorIntoView=function(j,F,N){if(this.$size.scrollerHeight!==0){var $=this.$cursorLayer.getPixelPosition(j),M=$.left,L=$.top,D=N&&N.top||0,z=N&&N.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var B=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;B+D>L?(F&&B+D>L+this.lineHeight&&(L-=F*this.$size.scrollerHeight),L===0&&(L=-this.scrollMargin.top),this.session.setScrollTop(L)):B+this.$size.scrollerHeight-z<L+this.lineHeight&&(F&&B+this.$size.scrollerHeight-z<L-this.lineHeight&&(L+=F*this.$size.scrollerHeight),this.session.setScrollTop(L+this.lineHeight+z-this.$size.scrollerHeight));var P=this.scrollLeft,U=2*this.layerConfig.characterWidth;M-U<P?(M-=U,M<this.$padding+U&&(M=-this.scrollMargin.left),this.session.setScrollLeft(M)):(M+=U,P+this.$size.scrollerWidth<M+this.characterWidth?this.session.setScrollLeft(Math.round(M+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&M-P<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(j){this.session.setScrollTop(j*this.lineHeight)},T.prototype.alignCursor=function(j,F){typeof j=="number"&&(j={row:j,column:0});var N=this.$cursorLayer.getPixelPosition(j),$=this.$size.scrollerHeight-this.lineHeight,M=N.top-$*(F||0);return this.session.setScrollTop(M),M},T.prototype.$calcSteps=function(j,F){var N=0,$=this.STEPS,M=[],L=function(D,z,B){return B*(Math.pow(D-1,3)+1)+z};for(N=0;N<$;++N)M.push(L(N/this.STEPS,j,F-j));return M},T.prototype.scrollToLine=function(j,F,N,$){var M=this.$cursorLayer.getPixelPosition({row:j,column:0}),L=M.top;F&&(L-=this.$size.scrollerHeight/2);var D=this.scrollTop;this.session.setScrollTop(L),N!==!1&&this.animateScrolling(D,$)},T.prototype.animateScrolling=function(j,F){var N=this.scrollTop;if(!this.$animatedScroll)return;var $=this;if(j==N)return;if(this.$scrollAnimation){var M=this.$scrollAnimation.steps;if(M.length&&(j=M[0],j==N))return}var L=$.$calcSteps(j,N);this.$scrollAnimation={from:j,to:N,steps:L},clearInterval(this.$timer),$.session.setScrollTop(L.shift()),$.session.$scrollTop=N;function D(){$.$timer=clearInterval($.$timer),$.$scrollAnimation=null,$.$stopAnimation=!1,F&&F()}this.$timer=setInterval(function(){if($.$stopAnimation){D();return}if(!$.session)return clearInterval($.$timer);L.length?($.session.setScrollTop(L.shift()),$.session.$scrollTop=N):N!=null?($.session.$scrollTop=-1,$.session.setScrollTop(N),N=null):D()},10)},T.prototype.scrollToY=function(j){this.scrollTop!==j&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=j)},T.prototype.scrollToX=function(j){this.scrollLeft!==j&&(this.scrollLeft=j),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(j,F){this.session.setScrollTop(F),this.session.setScrollLeft(j)},T.prototype.scrollBy=function(j,F){F&&this.session.setScrollTop(this.session.getScrollTop()+F),j&&this.session.setScrollLeft(this.session.getScrollLeft()+j)},T.prototype.isScrollableBy=function(j,F){if(F<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||F>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||j<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||j>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(j,F){var N;if(this.$hasCssTransforms){N={top:0,left:0};var $=this.$fontMetrics.transformCoordinates([j,F]);j=$[1]-this.gutterWidth-this.margin.left,F=$[0]}else N=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-N.left-this.$padding,L=M/this.characterWidth,D=Math.floor((F+this.scrollTop-N.top)/this.lineHeight),z=this.$blockCursor?Math.floor(L):Math.round(L);return{row:D,column:z,side:L-z>0?1:-1,offsetX:M}},T.prototype.screenToTextCoordinates=function(j,F){var N;if(this.$hasCssTransforms){N={top:0,left:0};var $=this.$fontMetrics.transformCoordinates([j,F]);j=$[1]-this.gutterWidth-this.margin.left,F=$[0]}else N=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-N.left-this.$padding,L=M/this.characterWidth,D=this.$blockCursor?Math.floor(L):Math.round(L),z=Math.floor((F+this.scrollTop-N.top)/this.lineHeight);return this.session.screenToDocumentPosition(z,Math.max(D,0),M)},T.prototype.textToScreenCoordinates=function(j,F){var N=this.scroller.getBoundingClientRect(),$=this.session.documentToScreenPosition(j,F),M=this.$padding+(this.session.$bidiHandler.isBidiRow($.row,j)?this.session.$bidiHandler.getPosLeft($.column):Math.round($.column*this.characterWidth)),L=$.row*this.lineHeight;return{pageX:N.left+M-this.scrollLeft,pageY:N.top+L-this.scrollTop}},T.prototype.visualizeFocus=function(){y.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){y.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(j){this.$composition=j,j.cssText||(j.cssText=this.textarea.style.cssText),j.useTextareaForIME==null&&(j.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(y.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):j.markerId=this.session.addMarker(j.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(j){var F=this.session.selection.cursor;this.addToken(j,"composition_placeholder",F.row,F.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),y.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var j=this.session.selection.cursor;this.removeExtraToken(j.row,j.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(j,F){var N=this.session.selection.cursor,$=F||{row:N.row,column:N.column};this.removeGhostText();var M=this.$calculateWrappedTextChunks(j,$);this.addToken(M[0].text,"ghost_text",$.row,$.column),this.$ghostText={text:j,position:{row:$.row,column:$.column}};var L=y.createElement("div");if(M.length>1){var D=this.hideTokensAfterPosition($.row,$.column),z;M.slice(1).forEach(function(Y){var X=y.createElement("div"),q=y.createElement("span");q.className="ace_ghost_text",Y.wrapped&&(X.className="ghost_text_line_wrapped"),Y.text.length===0&&(Y.text=" "),q.appendChild(y.createTextNode(Y.text)),X.appendChild(q),L.appendChild(X),z=X}),D.forEach(function(Y){var X=y.createElement("span");k(Y.type)||(X.className="ace_"+Y.type.replace(/\./g," ace_")),X.appendChild(y.createTextNode(Y.value)),z.appendChild(X)}),this.$ghostTextWidget={el:L,row:$.row,column:$.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var B=this.$cursorLayer.getPixelPosition($,!0),P=this.container,U=P.getBoundingClientRect().height,W=M.length*this.lineHeight,K=W<U-B.top;if(K)return;W<U?this.scrollBy(0,(M.length-1)*this.lineHeight):this.scrollToRow($.row)}},T.prototype.$calculateWrappedTextChunks=function(j,F){var N=this.$size.scrollerWidth-this.$padding*2,$=Math.floor(N/this.characterWidth)-2;$=$<=0?60:$;for(var M=j.split(/\r?\n/),L=[],D=0;D<M.length;D++){var z=this.session.$getDisplayTokens(M[D],F.column),B=this.session.$computeWrapSplits(z,$,this.session.$tabSize);if(B.length>0){var P=0;B.push(M[D].length);for(var U=0;U<B.length;U++){var W=M[D].slice(P,B[U]);L.push({text:W,wrapped:!0}),P=B[U]}}else L.push({text:M[D],wrapped:!1})}return L},T.prototype.removeGhostText=function(){if(this.$ghostText){var j=this.$ghostText.position;this.removeExtraToken(j.row,j.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(j,F,N,$){var M=this.session;M.bgTokenizer.lines[N]=null;var L={type:F,value:j},D=M.getTokens(N);if($==null||!D.length)D.push(L);else for(var z=0,B=0;B<D.length;B++){var P=D[B];if(z+=P.value.length,$<=z){var U=P.value.length-(z-$),W=P.value.slice(0,U),K=P.value.slice(U);D.splice(B,1,{type:P.type,value:W},L,{type:P.type,value:K});break}}this.updateLines(N,N)},T.prototype.hideTokensAfterPosition=function(j,F){for(var N=this.session.getTokens(j),$=0,M=!1,L=[],D=0;D<N.length;D++){var z=N[D];if($+=z.value.length,z.type!=="ghost_text"){if(M){L.push({type:z.type,value:z.value}),z.type="hidden_token";continue}$===F&&(M=!0)}}return this.updateLines(j,j),L},T.prototype.removeExtraToken=function(j,F){this.session.bgTokenizer.lines[j]=null,this.updateLines(j,j)},T.prototype.setTheme=function(j,F){var N=this;if(this.$themeId=j,N._dispatchEvent("themeChange",{theme:j}),!j||typeof j=="string"){var $=j||this.$options.theme.initialValue;a.loadModule(["theme",$],M)}else M(j);function M(L){if(N.$themeId!=j)return F&&F();if(!L||!L.cssClass)throw new Error("couldn't load module "+j+" or it didn't call define");L.$id&&(N.$themeId=L.$id),y.importCssString(L.cssText,L.cssClass,N.container),N.theme&&y.removeCssClass(N.container,N.theme.cssClass);var D="padding"in L?L.padding:"padding"in(N.theme||{})?4:N.$padding;if(N.$padding&&D!=N.$padding&&N.setPadding(D),N.$gutterLayer){var z=L.$showGutterCursorMarker;z&&!N.$gutterLayer.$showCursorMarker?N.$gutterLayer.$showCursorMarker="theme":!z&&N.$gutterLayer.$showCursorMarker=="theme"&&(N.$gutterLayer.$showCursorMarker=null)}N.$theme=L.cssClass,N.theme=L,y.addCssClass(N.container,L.cssClass),y.setCssClass(N.container,"ace_dark",L.isDark),N.$size&&(N.$size.width=0,N.$updateSizeAsync()),N._dispatchEvent("themeLoaded",{theme:L}),F&&F(),b.isSafari&&N.scroller&&(N.scroller.style.background="red",N.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(j,F){y.setCssClass(this.container,j,F!==!1)},T.prototype.unsetStyle=function(j){y.removeCssClass(this.container,j)},T.prototype.setCursorStyle=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.setMouseCursor=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.attachToShadowRoot=function(){y.importCssString(S,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(j){var F=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),j===!0?(this.scrollBarV=new o(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(N){F.$scrollAnimation||F.session.setScrollTop(N.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(N){F.$scrollAnimation||F.session.setScrollLeft(N.data-F.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new l(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.addEventListener("scroll",function(N){F.$scrollAnimation||F.session.setScrollTop(N.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(N){F.$scrollAnimation||F.session.setScrollLeft(N.data-F.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var j=this;this.$resizeTimer=f.delayedCall(function(){j.destroyed||j.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(F){var N=F[0].contentRect.width,$=F[0].contentRect.height;Math.abs(j.$size.width-N)>1||Math.abs(j.$size.height-$)>1?j.$resizeTimer.delay():j.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T})();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,E.implement(A.prototype,x),a.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){y.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),v.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(m,v,R){var E=m("../lib/oop"),y=m("../lib/net"),f=m("../lib/event_emitter").EventEmitter,a=m("../config");function c(r){var l="importScripts('"+y.qualifyURL(r)+"');";try{return new Blob([l],{type:"application/javascript"})}catch{var u=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new u;return o.append(l),o.getBlob("application/javascript")}}function s(r){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var l=c(r),u=window.URL||window.webkitURL,o=u.createObjectURL(l);return new Worker(o)}return new Worker(r)}var i=function(r){r.postMessage||(r=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=r,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){E.implement(this,f),this.$createWorkerFromOldConfig=function(r,l,u,o,d){if(m.nameToUrl&&!m.toUrl&&(m.toUrl=m.nameToUrl),a.get("packaged")||!m.toUrl)o=o||a.moduleUrl(l,"worker");else{var g=this.$normalizePath;o=o||g(m.toUrl("ace/worker/worker.js",null,"_"));var x={};r.forEach(function(S){x[S]=g(m.toUrl(S,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=s(o),d&&this.send("importScripts",d),this.$worker.postMessage({init:!0,tlns:x,module:l,classname:u}),this.$worker},this.onMessage=function(r){var l=r.data;switch(l.type){case"event":this._signal(l.name,{data:l.data});break;case"call":var u=this.callbacks[l.id];u&&(u(l.data),delete this.callbacks[l.id]);break;case"error":this.reportError(l.data);break;case"log":window.console&&console.log&&console.log.apply(console,l.data);break}},this.reportError=function(r){window.console&&console.error&&console.error(r)},this.$normalizePath=function(r){return y.qualifyURL(r)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(r){r.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(r,l){this.$worker.postMessage({command:r,args:l})},this.call=function(r,l,u){if(u){var o=this.callbackId++;this.callbacks[o]=u,l.push(o)}this.send(r,l)},this.emit=function(r,l){try{l.data&&l.data.err&&(l.data.err={message:l.data.err.message,stack:l.data.err.stack,code:l.data.err.code}),this.$worker&&this.$worker.postMessage({event:r,data:{data:l.data}})}catch(u){console.error(u.stack)}},this.attachToDocument=function(r){this.$doc&&this.terminate(),this.$doc=r,this.call("setValue",[r.getValue()]),r.on("change",this.changeListener,!0)},this.changeListener=function(r){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),r.action=="insert"?this.deltaQueue.push(r.start,r.lines):this.deltaQueue.push(r.start,r.end)},this.$sendDeltaQueue=function(){var r=this.deltaQueue;r&&(this.deltaQueue=null,r.length>50&&r.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:r}))}}).call(i.prototype);var n=function(r,l,u){var o=null,d=!1,g=Object.create(f),x=[],S=new i({messageBuffer:x,terminate:function(){},postMessage:function(b){x.push(b),o&&(d?setTimeout(w):w())}});S.setEmitSync=function(b){d=b};var w=function(){var b=x.shift();b.command?o[b.command].apply(o,b.args):b.event&&g._signal(b.event,b.data)};return g.postMessage=function(b){S.onMessage({data:b})},g.callback=function(b,k){this.postMessage({type:"call",id:k,data:b})},g.emit=function(b,k){this.postMessage({type:"event",name:b,data:k})},a.loadModule(["worker",l],function(b){for(o=new b[u](g);x.length;)w()}),S};v.UIWorkerClient=n,v.WorkerClient=i,v.createWorker=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(m,v,R){var E=m("./range").Range,y=m("./lib/event_emitter").EventEmitter,f=m("./lib/oop"),a=(function(){function c(s,i,n,r,l,u){var o=this;this.length=i,this.session=s,this.doc=s.getDocument(),this.mainClass=l,this.othersClass=u,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var d=s.getUndoManager().$undoStack||s.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=d.length,this.setup(),s.selection.on("changeCursor",this.$onCursorChange)}return c.prototype.setup=function(){var s=this,i=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new E(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(l){var u=i.createAnchor(l.row,l.column);u.$insertRight=!0,u.detach(),s.others.push(u)}),n.setUndoSelect(!1)},c.prototype.showOtherMarkers=function(){if(!this.othersActive){var s=this.session,i=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=s.addMarker(new E(n.row,n.column,n.row,n.column+i.length),i.othersClass,null,!1)})}},c.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var s=0;s<this.others.length;s++)this.session.removeMarker(this.others[s].markerId)}},c.prototype.onUpdate=function(s){if(this.$updating)return this.updateAnchors(s);var i=s;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var n=s.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,r=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,l=i.start.column-this.pos.column;if(this.updateAnchors(s),r&&(this.length+=n),r&&!this.session.$fromUndo){if(s.action==="insert")for(var u=this.others.length-1;u>=0;u--){var o=this.others[u],d={row:o.row,column:o.column+l};this.doc.insertMergedLines(d,s.lines)}else if(s.action==="remove")for(var u=this.others.length-1;u>=0;u--){var o=this.others[u],d={row:o.row,column:o.column+l};this.doc.remove(new E(d.row,d.column,d.row,d.column-n))}}this.$updating=!1,this.updateMarkers()}},c.prototype.updateAnchors=function(s){this.pos.onChange(s);for(var i=this.others.length;i--;)this.others[i].onChange(s);this.updateMarkers()},c.prototype.updateMarkers=function(){if(!this.$updating){var s=this,i=this.session,n=function(l,u){i.removeMarker(l.markerId),l.markerId=i.addMarker(new E(l.row,l.column,l.row,l.column+s.length),u,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},c.prototype.onCursorChange=function(s){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",s)):(this.hideOtherMarkers(),this._emit("cursorLeave",s))}},c.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},c.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var s=this.session.getUndoManager(),i=(s.$undoStack||s.$undostack).length-this.$undoStackDepth,n=0;n<i;n++)s.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},c})();f.implement(a.prototype,y),v.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(m,v,R){var E=m("../lib/event"),y=m("../lib/useragent");function f(c,s){return c.row==s.row&&c.column==s.column}function a(c){var s=c.domEvent,i=s.altKey,n=s.shiftKey,r=s.ctrlKey,l=c.getAccelKey(),u=c.getButton();if(r&&y.isMac&&(u=s.button),c.editor.inMultiSelectMode&&u==2){c.editor.textInput.onContextMenu(c.domEvent);return}if(!r&&!i&&!l){u===0&&c.editor.inMultiSelectMode&&c.editor.exitMultiSelectMode();return}if(u===0){var o=c.editor,d=o.selection,g=o.inMultiSelectMode,x=c.getDocumentPosition(),S=d.getCursor(),w=c.inSelection()||d.isEmpty()&&f(x,S),b=c.x,k=c.y,A=function(W){b=W.clientX,k=W.clientY},T=o.session,j=o.renderer.pixelToScreenCoordinates(b,k),F=j,N;if(o.$mouseHandler.$enableJumpToDef)r&&i||l&&i?N=n?"block":"add":i&&o.$blockSelectEnabled&&(N="block");else if(l&&!i){if(N="add",!g&&n)return}else i&&o.$blockSelectEnabled&&(N="block");if(N&&y.isMac&&s.ctrlKey&&o.$mouseHandler.cancelContextMenu(),N=="add"){if(!g&&w)return;if(!g){var $=d.toOrientedRange();o.addSelectionMarker($)}var M=d.rangeList.rangeAtPoint(x);o.inVirtualSelectionMode=!0,n&&(M=null,$=d.ranges[0]||$,o.removeSelectionMarker($)),o.once("mouseup",function(){var W=d.toOrientedRange();M&&W.isEmpty()&&f(M.cursor,W.cursor)?d.substractPoint(W.cursor):(n?d.substractPoint($.cursor):$&&(o.removeSelectionMarker($),d.addRange($)),d.addRange(W)),o.inVirtualSelectionMode=!1})}else if(N=="block"){c.stop(),o.inVirtualSelectionMode=!0;var L,D=[],z=function(){var W=o.renderer.pixelToScreenCoordinates(b,k),K=T.screenToDocumentPosition(W.row,W.column,W.offsetX);f(F,W)&&f(K,d.lead)||(F=W,o.selection.moveToPosition(K),o.renderer.scrollCursorIntoView(),o.removeSelectionMarkers(D),D=d.rectangularRangeBlock(F,j),o.$mouseHandler.$clickSelection&&D.length==1&&D[0].isEmpty()&&(D[0]=o.$mouseHandler.$clickSelection.clone()),D.forEach(o.addSelectionMarker,o),o.updateSelectionMarkers())};g&&!l?d.toSingleRange():!g&&l&&(L=d.toOrientedRange(),o.addSelectionMarker(L)),n?j=T.documentToScreenPosition(d.lead):d.moveToPosition(x),F={row:-1,column:-1};var B=function(W){z(),clearInterval(U),o.removeSelectionMarkers(D),D.length||(D=[d.toOrientedRange()]),L&&(o.removeSelectionMarker(L),d.toSingleRange(L));for(var K=0;K<D.length;K++)d.addRange(D[K]);o.inVirtualSelectionMode=!1,o.$mouseHandler.$clickSelection=null},P=z;E.capture(o.container,A,B);var U=setInterval(function(){P()},20);return c.preventDefault()}}}v.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(m,v,R){v.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(y){y.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(y){y.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(y){y.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(y){y.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(y){y.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(y){y.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(y){y.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(y){y.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(y){y.multiSelect.rangeCount>1?y.multiSelect.joinSelections():y.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(y){y.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(y){y.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(y){y.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],v.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(y){y.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(y){return y&&y.inMultiSelectMode}}];var E=m("../keyboard/hash_handler").HashHandler;v.keyboardHandler=new E(v.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(m,v,R){var E=m("./range_list").RangeList,y=m("./range").Range,f=m("./selection").Selection,a=m("./mouse/multi_select_handler").onMouseDown,c=m("./lib/event"),s=m("./lib/lang"),i=m("./commands/multi_select_commands");v.commands=i.defaultCommands.concat(i.multiSelectCommands);var n=m("./search").Search,r=new n;function l(S,w,b){return r.$options.wrap=!0,r.$options.needle=w,r.$options.backwards=b==-1,r.find(S)}var u=m("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(S,w){if(S){if(!this.inMultiSelectMode&&this.rangeCount===0){var b=this.toOrientedRange();if(this.rangeList.add(b),this.rangeList.add(S),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),w||this.fromOrientedRange(S);this.rangeList.removeAll(),this.rangeList.add(b),this.$onAddRange(b)}S.cursor||(S.cursor=S.end);var k=this.rangeList.add(S);return this.$onAddRange(S),k.length&&this.$onRemoveRange(k),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(S)}},this.toSingleRange=function(S){S=S||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w),S&&this.fromOrientedRange(S)},this.substractPoint=function(S){var w=this.rangeList.substractPoint(S);if(w)return this.$onRemoveRange(w),w[0]},this.mergeOverlappingRanges=function(){var S=this.rangeList.merge();S.length&&this.$onRemoveRange(S)},this.$onAddRange=function(S){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(S),this._signal("addRange",{range:S})},this.$onRemoveRange=function(S){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();S.push(w),this.rangeCount=0}for(var b=S.length;b--;){var k=this.ranges.indexOf(S[b]);this.ranges.splice(k,1)}this._signal("removeRange",{ranges:S}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),w=w||this.ranges[0],w&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new E,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var S=this.ranges.length?this.ranges:[this.getRange()],w=[],b=0;b<S.length;b++){var k=S[b],A=k.start.row,T=k.end.row;if(A===T)w.push(k.clone());else{for(w.push(new y(A,k.start.column,A,this.session.getLine(A).length));++A<T;)w.push(this.getLineRange(A,!0));w.push(new y(T,0,T,k.end.column))}b==0&&!this.isBackwards()&&(w=w.reverse())}this.toSingleRange();for(var b=w.length;b--;)this.addRange(w[b])},this.joinSelections=function(){var S=this.rangeList.ranges,w=S[S.length-1],b=y.fromPoints(S[0].start,w.end);this.toSingleRange(),this.setSelectionRange(b,w.cursor==w.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var S=this.rangeList.ranges,w=S[S.length-1],b=y.fromPoints(S[0].start,w.end);this.toSingleRange(),this.setSelectionRange(b,w.cursor==w.start)}else{var k=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(k,A);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(S,w,b){var k=[],A=S.column<w.column;if(A)var T=S.column,j=w.column,F=S.offsetX,N=w.offsetX;else var T=w.column,j=S.column,F=w.offsetX,N=S.offsetX;var $=S.row<w.row;if($)var M=S.row,L=w.row;else var M=w.row,L=S.row;T<0&&(T=0),M<0&&(M=0),M==L&&(b=!0);for(var D,z=M;z<=L;z++){var B=y.fromPoints(this.session.screenToDocumentPosition(z,T,F),this.session.screenToDocumentPosition(z,j,N));if(B.isEmpty()){if(D&&d(B.end,D))break;D=B.end}B.cursor=A?B.start:B.end,k.push(B)}if($&&k.reverse(),!b){for(var P=k.length-1;k[P].isEmpty()&&P>0;)P--;if(P>0)for(var U=0;k[U].isEmpty();)U++;for(var W=P;W>=U;W--)k[W].isEmpty()&&k.splice(W,1)}return k}}).call(f.prototype);var o=m("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(S){S.cursor||(S.cursor=S.end);var w=this.getSelectionStyle();return S.marker=this.session.addMarker(S,"ace_selection",w),this.session.$selectionMarkers.push(S),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,S},this.removeSelectionMarker=function(S){if(S.marker){this.session.removeMarker(S.marker);var w=this.session.$selectionMarkers.indexOf(S);w!=-1&&this.session.$selectionMarkers.splice(w,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(S){for(var w=this.session.$selectionMarkers,b=S.length;b--;){var k=S[b];if(k.marker){this.session.removeMarker(k.marker);var A=w.indexOf(k);A!=-1&&w.splice(A,1)}}this.session.selectionMarkerCount=w.length},this.$onAddRange=function(S){this.addSelectionMarker(S.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(S){this.removeSelectionMarkers(S.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(S){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(S){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(S){var w=S.command,b=S.editor;if(b.multiSelect){if(w.multiSelectAction)w.multiSelectAction=="forEach"?k=b.forEachSelection(w,S.args):w.multiSelectAction=="forEachLine"?k=b.forEachSelection(w,S.args,!0):w.multiSelectAction=="single"?(b.exitMultiSelectMode(),k=w.exec(b,S.args||{})):k=w.multiSelectAction(b,S.args||{});else{var k=w.exec(b,S.args||{});b.multiSelect.addRange(b.multiSelect.toOrientedRange()),b.multiSelect.mergeOverlappingRanges()}return k}},this.forEachSelection=function(S,w,b){if(!this.inVirtualSelectionMode){var k=b&&b.keepOrder,A=b==!0||b&&b.$byLines,T=this.session,j=this.selection,F=j.rangeList,N=(k?j:F).ranges,$;if(!N.length)return S.exec?S.exec(this,w||{}):S(this,w||{});var M=j._eventRegistry;j._eventRegistry={};var L=new f(T);this.inVirtualSelectionMode=!0;for(var D=N.length;D--;){if(A)for(;D>0&&N[D].start.row==N[D-1].end.row;)D--;L.fromOrientedRange(N[D]),L.index=D,this.selection=T.selection=L;var z=S.exec?S.exec(this,w||{}):S(this,w||{});!$&&z!==void 0&&($=z),L.toOrientedRange(N[D])}L.detach(),this.selection=T.selection=j,this.inVirtualSelectionMode=!1,j._eventRegistry=M,j.mergeOverlappingRanges(),j.ranges[0]&&j.fromOrientedRange(j.ranges[0]);var B=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),B&&B.from==B.to&&this.renderer.animateScrolling(B.from),$}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var S="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var w=this.multiSelect.rangeList.ranges,b=[],k=0;k<w.length;k++)b.push(this.session.getTextRange(w[k]));var A=this.session.getDocument().getNewLineCharacter();S=b.join(A),S.length==(b.length-1)*A.length&&(S="")}else this.selection.isEmpty()||(S=this.session.getTextRange(this.getSelectionRange()));return S},this.$checkMultiselectChange=function(S,w){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var b=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&w==this.multiSelect.anchor)return;var k=w==this.multiSelect.anchor?b.cursor==b.start?b.end:b.start:b.cursor;k.row!=w.row||this.session.$clipPositionToDocument(k.row,k.column).column!=w.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(S,w,b){if(w=w||{},w.needle=S||w.needle,w.needle==null){var k=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(k)}this.$search.set(w);var A=this.$search.findAll(this.session);if(!A.length)return 0;var T=this.multiSelect;b||T.toSingleRange(A[0]);for(var j=A.length;j--;)T.addRange(A[j],!0);return k&&T.rangeList.rangeAtPoint(k.start)&&T.addRange(k,!0),A.length},this.selectMoreLines=function(S,w){var b=this.selection.toOrientedRange(),k=b.cursor==b.end,A=this.session.documentToScreenPosition(b.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(A.row+S,A.column);if(b.isEmpty())var F=T;else var j=this.session.documentToScreenPosition(k?b.end:b.start),F=this.session.screenToDocumentPosition(j.row+S,j.column);if(k){var N=y.fromPoints(T,F);N.cursor=N.start}else{var N=y.fromPoints(F,T);N.cursor=N.end}if(N.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(b);else if(w)var $=b.cursor;this.selection.addRange(N),$&&this.selection.substractPoint($)},this.transposeSelections=function(S){for(var w=this.session,b=w.multiSelect,k=b.ranges,A=k.length;A--;){var T=k[A];if(T.isEmpty()){var j=w.getWordRange(T.start.row,T.start.column);T.start.row=j.start.row,T.start.column=j.start.column,T.end.row=j.end.row,T.end.column=j.end.column}}b.mergeOverlappingRanges();for(var F=[],A=k.length;A--;){var T=k[A];F.unshift(w.getTextRange(T))}S<0?F.unshift(F.pop()):F.push(F.shift());for(var A=k.length;A--;){var T=k[A],N=T.clone();w.replace(T,F[A]),T.start.row=N.start.row,T.start.column=N.start.column}b.fromOrientedRange(b.ranges[0])},this.selectMore=function(S,w,b){var k=this.session,A=k.multiSelect,T=A.toOrientedRange();if(!(T.isEmpty()&&(T=k.getWordRange(T.start.row,T.start.column),T.cursor=S==-1?T.start:T.end,this.multiSelect.addRange(T),b))){var j=k.getTextRange(T),F=l(k,j,S);F&&(F.cursor=S==-1?F.start:F.end,this.session.unfold(F),this.multiSelect.addRange(F),this.renderer.scrollCursorIntoView(null,.5)),w&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var S=this.session,w=S.multiSelect,b=w.ranges,k=-1,A=b.filter(function(P){if(P.cursor.row==k)return!0;k=P.cursor.row});if(!b.length||A.length==b.length-1){var T=this.selection.getRange(),j=T.start.row,F=T.end.row,N=j==F;if(N){var $=this.session.getLength(),M;do M=this.session.getLine(F);while(/[=:]/.test(M)&&++F<$);do M=this.session.getLine(j);while(/[=:]/.test(M)&&--j>0);j<0&&(j=0),F>=$&&(F=$-1)}var L=this.session.removeFullLines(j,F);L=this.$reAlignText(L,N),this.session.insert({row:j,column:0},L.join(`
`)+`
`),N||(T.start.column=0,T.end.column=L[L.length-1].length),this.selection.setRange(T)}else{A.forEach(function(P){w.substractPoint(P.cursor)});var D=0,z=1/0,B=b.map(function(P){var U=P.cursor,W=S.getLine(U.row),K=W.substr(U.column).search(/\S/g);return K==-1&&(K=0),U.column>D&&(D=U.column),K<z&&(z=K),K});b.forEach(function(P,U){var W=P.cursor,K=D-W.column,Y=B[U]-z;K>Y?S.insert(W,s.stringRepeat(" ",K-Y)):S.remove(new y(W.row,W.column,W.row,W.column-K+Y)),P.start.column=P.end.column=D,P.start.row=P.end.row=W.row,P.cursor=P.end}),w.fromOrientedRange(b[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(S,w){var b=!0,k=!0,A,T,j;return S.map(function(L){var D=L.match(/(\s*)(.*?)(\s*)([=:].*)/);return D?A==null?(A=D[1].length,T=D[2].length,j=D[3].length,D):(A+T+j!=D[1].length+D[2].length+D[3].length&&(k=!1),A!=D[1].length&&(b=!1),A>D[1].length&&(A=D[1].length),T<D[2].length&&(T=D[2].length),j>D[3].length&&(j=D[3].length),D):[L]}).map(w?N:b?k?$:N:M);function F(L){return s.stringRepeat(" ",L)}function N(L){return L[2]?F(A)+L[2]+F(T-L[2].length+j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function $(L){return L[2]?F(A+T-L[2].length)+L[2]+F(j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function M(L){return L[2]?F(A)+L[2]+F(j)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}}}).call(o.prototype);function d(S,w){return S.row==w.row&&S.column==w.column}v.onSessionChange=function(S){var w=S.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection),this.multiSelect=w&&w.multiSelect;var b=S.oldSession;b&&(b.multiSelect.off("addRange",this.$onAddRange),b.multiSelect.off("removeRange",this.$onRemoveRange),b.multiSelect.off("multiSelect",this.$onMultiSelect),b.multiSelect.off("singleSelect",this.$onSingleSelect),b.multiSelect.lead.off("change",this.$checkMultiselectChange),b.multiSelect.anchor.off("change",this.$checkMultiselectChange)),w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange)),w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function g(S){S.$multiselectOnSessionChange||(S.$onAddRange=S.$onAddRange.bind(S),S.$onRemoveRange=S.$onRemoveRange.bind(S),S.$onMultiSelect=S.$onMultiSelect.bind(S),S.$onSingleSelect=S.$onSingleSelect.bind(S),S.$multiselectOnSessionChange=v.onSessionChange.bind(S),S.$checkMultiselectChange=S.$checkMultiselectChange.bind(S),S.$multiselectOnSessionChange(S),S.on("changeSession",S.$multiselectOnSessionChange),S.on("mousedown",a),S.commands.addCommands(i.defaultCommands),x(S))}function x(S){if(!S.textInput)return;var w=S.textInput.getElement(),b=!1;c.addListener(w,"keydown",function(A){var T=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);S.$blockSelectEnabled&&T?b||(S.renderer.setMouseCursor("crosshair"),b=!0):b&&k()},S),c.addListener(w,"keyup",k,S),c.addListener(w,"blur",k,S);function k(A){b&&(S.renderer.setMouseCursor(""),b=!1)}}v.MultiSelect=g,m("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(S){g(this),S?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(S){this.$blockSelectEnabled=S},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(m,v,R){var E=m("../../range").Range,y=v.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(f,a,c){var s=f.getLine(c);return this.foldingStartMarker.test(s)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(s)?"end":""},this.getFoldWidgetRange=function(f,a,c){return null},this.indentationBlock=function(f,a,c){var s=/\S/,i=f.getLine(a),n=i.search(s);if(n!=-1){for(var r=c||i.length,l=f.getLength(),u=a,o=a;++a<l;){var d=f.getLine(a).search(s);if(d!=-1){if(d<=n){var g=f.getTokenAt(a,0);if(!g||g.type!=="string")break}o=a}}if(o>u){var x=f.getLine(o).length;return new E(u,r,o,x)}}},this.openingBracketBlock=function(f,a,c,s,i){var n={row:c,column:s+1},r=f.$findClosingBracket(a,n,i);if(r){var l=f.foldWidgets[r.row];return l==null&&(l=f.getFoldWidget(r.row)),l=="start"&&r.row>n.row&&(r.row--,r.column=f.getLine(r.row).length),E.fromPoints(n,r)}},this.closingBracketBlock=function(f,a,c,s,i){var n={row:c,column:s},r=f.$findOpeningBracket(a,n);if(r)return r.column++,n.column--,E.fromPoints(r,n)}}).call(y.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(m,v,R){var E=m("../lib/dom"),y=m("../range").Range,f=m("../config").nls;function a(s,i,n){for(var r=0,l=s.length-1;r<=l;){var u=r+l>>1,o=n(i,s[u]);if(o>0)r=u+1;else if(o<0)l=u-1;else return u}return-(r+1)}function c(s,i,n){var r=s.getAnnotations().sort(y.comparePoints);if(r.length){var l=a(r,{row:i,column:-1},y.comparePoints);l<0&&(l=-l-1),l>=r.length?l=n>0?0:r.length-1:l===0&&n<0&&(l=r.length-1);var u=r[l];if(!(!u||!n)){if(u.row===i){do u=r[l+=n];while(u&&u.row===i);if(!u)return r.slice()}var o=[];i=u.row;do o[n<0?"unshift":"push"](u),u=r[l+=n];while(u&&u.row==i);return o.length&&o}}}v.showErrorMarker=function(s,i){var n=s.session,r=s.getCursorPosition(),l=r.row,u=n.widgetManager.getWidgetsAtRow(l).filter(function(A){return A.type=="errorMarker"})[0];u?u.destroy():l-=i;var o=c(n,l,i),d;if(o){var g=o[0];r.column=(g.pos&&typeof g.column!="number"?g.pos.sc:g.column)||0,r.row=g.row,d=s.renderer.$gutterLayer.$annotations[r.row]}else{if(u)return;d={displayText:[f("error-marker.good-state","Looks good!")],className:"ace_ok"}}s.session.unfold(r.row),s.selection.moveToPosition(r);var x={row:r.row,fixedWidth:!0,coverGutter:!0,el:E.createElement("div"),type:"errorMarker"},S=x.el.appendChild(E.createElement("div")),w=x.el.appendChild(E.createElement("div"));w.className="error_widget_arrow "+d.className;var b=s.renderer.$cursorLayer.getPixelPosition(r).left;w.style.left=b+s.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",S.className="error_widget "+d.className,d.displayText.forEach(function(A,T){S.appendChild(E.createTextNode(A)),T<d.displayText.length-1&&S.appendChild(E.createElement("br"))}),S.appendChild(E.createElement("div"));var k=function(A,T,j){if(T===0&&(j==="esc"||j==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){s.$mouseHandler.isMousePressed||(s.keyBinding.removeKeyboardHandler(k),n.widgetManager.removeLineWidget(x),s.off("changeSelection",x.destroy),s.off("changeSession",x.destroy),s.off("mouseup",x.destroy),s.off("change",x.destroy))},s.keyBinding.addKeyboardHandler(k),s.on("changeSelection",x.destroy),s.on("changeSession",x.destroy),s.on("mouseup",x.destroy),s.on("change",x.destroy),s.session.widgetManager.addLineWidget(x),x.el.onmousedown=s.focus.bind(s),s.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},E.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(m,v,R){m("./loader_build")(v);var E=m("./lib/dom"),y=m("./range").Range,f=m("./editor").Editor,a=m("./edit_session").EditSession,c=m("./undomanager").UndoManager,s=m("./virtual_renderer").VirtualRenderer;m("./worker/worker_client"),m("./keyboard/hash_handler"),m("./placeholder"),m("./multi_select"),m("./mode/folding/fold_mode"),m("./theme/textmate"),m("./ext/error_marker"),v.config=m("./config"),v.edit=function(n,r){if(typeof n=="string"){var l=n;if(n=document.getElementById(l),!n)throw new Error("ace.edit can't find div #"+l)}if(n&&n.env&&n.env.editor instanceof f)return n.env.editor;var u="";if(n&&/input|textarea/i.test(n.tagName)){var o=n;u=o.value,n=E.createElement("pre"),o.parentNode.replaceChild(n,o)}else n&&(u=n.textContent,n.innerHTML="");var d=v.createEditSession(u),g=new f(new s(n),d,r),x={document:d,editor:g,onResize:g.resize.bind(g,null)};return o&&(x.textarea=o),g.on("destroy",function(){x.editor.container.env=null}),g.container.env=g.env=x,g},v.createEditSession=function(n,r){var l=new a(n,r);return l.setUndoManager(new c),l},v.Range=y,v.Editor=f,v.EditSession=a,v.UndoManager=c,v.VirtualRenderer=s;var i=v.config.version;v.version=i}),(function(){ace.require(["ace/ace"],function(m){m&&(m.config.init(!0),m.define=ace.define);var v=(function(){return this})();!v&&typeof window<"u"&&(v=window),!v&&typeof self<"u"&&(v=self),v.ace||(v.ace=m);for(var R in m)m.hasOwnProperty(R)&&(v.ace[R]=m[R]);v.ace.default=v.ace,h&&(h.exports=v.ace)})})()})(Uh)),Uh.exports}var Vh={exports:{}},Gh,Xm;function sw(){if(Xm)return Gh;Xm=1;var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gh=h,Gh}var Kh,qm;function ow(){if(qm)return Kh;qm=1;var h=sw();function _(){}function m(){}return m.resetWarningCache=_,Kh=function(){function v(y,f,a,c,s,i){if(i!==h){var n=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}v.isRequired=v;function R(){return v}var E={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:R,element:v,elementType:v,instanceOf:R,node:v,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:m,resetWarningCache:_};return E.PropTypes=E,E},Kh}var Zm;function Rd(){return Zm||(Zm=1,Vh.exports=ow()()),Vh.exports}var ka={exports:{}};ka.exports;var Qm;function f0(){return Qm||(Qm=1,(function(h,_){var m=200,v="__lodash_hash_undefined__",R=1,E=2,y=9007199254740991,f="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",s="[object Boolean]",i="[object Date]",n="[object Error]",r="[object Function]",l="[object GeneratorFunction]",u="[object Map]",o="[object Number]",d="[object Null]",g="[object Object]",x="[object Promise]",S="[object Proxy]",w="[object RegExp]",b="[object Set]",k="[object String]",A="[object Symbol]",T="[object Undefined]",j="[object WeakMap]",F="[object ArrayBuffer]",N="[object DataView]",$="[object Float32Array]",M="[object Float64Array]",L="[object Int8Array]",D="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,q={};q[$]=q[M]=q[L]=q[D]=q[z]=q[B]=q[P]=q[U]=q[W]=!0,q[f]=q[a]=q[F]=q[s]=q[N]=q[i]=q[n]=q[r]=q[u]=q[o]=q[g]=q[w]=q[b]=q[k]=q[j]=!1;var J=typeof En=="object"&&En&&En.Object===Object&&En,V=typeof self=="object"&&self&&self.Object===Object&&self,Q=J||V||Function("return this")(),te=_&&!_.nodeType&&_,ne=te&&!0&&h&&!h.nodeType&&h,me=ne&&ne.exports===te,pe=me&&J.process,Se=(function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}})(),ke=Se&&Se.isTypedArray;function Ae(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length,Qe=0,Oe=[];++ye<xe;){var lt=ee[ye];oe(lt,ye,ee)&&(Oe[Qe++]=lt)}return Oe}function Ue(ee,oe){for(var ye=-1,xe=oe.length,Qe=ee.length;++ye<xe;)ee[Qe+ye]=oe[ye];return ee}function we(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length;++ye<xe;)if(oe(ee[ye],ye,ee))return!0;return!1}function Ce(ee,oe){for(var ye=-1,xe=Array(ee);++ye<ee;)xe[ye]=oe(ye);return xe}function at(ee){return function(oe){return ee(oe)}}function $t(ee,oe){return ee.has(oe)}function qt(ee,oe){return ee?.[oe]}function Zt(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe,Qe){ye[++oe]=[Qe,xe]}),ye}function mt(ee,oe){return function(ye){return ee(oe(ye))}}function Ze(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe){ye[++oe]=xe}),ye}var _t=Array.prototype,Dt=Function.prototype,xt=Object.prototype,pt=Q["__core-js_shared__"],Kt=Dt.toString,nt=xt.hasOwnProperty,rt=(function(){var ee=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""})(),He=xt.toString,Tt=RegExp("^"+Kt.call(nt).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=me?Q.Buffer:void 0,wt=Q.Symbol,le=Q.Uint8Array,be=xt.propertyIsEnumerable,Me=_t.splice,Pe=wt?wt.toStringTag:void 0,Ft=Object.getOwnPropertySymbols,si=gt?gt.isBuffer:void 0,$i=mt(Object.keys,Object),Pt=xi(Q,"DataView"),Di=xi(Q,"Map"),Zi=xi(Q,"Promise"),Br=xi(Q,"Set"),er=xi(Q,"WeakMap"),Qi=xi(Object,"create"),Tn=on(Pt),ko=on(Di),ps=on(Zi),gs=on(Br),ms=on(er),tr=wt?wt.prototype:void 0,Mn=tr?tr.valueOf:void 0;function Oi(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function vs(){this.__data__=Qi?Qi(null):{},this.size=0}function ji(ee){var oe=this.has(ee)&&delete this.__data__[ee];return this.size-=oe?1:0,oe}function Mt(ee){var oe=this.__data__;if(Qi){var ye=oe[ee];return ye===v?void 0:ye}return nt.call(oe,ee)?oe[ee]:void 0}function Wt(ee){var oe=this.__data__;return Qi?oe[ee]!==void 0:nt.call(oe,ee)}function vn(ee,oe){var ye=this.__data__;return this.size+=this.has(ee)?0:1,ye[ee]=Qi&&oe===void 0?v:oe,this}Oi.prototype.clear=vs,Oi.prototype.delete=ji,Oi.prototype.get=Mt,Oi.prototype.has=Wt,Oi.prototype.set=vn;function ci(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function To(){this.__data__=[],this.size=0}function Mo(ee){var oe=this.__data__,ye=Qt(oe,ee);if(ye<0)return!1;var xe=oe.length-1;return ye==xe?oe.pop():Me.call(oe,ye,1),--this.size,!0}function ys(ee){var oe=this.__data__,ye=Qt(oe,ee);return ye<0?void 0:oe[ye][1]}function Ln(ee){return Qt(this.__data__,ee)>-1}function Hr(ee,oe){var ye=this.__data__,xe=Qt(ye,ee);return xe<0?(++this.size,ye.push([ee,oe])):ye[xe][1]=oe,this}ci.prototype.clear=To,ci.prototype.delete=Mo,ci.prototype.get=ys,ci.prototype.has=Ln,ci.prototype.set=Hr;function oi(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function Ji(){this.size=0,this.__data__={hash:new Oi,map:new(Di||ci),string:new Oi}}function Rn(ee){var oe=Pr(this,ee).delete(ee);return this.size-=oe?1:0,oe}function yn(ee){return Pr(this,ee).get(ee)}function St(ee){return Pr(this,ee).has(ee)}function bs(ee,oe){var ye=Pr(this,ee),xe=ye.size;return ye.set(ee,oe),this.size+=ye.size==xe?0:1,this}oi.prototype.clear=Ji,oi.prototype.delete=Rn,oi.prototype.get=yn,oi.prototype.has=St,oi.prototype.set=bs;function Nn(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.__data__=new oi;++oe<ye;)this.add(ee[oe])}function en(ee){return this.__data__.set(ee,v),this}function tn(ee){return this.__data__.has(ee)}Nn.prototype.add=Nn.prototype.push=en,Nn.prototype.has=tn;function Ii(ee){var oe=this.__data__=new ci(ee);this.size=oe.size}function _s(){this.__data__=new ci,this.size=0}function xs(ee){var oe=this.__data__,ye=oe.delete(ee);return this.size=oe.size,ye}function zr(ee){return this.__data__.get(ee)}function ws(ee){return this.__data__.has(ee)}function Ss(ee,oe){var ye=this.__data__;if(ye instanceof ci){var xe=ye.__data__;if(!Di||xe.length<m-1)return xe.push([ee,oe]),this.size=++ye.size,this;ye=this.__data__=new oi(xe)}return ye.set(ee,oe),this.size=ye.size,this}Ii.prototype.clear=_s,Ii.prototype.delete=xs,Ii.prototype.get=zr,Ii.prototype.has=ws,Ii.prototype.set=Ss;function nn(ee,oe){var ye=an(ee),xe=!ye&&nr(ee),Qe=!ye&&!xe&&Wr(ee),Oe=!ye&&!xe&&!Qe&&cn(ee),lt=ye||xe||Qe||Oe,Ot=lt?Ce(ee.length,String):[],Lt=Ot.length;for(var dt in ee)nt.call(ee,dt)&&!(lt&&(dt=="length"||Qe&&(dt=="offset"||dt=="parent")||Oe&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||Oo(dt,Lt)))&&Ot.push(dt);return Ot}function Qt(ee,oe){for(var ye=ee.length;ye--;)if(ks(ee[ye][0],oe))return ye;return-1}function za(ee,oe,ye){var xe=oe(ee);return an(ee)?xe:Ue(xe,ye(ee))}function Fr(ee){return ee==null?ee===void 0?T:d:Pe&&Pe in Object(ee)?Rc(ee):sn(ee)}function Cs(ee){return ln(ee)&&Fr(ee)==f}function Lo(ee,oe,ye,xe,Qe){return ee===oe?!0:ee==null||oe==null||!ln(ee)&&!ln(oe)?ee!==ee&&oe!==oe:Es(ee,oe,ye,xe,Lo,Qe)}function Es(ee,oe,ye,xe,Qe,Oe){var lt=an(ee),Ot=an(oe),Lt=lt?a:rn(ee),dt=Ot?a:rn(oe);Lt=Lt==f?g:Lt,dt=dt==f?g:dt;var Ut=Lt==g,ai=dt==g,Vt=Lt==dt;if(Vt&&Wr(ee)){if(!Wr(oe))return!1;lt=!0,Ut=!1}if(Vt&&!Ut)return Oe||(Oe=new Ii),lt||cn(ee)?No(ee,oe,ye,xe,Qe,Oe):$o(ee,oe,Lt,ye,xe,Qe,Oe);if(!(ye&R)){var di=Ut&&nt.call(ee,"__wrapped__"),fi=ai&&nt.call(oe,"__wrapped__");if(di||fi){var bn=di?ee.value():ee,wi=fi?oe.value():oe;return Oe||(Oe=new Ii),Qe(bn,wi,ye,xe,Oe)}}return Vt?(Oe||(Oe=new Ii),ir(ee,oe,ye,xe,Qe,Oe)):!1}function Lc(ee){if(!Ts(ee)||$c(ee))return!1;var oe=rr(ee)?Tt:Y;return oe.test(on(ee))}function hi(ee){return ln(ee)&&Bi(ee.length)&&!!q[Fr(ee)]}function Ro(ee){if(!As(ee))return $i(ee);var oe=[];for(var ye in Object(ee))nt.call(ee,ye)&&ye!="constructor"&&oe.push(ye);return oe}function No(ee,oe,ye,xe,Qe,Oe){var lt=ye&R,Ot=ee.length,Lt=oe.length;if(Ot!=Lt&&!(lt&&Lt>Ot))return!1;var dt=Oe.get(ee);if(dt&&Oe.get(oe))return dt==oe;var Ut=-1,ai=!0,Vt=ye&E?new Nn:void 0;for(Oe.set(ee,oe),Oe.set(oe,ee);++Ut<Ot;){var di=ee[Ut],fi=oe[Ut];if(xe)var bn=lt?xe(fi,di,Ut,oe,ee,Oe):xe(di,fi,Ut,ee,oe,Oe);if(bn!==void 0){if(bn)continue;ai=!1;break}if(Vt){if(!we(oe,function(wi,$n){if(!$t(Vt,$n)&&(di===wi||Qe(di,wi,ye,xe,Oe)))return Vt.push($n)})){ai=!1;break}}else if(!(di===fi||Qe(di,fi,ye,xe,Oe))){ai=!1;break}}return Oe.delete(ee),Oe.delete(oe),ai}function $o(ee,oe,ye,xe,Qe,Oe,lt){switch(ye){case N:if(ee.byteLength!=oe.byteLength||ee.byteOffset!=oe.byteOffset)return!1;ee=ee.buffer,oe=oe.buffer;case F:return!(ee.byteLength!=oe.byteLength||!Oe(new le(ee),new le(oe)));case s:case i:case o:return ks(+ee,+oe);case n:return ee.name==oe.name&&ee.message==oe.message;case w:case k:return ee==oe+"";case u:var Ot=Zt;case b:var Lt=xe&R;if(Ot||(Ot=Ze),ee.size!=oe.size&&!Lt)return!1;var dt=lt.get(ee);if(dt)return dt==oe;xe|=E,lt.set(ee,oe);var Ut=No(Ot(ee),Ot(oe),xe,Qe,Oe,lt);return lt.delete(ee),Ut;case A:if(Mn)return Mn.call(ee)==Mn.call(oe)}return!1}function ir(ee,oe,ye,xe,Qe,Oe){var lt=ye&R,Ot=Do(ee),Lt=Ot.length,dt=Do(oe),Ut=dt.length;if(Lt!=Ut&&!lt)return!1;for(var ai=Lt;ai--;){var Vt=Ot[ai];if(!(lt?Vt in oe:nt.call(oe,Vt)))return!1}var di=Oe.get(ee);if(di&&Oe.get(oe))return di==oe;var fi=!0;Oe.set(ee,oe),Oe.set(oe,ee);for(var bn=lt;++ai<Lt;){Vt=Ot[ai];var wi=ee[Vt],$n=oe[Vt];if(xe)var Va=lt?xe($n,wi,Vt,oe,ee,Oe):xe(wi,$n,Vt,ee,oe,Oe);if(!(Va===void 0?wi===$n||Qe(wi,$n,ye,xe,Oe):Va)){fi=!1;break}bn||(bn=Vt=="constructor")}if(fi&&!bn){var Ls=ee.constructor,Rs=oe.constructor;Ls!=Rs&&"constructor"in ee&&"constructor"in oe&&!(typeof Ls=="function"&&Ls instanceof Ls&&typeof Rs=="function"&&Rs instanceof Rs)&&(fi=!1)}return Oe.delete(ee),Oe.delete(oe),fi}function Do(ee){return za(ee,jo,Fa)}function Pr(ee,oe){var ye=ee.__data__;return Nc(oe)?ye[typeof oe=="string"?"string":"hash"]:ye.map}function xi(ee,oe){var ye=qt(ee,oe);return Lc(ye)?ye:void 0}function Rc(ee){var oe=nt.call(ee,Pe),ye=ee[Pe];try{ee[Pe]=void 0;var xe=!0}catch{}var Qe=He.call(ee);return xe&&(oe?ee[Pe]=ye:delete ee[Pe]),Qe}var Fa=Ft?function(ee){return ee==null?[]:(ee=Object(ee),Ae(Ft(ee),function(oe){return be.call(ee,oe)}))}:Ms,rn=Fr;(Pt&&rn(new Pt(new ArrayBuffer(1)))!=N||Di&&rn(new Di)!=u||Zi&&rn(Zi.resolve())!=x||Br&&rn(new Br)!=b||er&&rn(new er)!=j)&&(rn=function(ee){var oe=Fr(ee),ye=oe==g?ee.constructor:void 0,xe=ye?on(ye):"";if(xe)switch(xe){case Tn:return N;case ko:return u;case ps:return x;case gs:return b;case ms:return j}return oe});function Oo(ee,oe){return oe=oe??y,!!oe&&(typeof ee=="number"||X.test(ee))&&ee>-1&&ee%1==0&&ee<oe}function Nc(ee){var oe=typeof ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?ee!=="__proto__":ee===null}function $c(ee){return!!rt&&rt in ee}function As(ee){var oe=ee&&ee.constructor,ye=typeof oe=="function"&&oe.prototype||xt;return ee===ye}function sn(ee){return He.call(ee)}function on(ee){if(ee!=null){try{return Kt.call(ee)}catch{}try{return ee+""}catch{}}return""}function ks(ee,oe){return ee===oe||ee!==ee&&oe!==oe}var nr=Cs((function(){return arguments})())?Cs:function(ee){return ln(ee)&&nt.call(ee,"callee")&&!be.call(ee,"callee")},an=Array.isArray;function Pa(ee){return ee!=null&&Bi(ee.length)&&!rr(ee)}var Wr=si||Ua;function Wa(ee,oe){return Lo(ee,oe)}function rr(ee){if(!Ts(ee))return!1;var oe=Fr(ee);return oe==r||oe==l||oe==c||oe==S}function Bi(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=y}function Ts(ee){var oe=typeof ee;return ee!=null&&(oe=="object"||oe=="function")}function ln(ee){return ee!=null&&typeof ee=="object"}var cn=ke?at(ke):hi;function jo(ee){return Pa(ee)?nn(ee):Ro(ee)}function Ms(){return[]}function Ua(){return!1}h.exports=Wa})(ka,ka.exports)),ka.exports}var fn={},Jm;function p0(){if(Jm)return fn;Jm=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.getAceInstance=fn.debounce=fn.editorEvents=fn.editorOptions=void 0;var h=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];fn.editorOptions=h;var _=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];fn.editorEvents=_;var m=function(){var R;return typeof window>"u"?(En.window={},R=La(),delete En.window):window.ace?(R=window.ace,R.acequire=window.ace.require||window.ace.acequire):R=La(),R};fn.getAceInstance=m;var v=function(R,E){var y=null;return function(){var f=this,a=arguments;clearTimeout(y),y=setTimeout(function(){R.apply(f,a)},E)}};return fn.debounce=v,fn}var ev;function aw(){if(ev)return Tr;ev=1;var h=Tr&&Tr.__extends||(function(){var c=function(s,i){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])},c(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");c(s,i);function n(){this.constructor=s}s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}})(),_=Tr&&Tr.__assign||function(){return _=Object.assign||function(c){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(c[r]=s[r])}return c},_.apply(this,arguments)};Object.defineProperty(Tr,"__esModule",{value:!0});var m=La(),v=Rd(),R=Ir(),E=f0(),y=p0(),f=(0,y.getAceInstance)(),a=(function(c){h(s,c);function s(i){var n=c.call(this,i)||this;return y.editorEvents.forEach(function(r){n[r]=n[r].bind(n)}),n.debounce=y.debounce,n}return s.prototype.isInShadow=function(i){for(var n=i&&i.parentNode;n;){if(n.toString()==="[object ShadowRoot]")return!0;n=n.parentNode}return!1},s.prototype.componentDidMount=function(){var i=this,n=this.props,r=n.className,l=n.onBeforeLoad,u=n.onValidate,o=n.mode,d=n.focus,g=n.theme,x=n.fontSize,S=n.lineHeight,w=n.value,b=n.defaultValue,k=n.showGutter,A=n.wrapEnabled,T=n.showPrintMargin,j=n.scrollMargin,F=j===void 0?[0,0,0,0]:j,N=n.keyboardHandler,$=n.onLoad,M=n.commands,L=n.annotations,D=n.markers,z=n.placeholder;this.editor=f.edit(this.refEditor),l&&l(f);for(var B=Object.keys(this.props.editorProps),P=0;P<B.length;P++)this.editor[B[P]]=this.props.editorProps[B[P]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(F[0],F[1],F[2],F[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof o=="string"?"ace/mode/".concat(o):o),g&&g!==""&&this.editor.setTheme("ace/theme/".concat(g)),this.editor.setFontSize(typeof x=="number"?"".concat(x,"px"):x),S&&(this.editor.container.style.lineHeight=typeof S=="number"?"".concat(S,"px"):"".concat(S),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(b||w||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(k),this.editor.getSession().setUseWrapMode(A),this.editor.setShowPrintMargin(T),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),z&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),u&&this.editor.getSession().on("changeAnnotation",function(){var W=i.editor.getSession().getAnnotations();i.props.onValidate(W)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(L||[]),D&&D.length>0&&this.handleMarkers(D);var U=this.editor.$options;y.editorOptions.forEach(function(W){U.hasOwnProperty(W)?i.editor.setOption(W,i.props[W]):i.props[W]&&console.warn("ReactAce: editor option ".concat(W," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(M)&&M.forEach(function(W){typeof W.exec=="string"?i.editor.commands.bindKey(W.bindKey,W.exec):i.editor.commands.addCommand(W)}),N&&this.editor.setKeyboardHandler("ace/keyboard/"+N),r&&(this.refEditor.className+=" "+r),$&&$(this.editor),this.editor.resize(),d&&this.editor.focus()},s.prototype.componentDidUpdate=function(i){for(var n=i,r=this.props,l=0;l<y.editorOptions.length;l++){var u=y.editorOptions[l];r[u]!==n[u]&&this.editor.setOption(u,r[u])}if(r.className!==n.className){var o=this.refEditor.className,d=o.trim().split(" "),g=n.className.trim().split(" ");g.forEach(function(w){var b=d.indexOf(w);d.splice(b,1)}),this.refEditor.className=" "+r.className+" "+d.join(" ")}var x=this.editor&&r.value!=null&&this.editor.getValue()!==r.value;if(x){this.silent=!0;var S=this.editor.session.selection.toJSON();this.editor.setValue(r.value,r.cursorStart),this.editor.session.selection.fromJSON(S),this.silent=!1}r.placeholder!==n.placeholder&&this.updatePlaceholder(),r.mode!==n.mode&&this.editor.getSession().setMode(typeof r.mode=="string"?"ace/mode/".concat(r.mode):r.mode),r.theme!==n.theme&&this.editor.setTheme("ace/theme/"+r.theme),r.keyboardHandler!==n.keyboardHandler&&(r.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):this.editor.setKeyboardHandler(null)),r.fontSize!==n.fontSize&&this.editor.setFontSize(typeof r.fontSize=="number"?"".concat(r.fontSize,"px"):r.fontSize),r.lineHeight!==n.lineHeight&&(this.editor.container.style.lineHeight=typeof r.lineHeight=="number"?"".concat(r.lineHeight,"px"):r.lineHeight,this.editor.renderer.updateFontSize()),r.wrapEnabled!==n.wrapEnabled&&this.editor.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&this.editor.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&this.editor.renderer.setShowGutter(r.showGutter),E(r.setOptions,n.setOptions)||this.handleOptions(r),(x||!E(r.annotations,n.annotations))&&this.editor.getSession().setAnnotations(r.annotations||[]),!E(r.markers,n.markers)&&Array.isArray(r.markers)&&this.handleMarkers(r.markers),E(r.scrollMargin,n.scrollMargin)||this.handleScrollMargins(r.scrollMargin),(i.height!==this.props.height||i.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!i.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(i){i===void 0&&(i=[0,0,0,0]),this.editor.renderer.setScrollMargin(i[0],i[1],i[2],i[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(i){if(this.editor&&this.props.onChange&&!this.silent){var n=this.editor.getValue();this.props.onChange(n,i)}},s.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var n=this.editor.getSelection();this.props.onSelectionChange(n,i)}},s.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var n=this.editor.getSelection();this.props.onCursorChange(n,i)}},s.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i,this.editor)},s.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i,this.editor)},s.prototype.onCopy=function(i){var n=i.text;this.props.onCopy&&this.props.onCopy(n)},s.prototype.onPaste=function(i){var n=i.text;this.props.onPaste&&this.props.onPaste(n)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(i){for(var n=Object.keys(i.setOptions),r=0;r<n.length;r++)this.editor.setOption(n[r],i.setOptions[n[r]])},s.prototype.handleMarkers=function(i){var n=this,r=this.editor.getSession().getMarkers(!0);for(var l in r)r.hasOwnProperty(l)&&this.editor.getSession().removeMarker(r[l].id);r=this.editor.getSession().getMarkers(!1);for(var l in r)r.hasOwnProperty(l)&&r[l].clazz!=="ace_active-line"&&r[l].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(r[l].id);i.forEach(function(u){var o=u.startRow,d=u.startCol,g=u.endRow,x=u.endCol,S=u.className,w=u.type,b=u.inFront,k=b===void 0?!1:b,A=new m.Range(o,d,g,x);n.editor.getSession().addMarker(A,S,w,k)})},s.prototype.updatePlaceholder=function(){var i=this.editor,n=this.props.placeholder,r=!i.session.getValue().length,l=i.renderer.placeholderNode;!r&&l?(i.renderer.scroller.removeChild(i.renderer.placeholderNode),i.renderer.placeholderNode=null):r&&!l?(l=i.renderer.placeholderNode=document.createElement("div"),l.textContent=n||"",l.className="ace_comment ace_placeholder",l.style.padding="0 9px",l.style.position="absolute",l.style.zIndex="3",i.renderer.scroller.appendChild(l)):r&&l&&(l.textContent=n)},s.prototype.updateRef=function(i){this.refEditor=i},s.prototype.render=function(){var i=this.props,n=i.name,r=i.width,l=i.height,u=i.style,o=_({width:r,height:l},u);return R.createElement("div",{ref:this.updateRef,id:n,style:o})},s.propTypes={mode:v.oneOfType([v.string,v.object]),focus:v.bool,theme:v.string,name:v.string,className:v.string,height:v.string,width:v.string,fontSize:v.oneOfType([v.number,v.string]),lineHeight:v.oneOfType([v.number,v.string]),showGutter:v.bool,onChange:v.func,onCopy:v.func,onPaste:v.func,onFocus:v.func,onInput:v.func,onBlur:v.func,onScroll:v.func,value:v.string,defaultValue:v.string,onLoad:v.func,onSelectionChange:v.func,onCursorChange:v.func,onBeforeLoad:v.func,onValidate:v.func,minLines:v.number,maxLines:v.number,readOnly:v.bool,highlightActiveLine:v.bool,tabSize:v.number,showPrintMargin:v.bool,cursorStart:v.number,debounceChangePeriod:v.number,editorProps:v.object,setOptions:v.object,style:v.object,scrollMargin:v.array,annotations:v.array,markers:v.array,keyboardHandler:v.string,wrapEnabled:v.bool,enableSnippets:v.bool,enableBasicAutocompletion:v.oneOfType([v.bool,v.array]),enableLiveAutocompletion:v.oneOfType([v.bool,v.array]),navigateToFileEnd:v.bool,commands:v.array,placeholder:v.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s})(R.Component);return Tr.default=a,Tr}var co={},Mr={},Yh={exports:{}},tv;function lw(){return tv||(tv=1,(function(h,_){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(m,v,R){var E=m("./lib/oop");m("./lib/lang");var y=m("./lib/event_emitter").EventEmitter,f=m("./editor").Editor,a=m("./virtual_renderer").VirtualRenderer,c=m("./edit_session").EditSession,s;s=function(i,n,r){this.BELOW=1,this.BESIDE=0,this.$container=i,this.$theme=n,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(r||1),this.$cEditor=this.$editors[0],this.on("focus",(function(l){this.$cEditor=l}).bind(this))},(function(){E.implement(this,y),this.$createEditor=function(){var i=document.createElement("div");i.className=this.$editorCSS,i.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(i);var n=new f(new a(i,this.$theme));return n.on("focus",(function(){this._emit("focus",n)}).bind(this)),this.$editors.push(n),n.setFontSize(this.$fontSize),n},this.setSplits=function(i){var n;if(i<1)throw"The number of splits have to be > 0!";if(i!=this.$splits){if(i>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<i;)n=this.$editors[this.$splits],this.$container.appendChild(n.container),n.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<i;)this.$createEditor(),this.$splits++}else for(;this.$splits>i;)n=this.$editors[this.$splits-1],this.$container.removeChild(n.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(i){return this.$editors[i]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(i){this.$editors.forEach(function(n){n.setTheme(i)})},this.setKeyboardHandler=function(i){this.$editors.forEach(function(n){n.setKeyboardHandler(i)})},this.forEach=function(i,n){this.$editors.forEach(i,n)},this.$fontSize="",this.setFontSize=function(i){this.$fontSize=i,this.forEach(function(n){n.setFontSize(i)})},this.$cloneSession=function(i){var n=new c(i.getDocument(),i.getMode()),r=i.getUndoManager();return n.setUndoManager(r),n.setTabSize(i.getTabSize()),n.setUseSoftTabs(i.getUseSoftTabs()),n.setOverwrite(i.getOverwrite()),n.setBreakpoints(i.getBreakpoints()),n.setUseWrapMode(i.getUseWrapMode()),n.setUseWorker(i.getUseWorker()),n.setWrapLimitRange(i.$wrapLimitRange.min,i.$wrapLimitRange.max),n.$foldData=i.$cloneFoldData(),n},this.setSession=function(i,n){var r;n==null?r=this.$cEditor:r=this.$editors[n];var l=this.$editors.some(function(u){return u.session===i});return l&&(i=this.$cloneSession(i)),r.setSession(i),i},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(i){this.$orientation!=i&&(this.$orientation=i,this.resize())},this.resize=function(){var i=this.$container.clientWidth,n=this.$container.clientHeight,r;if(this.$orientation==this.BESIDE)for(var l=i/this.$splits,u=0;u<this.$splits;u++)r=this.$editors[u],r.container.style.width=l+"px",r.container.style.top="0px",r.container.style.left=u*l+"px",r.container.style.height=n+"px",r.resize();else for(var o=n/this.$splits,u=0;u<this.$splits;u++)r=this.$editors[u],r.container.style.width=i+"px",r.container.style.top=u*o+"px",r.container.style.left="0px",r.container.style.height=o+"px",r.resize()}}).call(s.prototype),v.Split=s}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(m,v,R){R.exports=m("../split")}),(function(){ace.require(["ace/ext/split"],function(m){h&&(h.exports=m)})})()})(Yh)),Yh.exports}var Xh,iv;function cw(){if(iv)return Xh;iv=1;var h="Expected a function",_="__lodash_hash_undefined__",m="[object Function]",v="[object GeneratorFunction]",R="[object Symbol]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/,f=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/[\\^$.*+?()[\]{}|]/g,s=/\\(\\)?/g,i=/^\[object .+?Constructor\]$/,n=typeof En=="object"&&En&&En.Object===Object&&En,r=typeof self=="object"&&self&&self.Object===Object&&self,l=n||r||Function("return this")();function u(le,be){return le?.[be]}function o(le){var be=!1;if(le!=null&&typeof le.toString!="function")try{be=!!(le+"")}catch{}return be}var d=Array.prototype,g=Function.prototype,x=Object.prototype,S=l["__core-js_shared__"],w=(function(){var le=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""})(),b=g.toString,k=x.hasOwnProperty,A=x.toString,T=RegExp("^"+b.call(k).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=l.Symbol,F=d.splice,N=$t(l,"Map"),$=$t(Object,"create"),M=j?j.prototype:void 0,L=M?M.toString:void 0;function D(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function z(){this.__data__=$?$(null):{}}function B(le){return this.has(le)&&delete this.__data__[le]}function P(le){var be=this.__data__;if($){var Me=be[le];return Me===_?void 0:Me}return k.call(be,le)?be[le]:void 0}function U(le){var be=this.__data__;return $?be[le]!==void 0:k.call(be,le)}function W(le,be){var Me=this.__data__;return Me[le]=$&&be===void 0?_:be,this}D.prototype.clear=z,D.prototype.delete=B,D.prototype.get=P,D.prototype.has=U,D.prototype.set=W;function K(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function Y(){this.__data__=[]}function X(le){var be=this.__data__,Me=ke(be,le);if(Me<0)return!1;var Pe=be.length-1;return Me==Pe?be.pop():F.call(be,Me,1),!0}function q(le){var be=this.__data__,Me=ke(be,le);return Me<0?void 0:be[Me][1]}function J(le){return ke(this.__data__,le)>-1}function V(le,be){var Me=this.__data__,Pe=ke(Me,le);return Pe<0?Me.push([le,be]):Me[Pe][1]=be,this}K.prototype.clear=Y,K.prototype.delete=X,K.prototype.get=q,K.prototype.has=J,K.prototype.set=V;function Q(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function te(){this.__data__={hash:new D,map:new(N||K),string:new D}}function ne(le){return at(this,le).delete(le)}function me(le){return at(this,le).get(le)}function pe(le){return at(this,le).has(le)}function Se(le,be){return at(this,le).set(le,be),this}Q.prototype.clear=te,Q.prototype.delete=ne,Q.prototype.get=me,Q.prototype.has=pe,Q.prototype.set=Se;function ke(le,be){for(var Me=le.length;Me--;)if(pt(le[Me][0],be))return Me;return-1}function Ae(le,be){be=qt(be,le)?[be]:Ce(be);for(var Me=0,Pe=be.length;le!=null&&Me<Pe;)le=le[_t(be[Me++])];return Me&&Me==Pe?le:void 0}function Ue(le){if(!rt(le)||mt(le))return!1;var be=nt(le)||o(le)?T:i;return be.test(Dt(le))}function we(le){if(typeof le=="string")return le;if(Tt(le))return L?L.call(le):"";var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Ce(le){return Kt(le)?le:Ze(le)}function at(le,be){var Me=le.__data__;return Zt(be)?Me[typeof be=="string"?"string":"hash"]:Me.map}function $t(le,be){var Me=u(le,be);return Ue(Me)?Me:void 0}function qt(le,be){if(Kt(le))return!1;var Me=typeof le;return Me=="number"||Me=="symbol"||Me=="boolean"||le==null||Tt(le)?!0:y.test(le)||!E.test(le)||be!=null&&le in Object(be)}function Zt(le){var be=typeof le;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?le!=="__proto__":le===null}function mt(le){return!!w&&w in le}var Ze=xt(function(le){le=gt(le);var be=[];return f.test(le)&&be.push(""),le.replace(a,function(Me,Pe,Ft,si){be.push(Ft?si.replace(s,"$1"):Pe||Me)}),be});function _t(le){if(typeof le=="string"||Tt(le))return le;var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Dt(le){if(le!=null){try{return b.call(le)}catch{}try{return le+""}catch{}}return""}function xt(le,be){if(typeof le!="function"||be&&typeof be!="function")throw new TypeError(h);var Me=function(){var Pe=arguments,Ft=be?be.apply(this,Pe):Pe[0],si=Me.cache;if(si.has(Ft))return si.get(Ft);var $i=le.apply(this,Pe);return Me.cache=si.set(Ft,$i),$i};return Me.cache=new(xt.Cache||Q),Me}xt.Cache=Q;function pt(le,be){return le===be||le!==le&&be!==be}var Kt=Array.isArray;function nt(le){var be=rt(le)?A.call(le):"";return be==m||be==v}function rt(le){var be=typeof le;return!!le&&(be=="object"||be=="function")}function He(le){return!!le&&typeof le=="object"}function Tt(le){return typeof le=="symbol"||He(le)&&A.call(le)==R}function gt(le){return le==null?"":we(le)}function wt(le,be,Me){var Pe=le==null?void 0:Ae(le,be);return Pe===void 0?Me:Pe}return Xh=wt,Xh}var nv;function g0(){if(nv)return Mr;nv=1;var h=Mr&&Mr.__extends||(function(){var i=function(n,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(l[o]=u[o])},i(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");i(n,r);function l(){this.constructor=n}n.prototype=r===null?Object.create(r):(l.prototype=r.prototype,new l)}})(),_=Mr&&Mr.__assign||function(){return _=Object.assign||function(i){for(var n,r=1,l=arguments.length;r<l;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(i[u]=n[u])}return i},_.apply(this,arguments)};Object.defineProperty(Mr,"__esModule",{value:!0});var m=p0(),v=(0,m.getAceInstance)(),R=La(),E=lw(),y=Rd(),f=Ir(),a=f0(),c=cw(),s=(function(i){h(n,i);function n(r){var l=i.call(this,r)||this;return m.editorEvents.forEach(function(u){l[u]=l[u].bind(l)}),l.debounce=m.debounce,l}return n.prototype.isInShadow=function(r){for(var l=r&&r.parentNode;l;){if(l.toString()==="[object ShadowRoot]")return!0;l=l.parentNode}return!1},n.prototype.componentDidMount=function(){var r=this,l=this.props,u=l.className,o=l.onBeforeLoad,d=l.mode,g=l.focus,x=l.theme,S=l.fontSize,w=l.value,b=l.defaultValue,k=l.cursorStart,A=l.showGutter,T=l.wrapEnabled,j=l.showPrintMargin,F=l.scrollMargin,N=F===void 0?[0,0,0,0]:F,$=l.keyboardHandler,M=l.onLoad,L=l.commands,D=l.annotations,z=l.markers,B=l.splits;this.editor=v.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(x)),o&&o(v);var P=Object.keys(this.props.editorProps),U=new E.Split(this.editor.container,"ace/theme/".concat(x),B);this.editor.env.split=U,this.splitEditor=U.getEditor(0),this.split=U,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var W=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),U.forEach(function(Y,X){for(var q=0;q<P.length;q++)Y[P[q]]=r.props.editorProps[P[q]];var J=c(b,X),V=c(w,X,"");Y.session.setUndoManager(new v.UndoManager),Y.setTheme("ace/theme/".concat(x)),Y.renderer.setScrollMargin(N[0],N[1],N[2],N[3]),Y.getSession().setMode("ace/mode/".concat(d)),Y.setFontSize(S),Y.renderer.setShowGutter(A),Y.getSession().setUseWrapMode(T),Y.setShowPrintMargin(j),Y.on("focus",r.onFocus),Y.on("blur",r.onBlur),Y.on("input",r.onInput),Y.on("copy",r.onCopy),Y.on("paste",r.onPaste),Y.on("change",r.onChange),Y.getSession().selection.on("changeSelection",r.onSelectionChange),Y.getSession().selection.on("changeCursor",r.onCursorChange),Y.session.on("changeScrollTop",r.onScroll),Y.setValue(J===void 0?V:J,k);var Q=c(D,X,[]),te=c(z,X,[]);Y.getSession().setAnnotations(Q),te&&te.length>0&&r.handleMarkers(te,Y);for(var q=0;q<m.editorOptions.length;q++){var ne=m.editorOptions[q];W.hasOwnProperty(ne)?Y.setOption(ne,r.props[ne]):r.props[ne]&&console.warn("ReaceAce: editor option ".concat(ne," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}r.handleOptions(r.props,Y),Array.isArray(L)&&L.forEach(function(me){typeof me.exec=="string"?Y.commands.bindKey(me.bindKey,me.exec):Y.commands.addCommand(me)}),$&&Y.setKeyboardHandler("ace/keyboard/"+$)}),u&&(this.refEditor.className+=" "+u),g&&this.splitEditor.focus();var K=this.editor.env.split;K.setOrientation(this.props.orientation==="below"?K.BELOW:K.BESIDE),K.resize(!0),M&&M(K)},n.prototype.componentDidUpdate=function(r){var l=this,u=r,o=this.props,d=this.editor.env.split;if(o.splits!==u.splits&&d.setSplits(o.splits),o.orientation!==u.orientation&&d.setOrientation(o.orientation==="below"?d.BELOW:d.BESIDE),d.forEach(function(w,b){o.mode!==u.mode&&w.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==u.keyboardHandler&&(o.keyboardHandler?w.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):w.setKeyboardHandler(null)),o.fontSize!==u.fontSize&&w.setFontSize(o.fontSize),o.wrapEnabled!==u.wrapEnabled&&w.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==u.showPrintMargin&&w.setShowPrintMargin(o.showPrintMargin),o.showGutter!==u.showGutter&&w.renderer.setShowGutter(o.showGutter);for(var k=0;k<m.editorOptions.length;k++){var A=m.editorOptions[k];o[A]!==u[A]&&w.setOption(A,o[A])}a(o.setOptions,u.setOptions)||l.handleOptions(o,w);var T=c(o.value,b,"");if(w.getValue()!==T){l.silent=!0;var j=w.session.selection.toJSON();w.setValue(T,o.cursorStart),w.session.selection.fromJSON(j),l.silent=!1}var F=c(o.annotations,b,[]),N=c(u.annotations,b,[]);a(F,N)||w.getSession().setAnnotations(F);var $=c(o.markers,b,[]),M=c(u.markers,b,[]);!a($,M)&&Array.isArray($)&&l.handleMarkers($,w)}),o.className!==u.className){var g=this.refEditor.className,x=g.trim().split(" "),S=u.className.trim().split(" ");S.forEach(function(w){var b=x.indexOf(w);x.splice(b,1)}),this.refEditor.className=" "+o.className+" "+x.join(" ")}o.theme!==u.theme&&d.setTheme("ace/theme/"+o.theme),o.focus&&!u.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},n.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},n.prototype.onChange=function(r){if(this.props.onChange&&!this.silent){var l=[];this.editor.env.split.forEach(function(u){l.push(u.getValue())}),this.props.onChange(l,r)}},n.prototype.onSelectionChange=function(r){if(this.props.onSelectionChange){var l=[];this.editor.env.split.forEach(function(u){l.push(u.getSelection())}),this.props.onSelectionChange(l,r)}},n.prototype.onCursorChange=function(r){if(this.props.onCursorChange){var l=[];this.editor.env.split.forEach(function(u){l.push(u.getSelection())}),this.props.onCursorChange(l,r)}},n.prototype.onFocus=function(r){this.props.onFocus&&this.props.onFocus(r)},n.prototype.onInput=function(r){this.props.onInput&&this.props.onInput(r)},n.prototype.onBlur=function(r){this.props.onBlur&&this.props.onBlur(r)},n.prototype.onCopy=function(r){this.props.onCopy&&this.props.onCopy(r)},n.prototype.onPaste=function(r){this.props.onPaste&&this.props.onPaste(r)},n.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},n.prototype.handleOptions=function(r,l){for(var u=Object.keys(r.setOptions),o=0;o<u.length;o++)l.setOption(u[o],r.setOptions[u[o]])},n.prototype.handleMarkers=function(r,l){var u=l.getSession().getMarkers(!0);for(var o in u)u.hasOwnProperty(o)&&l.getSession().removeMarker(u[o].id);u=l.getSession().getMarkers(!1);for(var o in u)u.hasOwnProperty(o)&&l.getSession().removeMarker(u[o].id);r.forEach(function(d){var g=d.startRow,x=d.startCol,S=d.endRow,w=d.endCol,b=d.className,k=d.type,A=d.inFront,T=A===void 0?!1:A,j=new R.Range(g,x,S,w);l.getSession().addMarker(j,b,k,T)})},n.prototype.updateRef=function(r){this.refEditor=r},n.prototype.render=function(){var r=this.props,l=r.name,u=r.width,o=r.height,d=r.style,g=_({width:u,height:o},d);return f.createElement("div",{ref:this.updateRef,id:l,style:g})},n.propTypes={className:y.string,debounceChangePeriod:y.number,defaultValue:y.arrayOf(y.string),focus:y.bool,fontSize:y.oneOfType([y.number,y.string]),height:y.string,mode:y.string,name:y.string,onBlur:y.func,onChange:y.func,onCopy:y.func,onFocus:y.func,onInput:y.func,onLoad:y.func,onPaste:y.func,onScroll:y.func,orientation:y.string,showGutter:y.bool,splits:y.number,theme:y.string,value:y.arrayOf(y.string),width:y.string,onSelectionChange:y.func,onCursorChange:y.func,onBeforeLoad:y.func,minLines:y.number,maxLines:y.number,readOnly:y.bool,highlightActiveLine:y.bool,tabSize:y.number,showPrintMargin:y.bool,cursorStart:y.number,editorProps:y.object,setOptions:y.object,style:y.object,scrollMargin:y.array,annotations:y.array,markers:y.array,keyboardHandler:y.string,wrapEnabled:y.bool,enableBasicAutocompletion:y.oneOfType([y.bool,y.array]),enableLiveAutocompletion:y.oneOfType([y.bool,y.array]),commands:y.array},n.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},n})(f.Component);return Mr.default=s,Mr}var qh={exports:{}},rv;function uw(){return rv||(rv=1,(function(h){var _=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},m=-1,v=1,R=0;_.Diff=function(E,y){return[E,y]},_.prototype.diff_main=function(E,y,f,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var c=a;if(E==null||y==null)throw new Error("Null input. (diff_main)");if(E==y)return E?[new _.Diff(R,E)]:[];typeof f>"u"&&(f=!0);var s=f,i=this.diff_commonPrefix(E,y),n=E.substring(0,i);E=E.substring(i),y=y.substring(i),i=this.diff_commonSuffix(E,y);var r=E.substring(E.length-i);E=E.substring(0,E.length-i),y=y.substring(0,y.length-i);var l=this.diff_compute_(E,y,s,c);return n&&l.unshift(new _.Diff(R,n)),r&&l.push(new _.Diff(R,r)),this.diff_cleanupMerge(l),l},_.prototype.diff_compute_=function(E,y,f,a){var c;if(!E)return[new _.Diff(v,y)];if(!y)return[new _.Diff(m,E)];var s=E.length>y.length?E:y,i=E.length>y.length?y:E,n=s.indexOf(i);if(n!=-1)return c=[new _.Diff(v,s.substring(0,n)),new _.Diff(R,i),new _.Diff(v,s.substring(n+i.length))],E.length>y.length&&(c[0][0]=c[2][0]=m),c;if(i.length==1)return[new _.Diff(m,E),new _.Diff(v,y)];var r=this.diff_halfMatch_(E,y);if(r){var l=r[0],u=r[1],o=r[2],d=r[3],g=r[4],x=this.diff_main(l,o,f,a),S=this.diff_main(u,d,f,a);return x.concat([new _.Diff(R,g)],S)}return f&&E.length>100&&y.length>100?this.diff_lineMode_(E,y,a):this.diff_bisect_(E,y,a)},_.prototype.diff_lineMode_=function(E,y,f){var a=this.diff_linesToChars_(E,y);E=a.chars1,y=a.chars2;var c=a.lineArray,s=this.diff_main(E,y,!1,f);this.diff_charsToLines_(s,c),this.diff_cleanupSemantic(s),s.push(new _.Diff(R,""));for(var i=0,n=0,r=0,l="",u="";i<s.length;){switch(s[i][0]){case v:r++,u+=s[i][1];break;case m:n++,l+=s[i][1];break;case R:if(n>=1&&r>=1){s.splice(i-n-r,n+r),i=i-n-r;for(var o=this.diff_main(l,u,!1,f),d=o.length-1;d>=0;d--)s.splice(i,0,o[d]);i=i+o.length}r=0,n=0,l="",u="";break}i++}return s.pop(),s},_.prototype.diff_bisect_=function(E,y,f){for(var a=E.length,c=y.length,s=Math.ceil((a+c)/2),i=s,n=2*s,r=new Array(n),l=new Array(n),u=0;u<n;u++)r[u]=-1,l[u]=-1;r[i+1]=0,l[i+1]=0;for(var o=a-c,d=o%2!=0,g=0,x=0,S=0,w=0,b=0;b<s&&!(new Date().getTime()>f);b++){for(var k=-b+g;k<=b-x;k+=2){var A=i+k,T;k==-b||k!=b&&r[A-1]<r[A+1]?T=r[A+1]:T=r[A-1]+1;for(var j=T-k;T<a&&j<c&&E.charAt(T)==y.charAt(j);)T++,j++;if(r[A]=T,T>a)x+=2;else if(j>c)g+=2;else if(d){var F=i+o-k;if(F>=0&&F<n&&l[F]!=-1){var N=a-l[F];if(T>=N)return this.diff_bisectSplit_(E,y,T,j,f)}}}for(var $=-b+S;$<=b-w;$+=2){var F=i+$,N;$==-b||$!=b&&l[F-1]<l[F+1]?N=l[F+1]:N=l[F-1]+1;for(var M=N-$;N<a&&M<c&&E.charAt(a-N-1)==y.charAt(c-M-1);)N++,M++;if(l[F]=N,N>a)w+=2;else if(M>c)S+=2;else if(!d){var A=i+o-$;if(A>=0&&A<n&&r[A]!=-1){var T=r[A],j=i+T-A;if(N=a-N,T>=N)return this.diff_bisectSplit_(E,y,T,j,f)}}}}return[new _.Diff(m,E),new _.Diff(v,y)]},_.prototype.diff_bisectSplit_=function(E,y,f,a,c){var s=E.substring(0,f),i=y.substring(0,a),n=E.substring(f),r=y.substring(a),l=this.diff_main(s,i,!1,c),u=this.diff_main(n,r,!1,c);return l.concat(u)},_.prototype.diff_linesToChars_=function(E,y){var f=[],a={};f[0]="";function c(r){for(var l="",u=0,o=-1,d=f.length;o<r.length-1;){o=r.indexOf(`
`,u),o==-1&&(o=r.length-1);var g=r.substring(u,o+1);(a.hasOwnProperty?a.hasOwnProperty(g):a[g]!==void 0)?l+=String.fromCharCode(a[g]):(d==s&&(g=r.substring(u),o=r.length),l+=String.fromCharCode(d),a[g]=d,f[d++]=g),u=o+1}return l}var s=4e4,i=c(E);s=65535;var n=c(y);return{chars1:i,chars2:n,lineArray:f}},_.prototype.diff_charsToLines_=function(E,y){for(var f=0;f<E.length;f++){for(var a=E[f][1],c=[],s=0;s<a.length;s++)c[s]=y[a.charCodeAt(s)];E[f][1]=c.join("")}},_.prototype.diff_commonPrefix=function(E,y){if(!E||!y||E.charAt(0)!=y.charAt(0))return 0;for(var f=0,a=Math.min(E.length,y.length),c=a,s=0;f<c;)E.substring(s,c)==y.substring(s,c)?(f=c,s=f):a=c,c=Math.floor((a-f)/2+f);return c},_.prototype.diff_commonSuffix=function(E,y){if(!E||!y||E.charAt(E.length-1)!=y.charAt(y.length-1))return 0;for(var f=0,a=Math.min(E.length,y.length),c=a,s=0;f<c;)E.substring(E.length-c,E.length-s)==y.substring(y.length-c,y.length-s)?(f=c,s=f):a=c,c=Math.floor((a-f)/2+f);return c},_.prototype.diff_commonOverlap_=function(E,y){var f=E.length,a=y.length;if(f==0||a==0)return 0;f>a?E=E.substring(f-a):f<a&&(y=y.substring(0,f));var c=Math.min(f,a);if(E==y)return c;for(var s=0,i=1;;){var n=E.substring(c-i),r=y.indexOf(n);if(r==-1)return s;i+=r,(r==0||E.substring(c-i)==y.substring(0,i))&&(s=i,i++)}},_.prototype.diff_halfMatch_=function(E,y){if(this.Diff_Timeout<=0)return null;var f=E.length>y.length?E:y,a=E.length>y.length?y:E;if(f.length<4||a.length*2<f.length)return null;var c=this;function s(x,S,w){for(var b=x.substring(w,w+Math.floor(x.length/4)),k=-1,A="",T,j,F,N;(k=S.indexOf(b,k+1))!=-1;){var $=c.diff_commonPrefix(x.substring(w),S.substring(k)),M=c.diff_commonSuffix(x.substring(0,w),S.substring(0,k));A.length<M+$&&(A=S.substring(k-M,k)+S.substring(k,k+$),T=x.substring(0,w-M),j=x.substring(w+$),F=S.substring(0,k-M),N=S.substring(k+$))}return A.length*2>=x.length?[T,j,F,N,A]:null}var i=s(f,a,Math.ceil(f.length/4)),n=s(f,a,Math.ceil(f.length/2)),r;if(!i&&!n)return null;n?i?r=i[4].length>n[4].length?i:n:r=n:r=i;var l,u,o,d;E.length>y.length?(l=r[0],u=r[1],o=r[2],d=r[3]):(o=r[0],d=r[1],l=r[2],u=r[3]);var g=r[4];return[l,u,o,d,g]},_.prototype.diff_cleanupSemantic=function(E){for(var y=!1,f=[],a=0,c=null,s=0,i=0,n=0,r=0,l=0;s<E.length;)E[s][0]==R?(f[a++]=s,i=r,n=l,r=0,l=0,c=E[s][1]):(E[s][0]==v?r+=E[s][1].length:l+=E[s][1].length,c&&c.length<=Math.max(i,n)&&c.length<=Math.max(r,l)&&(E.splice(f[a-1],0,new _.Diff(m,c)),E[f[a-1]+1][0]=v,a--,a--,s=a>0?f[a-1]:-1,i=0,n=0,r=0,l=0,c=null,y=!0)),s++;for(y&&this.diff_cleanupMerge(E),this.diff_cleanupSemanticLossless(E),s=1;s<E.length;){if(E[s-1][0]==m&&E[s][0]==v){var u=E[s-1][1],o=E[s][1],d=this.diff_commonOverlap_(u,o),g=this.diff_commonOverlap_(o,u);d>=g?(d>=u.length/2||d>=o.length/2)&&(E.splice(s,0,new _.Diff(R,o.substring(0,d))),E[s-1][1]=u.substring(0,u.length-d),E[s+1][1]=o.substring(d),s++):(g>=u.length/2||g>=o.length/2)&&(E.splice(s,0,new _.Diff(R,u.substring(0,g))),E[s-1][0]=v,E[s-1][1]=o.substring(0,o.length-g),E[s+1][0]=m,E[s+1][1]=u.substring(g),s++),s++}s++}},_.prototype.diff_cleanupSemanticLossless=function(E){function y(g,x){if(!g||!x)return 6;var S=g.charAt(g.length-1),w=x.charAt(0),b=S.match(_.nonAlphaNumericRegex_),k=w.match(_.nonAlphaNumericRegex_),A=b&&S.match(_.whitespaceRegex_),T=k&&w.match(_.whitespaceRegex_),j=A&&S.match(_.linebreakRegex_),F=T&&w.match(_.linebreakRegex_),N=j&&g.match(_.blanklineEndRegex_),$=F&&x.match(_.blanklineStartRegex_);return N||$?5:j||F?4:b&&!A&&T?3:A||T?2:b||k?1:0}for(var f=1;f<E.length-1;){if(E[f-1][0]==R&&E[f+1][0]==R){var a=E[f-1][1],c=E[f][1],s=E[f+1][1],i=this.diff_commonSuffix(a,c);if(i){var n=c.substring(c.length-i);a=a.substring(0,a.length-i),c=n+c.substring(0,c.length-i),s=n+s}for(var r=a,l=c,u=s,o=y(a,c)+y(c,s);c.charAt(0)===s.charAt(0);){a+=c.charAt(0),c=c.substring(1)+s.charAt(0),s=s.substring(1);var d=y(a,c)+y(c,s);d>=o&&(o=d,r=a,l=c,u=s)}E[f-1][1]!=r&&(r?E[f-1][1]=r:(E.splice(f-1,1),f--),E[f][1]=l,u?E[f+1][1]=u:(E.splice(f+1,1),f--))}f++}},_.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,_.whitespaceRegex_=/\s/,_.linebreakRegex_=/[\r\n]/,_.blanklineEndRegex_=/\n\r?\n$/,_.blanklineStartRegex_=/^\r?\n\r?\n/,_.prototype.diff_cleanupEfficiency=function(E){for(var y=!1,f=[],a=0,c=null,s=0,i=!1,n=!1,r=!1,l=!1;s<E.length;)E[s][0]==R?(E[s][1].length<this.Diff_EditCost&&(r||l)?(f[a++]=s,i=r,n=l,c=E[s][1]):(a=0,c=null),r=l=!1):(E[s][0]==m?l=!0:r=!0,c&&(i&&n&&r&&l||c.length<this.Diff_EditCost/2&&i+n+r+l==3)&&(E.splice(f[a-1],0,new _.Diff(m,c)),E[f[a-1]+1][0]=v,a--,c=null,i&&n?(r=l=!0,a=0):(a--,s=a>0?f[a-1]:-1,r=l=!1),y=!0)),s++;y&&this.diff_cleanupMerge(E)},_.prototype.diff_cleanupMerge=function(E){E.push(new _.Diff(R,""));for(var y=0,f=0,a=0,c="",s="",i;y<E.length;)switch(E[y][0]){case v:a++,s+=E[y][1],y++;break;case m:f++,c+=E[y][1],y++;break;case R:f+a>1?(f!==0&&a!==0&&(i=this.diff_commonPrefix(s,c),i!==0&&(y-f-a>0&&E[y-f-a-1][0]==R?E[y-f-a-1][1]+=s.substring(0,i):(E.splice(0,0,new _.Diff(R,s.substring(0,i))),y++),s=s.substring(i),c=c.substring(i)),i=this.diff_commonSuffix(s,c),i!==0&&(E[y][1]=s.substring(s.length-i)+E[y][1],s=s.substring(0,s.length-i),c=c.substring(0,c.length-i))),y-=f+a,E.splice(y,f+a),c.length&&(E.splice(y,0,new _.Diff(m,c)),y++),s.length&&(E.splice(y,0,new _.Diff(v,s)),y++),y++):y!==0&&E[y-1][0]==R?(E[y-1][1]+=E[y][1],E.splice(y,1)):y++,a=0,f=0,c="",s="";break}E[E.length-1][1]===""&&E.pop();var n=!1;for(y=1;y<E.length-1;)E[y-1][0]==R&&E[y+1][0]==R&&(E[y][1].substring(E[y][1].length-E[y-1][1].length)==E[y-1][1]?(E[y][1]=E[y-1][1]+E[y][1].substring(0,E[y][1].length-E[y-1][1].length),E[y+1][1]=E[y-1][1]+E[y+1][1],E.splice(y-1,1),n=!0):E[y][1].substring(0,E[y+1][1].length)==E[y+1][1]&&(E[y-1][1]+=E[y+1][1],E[y][1]=E[y][1].substring(E[y+1][1].length)+E[y+1][1],E.splice(y+1,1),n=!0)),y++;n&&this.diff_cleanupMerge(E)},_.prototype.diff_xIndex=function(E,y){var f=0,a=0,c=0,s=0,i;for(i=0;i<E.length&&(E[i][0]!==v&&(f+=E[i][1].length),E[i][0]!==m&&(a+=E[i][1].length),!(f>y));i++)c=f,s=a;return E.length!=i&&E[i][0]===m?s:s+(y-c)},_.prototype.diff_prettyHtml=function(E){for(var y=[],f=/&/g,a=/</g,c=/>/g,s=/\n/g,i=0;i<E.length;i++){var n=E[i][0],r=E[i][1],l=r.replace(f,"&amp;").replace(a,"&lt;").replace(c,"&gt;").replace(s,"&para;<br>");switch(n){case v:y[i]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case m:y[i]='<del style="background:#ffe6e6;">'+l+"</del>";break;case R:y[i]="<span>"+l+"</span>";break}}return y.join("")},_.prototype.diff_text1=function(E){for(var y=[],f=0;f<E.length;f++)E[f][0]!==v&&(y[f]=E[f][1]);return y.join("")},_.prototype.diff_text2=function(E){for(var y=[],f=0;f<E.length;f++)E[f][0]!==m&&(y[f]=E[f][1]);return y.join("")},_.prototype.diff_levenshtein=function(E){for(var y=0,f=0,a=0,c=0;c<E.length;c++){var s=E[c][0],i=E[c][1];switch(s){case v:f+=i.length;break;case m:a+=i.length;break;case R:y+=Math.max(f,a),f=0,a=0;break}}return y+=Math.max(f,a),y},_.prototype.diff_toDelta=function(E){for(var y=[],f=0;f<E.length;f++)switch(E[f][0]){case v:y[f]="+"+encodeURI(E[f][1]);break;case m:y[f]="-"+E[f][1].length;break;case R:y[f]="="+E[f][1].length;break}return y.join("	").replace(/%20/g," ")},_.prototype.diff_fromDelta=function(E,y){for(var f=[],a=0,c=0,s=y.split(/\t/g),i=0;i<s.length;i++){var n=s[i].substring(1);switch(s[i].charAt(0)){case"+":try{f[a++]=new _.Diff(v,decodeURI(n))}catch{throw new Error("Illegal escape in diff_fromDelta: "+n)}break;case"-":case"=":var r=parseInt(n,10);if(isNaN(r)||r<0)throw new Error("Invalid number in diff_fromDelta: "+n);var l=E.substring(c,c+=r);s[i].charAt(0)=="="?f[a++]=new _.Diff(R,l):f[a++]=new _.Diff(m,l);break;default:if(s[i])throw new Error("Invalid diff operation in diff_fromDelta: "+s[i])}}if(c!=E.length)throw new Error("Delta length ("+c+") does not equal source text length ("+E.length+").");return f},_.prototype.match_main=function(E,y,f){if(E==null||y==null||f==null)throw new Error("Null input. (match_main)");return f=Math.max(0,Math.min(f,E.length)),E==y?0:E.length?E.substring(f,f+y.length)==y?f:this.match_bitap_(E,y,f):-1},_.prototype.match_bitap_=function(E,y,f){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(y),c=this;function s(T,j){var F=T/y.length,N=Math.abs(f-j);return c.Match_Distance?F+N/c.Match_Distance:N?1:F}var i=this.Match_Threshold,n=E.indexOf(y,f);n!=-1&&(i=Math.min(s(0,n),i),n=E.lastIndexOf(y,f+y.length),n!=-1&&(i=Math.min(s(0,n),i)));var r=1<<y.length-1;n=-1;for(var l,u,o=y.length+E.length,d,g=0;g<y.length;g++){for(l=0,u=o;l<u;)s(g,f+u)<=i?l=u:o=u,u=Math.floor((o-l)/2+l);o=u;var x=Math.max(1,f-u+1),S=Math.min(f+u,E.length)+y.length,w=Array(S+2);w[S+1]=(1<<g)-1;for(var b=S;b>=x;b--){var k=a[E.charAt(b-1)];if(g===0?w[b]=(w[b+1]<<1|1)&k:w[b]=(w[b+1]<<1|1)&k|((d[b+1]|d[b])<<1|1)|d[b+1],w[b]&r){var A=s(g,b-1);if(A<=i)if(i=A,n=b-1,n>f)x=Math.max(1,2*f-n);else break}}if(s(g+1,f)>i)break;d=w}return n},_.prototype.match_alphabet_=function(E){for(var y={},f=0;f<E.length;f++)y[E.charAt(f)]=0;for(var f=0;f<E.length;f++)y[E.charAt(f)]|=1<<E.length-f-1;return y},_.prototype.patch_addContext_=function(E,y){if(y.length!=0){if(E.start2===null)throw Error("patch not initialized");for(var f=y.substring(E.start2,E.start2+E.length1),a=0;y.indexOf(f)!=y.lastIndexOf(f)&&f.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,f=y.substring(E.start2-a,E.start2+E.length1+a);a+=this.Patch_Margin;var c=y.substring(E.start2-a,E.start2);c&&E.diffs.unshift(new _.Diff(R,c));var s=y.substring(E.start2+E.length1,E.start2+E.length1+a);s&&E.diffs.push(new _.Diff(R,s)),E.start1-=c.length,E.start2-=c.length,E.length1+=c.length+s.length,E.length2+=c.length+s.length}},_.prototype.patch_make=function(E,y,f){var a,c;if(typeof E=="string"&&typeof y=="string"&&typeof f>"u")a=E,c=this.diff_main(a,y,!0),c.length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(E&&typeof E=="object"&&typeof y>"u"&&typeof f>"u")c=E,a=this.diff_text1(c);else if(typeof E=="string"&&y&&typeof y=="object"&&typeof f>"u")a=E,c=y;else if(typeof E=="string"&&typeof y=="string"&&f&&typeof f=="object")a=E,c=f;else throw new Error("Unknown call format to patch_make.");if(c.length===0)return[];for(var s=[],i=new _.patch_obj,n=0,r=0,l=0,u=a,o=a,d=0;d<c.length;d++){var g=c[d][0],x=c[d][1];switch(!n&&g!==R&&(i.start1=r,i.start2=l),g){case v:i.diffs[n++]=c[d],i.length2+=x.length,o=o.substring(0,l)+x+o.substring(l);break;case m:i.length1+=x.length,i.diffs[n++]=c[d],o=o.substring(0,l)+o.substring(l+x.length);break;case R:x.length<=2*this.Patch_Margin&&n&&c.length!=d+1?(i.diffs[n++]=c[d],i.length1+=x.length,i.length2+=x.length):x.length>=2*this.Patch_Margin&&n&&(this.patch_addContext_(i,u),s.push(i),i=new _.patch_obj,n=0,u=o,r=l);break}g!==v&&(r+=x.length),g!==m&&(l+=x.length)}return n&&(this.patch_addContext_(i,u),s.push(i)),s},_.prototype.patch_deepCopy=function(E){for(var y=[],f=0;f<E.length;f++){var a=E[f],c=new _.patch_obj;c.diffs=[];for(var s=0;s<a.diffs.length;s++)c.diffs[s]=new _.Diff(a.diffs[s][0],a.diffs[s][1]);c.start1=a.start1,c.start2=a.start2,c.length1=a.length1,c.length2=a.length2,y[f]=c}return y},_.prototype.patch_apply=function(E,y){if(E.length==0)return[y,[]];E=this.patch_deepCopy(E);var f=this.patch_addPadding(E);y=f+y+f,this.patch_splitMax(E);for(var a=0,c=[],s=0;s<E.length;s++){var i=E[s].start2+a,n=this.diff_text1(E[s].diffs),r,l=-1;if(n.length>this.Match_MaxBits?(r=this.match_main(y,n.substring(0,this.Match_MaxBits),i),r!=-1&&(l=this.match_main(y,n.substring(n.length-this.Match_MaxBits),i+n.length-this.Match_MaxBits),(l==-1||r>=l)&&(r=-1))):r=this.match_main(y,n,i),r==-1)c[s]=!1,a-=E[s].length2-E[s].length1;else{c[s]=!0,a=r-i;var u;if(l==-1?u=y.substring(r,r+n.length):u=y.substring(r,l+this.Match_MaxBits),n==u)y=y.substring(0,r)+this.diff_text2(E[s].diffs)+y.substring(r+n.length);else{var o=this.diff_main(n,u,!1);if(n.length>this.Match_MaxBits&&this.diff_levenshtein(o)/n.length>this.Patch_DeleteThreshold)c[s]=!1;else{this.diff_cleanupSemanticLossless(o);for(var d=0,g,x=0;x<E[s].diffs.length;x++){var S=E[s].diffs[x];S[0]!==R&&(g=this.diff_xIndex(o,d)),S[0]===v?y=y.substring(0,r+g)+S[1]+y.substring(r+g):S[0]===m&&(y=y.substring(0,r+g)+y.substring(r+this.diff_xIndex(o,d+S[1].length))),S[0]!==m&&(d+=S[1].length)}}}}}return y=y.substring(f.length,y.length-f.length),[y,c]},_.prototype.patch_addPadding=function(E){for(var y=this.Patch_Margin,f="",a=1;a<=y;a++)f+=String.fromCharCode(a);for(var a=0;a<E.length;a++)E[a].start1+=y,E[a].start2+=y;var c=E[0],s=c.diffs;if(s.length==0||s[0][0]!=R)s.unshift(new _.Diff(R,f)),c.start1-=y,c.start2-=y,c.length1+=y,c.length2+=y;else if(y>s[0][1].length){var i=y-s[0][1].length;s[0][1]=f.substring(s[0][1].length)+s[0][1],c.start1-=i,c.start2-=i,c.length1+=i,c.length2+=i}if(c=E[E.length-1],s=c.diffs,s.length==0||s[s.length-1][0]!=R)s.push(new _.Diff(R,f)),c.length1+=y,c.length2+=y;else if(y>s[s.length-1][1].length){var i=y-s[s.length-1][1].length;s[s.length-1][1]+=f.substring(0,i),c.length1+=i,c.length2+=i}return f},_.prototype.patch_splitMax=function(E){for(var y=this.Match_MaxBits,f=0;f<E.length;f++)if(!(E[f].length1<=y)){var a=E[f];E.splice(f--,1);for(var c=a.start1,s=a.start2,i="";a.diffs.length!==0;){var n=new _.patch_obj,r=!0;for(n.start1=c-i.length,n.start2=s-i.length,i!==""&&(n.length1=n.length2=i.length,n.diffs.push(new _.Diff(R,i)));a.diffs.length!==0&&n.length1<y-this.Patch_Margin;){var l=a.diffs[0][0],u=a.diffs[0][1];l===v?(n.length2+=u.length,s+=u.length,n.diffs.push(a.diffs.shift()),r=!1):l===m&&n.diffs.length==1&&n.diffs[0][0]==R&&u.length>2*y?(n.length1+=u.length,c+=u.length,r=!1,n.diffs.push(new _.Diff(l,u)),a.diffs.shift()):(u=u.substring(0,y-n.length1-this.Patch_Margin),n.length1+=u.length,c+=u.length,l===R?(n.length2+=u.length,s+=u.length):r=!1,n.diffs.push(new _.Diff(l,u)),u==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(u.length))}i=this.diff_text2(n.diffs),i=i.substring(i.length-this.Patch_Margin);var o=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);o!==""&&(n.length1+=o.length,n.length2+=o.length,n.diffs.length!==0&&n.diffs[n.diffs.length-1][0]===R?n.diffs[n.diffs.length-1][1]+=o:n.diffs.push(new _.Diff(R,o))),r||E.splice(++f,0,n)}}},_.prototype.patch_toText=function(E){for(var y=[],f=0;f<E.length;f++)y[f]=E[f];return y.join("")},_.prototype.patch_fromText=function(E){var y=[];if(!E)return y;for(var f=E.split(`
`),a=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<f.length;){var s=f[a].match(c);if(!s)throw new Error("Invalid patch string: "+f[a]);var i=new _.patch_obj;for(y.push(i),i.start1=parseInt(s[1],10),s[2]===""?(i.start1--,i.length1=1):s[2]=="0"?i.length1=0:(i.start1--,i.length1=parseInt(s[2],10)),i.start2=parseInt(s[3],10),s[4]===""?(i.start2--,i.length2=1):s[4]=="0"?i.length2=0:(i.start2--,i.length2=parseInt(s[4],10)),a++;a<f.length;){var n=f[a].charAt(0);try{var r=decodeURI(f[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+r)}if(n=="-")i.diffs.push(new _.Diff(m,r));else if(n=="+")i.diffs.push(new _.Diff(v,r));else if(n==" ")i.diffs.push(new _.Diff(R,r));else{if(n=="@")break;if(n!=="")throw new Error('Invalid patch mode "'+n+'" in: '+r)}a++}}return y},_.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},_.patch_obj.prototype.toString=function(){var E,y;this.length1===0?E=this.start1+",0":this.length1==1?E=this.start1+1:E=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var f=["@@ -"+E+" +"+y+` @@
`],a,c=0;c<this.diffs.length;c++){switch(this.diffs[c][0]){case v:a="+";break;case m:a="-";break;case R:a=" ";break}f[c+1]=a+encodeURI(this.diffs[c][1])+`
`}return f.join("").replace(/%20/g," ")},h.exports=_,h.exports.diff_match_patch=_,h.exports.DIFF_DELETE=m,h.exports.DIFF_INSERT=v,h.exports.DIFF_EQUAL=R})(qh)),qh.exports}var sv;function hw(){if(sv)return co;sv=1;var h=co&&co.__extends||(function(){var y=function(f,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(c[i]=s[i])},y(f,a)};return function(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");y(f,a);function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}})();Object.defineProperty(co,"__esModule",{value:!0});var _=Rd(),m=Ir(),v=g0(),R=uw(),E=(function(y){h(f,y);function f(a){var c=y.call(this,a)||this;return c.state={value:c.props.value},c.onChange=c.onChange.bind(c),c.diff=c.diff.bind(c),c}return f.prototype.componentDidUpdate=function(){var a=this.props.value;a!==this.state.value&&this.setState({value:a})},f.prototype.onChange=function(a){this.setState({value:a}),this.props.onChange&&this.props.onChange(a)},f.prototype.diff=function(){var a=new R,c=this.state.value[0],s=this.state.value[1];if(c.length===0&&s.length===0)return[];var i=a.diff_main(c,s);a.diff_cleanupSemantic(i);var n=this.generateDiffedLines(i),r=this.setCodeMarkers(n);return r},f.prototype.generateDiffedLines=function(a){var c={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},s={left:[],right:[]},i={left:1,right:1};return a.forEach(function(n){var r=n[0],l=n[1],u=l.split(`
`).length-1;if(l.length!==0){var o=l[0],d=l[l.length-1],g=0;switch(r){case c.DIFF_EQUAL:i.left+=u,i.right+=u;break;case c.DIFF_DELETE:o===`
`&&(i.left++,u--),g=u,g===0&&s.right.push({startLine:i.right,endLine:i.right}),d===`
`&&(g-=1),s.left.push({startLine:i.left,endLine:i.left+g}),i.left+=u;break;case c.DIFF_INSERT:o===`
`&&(i.right++,u--),g=u,g===0&&s.left.push({startLine:i.left,endLine:i.left}),d===`
`&&(g-=1),s.right.push({startLine:i.right,endLine:i.right+g}),i.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),s},f.prototype.setCodeMarkers=function(a){a===void 0&&(a={left:[],right:[]});for(var c=[],s={left:[],right:[]},i=0;i<a.left.length;i++){var n={startRow:a.left[i].startLine-1,endRow:a.left[i].endLine,type:"text",className:"codeMarker"};s.left.push(n)}for(var i=0;i<a.right.length;i++){var n={startRow:a.right[i].startLine-1,endRow:a.right[i].endLine,type:"text",className:"codeMarker"};s.right.push(n)}return c[0]=s.left,c[1]=s.right,c},f.prototype.render=function(){var a=this.diff();return m.createElement(v.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:a})},f.propTypes={cursorStart:_.number,editorProps:_.object,enableBasicAutocompletion:_.bool,enableLiveAutocompletion:_.bool,focus:_.bool,fontSize:_.number,height:_.string,highlightActiveLine:_.bool,maxLines:_.number,minLines:_.number,mode:_.string,name:_.string,className:_.string,onLoad:_.func,onPaste:_.func,onScroll:_.func,onChange:_.func,orientation:_.string,readOnly:_.bool,scrollMargin:_.array,setOptions:_.object,showGutter:_.bool,showPrintMargin:_.bool,splits:_.number,style:_.object,tabSize:_.number,theme:_.string,value:_.array,width:_.string,wrapEnabled:_.bool},f.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},f})(m.Component);return co.default=E,co}var ov;function dw(){if(ov)return kr;ov=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.diff=kr.split=void 0;var h=aw(),_=hw();kr.diff=_.default;var m=g0();return kr.split=m.default,kr.default=h.default,kr}var fw=dw();const pw=wc(fw);var gw=La();const fd=wc(gw);var Zh={exports:{}},av;function mw(){return av||(av=1,(function(h,_){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};E.inherits(f,y),v.JsonHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var c=f.getLine(a),s=c.match(/^(\s*\})/);if(!s)return 0;var i=s[1].length,n=f.findMatchingBracket({row:a,column:i});if(!n||n.row==a)return 0;var r=this.$getIndent(f.getLine(n.row));f.replace(new E(a,0,a,i-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,s,i){var n=c.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var r=this._getFoldWidgetBase(c,s,i);return!r&&this.startRegionRe.test(n)?"start":r},this.getFoldWidgetRange=function(c,s,i,n){var r=c.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(c,r,i);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(c,o[1],i,l);var u=c.getCommentFoldRange(i,l+o[0].length,1);return u&&!u.isMultiLine()&&(n?u=this.getSectionRange(c,i):s!="all"&&(u=null)),u}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(c,o[1],i,l):c.getCommentFoldRange(i,l,-1)}}},this.getSectionRange=function(c,s){var i=c.getLine(s),n=i.search(/\S/),r=s,l=i.length;s=s+1;for(var u=s,o=c.getLength();++s<o;){i=c.getLine(s);var d=i.search(/\S/);if(d!==-1){if(n>d)break;var g=this.getFoldWidgetRange(c,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(n==d)break}u=s}}return new y(r,l,u,c.getLine(u).length)},this.getCommentRegionBlock=function(c,s,i){for(var n=s.search(/\s*$/),r=c.getLength(),l=i,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++i<r;){s=c.getLine(i);var d=u.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=i;if(g>l)return new y(l,n,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./json_highlight_rules").JsonHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,c=m("./folding/cstyle").FoldMode,s=m("../worker/worker_client").WorkerClient,i=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};E.inherits(i,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(n,r,l){var u=this.$getIndent(r);if(n=="start"){var o=r.match(/^.*[\{\(\[]\s*$/);o&&(u+=l)}return u},this.checkOutdent=function(n,r,l){return this.$outdent.checkOutdent(r,l)},this.autoOutdent=function(n,r,l){this.$outdent.autoOutdent(r,l)},this.createWorker=function(n){var r=new s(["ace"],"ace/mode/json_worker","JsonWorker");return r.attachToDocument(n.getDocument()),r.on("annotate",function(l){n.setAnnotations(l.data)}),r.on("terminate",function(){n.clearAnnotations()}),r},this.$id="ace/mode/json"}).call(i.prototype),v.Mode=i}),(function(){ace.require(["ace/mode/json"],function(m){h&&(h.exports=m)})})()})(Zh)),Zh.exports}mw();var Qh={exports:{}},lv;function vw(){return lv||(lv=1,(function(h,_){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};E.inherits(f,y),f.getTagRule=function(a){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(a){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:a}},f.getEndRule=function(a){return{token:"comment.doc",regex:"\\*\\/",next:a}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=m("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(n){var r={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},l=this.createKeywordMapper(r,"identifier"),u="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",g={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(r).join("|")+"\\b)"+a+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),i("no_regex"),g,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+u+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:l,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[i("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!n||!n.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,S,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",S);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!n||n.jsx!=!1)&&s.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};E.inherits(c,f);function s(){var n=a.replace("\\d","\\d\\-"),r={onMatch:function(u,o,d){var g=u.charAt(1)=="/"?2:1;return g==1?(o!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):g==2&&o==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(g==1?"":"end-")+"tag-open.xml",value:u.slice(0,g)},{type:"meta.tag.tag-name.xml",value:u.substr(g)}]},regex:"</?(?:"+n+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(r);var l={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[l,r,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(u,o,d){return o==d[0]&&d.shift(),u.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:u}]},nextState:"jsx"},l,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:n},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},r],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(n){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:n||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:n||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var c=f.getLine(a),s=c.match(/^(\s*\})/);if(!s)return 0;var i=s[1].length,n=f.findMatchingBracket({row:a,column:i});if(!n||n.row==a)return 0;var r=this.$getIndent(f.getLine(n.row));f.replace(new E(a,0,a,i-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator;function a(s,i){return s&&s.type.lastIndexOf(i+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(s,i,n,r,l){if(l=='"'||l=="'"){var u=l,o=r.doc.getTextRange(n.getSelectionRange());if(o!==""&&o!=="'"&&o!='"'&&n.getWrapBehavioursEnabled())return{text:u+o+u,selection:!1};var d=n.getCursorPosition(),g=r.doc.getLine(d.row),x=g.substring(d.column,d.column+1),S=new f(r,d.row,d.column),w=S.getCurrentToken();if(x==u&&(a(w,"attribute-value")||a(w,"string")))return{text:"",selection:[1,1]};if(w||(w=S.stepBackward()),!w)return;for(;a(w,"tag-whitespace")||a(w,"whitespace");)w=S.stepBackward();var b=!x||x.match(/\s/);if(a(w,"attribute-equals")&&(b||x==">")||a(w,"decl-attribute-equals")&&(b||x=="?"))return{text:u+u,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(s,i,n,r,l){var u=r.doc.getTextRange(l);if(!l.isMultiLine()&&(u=='"'||u=="'")){var o=r.doc.getLine(l.start.row),d=o.substring(l.start.column+1,l.start.column+2);if(d==u)return l.end.column++,l}}),this.add("autoclosing","insertion",function(s,i,n,r,l){if(l==">"){var u=n.getSelectionRange().start,o=new f(r,u.row,u.column),d=o.getCurrentToken()||o.stepBackward();if(!d||!(a(d,"tag-name")||a(d,"tag-whitespace")||a(d,"attribute-name")||a(d,"attribute-equals")||a(d,"attribute-value"))||a(d,"reference.attribute-value"))return;if(a(d,"attribute-value")){var g=o.getCurrentTokenColumn()+d.value.length;if(u.column<g)return;if(u.column==g){var x=o.stepForward();if(x&&a(x,"attribute-value"))return;o.stepBackward()}}if(/^\s*>/.test(r.getLine(u.row).slice(u.column)))return;for(;!a(d,"tag-name");)if(d=o.stepBackward(),d.value=="<"){d=o.stepForward();break}var S=o.getCurrentTokenRow(),w=o.getCurrentTokenColumn();if(a(o.stepBackward(),"end-tag-open"))return;var b=d.value;return S==u.row&&(b=b.substring(0,u.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(s,i,n,r,l){if(l==`
`){var u=n.getCursorPosition(),o=r.getLine(u.row),d=new f(r,u.row,u.column),g=d.getCurrentToken();if(a(g,"")&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=d.stepBackward();if(!g)return;var x=g.value,S=d.getCurrentTokenRow();if(g=d.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=r.getTokenAt(u.row,u.column+1),o=r.getLine(S),b=this.$getIndent(o),k=b+r.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+b,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};E.inherits(c,y),v.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../token_iterator").TokenIterator,f=m("../behaviour/cstyle").CstyleBehaviour,a=m("../behaviour/xml").XmlBehaviour,c=function(){var s=new a({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(s),this.inherit(f),this.add("autoclosing-fragment","insertion",function(i,n,r,l,u){if(u==">"){var o=r.getSelectionRange().start,d=new y(l,o.row,o.column),g=d.getCurrentToken()||d.stepBackward();if(!g)return;if(g.value=="<")return{text:"></>",selection:[1,1]}}})};E.inherits(c,f),v.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(i,n){f.call(this),this.voidElements=i||{},this.optionalEndTags=E.mixin({},this.voidElements),n&&E.mixin(this.optionalEndTags,n)};E.inherits(a,f);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(i,n){return i&&i.type&&i.type.lastIndexOf(n+".xml")>-1}(function(){this.getFoldWidget=function(i,n,r){var l=this._getFirstTagInLine(i,r);return l?l.closing||!l.tagName&&l.selfClosing?n==="markbeginend"?"end":"":!l.tagName||l.selfClosing||this.voidElements.hasOwnProperty(l.tagName.toLowerCase())||this._findEndTagInLine(i,r,l.tagName,l.end.column)?"":"start":this.getCommentFoldWidget(i,r)},this.getCommentFoldWidget=function(i,n){return/comment/.test(i.getState(n))&&/<!-/.test(i.getLine(n))?"start":""},this._getFirstTagInLine=function(i,n){for(var r=i.getTokens(n),l=new c,u=0;u<r.length;u++){var o=r[u];if(s(o,"tag-open")){if(l.end.column=l.start.column+o.value.length,l.closing=s(o,"end-tag-open"),o=r[++u],!o)return null;if(l.tagName=o.value,o.value===""){if(o=r[++u],!o)return null;l.tagName=o.value}for(l.end.column+=o.value.length,u++;u<r.length;u++)if(o=r[u],l.end.column+=o.value.length,s(o,"tag-close")){l.selfClosing=o.value=="/>";break}return l}else if(s(o,"tag-close"))return l.selfClosing=o.value=="/>",l;l.start.column+=o.value.length}return null},this._findEndTagInLine=function(i,n,r,l){for(var u=i.getTokens(n),o=0,d=0;d<u.length;d++){var g=u[d];if(o+=g.value.length,!(o<l-1)&&s(g,"end-tag-open")&&(g=u[d+1],s(g,"tag-name")&&g.value===""&&(g=u[d+2]),g&&g.value==r))return!0}return!1},this.getFoldWidgetRange=function(i,n,r){var l=this._getFirstTagInLine(i,r);if(!l)return this.getCommentFoldWidget(i,r)&&i.getCommentFoldRange(r,i.getLine(r).length);var u=i.getMatchingTags({row:r,column:0});if(u)return new y(u.openTag.end.row,u.openTag.end.column,u.closeTag.start.row,u.closeTag.start.column)}}).call(a.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,s,i){var n=c.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var r=this._getFoldWidgetBase(c,s,i);return!r&&this.startRegionRe.test(n)?"start":r},this.getFoldWidgetRange=function(c,s,i,n){var r=c.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(c,r,i);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(c,o[1],i,l);var u=c.getCommentFoldRange(i,l+o[0].length,1);return u&&!u.isMultiLine()&&(n?u=this.getSectionRange(c,i):s!="all"&&(u=null)),u}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(c,o[1],i,l):c.getCommentFoldRange(i,l,-1)}}},this.getSectionRange=function(c,s){var i=c.getLine(s),n=i.search(/\S/),r=s,l=i.length;s=s+1;for(var u=s,o=c.getLength();++s<o;){i=c.getLine(s);var d=i.search(/\S/);if(d!==-1){if(n>d)break;var g=this.getFoldWidgetRange(c,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(n==d)break}u=s}}return new y(r,l,u,c.getLine(u).length)},this.getCommentRegionBlock=function(c,s,i){for(var n=s.search(/\s*$/),r=c.getLength(),l=i,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++i<r;){s=c.getLine(i);var d=u.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=i;if(g>l)return new y(l,n,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(m,v,R){var E=m("../../lib/oop"),y=m("./xml").FoldMode,f=m("./cstyle").FoldMode,a=v.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new y};E.inherits(a,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,s,i){var n=this.getFoldWidgetBase(c,s,i);return n||this.xmlFoldMode.getFoldWidget(c,s,i)},this.getFoldWidgetRange=function(c,s,i,n){var r=this.getFoldWidgetRangeBase(c,s,i,n);return r||this.xmlFoldMode.getFoldWidgetRange(c,s,i)}}).call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./javascript_highlight_rules").JavaScriptHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,c=m("../worker/worker_client").WorkerClient,s=m("./behaviour/javascript").JavaScriptBehaviour,i=m("./folding/javascript").FoldMode,n=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=new s,this.foldingRules=new i};E.inherits(n,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(r,l,u){var o=this.$getIndent(l),d=this.getTokenizer().getLineTokens(l,r),g=d.tokens,x=d.state;if(g.length&&g[g.length-1].type=="comment")return o;if(r=="start"||r=="no_regex"){var S=l.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);S&&(o+=u)}else if(r=="doc-start"&&(x=="start"||x=="no_regex"))return"";return o},this.checkOutdent=function(r,l,u){return this.$outdent.checkOutdent(l,u)},this.autoOutdent=function(r,l,u){this.$outdent.autoOutdent(l,u)},this.createWorker=function(r){var l=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return l.attachToDocument(r.getDocument()),l.on("annotate",function(u){r.setAnnotations(u.data)}),l.on("terminate",function(){r.clearAnnotations()}),l},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(n.prototype),v.Mode=n}),(function(){ace.require(["ace/mode/javascript"],function(m){h&&(h.exports=m)})})()})(Qh)),Qh.exports}vw();var Jh={exports:{}},cv;function yw(){return cv||(cv=1,(function(h,_){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};E.inherits(f,y),f.getTagRule=function(a){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(a){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:a}},f.getEndRule=function(a){return{token:"comment.doc",regex:"\\*\\/",next:a}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=m("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(n){var r={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},l=this.createKeywordMapper(r,"identifier"),u="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",g={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(r).join("|")+"\\b)"+a+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),i("no_regex"),g,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+u+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:l,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[i("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!n||!n.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,S,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",S);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!n||n.jsx!=!1)&&s.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};E.inherits(c,f);function s(){var n=a.replace("\\d","\\d\\-"),r={onMatch:function(u,o,d){var g=u.charAt(1)=="/"?2:1;return g==1?(o!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):g==2&&o==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(g==1?"":"end-")+"tag-open.xml",value:u.slice(0,g)},{type:"meta.tag.tag-name.xml",value:u.substr(g)}]},regex:"</?(?:"+n+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(r);var l={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[l,r,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(u,o,d){return o==d[0]&&d.shift(),u.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:u}]},nextState:"jsx"},l,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:n},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},r],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(n){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:n||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:n||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,a){return/^\s+$/.test(f)?/^\s*\}/.test(a):!1},this.autoOutdent=function(f,a){var c=f.getLine(a),s=c.match(/^(\s*\})/);if(!s)return 0;var i=s[1].length,n=f.findMatchingBracket({row:a,column:i});if(!n||n.row==a)return 0;var r=this.$getIndent(f.getLine(n.row));f.replace(new E(a,0,a,i-1),r)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(m,v,R){var E=m("../../lib/oop"),y=m("../behaviour").Behaviour,f=m("../../token_iterator").TokenIterator;function a(s,i){return s&&s.type.lastIndexOf(i+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(s,i,n,r,l){if(l=='"'||l=="'"){var u=l,o=r.doc.getTextRange(n.getSelectionRange());if(o!==""&&o!=="'"&&o!='"'&&n.getWrapBehavioursEnabled())return{text:u+o+u,selection:!1};var d=n.getCursorPosition(),g=r.doc.getLine(d.row),x=g.substring(d.column,d.column+1),S=new f(r,d.row,d.column),w=S.getCurrentToken();if(x==u&&(a(w,"attribute-value")||a(w,"string")))return{text:"",selection:[1,1]};if(w||(w=S.stepBackward()),!w)return;for(;a(w,"tag-whitespace")||a(w,"whitespace");)w=S.stepBackward();var b=!x||x.match(/\s/);if(a(w,"attribute-equals")&&(b||x==">")||a(w,"decl-attribute-equals")&&(b||x=="?"))return{text:u+u,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(s,i,n,r,l){var u=r.doc.getTextRange(l);if(!l.isMultiLine()&&(u=='"'||u=="'")){var o=r.doc.getLine(l.start.row),d=o.substring(l.start.column+1,l.start.column+2);if(d==u)return l.end.column++,l}}),this.add("autoclosing","insertion",function(s,i,n,r,l){if(l==">"){var u=n.getSelectionRange().start,o=new f(r,u.row,u.column),d=o.getCurrentToken()||o.stepBackward();if(!d||!(a(d,"tag-name")||a(d,"tag-whitespace")||a(d,"attribute-name")||a(d,"attribute-equals")||a(d,"attribute-value"))||a(d,"reference.attribute-value"))return;if(a(d,"attribute-value")){var g=o.getCurrentTokenColumn()+d.value.length;if(u.column<g)return;if(u.column==g){var x=o.stepForward();if(x&&a(x,"attribute-value"))return;o.stepBackward()}}if(/^\s*>/.test(r.getLine(u.row).slice(u.column)))return;for(;!a(d,"tag-name");)if(d=o.stepBackward(),d.value=="<"){d=o.stepForward();break}var S=o.getCurrentTokenRow(),w=o.getCurrentTokenColumn();if(a(o.stepBackward(),"end-tag-open"))return;var b=d.value;return S==u.row&&(b=b.substring(0,u.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(s,i,n,r,l){if(l==`
`){var u=n.getCursorPosition(),o=r.getLine(u.row),d=new f(r,u.row,u.column),g=d.getCurrentToken();if(a(g,"")&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=d.stepBackward();if(!g)return;var x=g.value,S=d.getCurrentTokenRow();if(g=d.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=r.getTokenAt(u.row,u.column+1),o=r.getLine(S),b=this.$getIndent(o),k=b+r.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+b,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};E.inherits(c,y),v.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../token_iterator").TokenIterator,f=m("../behaviour/cstyle").CstyleBehaviour,a=m("../behaviour/xml").XmlBehaviour,c=function(){var s=new a({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(s),this.inherit(f),this.add("autoclosing-fragment","insertion",function(i,n,r,l,u){if(u==">"){var o=r.getSelectionRange().start,d=new y(l,o.row,o.column),g=d.getCurrentToken()||d.stepBackward();if(!g)return;if(g.value=="<")return{text:"></>",selection:[1,1]}}})};E.inherits(c,f),v.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(i,n){f.call(this),this.voidElements=i||{},this.optionalEndTags=E.mixin({},this.voidElements),n&&E.mixin(this.optionalEndTags,n)};E.inherits(a,f);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(i,n){return i&&i.type&&i.type.lastIndexOf(n+".xml")>-1}(function(){this.getFoldWidget=function(i,n,r){var l=this._getFirstTagInLine(i,r);return l?l.closing||!l.tagName&&l.selfClosing?n==="markbeginend"?"end":"":!l.tagName||l.selfClosing||this.voidElements.hasOwnProperty(l.tagName.toLowerCase())||this._findEndTagInLine(i,r,l.tagName,l.end.column)?"":"start":this.getCommentFoldWidget(i,r)},this.getCommentFoldWidget=function(i,n){return/comment/.test(i.getState(n))&&/<!-/.test(i.getLine(n))?"start":""},this._getFirstTagInLine=function(i,n){for(var r=i.getTokens(n),l=new c,u=0;u<r.length;u++){var o=r[u];if(s(o,"tag-open")){if(l.end.column=l.start.column+o.value.length,l.closing=s(o,"end-tag-open"),o=r[++u],!o)return null;if(l.tagName=o.value,o.value===""){if(o=r[++u],!o)return null;l.tagName=o.value}for(l.end.column+=o.value.length,u++;u<r.length;u++)if(o=r[u],l.end.column+=o.value.length,s(o,"tag-close")){l.selfClosing=o.value=="/>";break}return l}else if(s(o,"tag-close"))return l.selfClosing=o.value=="/>",l;l.start.column+=o.value.length}return null},this._findEndTagInLine=function(i,n,r,l){for(var u=i.getTokens(n),o=0,d=0;d<u.length;d++){var g=u[d];if(o+=g.value.length,!(o<l-1)&&s(g,"end-tag-open")&&(g=u[d+1],s(g,"tag-name")&&g.value===""&&(g=u[d+2]),g&&g.value==r))return!0}return!1},this.getFoldWidgetRange=function(i,n,r){var l=this._getFirstTagInLine(i,r);if(!l)return this.getCommentFoldWidget(i,r)&&i.getCommentFoldRange(r,i.getLine(r).length);var u=i.getMatchingTags({row:r,column:0});if(u)return new y(u.openTag.end.row,u.openTag.end.column,u.closeTag.start.row,u.closeTag.start.column)}}).call(a.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(m,v,R){var E=m("../../lib/oop"),y=m("../../range").Range,f=m("./fold_mode").FoldMode,a=v.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};E.inherits(a,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,s,i){var n=c.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var r=this._getFoldWidgetBase(c,s,i);return!r&&this.startRegionRe.test(n)?"start":r},this.getFoldWidgetRange=function(c,s,i,n){var r=c.getLine(i);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(c,r,i);var o=r.match(this.foldingStartMarker);if(o){var l=o.index;if(o[1])return this.openingBracketBlock(c,o[1],i,l);var u=c.getCommentFoldRange(i,l+o[0].length,1);return u&&!u.isMultiLine()&&(n?u=this.getSectionRange(c,i):s!="all"&&(u=null)),u}if(s!=="markbegin"){var o=r.match(this.foldingStopMarker);if(o){var l=o.index+o[0].length;return o[1]?this.closingBracketBlock(c,o[1],i,l):c.getCommentFoldRange(i,l,-1)}}},this.getSectionRange=function(c,s){var i=c.getLine(s),n=i.search(/\S/),r=s,l=i.length;s=s+1;for(var u=s,o=c.getLength();++s<o;){i=c.getLine(s);var d=i.search(/\S/);if(d!==-1){if(n>d)break;var g=this.getFoldWidgetRange(c,"all",s);if(g){if(g.start.row<=r)break;if(g.isMultiLine())s=g.end.row;else if(n==d)break}u=s}}return new y(r,l,u,c.getLine(u).length)},this.getCommentRegionBlock=function(c,s,i){for(var n=s.search(/\s*$/),r=c.getLength(),l=i,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,o=1;++i<r;){s=c.getLine(i);var d=u.exec(s);if(d&&(d[1]?o--:o++,!o))break}var g=i;if(g>l)return new y(l,n,g,s.length)}}).call(a.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(m,v,R){var E=m("../../lib/oop"),y=m("./xml").FoldMode,f=m("./cstyle").FoldMode,a=v.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new y};E.inherits(a,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,s,i){var n=this.getFoldWidgetBase(c,s,i);return n||this.xmlFoldMode.getFoldWidget(c,s,i)},this.getFoldWidgetRange=function(c,s,i,n){var r=this.getFoldWidgetRangeBase(c,s,i,n);return r||this.xmlFoldMode.getFoldWidgetRange(c,s,i)}}).call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(m,v,R){var E=m("../lib/oop"),y=m("./text").Mode,f=m("./javascript_highlight_rules").JavaScriptHighlightRules,a=m("./matching_brace_outdent").MatchingBraceOutdent,c=m("../worker/worker_client").WorkerClient,s=m("./behaviour/javascript").JavaScriptBehaviour,i=m("./folding/javascript").FoldMode,n=function(){this.HighlightRules=f,this.$outdent=new a,this.$behaviour=new s,this.foldingRules=new i};E.inherits(n,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(r,l,u){var o=this.$getIndent(l),d=this.getTokenizer().getLineTokens(l,r),g=d.tokens,x=d.state;if(g.length&&g[g.length-1].type=="comment")return o;if(r=="start"||r=="no_regex"){var S=l.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);S&&(o+=u)}else if(r=="doc-start"&&(x=="start"||x=="no_regex"))return"";return o},this.checkOutdent=function(r,l,u){return this.$outdent.checkOutdent(l,u)},this.autoOutdent=function(r,l,u){this.$outdent.autoOutdent(l,u)},this.createWorker=function(r){var l=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return l.attachToDocument(r.getDocument()),l.on("annotate",function(u){r.setAnnotations(u.data)}),l.on("terminate",function(){r.clearAnnotations()}),l},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(n.prototype),v.Mode=n}),ace.define("ace/mode/typescript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/javascript_highlight_rules"],function(m,v,R){var E=m("../lib/oop"),y=m("./javascript_highlight_rules").JavaScriptHighlightRules,f=function(a){var c=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_-][a-zA-Z0-9d$_-]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}],s=new y({jsx:(a&&a.jsx)==!0}).getRules();s.no_regex=c.concat(s.no_regex),this.$rules=s};E.inherits(f,y),v.TypeScriptHighlightRules=f}),ace.define("ace/mode/typescript",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/typescript_highlight_rules","ace/mode/folding/cstyle","ace/mode/matching_brace_outdent"],function(m,v,R){var E=m("../lib/oop"),y=m("./javascript").Mode,f=m("./typescript_highlight_rules").TypeScriptHighlightRules,a=m("./folding/cstyle").FoldMode,c=m("./matching_brace_outdent").MatchingBraceOutdent,s=function(){this.HighlightRules=f,this.$outdent=new c,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new a};E.inherits(s,y),(function(){this.createWorker=function(i){return null},this.$id="ace/mode/typescript"}).call(s.prototype),v.Mode=s}),(function(){ace.require(["ace/mode/typescript"],function(m){h&&(h.exports=m)})})()})(Jh)),Jh.exports}yw();var ed={exports:{}},uv;function bw(){return uv||(uv=1,(function(h,_){ace.define("ace/theme/monokai-css",["require","exports","module"],function(m,v,R){R.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(m,v,R){v.isDark=!0,v.cssClass="ace-monokai",v.cssText=m("./monokai-css");var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/monokai"],function(m){h&&(h.exports=m)})})()})(ed)),ed.exports}bw();var td={exports:{}},hv;function _w(){return hv||(hv=1,(function(h,_){ace.define("ace/theme/github-css",["require","exports","module"],function(m,v,R){R.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(m,v,R){v.isDark=!1,v.cssClass="ace-github",v.cssText=m("./github-css");var E=m("../lib/dom");E.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/github"],function(m){h&&(h.exports=m)})})()})(td)),td.exports}_w();var id={exports:{}},dv;function xw(){return dv||(dv=1,(function(h,_){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(m,v,R){var E=m("./lib/dom"),y=m("./lib/oop"),f=m("./lib/event_emitter").EventEmitter,a=m("./lib/lang"),c=m("./range").Range,s=m("./range_list").RangeList,i=m("./keyboard/hash_handler").HashHandler,n=m("./tokenizer").Tokenizer,r=m("./clipboard"),l={CURRENT_WORD:function(b){return b.session.getTextRange(b.session.getWordRange())},SELECTION:function(b,k,A){var T=b.session.getTextRange();return A?T.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):T},CURRENT_LINE:function(b){return b.session.getLine(b.getCursorPosition().row)},PREV_LINE:function(b){return b.session.getLine(b.getCursorPosition().row-1)},LINE_INDEX:function(b){return b.getCursorPosition().row},LINE_NUMBER:function(b){return b.getCursorPosition().row+1},SOFT_TABS:function(b){return b.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(b){return b.session.getTabSize()},CLIPBOARD:function(b){return r.getText&&r.getText()},FILENAME:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0]},FILENAME_BASE:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(b){return this.FILEPATH(b).replace(/[^/\\]*$/,"")},FILEPATH:function(b){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(b){var k=b.session.$mode||{};return k.blockComment&&k.blockComment.start||""},BLOCK_COMMENT_END:function(b){var k=b.session.$mode||{};return k.blockComment&&k.blockComment.end||""},LINE_COMMENT:function(b){var k=b.session.$mode||{};return k.lineCommentStart||""},CURRENT_YEAR:u.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:u.bind(null,{year:"2-digit"}),CURRENT_MONTH:u.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:u.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:u.bind(null,{month:"short"}),CURRENT_DATE:u.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:u.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:u.bind(null,{weekday:"short"}),CURRENT_HOUR:u.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:u.bind(null,{minute:"2-digit"}),CURRENT_SECOND:u.bind(null,{second:"2-digit"})};l.SELECTED_TEXT=l.SELECTION;function u(b){var k=new Date().toLocaleString("en-us",b);return k.length==1?"0"+k:k}var o=(function(){function b(){this.snippetMap={},this.snippetNameMap={},this.variables=l}return b.prototype.getTokenizer=function(){return b.$tokenizer||this.createTokenizer()},b.prototype.createTokenizer=function(){function k(j){return j=j.substr(1),/^\d+$/.test(j)?[{tabstopId:parseInt(j,10)}]:[{text:j}]}function A(j){return"(?:[^\\\\"+j+"]|\\\\.)"}var T={regex:"/("+A("/")+"+)/",onMatch:function(j,F,N){var $=N[0];return $.fmtString=!0,$.guard=j.slice(1,-1),$.flag="",""},next:"formatString"};return b.$tokenizer=new n({start:[{regex:/\\./,onMatch:function(j,F,N){var $=j[1];return($=="}"&&N.length||"`$\\".indexOf($)!=-1)&&(j=$),[j]}},{regex:/}/,onMatch:function(j,F,N){return[N.length?N.shift():j]}},{regex:/\$(?:\d+|\w+)/,onMatch:k},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(j,F,N){var $=k(j.substr(1));return N.unshift($[0]),$},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(j,F,N){var $=j.slice(1,-1).replace(/\\[,|\\]|,/g,function(M){return M.length==2?M[1]:"\0"}).split("\0").map(function(M){return{value:M}});return N[0].choices=$,[$[0]]},next:"start"},T,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(j,F,N){return N.length&&N[0].expectElse?(N[0].expectElse=!1,N[0].ifEnd={elseEnd:N[0]},[N[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(j,F,N){var $=j[1];return $=="}"&&N.length||"`$\\".indexOf($)!=-1?j=$:$=="n"?j=`
`:$=="t"?j="	":"ulULE".indexOf($)!=-1&&(j={changeCase:$,local:$>"a"}),[j]}},{regex:"/\\w*}",onMatch:function(j,F,N){var $=N.shift();return $&&($.flag=j.slice(1,-1)),this.next=$&&$.tabstopId?"start":"",[$||j]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(j,F,N){return[{text:j.slice(1)}]}},{regex:/\${\w+/,onMatch:function(j,F,N){var $={text:j.slice(2)};return N.unshift($),[$]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(j,F,N){var $=N.shift();return this.next=$&&$.tabstopId?"start":"",[$||j]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(j,F,N){var $=N[0];return $.formatFunction=j.slice(2,-1),[N.shift()]},next:"formatString"},T,{regex:/:[\?\-+]?/,onMatch:function(j,F,N){j[1]=="+"&&(N[0].ifEnd=N[0]),j[1]=="?"&&(N[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),b.$tokenizer},b.prototype.tokenizeTmSnippet=function(k,A){return this.getTokenizer().getLineTokens(k,A).tokens.map(function(T){return T.value||T})},b.prototype.getVariableValue=function(k,A,T){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var j=this.variables[A];return typeof j=="function"&&(j=this.variables[A](k,A,T)),j??""},b.prototype.tmStrFormat=function(k,A,T){if(!A.fmt)return k;var j=A.flag||"",F=A.guard;F=new RegExp(F,j.replace(/[^gim]/g,""));var N=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,$=this,M=k.replace(F,function(){var L=$.variables.__;$.variables.__=[].slice.call(arguments);for(var D=$.resolveVariables(N,T),z="E",B=0;B<D.length;B++){var P=D[B];if(typeof P=="object")if(D[B]="",P.changeCase&&P.local){var U=D[B+1];U&&typeof U=="string"&&(P.changeCase=="u"?D[B]=U[0].toUpperCase():D[B]=U[0].toLowerCase(),D[B+1]=U.substr(1))}else P.changeCase&&(z=P.changeCase);else z=="U"?D[B]=P.toUpperCase():z=="L"&&(D[B]=P.toLowerCase())}return $.variables.__=L,D.join("")});return M},b.prototype.tmFormatFunction=function(k,A,T){return A.formatFunction=="upcase"?k.toUpperCase():A.formatFunction=="downcase"?k.toLowerCase():k},b.prototype.resolveVariables=function(k,A){for(var T=[],j="",F=!0,N=0;N<k.length;N++){var $=k[N];if(typeof $=="string"){T.push($),$==`
`?(F=!0,j=""):F&&(j=/^\t*/.exec($)[0],F=/\S/.test($));continue}if($){if(F=!1,$.fmtString){var M=k.indexOf($,N+1);M==-1&&(M=k.length),$.fmt=k.slice(N+1,M),N=M}if($.text){var L=this.getVariableValue(A,$.text,j)+"";$.fmtString&&(L=this.tmStrFormat(L,$,A)),$.formatFunction&&(L=this.tmFormatFunction(L,$,A)),L&&!$.ifEnd?(T.push(L),D($)):!L&&$.ifEnd&&D($.ifEnd)}else $.elseEnd?D($.elseEnd):($.tabstopId!=null||$.changeCase!=null)&&T.push($)}}function D(z){var B=k.indexOf(z,N+1);B!=-1&&(N=B)}return T},b.prototype.getDisplayTextForSnippet=function(k,A){var T=d.call(this,k,A);return T.text},b.prototype.insertSnippetForSelection=function(k,A,T){T===void 0&&(T={});var j=d.call(this,k,A,T),F=k.getSelectionRange(),N=k.session.replace(F,j.text),$=new g(k),M=k.inVirtualSelectionMode&&k.selection.index;$.addTabstops(j.tabstops,F.start,N,M)},b.prototype.insertSnippet=function(k,A,T){T===void 0&&(T={});var j=this;if(k.inVirtualSelectionMode)return j.insertSnippetForSelection(k,A,T);k.forEachSelection(function(){j.insertSnippetForSelection(k,A,T)},null,{keepOrder:!0}),k.tabstopManager&&k.tabstopManager.tabNext()},b.prototype.$getScope=function(k){var A=k.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!k.session.$mode.inlinePhp&&(A="html");var T=k.getCursorPosition(),j=k.session.getState(T.row);typeof j=="object"&&(j=j[0]),j.substring&&(j.substring(0,3)=="js-"?A="javascript":j.substring(0,4)=="css-"?A="css":j.substring(0,4)=="php-"&&(A="php"))}return A},b.prototype.getActiveScopes=function(k){var A=this.$getScope(k),T=[A],j=this.snippetMap;return j[A]&&j[A].includeScopes&&T.push.apply(T,j[A].includeScopes),T.push("_"),T},b.prototype.expandWithTab=function(k,A){var T=this,j=k.forEachSelection(function(){return T.expandSnippetForSelection(k,A)},null,{keepOrder:!0});return j&&k.tabstopManager&&k.tabstopManager.tabNext(),j},b.prototype.expandSnippetForSelection=function(k,A){var T=k.getCursorPosition(),j=k.session.getLine(T.row),F=j.substring(0,T.column),N=j.substr(T.column),$=this.snippetMap,M;return this.getActiveScopes(k).some(function(L){var D=$[L];return D&&(M=this.findMatchingSnippet(D,F,N)),!!M},this),M?(A&&A.dryRun||(k.session.doc.removeInLine(T.row,T.column-M.replaceBefore.length,T.column+M.replaceAfter.length),this.variables.M__=M.matchBefore,this.variables.T__=M.matchAfter,this.insertSnippetForSelection(k,M.content),this.variables.M__=this.variables.T__=null),!0):!1},b.prototype.findMatchingSnippet=function(k,A,T){for(var j=k.length;j--;){var F=k[j];if(!(F.startRe&&!F.startRe.test(A))&&!(F.endRe&&!F.endRe.test(T))&&!(!F.startRe&&!F.endRe))return F.matchBefore=F.startRe?F.startRe.exec(A):[""],F.matchAfter=F.endRe?F.endRe.exec(T):[""],F.replaceBefore=F.triggerRe?F.triggerRe.exec(A)[0]:"",F.replaceAfter=F.endTriggerRe?F.endTriggerRe.exec(T)[0]:"",F}},b.prototype.register=function(k,A){var T=this.snippetMap,j=this.snippetNameMap,F=this;k||(k=[]);function N(L){return L&&!/^\^?\(.*\)\$?$|^\\b$/.test(L)&&(L="(?:"+L+")"),L||""}function $(L,D,z){return L=N(L),D=N(D),L=D+L,L&&L[L.length-1]!="$"&&(L=L+"$"),new RegExp(L)}function M(L){L.scope||(L.scope=A||"_"),A=L.scope,T[A]||(T[A]=[],j[A]={});var D=j[A];if(L.name){var z=D[L.name];z&&F.unregister(z),D[L.name]=L}T[A].push(L),L.prefix&&(L.tabTrigger=L.prefix),!L.content&&L.body&&(L.content=Array.isArray(L.body)?L.body.join(`
`):L.body),L.tabTrigger&&!L.trigger&&(!L.guard&&/^\w/.test(L.tabTrigger)&&(L.guard="\\b"),L.trigger=a.escapeRegExp(L.tabTrigger)),!(!L.trigger&&!L.guard&&!L.endTrigger&&!L.endGuard)&&(L.startRe=$(L.trigger,L.guard),L.triggerRe=new RegExp(L.trigger),L.endRe=$(L.endTrigger,L.endGuard),L.endTriggerRe=new RegExp(L.endTrigger))}Array.isArray(k)?k.forEach(M):Object.keys(k).forEach(function(L){M(k[L])}),this._signal("registerSnippets",{scope:A})},b.prototype.unregister=function(k,A){var T=this.snippetMap,j=this.snippetNameMap;function F(N){var $=j[N.scope||A];if($&&$[N.name]){delete $[N.name];var M=T[N.scope||A],L=M&&M.indexOf(N);L>=0&&M.splice(L,1)}}k.content?F(k):Array.isArray(k)&&k.forEach(F)},b.prototype.parseSnippetFile=function(k){k=k.replace(/\r/g,"");for(var A=[],T={},j=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,F;F=j.exec(k);){if(F[1])try{T=JSON.parse(F[1]),A.push(T)}catch{}if(F[4])T.content=F[4].replace(/^\t/gm,""),A.push(T),T={};else{var N=F[2],$=F[3];if(N=="regex"){var M=/\/((?:[^\/\\]|\\.)*)|$/g;T.guard=M.exec($)[1],T.trigger=M.exec($)[1],T.endTrigger=M.exec($)[1],T.endGuard=M.exec($)[1]}else N=="snippet"?(T.tabTrigger=$.match(/^\S*/)[0],T.name||(T.name=$)):N&&(T[N]=$)}}return A},b.prototype.getSnippetByName=function(k,A){var T=this.snippetNameMap,j;return this.getActiveScopes(A).some(function(F){var N=T[F];return N&&(j=N[k]),!!j},this),j},b})();y.implement(o.prototype,f);var d=function(b,k,A){A===void 0&&(A={});var T=b.getCursorPosition(),j=b.session.getLine(T.row),F=b.session.getTabString(),N=j.match(/^\s*/)[0];T.column<N.length&&(N=N.slice(0,T.column)),k=k.replace(/\r/g,"");var $=this.tokenizeTmSnippet(k);$=this.resolveVariables($,b),$=$.map(function(J){return J==`
`&&!A.excludeExtraIndent?J+N:typeof J=="string"?J.replace(/\t/g,F):J});var M=[];$.forEach(function(J,V){if(typeof J=="object"){var Q=J.tabstopId,te=M[Q];if(te||(te=M[Q]=[],te.index=Q,te.value="",te.parents={}),te.indexOf(J)===-1){J.choices&&!te.choices&&(te.choices=J.choices),te.push(J);var ne=$.indexOf(J,V+1);if(ne!==-1){var me=$.slice(V+1,ne),pe=me.some(function(Se){return typeof Se=="object"});pe&&!te.value?te.value=me:me.length&&(!te.value||typeof te.value!="string")&&(te.value=me.join(""))}}}}),M.forEach(function(J){J.length=0});var L={};function D(J){for(var V=[],Q=0;Q<J.length;Q++){var te=J[Q];if(typeof te=="object"){if(L[te.tabstopId])continue;var ne=J.lastIndexOf(te,Q-1);te=V[ne]||{tabstopId:te.tabstopId}}V[Q]=te}return V}for(var z=0;z<$.length;z++){var B=$[z];if(typeof B=="object"){var P=B.tabstopId,U=M[P],W=$.indexOf(B,z+1);if(L[P]){L[P]===B&&(delete L[P],Object.keys(L).forEach(function(J){U.parents[J]=!0}));continue}L[P]=B;var K=U.value;typeof K!="string"?K=D(K):B.fmt&&(K=this.tmStrFormat(K,B,b)),$.splice.apply($,[z+1,Math.max(0,W-z)].concat(K,B)),U.indexOf(B)===-1&&U.push(B)}}var Y=0,X=0,q="";return $.forEach(function(J){if(typeof J=="string"){var V=J.split(`
`);V.length>1?(X=V[V.length-1].length,Y+=V.length-1):X+=J.length,q+=J}else J&&(J.start?J.end={row:Y,column:X}:J.start={row:Y,column:X})}),{text:q,tabstops:M,tokens:$}},g=(function(){function b(k){if(this.index=0,this.ranges=[],this.tabstops=[],k.tabstopManager)return k.tabstopManager;k.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=a.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(k)}return b.prototype.attach=function(k){this.$openTabstops=null,this.selectedTabstop=null,this.editor=k,this.session=k.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},b.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},b.prototype.onChange=function(k){for(var A=k.action[0]=="r",T=this.selectedTabstop||{},j=T.parents||{},F=this.tabstops.slice(),N=0;N<F.length;N++){var $=F[N],M=$==T||j[$.index];if($.rangeList.$bias=M?0:1,k.action=="remove"&&$!==T){var L=$.parents&&$.parents[T.index],D=$.rangeList.pointIndex(k.start,L);D=D<0?-D-1:D+1;var z=$.rangeList.pointIndex(k.end,L);z=z<0?-z-1:z-1;for(var B=$.rangeList.ranges.slice(D,z),P=0;P<B.length;P++)this.removeRange(B[P])}$.rangeList.$onChange(k)}var U=this.session;!this.$inChange&&A&&U.getLength()==1&&!U.getValue()&&this.detach()},b.prototype.updateLinkedFields=function(){var k=this.selectedTabstop;if(!(!k||!k.hasLinkedRanges||!k.firstNonLinked)){this.$inChange=!0;for(var A=this.session,T=A.getTextRange(k.firstNonLinked),j=0;j<k.length;j++){var F=k[j];if(F.linked){var N=F.original,$=v.snippetManager.tmStrFormat(T,N,this.editor);A.replace(F,$)}}this.$inChange=!1}},b.prototype.onAfterExec=function(k){k.command&&!k.command.readOnly&&this.updateLinkedFields()},b.prototype.onChangeSelection=function(){if(this.editor){for(var k=this.editor.selection.lead,A=this.editor.selection.anchor,T=this.editor.selection.isEmpty(),j=0;j<this.ranges.length;j++)if(!this.ranges[j].linked){var F=this.ranges[j].contains(k.row,k.column),N=T||this.ranges[j].contains(A.row,A.column);if(F&&N)return}this.detach()}},b.prototype.onChangeSession=function(){this.detach()},b.prototype.tabNext=function(k){var A=this.tabstops.length,T=this.index+(k||1);T=Math.min(Math.max(T,1),A),T==A&&(T=0),this.selectTabstop(T),this.updateTabstopMarkers(),T===0&&this.detach()},b.prototype.selectTabstop=function(k){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=k,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var T=A.firstNonLinked||A;if(A.choices&&(T.cursor=T.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(T);else{var j=this.editor.multiSelect;j.toSingleRange(T);for(var F=0;F<A.length;F++)A.hasLinkedRanges&&A[F].linked||j.addRange(A[F].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},b.prototype.addTabstops=function(k,A,T){var j=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!k[0]){var F=c.fromPoints(T,T);S(F.start,A),S(F.end,A),k[0]=[F],k[0].index=0}var N=this.index,$=[N+1,0],M=this.ranges,L=this.snippetId=(this.snippetId||0)+1;k.forEach(function(D,z){var B=this.$openTabstops[z]||D;B.snippetId=L;for(var P=0;P<D.length;P++){var U=D[P],W=c.fromPoints(U.start,U.end||U.start);x(W.start,A),x(W.end,A),W.original=U,W.tabstop=B,M.push(W),B!=D?B.unshift(W):B[P]=W,U.fmtString||B.firstNonLinked&&j?(W.linked=!0,B.hasLinkedRanges=!0):B.firstNonLinked||(B.firstNonLinked=W)}B.firstNonLinked||(B.hasLinkedRanges=!1),B===D&&($.push(B),this.$openTabstops[z]=B),this.addTabstopMarkers(B),B.rangeList=B.rangeList||new s,B.rangeList.$bias=0,B.rangeList.addList(B)},this),$.length>2&&(this.tabstops.length&&$.push($.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,$))},b.prototype.addTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){T.markerId||(T.markerId=A.addMarker(T,"ace_snippet-marker","text"))})},b.prototype.removeTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){A.removeMarker(T.markerId),T.markerId=null})},b.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var k=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&k--,this.tabstops.forEach(function(A){A.snippetId===k?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},b.prototype.removeRange=function(k){var A=k.tabstop.indexOf(k);A!=-1&&k.tabstop.splice(A,1),A=this.ranges.indexOf(k),A!=-1&&this.ranges.splice(A,1),A=k.tabstop.rangeList.ranges.indexOf(k),A!=-1&&k.tabstop.splice(A,1),this.session.removeMarker(k.markerId),k.tabstop.length||(A=this.tabstops.indexOf(k.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},b})();g.prototype.keyboardHandler=new i,g.prototype.keyboardHandler.bindKeys({Tab:function(b){v.snippetManager&&v.snippetManager.expandWithTab(b)||(b.tabstopManager.tabNext(1),b.renderer.scrollCursorIntoView())},"Shift-Tab":function(b){b.tabstopManager.tabNext(-1),b.renderer.scrollCursorIntoView()},Esc:function(b){b.tabstopManager.detach()}});var x=function(b,k){b.row==0&&(b.column+=k.column),b.row+=k.row},S=function(b,k){b.row==k.row&&(b.column-=k.column),b.row-=k.row};E.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),v.snippetManager=new o;var w=m("./editor").Editor;(function(){this.insertSnippet=function(b,k){return v.snippetManager.insertSnippet(this,b,k)},this.expandSnippet=function(b){return v.snippetManager.expandWithTab(this,b)}}).call(w.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(m,v,R){var E=m("../virtual_renderer").VirtualRenderer,y=m("../editor").Editor,f=m("../range").Range,a=m("../lib/event"),c=m("../lib/lang"),s=m("../lib/dom"),i=m("../config").nls,n=m("./../lib/useragent"),r=function(x){return"suggest-aria-id:".concat(x)},l=n.isSafari?"menu":"listbox",u=n.isSafari?"menuitem":"option",o=n.isSafari?"aria-current":"aria-selected",d=function(x){var S=new E(x);S.$maxLines=4;var w=new y(S);return w.setHighlightActiveLine(!1),w.setShowPrintMargin(!1),w.renderer.setShowGutter(!1),w.renderer.setHighlightGutterLine(!1),w.$mouseHandler.$focusTimeout=0,w.$highlightTagPending=!0,w},g=(function(){function x(S){var w=s.createElement("div"),b=d(w);S&&S.appendChild(w),w.style.display="none",b.renderer.content.style.cursor="default",b.renderer.setStyle("ace_autocomplete"),b.renderer.$textLayer.element.setAttribute("role",l),b.renderer.$textLayer.element.setAttribute("aria-roledescription",i("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),b.renderer.$textLayer.element.setAttribute("aria-label",i("autocomplete.popup.aria-label","Autocomplete suggestions")),b.renderer.textarea.setAttribute("aria-hidden","true"),b.setOption("displayIndentGuides",!1),b.setOption("dragDelay",150);var k=function(){};b.focus=k,b.$isFocused=!0,b.renderer.$cursorLayer.restartTimer=k,b.renderer.$cursorLayer.element.style.opacity="0",b.renderer.$maxLines=8,b.renderer.$keepTextAreaAtCursor=!1,b.setHighlightActiveLine(!1),b.session.highlight(""),b.session.$searchHighlight.clazz="ace_highlight-marker",b.on("mousedown",function(M){var L=M.getDocumentPosition();b.selection.moveToPosition(L),j.start.row=j.end.row=L.row,M.stop()});var A,T=new f(-1,0,-1,1/0),j=new f(-1,0,-1,1/0);j.id=b.session.addMarker(j,"ace_active-line","fullLine"),b.setSelectOnHover=function(M){M?T.id&&(b.session.removeMarker(T.id),T.id=null):T.id=b.session.addMarker(T,"ace_line-hover","fullLine")},b.setSelectOnHover(!1),b.on("mousemove",function(M){if(!A){A=M;return}if(!(A.x==M.x&&A.y==M.y)){A=M,A.scrollTop=b.renderer.scrollTop,b.isMouseOver=!0;var L=A.getDocumentPosition().row;T.start.row!=L&&(T.id||b.setRow(L),N(L))}}),b.renderer.on("beforeRender",function(){if(A&&T.start.row!=-1){A.$pos=null;var M=A.getDocumentPosition().row;T.id||b.setRow(M),N(M,!0)}}),b.renderer.on("afterRender",function(){for(var M=b.renderer.$textLayer,L=M.config.firstRow,D=M.config.lastRow;L<=D;L++){var z=M.element.childNodes[L-M.config.firstRow];z.setAttribute("role",u),z.setAttribute("aria-roledescription",i("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-setsize",b.data.length),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute("aria-posinset",L+1);var B=b.getData(L);if(B){var P="".concat(B.caption||B.value).concat(B.meta?", ".concat(B.meta):"");z.setAttribute("aria-label",P)}var U=z.querySelectorAll(".ace_completion-highlight");U.forEach(function(W){W.setAttribute("role","mark")})}}),b.renderer.on("afterRender",function(){var M=b.getRow(),L=b.renderer.$textLayer,D=L.element.childNodes[M-L.config.firstRow],z=document.activeElement;if(D!==b.selectedNode&&b.selectedNode&&(s.removeCssClass(b.selectedNode,"ace_selected"),b.selectedNode.removeAttribute(o),b.selectedNode.removeAttribute("id")),z.removeAttribute("aria-activedescendant"),b.selectedNode=D,D){var B=r(M);s.addCssClass(D,"ace_selected"),D.id=B,L.element.setAttribute("aria-activedescendant",B),z.setAttribute("aria-activedescendant",B),D.setAttribute(o,"true")}});var F=function(){N(-1)},N=function(M,L){M!==T.start.row&&(T.start.row=T.end.row=M,L||b.session._emit("changeBackMarker"),b._emit("changeHoverMarker"))};b.getHoveredRow=function(){return T.start.row},a.addListener(b.container,"mouseout",function(){b.isMouseOver=!1,F()}),b.on("hide",F),b.on("changeSelection",F),b.session.doc.getLength=function(){return b.data.length},b.session.doc.getLine=function(M){var L=b.data[M];return typeof L=="string"?L:L&&L.value||""};var $=b.session.bgTokenizer;return $.$tokenizeRow=function(M){var L=b.data[M],D=[];if(!L)return D;typeof L=="string"&&(L={value:L});var z=L.caption||L.value||L.name;function B(J,V){J&&D.push({type:(L.className||"")+(V||""),value:J})}for(var P=z.toLowerCase(),U=(b.filterText||"").toLowerCase(),W=0,K=0,Y=0;Y<=U.length;Y++)if(Y!=K&&(L.matchMask&1<<Y||Y==U.length)){var X=U.slice(K,Y);K=Y;var q=P.indexOf(X,W);if(q==-1)continue;B(z.slice(W,q),""),W=q+X.length,B(z.slice(q,W),"completion-highlight")}return B(z.slice(W,z.length),""),D.push({type:"completion-spacer",value:" "}),L.meta&&D.push({type:"completion-meta",value:L.meta}),L.message&&D.push({type:"completion-message",value:L.message}),D},$.$updateOnChange=k,$.start=k,b.session.$computeWidth=function(){return this.screenWidth=0},b.isOpen=!1,b.isTopdown=!1,b.autoSelect=!0,b.filterText="",b.isMouseOver=!1,b.data=[],b.setData=function(M,L){b.filterText=L||"",b.setValue(c.stringRepeat(`
`,M.length),-1),b.data=M||[],b.setRow(0)},b.getData=function(M){return b.data[M]},b.getRow=function(){return j.start.row},b.setRow=function(M){M=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,M)),j.start.row!=M&&(b.selection.clearSelection(),j.start.row=j.end.row=M||0,b.session._emit("changeBackMarker"),b.moveCursorTo(M||0,0),b.isOpen&&b._signal("select"))},b.on("changeSelection",function(){b.isOpen&&b.setRow(b.selection.lead.row),b.renderer.scrollCursorIntoView()}),b.hide=function(){this.container.style.display="none",b.anchorPos=null,b.anchor=null,b.isOpen&&(b.isOpen=!1,this._signal("hide"))},b.tryShow=function(M,L,D,z){if(!z&&b.isOpen&&b.anchorPos&&b.anchor&&b.anchorPos.top===M.top&&b.anchorPos.left===M.left&&b.anchor===D)return!0;var B=this.container,P=this.renderer.scrollBar.width||10,U=window.innerHeight-P,W=window.innerWidth-P,K=this.renderer,Y=K.$maxLines*L*1.4,X={top:0,bottom:0},q=U-M.top-3*this.$borderSize-L,J=M.top-3*this.$borderSize;D||(J<=q||q>=Y?D="bottom":D="top"),D==="top"?(X.bottom=M.top-this.$borderSize,X.top=X.bottom-Y):D==="bottom"&&(X.top=M.top+L+this.$borderSize,X.bottom=X.top+Y);var V=X.top>=0&&X.bottom<=U;if(!z&&!V)return!1;V?K.$maxPixelHeight=null:D==="top"?K.$maxPixelHeight=J:K.$maxPixelHeight=q,D==="top"?(B.style.top="",B.style.bottom=U+P-X.bottom+"px",b.isTopdown=!1):(B.style.top=X.top+"px",B.style.bottom="",b.isTopdown=!0),B.style.display="";var Q=M.left;return Q+B.offsetWidth>W&&(Q=W-B.offsetWidth),B.style.left=Q+"px",B.style.right="",s.$fixPositionBug(B),b.isOpen||(b.isOpen=!0,this._signal("show"),A=null),b.anchorPos=M,b.anchor=D,!0},b.show=function(M,L,D){this.tryShow(M,L,D?"bottom":void 0,!0)},b.goTo=function(M){var L=this.getRow(),D=this.session.getLength()-1;switch(M){case"up":L=L<=0?D:L-1;break;case"down":L=L>=D?-1:L+1;break;case"start":L=0;break;case"end":L=D;break}this.setRow(L)},b.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},b.$imageSize=0,b.$borderSize=1,b}return x})();s.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),v.AcePopup=g,v.$singleLineEditor=d,v.getAriaId=r}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(m,v,R){var E=(function(){function y(f){this.editor=f,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return y.prototype.setScreenReaderContent=function(f){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var c=this.popup.getRow(),s=this.popup.renderer.$textLayer,i=s.element.childNodes[c-s.config.firstRow];if(i){for(var n="doc-tooltip ",r=0;r<this._lines.length;r++)n+="ace-inline-screenreader-line-".concat(r," ");i.setAttribute("aria-describedby",n)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=f.split(/\r\n|\r|\n/);var a=this.createCodeBlock();this.screenReaderDiv.appendChild(a)},y.prototype.destroy=function(){this.screenReaderDiv.remove()},y.prototype.createCodeBlock=function(){var f=document.createElement("pre");f.setAttribute("id","ace-inline-screenreader");for(var a=0;a<this._lines.length;a++){var c=document.createElement("code");c.setAttribute("id","ace-inline-screenreader-line-".concat(a));var s=document.createTextNode(this._lines[a]);c.appendChild(s),f.appendChild(c)}return f},y})();v.AceInlineScreenReader=E}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(m,v,R){var E=m("../snippets").snippetManager,y=m("./inline_screenreader").AceInlineScreenReader,f=(function(){function a(){this.editor=null}return a.prototype.show=function(c,s,i){if(i=i||"",c&&this.editor&&this.editor!==c&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!c||!s)return!1;this.inlineScreenReader||(this.inlineScreenReader=new y(c));var n=s.snippet?E.getDisplayTextForSnippet(c,s.snippet):s.value;return s.hideInlinePreview||!n||!n.startsWith(i)?!1:(this.editor=c,this.inlineScreenReader.setScreenReaderContent(n),n=n.slice(i.length),n===""?c.removeGhostText():c.setGhostText(n),!0)},a.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},a.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},a.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},a})();v.AceInline=f}),ace.define("ace/autocomplete/util",["require","exports","module"],function(m,v,R){v.parForEach=function(y,f,a){var c=0,s=y.length;s===0&&a();for(var i=0;i<s;i++)f(y[i],function(n,r){c++,c===s&&a(n,r)})};var E=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;v.retrievePrecedingIdentifier=function(y,f,a){a=a||E;for(var c=[],s=f-1;s>=0&&a.test(y[s]);s--)c.push(y[s]);return c.reverse().join("")},v.retrieveFollowingIdentifier=function(y,f,a){a=a||E;for(var c=[],s=f;s<y.length&&a.test(y[s]);s++)c.push(y[s]);return c},v.getCompletionPrefix=function(y){var f=y.getCursorPosition(),a=y.session.getLine(f.row),c;return y.completers.forEach((function(s){s.identifierRegexps&&s.identifierRegexps.forEach((function(i){!c&&i&&(c=this.retrievePrecedingIdentifier(a,f.column,i))}).bind(this))}).bind(this)),c||this.retrievePrecedingIdentifier(a,f.column)},v.triggerAutocomplete=function(y,a){var a=a??y.session.getPrecedingCharacter();return y.completers.some(function(c){if(c.triggerCharacters&&Array.isArray(c.triggerCharacters))return c.triggerCharacters.includes(a)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(m,v,R){var E=m("./keyboard/hash_handler").HashHandler,y=m("./autocomplete/popup").AcePopup,f=m("./autocomplete/inline").AceInline,a=m("./autocomplete/popup").getAriaId,c=m("./autocomplete/util"),s=m("./lib/lang"),i=m("./lib/dom"),n=m("./snippets").snippetManager,r=m("./config"),l=m("./lib/event"),u=m("./lib/scroll").preventParentScroll,o=function(S,w){w.completer&&w.completer.destroy()},d=(function(){function S(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new E,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=s.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=s.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=s.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=s.delayedCall((function(){var w=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!w||this.editor.completers.length===0||(this.completions=new x(S.completionsForLoading),this.openPopup(this.editor,w.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(S,"completionsForLoading",{get:function(){return[{caption:r.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),S.prototype.$init=function(){return this.popup=new y(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(w){this.insertMatch(),w.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),l.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},S.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new f,this.inlineRenderer},S.prototype.getPopup=function(){return this.popup||this.$init()},S.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},S.prototype.$seen=function(w){!this.hasSeen.has(w)&&w&&w.completer&&w.completer.onSeen&&typeof w.completer.onSeen=="function"&&(w.completer.onSeen(this.editor,w),this.hasSeen.add(w))},S.prototype.$onPopupChange=function(w){if(this.inlineRenderer&&this.inlineEnabled){var b=w?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(b),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},S.prototype.$updateGhostText=function(w){var b=this.base.row,k=this.base.column,A=this.editor.getCursorPosition().column,T=this.editor.session.getLine(b).slice(k,A);this.inlineRenderer.show(this.editor,w,T)?this.$seen(w):this.inlineRenderer.hide()},S.prototype.$onPopupRender=function(){var w=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var b=this.popup.getFirstVisibleRow();b<=this.popup.getLastVisibleRow();b++){var k=this.popup.getData(b);k&&(!w||k.hideInlinePreview)&&this.$seen(k)}},S.prototype.$onPopupShow=function(w){this.$onPopupChange(w),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},S.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var w=this.editor.container.parentNode,b=[];w;)b.push(w),w.addEventListener("scroll",this.onLayoutChange,{passive:!0}),w=w.parentNode;this.$elements=b}},S.prototype.unObserveLayoutChanges=function(){var w=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(b){b.removeEventListener("scroll",w.onLayoutChange,{passive:!0})}),this.$elements=null},S.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},S.prototype.$updatePopupPosition=function(){var w=this.editor,b=w.renderer,k=b.layerConfig.lineHeight,A=b.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var T=w.container.getBoundingClientRect();A.top+=T.top-b.layerConfig.offset,A.left+=T.left-w.renderer.scrollLeft,A.left+=b.gutterWidth;var j={top:A.top,left:A.left};b.$ghostText&&b.$ghostTextWidget&&this.base.row===b.$ghostText.position.row&&(j.top+=b.$ghostTextWidget.el.offsetHeight);var F=w.container.getBoundingClientRect().bottom-k,N=F<j.top?{top:F,left:j.left}:j;this.popup.tryShow(N,k,"bottom")||this.popup.tryShow(A,k,"top")||this.popup.show(A,k)},S.prototype.openPopup=function(w,b,k){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),T=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled}),w.keyBinding.addKeyboardHandler(this.keyboardHandler);var j;this.stickySelection&&(j=this.popup.data.indexOf(T)),(!j||j===-1)&&(j=0),this.popup.setRow(this.autoSelect?j:-1),j===A&&T!==this.completions.filtered[j]&&this.$onPopupChange();var F=this.inlineRenderer&&this.inlineEnabled;if(j===A&&F){var N=this.popup.getData(this.popup.getRow());this.$updateGhostText(N)}k||(this.popup.setTheme(w.getTheme()),this.popup.setFontSize(w.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},S.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},S.prototype.changeListener=function(w){var b=this.editor.selection.lead;(b.row!=this.base.row||b.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},S.prototype.blurListener=function(w){var b=document.activeElement,k=this.editor.textInput.getElement(),A=w.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(w.relatedTarget),T=this.popup&&this.popup.container;b!=k&&b.parentNode!=T&&!A&&b!=this.tooltipNode&&w.relatedTarget!=k&&this.detach()},S.prototype.mousedownListener=function(w){this.detach()},S.prototype.mousewheelListener=function(w){this.popup&&!this.popup.isMouseOver&&this.detach()},S.prototype.mouseOutListener=function(w){this.popup.isOpen&&this.$updatePopupPosition()},S.prototype.goTo=function(w){this.popup.goTo(w)},S.prototype.insertMatch=function(w,b){if(w||(w=this.popup.getData(this.popup.getRow())),!w)return!1;if(w.value==="")return this.detach();var k=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,w,k.filterText,b);return this.completions==k&&this.detach(),A},S.prototype.showPopup=function(w,b){this.editor&&this.detach(),this.activated=!0,this.editor=w,w.completer!=this&&(w.completer&&w.completer.detach(),w.completer=this),w.on("changeSelection",this.changeListener),w.on("blur",this.blurListener),w.on("mousedown",this.mousedownListener),w.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,b)},S.prototype.getCompletionProvider=function(w){return this.completionProvider||(this.completionProvider=new g(w)),this.completionProvider},S.prototype.gatherCompletions=function(w,b){return this.getCompletionProvider().gatherCompletions(w,b)},S.prototype.updateCompletions=function(w,b){if(w&&this.base&&this.completions){var A=this.editor.getCursorPosition(),T=this.editor.session.getTextRange({start:this.base,end:A});if(T==this.completions.filterText)return;if(this.completions.setFilter(T),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==T&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,T,w);return}if(b&&b.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new x(b.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",w)}var k=this.editor.getSession(),A=this.editor.getCursorPosition(),T=c.getCompletionPrefix(this.editor);this.base=k.doc.createAnchor(A.row,A.column-T.length),this.base.$insertRight=!0;var j={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:T,pos:A}).provideCompletions(this.editor,j,(function(F,N,$){var M=N.filtered,L=c.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),$){if(!M.length){var D=!this.autoShown&&this.emptyMessage;if(typeof D=="function"&&(D=this.emptyMessage(L)),D){var z=[{caption:D,value:""}];this.completions=new x(z),this.openPopup(this.editor,L,w),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(M.length==1&&M[0].value==L&&!M[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&M.length==1)return this.insertMatch(M[0])}this.completions=!$&&this.showLoadingState?new x(S.completionsForLoading.concat(M),N.filterText):N,this.openPopup(this.editor,L,w),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!$)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},S.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},S.prototype.updateDocTooltip=function(){var w=this.popup,b=this.completions&&this.completions.filtered,k=b&&(b[w.getHoveredRow()]||b[w.getRow()]),A=null;if(!k||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var T=this.editor.completers.length,j=0;j<T;j++){var F=this.editor.completers[j];if(F.getDocTooltip&&k.completerId===F.id){A=F.getDocTooltip(k);break}}if(!A&&typeof k!="string"&&(A=k),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},S.prototype.showDocTooltip=function(w){this.tooltipNode||(this.tooltipNode=i.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",u));var b=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(b.isDark?"ace_dark ":"")+(b.cssClass||"");var k=this.tooltipNode;w.docHTML?k.innerHTML=w.docHTML:w.docText&&(k.textContent=w.docText),k.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,T=A.container.getBoundingClientRect(),j=400,F=300,N=A.renderer.scrollBar.width||10,$=T.left,M=window.innerWidth-T.right-N,L=A.isTopdown?window.innerHeight-N-T.bottom:T.top,D=[Math.min(M/j,1),Math.min($/j,1),Math.min(L/F,1)*.9],z=Math.max.apply(Math,D),B=k.style;B.display="block",z==D[0]||D[0]>=1?(B.left=T.right+1+"px",B.right="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-N-T.top,F)+"px"):z==D[1]||D[1]>=1?(B.right=window.innerWidth-T.left+"px",B.left="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-N-T.top,F)+"px"):z==D[2]&&(B.left=T.left+"px",B.right="",B.maxWidth=Math.min(j,window.innerWidth-T.left)+"px",A.isTopdown?(B.top=T.bottom+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-N-T.bottom,F)+"px"):(B.top="",B.bottom=window.innerHeight-T.top+"px",B.maxHeight=Math.min(T.top,F)+"px")),i.$fixPositionBug(k)},S.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var w=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==w&&this.editor.focus(),this.tooltipNode=null,w.parentNode&&w.parentNode.removeChild(w)}},S.prototype.onTooltipClick=function(w){for(var b=w.target;b&&b!=this.tooltipNode;){if(b.nodeName=="A"&&b.href){b.rel="noreferrer",b.target="_blank";break}b=b.parentNode}},S.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var w=this.popup.container;w&&w.parentNode&&w.parentNode.removeChild(w)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",o),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},S.for=function(w){return w.completer instanceof S||(w.completer&&(w.completer.destroy(),w.completer=null),r.get("sharedPopups")?(S.$sharedInstance||(S.$sharedInstance=new S),w.completer=S.$sharedInstance):(w.completer=new S,w.once("destroy",o))),w.completer},S})();d.prototype.commands={Up:function(S){S.completer.goTo("up")},Down:function(S){S.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(S){S.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(S){S.completer.goTo("end")},Esc:function(S){S.completer.detach()},Return:function(S){return S.completer.insertMatch()},"Shift-Return":function(S){S.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(S){var w=S.completer.insertMatch();if(!w&&!S.tabstopManager)S.completer.goTo("down");else return w},Backspace:function(S){S.execCommand("backspace");var w=c.getCompletionPrefix(S);!w&&S.completer&&S.completer.detach()},PageUp:function(S){S.completer.popup.gotoPageUp()},PageDown:function(S){S.completer.popup.gotoPageDown()}},d.startCommand={name:"startAutocomplete",exec:function(S,w){var b=d.for(S);b.autoInsert=!1,b.autoSelect=!0,b.autoShown=!1,b.showPopup(S,w),b.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var g=(function(){function S(w){this.initialPosition=w,this.active=!0}return S.prototype.insertByIndex=function(w,b,k){return!this.completions||!this.completions.filtered?!1:this.insertMatch(w,this.completions.filtered[b],k)},S.prototype.insertMatch=function(w,b,k){if(!b)return!1;if(w.startOperation({command:{name:"insertMatch"}}),b.completer&&b.completer.insertMatch)b.completer.insertMatch(w,b);else{if(!this.completions)return!1;var A=this.completions.filterText.length,T=0;if(b.range&&b.range.start.row===b.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-b.range.start.column,T+=b.range.end.column-this.initialPosition.pos.column),A||T){var j;w.selection.getAllRanges?j=w.selection.getAllRanges():j=[w.getSelectionRange()];for(var F=0,N;N=j[F];F++)N.start.column-=A,N.end.column+=T,w.session.remove(N)}b.snippet?n.insertSnippet(w,b.snippet):this.$insertString(w,b),b.completer&&b.completer.onInsert&&typeof b.completer.onInsert=="function"&&b.completer.onInsert(w,b),b.command&&b.command==="startAutocomplete"&&w.execCommand(b.command)}return w.endOperation(),!0},S.prototype.$insertString=function(w,b){var k=b.value||b;w.execCommand("insertstring",k)},S.prototype.gatherCompletions=function(w,b){var k=w.getSession(),A=w.getCursorPosition(),T=c.getCompletionPrefix(w),j=[];this.completers=w.completers;var F=w.completers.length;return w.completers.forEach(function(N,$){N.getCompletions(w,k,A,T,function(M,L){N.hideInlinePreview&&(L=L.map(function(D){return Object.assign(D,{hideInlinePreview:N.hideInlinePreview})})),!M&&L&&(j=j.concat(L)),b(null,{prefix:c.getCompletionPrefix(w),matches:j,finished:--F===0})})}),!0},S.prototype.provideCompletions=function(w,b,k){var A=(function(N){var $=N.prefix,M=N.matches;this.completions=new x(M),b.exactMatch&&(this.completions.exactMatch=!0),b.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter($),(N.finished||this.completions.filtered.length)&&k(null,this.completions,N.finished)}).bind(this),T=!0,j=null;if(this.gatherCompletions(w,(function(N,$){if(this.active){N&&(k(N,[],!0),this.detach());var M=$.prefix;if(M.indexOf($.prefix)===0){if(T){j=$;return}A($)}}}).bind(this)),T=!1,j){var F=j;j=null,A(F)}},S.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(w){typeof w.cancel=="function"&&w.cancel()})},S})(),x=(function(){function S(w,b){this.all=w,this.filtered=w,this.filterText=b||"",this.exactMatch=!1,this.ignoreCaption=!1}return S.prototype.setFilter=function(w){if(w.length>this.filterText&&w.lastIndexOf(this.filterText,0)===0)var b=this.filtered;else var b=this.all;this.filterText=w,b=this.filterCompletions(b,this.filterText),b=b.sort(function(A,T){return T.exactMatch-A.exactMatch||T.$score-A.$score||(A.caption||A.value).localeCompare(T.caption||T.value)});var k=null;b=b.filter(function(A){var T=A.snippet||A.caption||A.value;return T===k?!1:(k=T,!0)}),this.filtered=b},S.prototype.filterCompletions=function(w,b){var k=[],A=b.toUpperCase(),T=b.toLowerCase();e:for(var j=0,F;F=w[j];j++){if(F.skipFilter){F.$score=F.score,k.push(F);continue}var N=!this.ignoreCaption&&F.caption||F.value||F.snippet;if(N){var $=-1,M=0,L=0,D,z;if(this.exactMatch){if(b!==N.substr(0,b.length))continue e}else{var B=N.toLowerCase().indexOf(T);if(B>-1)L=B;else for(var P=0;P<b.length;P++){var U=N.indexOf(T[P],$+1),W=N.indexOf(A[P],$+1);if(D=U>=0&&(W<0||U<W)?U:W,D<0)continue e;z=D-$-1,z>0&&($===-1&&(L+=10),L+=z,M=M|1<<P),$=D}}F.matchMask=M,F.exactMatch=L?0:1,F.$score=(F.score||0)-L,k.push(F)}}return k},S})();v.Autocomplete=d,v.CompletionProvider=g,v.FilteredList=x}),ace.define("ace/marker_group",["require","exports","module"],function(m,v,R){var E=(function(){function y(f,a){a&&(this.markerType=a.markerType),this.markers=[],this.session=f,f.addDynamicMarker(this)}return y.prototype.getMarkerAtPosition=function(f){return this.markers.find(function(a){return a.range.contains(f.row,f.column)})},y.prototype.markersComparator=function(f,a){return f.range.start.row-a.range.start.row},y.prototype.setMarkers=function(f){this.markers=f.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},y.prototype.update=function(f,a,c,s){if(!(!this.markers||!this.markers.length))for(var i=s.firstRow,n=s.lastRow,r,l=0,u=0,o=0;o<this.markers.length;o++){var d=this.markers[o];if(!(d.range.end.row<i)&&!(d.range.start.row>n)&&(d.range.start.row===u?l++:(u=d.range.start.row,l=0),!(l>200))){var g=d.range.clipRows(i,n);if(!(g.start.row===g.end.row&&g.start.column===g.end.column)){var x=g.toScreenRange(c);if(x.isEmpty()){r=c.getNextFoldLine(g.end.row,r),r&&r.end.row>g.end.row&&(i=r.end.row);continue}this.markerType==="fullLine"?a.drawFullLineMarker(f,x,d.className,s):x.isMultiLine()?this.markerType==="line"?a.drawMultiLineMarker(f,x,d.className,s):a.drawTextMarker(f,x,d.className,s):a.drawSingleLineMarker(f,x,d.className+" ace_br15",s)}}}},y})();E.prototype.MAX_MARKERS=1e4,v.MarkerGroup=E}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(m,v,R){var E=m("../range").Range,y=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function f(c,s){var i=c.getTextRange(E.fromPoints({row:0,column:0},s));return i.split(y).length-1}function a(c,s){var i=f(c,s),n=c.getValue().split(y),r=Object.create(null),l=n[i];return n.forEach(function(u,o){if(!(!u||u===l)){var d=Math.abs(i-o),g=n.length-d;r[u]?r[u]=Math.max(g,r[u]):r[u]=g}}),r}v.getCompletions=function(c,s,i,n,r){var l=a(s,i),u=Object.keys(l);r(null,u.map(function(o){return{caption:o,value:o,score:l[o],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(m,v,R){var E=m("../snippets").snippetManager,y=m("../autocomplete").Autocomplete,f=m("../config"),a=m("../lib/lang"),c=m("../autocomplete/util"),s=m("../marker_group").MarkerGroup,i=m("../autocomplete/text_completer"),n={getCompletions:function(T,j,F,N,$){if(j.$mode.completer)return j.$mode.completer.getCompletions(T,j,F,N,$);var M=T.session.getState(F.row),L=j.$mode.getCompletions(M,j,F,N);L=L.map(function(D){return D.completerId=n.id,D}),$(null,L)},id:"keywordCompleter"},r=function(T){var j={};return T.replace(/\${(\d+)(:(.*?))?}/g,function(F,N,$,M){return j[N]=M||""}).replace(/\$(\d+?)/g,function(F,N){return j[N]})},l={getCompletions:function(T,j,F,N,$){var M=[],L=j.getTokenAt(F.row,F.column);L&&L.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?M.push("html-tag"):M=E.getActiveScopes(T);var D=E.snippetMap,z=[];M.forEach(function(B){for(var P=D[B]||[],U=P.length;U--;){var W=P[U],K=W.name||W.tabTrigger;K&&z.push({caption:K,snippet:W.content,meta:W.tabTrigger&&!W.name?W.tabTrigger+" ":"snippet",completerId:l.id})}},this),$(null,z)},getDocTooltip:function(T){T.snippet&&!T.docHTML&&(T.docHTML=["<b>",a.escapeHTML(T.caption),"</b>","<hr></hr>",a.escapeHTML(r(T.snippet))].join(""))},id:"snippetCompleter"},u=[l,i,n];v.setCompleters=function(T){u.length=0,T&&u.push.apply(u,T)},v.addCompleter=function(T){u.push(T)},v.textCompleter=i,v.keyWordCompleter=n,v.snippetCompleter=l;var o={name:"expandSnippet",exec:function(T){return E.expandWithTab(T)},bindKey:"Tab"},d=function(T,j){g(j.session.$mode)},g=function(T){typeof T=="string"&&(T=f.$modes[T]),T&&(E.files||(E.files={}),x(T.$id,T.snippetFileId),T.modes&&T.modes.forEach(g))},x=function(T,j){!j||!T||E.files[T]||(E.files[T]={},f.loadModule(j,function(F){F&&(E.files[T]=F,!F.snippets&&F.snippetText&&(F.snippets=E.parseSnippetFile(F.snippetText)),E.register(F.snippets||[],F.scope),F.includeScopes&&(E.snippetMap[F.scope].includeScopes=F.includeScopes,F.includeScopes.forEach(function(N){g("ace/mode/"+N)})))}))},S=function(T){var j=T.editor,F=j.completer&&j.completer.activated;if(T.command.name==="backspace")F&&!c.getCompletionPrefix(j)&&j.completer.detach();else if(T.command.name==="insertstring"&&!F){w=T;var N=T.editor.$liveAutocompletionDelay;N?b.delay(N):k(T)}},w,b=a.delayedCall(function(){k(w)},0),k=function(T){var j=T.editor,F=c.getCompletionPrefix(j),N=T.args,$=c.triggerAutocomplete(j,N);if(F&&F.length>=j.$liveAutocompletionThreshold||$){var M=y.for(j);M.autoShown=!0,M.showPopup(j)}},A=m("../editor").Editor;m("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(T){T?(y.for(this),this.completers||(this.completers=Array.isArray(T)?T:u),this.commands.addCommand(y.startCommand)):this.commands.removeCommand(y.startCommand)},value:!1},enableLiveAutocompletion:{set:function(T){T?(this.completers||(this.completers=Array.isArray(T)?T:u),this.commands.on("afterExec",S)):this.commands.off("afterExec",S)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(T){T?(this.commands.addCommand(o),this.on("changeMode",d),d(null,this)):(this.commands.removeCommand(o),this.off("changeMode",d))},value:!1}}),v.MarkerGroup=s}),(function(){ace.require(["ace/ext/language_tools"],function(m){h&&(h.exports=m)})})()})(id)),id.exports}xw();fd.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/");function Sc({value:h="",onChange:_,mode:m="json",theme:v="monokai",readOnly:R=!1,height:E="100%",width:y="100%",className:f,wrapperClassName:a,transparent:c=!1,diffMarkers:s,onSave:i,rightClickMenu:n,contextMenuComponent:r}){const[l,u]=ie.useState(!1),[o]=ie.useState(()=>`ace-editor-${Math.random()}`),d=ie.useRef(null),g=ie.useRef([]),[x,S]=ie.useState(null),w=ie.useRef(null);return ie.useEffect(()=>{const b=k=>{w.current&&!w.current.contains(k.target)&&S(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),ie.useEffect(()=>{if(!d.current||!s)return;const k=d.current.editor.getSession();g.current.forEach(A=>{k.removeMarker(A)}),g.current=[],s.added.forEach(A=>{const T=fd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-added","fullLine",!0);g.current.push(F)}),s.modified.forEach(A=>{const T=fd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-modified","fullLine",!0);g.current.push(F)})},[s]),ie.useEffect(()=>{if(!d.current||!n&&!r)return;const b=d.current.editor,k=b.container,A=T=>{T.preventDefault();const{clientX:j,clientY:F}=T,N=b.renderer.screenToTextCoordinates(j,F);if(n){const $=b.getSelectedText(),M=b.getSelectionRange(),L=$?{startLine:M.start.row+1,endLine:M.end.row+1}:void 0;n(N.row+1,N.column,$,L)}r&&S({x:j,y:F})};return k.addEventListener("contextmenu",A),()=>{k.removeEventListener("contextmenu",A)}},[n,r]),O.jsxs("div",{className:`h-full w-full ${a||""}`,children:[O.jsx("style",{children:`
                    .ace-diff-added {
                        position: absolute;
                        background-color: rgba(46, 160, 67, 0.25) !important;
                        border-left: 3px solid #2ea043 !important;
                    }
                    .ace-diff-modified {
                        position: absolute;
                        background-color: rgba(255, 166, 0, 0.2) !important;
                        border-left: 3px solid #ffa600 !important;
                    }
                `}),c&&O.jsx("style",{children:`
                        #${o.replace(/\./g,"\\.")} {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_gutter {
                            background-color: transparent !important;
                            color: #8F908A; /* Monokai gutter text color preserved, modify if needed */
                        }
                        #${o.replace(/\./g,"\\.")} .ace_scroller {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_marker-layer .ace_active-line {
                            background-color: transparent !important;
                        }
                        #${o.replace(/\./g,"\\.")} .ace_gutter-active-line {
                            background-color: transparent !important;
                        }
                    `}),r&&x&&O.jsx("div",{ref:w,style:{position:"fixed",top:x.y,left:x.x,zIndex:9999},children:r}),O.jsx(pw,{ref:d,mode:m,theme:v,onChange:_,value:h,name:o,commands:[{name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:()=>{i&&i()}}],editorProps:{$blockScrolling:!0},onFocus:()=>u(!0),onBlur:()=>u(!1),setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,showPrintMargin:!1,tabSize:2,useWorker:!1,fontFamily:"monospace",fontSize:14,highlightActiveLine:l},height:E,width:y,className:f,readOnly:R,style:c?{backgroundColor:"transparent"}:void 0})]})}function fv(){const h=De.use.body(),_=De.use.setBody();return O.jsxs("div",{className:"flex-1 flex flex-col min-h-0 gap-2",children:[O.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Request Body"}),O.jsx("div",{className:"flex-1 min-h-0",children:O.jsx(Sc,{transparent:!0,value:h,onChange:_})})]})}function ww({onMinimize:h}){const _=De.use.expectedOutput(),m=ie.useRef(null),[v,R]=ie.useState("");ie.useEffect(()=>{E(_)},[_]);const E=y=>{try{let f="";typeof y=="object"?f=JSON.stringify(y,null,2):f=String(y);let a=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a=a.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),a=a.replace(/([{}\[\],])/g,c=>`<span class="text-gray-500">${c}</span>`),R(a)}catch{R("Invalid output")}};return O.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[O.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[O.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[O.jsx("i",{className:"fa fa-circle-info text-sm"}),"Expected Response"]}),O.jsx("button",{className:"px-2 py-1 bg-gray-700 rounded-md text-gray-300 text-sm",onClick:h,children:O.jsx("i",{className:"fa fa-minus"})})]}),O.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:O.jsx("pre",{ref:m,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",dangerouslySetInnerHTML:{__html:v}})})]})}function Sw({isOpen:h,onClose:_}){const{crudData:m,currentCategoryIndex:v,currentCrudIndex:R,useDevURL:E,params:y,method:f,header:a,body:c}=De();if(!h||v===-1||R===-1)return null;const s=m[v].items[R],n=`${E?m[v].devurl:m[v].produrl}${s.route}${y?`?${y}`:""}`;let r="";if(f==="STREAM")r=`const url = "${n}";

const response = await fetch(url, {
  method: "GET",
  headers: ${a}
});

if (!response.body) throw new Error("No response body");

const reader = response.body.getReader();
const decoder = new TextDecoder("utf-8");

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  const chunk = decoder.decode(value, { stream: true });
  console.log(chunk);
}`;else{const l=f!=="GET";let u=`{
  method: "${f}",
  headers: ${a}`;if(l){let o=c;try{o=JSON.stringify(JSON.parse(c),null,2).replace(/\n/g,`
  `),u+=`,
  body: JSON.stringify(${o})`}catch{u+=`,
  body: ${JSON.stringify(c)}`}}u+=`
}`,r=`const url = "${n}";
        
const response = await fetch(url, ${u});

const data = await response.json();
console.log(data);`}return O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:O.jsxs("div",{className:"bg-[#111111] border border-white/10 rounded-xl w-full max-w-3xl flex flex-col h-[70vh]",children:[O.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[O.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-code text-blue-400"}),"Code Example"]}),O.jsx("button",{onClick:_,className:"text-gray-400 hover:text-white transition-colors",children:O.jsx("i",{className:"fas fa-times"})})]}),O.jsx("div",{className:"flex-1 overflow-hidden p-1 relative",children:O.jsx(Sc,{value:r,mode:"javascript",theme:"monokai",readOnly:!0,transparent:!0})}),O.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-end gap-2",children:[O.jsx("button",{onClick:()=>{navigator.clipboard.writeText(r),alert("Code copied to clipboard!")},className:"px-4 py-2 rounded-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20",children:"Copy Code"}),O.jsx("button",{onClick:_,className:"px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Close"})]})]})})}function pv(){const h=De.use.output(),_=ie.useRef(null),[m,v]=ie.useState(""),[R,E]=ie.useState(!1);ie.useEffect(()=>{y(h)},[h]);const y=c=>{try{let s=c;if(typeof c=="string")try{s=JSON.parse(c)}catch{}let i="",n=!1;typeof s=="object"&&s!==null?(i=JSON.stringify(s,null,2),n=!0):i=String(s);let r=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");n&&(r=r.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),r=r.replace(/([{}\[\],])/g,l=>`<span class="text-gray-500">${l}</span>`)),v(r)}catch{v("Invalid output")}},f=()=>{const c=JSON.stringify(h,null,2);localStorage.setItem("crud-output-last",c),alert("Output saved to LocalStorage")},a=()=>{const c=localStorage.getItem("crud-output-last");if(c)try{const s=JSON.parse(c);y(s)}catch{y(c)}else alert("No saved output found")};return O.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[O.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[O.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-terminal text-sm"}),"Response"]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:f,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Save to LocalStorage",children:O.jsx("i",{className:"fas fa-save"})}),O.jsx("button",{onClick:a,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Load from LocalStorage",children:O.jsx("i",{className:"fas fa-upload"})}),O.jsx("button",{onClick:()=>E(!0),className:"p-1 text-md text-blue-500 hover:text-blue-400 transition-colors flex items-center gap-1",children:O.jsx("i",{className:"fas fa-code"})})]})]}),O.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:O.jsx("pre",{ref:_,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",style:{lineHeight:"1.1"},dangerouslySetInnerHTML:{__html:m}})}),O.jsx(Sw,{isOpen:R,onClose:()=>E(!1)})]})}function gv(){const h=De.use.header(),_=De.use.setHeader();return O.jsxs("div",{className:"h-[30%] flex flex-col overflow-hidden gap-2",children:[O.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Header"}),O.jsx("div",{className:"flex-1 min-h-0",children:O.jsx(Sc,{value:h,onChange:_,transparent:!0})})]})}function Cw(){const h=De.use.useDevURL(),_=De.use.setUseDevURL(),m=De.use.params(),v=De.use.method(),R=De.use.crudData(),E=De.use.currentCategoryIndex(),y=De.use.currentCrudIndex();return O.jsxs("header",{className:"h-16 flex items-center px-4 gap-6 mb-4",children:[O.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1 border border-white/5",children:[O.jsx("button",{onClick:()=>_(!0),className:`${h?"bg-gradient-to-r from-blue-600 to-blue-500":""} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:R[E].devurl,children:"Dev"}),O.jsx("button",{onClick:()=>_(!1),className:`${h?"":"bg-gradient-to-r from-blue-600 to-blue-500"} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:R[E].produrl,children:"Prod"})]}),O.jsx("div",{className:"h-12 w-px bg-white/10"}),O.jsxs("div",{className:" flex flex-col  gap-1",children:[O.jsxs("div",{className:"flex flex-start justify-start gap-2 overflow-hidden",children:[O.jsx("span",{className:"font-mono text-md font-bold text-blue-400 bg-blue-500/10 border border-blue-500/20 px-2 rounded",children:v}),O.jsx("span",{className:"text-gray-500 font-mono text-md",children:`${h?R[E].devurl:R[E].produrl}${R[E].items[y].route}${m?encodeURI(m.startsWith("?")?m:`?${m}`):""}`})]}),O.jsxs("div",{className:"flex items-baseline gap-2 overflow-hidden",children:[O.jsx("span",{className:" text-xs font-bold text-blue-400 ",children:R[E].items[y].label}),O.jsx("span",{className:"text-gray-500 text-sm",children:R[E].items[y].description})]})]})]})}function Ew(){const h=De.use.params(),_=De.use.setParams(),m=De.use.sendRequest(),v=De.use.crudData(),R=De.use.currentCategoryIndex(),E=De.use.currentCrudIndex(),y=De.use.setBody(),f=De.use.executionTime(),a=De.use.isFetching(),c=De.use.requestStartTime(),[s,i]=ie.useState(0),[n,r]=ie.useState(!1),u=(R!==-1&&E!==-1?v[R]?.items[E]:null)?.suggested||[],o=d=>{d.content&&y(d.content),d.urlparams&&_(d.urlparams),r(!1)};return ie.useEffect(()=>{let d;const g=()=>{a?(i(Date.now()-c),d=requestAnimationFrame(g)):i(f)};return a?g():i(f),()=>{d&&cancelAnimationFrame(d)}},[a,c,f]),O.jsx("div",{className:"flex flex-col gap-5 px-4",children:O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("button",{className:"group relative px-6 py-2 rounded-xl font-bold text-xs tracking-wide text-white overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-lg shadow-blue-600/20 flex-none h-10 flex items-center gap-2",onClick:m,children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-400"}),O.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),O.jsx("span",{className:"relative z-10",children:"SEND REQUEST"}),O.jsx("i",{className:"fas fa-paper-plane relative z-10"})]}),u.length>0&&O.jsxs("div",{className:"relative",children:[O.jsxs("button",{className:"bg-black/40 border border-white/5 hover:bg-white/5 active:scale-95 transition-all rounded-xl px-4 h-10 flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-white",onClick:()=>r(!n),children:[O.jsx("i",{className:"fas fa-list-ul"}),"Presets",O.jsx("i",{className:`fas fa-chevron-down transition-transform ${n?"rotate-180":""}`})]}),n&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),O.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-fade-in-up",children:O.jsx("div",{className:"py-1",children:u.map((d,g)=>O.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/5 transition-colors flex items-center gap-2",onClick:()=>o(d),children:[O.jsx("i",{className:"fas fa-bolt text-blue-400 text-xs"}),d.name]},g))})})]})]}),O.jsx("div",{className:"flex-none bg-black/40 border border-white/5 rounded-xl px-4 h-10 flex items-center gap-3",children:O.jsxs("span",{className:"text-green-400 font-mono font-bold text-sm",children:[s," ms"]})}),O.jsx("div",{className:"group rounded-lg transition-all duration-300 w-full mr-4 lg:mr-12",children:O.jsx("div",{className:`p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-500/40 
                    group-focus-within:to-blue-400/40
                    transition-colors duration-300`,children:O.jsxs("div",{className:"bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[O.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:O.jsx("i",{className:"fas fa-code-branch text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm"})}),O.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:"Query Params (e.g. ?id=123)",value:h,onChange:d=>{_(d.target.value)}})]})})})]})})}function Aw(){const h=De.use.currentCategoryIndex(),_=De.use.currentCrudIndex(),[m,v]=ie.useState(!1);return h===-1||_===-1?O.jsxs("div",{id:"crud-empty-state",className:"relative z-10 flex-1 flex items-center justify-center text-gray-600 flex-col gap-6 opacity-60 select-none animate-pulse",children:[O.jsx("div",{className:"w-32 h-32 rounded-full bg-white/5 flex items-center justify-center",children:O.jsx("i",{className:"fas fa-rocket text-6xl text-gray-700"})}),O.jsx("p",{className:"text-xl font-medium tracking-tight",children:"Select an endpoint to start testing"})]}):O.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[O.jsx(Cw,{}),O.jsx(Ew,{}),m?O.jsxs("div",{className:"flex flex-row flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[O.jsxs("div",{className:"w-[32%] flex flex-col gap-4",children:[O.jsx(gv,{}),O.jsx(fv,{})]}),O.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:O.jsx(pv,{})}),O.jsx("div",{className:"w-[32px] flex flex-col",children:O.jsx("button",{onClick:()=>v(!1),className:"w-6 h-6 rounded-md bg-gray-700 text-gray-300 flex items-center justify-center hover:bg-gray-600 transition-colors",children:O.jsx("i",{className:"fa fa-chevron-right"})})})]}):O.jsxs("div",{className:"grid grid-cols-3 flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[O.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[O.jsx(gv,{}),O.jsx(fv,{})]}),O.jsx("div",{className:"col-span-1 overflow-hidden",children:O.jsx(pv,{})}),O.jsx("div",{className:"col-span-1 overflow-hidden transition-all duration-300 ease-in-out",children:O.jsx(ww,{onMinimize:()=>v(!0)})})]})]})}function nd({label:h,placeholder:_,value:m,onChange:v,rows:R=4}){return O.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[O.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:h}),O.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:O.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300`,children:O.jsx("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:O.jsx("textarea",{className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none resize-none",rows:R,placeholder:_,value:m,onChange:E=>{v(E)}})})})})]})}function kw({isOpen:h,onClose:_,categoryIndex:m,itemIndex:v}){const R=De.use.crudData(),E=De.use.setCrudData(),y=De.use.currentCategoryIndex(),f=De.use.currentCrudIndex(),a=De.use.setCurrentCrudIndex(),[c,s]=ie.useState(""),[i,n]=ie.useState(""),[r,l]=ie.useState(""),[u,o]=ie.useState(""),[d,g]=ie.useState(""),[x,S]=ie.useState(""),[w,b]=ie.useState([]);ie.useEffect(()=>{if(h){if(v===-1)s(""),n(""),l("GET"),o(""),g("{}"),S(""),b([]);else if(R[m]&&R[m].items[v]){const N=R[m].items[v];s(N.label),n(N.route),l(N.methods),o(N.description),g(N.sampleInput),S(N.expectedOutcome),b(N.suggested||[])}}},[h,R,m,v]);const k=()=>{const N=[...R],$={label:c,route:i,methods:r,description:u,sampleInput:d,expectedOutcome:x,suggested:w};if(v===-1)N[m].items||(N[m].items=[]),N[m].items.push($);else{const M=N[m].items[v];N[m].items[v]={...M,...$}}E(N),_()},A=()=>{const N=[...R];N[m]&&N[m].items&&(N[m].items.splice(v,1),m===y&&(v===f?a(-1):v<f&&a(f-1)),E(N),_())},T=()=>{b([...w,{name:"New Preset",urlparams:"",content:"{}"}])},j=(N,$,M)=>{const L=[...w];L[N]={...L[N],[$]:M},b(L)},F=N=>{const $=[...w];$.splice(N,1),b($)};return h?O.jsxs(Ri,{width:"800px",children:[O.jsx(Ni,{title:v===-1?"Add New Item":"Edit CRUD Item",description:v===-1?"Add a new item":"Edit an existing item",icon:v===-1?"fas fa-plus":"fas fa-edit",close:_}),O.jsxs("div",{className:"p-4 flex-1 flex flex-col gap-3 max-h-[60vh] overflow-y-auto text-md",children:[O.jsxs("div",{className:"flex gap-4",children:[O.jsx(ni,{label:"Label",icon:"fas fa-info",placeholder:"Name for the route",value:c,onChange:N=>s(N.target.value)}),O.jsx(ni,{label:"Description",icon:"fas fa-info",placeholder:"(optional) Description",value:u,onChange:N=>o(N.target.value)})]}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx(ni,{label:"Route",icon:"fas fa-info",placeholder:"/mytest",value:i,onChange:N=>n(N.target.value)}),O.jsx(ni,{label:"Method",icon:"fas fa-info",placeholder:"GET | POST | DELETE | PUT",value:r,onChange:N=>l(N.target.value)})]}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx(nd,{label:"Sample Input",placeholder:"{}",value:d,onChange:N=>g(N.target.value),rows:5}),O.jsx(nd,{label:"Expected Outcome",placeholder:"{}",value:x,onChange:N=>S(N.target.value),rows:5})]}),O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Suggested Presets"}),O.jsxs("div",{className:"space-y-3",children:[w.map((N,$)=>O.jsxs("div",{className:"flex flex-row gap-3",children:[O.jsxs("div",{className:"w-[50%] flex flex-col gap-2",children:[O.jsxs("div",{className:"flex flex-row gap-2",children:[O.jsx(ni,{label:"Preset Name",icon:"fas fa-info",placeholder:"Preset Name",value:N.name,onChange:M=>j($,"name",M.target.value)}),O.jsx("button",{onClick:()=>F($),className:"text-red-400 hover:text-red-300 px-2",children:O.jsx("i",{className:"pt-6 fas fa-trash"})})]}),O.jsx(ni,{label:"URL Params",icon:"fas fa-info",placeholder:"URL Params",value:N.urlparams,onChange:M=>j($,"urlparams",M.target.value)})]}),O.jsx("div",{className:"w-[50%]",children:O.jsx(nd,{label:"Body Content",placeholder:"{}",value:N.content,onChange:M=>j($,"content",M.target.value),rows:5})})]},$)),O.jsx("button",{onClick:T,className:"w-full py-2 bg-white/5 border border-dashed border-white/20 rounded-lg text-xs text-gray-400 hover:text-white hover:bg-white/10 transition-colors",children:"+ Add Preset"})]})]})]}),O.jsxs("footer",{className:"mt-2 mb-4 flex justify-between px-4",children:[m!==-1?O.jsxs("button",{onClick:A,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):O.jsx("div",{}),O.jsxs("div",{className:"flex gap-6",children:[O.jsxs("button",{onClick:_,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:"Cancel"}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),O.jsx(Zn,{onClick:k,text:"Save",icon:"fas fa-save"})]})]})]}):null}function Tw({isOpen:h,onClose:_,categoryIndex:m}){const v=De.use.crudData(),R=De.use.setCrudData(),E=De.use.currentCategoryIndex(),y=De.use.setCurrentCategoryIndex(),f=De.use.setCurrentCrudIndex(),[a,c]=ie.useState(""),[s,i]=ie.useState("http://localhost:3000"),[n,r]=ie.useState("");ie.useEffect(()=>{if(h){if(m===-1)c(""),i("http://localhost:3000"),r("");else if(v[m]){const o=v[m];c(o.category),i(o.devurl),r(o.produrl)}}},[h,v,m]);const l=()=>{const o=[...v];if(m===-1){const d={category:a,devurl:s,produrl:n,items:[]};o.push(d)}else o[m]={...o[m],category:a,devurl:s,produrl:n};R(o),_()},u=()=>{const o=[...v];o.splice(m,1),m===E?(y(-1),f(-1)):m<E&&y(E-1),R(o),_()};return h?O.jsxs(Ri,{children:[O.jsx(Ni,{title:m===-1?"Add New Category":"Edit Category",description:m===-1?"Add a new category":"Edit an existing category",icon:m===-1?"fas fa-plus":"fas fa-edit",close:_}),O.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[O.jsxs("div",{className:"flex flex-col gap-4",children:[O.jsx(ni,{label:"Category",icon:"fas fa-info",placeholder:"Category Name",value:a,onChange:o=>{c(o.target.value)}}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx(ni,{label:"Dev URL",icon:"fas fa-info",placeholder:"Dev URL",value:s,onChange:o=>i(o.target.value)}),O.jsx(ni,{label:"Prod URL",icon:"fas fa-info",placeholder:"Prod URL",value:n,onChange:o=>r(o.target.value)})]})]}),O.jsxs("footer",{className:"mt-4 flex justify-between px-4",children:[m!==-1?O.jsxs("button",{onClick:u,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):O.jsx("div",{}),O.jsxs("div",{className:"flex gap-6",children:[O.jsxs("button",{onClick:_,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:"Cancel"}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),O.jsx(Zn,{onClick:l,text:"Save",icon:"fas fa-save"})]})]})]})]}):null}function Mw(){const h=De.use.crudData(),_=De.use.currentCategoryIndex(),m=De.use.currentCrudIndex(),v=De.use.setCurrentCategoryIndex(),R=De.use.setCurrentCrudIndex(),E=De.use.setMethod(),y=De.use.setParams(),f=De.use.setBody(),a=De.use.setExpectedOutput(),[c,s]=ie.useState({0:!1}),[i,n]=ie.useState({isOpen:!1,categoryIndex:0,itemIndex:0}),[r,l]=ie.useState({isOpen:!1,categoryIndex:-1}),u=d=>{s(g=>({...g,[d]:!g[d]}))},o=(d,g,x)=>{v(d),R(g),E(x.methods),y(""),f(x.sampleInput||""),a(x.expectedOutcome||"")};return O.jsxs("div",{className:"w-full flex flex-col pb-12",children:[h.map((d,g)=>O.jsxs("div",{className:"flex flex-col",children:[O.jsxs("button",{onClick:()=>u(g),className:"px-3 flex items-center justify-between py-1 bg-gradient-to-br hover:from-blue-600 hover:to-blue-400 from-blue-600/5 to-blue-400/5 rounded-lg transition-colors group mb-1",children:[O.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider group-hover:text-white transition-colors",children:d.category}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{onClick:x=>{x.stopPropagation(),l({isOpen:!0,categoryIndex:g})},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/10 rounded transition-all text-white",children:O.jsx("i",{className:"fas fa-pen text-[10px]"})}),O.jsx("i",{className:`fas fa-chevron-down text-[10px] text-gray-600 transition-transform duration-200 ${c[g]?"rotate-180":""}`})]})]}),c[g]&&O.jsxs("div",{className:"flex flex-col pl-2",children:[d.items.map((x,S)=>{const w=g===_&&S===m;return O.jsxs("div",{className:`group relative flex items-center justify-between px-2 rounded-lg cursor-pointer transition-all border border-transparent
                                            ${w?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}`,onClick:()=>o(g,S,x),children:[O.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[O.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded shrink-0 ${x.methods==="GET"?"bg-green-500/20 text-green-400":x.methods==="POST"?"bg-blue-500/20 text-blue-400":x.methods==="PUT"?"bg-orange-500/20 text-orange-400":x.methods==="DELETE"?"bg-red-500/20 text-red-400":"bg-purple-500/20 text-purple-400"}`,children:x.methods}),O.jsx("span",{className:`text-sm font-medium truncate transition-colors ${w?"text-white":"text-gray-300 group-hover:text-white"}`,children:x.label})]}),O.jsx("button",{onClick:b=>{b.stopPropagation(),n({isOpen:!0,categoryIndex:g,itemIndex:S})},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-md hover:bg-white/10 text-white hover:text-white transition-all",title:"Edit Item",children:O.jsx("i",{className:"fas fa-pen text-xs"})})]},S)}),O.jsxs("button",{onClick:()=>n({isOpen:!0,categoryIndex:g,itemIndex:-1}),className:"w-full py-1 mt-1 text-xs text-gray-500 hover:text-white transition-all flex gap-2",children:[O.jsx("i",{className:"fas fa-plus"}),"Add Route"]})]})]},g)),O.jsxs("button",{onClick:()=>l({isOpen:!0,categoryIndex:-1}),className:"w-full py-2 hover:border-white/20 text-xs font-bold text-gray-500 hover:text-white transition-all flex gap-2",children:[O.jsx("i",{className:"fas fa-folder-plus group-hover:scale-110 transition-transform"}),"Add Category"]}),O.jsx(kw,{isOpen:i.isOpen,onClose:()=>n(d=>({...d,isOpen:!1})),categoryIndex:i.categoryIndex,itemIndex:i.itemIndex}),O.jsx(Tw,{isOpen:r.isOpen,onClose:()=>l(d=>({...d,isOpen:!1})),categoryIndex:r.categoryIndex})]})}function Lw(){return O.jsxs("div",{className:"w-[340px] h-full flex-none  flex flex-col z-20",children:[O.jsxs("div",{className:"h-14 px-4 flex-none flex items-center justify-between ",children:[O.jsxs("span",{className:"text-xs font-bold uppercase text-blue-400 tracking-widest flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-circle-nodes"}),"Simple CRUD Test"]}),O.jsx("button",{className:"text-gray-500 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-lg",children:O.jsx("i",{className:"fas fa-sync-alt text-xs"})})]}),O.jsx("div",{className:"flex-1 overflow-y-auto px-3 custom-scrollbar",children:O.jsx(Mw,{})})]})}function Rw(){const h=Xe.use.initMonorepoTime(),_=De.use.loadCrudData();return O.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center text-gray-400 gap-8 p-4 animate-fade-in top-20",children:[O.jsx("div",{className:"flex flex-col items-center gap-4 text-center",children:O.jsxs("div",{className:"space-y-2",children:[O.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:"Initialize CRUD Tester"}),O.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["A ",O.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-blue-300 font-mono text-xs",children:"monorepotime.json"})," file is required to start testing and documenting your API routes."]})]})}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-4xl",children:[O.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400",children:O.jsx("i",{className:"fas fa-user-slash"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-white font-medium mb-1",children:"No Sign-up"}),O.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"No accounts or logins needed. Your data stays on your machine."})]})]}),O.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center text-purple-400",children:O.jsx("i",{className:"fas fa-save"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-white font-medium mb-1",children:"Local Storage"}),O.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Everything is saved locally in ",O.jsx("span",{className:"text-purple-300",children:"monorepotime.json"})," within your project root."]})]})]}),O.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-400",children:O.jsx("i",{className:"fas fa-book-open"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-white font-medium mb-1",children:"Live Documentation"}),O.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Perfect for documenting and sharing API route configurations with your team."})]})]})]}),O.jsx("div",{className:"w-full max-w-sm mt-4",children:O.jsx(ss,{name:"Create Configuration File",description:"Initialize /root/monorepotime.json",icon:"fa-plus",color:"blueIndigo",onClick:async()=>{await h(),await _()},className:""})})]})}function Nw(h){const _=De.use.noData(),m=De.use.loadCrudData();return ie.useEffect(()=>{h.isVisible&&m()},[h.isVisible]),_&&h.isVisible?O.jsx(Rw,{}):O.jsxs("div",{className:`flex h-full w-full ${h.isVisible?"block":"hidden"}`,children:[O.jsx(Lw,{}),O.jsx("div",{id:"crud-main-content",className:"px-2 flex-1 flex flex-col relative overflow-hidden",children:O.jsx(Aw,{})})]})}function $w({isOpen:h,setIsOpen:_}){return h?O.jsxs("div",{onClick:()=>_(!1),className:"fixed inset-0 z-[999999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:[O.jsxs("div",{onClick:m=>m.stopPropagation(),className:"w-full max-w-4xl bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn relative flex flex-col md:flex-row",children:[O.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center text-center justify-center border-b md:border-b-0 md:border-r border-white/10",children:[O.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-400 rounded-2xl mb-6 shadow-lg shadow-blue-500/20",children:O.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-14 h-14"})}),O.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Monorepo",O.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-200",children:" Time"})]}),O.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed max-w-sm",children:"The ultimate tool for managing your monorepos with speed and style. Streamline your workflow, visualize dependencies, and execute commands effortlessly."}),O.jsxs("a",{href:"https://buymeacoffee.com/angheloamir",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-[#FFDD00] text-black font-bold rounded-full overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(255,221,0,0.4)] hover:bg-[#ffe233]",children:[O.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"}),O.jsx("i",{className:"fas fa-coffee text-xl transition-transform duration-300 group-hover:rotate-12"}),O.jsx("span",{className:"relative",children:"Buy me a coffee"})]})]}),O.jsxs("div",{className:"w-full md:w-80 bg-white/5 p-8 flex flex-col justify-center border-t md:border-t-0 md:border-l border-white/10",children:[O.jsxs("p",{className:"text-sm text-gray-500 mb-6 leading-relaxed",children:[O.jsx("span",{className:"text-white font-medium",children:"Disclaimer:"})," Not affiliated with the projects below. We simply love these tools and provide templates to help you use them."]}),O.jsxs("div",{className:"mb-6",children:[O.jsx("h3",{className:"text-xs text-blue-400 uppercase tracking-widest font-bold mb-3",children:"Powered By"}),O.jsx(Lr,{name:"OpenCode",url:"https://opencode.ai"}),O.jsx(Lr,{name:"Turborepo",url:"https://turbo.build/repo"}),O.jsx(Lr,{name:"Cloudflare",url:"https://www.cloudflare.com"})]}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-xs text-green-400 uppercase tracking-widest font-bold mb-3",children:"Integrated Templates"}),O.jsx(Lr,{name:"n8n",url:"https://n8n.io"}),O.jsx(Lr,{name:"LocalStack",url:"https://localstack.cloud"}),O.jsx(Lr,{name:"DrawDB",url:"https://drawdb.vercel.app"}),O.jsx(Lr,{name:"Penpot",url:"https://penpot.app"}),O.jsx(Lr,{name:"Mattermost",url:"https://mattermost.com"})]})]})]}),O.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                @keyframes shimmer { from { transform: translateX(-100%); } to { transform: translateX(100%); } }
                .animate-fadeIn { animation: fadeIn 0.2s ease-out forwards; }
                .animate-scaleIn { animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
            `})]}):null}function Lr({name:h,url:_}){return O.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between group p-2 rounded-lg hover:bg-white/5 transition-colors",children:[O.jsx("span",{className:"text-sm text-gray-400 group-hover:text-white transition-colors",children:h}),O.jsx("i",{className:"fas fa-external-link-alt text-xs text-gray-600 group-hover:text-blue-400 transition-colors opacity-0 group-hover:opacity-100"})]})}function Dw(h){const _=ie.useRef(null),m=Xe.use.rootDir(),v=Xt.use.showModal(),[R,E]=ie.useState(!1);async function y(){v("prompt","Port to expose","Enter the port number to expose with Cloudflare's tunnel","success",c=>{c&&_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>{E(!1)}),_.current.onCrash(()=>{E(!1)}),E(!0),_.current.connect(m,`cloudflared tunnel --url http://localhost:${c}`),_.current.fit())})}function f(){_.current&&(_.current.clear(),_.current.disconnect(),_.current.connect(m,"cloudflared -v"),_.current.fit())}function a(){_.current&&(_.current.disconnect(),E(!1))}return O.jsxs("div",{className:`h-full w-full p-2 gap-2 ${h.isVisible?"flex":"hidden"}`,children:[O.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px]  flex-none h-full flex flex-col overflow-hidden",children:O.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:[O.jsxs(dc,{title:"Cloudflare",description:"Commands",contentClassName:"flex flex-col py-2 px-6",children:[O.jsx(hc,{onClick:y,name:"Generate Tunnel",description:"cloudflared tunnel",color:"blueIndigo",icon:"fas fa-cloud",disabled:R}),O.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["* This app support only one tunnel at a time",O.jsx("br",{}),"** Closing the browser, refeshing the page, or starting a new tunnel will close the previous tunnel.",O.jsx("br",{}),"*** Not affiliated with Cloudflare.  Use only for testing purposes. I am not responsible for any issues caused by using this feature. It is a bad idea to use this feature in production as Cloudflare can close the tunnel at any time without any warning.",O.jsx("br",{})]})]}),O.jsx(dc,{title:"Setup Cloudflare Tunnel",description:"",contentClassName:"flex py-2 px-6",children:O.jsxs("p",{className:"text-gray-400 text-sm",children:["Before a tunnel service is created, download and install Cloudflare's CLI tool on your machine.",O.jsx("br",{}),O.jsx("br",{}),O.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Quick Tunnel"}),O.jsx("br",{}),O.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Downloads"}),O.jsx("br",{}),O.jsx("br",{}),"Click the button below to check the version of cloudflare installed on your machine. If the version is not found, it means cloudflare is not installed on your machine.",O.jsx("br",{}),O.jsx("br",{}),O.jsx(hc,{onClick:f,name:"Check Cloudflare Version",description:"cloudflared -v",color:"skyBlue",icon:"fas fa-cloud"})]})})]})}),O.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[O.jsxs(Ld,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:a,isRunning:R,children:["Generate tunnel service with",O.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Free Tier"}),"tunnel service"]}),O.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:O.jsx(fs,{ref:_,className:"h-full w-full",socketUrl:$e.serverPath,onExit:()=>{E(!1)},onCrash:()=>{E(!1)}})})]})]})}const Ow=[{title:"Port Management",commands:[{label:"Show Open Ports",displayCmd:"ss -tlnp",cmd:"ss -tlnp",cmdWindow:"netstat -an",cmdMac:"lsof -PiTCP -sTCP:LISTEN",icon:"fa-door-open",color:"emeraldTeal",description:"List all listening TCP ports and processes"},{label:"Close Port",displayCmd:"kill process",cmd:"npx -y kill-port {{input}}",cmdWindow:"npx -y kill-port {{input}}",cmdMac:"npx -y kill-port {{input}}",icon:"fa-skull",color:"red",requiresInput:!0,inputLabel:"Port to Close",inputPlaceholder:"e.g., 8080",confirmMessage:"Are you sure you want to kill the process on this port?"},{label:"Test TCP Port",displayCmd:"nc -zv",cmd:"nc -zv {{input}}",cmdWindow:`powershell -Command "Test-NetConnection -ComputerName ({{input}} -replace ' .*$', '') -Port ({{input}} -replace '^.* ', '')"`,cmdMac:"nc -zv {{input}}",icon:"fa-network-wired",color:"blueIndigo",requiresInput:!0,confirmMessage:"Enter hostname and port (e.g., google.com 80)",inputLabel:"Host Port",inputPlaceholder:"google.com 80"},{label:"Curl w/ Timing",displayCmd:"curl -v",cmd:"curl -v --connect-timeout 5 {{input}}",cmdWindow:"curl -v --connect-timeout 5 {{input}}",cmdMac:"curl -v --connect-timeout 5 {{input}}",icon:"fa-stopwatch",color:"blueIndigo",requiresInput:!0,inputLabel:"URL",inputPlaceholder:"google.com"},{label:"Who Owns Port",displayCmd:"fuser/lsof",cmd:"fuser -n tcp {{input}} -v",cmdWindow:"netstat -ano | findstr :{{input}}",cmdMac:"lsof -i :{{input}}",icon:"fa-user-secret",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Port Number",inputPlaceholder:"8080"}]},{title:"Docker Management",commands:[{label:"Containers",displayCmd:"docker ps",cmd:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdWindow:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdMac:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',icon:"fa-box",color:"cyanBlue"},{label:"Gateway IPs",displayCmd:"docker network gateways",cmd:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,cmdWindow:'docker network inspect $(docker network ls -q) --format "{{printf \\"%-25s\\" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}"',cmdMac:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,icon:"fa-network-wired",color:"emeraldTeal"},{label:"Images",displayCmd:"docker images",cmd:"docker images",cmdWindow:"docker images",cmdMac:"docker images",icon:"fa-compact-disc",color:"indigoFuchsia"},{label:"Prune",displayCmd:"docker system prune",cmd:"docker system prune -f",cmdWindow:"docker system prune -f",cmdMac:"docker system prune -f",icon:"fa-trash-alt",color:"red",description:"Remove unused data (force)"},{label:"Delete Image",displayCmd:"docker rmi",cmd:"docker rmi {{input}}",cmdWindow:"docker rmi {{input}}",cmdMac:"docker rmi {{input}}",icon:"fa-trash-alt",color:"red",requiresInput:!0,inputLabel:"Image ID or Name",inputPlaceholder:"e.g. my-image:latest",confirmMessage:"Are you sure you want to delete this image?"},{label:"Prune Networks",displayCmd:"docker network prune",cmd:"docker network prune -f",cmdWindow:"docker network prune -f",cmdMac:"docker network prune -f",icon:"fa-trash-alt",color:"yellowOrange",confirmMessage:'Remove all unused local networks? This fixes many "network not found" errors.'}]},{title:"Docker Debugging",commands:[{label:"Ping Container",displayCmd:"docker exec ping",cmd:"docker exec {{input}} ping -c 3 8.8.8.8",cmdWindow:"docker exec {{input}} ping -c 3 8.8.8.8",cmdMac:"docker exec {{input}} ping -c 3 8.8.8.8",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Networks",displayCmd:"docker network ls",cmd:"docker network ls",cmdWindow:"docker network ls",cmdMac:"docker network ls",icon:"fa-sitemap",color:"emeraldTeal"},{label:"Log Container",displayCmd:"docker logs",cmd:"docker logs {{input}} --tail 50",cmdWindow:"docker logs {{input}} --tail 50",cmdMac:"docker logs {{input}} --tail 50",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Docker Events",displayCmd:"docker events",cmd:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -d @$t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,cmdWindow:'docker events --since 10m --filter "event!=exec_create" --filter "event!=exec_start" --filter "event!=exec_die" --filter "event!=top" --format "table {{.Time}}	{{.Type}}	{{.Action}}	{{.Actor.Attributes.name}}	{{.Actor.Attributes.exitCode}}"',cmdMac:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -r $t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,icon:"fa-history",color:"gray"},{label:"Inspect",displayCmd:"docker network inspect",cmd:"docker network inspect {{input}}",cmdWindow:"docker network inspect {{input}}",cmdMac:"docker network inspect {{input}}",icon:"fa-globe",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Health Check",displayCmd:"docker inspect health",cmd:"docker inspect --format='{{.State.Health.Status}}' {{input}}",cmdWindow:'docker inspect --format="{{.State.Health.Status}}" {{input}}',cmdMac:"docker inspect --format='{{.State.Health.Status}}' {{input}}",icon:"fa-heartbeat",color:"pinkRose",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Container IP",displayCmd:"docker inspect IP",cmd:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",cmdWindow:'docker inspect -f "{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}" {{input}}',cmdMac:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",icon:"fa-fingerprint",color:"skyBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Service Connect Test",displayCmd:"docker exec curl",cmd:"docker exec {{input}} curl -I",cmdWindow:"docker exec {{input}} curl -I",cmdMac:"docker exec {{input}} curl -I",icon:"fa-plug",color:"pinkRose",requiresInput:!0,confirmMessage:"Enter container name followed by target URL (e.g. my-app http://db:5432)",inputLabel:"Container + URL",inputPlaceholder:"my-container http://target:80"}]},{title:"Network Troubleshooting",commands:[{label:"Reset DNA",displayCmd:"restart NetworkManager",cmd:"sudo systemctl restart NetworkManager",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo killall -HUP mDNSResponder",icon:"fa-sync",color:"red",description:"Restart Network Manager"},{label:"Flush DNS",displayCmd:"resolvectl/ipconfig",cmd:"sudo resolvectl flush-caches || sudo systemd-resolve --flush-caches",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder",icon:"fa-eraser",color:"red"},{label:"Release/Renew IP",displayCmd:"dhclient -r",cmd:"sudo dhclient -r && sudo dhclient",cmdWindow:"ipconfig /release && ipconfig /renew",cmdMac:"sudo ipconfig set en0 DHCP",icon:"fa-sync-alt",color:"red",confirmMessage:"This will briefly disconnect your internet connection. Continue?"}]}];function jw(h){const _=ie.useRef(null),m=Xe.use.rootDir(),[v,R]=ie.useState(!1),E=Xt.use.showModal();ie.useEffect(()=>()=>{_.current&&_.current.disconnect()},[]);function y(s){_.current&&(_.current.clear(),_.current.disconnect(),_.current.onClose(()=>R(!1)),_.current.onCrash(()=>R(!1)),R(!0),_.current.connect(m,s),_.current.fit())}function f(s){const i=window.navigator.userAgent.toLowerCase();return i.includes("win")&&s.cmdWindow?s.cmdWindow:i.includes("mac")&&s.cmdMac?s.cmdMac:s.cmd}function a(s){s.requiresInput?E("prompt",s.label,s.confirmMessage??"","warning",i=>{if(i){const n=i.trim();if(!n&&!s.cmd.includes("docker stats")&&!s.inputPlaceholder?.includes("Optional"))return;let r=f(s).replace("{{input}}",n);y(r)}},null,s.inputPlaceholder):y(f(s))}function c(){_.current?.disconnect(),R(!1)}return O.jsx(O.Fragment,{children:O.jsxs("div",{className:`h-full w-full p-2 gap-2 ${h.isVisible?"flex":"hidden"}`,children:[O.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:O.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:Ow.map(s=>O.jsx(dc,{title:s.title,description:"",children:s.commands.length>0&&s.commands.map(i=>O.jsx(hc,{onClick:()=>a(i),name:i.label,description:i.displayCmd,color:i.color,icon:i.icon,disabled:v},i.label))},s.title))})}),O.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[O.jsx(Ld,{title:"Terminal Output",description:"Real-time command execution results",icon:"fas fa-terminal",handleStop:c,isRunning:v,children:O.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:O.jsx("span",{children:"Results will appear here automatically"})})}),O.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:O.jsx(fs,{ref:_,className:"h-full w-full",socketUrl:$e.serverPath,onExit:()=>{R(!1)},onCrash:()=>{R(!1)}})})]})]})})}const Iw=Yi()((h,_)=>({loading:!1,history:[],branch:"",branches:[],commitMessage:"",selectedCommit:null,commitLoading:!1,setLoading:m=>h({loading:m}),setCommitMessage:m=>h({commitMessage:m}),setSelectedCommit:m=>h({selectedCommit:m}),fetchData:async()=>{h({loading:!0});try{const[m,v,R]=await Promise.all([fetch(`${$e.serverPath}${Ie.gitControl}/history`),fetch(`${$e.serverPath}${Ie.gitControl}/branch`),fetch(`${$e.serverPath}${Ie.gitControl}/branches`)]),E=await m.json(),y=await v.json(),f=await R.json();h({history:E.history||[],branch:y.branch||"",branches:f.branches||[]})}catch(m){console.error("Failed to fetch git data",m)}finally{h({loading:!1})}},checkoutBranch:async m=>{h({loading:!0});try{const R=await(await fetch(`${$e.serverPath}${Ie.gitControl}/branch/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})})).json();return R.error?(h({loading:!1}),R.error):(await _().fetchData(),h({loading:!1}),null)}catch(v){return h({loading:!1}),v}},createBranch:async m=>{h({loading:!0});try{await fetch(`${$e.serverPath}${Ie.gitControl}/branch/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to create branch")}finally{h({loading:!1})}},deleteBranch:async m=>{h({loading:!0});try{await fetch(`${$e.serverPath}${Ie.gitControl}/branch/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to delete branch")}finally{h({loading:!1})}},mergeBranch:async m=>{if(confirm(`Are you sure you want to merge ${m} into current branch?`)){h({loading:!0});try{await fetch(`${$e.serverPath}${Ie.gitControl}/branch/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:m})}),await _().fetchData()}catch(v){console.error(v),alert("Failed to merge branch")}finally{h({loading:!1})}}},handleCommit:async m=>{m&&m.preventDefault();const{commitMessage:v}=_();if(v.trim()){h({commitLoading:!0});try{await fetch(`${$e.serverPath}${Ie.gitControl}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v})}),h({commitMessage:""}),h({loading:!0}),await _().fetchData()}catch(R){console.error("Failed to commit and push",R),alert("Failed to commit and push")}finally{h({commitLoading:!1}),h({loading:!1})}}},handleRevert:async()=>{const{selectedCommit:m}=_();if(m){h({loading:!0});try{await fetch(`${$e.serverPath}${Ie.gitControl}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hash:m.hash})}),h({selectedCommit:null}),await _().fetchData()}catch(v){console.error("Failed to revert",v),alert("Failed to revert")}finally{h({loading:!1})}}}})),zt=Xi(Iw);function Bw(){const h=zt.use.loading(),_=zt.use.history(),m=zt.use.commitLoading(),v=zt.use.setSelectedCommit();return O.jsx("div",{className:"overflow-y-auto p-2 space-y-2 custom-scrollbar",children:h?O.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[O.jsx("i",{className:"fas fa-circle-notch fa-spin"}),O.jsx("span",{className:"text-xs",children:"Loading history..."})]}):_.map(R=>O.jsxs("button",{disabled:m,onClick:()=>v(R),className:`
                            w-full text-left group flex flex-col gap-1 p-2
                            rounded 
                            bg-gradient-to-r hover:from-blue-500/50 hover:to-blue-300/50
                            transition-all duration-200
                        `,children:[O.jsxs("div",{className:"flex items-start justify-between gap-4",children:[O.jsx("span",{className:"text-sm text-white font-medium ",children:R.message}),O.jsx("span",{className:"text-[12px] font-mono text-white px-1.5 py-0.5 border border-white/7",children:R.hash})]}),O.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[O.jsx("i",{className:"far fa-clock"}),O.jsx("span",{children:R.date})]})]},R.hash))})}function Hw(){const h=zt.use.commitMessage(),_=zt.use.loading(),m=zt.use.commitLoading(),v=zt.use.handleCommit(),R=zt.use.setCommitMessage(),E=Xe.use.setShowGit(),y=ie.useRef(null);return ie.useEffect(()=>{y.current?.focus()},[]),O.jsx("div",{className:"",children:O.jsxs("form",{onSubmit:async f=>{await v(f),E(!1)},className:"flex gap-2",children:[O.jsx("input",{ref:y,type:"text",value:h,onChange:f=>R(f.target.value),disabled:m,placeholder:"Commit message & push",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),m?O.jsx("button",{type:"button",disabled:!0,className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:O.jsx("i",{className:"fas fa-spinner animate-spin text-xl text-blue-500"})}):O.jsx("button",{type:"submit",disabled:_||m||!h.trim(),className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:O.jsx("i",{className:"fas fa-paper-plane text-xl text-blue-500 "})})]})})}function zw(){const h=zt.use.commitLoading(),_=zt.use.branches(),m=zt.use.checkoutBranch(),v=zt.use.createBranch(),R=zt.use.deleteBranch(),E=Xt.use.showModal(),[y,f]=ie.useState(""),[a,c]=ie.useState(!1),s=async()=>{y.trim()&&(await v(y),f(""),c(!1))},i=async r=>{r!="master"?E("prompt","Delete Branch",`Delete this branch ${r} pernamently? Enter the branch name to confirm.`,"warning",l=>{l==r&&R(r)}):E("alert","Error","Master branch cannot be deleted!","error")},n=async r=>{E("confirm",`Move to ${r}`,`Move to branch ${r}?`,"warning",async l=>{if(l){const u=await m(r);u&&E("alert","Error",u,"error")}})};return O.jsxs("div",{className:"flex flex-col h-full",children:[O.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[O.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Branches"}),O.jsx("button",{onClick:()=>c(!a),className:"w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add Branch",children:O.jsx("i",{className:"fas fa-plus text-xs"})})]}),a&&O.jsxs("div",{className:"p-2 border-b border-white/10 animate-fadeIn",children:[O.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Create New Branch and then Checkout"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"text",value:y,onChange:r=>f(r.target.value),placeholder:"new branch name",className:"w-full bg-black/40 border border-white/10 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-blue-500",onKeyDown:r=>r.key==="Enter"&&s(),autoFocus:!0}),O.jsx("button",{disabled:h,onClick:s,className:"bg-blue-600 text-white px-2 rounded hover:bg-blue-500",children:O.jsx("i",{className:"fas fa-check text-xs"})})]})]}),O.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:[_.map((r,l)=>O.jsxs("div",{className:`
                            group flex items-center justify-between p-2 rounded cursor-pointer transition-colors
                            ${r.isCurrent?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}
                        `,children:[O.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",onClick:()=>!r.isCurrent&&n(r.name),title:r.isCurrent?"Current Branch":"Switch to "+r.name,children:[O.jsx("i",{className:`fas fa-code-branch text-xs ${r.isCurrent?"text-blue-400":"text-gray-500"}`}),O.jsx("span",{className:`text-sm truncate ${r.isCurrent?"text-blue-100 font-medium":"text-gray-400 group-hover:text-gray-200"}`,children:r.name})]}),!r.isCurrent&&O.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:O.jsx("button",{disabled:h,onClick:u=>{u.stopPropagation(),i(r.name)},className:"w-5 h-5 flex items-center justify-center rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400",title:"Delete branch",children:O.jsx("i",{className:"fas fa-trash text-[10px]"})})})]},l)),_.length===0&&O.jsx("div",{className:"text-gray-600 text-xs text-center py-4",children:"No branches found"})]})]})}function Fw(){const h=zt.use.selectedCommit(),_=zt.use.setSelectedCommit(),m=zt.use.handleRevert();return O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:O.jsx("div",{className:"w-full max-w-md bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn",children:O.jsxs("div",{className:"p-6",children:[O.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:O.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-xl"})}),O.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Revert Changes?"}),O.jsxs("p",{className:"text-gray-400 text-center text-sm leading-relaxed mb-6",children:["Are you sure you want to revert to commit ",O.jsx("span",{className:"font-mono text-white bg-white/10 px-1 py-0.5 rounded",children:h?.hash}),"?",O.jsx("br",{}),O.jsx("span",{className:"text-red-400 text-xs mt-2 block",children:"Warning: This will discard all current uncommitted changes."})]}),O.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6 border border-white/5",children:O.jsxs("p",{className:"text-gray-300 text-xs font-mono line-clamp-2",children:['"',h?.message,'"']})}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 rounded-lg bg-white/5 text-gray-300 text-sm font-medium hover:bg-white/10 hover:text-white transition-colors",children:"Cancel"}),O.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-500 shadow-lg shadow-red-500/20 transition-all",children:"Confirm Revert"})]})]})})})}const Pw=Yi()(h=>({showStash:!1,stashList:[],stashCount:0,setShowStash:_=>h({showStash:_}),loadGitStashList:async()=>{const m=await(await fetch(`${$e.serverPath}${Ie.gitStash}/list`)).json();m.length>0?h({stashCount:m.length}):h({stashCount:0}),h({stashList:m})},addGitStash:async _=>{const v=await(await fetch(`${$e.serverPath}${Ie.gitStash}/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:_})})).json();h({stashList:v})},revertGitStash:async _=>{const v=await(await fetch(`${$e.serverPath}${Ie.gitStash}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:_})})).json();h({stashList:v})},clearGitStash:async()=>{await fetch(`${$e.serverPath}${Ie.gitStash}/clear`),h({stashList:[]})}})),as=Xi(Pw);function Ww(){const h=Xt.use.showModal(),_=as.use.loadGitStashList(),m=as.use.addGitStash(),v=as.use.revertGitStash(),R=as.use.clearGitStash(),E=as.use.stashList(),[y,f]=ie.useState(""),[a,c]=ie.useState(!1);async function s(r){h("confirm",`Revert to "${r}"?`,"This will stash your current changes and apply the selected stash. Your current work will be saved as a backup.","warning",async l=>{l&&(c(!0),await v(r),await _(),c(!1))})}async function i(){h("confirm","Clear all stashes?","This will permanently remove all stash entries. This action cannot be undone.","warning",async r=>{r&&(c(!0),await R(),await _(),c(!1))})}async function n(){y.trim()&&(c(!0),await m(y.trim()),await _(),f(""),c(!1))}return O.jsxs("div",{className:"flex flex-col h-full",children:[O.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[O.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Git Stash"}),E.length>0&&O.jsxs("button",{onClick:i,disabled:a,className:"text-xs text-red-400/60 hover:text-red-400 transition-colors disabled:opacity-30",title:"Clear all stashes",children:[O.jsx("i",{className:"fa-solid fa-trash-can mr-1"}),"Clear"]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto",children:E.length===0?O.jsxs("div",{className:"px-3 py-5 text-center",children:[O.jsx("i",{className:"fa-regular fa-folder-open text-white text-lg mb-2 block"}),O.jsx("p",{className:"text-xs text-white",children:"No stash entries"})]}):O.jsx("div",{className:"py-1",children:E.map((r,l)=>O.jsxs("button",{onClick:()=>s(r),disabled:a,className:"w-full flex items-center gap-2 px-3 py-1.5 text-left hover:bg-white/5 transition-colors group disabled:opacity-30",children:[O.jsx("i",{className:"fa-solid fa-code-branch text-xs text-blue-400/40 group-hover:text-blue-400 transition-colors"}),O.jsx("span",{className:"flex-1 text-xs text-white transition-colors truncate",children:r}),O.jsx("i",{className:"fa-solid fa-rotate-left text-xs text-white/0 group-hover:text-white transition-colors"})]},l))})}),O.jsxs("div",{className:"mt-auto flex gap-1 p-2",children:[O.jsx("input",{type:"text",value:y,onChange:r=>f(r.target.value),disabled:a,placeholder:"Checkpoint name...",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),O.jsx("button",{onClick:()=>n(),className:"w-8 h-8 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add stash",children:O.jsx("i",{className:"fas fa-plus text-xs"})})]})]})}function Uw(){const h=zt.use.fetchData(),_=zt.use.selectedCommit(),m=Xe.use.showGit(),v=Xe.use.setShowGit(),R=zt.use.commitLoading();return ie.useEffect(()=>{m&&h()},[m]),m?O.jsxs(Ri,{width:"1000px",children:[O.jsx(Ni,{title:"Git Panel",description:"Manage your repository, branches, and commits.",close:()=>v(!1)}),O.jsxs("div",{className:"flex h-[500px]","aria-disabled":R,children:[O.jsx("div",{className:"w-[250px] flex-shrink-0",children:O.jsx(zw,{})}),O.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[O.jsx("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:O.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Your Commit History"})}),O.jsx("div",{className:"flex-1 overflow-y-auto p-0 relative",children:O.jsx(Bw,{})}),O.jsx("div",{className:"p-2",children:O.jsx(Hw,{})})]}),O.jsx("div",{className:"w-[300px] flex-shrink-0",children:O.jsx(Ww,{})})]}),_&&O.jsx(Fw,{})]}):null}const Vw=[{type:"agent",label:"Researcher",icon:"",description:"Gathers information and context."},{type:"agent",label:"Coder",icon:"",description:"Writes and modifies code."},{type:"agent",label:"Reviewer",icon:"",description:"Reviews code and suggestions."},{type:"agent",label:"Writer",icon:"",description:"Writes documentation and content."},{type:"agent",label:"Planner",icon:"",description:"Creates plans and steps."}];function Gw(){const h=(_,m)=>{_.dataTransfer.setData("application/reactflow",JSON.stringify(m)),_.dataTransfer.effectAllowed="move"};return O.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 border-r border-zinc-800 p-4",children:[O.jsx("h2",{className:"text-zinc-100 font-bold mb-4 text-sm uppercase tracking-wider",children:"Available Agents"}),O.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto",children:Vw.map(_=>O.jsx("div",{className:"p-3 bg-zinc-800 border border-zinc-700 rounded cursor-grab hover:bg-zinc-700 hover:border-zinc-600 transition-all shadow-sm group",onDragStart:m=>h(m,_),draggable:!0,children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform block",children:_.icon}),O.jsxs("div",{children:[O.jsx("div",{className:"text-zinc-200 font-medium text-sm",children:_.label}),O.jsx("div",{className:"text-zinc-500 text-xs",children:_.description})]})]})},_.label))}),O.jsx("div",{className:"mt-auto pt-4 border-t border-zinc-800 text-xs text-zinc-500",children:"Drag and drop agents onto the workflow canvas."})]})}function qi(h){if(typeof h=="string"||typeof h=="number")return""+h;let _="";if(Array.isArray(h))for(let m=0,v;m<h.length;m++)(v=qi(h[m]))!==""&&(_+=(_&&" ")+v);else for(let m in h)h[m]&&(_+=(_&&" ")+m);return _}const{useDebugValue:Kw}=_e,{useSyncExternalStoreWithSelector:Yw}=l0,Xw=h=>h;function m0(h,_=Xw,m){const v=Yw(h.subscribe,h.getState,h.getServerState||h.getInitialState,_,m);return Kw(v),v}const mv=(h,_)=>{const m=a0(h),v=(R,E=_)=>m0(m,R,E);return Object.assign(v,m),v},qw=(h,_)=>h?mv(h,_):mv;function _i(h,_){if(Object.is(h,_))return!0;if(typeof h!="object"||h===null||typeof _!="object"||_===null)return!1;if(h instanceof Map&&_ instanceof Map){if(h.size!==_.size)return!1;for(const[v,R]of h)if(!Object.is(R,_.get(v)))return!1;return!0}if(h instanceof Set&&_ instanceof Set){if(h.size!==_.size)return!1;for(const v of h)if(!_.has(v))return!1;return!0}const m=Object.keys(h);if(m.length!==Object.keys(_).length)return!1;for(const v of m)if(!Object.prototype.hasOwnProperty.call(_,v)||!Object.is(h[v],_[v]))return!1;return!0}var Zw={value:()=>{}};function Cc(){for(var h=0,_=arguments.length,m={},v;h<_;++h){if(!(v=arguments[h]+"")||v in m||/[\s.]/.test(v))throw new Error("illegal type: "+v);m[v]=[]}return new oc(m)}function oc(h){this._=h}function Qw(h,_){return h.trim().split(/^|\s+/).map(function(m){var v="",R=m.indexOf(".");if(R>=0&&(v=m.slice(R+1),m=m.slice(0,R)),m&&!_.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:v}})}oc.prototype=Cc.prototype={constructor:oc,on:function(h,_){var m=this._,v=Qw(h+"",m),R,E=-1,y=v.length;if(arguments.length<2){for(;++E<y;)if((R=(h=v[E]).type)&&(R=Jw(m[R],h.name)))return R;return}if(_!=null&&typeof _!="function")throw new Error("invalid callback: "+_);for(;++E<y;)if(R=(h=v[E]).type)m[R]=vv(m[R],h.name,_);else if(_==null)for(R in m)m[R]=vv(m[R],h.name,null);return this},copy:function(){var h={},_=this._;for(var m in _)h[m]=_[m].slice();return new oc(h)},call:function(h,_){if((R=arguments.length-2)>0)for(var m=new Array(R),v=0,R,E;v<R;++v)m[v]=arguments[v+2];if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(E=this._[h],v=0,R=E.length;v<R;++v)E[v].value.apply(_,m)},apply:function(h,_,m){if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(var v=this._[h],R=0,E=v.length;R<E;++R)v[R].value.apply(_,m)}};function Jw(h,_){for(var m=0,v=h.length,R;m<v;++m)if((R=h[m]).name===_)return R.value}function vv(h,_,m){for(var v=0,R=h.length;v<R;++v)if(h[v].name===_){h[v]=Zw,h=h.slice(0,v).concat(h.slice(v+1));break}return m!=null&&h.push({name:_,value:m}),h}var pd="http://www.w3.org/1999/xhtml";const yv={svg:"http://www.w3.org/2000/svg",xhtml:pd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ec(h){var _=h+="",m=_.indexOf(":");return m>=0&&(_=h.slice(0,m))!=="xmlns"&&(h=h.slice(m+1)),yv.hasOwnProperty(_)?{space:yv[_],local:h}:h}function eS(h){return function(){var _=this.ownerDocument,m=this.namespaceURI;return m===pd&&_.documentElement.namespaceURI===pd?_.createElement(h):_.createElementNS(m,h)}}function tS(h){return function(){return this.ownerDocument.createElementNS(h.space,h.local)}}function v0(h){var _=Ec(h);return(_.local?tS:eS)(_)}function iS(){}function Nd(h){return h==null?iS:function(){return this.querySelector(h)}}function nS(h){typeof h!="function"&&(h=Nd(h));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=new Array(y),a,c,s=0;s<y;++s)(a=E[s])&&(c=h.call(a,a.__data__,s,E))&&("__data__"in a&&(c.__data__=a.__data__),f[s]=c);return new Li(v,this._parents)}function rS(h){return h==null?[]:Array.isArray(h)?h:Array.from(h)}function sS(){return[]}function y0(h){return h==null?sS:function(){return this.querySelectorAll(h)}}function oS(h){return function(){return rS(h.apply(this,arguments))}}function aS(h){typeof h=="function"?h=oS(h):h=y0(h);for(var _=this._groups,m=_.length,v=[],R=[],E=0;E<m;++E)for(var y=_[E],f=y.length,a,c=0;c<f;++c)(a=y[c])&&(v.push(h.call(a,a.__data__,c,y)),R.push(a));return new Li(v,R)}function b0(h){return function(){return this.matches(h)}}function _0(h){return function(_){return _.matches(h)}}var lS=Array.prototype.find;function cS(h){return function(){return lS.call(this.children,h)}}function uS(){return this.firstElementChild}function hS(h){return this.select(h==null?uS:cS(typeof h=="function"?h:_0(h)))}var dS=Array.prototype.filter;function fS(){return Array.from(this.children)}function pS(h){return function(){return dS.call(this.children,h)}}function gS(h){return this.selectAll(h==null?fS:pS(typeof h=="function"?h:_0(h)))}function mS(h){typeof h!="function"&&(h=b0(h));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=[],a,c=0;c<y;++c)(a=E[c])&&h.call(a,a.__data__,c,E)&&f.push(a);return new Li(v,this._parents)}function x0(h){return new Array(h.length)}function vS(){return new Li(this._enter||this._groups.map(x0),this._parents)}function fc(h,_){this.ownerDocument=h.ownerDocument,this.namespaceURI=h.namespaceURI,this._next=null,this._parent=h,this.__data__=_}fc.prototype={constructor:fc,appendChild:function(h){return this._parent.insertBefore(h,this._next)},insertBefore:function(h,_){return this._parent.insertBefore(h,_)},querySelector:function(h){return this._parent.querySelector(h)},querySelectorAll:function(h){return this._parent.querySelectorAll(h)}};function yS(h){return function(){return h}}function bS(h,_,m,v,R,E){for(var y=0,f,a=_.length,c=E.length;y<c;++y)(f=_[y])?(f.__data__=E[y],v[y]=f):m[y]=new fc(h,E[y]);for(;y<a;++y)(f=_[y])&&(R[y]=f)}function _S(h,_,m,v,R,E,y){var f,a,c=new Map,s=_.length,i=E.length,n=new Array(s),r;for(f=0;f<s;++f)(a=_[f])&&(n[f]=r=y.call(a,a.__data__,f,_)+"",c.has(r)?R[f]=a:c.set(r,a));for(f=0;f<i;++f)r=y.call(h,E[f],f,E)+"",(a=c.get(r))?(v[f]=a,a.__data__=E[f],c.delete(r)):m[f]=new fc(h,E[f]);for(f=0;f<s;++f)(a=_[f])&&c.get(n[f])===a&&(R[f]=a)}function xS(h){return h.__data__}function wS(h,_){if(!arguments.length)return Array.from(this,xS);var m=_?_S:bS,v=this._parents,R=this._groups;typeof h!="function"&&(h=yS(h));for(var E=R.length,y=new Array(E),f=new Array(E),a=new Array(E),c=0;c<E;++c){var s=v[c],i=R[c],n=i.length,r=SS(h.call(s,s&&s.__data__,c,v)),l=r.length,u=f[c]=new Array(l),o=y[c]=new Array(l),d=a[c]=new Array(n);m(s,i,u,o,d,r,_);for(var g=0,x=0,S,w;g<l;++g)if(S=u[g]){for(g>=x&&(x=g+1);!(w=o[x])&&++x<l;);S._next=w||null}}return y=new Li(y,v),y._enter=f,y._exit=a,y}function SS(h){return typeof h=="object"&&"length"in h?h:Array.from(h)}function CS(){return new Li(this._exit||this._groups.map(x0),this._parents)}function ES(h,_,m){var v=this.enter(),R=this,E=this.exit();return typeof h=="function"?(v=h(v),v&&(v=v.selection())):v=v.append(h+""),_!=null&&(R=_(R),R&&(R=R.selection())),m==null?E.remove():m(E),v&&R?v.merge(R).order():R}function AS(h){for(var _=h.selection?h.selection():h,m=this._groups,v=_._groups,R=m.length,E=v.length,y=Math.min(R,E),f=new Array(R),a=0;a<y;++a)for(var c=m[a],s=v[a],i=c.length,n=f[a]=new Array(i),r,l=0;l<i;++l)(r=c[l]||s[l])&&(n[l]=r);for(;a<R;++a)f[a]=m[a];return new Li(f,this._parents)}function kS(){for(var h=this._groups,_=-1,m=h.length;++_<m;)for(var v=h[_],R=v.length-1,E=v[R],y;--R>=0;)(y=v[R])&&(E&&y.compareDocumentPosition(E)^4&&E.parentNode.insertBefore(y,E),E=y);return this}function TS(h){h||(h=MS);function _(i,n){return i&&n?h(i.__data__,n.__data__):!i-!n}for(var m=this._groups,v=m.length,R=new Array(v),E=0;E<v;++E){for(var y=m[E],f=y.length,a=R[E]=new Array(f),c,s=0;s<f;++s)(c=y[s])&&(a[s]=c);a.sort(_)}return new Li(R,this._parents).order()}function MS(h,_){return h<_?-1:h>_?1:h>=_?0:NaN}function LS(){var h=arguments[0];return arguments[0]=this,h.apply(null,arguments),this}function RS(){return Array.from(this)}function NS(){for(var h=this._groups,_=0,m=h.length;_<m;++_)for(var v=h[_],R=0,E=v.length;R<E;++R){var y=v[R];if(y)return y}return null}function $S(){let h=0;for(const _ of this)++h;return h}function DS(){return!this.node()}function OS(h){for(var _=this._groups,m=0,v=_.length;m<v;++m)for(var R=_[m],E=0,y=R.length,f;E<y;++E)(f=R[E])&&h.call(f,f.__data__,E,R);return this}function jS(h){return function(){this.removeAttribute(h)}}function IS(h){return function(){this.removeAttributeNS(h.space,h.local)}}function BS(h,_){return function(){this.setAttribute(h,_)}}function HS(h,_){return function(){this.setAttributeNS(h.space,h.local,_)}}function zS(h,_){return function(){var m=_.apply(this,arguments);m==null?this.removeAttribute(h):this.setAttribute(h,m)}}function FS(h,_){return function(){var m=_.apply(this,arguments);m==null?this.removeAttributeNS(h.space,h.local):this.setAttributeNS(h.space,h.local,m)}}function PS(h,_){var m=Ec(h);if(arguments.length<2){var v=this.node();return m.local?v.getAttributeNS(m.space,m.local):v.getAttribute(m)}return this.each((_==null?m.local?IS:jS:typeof _=="function"?m.local?FS:zS:m.local?HS:BS)(m,_))}function w0(h){return h.ownerDocument&&h.ownerDocument.defaultView||h.document&&h||h.defaultView}function WS(h){return function(){this.style.removeProperty(h)}}function US(h,_,m){return function(){this.style.setProperty(h,_,m)}}function VS(h,_,m){return function(){var v=_.apply(this,arguments);v==null?this.style.removeProperty(h):this.style.setProperty(h,v,m)}}function GS(h,_,m){return arguments.length>1?this.each((_==null?WS:typeof _=="function"?VS:US)(h,_,m??"")):wo(this.node(),h)}function wo(h,_){return h.style.getPropertyValue(_)||w0(h).getComputedStyle(h,null).getPropertyValue(_)}function KS(h){return function(){delete this[h]}}function YS(h,_){return function(){this[h]=_}}function XS(h,_){return function(){var m=_.apply(this,arguments);m==null?delete this[h]:this[h]=m}}function qS(h,_){return arguments.length>1?this.each((_==null?KS:typeof _=="function"?XS:YS)(h,_)):this.node()[h]}function S0(h){return h.trim().split(/^|\s+/)}function $d(h){return h.classList||new C0(h)}function C0(h){this._node=h,this._names=S0(h.getAttribute("class")||"")}C0.prototype={add:function(h){var _=this._names.indexOf(h);_<0&&(this._names.push(h),this._node.setAttribute("class",this._names.join(" ")))},remove:function(h){var _=this._names.indexOf(h);_>=0&&(this._names.splice(_,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(h){return this._names.indexOf(h)>=0}};function E0(h,_){for(var m=$d(h),v=-1,R=_.length;++v<R;)m.add(_[v])}function A0(h,_){for(var m=$d(h),v=-1,R=_.length;++v<R;)m.remove(_[v])}function ZS(h){return function(){E0(this,h)}}function QS(h){return function(){A0(this,h)}}function JS(h,_){return function(){(_.apply(this,arguments)?E0:A0)(this,h)}}function eC(h,_){var m=S0(h+"");if(arguments.length<2){for(var v=$d(this.node()),R=-1,E=m.length;++R<E;)if(!v.contains(m[R]))return!1;return!0}return this.each((typeof _=="function"?JS:_?ZS:QS)(m,_))}function tC(){this.textContent=""}function iC(h){return function(){this.textContent=h}}function nC(h){return function(){var _=h.apply(this,arguments);this.textContent=_??""}}function rC(h){return arguments.length?this.each(h==null?tC:(typeof h=="function"?nC:iC)(h)):this.node().textContent}function sC(){this.innerHTML=""}function oC(h){return function(){this.innerHTML=h}}function aC(h){return function(){var _=h.apply(this,arguments);this.innerHTML=_??""}}function lC(h){return arguments.length?this.each(h==null?sC:(typeof h=="function"?aC:oC)(h)):this.node().innerHTML}function cC(){this.nextSibling&&this.parentNode.appendChild(this)}function uC(){return this.each(cC)}function hC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dC(){return this.each(hC)}function fC(h){var _=typeof h=="function"?h:v0(h);return this.select(function(){return this.appendChild(_.apply(this,arguments))})}function pC(){return null}function gC(h,_){var m=typeof h=="function"?h:v0(h),v=_==null?pC:typeof _=="function"?_:Nd(_);return this.select(function(){return this.insertBefore(m.apply(this,arguments),v.apply(this,arguments)||null)})}function mC(){var h=this.parentNode;h&&h.removeChild(this)}function vC(){return this.each(mC)}function yC(){var h=this.cloneNode(!1),_=this.parentNode;return _?_.insertBefore(h,this.nextSibling):h}function bC(){var h=this.cloneNode(!0),_=this.parentNode;return _?_.insertBefore(h,this.nextSibling):h}function _C(h){return this.select(h?bC:yC)}function xC(h){return arguments.length?this.property("__data__",h):this.node().__data__}function wC(h){return function(_){h.call(this,_,this.__data__)}}function SC(h){return h.trim().split(/^|\s+/).map(function(_){var m="",v=_.indexOf(".");return v>=0&&(m=_.slice(v+1),_=_.slice(0,v)),{type:_,name:m}})}function CC(h){return function(){var _=this.__on;if(_){for(var m=0,v=-1,R=_.length,E;m<R;++m)E=_[m],(!h.type||E.type===h.type)&&E.name===h.name?this.removeEventListener(E.type,E.listener,E.options):_[++v]=E;++v?_.length=v:delete this.__on}}}function EC(h,_,m){return function(){var v=this.__on,R,E=wC(_);if(v){for(var y=0,f=v.length;y<f;++y)if((R=v[y]).type===h.type&&R.name===h.name){this.removeEventListener(R.type,R.listener,R.options),this.addEventListener(R.type,R.listener=E,R.options=m),R.value=_;return}}this.addEventListener(h.type,E,m),R={type:h.type,name:h.name,value:_,listener:E,options:m},v?v.push(R):this.__on=[R]}}function AC(h,_,m){var v=SC(h+""),R,E=v.length,y;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,c=f.length,s;a<c;++a)for(R=0,s=f[a];R<E;++R)if((y=v[R]).type===s.type&&y.name===s.name)return s.value}return}for(f=_?EC:CC,R=0;R<E;++R)this.each(f(v[R],_,m));return this}function k0(h,_,m){var v=w0(h),R=v.CustomEvent;typeof R=="function"?R=new R(_,m):(R=v.document.createEvent("Event"),m?(R.initEvent(_,m.bubbles,m.cancelable),R.detail=m.detail):R.initEvent(_,!1,!1)),h.dispatchEvent(R)}function kC(h,_){return function(){return k0(this,h,_)}}function TC(h,_){return function(){return k0(this,h,_.apply(this,arguments))}}function MC(h,_){return this.each((typeof _=="function"?TC:kC)(h,_))}function*LC(){for(var h=this._groups,_=0,m=h.length;_<m;++_)for(var v=h[_],R=0,E=v.length,y;R<E;++R)(y=v[R])&&(yield y)}var T0=[null];function Li(h,_){this._groups=h,this._parents=_}function Ba(){return new Li([[document.documentElement]],T0)}function RC(){return this}Li.prototype=Ba.prototype={constructor:Li,select:nS,selectAll:aS,selectChild:hS,selectChildren:gS,filter:mS,data:wS,enter:vS,exit:CS,join:ES,merge:AS,selection:RC,order:kS,sort:TS,call:LS,nodes:RS,node:NS,size:$S,empty:DS,each:OS,attr:PS,style:GS,property:qS,classed:eC,text:rC,html:lC,raise:uC,lower:dC,append:fC,insert:gC,remove:vC,clone:_C,datum:xC,on:AC,dispatch:MC,[Symbol.iterator]:LC};function pn(h){return typeof h=="string"?new Li([[document.querySelector(h)]],[document.documentElement]):new Li([[h]],T0)}function NC(h){let _;for(;_=h.sourceEvent;)h=_;return h}function Cn(h,_){if(h=NC(h),_===void 0&&(_=h.currentTarget),_){var m=_.ownerSVGElement||_;if(m.createSVGPoint){var v=m.createSVGPoint();return v.x=h.clientX,v.y=h.clientY,v=v.matrixTransform(_.getScreenCTM().inverse()),[v.x,v.y]}if(_.getBoundingClientRect){var R=_.getBoundingClientRect();return[h.clientX-R.left-_.clientLeft,h.clientY-R.top-_.clientTop]}}return[h.pageX,h.pageY]}const $C={passive:!1},Ra={capture:!0,passive:!1};function rd(h){h.stopImmediatePropagation()}function yo(h){h.preventDefault(),h.stopImmediatePropagation()}function M0(h){var _=h.document.documentElement,m=pn(h).on("dragstart.drag",yo,Ra);"onselectstart"in _?m.on("selectstart.drag",yo,Ra):(_.__noselect=_.style.MozUserSelect,_.style.MozUserSelect="none")}function L0(h,_){var m=h.document.documentElement,v=pn(h).on("dragstart.drag",null);_&&(v.on("click.drag",yo,Ra),setTimeout(function(){v.on("click.drag",null)},0)),"onselectstart"in m?v.on("selectstart.drag",null):(m.style.MozUserSelect=m.__noselect,delete m.__noselect)}const Zl=h=>()=>h;function gd(h,{sourceEvent:_,subject:m,target:v,identifier:R,active:E,x:y,y:f,dx:a,dy:c,dispatch:s}){Object.defineProperties(this,{type:{value:h,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},subject:{value:m,enumerable:!0,configurable:!0},target:{value:v,enumerable:!0,configurable:!0},identifier:{value:R,enumerable:!0,configurable:!0},active:{value:E,enumerable:!0,configurable:!0},x:{value:y,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:s}})}gd.prototype.on=function(){var h=this._.on.apply(this._,arguments);return h===this._?this:h};function DC(h){return!h.ctrlKey&&!h.button}function OC(){return this.parentNode}function jC(h,_){return _??{x:h.x,y:h.y}}function IC(){return navigator.maxTouchPoints||"ontouchstart"in this}function BC(){var h=DC,_=OC,m=jC,v=IC,R={},E=Cc("start","drag","end"),y=0,f,a,c,s,i=0;function n(S){S.on("mousedown.drag",r).filter(v).on("touchstart.drag",o).on("touchmove.drag",d,$C).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(S,w){if(!(s||!h.call(this,S,w))){var b=x(this,_.call(this,S,w),S,w,"mouse");b&&(pn(S.view).on("mousemove.drag",l,Ra).on("mouseup.drag",u,Ra),M0(S.view),rd(S),c=!1,f=S.clientX,a=S.clientY,b("start",S))}}function l(S){if(yo(S),!c){var w=S.clientX-f,b=S.clientY-a;c=w*w+b*b>i}R.mouse("drag",S)}function u(S){pn(S.view).on("mousemove.drag mouseup.drag",null),L0(S.view,c),yo(S),R.mouse("end",S)}function o(S,w){if(h.call(this,S,w)){var b=S.changedTouches,k=_.call(this,S,w),A=b.length,T,j;for(T=0;T<A;++T)(j=x(this,k,S,w,b[T].identifier,b[T]))&&(rd(S),j("start",S,b[T]))}}function d(S){var w=S.changedTouches,b=w.length,k,A;for(k=0;k<b;++k)(A=R[w[k].identifier])&&(yo(S),A("drag",S,w[k]))}function g(S){var w=S.changedTouches,b=w.length,k,A;for(s&&clearTimeout(s),s=setTimeout(function(){s=null},500),k=0;k<b;++k)(A=R[w[k].identifier])&&(rd(S),A("end",S,w[k]))}function x(S,w,b,k,A,T){var j=E.copy(),F=Cn(T||b,w),N,$,M;if((M=m.call(S,new gd("beforestart",{sourceEvent:b,target:n,identifier:A,active:y,x:F[0],y:F[1],dx:0,dy:0,dispatch:j}),k))!=null)return N=M.x-F[0]||0,$=M.y-F[1]||0,function L(D,z,B){var P=F,U;switch(D){case"start":R[A]=L,U=y++;break;case"end":delete R[A],--y;case"drag":F=Cn(B||z,w),U=y;break}j.call(D,S,new gd(D,{sourceEvent:z,subject:M,target:n,identifier:A,active:U,x:F[0]+N,y:F[1]+$,dx:F[0]-P[0],dy:F[1]-P[1],dispatch:j}),k)}}return n.filter=function(S){return arguments.length?(h=typeof S=="function"?S:Zl(!!S),n):h},n.container=function(S){return arguments.length?(_=typeof S=="function"?S:Zl(S),n):_},n.subject=function(S){return arguments.length?(m=typeof S=="function"?S:Zl(S),n):m},n.touchable=function(S){return arguments.length?(v=typeof S=="function"?S:Zl(!!S),n):v},n.on=function(){var S=E.on.apply(E,arguments);return S===E?n:S},n.clickDistance=function(S){return arguments.length?(i=(S=+S)*S,n):Math.sqrt(i)},n}function Dd(h,_,m){h.prototype=_.prototype=m,m.constructor=h}function R0(h,_){var m=Object.create(h.prototype);for(var v in _)m[v]=_[v];return m}function Ha(){}var Na=.7,pc=1/Na,bo="\\s*([+-]?\\d+)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HC=/^#([0-9a-f]{3,8})$/,zC=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),FC=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),PC=new RegExp(`^rgba\\(${bo},${bo},${bo},${$a}\\)$`),WC=new RegExp(`^rgba\\(${An},${An},${An},${$a}\\)$`),UC=new RegExp(`^hsl\\(${$a},${An},${An}\\)$`),VC=new RegExp(`^hsla\\(${$a},${An},${An},${$a}\\)$`),bv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dd(Ha,Da,{copy(h){return Object.assign(new this.constructor,this,h)},displayable(){return this.rgb().displayable()},hex:_v,formatHex:_v,formatHex8:GC,formatHsl:KC,formatRgb:xv,toString:xv});function _v(){return this.rgb().formatHex()}function GC(){return this.rgb().formatHex8()}function KC(){return N0(this).formatHsl()}function xv(){return this.rgb().formatRgb()}function Da(h){var _,m;return h=(h+"").trim().toLowerCase(),(_=HC.exec(h))?(m=_[1].length,_=parseInt(_[1],16),m===6?wv(_):m===3?new bi(_>>8&15|_>>4&240,_>>4&15|_&240,(_&15)<<4|_&15,1):m===8?Ql(_>>24&255,_>>16&255,_>>8&255,(_&255)/255):m===4?Ql(_>>12&15|_>>8&240,_>>8&15|_>>4&240,_>>4&15|_&240,((_&15)<<4|_&15)/255):null):(_=zC.exec(h))?new bi(_[1],_[2],_[3],1):(_=FC.exec(h))?new bi(_[1]*255/100,_[2]*255/100,_[3]*255/100,1):(_=PC.exec(h))?Ql(_[1],_[2],_[3],_[4]):(_=WC.exec(h))?Ql(_[1]*255/100,_[2]*255/100,_[3]*255/100,_[4]):(_=UC.exec(h))?Ev(_[1],_[2]/100,_[3]/100,1):(_=VC.exec(h))?Ev(_[1],_[2]/100,_[3]/100,_[4]):bv.hasOwnProperty(h)?wv(bv[h]):h==="transparent"?new bi(NaN,NaN,NaN,0):null}function wv(h){return new bi(h>>16&255,h>>8&255,h&255,1)}function Ql(h,_,m,v){return v<=0&&(h=_=m=NaN),new bi(h,_,m,v)}function YC(h){return h instanceof Ha||(h=Da(h)),h?(h=h.rgb(),new bi(h.r,h.g,h.b,h.opacity)):new bi}function md(h,_,m,v){return arguments.length===1?YC(h):new bi(h,_,m,v??1)}function bi(h,_,m,v){this.r=+h,this.g=+_,this.b=+m,this.opacity=+v}Dd(bi,md,R0(Ha,{brighter(h){return h=h==null?pc:Math.pow(pc,h),new bi(this.r*h,this.g*h,this.b*h,this.opacity)},darker(h){return h=h==null?Na:Math.pow(Na,h),new bi(this.r*h,this.g*h,this.b*h,this.opacity)},rgb(){return this},clamp(){return new bi(us(this.r),us(this.g),us(this.b),gc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sv,formatHex:Sv,formatHex8:XC,formatRgb:Cv,toString:Cv}));function Sv(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}`}function XC(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}${ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cv(){const h=gc(this.opacity);return`${h===1?"rgb(":"rgba("}${us(this.r)}, ${us(this.g)}, ${us(this.b)}${h===1?")":`, ${h})`}`}function gc(h){return isNaN(h)?1:Math.max(0,Math.min(1,h))}function us(h){return Math.max(0,Math.min(255,Math.round(h)||0))}function ls(h){return h=us(h),(h<16?"0":"")+h.toString(16)}function Ev(h,_,m,v){return v<=0?h=_=m=NaN:m<=0||m>=1?h=_=NaN:_<=0&&(h=NaN),new gn(h,_,m,v)}function N0(h){if(h instanceof gn)return new gn(h.h,h.s,h.l,h.opacity);if(h instanceof Ha||(h=Da(h)),!h)return new gn;if(h instanceof gn)return h;h=h.rgb();var _=h.r/255,m=h.g/255,v=h.b/255,R=Math.min(_,m,v),E=Math.max(_,m,v),y=NaN,f=E-R,a=(E+R)/2;return f?(_===E?y=(m-v)/f+(m<v)*6:m===E?y=(v-_)/f+2:y=(_-m)/f+4,f/=a<.5?E+R:2-E-R,y*=60):f=a>0&&a<1?0:y,new gn(y,f,a,h.opacity)}function qC(h,_,m,v){return arguments.length===1?N0(h):new gn(h,_,m,v??1)}function gn(h,_,m,v){this.h=+h,this.s=+_,this.l=+m,this.opacity=+v}Dd(gn,qC,R0(Ha,{brighter(h){return h=h==null?pc:Math.pow(pc,h),new gn(this.h,this.s,this.l*h,this.opacity)},darker(h){return h=h==null?Na:Math.pow(Na,h),new gn(this.h,this.s,this.l*h,this.opacity)},rgb(){var h=this.h%360+(this.h<0)*360,_=isNaN(h)||isNaN(this.s)?0:this.s,m=this.l,v=m+(m<.5?m:1-m)*_,R=2*m-v;return new bi(sd(h>=240?h-240:h+120,R,v),sd(h,R,v),sd(h<120?h+240:h-120,R,v),this.opacity)},clamp(){return new gn(Av(this.h),Jl(this.s),Jl(this.l),gc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const h=gc(this.opacity);return`${h===1?"hsl(":"hsla("}${Av(this.h)}, ${Jl(this.s)*100}%, ${Jl(this.l)*100}%${h===1?")":`, ${h})`}`}}));function Av(h){return h=(h||0)%360,h<0?h+360:h}function Jl(h){return Math.max(0,Math.min(1,h||0))}function sd(h,_,m){return(h<60?_+(m-_)*h/60:h<180?m:h<240?_+(m-_)*(240-h)/60:_)*255}const $0=h=>()=>h;function ZC(h,_){return function(m){return h+m*_}}function QC(h,_,m){return h=Math.pow(h,m),_=Math.pow(_,m)-h,m=1/m,function(v){return Math.pow(h+v*_,m)}}function JC(h){return(h=+h)==1?D0:function(_,m){return m-_?QC(_,m,h):$0(isNaN(_)?m:_)}}function D0(h,_){var m=_-h;return m?ZC(h,m):$0(isNaN(h)?_:h)}const kv=(function h(_){var m=JC(_);function v(R,E){var y=m((R=md(R)).r,(E=md(E)).r),f=m(R.g,E.g),a=m(R.b,E.b),c=D0(R.opacity,E.opacity);return function(s){return R.r=y(s),R.g=f(s),R.b=a(s),R.opacity=c(s),R+""}}return v.gamma=h,v})(1);function Nr(h,_){return h=+h,_=+_,function(m){return h*(1-m)+_*m}}var vd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,od=new RegExp(vd.source,"g");function e1(h){return function(){return h}}function t1(h){return function(_){return h(_)+""}}function i1(h,_){var m=vd.lastIndex=od.lastIndex=0,v,R,E,y=-1,f=[],a=[];for(h=h+"",_=_+"";(v=vd.exec(h))&&(R=od.exec(_));)(E=R.index)>m&&(E=_.slice(m,E),f[y]?f[y]+=E:f[++y]=E),(v=v[0])===(R=R[0])?f[y]?f[y]+=R:f[++y]=R:(f[++y]=null,a.push({i:y,x:Nr(v,R)})),m=od.lastIndex;return m<_.length&&(E=_.slice(m),f[y]?f[y]+=E:f[++y]=E),f.length<2?a[0]?t1(a[0].x):e1(_):(_=a.length,function(c){for(var s=0,i;s<_;++s)f[(i=a[s]).i]=i.x(c);return f.join("")})}var Tv=180/Math.PI,yd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O0(h,_,m,v,R,E){var y,f,a;return(y=Math.sqrt(h*h+_*_))&&(h/=y,_/=y),(a=h*m+_*v)&&(m-=h*a,v-=_*a),(f=Math.sqrt(m*m+v*v))&&(m/=f,v/=f,a/=f),h*v<_*m&&(h=-h,_=-_,a=-a,y=-y),{translateX:R,translateY:E,rotate:Math.atan2(_,h)*Tv,skewX:Math.atan(a)*Tv,scaleX:y,scaleY:f}}var ec;function n1(h){const _=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(h+"");return _.isIdentity?yd:O0(_.a,_.b,_.c,_.d,_.e,_.f)}function r1(h){return h==null||(ec||(ec=document.createElementNS("http://www.w3.org/2000/svg","g")),ec.setAttribute("transform",h),!(h=ec.transform.baseVal.consolidate()))?yd:(h=h.matrix,O0(h.a,h.b,h.c,h.d,h.e,h.f))}function j0(h,_,m,v){function R(c){return c.length?c.pop()+" ":""}function E(c,s,i,n,r,l){if(c!==i||s!==n){var u=r.push("translate(",null,_,null,m);l.push({i:u-4,x:Nr(c,i)},{i:u-2,x:Nr(s,n)})}else(i||n)&&r.push("translate("+i+_+n+m)}function y(c,s,i,n){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),n.push({i:i.push(R(i)+"rotate(",null,v)-2,x:Nr(c,s)})):s&&i.push(R(i)+"rotate("+s+v)}function f(c,s,i,n){c!==s?n.push({i:i.push(R(i)+"skewX(",null,v)-2,x:Nr(c,s)}):s&&i.push(R(i)+"skewX("+s+v)}function a(c,s,i,n,r,l){if(c!==i||s!==n){var u=r.push(R(r)+"scale(",null,",",null,")");l.push({i:u-4,x:Nr(c,i)},{i:u-2,x:Nr(s,n)})}else(i!==1||n!==1)&&r.push(R(r)+"scale("+i+","+n+")")}return function(c,s){var i=[],n=[];return c=h(c),s=h(s),E(c.translateX,c.translateY,s.translateX,s.translateY,i,n),y(c.rotate,s.rotate,i,n),f(c.skewX,s.skewX,i,n),a(c.scaleX,c.scaleY,s.scaleX,s.scaleY,i,n),c=s=null,function(r){for(var l=-1,u=n.length,o;++l<u;)i[(o=n[l]).i]=o.x(r);return i.join("")}}}var s1=j0(n1,"px, ","px)","deg)"),o1=j0(r1,", ",")",")"),a1=1e-12;function Mv(h){return((h=Math.exp(h))+1/h)/2}function l1(h){return((h=Math.exp(h))-1/h)/2}function c1(h){return((h=Math.exp(2*h))-1)/(h+1)}const u1=(function h(_,m,v){function R(E,y){var f=E[0],a=E[1],c=E[2],s=y[0],i=y[1],n=y[2],r=s-f,l=i-a,u=r*r+l*l,o,d;if(u<a1)d=Math.log(n/c)/_,o=function(k){return[f+k*r,a+k*l,c*Math.exp(_*k*d)]};else{var g=Math.sqrt(u),x=(n*n-c*c+v*u)/(2*c*m*g),S=(n*n-c*c-v*u)/(2*n*m*g),w=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(S*S+1)-S);d=(b-w)/_,o=function(k){var A=k*d,T=Mv(w),j=c/(m*g)*(T*c1(_*A+w)-l1(w));return[f+j*r,a+j*l,c*T/Mv(_*A+w)]}}return o.duration=d*1e3*_/Math.SQRT2,o}return R.rho=function(E){var y=Math.max(.001,+E),f=y*y,a=f*f;return h(y,f,a)},R})(Math.SQRT2,2,4);var So=0,Ta=0,wa=0,I0=1e3,mc,Ma,vc=0,hs=0,Ac=0,Oa=typeof performance=="object"&&performance.now?performance:Date,B0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(h){setTimeout(h,17)};function Od(){return hs||(B0(h1),hs=Oa.now()+Ac)}function h1(){hs=0}function yc(){this._call=this._time=this._next=null}yc.prototype=H0.prototype={constructor:yc,restart:function(h,_,m){if(typeof h!="function")throw new TypeError("callback is not a function");m=(m==null?Od():+m)+(_==null?0:+_),!this._next&&Ma!==this&&(Ma?Ma._next=this:mc=this,Ma=this),this._call=h,this._time=m,bd()},stop:function(){this._call&&(this._call=null,this._time=1/0,bd())}};function H0(h,_,m){var v=new yc;return v.restart(h,_,m),v}function d1(){Od(),++So;for(var h=mc,_;h;)(_=hs-h._time)>=0&&h._call.call(void 0,_),h=h._next;--So}function Lv(){hs=(vc=Oa.now())+Ac,So=Ta=0;try{d1()}finally{So=0,p1(),hs=0}}function f1(){var h=Oa.now(),_=h-vc;_>I0&&(Ac-=_,vc=h)}function p1(){for(var h,_=mc,m,v=1/0;_;)_._call?(v>_._time&&(v=_._time),h=_,_=_._next):(m=_._next,_._next=null,_=h?h._next=m:mc=m);Ma=h,bd(v)}function bd(h){if(!So){Ta&&(Ta=clearTimeout(Ta));var _=h-hs;_>24?(h<1/0&&(Ta=setTimeout(Lv,h-Oa.now()-Ac)),wa&&(wa=clearInterval(wa))):(wa||(vc=Oa.now(),wa=setInterval(f1,I0)),So=1,B0(Lv))}}function Rv(h,_,m){var v=new yc;return _=_==null?0:+_,v.restart(R=>{v.stop(),h(R+_)},_,m),v}var g1=Cc("start","end","cancel","interrupt"),m1=[],z0=0,Nv=1,_d=2,ac=3,$v=4,xd=5,lc=6;function kc(h,_,m,v,R,E){var y=h.__transition;if(!y)h.__transition={};else if(m in y)return;v1(h,m,{name:_,index:v,group:R,on:g1,tween:m1,time:E.time,delay:E.delay,duration:E.duration,ease:E.ease,timer:null,state:z0})}function jd(h,_){var m=mn(h,_);if(m.state>z0)throw new Error("too late; already scheduled");return m}function kn(h,_){var m=mn(h,_);if(m.state>ac)throw new Error("too late; already running");return m}function mn(h,_){var m=h.__transition;if(!m||!(m=m[_]))throw new Error("transition not found");return m}function v1(h,_,m){var v=h.__transition,R;v[_]=m,m.timer=H0(E,0,m.time);function E(c){m.state=Nv,m.timer.restart(y,m.delay,m.time),m.delay<=c&&y(c-m.delay)}function y(c){var s,i,n,r;if(m.state!==Nv)return a();for(s in v)if(r=v[s],r.name===m.name){if(r.state===ac)return Rv(y);r.state===$v?(r.state=lc,r.timer.stop(),r.on.call("interrupt",h,h.__data__,r.index,r.group),delete v[s]):+s<_&&(r.state=lc,r.timer.stop(),r.on.call("cancel",h,h.__data__,r.index,r.group),delete v[s])}if(Rv(function(){m.state===ac&&(m.state=$v,m.timer.restart(f,m.delay,m.time),f(c))}),m.state=_d,m.on.call("start",h,h.__data__,m.index,m.group),m.state===_d){for(m.state=ac,R=new Array(n=m.tween.length),s=0,i=-1;s<n;++s)(r=m.tween[s].value.call(h,h.__data__,m.index,m.group))&&(R[++i]=r);R.length=i+1}}function f(c){for(var s=c<m.duration?m.ease.call(null,c/m.duration):(m.timer.restart(a),m.state=xd,1),i=-1,n=R.length;++i<n;)R[i].call(h,s);m.state===xd&&(m.on.call("end",h,h.__data__,m.index,m.group),a())}function a(){m.state=lc,m.timer.stop(),delete v[_];for(var c in v)return;delete h.__transition}}function cc(h,_){var m=h.__transition,v,R,E=!0,y;if(m){_=_==null?null:_+"";for(y in m){if((v=m[y]).name!==_){E=!1;continue}R=v.state>_d&&v.state<xd,v.state=lc,v.timer.stop(),v.on.call(R?"interrupt":"cancel",h,h.__data__,v.index,v.group),delete m[y]}E&&delete h.__transition}}function y1(h){return this.each(function(){cc(this,h)})}function b1(h,_){var m,v;return function(){var R=kn(this,h),E=R.tween;if(E!==m){v=m=E;for(var y=0,f=v.length;y<f;++y)if(v[y].name===_){v=v.slice(),v.splice(y,1);break}}R.tween=v}}function _1(h,_,m){var v,R;if(typeof m!="function")throw new Error;return function(){var E=kn(this,h),y=E.tween;if(y!==v){R=(v=y).slice();for(var f={name:_,value:m},a=0,c=R.length;a<c;++a)if(R[a].name===_){R[a]=f;break}a===c&&R.push(f)}E.tween=R}}function x1(h,_){var m=this._id;if(h+="",arguments.length<2){for(var v=mn(this.node(),m).tween,R=0,E=v.length,y;R<E;++R)if((y=v[R]).name===h)return y.value;return null}return this.each((_==null?b1:_1)(m,h,_))}function Id(h,_,m){var v=h._id;return h.each(function(){var R=kn(this,v);(R.value||(R.value={}))[_]=m.apply(this,arguments)}),function(R){return mn(R,v).value[_]}}function F0(h,_){var m;return(typeof _=="number"?Nr:_ instanceof Da?kv:(m=Da(_))?(_=m,kv):i1)(h,_)}function w1(h){return function(){this.removeAttribute(h)}}function S1(h){return function(){this.removeAttributeNS(h.space,h.local)}}function C1(h,_,m){var v,R=m+"",E;return function(){var y=this.getAttribute(h);return y===R?null:y===v?E:E=_(v=y,m)}}function E1(h,_,m){var v,R=m+"",E;return function(){var y=this.getAttributeNS(h.space,h.local);return y===R?null:y===v?E:E=_(v=y,m)}}function A1(h,_,m){var v,R,E;return function(){var y,f=m(this),a;return f==null?void this.removeAttribute(h):(y=this.getAttribute(h),a=f+"",y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f)))}}function k1(h,_,m){var v,R,E;return function(){var y,f=m(this),a;return f==null?void this.removeAttributeNS(h.space,h.local):(y=this.getAttributeNS(h.space,h.local),a=f+"",y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f)))}}function T1(h,_){var m=Ec(h),v=m==="transform"?o1:F0;return this.attrTween(h,typeof _=="function"?(m.local?k1:A1)(m,v,Id(this,"attr."+h,_)):_==null?(m.local?S1:w1)(m):(m.local?E1:C1)(m,v,_))}function M1(h,_){return function(m){this.setAttribute(h,_.call(this,m))}}function L1(h,_){return function(m){this.setAttributeNS(h.space,h.local,_.call(this,m))}}function R1(h,_){var m,v;function R(){var E=_.apply(this,arguments);return E!==v&&(m=(v=E)&&L1(h,E)),m}return R._value=_,R}function N1(h,_){var m,v;function R(){var E=_.apply(this,arguments);return E!==v&&(m=(v=E)&&M1(h,E)),m}return R._value=_,R}function $1(h,_){var m="attr."+h;if(arguments.length<2)return(m=this.tween(m))&&m._value;if(_==null)return this.tween(m,null);if(typeof _!="function")throw new Error;var v=Ec(h);return this.tween(m,(v.local?R1:N1)(v,_))}function D1(h,_){return function(){jd(this,h).delay=+_.apply(this,arguments)}}function O1(h,_){return _=+_,function(){jd(this,h).delay=_}}function j1(h){var _=this._id;return arguments.length?this.each((typeof h=="function"?D1:O1)(_,h)):mn(this.node(),_).delay}function I1(h,_){return function(){kn(this,h).duration=+_.apply(this,arguments)}}function B1(h,_){return _=+_,function(){kn(this,h).duration=_}}function H1(h){var _=this._id;return arguments.length?this.each((typeof h=="function"?I1:B1)(_,h)):mn(this.node(),_).duration}function z1(h,_){if(typeof _!="function")throw new Error;return function(){kn(this,h).ease=_}}function F1(h){var _=this._id;return arguments.length?this.each(z1(_,h)):mn(this.node(),_).ease}function P1(h,_){return function(){var m=_.apply(this,arguments);if(typeof m!="function")throw new Error;kn(this,h).ease=m}}function W1(h){if(typeof h!="function")throw new Error;return this.each(P1(this._id,h))}function U1(h){typeof h!="function"&&(h=b0(h));for(var _=this._groups,m=_.length,v=new Array(m),R=0;R<m;++R)for(var E=_[R],y=E.length,f=v[R]=[],a,c=0;c<y;++c)(a=E[c])&&h.call(a,a.__data__,c,E)&&f.push(a);return new Qn(v,this._parents,this._name,this._id)}function V1(h){if(h._id!==this._id)throw new Error;for(var _=this._groups,m=h._groups,v=_.length,R=m.length,E=Math.min(v,R),y=new Array(v),f=0;f<E;++f)for(var a=_[f],c=m[f],s=a.length,i=y[f]=new Array(s),n,r=0;r<s;++r)(n=a[r]||c[r])&&(i[r]=n);for(;f<v;++f)y[f]=_[f];return new Qn(y,this._parents,this._name,this._id)}function G1(h){return(h+"").trim().split(/^|\s+/).every(function(_){var m=_.indexOf(".");return m>=0&&(_=_.slice(0,m)),!_||_==="start"})}function K1(h,_,m){var v,R,E=G1(_)?jd:kn;return function(){var y=E(this,h),f=y.on;f!==v&&(R=(v=f).copy()).on(_,m),y.on=R}}function Y1(h,_){var m=this._id;return arguments.length<2?mn(this.node(),m).on.on(h):this.each(K1(m,h,_))}function X1(h){return function(){var _=this.parentNode;for(var m in this.__transition)if(+m!==h)return;_&&_.removeChild(this)}}function q1(){return this.on("end.remove",X1(this._id))}function Z1(h){var _=this._name,m=this._id;typeof h!="function"&&(h=Nd(h));for(var v=this._groups,R=v.length,E=new Array(R),y=0;y<R;++y)for(var f=v[y],a=f.length,c=E[y]=new Array(a),s,i,n=0;n<a;++n)(s=f[n])&&(i=h.call(s,s.__data__,n,f))&&("__data__"in s&&(i.__data__=s.__data__),c[n]=i,kc(c[n],_,m,n,c,mn(s,m)));return new Qn(E,this._parents,_,m)}function Q1(h){var _=this._name,m=this._id;typeof h!="function"&&(h=y0(h));for(var v=this._groups,R=v.length,E=[],y=[],f=0;f<R;++f)for(var a=v[f],c=a.length,s,i=0;i<c;++i)if(s=a[i]){for(var n=h.call(s,s.__data__,i,a),r,l=mn(s,m),u=0,o=n.length;u<o;++u)(r=n[u])&&kc(r,_,m,u,n,l);E.push(n),y.push(s)}return new Qn(E,y,_,m)}var J1=Ba.prototype.constructor;function eE(){return new J1(this._groups,this._parents)}function tE(h,_){var m,v,R;return function(){var E=wo(this,h),y=(this.style.removeProperty(h),wo(this,h));return E===y?null:E===m&&y===v?R:R=_(m=E,v=y)}}function P0(h){return function(){this.style.removeProperty(h)}}function iE(h,_,m){var v,R=m+"",E;return function(){var y=wo(this,h);return y===R?null:y===v?E:E=_(v=y,m)}}function nE(h,_,m){var v,R,E;return function(){var y=wo(this,h),f=m(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(h),wo(this,h))),y===a?null:y===v&&a===R?E:(R=a,E=_(v=y,f))}}function rE(h,_){var m,v,R,E="style."+_,y="end."+E,f;return function(){var a=kn(this,h),c=a.on,s=a.value[E]==null?f||(f=P0(_)):void 0;(c!==m||R!==s)&&(v=(m=c).copy()).on(y,R=s),a.on=v}}function sE(h,_,m){var v=(h+="")=="transform"?s1:F0;return _==null?this.styleTween(h,tE(h,v)).on("end.style."+h,P0(h)):typeof _=="function"?this.styleTween(h,nE(h,v,Id(this,"style."+h,_))).each(rE(this._id,h)):this.styleTween(h,iE(h,v,_),m).on("end.style."+h,null)}function oE(h,_,m){return function(v){this.style.setProperty(h,_.call(this,v),m)}}function aE(h,_,m){var v,R;function E(){var y=_.apply(this,arguments);return y!==R&&(v=(R=y)&&oE(h,y,m)),v}return E._value=_,E}function lE(h,_,m){var v="style."+(h+="");if(arguments.length<2)return(v=this.tween(v))&&v._value;if(_==null)return this.tween(v,null);if(typeof _!="function")throw new Error;return this.tween(v,aE(h,_,m??""))}function cE(h){return function(){this.textContent=h}}function uE(h){return function(){var _=h(this);this.textContent=_??""}}function hE(h){return this.tween("text",typeof h=="function"?uE(Id(this,"text",h)):cE(h==null?"":h+""))}function dE(h){return function(_){this.textContent=h.call(this,_)}}function fE(h){var _,m;function v(){var R=h.apply(this,arguments);return R!==m&&(_=(m=R)&&dE(R)),_}return v._value=h,v}function pE(h){var _="text";if(arguments.length<1)return(_=this.tween(_))&&_._value;if(h==null)return this.tween(_,null);if(typeof h!="function")throw new Error;return this.tween(_,fE(h))}function gE(){for(var h=this._name,_=this._id,m=W0(),v=this._groups,R=v.length,E=0;E<R;++E)for(var y=v[E],f=y.length,a,c=0;c<f;++c)if(a=y[c]){var s=mn(a,_);kc(a,h,m,c,y,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Qn(v,this._parents,h,m)}function mE(){var h,_,m=this,v=m._id,R=m.size();return new Promise(function(E,y){var f={value:y},a={value:function(){--R===0&&E()}};m.each(function(){var c=kn(this,v),s=c.on;s!==h&&(_=(h=s).copy(),_._.cancel.push(f),_._.interrupt.push(f),_._.end.push(a)),c.on=_}),R===0&&E()})}var vE=0;function Qn(h,_,m,v){this._groups=h,this._parents=_,this._name=m,this._id=v}function W0(){return++vE}var Xn=Ba.prototype;Qn.prototype={constructor:Qn,select:Z1,selectAll:Q1,selectChild:Xn.selectChild,selectChildren:Xn.selectChildren,filter:U1,merge:V1,selection:eE,transition:gE,call:Xn.call,nodes:Xn.nodes,node:Xn.node,size:Xn.size,empty:Xn.empty,each:Xn.each,on:Y1,attr:T1,attrTween:$1,style:sE,styleTween:lE,text:hE,textTween:pE,remove:q1,tween:x1,delay:j1,duration:H1,ease:F1,easeVarying:W1,end:mE,[Symbol.iterator]:Xn[Symbol.iterator]};function yE(h){return((h*=2)<=1?h*h*h:(h-=2)*h*h+2)/2}var bE={time:null,delay:0,duration:250,ease:yE};function _E(h,_){for(var m;!(m=h.__transition)||!(m=m[_]);)if(!(h=h.parentNode))throw new Error(`transition ${_} not found`);return m}function xE(h){var _,m;h instanceof Qn?(_=h._id,h=h._name):(_=W0(),(m=bE).time=Od(),h=h==null?null:h+"");for(var v=this._groups,R=v.length,E=0;E<R;++E)for(var y=v[E],f=y.length,a,c=0;c<f;++c)(a=y[c])&&kc(a,h,_,c,y,m||_E(a,_));return new Qn(v,this._parents,h,_)}Ba.prototype.interrupt=y1;Ba.prototype.transition=xE;const tc=h=>()=>h;function wE(h,{sourceEvent:_,target:m,transform:v,dispatch:R}){Object.defineProperties(this,{type:{value:h,enumerable:!0,configurable:!0},sourceEvent:{value:_,enumerable:!0,configurable:!0},target:{value:m,enumerable:!0,configurable:!0},transform:{value:v,enumerable:!0,configurable:!0},_:{value:R}})}function qn(h,_,m){this.k=h,this.x=_,this.y=m}qn.prototype={constructor:qn,scale:function(h){return h===1?this:new qn(this.k*h,this.x,this.y)},translate:function(h,_){return h===0&_===0?this:new qn(this.k,this.x+this.k*h,this.y+this.k*_)},apply:function(h){return[h[0]*this.k+this.x,h[1]*this.k+this.y]},applyX:function(h){return h*this.k+this.x},applyY:function(h){return h*this.k+this.y},invert:function(h){return[(h[0]-this.x)/this.k,(h[1]-this.y)/this.k]},invertX:function(h){return(h-this.x)/this.k},invertY:function(h){return(h-this.y)/this.k},rescaleX:function(h){return h.copy().domain(h.range().map(this.invertX,this).map(h.invert,h))},rescaleY:function(h){return h.copy().domain(h.range().map(this.invertY,this).map(h.invert,h))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Or=new qn(1,0,0);qn.prototype;function ad(h){h.stopImmediatePropagation()}function Sa(h){h.preventDefault(),h.stopImmediatePropagation()}function SE(h){return(!h.ctrlKey||h.type==="wheel")&&!h.button}function CE(){var h=this;return h instanceof SVGElement?(h=h.ownerSVGElement||h,h.hasAttribute("viewBox")?(h=h.viewBox.baseVal,[[h.x,h.y],[h.x+h.width,h.y+h.height]]):[[0,0],[h.width.baseVal.value,h.height.baseVal.value]]):[[0,0],[h.clientWidth,h.clientHeight]]}function Dv(){return this.__zoom||Or}function EE(h){return-h.deltaY*(h.deltaMode===1?.05:h.deltaMode?1:.002)*(h.ctrlKey?10:1)}function AE(){return navigator.maxTouchPoints||"ontouchstart"in this}function kE(h,_,m){var v=h.invertX(_[0][0])-m[0][0],R=h.invertX(_[1][0])-m[1][0],E=h.invertY(_[0][1])-m[0][1],y=h.invertY(_[1][1])-m[1][1];return h.translate(R>v?(v+R)/2:Math.min(0,v)||Math.max(0,R),y>E?(E+y)/2:Math.min(0,E)||Math.max(0,y))}function TE(){var h=SE,_=CE,m=kE,v=EE,R=AE,E=[0,1/0],y=[[-1/0,-1/0],[1/0,1/0]],f=250,a=u1,c=Cc("start","zoom","end"),s,i,n,r=500,l=150,u=0,o=10;function d(M){M.property("__zoom",Dv).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",j).filter(R).on("touchstart.zoom",F).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(M,L,D,z){var B=M.selection?M.selection():M;B.property("__zoom",Dv),M!==B?w(M,L,D,z):B.interrupt().each(function(){b(this,arguments).event(z).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},d.scaleBy=function(M,L,D,z){d.scaleTo(M,function(){var B=this.__zoom.k,P=typeof L=="function"?L.apply(this,arguments):L;return B*P},D,z)},d.scaleTo=function(M,L,D,z){d.transform(M,function(){var B=_.apply(this,arguments),P=this.__zoom,U=D==null?S(B):typeof D=="function"?D.apply(this,arguments):D,W=P.invert(U),K=typeof L=="function"?L.apply(this,arguments):L;return m(x(g(P,K),U,W),B,y)},D,z)},d.translateBy=function(M,L,D,z){d.transform(M,function(){return m(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof D=="function"?D.apply(this,arguments):D),_.apply(this,arguments),y)},null,z)},d.translateTo=function(M,L,D,z,B){d.transform(M,function(){var P=_.apply(this,arguments),U=this.__zoom,W=z==null?S(P):typeof z=="function"?z.apply(this,arguments):z;return m(Or.translate(W[0],W[1]).scale(U.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof D=="function"?-D.apply(this,arguments):-D),P,y)},z,B)};function g(M,L){return L=Math.max(E[0],Math.min(E[1],L)),L===M.k?M:new qn(L,M.x,M.y)}function x(M,L,D){var z=L[0]-D[0]*M.k,B=L[1]-D[1]*M.k;return z===M.x&&B===M.y?M:new qn(M.k,z,B)}function S(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,L,D,z){M.on("start.zoom",function(){b(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(z).end()}).tween("zoom",function(){var B=this,P=arguments,U=b(B,P).event(z),W=_.apply(B,P),K=D==null?S(W):typeof D=="function"?D.apply(B,P):D,Y=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),X=B.__zoom,q=typeof L=="function"?L.apply(B,P):L,J=a(X.invert(K).concat(Y/X.k),q.invert(K).concat(Y/q.k));return function(V){if(V===1)V=q;else{var Q=J(V),te=Y/Q[2];V=new qn(te,K[0]-Q[0]*te,K[1]-Q[1]*te)}U.zoom(null,V)}})}function b(M,L,D){return!D&&M.__zooming||new k(M,L)}function k(M,L){this.that=M,this.args=L,this.active=0,this.sourceEvent=null,this.extent=_.apply(M,L),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,L){return this.mouse&&M!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var L=pn(this.that).datum();c.call(M,this.that,new wE(M,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:c}),L)}};function A(M,...L){if(!h.apply(this,arguments))return;var D=b(this,L).event(M),z=this.__zoom,B=Math.max(E[0],Math.min(E[1],z.k*Math.pow(2,v.apply(this,arguments)))),P=Cn(M);if(D.wheel)(D.mouse[0][0]!==P[0]||D.mouse[0][1]!==P[1])&&(D.mouse[1]=z.invert(D.mouse[0]=P)),clearTimeout(D.wheel);else{if(z.k===B)return;D.mouse=[P,z.invert(P)],cc(this),D.start()}Sa(M),D.wheel=setTimeout(U,l),D.zoom("mouse",m(x(g(z,B),D.mouse[0],D.mouse[1]),D.extent,y));function U(){D.wheel=null,D.end()}}function T(M,...L){if(n||!h.apply(this,arguments))return;var D=M.currentTarget,z=b(this,L,!0).event(M),B=pn(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",Y,!0),P=Cn(M,D),U=M.clientX,W=M.clientY;M0(M.view),ad(M),z.mouse=[P,this.__zoom.invert(P)],cc(this),z.start();function K(X){if(Sa(X),!z.moved){var q=X.clientX-U,J=X.clientY-W;z.moved=q*q+J*J>u}z.event(X).zoom("mouse",m(x(z.that.__zoom,z.mouse[0]=Cn(X,D),z.mouse[1]),z.extent,y))}function Y(X){B.on("mousemove.zoom mouseup.zoom",null),L0(X.view,z.moved),Sa(X),z.event(X).end()}}function j(M,...L){if(h.apply(this,arguments)){var D=this.__zoom,z=Cn(M.changedTouches?M.changedTouches[0]:M,this),B=D.invert(z),P=D.k*(M.shiftKey?.5:2),U=m(x(g(D,P),z,B),_.apply(this,L),y);Sa(M),f>0?pn(this).transition().duration(f).call(w,U,z,M):pn(this).call(d.transform,U,z,M)}}function F(M,...L){if(h.apply(this,arguments)){var D=M.touches,z=D.length,B=b(this,L,M.changedTouches.length===z).event(M),P,U,W,K;for(ad(M),U=0;U<z;++U)W=D[U],K=Cn(W,this),K=[K,this.__zoom.invert(K),W.identifier],B.touch0?!B.touch1&&B.touch0[2]!==K[2]&&(B.touch1=K,B.taps=0):(B.touch0=K,P=!0,B.taps=1+!!s);s&&(s=clearTimeout(s)),P&&(B.taps<2&&(i=K[0],s=setTimeout(function(){s=null},r)),cc(this),B.start())}}function N(M,...L){if(this.__zooming){var D=b(this,L).event(M),z=M.changedTouches,B=z.length,P,U,W,K;for(Sa(M),P=0;P<B;++P)U=z[P],W=Cn(U,this),D.touch0&&D.touch0[2]===U.identifier?D.touch0[0]=W:D.touch1&&D.touch1[2]===U.identifier&&(D.touch1[0]=W);if(U=D.that.__zoom,D.touch1){var Y=D.touch0[0],X=D.touch0[1],q=D.touch1[0],J=D.touch1[1],V=(V=q[0]-Y[0])*V+(V=q[1]-Y[1])*V,Q=(Q=J[0]-X[0])*Q+(Q=J[1]-X[1])*Q;U=g(U,Math.sqrt(V/Q)),W=[(Y[0]+q[0])/2,(Y[1]+q[1])/2],K=[(X[0]+J[0])/2,(X[1]+J[1])/2]}else if(D.touch0)W=D.touch0[0],K=D.touch0[1];else return;D.zoom("touch",m(x(U,W,K),D.extent,y))}}function $(M,...L){if(this.__zooming){var D=b(this,L).event(M),z=M.changedTouches,B=z.length,P,U;for(ad(M),n&&clearTimeout(n),n=setTimeout(function(){n=null},r),P=0;P<B;++P)U=z[P],D.touch0&&D.touch0[2]===U.identifier?delete D.touch0:D.touch1&&D.touch1[2]===U.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(U=Cn(U,this),Math.hypot(i[0]-U[0],i[1]-U[1])<o)){var W=pn(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return d.wheelDelta=function(M){return arguments.length?(v=typeof M=="function"?M:tc(+M),d):v},d.filter=function(M){return arguments.length?(h=typeof M=="function"?M:tc(!!M),d):h},d.touchable=function(M){return arguments.length?(R=typeof M=="function"?M:tc(!!M),d):R},d.extent=function(M){return arguments.length?(_=typeof M=="function"?M:tc([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),d):_},d.scaleExtent=function(M){return arguments.length?(E[0]=+M[0],E[1]=+M[1],d):[E[0],E[1]]},d.translateExtent=function(M){return arguments.length?(y[0][0]=+M[0][0],y[1][0]=+M[1][0],y[0][1]=+M[0][1],y[1][1]=+M[1][1],d):[[y[0][0],y[0][1]],[y[1][0],y[1][1]]]},d.constrain=function(M){return arguments.length?(m=M,d):m},d.duration=function(M){return arguments.length?(f=+M,d):f},d.interpolate=function(M){return arguments.length?(a=M,d):a},d.on=function(){var M=c.on.apply(c,arguments);return M===c?d:M},d.clickDistance=function(M){return arguments.length?(u=(M=+M)*M,d):Math.sqrt(u)},d.tapDistance=function(M){return arguments.length?(o=+M,d):o},d}var ME=o0();const Tc=ie.createContext(null),LE=Tc.Provider,Jn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:h=>`Node type "${h}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:h=>`The old edge with id=${h} does not exist.`,error009:h=>`Marker type "${h}" doesn't exist.`,error008:(h,_)=>`Couldn't create edge for ${h?"target":"source"} handle id: "${h?_.targetHandle:_.sourceHandle}", edge id: ${_.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:h=>`Edge type "${h}" not found. Using fallback type "default".`,error012:h=>`Node with id "${h}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},U0=Jn.error001();function kt(h,_){const m=ie.useContext(Tc);if(m===null)throw new Error(U0);return m0(m,h,_)}const ri=()=>{const h=ie.useContext(Tc);if(h===null)throw new Error(U0);return ie.useMemo(()=>({getState:h.getState,setState:h.setState,subscribe:h.subscribe,destroy:h.destroy}),[h])},RE=h=>h.userSelectionActive?"none":"all";function NE({position:h,children:_,className:m,style:v,...R}){const E=kt(RE),y=`${h}`.split("-");return _e.createElement("div",{className:qi(["react-flow__panel",m,...y]),style:{...v,pointerEvents:E},...R},_)}function $E({proOptions:h,position:_="bottom-right"}){return h?.hideAttribution?null:_e.createElement(NE,{position:_,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},_e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const DE=({x:h,y:_,label:m,labelStyle:v={},labelShowBg:R=!0,labelBgStyle:E={},labelBgPadding:y=[2,4],labelBgBorderRadius:f=2,children:a,className:c,...s})=>{const i=ie.useRef(null),[n,r]=ie.useState({x:0,y:0,width:0,height:0}),l=qi(["react-flow__edge-textwrapper",c]);return ie.useEffect(()=>{if(i.current){const u=i.current.getBBox();r({x:u.x,y:u.y,width:u.width,height:u.height})}},[m]),typeof m>"u"||!m?null:_e.createElement("g",{transform:`translate(${h-n.width/2} ${_-n.height/2})`,className:l,visibility:n.width?"visible":"hidden",...s},R&&_e.createElement("rect",{width:n.width+2*y[0],x:-y[0],y:-y[1],height:n.height+2*y[1],className:"react-flow__edge-textbg",style:E,rx:f,ry:f}),_e.createElement("text",{className:"react-flow__edge-text",y:n.height/2,dy:"0.3em",ref:i,style:v},m),a)};var OE=ie.memo(DE);const Bd=h=>({width:h.offsetWidth,height:h.offsetHeight}),Co=(h,_=0,m=1)=>Math.min(Math.max(h,_),m),Hd=(h={x:0,y:0},_)=>({x:Co(h.x,_[0][0],_[1][0]),y:Co(h.y,_[0][1],_[1][1])}),Ov=(h,_,m)=>h<_?Co(Math.abs(h-_),1,50)/50:h>m?-Co(Math.abs(h-m),1,50)/50:0,V0=(h,_)=>{const m=Ov(h.x,35,_.width-35)*20,v=Ov(h.y,35,_.height-35)*20;return[m,v]},G0=h=>h.getRootNode?.()||window?.document,jE=(h,_)=>({x:Math.min(h.x,_.x),y:Math.min(h.y,_.y),x2:Math.max(h.x2,_.x2),y2:Math.max(h.y2,_.y2)}),zd=({x:h,y:_,width:m,height:v})=>({x:h,y:_,x2:h+m,y2:_+v}),IE=({x:h,y:_,x2:m,y2:v})=>({x:h,y:_,width:m-h,height:v-_}),jv=h=>({...h.positionAbsolute||{x:0,y:0},width:h.width||0,height:h.height||0}),wd=(h,_)=>{const m=Math.max(0,Math.min(h.x+h.width,_.x+_.width)-Math.max(h.x,_.x)),v=Math.max(0,Math.min(h.y+h.height,_.y+_.height)-Math.max(h.y,_.y));return Math.ceil(m*v)},BE=h=>Ki(h.width)&&Ki(h.height)&&Ki(h.x)&&Ki(h.y),Ki=h=>!isNaN(h)&&isFinite(h),At=Symbol.for("internals"),K0=["Enter"," ","Escape"],HE=(h,_)=>{},zE=h=>"nativeEvent"in h;function Sd(h){const m=(zE(h)?h.nativeEvent:h).composedPath?.()?.[0]||h.target;return["INPUT","SELECT","TEXTAREA"].includes(m?.nodeName)||m?.hasAttribute("contenteditable")||!!m?.closest(".nokey")}const Y0=h=>"clientX"in h,jr=(h,_)=>{const m=Y0(h),v=m?h.clientX:h.touches?.[0].clientX,R=m?h.clientY:h.touches?.[0].clientY;return{x:v-(_?.left??0),y:R-(_?.top??0)}},bc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ao=({id:h,path:_,labelX:m,labelY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c,style:s,markerEnd:i,markerStart:n,interactionWidth:r=20})=>_e.createElement(_e.Fragment,null,_e.createElement("path",{id:h,style:s,d:_,fill:"none",className:"react-flow__edge-path",markerEnd:i,markerStart:n}),r&&_e.createElement("path",{d:_,fill:"none",strokeOpacity:0,strokeWidth:r,className:"react-flow__edge-interaction"}),R&&Ki(m)&&Ki(v)?_e.createElement(OE,{x:m,y:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c}):null);Ao.displayName="BaseEdge";function Ca(h,_,m){return m===void 0?m:v=>{const R=_().edges.find(E=>E.id===h);R&&m(v,{...R})}}function X0({sourceX:h,sourceY:_,targetX:m,targetY:v}){const R=Math.abs(m-h)/2,E=m<h?m+R:m-R,y=Math.abs(v-_)/2,f=v<_?v+y:v-y;return[E,f,R,y]}function q0({sourceX:h,sourceY:_,targetX:m,targetY:v,sourceControlX:R,sourceControlY:E,targetControlX:y,targetControlY:f}){const a=h*.125+R*.375+y*.375+m*.125,c=_*.125+E*.375+f*.375+v*.125,s=Math.abs(a-h),i=Math.abs(c-_);return[a,c,s,i]}var ds;(function(h){h.Strict="strict",h.Loose="loose"})(ds||(ds={}));var cs;(function(h){h.Free="free",h.Vertical="vertical",h.Horizontal="horizontal"})(cs||(cs={}));var ja;(function(h){h.Partial="partial",h.Full="full"})(ja||(ja={}));var Dr;(function(h){h.Bezier="default",h.Straight="straight",h.Step="step",h.SmoothStep="smoothstep",h.SimpleBezier="simplebezier"})(Dr||(Dr={}));var _c;(function(h){h.Arrow="arrow",h.ArrowClosed="arrowclosed"})(_c||(_c={}));var Le;(function(h){h.Left="left",h.Top="top",h.Right="right",h.Bottom="bottom"})(Le||(Le={}));function Iv({pos:h,x1:_,y1:m,x2:v,y2:R}){return h===Le.Left||h===Le.Right?[.5*(_+v),m]:[_,.5*(m+R)]}function Z0({sourceX:h,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top}){const[y,f]=Iv({pos:m,x1:h,y1:_,x2:v,y2:R}),[a,c]=Iv({pos:E,x1:v,y1:R,x2:h,y2:_}),[s,i,n,r]=q0({sourceX:h,sourceY:_,targetX:v,targetY:R,sourceControlX:y,sourceControlY:f,targetControlX:a,targetControlY:c});return[`M${h},${_} C${y},${f} ${a},${c} ${v},${R}`,s,i,n,r]}const Fd=ie.memo(({sourceX:h,sourceY:_,targetX:m,targetY:v,sourcePosition:R=Le.Bottom,targetPosition:E=Le.Top,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:c,labelBgPadding:s,labelBgBorderRadius:i,style:n,markerEnd:r,markerStart:l,interactionWidth:u})=>{const[o,d,g]=Z0({sourceX:h,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E});return _e.createElement(Ao,{path:o,labelX:d,labelY:g,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:c,labelBgPadding:s,labelBgBorderRadius:i,style:n,markerEnd:r,markerStart:l,interactionWidth:u})});Fd.displayName="SimpleBezierEdge";const Bv={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},FE=({source:h,sourcePosition:_=Le.Bottom,target:m})=>_===Le.Left||_===Le.Right?h.x<m.x?{x:1,y:0}:{x:-1,y:0}:h.y<m.y?{x:0,y:1}:{x:0,y:-1},Hv=(h,_)=>Math.sqrt(Math.pow(_.x-h.x,2)+Math.pow(_.y-h.y,2));function PE({source:h,sourcePosition:_=Le.Bottom,target:m,targetPosition:v=Le.Top,center:R,offset:E}){const y=Bv[_],f=Bv[v],a={x:h.x+y.x*E,y:h.y+y.y*E},c={x:m.x+f.x*E,y:m.y+f.y*E},s=FE({source:a,sourcePosition:_,target:c}),i=s.x!==0?"x":"y",n=s[i];let r=[],l,u;const o={x:0,y:0},d={x:0,y:0},[g,x,S,w]=X0({sourceX:h.x,sourceY:h.y,targetX:m.x,targetY:m.y});if(y[i]*f[i]===-1){l=R.x??g,u=R.y??x;const k=[{x:l,y:a.y},{x:l,y:c.y}],A=[{x:a.x,y:u},{x:c.x,y:u}];y[i]===n?r=i==="x"?k:A:r=i==="x"?A:k}else{const k=[{x:a.x,y:c.y}],A=[{x:c.x,y:a.y}];if(i==="x"?r=y.x===n?A:k:r=y.y===n?k:A,_===v){const $=Math.abs(h[i]-m[i]);if($<=E){const M=Math.min(E-1,E-$);y[i]===n?o[i]=(a[i]>h[i]?-1:1)*M:d[i]=(c[i]>m[i]?-1:1)*M}}if(_!==v){const $=i==="x"?"y":"x",M=y[i]===f[$],L=a[$]>c[$],D=a[$]<c[$];(y[i]===1&&(!M&&L||M&&D)||y[i]!==1&&(!M&&D||M&&L))&&(r=i==="x"?k:A)}const T={x:a.x+o.x,y:a.y+o.y},j={x:c.x+d.x,y:c.y+d.y},F=Math.max(Math.abs(T.x-r[0].x),Math.abs(j.x-r[0].x)),N=Math.max(Math.abs(T.y-r[0].y),Math.abs(j.y-r[0].y));F>=N?(l=(T.x+j.x)/2,u=r[0].y):(l=r[0].x,u=(T.y+j.y)/2)}return[[h,{x:a.x+o.x,y:a.y+o.y},...r,{x:c.x+d.x,y:c.y+d.y},m],l,u,S,w]}function WE(h,_,m,v){const R=Math.min(Hv(h,_)/2,Hv(_,m)/2,v),{x:E,y}=_;if(h.x===E&&E===m.x||h.y===y&&y===m.y)return`L${E} ${y}`;if(h.y===y){const c=h.x<m.x?-1:1,s=h.y<m.y?1:-1;return`L ${E+R*c},${y}Q ${E},${y} ${E},${y+R*s}`}const f=h.x<m.x?1:-1,a=h.y<m.y?-1:1;return`L ${E},${y+R*a}Q ${E},${y} ${E+R*f},${y}`}function Cd({sourceX:h,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top,borderRadius:y=5,centerX:f,centerY:a,offset:c=20}){const[s,i,n,r,l]=PE({source:{x:h,y:_},sourcePosition:m,target:{x:v,y:R},targetPosition:E,center:{x:f,y:a},offset:c});return[s.reduce((o,d,g)=>{let x="";return g>0&&g<s.length-1?x=WE(s[g-1],d,s[g+1],y):x=`${g===0?"M":"L"}${d.x} ${d.y}`,o+=x,o},""),i,n,r,l]}const Mc=ie.memo(({sourceX:h,sourceY:_,targetX:m,targetY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c,style:s,sourcePosition:i=Le.Bottom,targetPosition:n=Le.Top,markerEnd:r,markerStart:l,pathOptions:u,interactionWidth:o})=>{const[d,g,x]=Cd({sourceX:h,sourceY:_,sourcePosition:i,targetX:m,targetY:v,targetPosition:n,borderRadius:u?.borderRadius,offset:u?.offset});return _e.createElement(Ao,{path:d,labelX:g,labelY:x,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c,style:s,markerEnd:r,markerStart:l,interactionWidth:o})});Mc.displayName="SmoothStepEdge";const Pd=ie.memo(h=>_e.createElement(Mc,{...h,pathOptions:ie.useMemo(()=>({borderRadius:0,offset:h.pathOptions?.offset}),[h.pathOptions?.offset])}));Pd.displayName="StepEdge";function UE({sourceX:h,sourceY:_,targetX:m,targetY:v}){const[R,E,y,f]=X0({sourceX:h,sourceY:_,targetX:m,targetY:v});return[`M ${h},${_}L ${m},${v}`,R,E,y,f]}const Wd=ie.memo(({sourceX:h,sourceY:_,targetX:m,targetY:v,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c,style:s,markerEnd:i,markerStart:n,interactionWidth:r})=>{const[l,u,o]=UE({sourceX:h,sourceY:_,targetX:m,targetY:v});return _e.createElement(Ao,{path:l,labelX:u,labelY:o,label:R,labelStyle:E,labelShowBg:y,labelBgStyle:f,labelBgPadding:a,labelBgBorderRadius:c,style:s,markerEnd:i,markerStart:n,interactionWidth:r})});Wd.displayName="StraightEdge";function ic(h,_){return h>=0?.5*h:_*25*Math.sqrt(-h)}function zv({pos:h,x1:_,y1:m,x2:v,y2:R,c:E}){switch(h){case Le.Left:return[_-ic(_-v,E),m];case Le.Right:return[_+ic(v-_,E),m];case Le.Top:return[_,m-ic(m-R,E)];case Le.Bottom:return[_,m+ic(R-m,E)]}}function Ud({sourceX:h,sourceY:_,sourcePosition:m=Le.Bottom,targetX:v,targetY:R,targetPosition:E=Le.Top,curvature:y=.25}){const[f,a]=zv({pos:m,x1:h,y1:_,x2:v,y2:R,c:y}),[c,s]=zv({pos:E,x1:v,y1:R,x2:h,y2:_,c:y}),[i,n,r,l]=q0({sourceX:h,sourceY:_,targetX:v,targetY:R,sourceControlX:f,sourceControlY:a,targetControlX:c,targetControlY:s});return[`M${h},${_} C${f},${a} ${c},${s} ${v},${R}`,i,n,r,l]}const xc=ie.memo(({sourceX:h,sourceY:_,targetX:m,targetY:v,sourcePosition:R=Le.Bottom,targetPosition:E=Le.Top,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:c,labelBgPadding:s,labelBgBorderRadius:i,style:n,markerEnd:r,markerStart:l,pathOptions:u,interactionWidth:o})=>{const[d,g,x]=Ud({sourceX:h,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E,curvature:u?.curvature});return _e.createElement(Ao,{path:d,labelX:g,labelY:x,label:y,labelStyle:f,labelShowBg:a,labelBgStyle:c,labelBgPadding:s,labelBgBorderRadius:i,style:n,markerEnd:r,markerStart:l,interactionWidth:o})});xc.displayName="BezierEdge";const Vd=ie.createContext(null),VE=Vd.Provider;Vd.Consumer;const GE=()=>ie.useContext(Vd),KE=h=>"id"in h&&"source"in h&&"target"in h,YE=({source:h,sourceHandle:_,target:m,targetHandle:v})=>`reactflow__edge-${h}${_||""}-${m}${v||""}`,Ed=(h,_)=>typeof h>"u"?"":typeof h=="string"?h:`${_?`${_}__`:""}${Object.keys(h).sort().map(v=>`${v}=${h[v]}`).join("&")}`,XE=(h,_)=>_.some(m=>m.source===h.source&&m.target===h.target&&(m.sourceHandle===h.sourceHandle||!m.sourceHandle&&!h.sourceHandle)&&(m.targetHandle===h.targetHandle||!m.targetHandle&&!h.targetHandle)),Q0=(h,_)=>{if(!h.source||!h.target)return _;let m;return KE(h)?m={...h}:m={...h,id:YE(h)},XE(m,_)?_:_.concat(m)},Ad=({x:h,y:_},[m,v,R],E,[y,f])=>{const a={x:(h-m)/R,y:(_-v)/R};return E?{x:y*Math.round(a.x/y),y:f*Math.round(a.y/f)}:a},J0=({x:h,y:_},[m,v,R])=>({x:h*R+m,y:_*R+v}),_o=(h,_=[0,0])=>{if(!h)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const m=(h.width??0)*_[0],v=(h.height??0)*_[1],R={x:h.position.x-m,y:h.position.y-v};return{...R,positionAbsolute:h.positionAbsolute?{x:h.positionAbsolute.x-m,y:h.positionAbsolute.y-v}:R}},Gd=(h,_=[0,0])=>{if(h.length===0)return{x:0,y:0,width:0,height:0};const m=h.reduce((v,R)=>{const{x:E,y}=_o(R,_).positionAbsolute;return jE(v,zd({x:E,y,width:R.width||0,height:R.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return IE(m)},ey=(h,_,[m,v,R]=[0,0,1],E=!1,y=!1,f=[0,0])=>{const a={x:(_.x-m)/R,y:(_.y-v)/R,width:_.width/R,height:_.height/R},c=[];return h.forEach(s=>{const{width:i,height:n,selectable:r=!0,hidden:l=!1}=s;if(y&&!r||l)return!1;const{positionAbsolute:u}=_o(s,f),o={x:u.x,y:u.y,width:i||0,height:n||0},d=wd(a,o),g=typeof i>"u"||typeof n>"u"||i===null||n===null,x=E&&d>0,S=(i||0)*(n||0);(g||x||d>=S||s.dragging)&&c.push(s)}),c},ty=(h,_)=>{const m=h.map(v=>v.id);return _.filter(v=>m.includes(v.source)||m.includes(v.target))},iy=(h,_,m,v,R,E=.1)=>{const y=_/(h.width*(1+E)),f=m/(h.height*(1+E)),a=Math.min(y,f),c=Co(a,v,R),s=h.x+h.width/2,i=h.y+h.height/2,n=_/2-s*c,r=m/2-i*c;return{x:n,y:r,zoom:c}},os=(h,_=0)=>h.transition().duration(_);function Fv(h,_,m,v){return(_[m]||[]).reduce((R,E)=>(`${h.id}-${E.id}-${m}`!==v&&R.push({id:E.id||null,type:m,nodeId:h.id,x:(h.positionAbsolute?.x??0)+E.x+E.width/2,y:(h.positionAbsolute?.y??0)+E.y+E.height/2}),R),[])}function qE(h,_,m,v,R,E){const{x:y,y:f}=jr(h),c=_.elementsFromPoint(y,f).find(l=>l.classList.contains("react-flow__handle"));if(c){const l=c.getAttribute("data-nodeid");if(l){const u=Kd(void 0,c),o=c.getAttribute("data-handleid"),d=E({nodeId:l,id:o,type:u});if(d){const g=R.find(x=>x.nodeId===l&&x.type===u&&x.id===o);return{handle:{id:o,type:u,nodeId:l,x:g?.x||m.x,y:g?.y||m.y},validHandleResult:d}}}}let s=[],i=1/0;if(R.forEach(l=>{const u=Math.sqrt((l.x-m.x)**2+(l.y-m.y)**2);if(u<=v){const o=E(l);u<=i&&(u<i?s=[{handle:l,validHandleResult:o}]:u===i&&s.push({handle:l,validHandleResult:o}),i=u)}}),!s.length)return{handle:null,validHandleResult:ny()};if(s.length===1)return s[0];const n=s.some(({validHandleResult:l})=>l.isValid),r=s.some(({handle:l})=>l.type==="target");return s.find(({handle:l,validHandleResult:u})=>r?l.type==="target":n?u.isValid:!0)||s[0]}const ZE={source:null,target:null,sourceHandle:null,targetHandle:null},ny=()=>({handleDomNode:null,isValid:!1,connection:ZE,endHandle:null});function ry(h,_,m,v,R,E,y){const f=R==="target",a=y.querySelector(`.react-flow__handle[data-id="${h?.nodeId}-${h?.id}-${h?.type}"]`),c={...ny(),handleDomNode:a};if(a){const s=Kd(void 0,a),i=a.getAttribute("data-nodeid"),n=a.getAttribute("data-handleid"),r=a.classList.contains("connectable"),l=a.classList.contains("connectableend"),u={source:f?i:m,sourceHandle:f?n:v,target:f?m:i,targetHandle:f?v:n};c.connection=u,r&&l&&(_===ds.Strict?f&&s==="source"||!f&&s==="target":i!==m||n!==v)&&(c.endHandle={nodeId:i,handleId:n,type:s},c.isValid=E(u))}return c}function QE({nodes:h,nodeId:_,handleId:m,handleType:v}){return h.reduce((R,E)=>{if(E[At]){const{handleBounds:y}=E[At];let f=[],a=[];y&&(f=Fv(E,y,"source",`${_}-${m}-${v}`),a=Fv(E,y,"target",`${_}-${m}-${v}`)),R.push(...f,...a)}return R},[])}function Kd(h,_){return h||(_?.classList.contains("target")?"target":_?.classList.contains("source")?"source":null)}function ld(h){h?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function JE(h,_){let m=null;return _?m="valid":h&&!_&&(m="invalid"),m}function sy({event:h,handleId:_,nodeId:m,onConnect:v,isTarget:R,getState:E,setState:y,isValidConnection:f,edgeUpdaterType:a,onReconnectEnd:c}){const s=G0(h.target),{connectionMode:i,domNode:n,autoPanOnConnect:r,connectionRadius:l,onConnectStart:u,panBy:o,getNodes:d,cancelConnection:g}=E();let x=0,S;const{x:w,y:b}=jr(h),k=s?.elementFromPoint(w,b),A=Kd(a,k),T=n?.getBoundingClientRect();if(!T||!A)return;let j,F=jr(h,T),N=!1,$=null,M=!1,L=null;const D=QE({nodes:d(),nodeId:m,handleId:_,handleType:A}),z=()=>{if(!r)return;const[U,W]=V0(F,T);o({x:U,y:W}),x=requestAnimationFrame(z)};y({connectionPosition:F,connectionStatus:null,connectionNodeId:m,connectionHandleId:_,connectionHandleType:A,connectionStartHandle:{nodeId:m,handleId:_,type:A},connectionEndHandle:null}),u?.(h,{nodeId:m,handleId:_,handleType:A});function B(U){const{transform:W}=E();F=jr(U,T);const{handle:K,validHandleResult:Y}=qE(U,s,Ad(F,W,!1,[1,1]),l,D,X=>ry(X,i,m,_,R?"target":"source",f,s));if(S=K,N||(z(),N=!0),L=Y.handleDomNode,$=Y.connection,M=Y.isValid,y({connectionPosition:S&&M?J0({x:S.x,y:S.y},W):F,connectionStatus:JE(!!S,M),connectionEndHandle:Y.endHandle}),!S&&!M&&!L)return ld(j);$.source!==$.target&&L&&(ld(j),j=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",M),L.classList.toggle("react-flow__handle-valid",M))}function P(U){(S||L)&&$&&M&&v?.($),E().onConnectEnd?.(U),a&&c?.(U),ld(j),g(),cancelAnimationFrame(x),N=!1,M=!1,$=null,L=null,s.removeEventListener("mousemove",B),s.removeEventListener("mouseup",P),s.removeEventListener("touchmove",B),s.removeEventListener("touchend",P)}s.addEventListener("mousemove",B),s.addEventListener("mouseup",P),s.addEventListener("touchmove",B),s.addEventListener("touchend",P)}const Pv=()=>!0,eA=h=>({connectionStartHandle:h.connectionStartHandle,connectOnClick:h.connectOnClick,noPanClassName:h.noPanClassName}),tA=(h,_,m)=>v=>{const{connectionStartHandle:R,connectionEndHandle:E,connectionClickStartHandle:y}=v;return{connecting:R?.nodeId===h&&R?.handleId===_&&R?.type===m||E?.nodeId===h&&E?.handleId===_&&E?.type===m,clickConnecting:y?.nodeId===h&&y?.handleId===_&&y?.type===m}},oy=ie.forwardRef(({type:h="source",position:_=Le.Top,isValidConnection:m,isConnectable:v=!0,isConnectableStart:R=!0,isConnectableEnd:E=!0,id:y,onConnect:f,children:a,className:c,onMouseDown:s,onTouchStart:i,...n},r)=>{const l=y||null,u=h==="target",o=ri(),d=GE(),{connectOnClick:g,noPanClassName:x}=kt(eA,_i),{connecting:S,clickConnecting:w}=kt(tA(d,l,h),_i);d||o.getState().onError?.("010",Jn.error010());const b=T=>{const{defaultEdgeOptions:j,onConnect:F,hasDefaultEdges:N}=o.getState(),$={...j,...T};if(N){const{edges:M,setEdges:L}=o.getState();L(Q0($,M))}F?.($),f?.($)},k=T=>{if(!d)return;const j=Y0(T);R&&(j&&T.button===0||!j)&&sy({event:T,handleId:l,nodeId:d,onConnect:b,isTarget:u,getState:o.getState,setState:o.setState,isValidConnection:m||o.getState().isValidConnection||Pv}),j?s?.(T):i?.(T)},A=T=>{const{onClickConnectStart:j,onClickConnectEnd:F,connectionClickStartHandle:N,connectionMode:$,isValidConnection:M}=o.getState();if(!d||!N&&!R)return;if(!N){j?.(T,{nodeId:d,handleId:l,handleType:h}),o.setState({connectionClickStartHandle:{nodeId:d,type:h,handleId:l}});return}const L=G0(T.target),D=m||M||Pv,{connection:z,isValid:B}=ry({nodeId:d,id:l,type:h},$,N.nodeId,N.handleId||null,N.type,D,L);B&&b(z),F?.(T),o.setState({connectionClickStartHandle:null})};return _e.createElement("div",{"data-handleid":l,"data-nodeid":d,"data-handlepos":_,"data-id":`${d}-${l}-${h}`,className:qi(["react-flow__handle",`react-flow__handle-${_}`,"nodrag",x,c,{source:!u,target:u,connectable:v,connectablestart:R,connectableend:E,connecting:w,connectionindicator:v&&(R&&!S||E&&S)}]),onMouseDown:k,onTouchStart:k,onClick:g?A:void 0,ref:r,...n},a)});oy.displayName="Handle";var Eo=ie.memo(oy);const ay=({data:h,isConnectable:_,targetPosition:m=Le.Top,sourcePosition:v=Le.Bottom})=>_e.createElement(_e.Fragment,null,_e.createElement(Eo,{type:"target",position:m,isConnectable:_}),h?.label,_e.createElement(Eo,{type:"source",position:v,isConnectable:_}));ay.displayName="DefaultNode";var kd=ie.memo(ay);const ly=({data:h,isConnectable:_,sourcePosition:m=Le.Bottom})=>_e.createElement(_e.Fragment,null,h?.label,_e.createElement(Eo,{type:"source",position:m,isConnectable:_}));ly.displayName="InputNode";var cy=ie.memo(ly);const uy=({data:h,isConnectable:_,targetPosition:m=Le.Top})=>_e.createElement(_e.Fragment,null,_e.createElement(Eo,{type:"target",position:m,isConnectable:_}),h?.label);uy.displayName="OutputNode";var hy=ie.memo(uy);const Yd=()=>null;Yd.displayName="GroupNode";const iA=h=>({selectedNodes:h.getNodes().filter(_=>_.selected),selectedEdges:h.edges.filter(_=>_.selected).map(_=>({..._}))}),nc=h=>h.id;function nA(h,_){return _i(h.selectedNodes.map(nc),_.selectedNodes.map(nc))&&_i(h.selectedEdges.map(nc),_.selectedEdges.map(nc))}const dy=ie.memo(({onSelectionChange:h})=>{const _=ri(),{selectedNodes:m,selectedEdges:v}=kt(iA,nA);return ie.useEffect(()=>{const R={nodes:m,edges:v};h?.(R),_.getState().onSelectionChange.forEach(E=>E(R))},[m,v,h]),null});dy.displayName="SelectionListener";const rA=h=>!!h.onSelectionChange;function sA({onSelectionChange:h}){const _=kt(rA);return h||_?_e.createElement(dy,{onSelectionChange:h}):null}const oA=h=>({setNodes:h.setNodes,setEdges:h.setEdges,setDefaultNodesAndEdges:h.setDefaultNodesAndEdges,setMinZoom:h.setMinZoom,setMaxZoom:h.setMaxZoom,setTranslateExtent:h.setTranslateExtent,setNodeExtent:h.setNodeExtent,reset:h.reset});function uo(h,_){ie.useEffect(()=>{typeof h<"u"&&_(h)},[h])}function We(h,_,m){ie.useEffect(()=>{typeof _<"u"&&m({[h]:_})},[_])}const aA=({nodes:h,edges:_,defaultNodes:m,defaultEdges:v,onConnect:R,onConnectStart:E,onConnectEnd:y,onClickConnectStart:f,onClickConnectEnd:a,nodesDraggable:c,nodesConnectable:s,nodesFocusable:i,edgesFocusable:n,edgesUpdatable:r,elevateNodesOnSelect:l,minZoom:u,maxZoom:o,nodeExtent:d,onNodesChange:g,onEdgesChange:x,elementsSelectable:S,connectionMode:w,snapGrid:b,snapToGrid:k,translateExtent:A,connectOnClick:T,defaultEdgeOptions:j,fitView:F,fitViewOptions:N,onNodesDelete:$,onEdgesDelete:M,onNodeDrag:L,onNodeDragStart:D,onNodeDragStop:z,onSelectionDrag:B,onSelectionDragStart:P,onSelectionDragStop:U,noPanClassName:W,nodeOrigin:K,rfId:Y,autoPanOnConnect:X,autoPanOnNodeDrag:q,onError:J,connectionRadius:V,isValidConnection:Q,nodeDragThreshold:te})=>{const{setNodes:ne,setEdges:me,setDefaultNodesAndEdges:pe,setMinZoom:Se,setMaxZoom:ke,setTranslateExtent:Ae,setNodeExtent:Ue,reset:we}=kt(oA,_i),Ce=ri();return ie.useEffect(()=>{const at=v?.map($t=>({...$t,...j}));return pe(m,at),()=>{we()}},[]),We("defaultEdgeOptions",j,Ce.setState),We("connectionMode",w,Ce.setState),We("onConnect",R,Ce.setState),We("onConnectStart",E,Ce.setState),We("onConnectEnd",y,Ce.setState),We("onClickConnectStart",f,Ce.setState),We("onClickConnectEnd",a,Ce.setState),We("nodesDraggable",c,Ce.setState),We("nodesConnectable",s,Ce.setState),We("nodesFocusable",i,Ce.setState),We("edgesFocusable",n,Ce.setState),We("edgesUpdatable",r,Ce.setState),We("elementsSelectable",S,Ce.setState),We("elevateNodesOnSelect",l,Ce.setState),We("snapToGrid",k,Ce.setState),We("snapGrid",b,Ce.setState),We("onNodesChange",g,Ce.setState),We("onEdgesChange",x,Ce.setState),We("connectOnClick",T,Ce.setState),We("fitViewOnInit",F,Ce.setState),We("fitViewOnInitOptions",N,Ce.setState),We("onNodesDelete",$,Ce.setState),We("onEdgesDelete",M,Ce.setState),We("onNodeDrag",L,Ce.setState),We("onNodeDragStart",D,Ce.setState),We("onNodeDragStop",z,Ce.setState),We("onSelectionDrag",B,Ce.setState),We("onSelectionDragStart",P,Ce.setState),We("onSelectionDragStop",U,Ce.setState),We("noPanClassName",W,Ce.setState),We("nodeOrigin",K,Ce.setState),We("rfId",Y,Ce.setState),We("autoPanOnConnect",X,Ce.setState),We("autoPanOnNodeDrag",q,Ce.setState),We("onError",J,Ce.setState),We("connectionRadius",V,Ce.setState),We("isValidConnection",Q,Ce.setState),We("nodeDragThreshold",te,Ce.setState),uo(h,ne),uo(_,me),uo(u,Se),uo(o,ke),uo(A,Ae),uo(d,Ue),null},Wv={display:"none"},lA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fy="react-flow__node-desc",py="react-flow__edge-desc",cA="react-flow__aria-live",uA=h=>h.ariaLiveMessage;function hA({rfId:h}){const _=kt(uA);return _e.createElement("div",{id:`${cA}-${h}`,"aria-live":"assertive","aria-atomic":"true",style:lA},_)}function dA({rfId:h,disableKeyboardA11y:_}){return _e.createElement(_e.Fragment,null,_e.createElement("div",{id:`${fy}-${h}`,style:Wv},"Press enter or space to select a node.",!_&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),_e.createElement("div",{id:`${py}-${h}`,style:Wv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!_&&_e.createElement(hA,{rfId:h}))}var Ia=(h=null,_={actInsideInputWithModifier:!0})=>{const[m,v]=ie.useState(!1),R=ie.useRef(!1),E=ie.useRef(new Set([])),[y,f]=ie.useMemo(()=>{if(h!==null){const c=(Array.isArray(h)?h:[h]).filter(i=>typeof i=="string").map(i=>i.split("+")),s=c.reduce((i,n)=>i.concat(...n),[]);return[c,s]}return[[],[]]},[h]);return ie.useEffect(()=>{const a=typeof document<"u"?document:null,c=_?.target||a;if(h!==null){const s=r=>{if(R.current=r.ctrlKey||r.metaKey||r.shiftKey,(!R.current||R.current&&!_.actInsideInputWithModifier)&&Sd(r))return!1;const u=Vv(r.code,f);E.current.add(r[u]),Uv(y,E.current,!1)&&(r.preventDefault(),v(!0))},i=r=>{if((!R.current||R.current&&!_.actInsideInputWithModifier)&&Sd(r))return!1;const u=Vv(r.code,f);Uv(y,E.current,!0)?(v(!1),E.current.clear()):E.current.delete(r[u]),r.key==="Meta"&&E.current.clear(),R.current=!1},n=()=>{E.current.clear(),v(!1)};return c?.addEventListener("keydown",s),c?.addEventListener("keyup",i),window.addEventListener("blur",n),()=>{c?.removeEventListener("keydown",s),c?.removeEventListener("keyup",i),window.removeEventListener("blur",n)}}},[h,v]),m};function Uv(h,_,m){return h.filter(v=>m||v.length===_.size).some(v=>v.every(R=>_.has(R)))}function Vv(h,_){return _.includes(h)?"code":"key"}function gy(h,_,m,v){const R=h.parentNode||h.parentId;if(!R)return m;const E=_.get(R),y=_o(E,v);return gy(E,_,{x:(m.x??0)+y.x,y:(m.y??0)+y.y,z:(E[At]?.z??0)>(m.z??0)?E[At]?.z??0:m.z??0},v)}function my(h,_,m){h.forEach(v=>{const R=v.parentNode||v.parentId;if(R&&!h.has(R))throw new Error(`Parent node ${R} not found`);if(R||m?.[v.id]){const{x:E,y,z:f}=gy(v,h,{...v.position,z:v[At]?.z??0},_);v.positionAbsolute={x:E,y},v[At].z=f,m?.[v.id]&&(v[At].isParent=!0)}})}function cd(h,_,m,v){const R=new Map,E={},y=v?1e3:0;return h.forEach(f=>{const a=(Ki(f.zIndex)?f.zIndex:0)+(f.selected?y:0),c=_.get(f.id),s={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},i=f.parentNode||f.parentId;i&&(E[i]=!0);const n=c?.type&&c?.type!==f.type;Object.defineProperty(s,At,{enumerable:!1,value:{handleBounds:n?void 0:c?.[At]?.handleBounds,z:a}}),R.set(f.id,s)}),my(R,m,E),R}function vy(h,_={}){const{getNodes:m,width:v,height:R,minZoom:E,maxZoom:y,d3Zoom:f,d3Selection:a,fitViewOnInitDone:c,fitViewOnInit:s,nodeOrigin:i}=h(),n=_.initial&&!c&&s;if(f&&a&&(n||!_.initial)){const l=m().filter(o=>{const d=_.includeHiddenNodes?o.width&&o.height:!o.hidden;return _.nodes?.length?d&&_.nodes.some(g=>g.id===o.id):d}),u=l.every(o=>o.width&&o.height);if(l.length>0&&u){const o=Gd(l,i),{x:d,y:g,zoom:x}=iy(o,v,R,_.minZoom??E,_.maxZoom??y,_.padding??.1),S=Or.translate(d,g).scale(x);return typeof _.duration=="number"&&_.duration>0?f.transform(os(a,_.duration),S):f.transform(a,S),!0}}return!1}function fA(h,_){return h.forEach(m=>{const v=_.get(m.id);v&&_.set(v.id,{...v,[At]:v[At],selected:m.selected})}),new Map(_)}function pA(h,_){return _.map(m=>{const v=h.find(R=>R.id===m.id);return v&&(m.selected=v.selected),m})}function rc({changedNodes:h,changedEdges:_,get:m,set:v}){const{nodeInternals:R,edges:E,onNodesChange:y,onEdgesChange:f,hasDefaultNodes:a,hasDefaultEdges:c}=m();h?.length&&(a&&v({nodeInternals:fA(h,R)}),y?.(h)),_?.length&&(c&&v({edges:pA(_,E)}),f?.(_))}const ho=()=>{},gA={zoomIn:ho,zoomOut:ho,zoomTo:ho,getZoom:()=>1,setViewport:ho,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ho,fitBounds:ho,project:h=>h,screenToFlowPosition:h=>h,flowToScreenPosition:h=>h,viewportInitialized:!1},mA=h=>({d3Zoom:h.d3Zoom,d3Selection:h.d3Selection}),vA=()=>{const h=ri(),{d3Zoom:_,d3Selection:m}=kt(mA,_i);return ie.useMemo(()=>m&&_?{zoomIn:R=>_.scaleBy(os(m,R?.duration),1.2),zoomOut:R=>_.scaleBy(os(m,R?.duration),1/1.2),zoomTo:(R,E)=>_.scaleTo(os(m,E?.duration),R),getZoom:()=>h.getState().transform[2],setViewport:(R,E)=>{const[y,f,a]=h.getState().transform,c=Or.translate(R.x??y,R.y??f).scale(R.zoom??a);_.transform(os(m,E?.duration),c)},getViewport:()=>{const[R,E,y]=h.getState().transform;return{x:R,y:E,zoom:y}},fitView:R=>vy(h.getState,R),setCenter:(R,E,y)=>{const{width:f,height:a,maxZoom:c}=h.getState(),s=typeof y?.zoom<"u"?y.zoom:c,i=f/2-R*s,n=a/2-E*s,r=Or.translate(i,n).scale(s);_.transform(os(m,y?.duration),r)},fitBounds:(R,E)=>{const{width:y,height:f,minZoom:a,maxZoom:c}=h.getState(),{x:s,y:i,zoom:n}=iy(R,y,f,a,c,E?.padding??.1),r=Or.translate(s,i).scale(n);_.transform(os(m,E?.duration),r)},project:R=>{const{transform:E,snapToGrid:y,snapGrid:f}=h.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ad(R,E,y,f)},screenToFlowPosition:R=>{const{transform:E,snapToGrid:y,snapGrid:f,domNode:a}=h.getState();if(!a)return R;const{x:c,y:s}=a.getBoundingClientRect(),i={x:R.x-c,y:R.y-s};return Ad(i,E,y,f)},flowToScreenPosition:R=>{const{transform:E,domNode:y}=h.getState();if(!y)return R;const{x:f,y:a}=y.getBoundingClientRect(),c=J0(R,E);return{x:c.x+f,y:c.y+a}},viewportInitialized:!0}:gA,[_,m])};function yy(){const h=vA(),_=ri(),m=ie.useCallback(()=>_.getState().getNodes().map(u=>({...u})),[]),v=ie.useCallback(u=>_.getState().nodeInternals.get(u),[]),R=ie.useCallback(()=>{const{edges:u=[]}=_.getState();return u.map(o=>({...o}))},[]),E=ie.useCallback(u=>{const{edges:o=[]}=_.getState();return o.find(d=>d.id===u)},[]),y=ie.useCallback(u=>{const{getNodes:o,setNodes:d,hasDefaultNodes:g,onNodesChange:x}=_.getState(),S=o(),w=typeof u=="function"?u(S):u;if(g)d(w);else if(x){const b=w.length===0?S.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));x(b)}},[]),f=ie.useCallback(u=>{const{edges:o=[],setEdges:d,hasDefaultEdges:g,onEdgesChange:x}=_.getState(),S=typeof u=="function"?u(o):u;if(g)d(S);else if(x){const w=S.length===0?o.map(b=>({type:"remove",id:b.id})):S.map(b=>({item:b,type:"reset"}));x(w)}},[]),a=ie.useCallback(u=>{const o=Array.isArray(u)?u:[u],{getNodes:d,setNodes:g,hasDefaultNodes:x,onNodesChange:S}=_.getState();if(x){const b=[...d(),...o];g(b)}else if(S){const w=o.map(b=>({item:b,type:"add"}));S(w)}},[]),c=ie.useCallback(u=>{const o=Array.isArray(u)?u:[u],{edges:d=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:S}=_.getState();if(x)g([...d,...o]);else if(S){const w=o.map(b=>({item:b,type:"add"}));S(w)}},[]),s=ie.useCallback(()=>{const{getNodes:u,edges:o=[],transform:d}=_.getState(),[g,x,S]=d;return{nodes:u().map(w=>({...w})),edges:o.map(w=>({...w})),viewport:{x:g,y:x,zoom:S}}},[]),i=ie.useCallback(({nodes:u,edges:o})=>{const{nodeInternals:d,getNodes:g,edges:x,hasDefaultNodes:S,hasDefaultEdges:w,onNodesDelete:b,onEdgesDelete:k,onNodesChange:A,onEdgesChange:T}=_.getState(),j=(u||[]).map(L=>L.id),F=(o||[]).map(L=>L.id),N=g().reduce((L,D)=>{const z=D.parentNode||D.parentId,B=!j.includes(D.id)&&z&&L.find(U=>U.id===z);return(typeof D.deletable!="boolean"||D.deletable)&&(j.includes(D.id)||B)&&L.push(D),L},[]),$=x.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),M=$.filter(L=>F.includes(L.id));if(N||M){const L=ty(N,$),D=[...M,...L],z=D.reduce((B,P)=>(B.includes(P.id)||B.push(P.id),B),[]);if((w||S)&&(w&&_.setState({edges:x.filter(B=>!z.includes(B.id))}),S&&(N.forEach(B=>{d.delete(B.id)}),_.setState({nodeInternals:new Map(d)}))),z.length>0&&(k?.(D),T&&T(z.map(B=>({id:B,type:"remove"})))),N.length>0&&(b?.(N),A)){const B=N.map(P=>({id:P.id,type:"remove"}));A(B)}}},[]),n=ie.useCallback(u=>{const o=BE(u),d=o?null:_.getState().nodeInternals.get(u.id);return!o&&!d?[null,null,o]:[o?u:jv(d),d,o]},[]),r=ie.useCallback((u,o=!0,d)=>{const[g,x,S]=n(u);return g?(d||_.getState().getNodes()).filter(w=>{if(!S&&(w.id===x.id||!w.positionAbsolute))return!1;const b=jv(w),k=wd(b,g);return o&&k>0||k>=g.width*g.height}):[]},[]),l=ie.useCallback((u,o,d=!0)=>{const[g]=n(u);if(!g)return!1;const x=wd(g,o);return d&&x>0||x>=g.width*g.height},[]);return ie.useMemo(()=>({...h,getNodes:m,getNode:v,getEdges:R,getEdge:E,setNodes:y,setEdges:f,addNodes:a,addEdges:c,toObject:s,deleteElements:i,getIntersectingNodes:r,isNodeIntersecting:l}),[h,m,v,R,E,y,f,a,c,s,i,r,l])}const yA={actInsideInputWithModifier:!1};var bA=({deleteKeyCode:h,multiSelectionKeyCode:_})=>{const m=ri(),{deleteElements:v}=yy(),R=Ia(h,yA),E=Ia(_);ie.useEffect(()=>{if(R){const{edges:y,getNodes:f}=m.getState(),a=f().filter(s=>s.selected),c=y.filter(s=>s.selected);v({nodes:a,edges:c}),m.setState({nodesSelectionActive:!1})}},[R]),ie.useEffect(()=>{m.setState({multiSelectionActive:E})},[E])};function _A(h){const _=ri();ie.useEffect(()=>{let m;const v=()=>{if(!h.current)return;const R=Bd(h.current);(R.height===0||R.width===0)&&_.getState().onError?.("004",Jn.error004()),_.setState({width:R.width||500,height:R.height||500})};return v(),window.addEventListener("resize",v),h.current&&(m=new ResizeObserver(()=>v()),m.observe(h.current)),()=>{window.removeEventListener("resize",v),m&&h.current&&m.unobserve(h.current)}},[])}const Xd={position:"absolute",width:"100%",height:"100%",top:0,left:0},xA=(h,_)=>h.x!==_.x||h.y!==_.y||h.zoom!==_.k,sc=h=>({x:h.x,y:h.y,zoom:h.k}),fo=(h,_)=>h.target.closest(`.${_}`),Gv=(h,_)=>_===2&&Array.isArray(h)&&h.includes(2),Kv=h=>{const _=h.ctrlKey&&bc()?10:1;return-h.deltaY*(h.deltaMode===1?.05:h.deltaMode?1:.002)*_},wA=h=>({d3Zoom:h.d3Zoom,d3Selection:h.d3Selection,d3ZoomHandler:h.d3ZoomHandler,userSelectionActive:h.userSelectionActive}),SA=({onMove:h,onMoveStart:_,onMoveEnd:m,onPaneContextMenu:v,zoomOnScroll:R=!0,zoomOnPinch:E=!0,panOnScroll:y=!1,panOnScrollSpeed:f=.5,panOnScrollMode:a=cs.Free,zoomOnDoubleClick:c=!0,elementsSelectable:s,panOnDrag:i=!0,defaultViewport:n,translateExtent:r,minZoom:l,maxZoom:u,zoomActivationKeyCode:o,preventScrolling:d=!0,children:g,noWheelClassName:x,noPanClassName:S})=>{const w=ie.useRef(),b=ri(),k=ie.useRef(!1),A=ie.useRef(!1),T=ie.useRef(null),j=ie.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:N,d3ZoomHandler:$,userSelectionActive:M}=kt(wA,_i),L=Ia(o),D=ie.useRef(0),z=ie.useRef(!1),B=ie.useRef();return _A(T),ie.useEffect(()=>{if(T.current){const P=T.current.getBoundingClientRect(),U=TE().scaleExtent([l,u]).translateExtent(r),W=pn(T.current).call(U),K=Or.translate(n.x,n.y).scale(Co(n.zoom,l,u)),Y=[[0,0],[P.width,P.height]],X=U.constrain()(K,Y,r);U.transform(W,X),U.wheelDelta(Kv),b.setState({d3Zoom:U,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:T.current.closest(".react-flow")})}},[]),ie.useEffect(()=>{N&&F&&(y&&!L&&!M?N.on("wheel.zoom",P=>{if(fo(P,x))return!1;P.preventDefault(),P.stopImmediatePropagation();const U=N.property("__zoom").k||1;if(P.ctrlKey&&E){const Q=Cn(P),te=Kv(P),ne=U*Math.pow(2,te);F.scaleTo(N,ne,Q,P);return}const W=P.deltaMode===1?20:1;let K=a===cs.Vertical?0:P.deltaX*W,Y=a===cs.Horizontal?0:P.deltaY*W;!bc()&&P.shiftKey&&a!==cs.Vertical&&(K=P.deltaY*W,Y=0),F.translateBy(N,-(K/U)*f,-(Y/U)*f,{internal:!0});const X=sc(N.property("__zoom")),{onViewportChangeStart:q,onViewportChange:J,onViewportChangeEnd:V}=b.getState();clearTimeout(B.current),z.current||(z.current=!0,_?.(P,X),q?.(X)),z.current&&(h?.(P,X),J?.(X),B.current=setTimeout(()=>{m?.(P,X),V?.(X),z.current=!1},150))},{passive:!1}):typeof $<"u"&&N.on("wheel.zoom",function(P,U){if(!d&&P.type==="wheel"&&!P.ctrlKey||fo(P,x))return null;P.preventDefault(),$.call(this,P,U)},{passive:!1}))},[M,y,a,N,F,$,L,E,d,x,_,h,m]),ie.useEffect(()=>{F&&F.on("start",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;D.current=P.sourceEvent?.button;const{onViewportChangeStart:U}=b.getState(),W=sc(P.transform);k.current=!0,j.current=W,P.sourceEvent?.type==="mousedown"&&b.setState({paneDragging:!0}),U?.(W),_?.(P.sourceEvent,W)})},[F,_]),ie.useEffect(()=>{F&&(M&&!k.current?F.on("zoom",null):M||F.on("zoom",P=>{const{onViewportChange:U}=b.getState();if(b.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),A.current=!!(v&&Gv(i,D.current??0)),(h||U)&&!P.sourceEvent?.internal){const W=sc(P.transform);U?.(W),h?.(P.sourceEvent,W)}}))},[M,F,h,i,v]),ie.useEffect(()=>{F&&F.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:U}=b.getState();if(k.current=!1,b.setState({paneDragging:!1}),v&&Gv(i,D.current??0)&&!A.current&&v(P.sourceEvent),A.current=!1,(m||U)&&xA(j.current,P.transform)){const W=sc(P.transform);j.current=W,clearTimeout(w.current),w.current=setTimeout(()=>{U?.(W),m?.(P.sourceEvent,W)},y?150:0)}})},[F,y,i,m,v]),ie.useEffect(()=>{F&&F.filter(P=>{const U=L||R,W=E&&P.ctrlKey;if((i===!0||Array.isArray(i)&&i.includes(1))&&P.button===1&&P.type==="mousedown"&&(fo(P,"react-flow__node")||fo(P,"react-flow__edge")))return!0;if(!i&&!U&&!y&&!c&&!E||M||!c&&P.type==="dblclick"||fo(P,x)&&P.type==="wheel"||fo(P,S)&&(P.type!=="wheel"||y&&P.type==="wheel"&&!L)||!E&&P.ctrlKey&&P.type==="wheel"||!U&&!y&&!W&&P.type==="wheel"||!i&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(i)&&!i.includes(P.button)&&P.type==="mousedown")return!1;const K=Array.isArray(i)&&i.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&K})},[M,F,R,E,y,c,i,s,L]),_e.createElement("div",{className:"react-flow__renderer",ref:T,style:Xd},g)},CA=h=>({userSelectionActive:h.userSelectionActive,userSelectionRect:h.userSelectionRect});function EA(){const{userSelectionActive:h,userSelectionRect:_}=kt(CA,_i);return h&&_?_e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:_.width,height:_.height,transform:`translate(${_.x}px, ${_.y}px)`}}):null}function Yv(h,_){const m=_.parentNode||_.parentId,v=h.find(R=>R.id===m);if(v){const R=_.position.x+_.width-v.width,E=_.position.y+_.height-v.height;if(R>0||E>0||_.position.x<0||_.position.y<0){if(v.style={...v.style},v.style.width=v.style.width??v.width,v.style.height=v.style.height??v.height,R>0&&(v.style.width+=R),E>0&&(v.style.height+=E),_.position.x<0){const y=Math.abs(_.position.x);v.position.x=v.position.x-y,v.style.width+=y,_.position.x=0}if(_.position.y<0){const y=Math.abs(_.position.y);v.position.y=v.position.y-y,v.style.height+=y,_.position.y=0}v.width=v.style.width,v.height=v.style.height}}}function by(h,_){if(h.some(v=>v.type==="reset"))return h.filter(v=>v.type==="reset").map(v=>v.item);const m=h.filter(v=>v.type==="add").map(v=>v.item);return _.reduce((v,R)=>{const E=h.filter(f=>f.id===R.id);if(E.length===0)return v.push(R),v;const y={...R};for(const f of E)if(f)switch(f.type){case"select":{y.selected=f.selected;break}case"position":{typeof f.position<"u"&&(y.position=f.position),typeof f.positionAbsolute<"u"&&(y.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(y.dragging=f.dragging),y.expandParent&&Yv(v,y);break}case"dimensions":{typeof f.dimensions<"u"&&(y.width=f.dimensions.width,y.height=f.dimensions.height),typeof f.updateStyle<"u"&&(y.style={...y.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(y.resizing=f.resizing),y.expandParent&&Yv(v,y);break}case"remove":return v}return v.push(y),v},m)}function _y(h,_){return by(h,_)}function AA(h,_){return by(h,_)}const $r=(h,_)=>({id:h,type:"select",selected:_});function go(h,_){return h.reduce((m,v)=>{const R=_.includes(v.id);return!v.selected&&R?(v.selected=!0,m.push($r(v.id,!0))):v.selected&&!R&&(v.selected=!1,m.push($r(v.id,!1))),m},[])}const ud=(h,_)=>m=>{m.target===_.current&&h?.(m)},kA=h=>({userSelectionActive:h.userSelectionActive,elementsSelectable:h.elementsSelectable,dragging:h.paneDragging}),xy=ie.memo(({isSelecting:h,selectionMode:_=ja.Full,panOnDrag:m,onSelectionStart:v,onSelectionEnd:R,onPaneClick:E,onPaneContextMenu:y,onPaneScroll:f,onPaneMouseEnter:a,onPaneMouseMove:c,onPaneMouseLeave:s,children:i})=>{const n=ie.useRef(null),r=ri(),l=ie.useRef(0),u=ie.useRef(0),o=ie.useRef(),{userSelectionActive:d,elementsSelectable:g,dragging:x}=kt(kA,_i),S=()=>{r.setState({userSelectionActive:!1,userSelectionRect:null}),l.current=0,u.current=0},w=$=>{E?.($),r.getState().resetSelectedElements(),r.setState({nodesSelectionActive:!1})},b=$=>{if(Array.isArray(m)&&m?.includes(2)){$.preventDefault();return}y?.($)},k=f?$=>f($):void 0,A=$=>{const{resetSelectedElements:M,domNode:L}=r.getState();if(o.current=L?.getBoundingClientRect(),!g||!h||$.button!==0||$.target!==n.current||!o.current)return;const{x:D,y:z}=jr($,o.current);M(),r.setState({userSelectionRect:{width:0,height:0,startX:D,startY:z,x:D,y:z}}),v?.($)},T=$=>{const{userSelectionRect:M,nodeInternals:L,edges:D,transform:z,onNodesChange:B,onEdgesChange:P,nodeOrigin:U,getNodes:W}=r.getState();if(!h||!o.current||!M)return;r.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=jr($,o.current),Y=M.startX??0,X=M.startY??0,q={...M,x:K.x<Y?K.x:Y,y:K.y<X?K.y:X,width:Math.abs(K.x-Y),height:Math.abs(K.y-X)},J=W(),V=ey(L,q,z,_===ja.Partial,!0,U),Q=ty(V,D).map(ne=>ne.id),te=V.map(ne=>ne.id);if(l.current!==te.length){l.current=te.length;const ne=go(J,te);ne.length&&B?.(ne)}if(u.current!==Q.length){u.current=Q.length;const ne=go(D,Q);ne.length&&P?.(ne)}r.setState({userSelectionRect:q})},j=$=>{if($.button!==0)return;const{userSelectionRect:M}=r.getState();!d&&M&&$.target===n.current&&w?.($),r.setState({nodesSelectionActive:l.current>0}),S(),R?.($)},F=$=>{d&&(r.setState({nodesSelectionActive:l.current>0}),R?.($)),S()},N=g&&(h||d);return _e.createElement("div",{className:qi(["react-flow__pane",{dragging:x,selection:h}]),onClick:N?void 0:ud(w,n),onContextMenu:ud(b,n),onWheel:ud(k,n),onMouseEnter:N?void 0:a,onMouseDown:N?A:void 0,onMouseMove:N?T:c,onMouseUp:N?j:void 0,onMouseLeave:N?F:s,ref:n,style:Xd},i,_e.createElement(EA,null))});xy.displayName="Pane";function wy(h,_){const m=h.parentNode||h.parentId;if(!m)return!1;const v=_.get(m);return v?v.selected?!0:wy(v,_):!1}function Xv(h,_,m){let v=h;do{if(v?.matches(_))return!0;if(v===m.current)return!1;v=v.parentElement}while(v);return!1}function TA(h,_,m,v){return Array.from(h.values()).filter(R=>(R.selected||R.id===v)&&(!R.parentNode||R.parentId||!wy(R,h))&&(R.draggable||_&&typeof R.draggable>"u")).map(R=>({id:R.id,position:R.position||{x:0,y:0},positionAbsolute:R.positionAbsolute||{x:0,y:0},distance:{x:m.x-(R.positionAbsolute?.x??0),y:m.y-(R.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:R.extent,parentNode:R.parentNode||R.parentId,parentId:R.parentNode||R.parentId,width:R.width,height:R.height,expandParent:R.expandParent}))}function MA(h,_){return!_||_==="parent"?_:[_[0],[_[1][0]-(h.width||0),_[1][1]-(h.height||0)]]}function Sy(h,_,m,v,R=[0,0],E){const y=MA(h,h.extent||v);let f=y;const a=h.parentNode||h.parentId;if(h.extent==="parent"&&!h.expandParent)if(a&&h.width&&h.height){const i=m.get(a),{x:n,y:r}=_o(i,R).positionAbsolute;f=i&&Ki(n)&&Ki(r)&&Ki(i.width)&&Ki(i.height)?[[n+h.width*R[0],r+h.height*R[1]],[n+i.width-h.width+h.width*R[0],r+i.height-h.height+h.height*R[1]]]:f}else E?.("005",Jn.error005()),f=y;else if(h.extent&&a&&h.extent!=="parent"){const i=m.get(a),{x:n,y:r}=_o(i,R).positionAbsolute;f=[[h.extent[0][0]+n,h.extent[0][1]+r],[h.extent[1][0]+n,h.extent[1][1]+r]]}let c={x:0,y:0};if(a){const i=m.get(a);c=_o(i,R).positionAbsolute}const s=f&&f!=="parent"?Hd(_,f):_;return{position:{x:s.x-c.x,y:s.y-c.y},positionAbsolute:s}}function hd({nodeId:h,dragItems:_,nodeInternals:m}){const v=_.map(R=>({...m.get(R.id),position:R.position,positionAbsolute:R.positionAbsolute}));return[h?v.find(R=>R.id===h):v[0],v]}const qv=(h,_,m,v)=>{const R=_.querySelectorAll(h);if(!R||!R.length)return null;const E=Array.from(R),y=_.getBoundingClientRect(),f={x:y.width*v[0],y:y.height*v[1]};return E.map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(c.left-y.left-f.x)/m,y:(c.top-y.top-f.y)/m,...Bd(a)}})};function Ea(h,_,m){return m===void 0?m:v=>{const R=_().nodeInternals.get(h);R&&m(v,{...R})}}function Td({id:h,store:_,unselect:m=!1,nodeRef:v}){const{addSelectedNodes:R,unselectNodesAndEdges:E,multiSelectionActive:y,nodeInternals:f,onError:a}=_.getState(),c=f.get(h);if(!c){a?.("012",Jn.error012(h));return}_.setState({nodesSelectionActive:!1}),c.selected?(m||c.selected&&y)&&(E({nodes:[c],edges:[]}),requestAnimationFrame(()=>v?.current?.blur())):R([h])}function LA(){const h=ri();return ie.useCallback(({sourceEvent:m})=>{const{transform:v,snapGrid:R,snapToGrid:E}=h.getState(),y=m.touches?m.touches[0].clientX:m.clientX,f=m.touches?m.touches[0].clientY:m.clientY,a={x:(y-v[0])/v[2],y:(f-v[1])/v[2]};return{xSnapped:E?R[0]*Math.round(a.x/R[0]):a.x,ySnapped:E?R[1]*Math.round(a.y/R[1]):a.y,...a}},[])}function dd(h){return(_,m,v)=>h?.(_,v)}function Cy({nodeRef:h,disabled:_=!1,noDragClassName:m,handleSelector:v,nodeId:R,isSelectable:E,selectNodesOnDrag:y}){const f=ri(),[a,c]=ie.useState(!1),s=ie.useRef([]),i=ie.useRef({x:null,y:null}),n=ie.useRef(0),r=ie.useRef(null),l=ie.useRef({x:0,y:0}),u=ie.useRef(null),o=ie.useRef(!1),d=ie.useRef(!1),g=ie.useRef(!1),x=LA();return ie.useEffect(()=>{if(h?.current){const S=pn(h.current),w=({x:A,y:T})=>{const{nodeInternals:j,onNodeDrag:F,onSelectionDrag:N,updateNodePositions:$,nodeExtent:M,snapGrid:L,snapToGrid:D,nodeOrigin:z,onError:B}=f.getState();i.current={x:A,y:T};let P=!1,U={x:0,y:0,x2:0,y2:0};if(s.current.length>1&&M){const K=Gd(s.current,z);U=zd(K)}if(s.current=s.current.map(K=>{const Y={x:A-K.distance.x,y:T-K.distance.y};D&&(Y.x=L[0]*Math.round(Y.x/L[0]),Y.y=L[1]*Math.round(Y.y/L[1]));const X=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];s.current.length>1&&M&&!K.extent&&(X[0][0]=K.positionAbsolute.x-U.x+M[0][0],X[1][0]=K.positionAbsolute.x+(K.width??0)-U.x2+M[1][0],X[0][1]=K.positionAbsolute.y-U.y+M[0][1],X[1][1]=K.positionAbsolute.y+(K.height??0)-U.y2+M[1][1]);const q=Sy(K,Y,j,X,z,B);return P=P||K.position.x!==q.position.x||K.position.y!==q.position.y,K.position=q.position,K.positionAbsolute=q.positionAbsolute,K}),!P)return;$(s.current,!0,!0),c(!0);const W=R?F:dd(N);if(W&&u.current){const[K,Y]=hd({nodeId:R,dragItems:s.current,nodeInternals:j});W(u.current,K,Y)}},b=()=>{if(!r.current)return;const[A,T]=V0(l.current,r.current);if(A!==0||T!==0){const{transform:j,panBy:F}=f.getState();i.current.x=(i.current.x??0)-A/j[2],i.current.y=(i.current.y??0)-T/j[2],F({x:A,y:T})&&w(i.current)}n.current=requestAnimationFrame(b)},k=A=>{const{nodeInternals:T,multiSelectionActive:j,nodesDraggable:F,unselectNodesAndEdges:N,onNodeDragStart:$,onSelectionDragStart:M}=f.getState();d.current=!0;const L=R?$:dd(M);(!y||!E)&&!j&&R&&(T.get(R)?.selected||N()),R&&E&&y&&Td({id:R,store:f,nodeRef:h});const D=x(A);if(i.current=D,s.current=TA(T,F,D,R),L&&s.current){const[z,B]=hd({nodeId:R,dragItems:s.current,nodeInternals:T});L(A.sourceEvent,z,B)}};if(_)S.on(".drag",null);else{const A=BC().on("start",T=>{const{domNode:j,nodeDragThreshold:F}=f.getState();F===0&&k(T),g.current=!1;const N=x(T);i.current=N,r.current=j?.getBoundingClientRect()||null,l.current=jr(T.sourceEvent,r.current)}).on("drag",T=>{const j=x(T),{autoPanOnNodeDrag:F,nodeDragThreshold:N}=f.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!o.current&&d.current&&F&&(o.current=!0,b()),!d.current){const $=j.xSnapped-(i?.current?.x??0),M=j.ySnapped-(i?.current?.y??0);Math.sqrt($*$+M*M)>N&&k(T)}(i.current.x!==j.xSnapped||i.current.y!==j.ySnapped)&&s.current&&d.current&&(u.current=T.sourceEvent,l.current=jr(T.sourceEvent,r.current),w(j))}}).on("end",T=>{if(!(!d.current||g.current)&&(c(!1),o.current=!1,d.current=!1,cancelAnimationFrame(n.current),s.current)){const{updateNodePositions:j,nodeInternals:F,onNodeDragStop:N,onSelectionDragStop:$}=f.getState(),M=R?N:dd($);if(j(s.current,!1,!1),M){const[L,D]=hd({nodeId:R,dragItems:s.current,nodeInternals:F});M(T.sourceEvent,L,D)}}}).filter(T=>{const j=T.target;return!T.button&&(!m||!Xv(j,`.${m}`,h))&&(!v||Xv(j,v,h))});return S.call(A),()=>{S.on(".drag",null)}}}},[h,_,m,v,E,f,R,y,x]),a}function Ey(){const h=ri();return ie.useCallback(m=>{const{nodeInternals:v,nodeExtent:R,updateNodePositions:E,getNodes:y,snapToGrid:f,snapGrid:a,onError:c,nodesDraggable:s}=h.getState(),i=y().filter(g=>g.selected&&(g.draggable||s&&typeof g.draggable>"u")),n=f?a[0]:5,r=f?a[1]:5,l=m.isShiftPressed?4:1,u=m.x*n*l,o=m.y*r*l,d=i.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+u,y:g.positionAbsolute.y+o};f&&(x.x=a[0]*Math.round(x.x/a[0]),x.y=a[1]*Math.round(x.y/a[1]));const{positionAbsolute:S,position:w}=Sy(g,x,v,R,void 0,c);g.position=w,g.positionAbsolute=S}return g});E(d,!0,!1)},[])}const xo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Aa=h=>{const _=({id:m,type:v,data:R,xPos:E,yPos:y,xPosOrigin:f,yPosOrigin:a,selected:c,onClick:s,onMouseEnter:i,onMouseMove:n,onMouseLeave:r,onContextMenu:l,onDoubleClick:u,style:o,className:d,isDraggable:g,isSelectable:x,isConnectable:S,isFocusable:w,selectNodesOnDrag:b,sourcePosition:k,targetPosition:A,hidden:T,resizeObserver:j,dragHandle:F,zIndex:N,isParent:$,noDragClassName:M,noPanClassName:L,initialized:D,disableKeyboardA11y:z,ariaLabel:B,rfId:P,hasHandleBounds:U})=>{const W=ri(),K=ie.useRef(null),Y=ie.useRef(null),X=ie.useRef(k),q=ie.useRef(A),J=ie.useRef(v),V=x||g||s||i||n||r,Q=Ey(),te=Ea(m,W.getState,i),ne=Ea(m,W.getState,n),me=Ea(m,W.getState,r),pe=Ea(m,W.getState,l),Se=Ea(m,W.getState,u),ke=we=>{const{nodeDragThreshold:Ce}=W.getState();if(x&&(!b||!g||Ce>0)&&Td({id:m,store:W,nodeRef:K}),s){const at=W.getState().nodeInternals.get(m);at&&s(we,{...at})}},Ae=we=>{if(!Sd(we)&&!z)if(K0.includes(we.key)&&x){const Ce=we.key==="Escape";Td({id:m,store:W,unselect:Ce,nodeRef:K})}else g&&c&&Object.prototype.hasOwnProperty.call(xo,we.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${we.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E}, y: ${~~y}`}),Q({x:xo[we.key].x,y:xo[we.key].y,isShiftPressed:we.shiftKey}))};ie.useEffect(()=>()=>{Y.current&&(j?.unobserve(Y.current),Y.current=null)},[]),ie.useEffect(()=>{if(K.current&&!T){const we=K.current;(!D||!U||Y.current!==we)&&(Y.current&&j?.unobserve(Y.current),j?.observe(we),Y.current=we)}},[T,D,U]),ie.useEffect(()=>{const we=J.current!==v,Ce=X.current!==k,at=q.current!==A;K.current&&(we||Ce||at)&&(we&&(J.current=v),Ce&&(X.current=k),at&&(q.current=A),W.getState().updateNodeDimensions([{id:m,nodeElement:K.current,forceUpdate:!0}]))},[m,v,k,A]);const Ue=Cy({nodeRef:K,disabled:T||!g,noDragClassName:M,handleSelector:F,nodeId:m,isSelectable:x,selectNodesOnDrag:b});return T?null:_e.createElement("div",{className:qi(["react-flow__node",`react-flow__node-${v}`,{[L]:g},d,{selected:c,selectable:x,parent:$,dragging:Ue}]),ref:K,style:{zIndex:N,transform:`translate(${f}px,${a}px)`,pointerEvents:V?"all":"none",visibility:D?"visible":"hidden",...o},"data-id":m,"data-testid":`rf__node-${m}`,onMouseEnter:te,onMouseMove:ne,onMouseLeave:me,onContextMenu:pe,onClick:ke,onDoubleClick:Se,onKeyDown:w?Ae:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":z?void 0:`${fy}-${P}`,"aria-label":B},_e.createElement(VE,{value:m},_e.createElement(h,{id:m,data:R,type:v,xPos:E,yPos:y,selected:c,isConnectable:S,sourcePosition:k,targetPosition:A,dragging:Ue,dragHandle:F,zIndex:N})))};return _.displayName="NodeWrapper",ie.memo(_)};const RA=h=>{const _=h.getNodes().filter(m=>m.selected);return{...Gd(_,h.nodeOrigin),transformString:`translate(${h.transform[0]}px,${h.transform[1]}px) scale(${h.transform[2]})`,userSelectionActive:h.userSelectionActive}};function NA({onSelectionContextMenu:h,noPanClassName:_,disableKeyboardA11y:m}){const v=ri(),{width:R,height:E,x:y,y:f,transformString:a,userSelectionActive:c}=kt(RA,_i),s=Ey(),i=ie.useRef(null);if(ie.useEffect(()=>{m||i.current?.focus({preventScroll:!0})},[m]),Cy({nodeRef:i}),c||!R||!E)return null;const n=h?l=>{const u=v.getState().getNodes().filter(o=>o.selected);h(l,u)}:void 0,r=l=>{Object.prototype.hasOwnProperty.call(xo,l.key)&&s({x:xo[l.key].x,y:xo[l.key].y,isShiftPressed:l.shiftKey})};return _e.createElement("div",{className:qi(["react-flow__nodesselection","react-flow__container",_]),style:{transform:a}},_e.createElement("div",{ref:i,className:"react-flow__nodesselection-rect",onContextMenu:n,tabIndex:m?void 0:-1,onKeyDown:m?void 0:r,style:{width:R,height:E,top:f,left:y}}))}var $A=ie.memo(NA);const DA=h=>h.nodesSelectionActive,Ay=({children:h,onPaneClick:_,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:R,onPaneContextMenu:E,onPaneScroll:y,deleteKeyCode:f,onMove:a,onMoveStart:c,onMoveEnd:s,selectionKeyCode:i,selectionOnDrag:n,selectionMode:r,onSelectionStart:l,onSelectionEnd:u,multiSelectionKeyCode:o,panActivationKeyCode:d,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:b,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:j,defaultViewport:F,translateExtent:N,minZoom:$,maxZoom:M,preventScrolling:L,onSelectionContextMenu:D,noWheelClassName:z,noPanClassName:B,disableKeyboardA11y:P})=>{const U=kt(DA),W=Ia(i),K=Ia(d),Y=K||j,X=K||b,q=W||n&&Y!==!0;return bA({deleteKeyCode:f,multiSelectionKeyCode:o}),_e.createElement(SA,{onMove:a,onMoveStart:c,onMoveEnd:s,onPaneContextMenu:E,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!W&&Y,defaultViewport:F,translateExtent:N,minZoom:$,maxZoom:M,zoomActivationKeyCode:g,preventScrolling:L,noWheelClassName:z,noPanClassName:B},_e.createElement(xy,{onSelectionStart:l,onSelectionEnd:u,onPaneClick:_,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:R,onPaneContextMenu:E,onPaneScroll:y,panOnDrag:Y,isSelecting:!!q,selectionMode:r},h,U&&_e.createElement($A,{onSelectionContextMenu:D,noPanClassName:B,disableKeyboardA11y:P})))};Ay.displayName="FlowRenderer";var OA=ie.memo(Ay);function jA(h){return kt(ie.useCallback(m=>h?ey(m.nodeInternals,{x:0,y:0,width:m.width,height:m.height},m.transform,!0):m.getNodes(),[h]))}function IA(h){const _={input:Aa(h.input||cy),default:Aa(h.default||kd),output:Aa(h.output||hy),group:Aa(h.group||Yd)},m={},v=Object.keys(h).filter(R=>!["input","default","output","group"].includes(R)).reduce((R,E)=>(R[E]=Aa(h[E]||kd),R),m);return{..._,...v}}const BA=({x:h,y:_,width:m,height:v,origin:R})=>!m||!v?{x:h,y:_}:R[0]<0||R[1]<0||R[0]>1||R[1]>1?{x:h,y:_}:{x:h-m*R[0],y:_-v*R[1]},HA=h=>({nodesDraggable:h.nodesDraggable,nodesConnectable:h.nodesConnectable,nodesFocusable:h.nodesFocusable,elementsSelectable:h.elementsSelectable,updateNodeDimensions:h.updateNodeDimensions,onError:h.onError}),ky=h=>{const{nodesDraggable:_,nodesConnectable:m,nodesFocusable:v,elementsSelectable:R,updateNodeDimensions:E,onError:y}=kt(HA,_i),f=jA(h.onlyRenderVisibleElements),a=ie.useRef(),c=ie.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const s=new ResizeObserver(i=>{const n=i.map(r=>({id:r.target.getAttribute("data-id"),nodeElement:r.target,forceUpdate:!0}));E(n)});return a.current=s,s},[]);return ie.useEffect(()=>()=>{a?.current?.disconnect()},[]),_e.createElement("div",{className:"react-flow__nodes",style:Xd},f.map(s=>{let i=s.type||"default";h.nodeTypes[i]||(y?.("003",Jn.error003(i)),i="default");const n=h.nodeTypes[i]||h.nodeTypes.default,r=!!(s.draggable||_&&typeof s.draggable>"u"),l=!!(s.selectable||R&&typeof s.selectable>"u"),u=!!(s.connectable||m&&typeof s.connectable>"u"),o=!!(s.focusable||v&&typeof s.focusable>"u"),d=h.nodeExtent?Hd(s.positionAbsolute,h.nodeExtent):s.positionAbsolute,g=d?.x??0,x=d?.y??0,S=BA({x:g,y:x,width:s.width??0,height:s.height??0,origin:h.nodeOrigin});return _e.createElement(n,{key:s.id,id:s.id,className:s.className,style:s.style,type:i,data:s.data,sourcePosition:s.sourcePosition||Le.Bottom,targetPosition:s.targetPosition||Le.Top,hidden:s.hidden,xPos:g,yPos:x,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:h.selectNodesOnDrag,onClick:h.onNodeClick,onMouseEnter:h.onNodeMouseEnter,onMouseMove:h.onNodeMouseMove,onMouseLeave:h.onNodeMouseLeave,onContextMenu:h.onNodeContextMenu,onDoubleClick:h.onNodeDoubleClick,selected:!!s.selected,isDraggable:r,isSelectable:l,isConnectable:u,isFocusable:o,resizeObserver:c,dragHandle:s.dragHandle,zIndex:s[At]?.z??0,isParent:!!s[At]?.isParent,noDragClassName:h.noDragClassName,noPanClassName:h.noPanClassName,initialized:!!s.width&&!!s.height,rfId:h.rfId,disableKeyboardA11y:h.disableKeyboardA11y,ariaLabel:s.ariaLabel,hasHandleBounds:!!s[At]?.handleBounds})}))};ky.displayName="NodeRenderer";var zA=ie.memo(ky);const FA=(h,_,m)=>m===Le.Left?h-_:m===Le.Right?h+_:h,PA=(h,_,m)=>m===Le.Top?h-_:m===Le.Bottom?h+_:h,Zv="react-flow__edgeupdater",Qv=({position:h,centerX:_,centerY:m,radius:v=10,onMouseDown:R,onMouseEnter:E,onMouseOut:y,type:f})=>_e.createElement("circle",{onMouseDown:R,onMouseEnter:E,onMouseOut:y,className:qi([Zv,`${Zv}-${f}`]),cx:FA(_,v,h),cy:PA(m,v,h),r:v,stroke:"transparent",fill:"transparent"}),WA=()=>!0;var po=h=>{const _=({id:m,className:v,type:R,data:E,onClick:y,onEdgeDoubleClick:f,selected:a,animated:c,label:s,labelStyle:i,labelShowBg:n,labelBgStyle:r,labelBgPadding:l,labelBgBorderRadius:u,style:o,source:d,target:g,sourceX:x,sourceY:S,targetX:w,targetY:b,sourcePosition:k,targetPosition:A,elementsSelectable:T,hidden:j,sourceHandleId:F,targetHandleId:N,onContextMenu:$,onMouseEnter:M,onMouseMove:L,onMouseLeave:D,reconnectRadius:z,onReconnect:B,onReconnectStart:P,onReconnectEnd:U,markerEnd:W,markerStart:K,rfId:Y,ariaLabel:X,isFocusable:q,isReconnectable:J,pathOptions:V,interactionWidth:Q,disableKeyboardA11y:te})=>{const ne=ie.useRef(null),[me,pe]=ie.useState(!1),[Se,ke]=ie.useState(!1),Ae=ri(),Ue=ie.useMemo(()=>`url('#${Ed(K,Y)}')`,[K,Y]),we=ie.useMemo(()=>`url('#${Ed(W,Y)}')`,[W,Y]);if(j)return null;const Ce=rt=>{const{edges:He,addSelectedEdges:Tt,unselectNodesAndEdges:gt,multiSelectionActive:wt}=Ae.getState(),le=He.find(be=>be.id===m);le&&(T&&(Ae.setState({nodesSelectionActive:!1}),le.selected&&wt?(gt({nodes:[],edges:[le]}),ne.current?.blur()):Tt([m])),y&&y(rt,le))},at=Ca(m,Ae.getState,f),$t=Ca(m,Ae.getState,$),qt=Ca(m,Ae.getState,M),Zt=Ca(m,Ae.getState,L),mt=Ca(m,Ae.getState,D),Ze=(rt,He)=>{if(rt.button!==0)return;const{edges:Tt,isValidConnection:gt}=Ae.getState(),wt=He?g:d,le=(He?N:F)||null,be=He?"target":"source",Me=gt||WA,Pe=He,Ft=Tt.find(Pt=>Pt.id===m);ke(!0),P?.(rt,Ft,be);const si=Pt=>{ke(!1),U?.(Pt,Ft,be)};sy({event:rt,handleId:le,nodeId:wt,onConnect:Pt=>B?.(Ft,Pt),isTarget:Pe,getState:Ae.getState,setState:Ae.setState,isValidConnection:Me,edgeUpdaterType:be,onReconnectEnd:si})},_t=rt=>Ze(rt,!0),Dt=rt=>Ze(rt,!1),xt=()=>pe(!0),pt=()=>pe(!1),Kt=!T&&!y,nt=rt=>{if(!te&&K0.includes(rt.key)&&T){const{unselectNodesAndEdges:He,addSelectedEdges:Tt,edges:gt}=Ae.getState();rt.key==="Escape"?(ne.current?.blur(),He({edges:[gt.find(le=>le.id===m)]})):Tt([m])}};return _e.createElement("g",{className:qi(["react-flow__edge",`react-flow__edge-${R}`,v,{selected:a,animated:c,inactive:Kt,updating:me}]),onClick:Ce,onDoubleClick:at,onContextMenu:$t,onMouseEnter:qt,onMouseMove:Zt,onMouseLeave:mt,onKeyDown:q?nt:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":`rf__edge-${m}`,"aria-label":X===null?void 0:X||`Edge from ${d} to ${g}`,"aria-describedby":q?`${py}-${Y}`:void 0,ref:ne},!Se&&_e.createElement(h,{id:m,source:d,target:g,selected:a,animated:c,label:s,labelStyle:i,labelShowBg:n,labelBgStyle:r,labelBgPadding:l,labelBgBorderRadius:u,data:E,style:o,sourceX:x,sourceY:S,targetX:w,targetY:b,sourcePosition:k,targetPosition:A,sourceHandleId:F,targetHandleId:N,markerStart:Ue,markerEnd:we,pathOptions:V,interactionWidth:Q}),J&&_e.createElement(_e.Fragment,null,(J==="source"||J===!0)&&_e.createElement(Qv,{position:k,centerX:x,centerY:S,radius:z,onMouseDown:_t,onMouseEnter:xt,onMouseOut:pt,type:"source"}),(J==="target"||J===!0)&&_e.createElement(Qv,{position:A,centerX:w,centerY:b,radius:z,onMouseDown:Dt,onMouseEnter:xt,onMouseOut:pt,type:"target"})))};return _.displayName="EdgeWrapper",ie.memo(_)};function UA(h){const _={default:po(h.default||xc),straight:po(h.bezier||Wd),step:po(h.step||Pd),smoothstep:po(h.step||Mc),simplebezier:po(h.simplebezier||Fd)},m={},v=Object.keys(h).filter(R=>!["default","bezier"].includes(R)).reduce((R,E)=>(R[E]=po(h[E]||xc),R),m);return{..._,...v}}function Jv(h,_,m=null){const v=(m?.x||0)+_.x,R=(m?.y||0)+_.y,E=m?.width||_.width,y=m?.height||_.height;switch(h){case Le.Top:return{x:v+E/2,y:R};case Le.Right:return{x:v+E,y:R+y/2};case Le.Bottom:return{x:v+E/2,y:R+y};case Le.Left:return{x:v,y:R+y/2}}}function e0(h,_){return h?h.length===1||!_?h[0]:_&&h.find(m=>m.id===_)||null:null}const VA=(h,_,m,v,R,E)=>{const y=Jv(m,h,_),f=Jv(E,v,R);return{sourceX:y.x,sourceY:y.y,targetX:f.x,targetY:f.y}};function GA({sourcePos:h,targetPos:_,sourceWidth:m,sourceHeight:v,targetWidth:R,targetHeight:E,width:y,height:f,transform:a}){const c={x:Math.min(h.x,_.x),y:Math.min(h.y,_.y),x2:Math.max(h.x+m,_.x+R),y2:Math.max(h.y+v,_.y+E)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const s=zd({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:y/a[2],height:f/a[2]}),i=Math.max(0,Math.min(s.x2,c.x2)-Math.max(s.x,c.x)),n=Math.max(0,Math.min(s.y2,c.y2)-Math.max(s.y,c.y));return Math.ceil(i*n)>0}function t0(h){const _=h?.[At]?.handleBounds||null,m=_&&h?.width&&h?.height&&typeof h?.positionAbsolute?.x<"u"&&typeof h?.positionAbsolute?.y<"u";return[{x:h?.positionAbsolute?.x||0,y:h?.positionAbsolute?.y||0,width:h?.width||0,height:h?.height||0},_,!!m]}const KA=[{level:0,isMaxLevel:!0,edges:[]}];function YA(h,_,m=!1){let v=-1;const R=h.reduce((y,f)=>{const a=Ki(f.zIndex);let c=a?f.zIndex:0;if(m){const s=_.get(f.target),i=_.get(f.source),n=f.selected||s?.selected||i?.selected,r=Math.max(i?.[At]?.z||0,s?.[At]?.z||0,1e3);c=(a?f.zIndex:0)+(n?r:0)}return y[c]?y[c].push(f):y[c]=[f],v=c>v?c:v,y},{}),E=Object.entries(R).map(([y,f])=>{const a=+y;return{edges:f,level:a,isMaxLevel:a===v}});return E.length===0?KA:E}function XA(h,_,m){const v=kt(ie.useCallback(R=>h?R.edges.filter(E=>{const y=_.get(E.source),f=_.get(E.target);return y?.width&&y?.height&&f?.width&&f?.height&&GA({sourcePos:y.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:y.width,sourceHeight:y.height,targetWidth:f.width,targetHeight:f.height,width:R.width,height:R.height,transform:R.transform})}):R.edges,[h,_]));return YA(v,_,m)}const qA=({color:h="none",strokeWidth:_=1})=>_e.createElement("polyline",{style:{stroke:h,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ZA=({color:h="none",strokeWidth:_=1})=>_e.createElement("polyline",{style:{stroke:h,fill:h,strokeWidth:_},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),i0={[_c.Arrow]:qA,[_c.ArrowClosed]:ZA};function QA(h){const _=ri();return ie.useMemo(()=>Object.prototype.hasOwnProperty.call(i0,h)?i0[h]:(_.getState().onError?.("009",Jn.error009(h)),null),[h])}const JA=({id:h,type:_,color:m,width:v=12.5,height:R=12.5,markerUnits:E="strokeWidth",strokeWidth:y,orient:f="auto-start-reverse"})=>{const a=QA(_);return a?_e.createElement("marker",{className:"react-flow__arrowhead",id:h,markerWidth:`${v}`,markerHeight:`${R}`,viewBox:"-10 -10 20 20",markerUnits:E,orient:f,refX:"0",refY:"0"},_e.createElement(a,{color:m,strokeWidth:y})):null},ek=({defaultColor:h,rfId:_})=>m=>{const v=[];return m.edges.reduce((R,E)=>([E.markerStart,E.markerEnd].forEach(y=>{if(y&&typeof y=="object"){const f=Ed(y,_);v.includes(f)||(R.push({id:f,color:y.color||h,...y}),v.push(f))}}),R),[]).sort((R,E)=>R.id.localeCompare(E.id))},Ty=({defaultColor:h,rfId:_})=>{const m=kt(ie.useCallback(ek({defaultColor:h,rfId:_}),[h,_]),(v,R)=>!(v.length!==R.length||v.some((E,y)=>E.id!==R[y].id)));return _e.createElement("defs",null,m.map(v=>_e.createElement(JA,{id:v.id,key:v.id,type:v.type,color:v.color,width:v.width,height:v.height,markerUnits:v.markerUnits,strokeWidth:v.strokeWidth,orient:v.orient})))};Ty.displayName="MarkerDefinitions";var tk=ie.memo(Ty);const ik=h=>({nodesConnectable:h.nodesConnectable,edgesFocusable:h.edgesFocusable,edgesUpdatable:h.edgesUpdatable,elementsSelectable:h.elementsSelectable,width:h.width,height:h.height,connectionMode:h.connectionMode,nodeInternals:h.nodeInternals,onError:h.onError}),My=({defaultMarkerColor:h,onlyRenderVisibleElements:_,elevateEdgesOnSelect:m,rfId:v,edgeTypes:R,noPanClassName:E,onEdgeContextMenu:y,onEdgeMouseEnter:f,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:n,onReconnectStart:r,onReconnectEnd:l,reconnectRadius:u,children:o,disableKeyboardA11y:d})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:S,width:w,height:b,connectionMode:k,nodeInternals:A,onError:T}=kt(ik,_i),j=XA(_,A,m);return w?_e.createElement(_e.Fragment,null,j.map(({level:F,edges:N,isMaxLevel:$})=>_e.createElement("svg",{key:F,style:{zIndex:F},width:w,height:b,className:"react-flow__edges react-flow__container"},$&&_e.createElement(tk,{defaultColor:h,rfId:v}),_e.createElement("g",null,N.map(M=>{const[L,D,z]=t0(A.get(M.source)),[B,P,U]=t0(A.get(M.target));if(!z||!U)return null;let W=M.type||"default";R[W]||(T?.("011",Jn.error011(W)),W="default");const K=R[W]||R.default,Y=k===ds.Strict?P.target:(P.target??[]).concat(P.source??[]),X=e0(D.source,M.sourceHandle),q=e0(Y,M.targetHandle),J=X?.position||Le.Bottom,V=q?.position||Le.Top,Q=!!(M.focusable||g&&typeof M.focusable>"u"),te=M.reconnectable||M.updatable,ne=typeof n<"u"&&(te||x&&typeof te>"u");if(!X||!q)return T?.("008",Jn.error008(X,M)),null;const{sourceX:me,sourceY:pe,targetX:Se,targetY:ke}=VA(L,X,J,B,q,V);return _e.createElement(K,{key:M.id,id:M.id,className:qi([M.className,E]),type:W,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:me,sourceY:pe,targetX:Se,targetY:ke,sourcePosition:J,targetPosition:V,elementsSelectable:S,onContextMenu:y,onMouseEnter:f,onMouseMove:a,onMouseLeave:c,onClick:s,onEdgeDoubleClick:i,onReconnect:n,onReconnectStart:r,onReconnectEnd:l,reconnectRadius:u,rfId:v,ariaLabel:M.ariaLabel,isFocusable:Q,isReconnectable:ne,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth,disableKeyboardA11y:d})})))),o):null};My.displayName="EdgeRenderer";var nk=ie.memo(My);const rk=h=>`translate(${h.transform[0]}px,${h.transform[1]}px) scale(${h.transform[2]})`;function sk({children:h}){const _=kt(rk);return _e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:_}},h)}function ok(h){const _=yy(),m=ie.useRef(!1);ie.useEffect(()=>{!m.current&&_.viewportInitialized&&h&&(setTimeout(()=>h(_),1),m.current=!0)},[h,_.viewportInitialized])}const ak={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top},Ly=({nodeId:h,handleType:_,style:m,type:v=Dr.Bezier,CustomComponent:R,connectionStatus:E})=>{const{fromNode:y,handleId:f,toX:a,toY:c,connectionMode:s}=kt(ie.useCallback(b=>({fromNode:b.nodeInternals.get(h),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[h]),_i),i=y?.[At]?.handleBounds;let n=i?.[_];if(s===ds.Loose&&(n=n||i?.[_==="source"?"target":"source"]),!y||!n)return null;const r=f?n.find(b=>b.id===f):n[0],l=r?r.x+r.width/2:(y.width??0)/2,u=r?r.y+r.height/2:y.height??0,o=(y.positionAbsolute?.x??0)+l,d=(y.positionAbsolute?.y??0)+u,g=r?.position,x=g?ak[g]:null;if(!g||!x)return null;if(R)return _e.createElement(R,{connectionLineType:v,connectionLineStyle:m,fromNode:y,fromHandle:r,fromX:o,fromY:d,toX:a,toY:c,fromPosition:g,toPosition:x,connectionStatus:E});let S="";const w={sourceX:o,sourceY:d,sourcePosition:g,targetX:a,targetY:c,targetPosition:x};return v===Dr.Bezier?[S]=Ud(w):v===Dr.Step?[S]=Cd({...w,borderRadius:0}):v===Dr.SmoothStep?[S]=Cd(w):v===Dr.SimpleBezier?[S]=Z0(w):S=`M${o},${d} ${a},${c}`,_e.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:m})};Ly.displayName="ConnectionLine";const lk=h=>({nodeId:h.connectionNodeId,handleType:h.connectionHandleType,nodesConnectable:h.nodesConnectable,connectionStatus:h.connectionStatus,width:h.width,height:h.height});function ck({containerStyle:h,style:_,type:m,component:v}){const{nodeId:R,handleType:E,nodesConnectable:y,width:f,height:a,connectionStatus:c}=kt(lk,_i);return!(R&&E&&f&&y)?null:_e.createElement("svg",{style:h,width:f,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},_e.createElement("g",{className:qi(["react-flow__connection",c])},_e.createElement(Ly,{nodeId:R,handleType:E,style:_,type:m,CustomComponent:v,connectionStatus:c})))}function n0(h,_){return ie.useRef(null),ri(),ie.useMemo(()=>_(h),[h])}const Ry=({nodeTypes:h,edgeTypes:_,onMove:m,onMoveStart:v,onMoveEnd:R,onInit:E,onNodeClick:y,onEdgeClick:f,onNodeDoubleClick:a,onEdgeDoubleClick:c,onNodeMouseEnter:s,onNodeMouseMove:i,onNodeMouseLeave:n,onNodeContextMenu:r,onSelectionContextMenu:l,onSelectionStart:u,onSelectionEnd:o,connectionLineType:d,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:k,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,deleteKeyCode:F,onlyRenderVisibleElements:N,elementsSelectable:$,selectNodesOnDrag:M,defaultViewport:L,translateExtent:D,minZoom:z,maxZoom:B,preventScrolling:P,defaultMarkerColor:U,zoomOnScroll:W,zoomOnPinch:K,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,zoomOnDoubleClick:J,panOnDrag:V,onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ne,onPaneMouseLeave:me,onPaneScroll:pe,onPaneContextMenu:Se,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:$t,reconnectRadius:qt,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,elevateEdgesOnSelect:_t,disableKeyboardA11y:Dt,nodeOrigin:xt,nodeExtent:pt,rfId:Kt})=>{const nt=n0(h,IA),rt=n0(_,UA);return ok(E),_e.createElement(OA,{onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ne,onPaneMouseLeave:me,onPaneContextMenu:Se,onPaneScroll:pe,deleteKeyCode:F,selectionKeyCode:w,selectionOnDrag:b,selectionMode:k,onSelectionStart:u,onSelectionEnd:o,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,elementsSelectable:$,onMove:m,onMoveStart:v,onMoveEnd:R,zoomOnScroll:W,zoomOnPinch:K,zoomOnDoubleClick:J,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,panOnDrag:V,defaultViewport:L,translateExtent:D,minZoom:z,maxZoom:B,onSelectionContextMenu:l,preventScrolling:P,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,disableKeyboardA11y:Dt},_e.createElement(sk,null,_e.createElement(nk,{edgeTypes:rt,onEdgeClick:f,onEdgeDoubleClick:c,onlyRenderVisibleElements:N,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:$t,reconnectRadius:qt,defaultMarkerColor:U,noPanClassName:Ze,elevateEdgesOnSelect:!!_t,disableKeyboardA11y:Dt,rfId:Kt},_e.createElement(ck,{style:g,type:d,component:x,containerStyle:S})),_e.createElement("div",{className:"react-flow__edgelabel-renderer"}),_e.createElement(zA,{nodeTypes:nt,onNodeClick:y,onNodeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:i,onNodeMouseLeave:n,onNodeContextMenu:r,selectNodesOnDrag:M,onlyRenderVisibleElements:N,noPanClassName:Ze,noDragClassName:Zt,disableKeyboardA11y:Dt,nodeOrigin:xt,nodeExtent:pt,rfId:Kt})))};Ry.displayName="GraphView";var uk=ie.memo(Ry);const Md=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Rr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Md,nodeExtent:Md,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ds.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:HE,isValidConnection:void 0},hk=()=>qw((h,_)=>({...Rr,setNodes:m=>{const{nodeInternals:v,nodeOrigin:R,elevateNodesOnSelect:E}=_();h({nodeInternals:cd(m,v,R,E)})},getNodes:()=>Array.from(_().nodeInternals.values()),setEdges:m=>{const{defaultEdgeOptions:v={}}=_();h({edges:m.map(R=>({...v,...R}))})},setDefaultNodesAndEdges:(m,v)=>{const R=typeof m<"u",E=typeof v<"u",y=R?cd(m,new Map,_().nodeOrigin,_().elevateNodesOnSelect):new Map;h({nodeInternals:y,edges:E?v:[],hasDefaultNodes:R,hasDefaultEdges:E})},updateNodeDimensions:m=>{const{onNodesChange:v,nodeInternals:R,fitViewOnInit:E,fitViewOnInitDone:y,fitViewOnInitOptions:f,domNode:a,nodeOrigin:c}=_(),s=a?.querySelector(".react-flow__viewport");if(!s)return;const i=window.getComputedStyle(s),{m22:n}=new window.DOMMatrixReadOnly(i.transform),r=m.reduce((u,o)=>{const d=R.get(o.id);if(d?.hidden)R.set(d.id,{...d,[At]:{...d[At],handleBounds:void 0}});else if(d){const g=Bd(o.nodeElement);g.width&&g.height&&(d.width!==g.width||d.height!==g.height||o.forceUpdate)&&(R.set(d.id,{...d,[At]:{...d[At],handleBounds:{source:qv(".source",o.nodeElement,n,c),target:qv(".target",o.nodeElement,n,c)}},...g}),u.push({id:d.id,type:"dimensions",dimensions:g}))}return u},[]);my(R,c);const l=y||E&&!y&&vy(_,{initial:!0,...f});h({nodeInternals:new Map(R),fitViewOnInitDone:l}),r?.length>0&&v?.(r)},updateNodePositions:(m,v=!0,R=!1)=>{const{triggerNodeChanges:E}=_(),y=m.map(f=>{const a={id:f.id,type:"position",dragging:R};return v&&(a.positionAbsolute=f.positionAbsolute,a.position=f.position),a});E(y)},triggerNodeChanges:m=>{const{onNodesChange:v,nodeInternals:R,hasDefaultNodes:E,nodeOrigin:y,getNodes:f,elevateNodesOnSelect:a}=_();if(m?.length){if(E){const c=_y(m,f()),s=cd(c,R,y,a);h({nodeInternals:s})}v?.(m)}},addSelectedNodes:m=>{const{multiSelectionActive:v,edges:R,getNodes:E}=_();let y,f=null;v?y=m.map(a=>$r(a,!0)):(y=go(E(),m),f=go(R,[])),rc({changedNodes:y,changedEdges:f,get:_,set:h})},addSelectedEdges:m=>{const{multiSelectionActive:v,edges:R,getNodes:E}=_();let y,f=null;v?y=m.map(a=>$r(a,!0)):(y=go(R,m),f=go(E(),[])),rc({changedNodes:f,changedEdges:y,get:_,set:h})},unselectNodesAndEdges:({nodes:m,edges:v}={})=>{const{edges:R,getNodes:E}=_(),y=m||E(),f=v||R,a=y.map(s=>(s.selected=!1,$r(s.id,!1))),c=f.map(s=>$r(s.id,!1));rc({changedNodes:a,changedEdges:c,get:_,set:h})},setMinZoom:m=>{const{d3Zoom:v,maxZoom:R}=_();v?.scaleExtent([m,R]),h({minZoom:m})},setMaxZoom:m=>{const{d3Zoom:v,minZoom:R}=_();v?.scaleExtent([R,m]),h({maxZoom:m})},setTranslateExtent:m=>{_().d3Zoom?.translateExtent(m),h({translateExtent:m})},resetSelectedElements:()=>{const{edges:m,getNodes:v}=_(),E=v().filter(f=>f.selected).map(f=>$r(f.id,!1)),y=m.filter(f=>f.selected).map(f=>$r(f.id,!1));rc({changedNodes:E,changedEdges:y,get:_,set:h})},setNodeExtent:m=>{const{nodeInternals:v}=_();v.forEach(R=>{R.positionAbsolute=Hd(R.position,m)}),h({nodeExtent:m,nodeInternals:new Map(v)})},panBy:m=>{const{transform:v,width:R,height:E,d3Zoom:y,d3Selection:f,translateExtent:a}=_();if(!y||!f||!m.x&&!m.y)return!1;const c=Or.translate(v[0]+m.x,v[1]+m.y).scale(v[2]),s=[[0,0],[R,E]],i=y?.constrain()(c,s,a);return y.transform(f,i),v[0]!==i.x||v[1]!==i.y||v[2]!==i.k},cancelConnection:()=>h({connectionNodeId:Rr.connectionNodeId,connectionHandleId:Rr.connectionHandleId,connectionHandleType:Rr.connectionHandleType,connectionStatus:Rr.connectionStatus,connectionStartHandle:Rr.connectionStartHandle,connectionEndHandle:Rr.connectionEndHandle}),reset:()=>h({...Rr})}),Object.is),Ny=({children:h})=>{const _=ie.useRef(null);return _.current||(_.current=hk()),_e.createElement(LE,{value:_.current},h)};Ny.displayName="ReactFlowProvider";const $y=({children:h})=>ie.useContext(Tc)?_e.createElement(_e.Fragment,null,h):_e.createElement(Ny,null,h);$y.displayName="ReactFlowWrapper";const dk={input:cy,default:kd,output:hy,group:Yd},fk={default:xc,straight:Wd,step:Pd,smoothstep:Mc,simplebezier:Fd},pk=[0,0],gk=[15,15],mk={x:0,y:0,zoom:1},vk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Dy=ie.forwardRef(({nodes:h,edges:_,defaultNodes:m,defaultEdges:v,className:R,nodeTypes:E=dk,edgeTypes:y=fk,onNodeClick:f,onEdgeClick:a,onInit:c,onMove:s,onMoveStart:i,onMoveEnd:n,onConnect:r,onConnectStart:l,onConnectEnd:u,onClickConnectStart:o,onClickConnectEnd:d,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:w,onNodeDoubleClick:b,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onNodesDelete:j,onEdgesDelete:F,onSelectionChange:N,onSelectionDragStart:$,onSelectionDrag:M,onSelectionDragStop:L,onSelectionContextMenu:D,onSelectionStart:z,onSelectionEnd:B,connectionMode:P=ds.Strict,connectionLineType:U=Dr.Bezier,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:J=!1,selectionMode:V=ja.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:te=bc()?"Meta":"Control",zoomActivationKeyCode:ne=bc()?"Meta":"Control",snapToGrid:me=!1,snapGrid:pe=gk,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:ke=!0,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,nodeOrigin:Ce=pk,edgesFocusable:at,edgesUpdatable:$t,elementsSelectable:qt,defaultViewport:Zt=mk,minZoom:mt=.5,maxZoom:Ze=2,translateExtent:_t=Md,preventScrolling:Dt=!0,nodeExtent:xt,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:Kt=!0,zoomOnPinch:nt=!0,panOnScroll:rt=!1,panOnScrollSpeed:He=.5,panOnScrollMode:Tt=cs.Free,zoomOnDoubleClick:gt=!0,panOnDrag:wt=!0,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Ft,onPaneContextMenu:si,children:$i,onEdgeContextMenu:Pt,onEdgeDoubleClick:Di,onEdgeMouseEnter:Zi,onEdgeMouseMove:Br,onEdgeMouseLeave:er,onEdgeUpdate:Qi,onEdgeUpdateStart:Tn,onEdgeUpdateEnd:ko,onReconnect:ps,onReconnectStart:gs,onReconnectEnd:ms,reconnectRadius:tr=10,edgeUpdaterRadius:Mn=10,onNodesChange:Oi,onEdgesChange:vs,noDragClassName:ji="nodrag",noWheelClassName:Mt="nowheel",noPanClassName:Wt="nopan",fitView:vn=!1,fitViewOptions:ci,connectOnClick:To=!0,attributionPosition:Mo,proOptions:ys,defaultEdgeOptions:Ln,elevateNodesOnSelect:Hr=!0,elevateEdgesOnSelect:oi=!1,disableKeyboardA11y:Ji=!1,autoPanOnConnect:Rn=!0,autoPanOnNodeDrag:yn=!0,connectionRadius:St=20,isValidConnection:bs,onError:Nn,style:en,id:tn,nodeDragThreshold:Ii,..._s},xs)=>{const zr=tn||"1";return _e.createElement("div",{..._s,style:{...en,...vk},ref:xs,className:qi(["react-flow",R]),"data-testid":"rf__wrapper",id:tn},_e.createElement($y,null,_e.createElement(uk,{onInit:c,onMove:s,onMoveStart:i,onMoveEnd:n,onNodeClick:f,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:S,onNodeContextMenu:w,onNodeDoubleClick:b,nodeTypes:E,edgeTypes:y,connectionLineType:U,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,selectionKeyCode:q,selectionOnDrag:J,selectionMode:V,deleteKeyCode:X,multiSelectionKeyCode:te,panActivationKeyCode:Q,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Se,selectNodesOnDrag:ke,defaultViewport:Zt,translateExtent:_t,minZoom:mt,maxZoom:Ze,preventScrolling:Dt,zoomOnScroll:Kt,zoomOnPinch:nt,zoomOnDoubleClick:gt,panOnScroll:rt,panOnScrollSpeed:He,panOnScrollMode:Tt,panOnDrag:wt,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Ft,onPaneContextMenu:si,onSelectionContextMenu:D,onSelectionStart:z,onSelectionEnd:B,onEdgeContextMenu:Pt,onEdgeDoubleClick:Di,onEdgeMouseEnter:Zi,onEdgeMouseMove:Br,onEdgeMouseLeave:er,onReconnect:ps??Qi,onReconnectStart:gs??Tn,onReconnectEnd:ms??ko,reconnectRadius:tr??Mn,defaultMarkerColor:pt,noDragClassName:ji,noWheelClassName:Mt,noPanClassName:Wt,elevateEdgesOnSelect:oi,rfId:zr,disableKeyboardA11y:Ji,nodeOrigin:Ce,nodeExtent:xt}),_e.createElement(aA,{nodes:h,edges:_,defaultNodes:m,defaultEdges:v,onConnect:r,onConnectStart:l,onConnectEnd:u,onClickConnectStart:o,onClickConnectEnd:d,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,edgesFocusable:at,edgesUpdatable:$t,elementsSelectable:qt,elevateNodesOnSelect:Hr,minZoom:mt,maxZoom:Ze,nodeExtent:xt,onNodesChange:Oi,onEdgesChange:vs,snapToGrid:me,snapGrid:pe,connectionMode:P,translateExtent:_t,connectOnClick:To,defaultEdgeOptions:Ln,fitView:vn,fitViewOptions:ci,onNodesDelete:j,onEdgesDelete:F,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onSelectionDrag:M,onSelectionDragStart:$,onSelectionDragStop:L,noPanClassName:Wt,nodeOrigin:Ce,rfId:zr,autoPanOnConnect:Rn,autoPanOnNodeDrag:yn,onError:Nn,connectionRadius:St,isValidConnection:bs,nodeDragThreshold:Ii}),_e.createElement(sA,{onSelectionChange:N}),$i,_e.createElement($E,{proOptions:ys,position:Mo}),_e.createElement(dA,{rfId:zr,disableKeyboardA11y:Ji})))});Dy.displayName="ReactFlow";const yk=h=>h.domNode?.querySelector(".react-flow__edgelabel-renderer");function bk({children:h}){const _=kt(yk);return _?ME.createPortal(h,_):null}function Oy(h){return _=>{const[m,v]=ie.useState(_),R=ie.useCallback(E=>v(y=>h(E,y)),[]);return[m,v,R]}}const _k=Oy(_y),xk=Oy(AA),wk=({data:h})=>O.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-zinc-900 border-2 border-zinc-700 w-[200px]",children:[O.jsxs("div",{className:"flex items-center",children:[h.icon&&O.jsx("div",{className:"mr-2 text-xl",children:h.icon}),O.jsxs("div",{className:"ml-2",children:[O.jsx("div",{className:"text-lg font-bold text-zinc-100",children:h.label}),h.description&&O.jsx("div",{className:"text-zinc-400 text-xs",children:h.description})]})]}),O.jsx(Eo,{type:"target",position:Le.Left,className:"h-16 !bg-zinc-500 rounded-none w-2 -ml-1"}),O.jsx(Eo,{type:"source",position:Le.Bottom,className:"w-16 !bg-zinc-500 rounded-none h-2 -mb-1"}),h.status&&O.jsxs("div",{className:`mt-2 text-xs font-semibold ${h.status==="running"?"text-blue-400":h.status==="completed"?"text-green-400":h.status==="failed"?"text-red-400":"text-zinc-500"}`,children:["Status: ",h.status]})]}),Sk=ie.memo(wk),Ck=({sourceX:h,sourceY:_,targetX:m,targetY:v,sourcePosition:R,targetPosition:E,style:y={},markerEnd:f,label:a})=>{const[c,s,i]=Ud({sourceX:h,sourceY:_,sourcePosition:R,targetX:m,targetY:v,targetPosition:E});return O.jsxs(O.Fragment,{children:[O.jsx(Ao,{path:c,markerEnd:f,style:y}),a&&O.jsx(bk,{children:O.jsx("div",{className:"absolute pointer-events-auto bg-white px-2 py-1 rounded shadow-sm border border-gray-200 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors",style:{transform:`translate(-50%, -50%) translate(${s}px,${i}px)`},children:a})})]})},Ek=ie.memo(Ck),Ak={agent:Sk},kk={workflow:Ek},Tk=[{id:"1",type:"agent",position:{x:250,y:5},data:{label:"Start Agent",icon:"",status:"completed"}},{id:"2",type:"agent",position:{x:100,y:100},data:{label:"Researcher",icon:"",status:"running"}}],Mk=[{id:"e1-2",source:"1",target:"2",animated:!0,type:"smoothstep"}],Lk=150,Rk=250,Nk=(h,_)=>{if(h.length===0)return{nodes:h,edges:_};const m=new Map,v=new Map;_.forEach(c=>{m.has(c.source)||m.set(c.source,[]),m.get(c.source).push(c.target),v.set(c.target,c.source)});const R=h.filter(c=>!v.has(c.id));R.length===0&&h.length>0&&R.push(h[0]);let E=50;const y=[...h],f=new Set,a=(c,s)=>{if(f.has(c))return;f.add(c);const i=y.findIndex(r=>r.id===c);i!==-1&&(y[i]={...y[i],position:{x:250+s*Rk,y:E}},E+=Lk);const n=m.get(c)||[];n.sort((r,l)=>{const u=h.find(d=>d.id===r),o=h.find(d=>d.id===l);return(u?.position.y||0)-(o?.position.y||0)}),n.forEach(r=>a(r,s+1))};return R.sort((c,s)=>c.position.y-s.position.y),R.forEach(c=>a(c.id,0)),h.forEach(c=>{f.has(c.id)||a(c.id,0)}),{nodes:y,edges:_}};function $k(){const[h,_,m]=_k(Tk),[v,R,E]=xk(Mk),[y,f]=ie.useState(null);ie.useEffect(()=>{const{nodes:i}=Nk(h,v);i.some(r=>{const l=h.find(u=>u.id===r.id);return l?Math.abs(l.position.x-r.position.x)>1||Math.abs(l.position.y-r.position.y)>1:!0})&&_([...i])},[h.length,v.length]);const a=ie.useCallback(i=>R(n=>Q0({...i,type:"smoothstep",animated:!0},n)),[R]),c=ie.useCallback(i=>{i.preventDefault(),i.dataTransfer.dropEffect="move"},[]),s=ie.useCallback(i=>{i.preventDefault();const n=i.dataTransfer.getData("application/reactflow");if(!n)return;const r=JSON.parse(n);if(typeof r>"u"||!r||!y)return;let l=null;h.length>0&&(l=h.reduce((d,g)=>d.position.y>g.position.y?d:g,h[0]));const u=`${r.label}-${Date.now()}`,o={id:u,type:"agent",position:{x:250,y:0},data:{label:r.label,icon:r.icon,description:r.description,status:"idle"}};if(_(d=>d.concat(o)),l){const d={id:`e${l.id}-${u}`,source:l.id,target:u,type:"smoothstep",animated:!0};R(g=>g.concat(d))}},[y,_,R,h]);return O.jsx("div",{className:"flex-1 h-full w-full bg-zinc-950 relative",children:O.jsx(Dy,{nodes:h,edges:v,onNodesChange:m,onEdgesChange:E,onConnect:a,onInit:f,onDrop:s,onDragOver:c,nodeTypes:Ak,edgeTypes:kk,fitView:!0,nodesDraggable:!1,nodesConnectable:!1,proOptions:{hideAttribution:!0}})})}function Dk(){const h=uc.use.showOrchestrator(),_=uc.use.setShowOrchestrator();return h?O.jsxs(Ri,{width:"1000px",children:[O.jsx(Ni,{close:()=>_(!1),title:"Agent Orchestrator",description:"Design and execute multi-agent workflows."}),O.jsxs("div",{className:"flex h-[500px]",children:[O.jsx("div",{className:"w-[250px] flex-shrink-0",children:O.jsx(Gw,{})}),O.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:O.jsx($k,{})})]}),O.jsxs("div",{className:"flex justify-end",children:[O.jsx(Zn,{onClick:()=>_(!1),text:"Cancel"}),O.jsx(Zn,{onClick:()=>_(!1),text:"Run"})]})]}):null}const Ok=Yi(h=>({sidebarWidth:285,isResizing:!1,setSidebarWidth:_=>h({sidebarWidth:_}),setIsResizing:_=>h({isResizing:_})})),r0=Xi(Ok);function jk({setBarWidth:h}){const[_,m]=ie.useState(!1),v=ie.useRef(null);return ie.useEffect(()=>{const R=y=>{if(!_||!v.current)return;const f=v.current.parentElement;if(!f)return;const a=f.clientWidth*.98,c=f.clientWidth*.02,s=y.clientX-f.getBoundingClientRect().left;s>a||s<c||h(s)},E=()=>{m(!1)};return _&&(window.addEventListener("mousemove",R),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",E)}},[_]),O.jsx("div",{ref:v,className:"w-1 h-full cursor-col-resize hover:bg-white/20 active:bg-blue-500 transition-colors rounded-full",onMouseDown:()=>m(!0)})}const Ik=Yi()((h,_)=>({projectTree:[],root:"",changes:0,openFolders:{},loadProjectTree:async()=>{const v=await(await fetch(`${$e.serverPath}${Ie.scanProject}`)).json();h({projectTree:v.content,root:v.root,changes:v.changes})},toggleFolder:m=>h(v=>({openFolders:{...v.openFolders,[m]:!v.openFolders[m]}})),setIsPasteProjecTextEnable:m=>h({isPasteProjecTextEnable:m}),isPasteProjecTextEnable:!1,selectedPath:"",selectedFolder:"",setSelectedPath:m=>h(()=>{const v=m.split("/").filter(f=>f!==""),E=(v[v.length-1]||"").includes(".");let y;return E&&v.pop(),y=v.pop()||"/",{selectedPath:m,selectedFolder:y}}),getParentPath:()=>{const{selectedPath:m,root:v}=_();return m?(m.split("/").pop()||"").includes(".")?m.substring(0,m.lastIndexOf("/"))||v:m:v},isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:"",openFileEditor:m=>h({isFileEditorOpen:!0,currentFilePath:m,currentFile:m.split("/").pop()||"",curentFileType:m.split(".").pop()||""}),closeFileEditor:()=>h({isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:""}),isEditable:m=>{const v=["png","jpg","jpeg","gif","bmp","webp","ico","svg","tiff","tif","avif","mp4","avi","mkv","mov","wmv","flv","webm","m4v","3gp","mp3","wav","ogg","flac","aac","m4a","wma","pdf","doc","docx","xls","xlsx","ppt","pptx","zip","rar","7z","tar","gz","bz2","xz","ttf","otf","woff","woff2","eot","exe","dll","so","dylib","bin","dat","db","sqlite"],R=m.split(".").pop()?.toLowerCase();return!v.includes(R||"")},loadFile:async m=>{try{const v=await fetch(`${$e.serverPath}${Ie.textEditor}/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})});return v.ok?(await v.json()).content:""}catch(v){return console.error(v),""}},saveFile:async(m,v)=>{try{return await(await fetch(`${$e.serverPath}${Ie.textEditor}/set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m,content:v})})).json()}catch(R){return console.error(R),{error:"Failed to save"}}},createNewFile:async m=>{try{return await(await fetch(`${$e.serverPath}${Ie.textEditor}/newfile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},createNewFolder:async m=>{try{return await(await fetch(`${$e.serverPath}${Ie.textEditor}/newfolder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},delete:async m=>{try{return await(await fetch(`${$e.serverPath}${Ie.textEditor}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})})).json()}catch(v){return console.error(v),{error:"Failed to delete"}}},rename:async(m,v)=>{try{return await(await fetch(`${$e.serverPath}${Ie.textEditor}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m,newname:v})})).json()}catch(R){return console.error(R),{error:"Failed to rename"}}},getFileDiff:async m=>{try{const v=await fetch(`${$e.serverPath}${Ie.textEditor}/diff`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:m})});return v.ok?await v.json():{added:[],modified:[]}}catch(v){return console.error(v),{added:[],modified:[]}}}})),it=Xi(Ik);function Bk({name:h}){const _=h.split(".").pop()?.toLowerCase();let m="fa-solid fa-file text-white/40";switch(_){case"ts":case"tsx":m="fa-solid fa-file-code text-blue-400";break;case"js":case"jsx":m="fa-brands fa-js text-yellow-400";break;case"json":m="fa-solid fa-file-code text-yellow-200";break;case"css":case"scss":m="fa-brands fa-css3 text-blue-300";break;case"html":m="fa-brands fa-html5 text-orange-400";break;case"md":m="fa-brands fa-markdown text-white/60";break;case"png":case"jpg":case"jpeg":case"svg":m="fa-solid fa-image text-purple-400";break}return O.jsx("i",{className:`${m} w-4 text-center`})}function s0({path:h,name:_,onClose:m}){const v=ie.useRef(null),R=Xt.use.showModal(),E=it.use.rename(),y=it.use.delete(),f=it.use.loadProjectTree();ie.useEffect(()=>{function s(i){v.current&&!v.current.contains(i.target)&&m()}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[m]);const a=s=>{s.stopPropagation(),m(),R("prompt","Rename",`Enter new name for "${_}"`,"success",async i=>{i&&i!==_&&(await E(h,i),f())},null,"Enter new name",_)},c=s=>{s.stopPropagation(),m(),R("confirm","Delete",`Are you sure you want to delete "${_}"? This can only be undone if the file was previously committed to Git.`,"error",async i=>{i&&(await y(h),f())})};return O.jsxs("div",{ref:v,className:"absolute right-0 top-full mt-1 bg-gray-800 border border-white/10 rounded shadow-xl z-50 overflow-hidden min-w-[120px]",onClick:s=>s.stopPropagation(),children:[O.jsxs("button",{onClick:a,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-edit text-xs text-blue-400"}),"Rename"]}),O.jsxs("button",{onClick:c,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[O.jsx("i",{className:"fas fa-trash text-xs text-red-400"}),"Delete"]})]})}function mo({icon:h,onClick:_,title:m,className:v}){return O.jsx("button",{onClick:R=>{R.stopPropagation(),_()},className:`w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white ${v}`,title:m,children:O.jsx("i",{className:h})})}function jy({item:h,level:_=0}){const m=Xe.use.projectTreeFontSize(),[v,R]=ie.useState(!1),E="folder"in h,y=h.path,f=it(b=>b.openFolders[y]||!1),a=it.use.toggleFolder(),c=it.use.openFileEditor(),s=it.use.isEditable(),i=it.use.loadFile(),[n,r]=ie.useState(null),l=it.use.setSelectedPath(),u=it(b=>b.selectedPath),o=_*12+4,d=E?h.folder:h.file,g=h.color,x=it.use.isPasteProjecTextEnable(),S=g==="yellow"?"text-yellow-400":g==="green"?"text-green-400":"text-white/70";function w(b){i(b).then(k=>{r(k)})}if(E){const b=h;return O.jsxs("div",{children:[O.jsxs("div",{className:`
                        flex  py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                        ${u===y?"bg-blue-400/8":""}
                    `,style:{paddingLeft:`${o}px`},onClick:k=>{k.stopPropagation(),a(y),l(y)},draggable:!0,onDragStart:k=>{k.dataTransfer.setData("text/plain",`@${b.path} 
`),k.dataTransfer.effectAllowed="copy"},children:[O.jsx("i",{className:`fa-solid ${f?"fa-folder-open":"fa-folder"} text-blue-400/80 mr-2 text-[${m}px]`}),O.jsx("span",{className:`text-[${m}px] truncate ${S} group-hover:text-white`,children:d}),u===y&&O.jsxs("div",{className:"flex-end ml-auto relative",children:[O.jsx(mo,{onClick:()=>{R(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&O.jsx(s0,{path:y,name:d,onClose:()=>R(!1)})]})]}),f&&O.jsx("div",{children:b.content.map((k,A)=>O.jsx(jy,{item:k,level:_+1},A))})]})}else{const b=h;return O.jsxs("div",{className:`
                    flex items-center py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                    ${u===b.path?"bg-blue-400/8":""}
                `,style:{paddingLeft:`${o}px`},draggable:!0,onDragStart:k=>{x?(k.dataTransfer.setData("text/plain",`${b.path}
${n}

`),k.dataTransfer.effectAllowed="copy"):(k.dataTransfer.setData("text/plain",`@${b.path} 
`),k.dataTransfer.effectAllowed="copy")},onClick:k=>{k.stopPropagation(),l(b.path),x?w(b.path):r("")},onDoubleClick:k=>{k.preventDefault();const A=b.path.replace("@","");s(A)&&c(A)},children:[O.jsx("div",{className:"w-4"}),O.jsx("span",{className:`mr-2 text-[${m}px]`,children:O.jsx(Bk,{name:d})}),O.jsx("span",{className:`text-[${m}px] truncate ${S} group-hover:text-white`,children:d}),u===y&&O.jsxs("div",{className:"flex-end ml-auto relative",children:[O.jsx(mo,{onClick:()=>{R(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&O.jsx(s0,{path:y,name:d,onClose:()=>R(!1)})]})]})}}function Hk(){const h=it.use.changes(),_=it.use.loadProjectTree(),m=Xt.use.showModal(),v=it.use.selectedFolder(),R=it.use.createNewFolder(),E=it.use.createNewFile(),y=it.use.getParentPath(),f=as.use.stashCount(),a=it.use.isPasteProjecTextEnable(),c=it.use.setIsPasteProjecTextEnable();async function s(){m("prompt","New Folder",`Create a new folder at ${v}`,"success",async n=>{if(n){const l=`${y()}/${n}`;await R(l),_()}})}async function i(){m("prompt","New File",`Create a new file at ${v}`,"success",async n=>{if(n){const l=`${y()}/${n}`;await E(l),_()}})}return O.jsxs("div",{className:"flex items-center justify-between p-2",children:[O.jsxs("div",{className:"text-xs font-medium text-white/40 uppercase tracking-wider pl-1",children:[h," change",h>1?"s":""]}),O.jsxs("div",{className:"flex flex-end gap-2",children:[O.jsxs("div",{className:"relative",children:[O.jsx(mo,{onClick:()=>Xe.use.setShowGit()(!0),title:"Git Stash",icon:"fa-solid fa-clock-rotate-left text-xs"}),f>0&&O.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30 pointer-events-none",children:f})]}),O.jsx(mo,{onClick:i,title:"New File",icon:"fas fa-file text-xs"}),O.jsx(mo,{onClick:s,title:"New Folder",icon:"fas fa-folder text-xs"}),O.jsx(mo,{onClick:()=>c(!a),title:a?"Will Paste Project Text":"Paste @<path>",icon:"fas fa-paste text-xs",className:a?"bg-red-600":""})]})]})}function zk(h){return O.jsxs("button",{onClick:_=>{_.stopPropagation(),h.onClick()},className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:h.text}),O.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function Fk(){const h=it.use.isFileEditorOpen(),_=it.use.currentFile(),m=it.use.currentFilePath(),v=it.use.curentFileType(),R=it.use.loadProjectTree(),E=it.use.closeFileEditor(),y=it.use.loadFile(),f=it.use.saveFile(),a=it.use.getFileDiff(),[c,s]=ie.useState(""),[i,n]=ie.useState(void 0),[r,l]=ie.useState(void 0);if(ie.useEffect(()=>{h&&m?(y(m).then(u=>{s(typeof u=="string"?u:"")}),a(m).then(u=>{u&&(u.added?.length>0||u.modified?.length>0)?n({added:u.added||[],modified:u.modified||[]}):n(void 0)})):n(void 0)},[h,m]),h)return O.jsxs(Ri,{width:"1200px",children:[O.jsx(Ni,{title:_,description:m,close:()=>E(),icon:"fa-solid fa-file-code"}),O.jsx("div",{className:"p-2 flex-1 text-md h-full",children:O.jsx(Sc,{value:c,transparent:!0,mode:v==="js"||v==="jsx"?"javascript":v==="ts"||v==="tsx"?"typescript":"json",height:"60vh",width:"100%",onChange:u=>{s(u)},diffMarkers:i,onSave:()=>{m&&(f(m,c),E(),R())},rightClickMenu:(u,o,d,g)=>{g&&l({start:g.startLine,end:g.endLine})},contextMenuComponent:O.jsx("div",{className:"bg-gray-800 w-[200px] p-2 rounded-md",children:O.jsxs("button",{className:"flex gap-2 w-full text-left p-2 rounded-md hover:bg-gray-700",onClick:()=>{if(!m)return;const u=new CustomEvent("opencode:terminal:type",{detail:"@"+m+" Lines: "+r?.start+" - "+r?.end+`
`});window.dispatchEvent(u),E()},children:[O.jsx("i",{className:"fa-solid fa-code"}),O.jsx("span",{className:"text-sm",children:"Chat About This"})]})})})}),O.jsxs("div",{className:"flex justify-end gap-2 p-3",children:[O.jsx(zk,{onClick:()=>E(),text:"Close"}),O.jsx(Zn,{className:"w-[200px]",onClick:()=>{m&&(f(m,c),E(),R())},text:"Save (Ctrl + S)",icon:"fa-solid fa-floppy-disk"})]})]})}function Pk(h){const _=it.use.projectTree(),m=Xe.use.loadRootDir(),v=as.use.loadGitStashList(),R=it.use.setSelectedPath(),E=it.use.loadProjectTree(),[y,f]=ie.useState(null);return ie.useEffect(()=>{if(h.isVisible){m(),E(),v();const a=setInterval(()=>{E(),v()},5e3);f(a)}else clearInterval(y);return()=>{clearInterval(y)}},[h.isVisible]),O.jsxs("div",{className:`flex flex-col h-full min-h-0 bg-gray-800/20 rounded ${h.className}`,children:[O.jsx(Hk,{}),O.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden min-h-0 py-1",onClick:a=>{a.stopPropagation(),R("")},children:_&&_.length>0?_.map((a,c)=>O.jsx(jy,{item:a},c)):O.jsx("div",{className:"p-4 text-center text-white/20 text-xs italic",children:"Loading or empty..."})}),O.jsx(Fk,{})]})}function Wk({isVisible:h}){const _=r0.use.sidebarWidth(),m=r0.use.setSidebarWidth(),[v,R]=ie.useState(!1),E=ie.useRef(null);return O.jsxs("div",{className:`h-full w-full p-2 gap-2 ${h?"flex":"hidden"} `,children:[O.jsx("div",{className:"flex flex-col gap-3 h-full min-h-0 overflow-y-auto shrink-0",style:{width:_},children:O.jsx(Pk,{isVisible:h})}),O.jsx(jk,{setBarWidth:m}),O.jsx("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded overflow-hidden",onDragOver:y=>{y.preventDefault(),v||R(!0)},children:O.jsx("iframe",{ref:E,className:"w-full h-full",src:"http://localhost:4096"})})]})}function Uk(){const h=Pm.use.currentPage(),_=Pm.use.action(),m=Xe.use.loadRootDir(),v=Xe.use.checkIfFirstTime(),R=Xe.use.showAboutModal(),E=Xe.use.setShowAboutModal(),y=Xe.use.setShowGit(),f=uc.use.setShowOrchestrator(),[a,c]=ie.useState(!1),[s,i]=ie.useState(!0);return ie.useEffect(()=>{const n=r=>{(r.ctrlKey||r.metaKey)&&(r.key.toLowerCase()==="s"&&(r.preventDefault(),y(!0)),r.key.toLowerCase()==="x"&&(r.preventDefault(),f(!0)))};return window.addEventListener("keydown",n,{capture:!0}),()=>window.removeEventListener("keydown",n,{capture:!0})},[]),ie.useEffect(()=>{i(!1),setTimeout(async()=>{await v()&&c(!0),await m()},0)},[]),s?O.jsx(Jx,{}):a?O.jsx(Qx,{onComplete:()=>c(!1)}):O.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-[#090909] relative",children:[O.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[O.jsx("div",{className:"absolute -top-[20%]    -left-[10%]  w-[70%] h-[50%] bg-blue-600/8 rounded-full blur-[160px]"}),O.jsx("div",{className:"absolute -bottom-[35%] -right-[25%]  w-[70%] h-[50%] bg-blue-500/7 rounded-full blur-[160px]"})]}),O.jsx(u0,{}),O.jsxs("div",{className:"flex flex-1 overflow-hidden h-full w-full ",children:[O.jsx(ex,{navs:[{name:"dashboard",label:"Dashboard",icon:"fa fa-solid fa-house",isSelected:h==="dashboard",onClick:()=>_.setCurrentPage("dashboard")},{name:"workspace",label:"Workspace",icon:"fa fa-cube",isSelected:h==="workspace",onClick:()=>_.setCurrentPage("workspace")},{name:"open-code",label:"Opencode",icon:"fa fa-solid fa-terminal",isSelected:h==="open-code",onClick:()=>_.setCurrentPage("open-code")},{name:"turborepo",label:"Turborepo",icon:"fa fa-solid fa-truck-fast",isSelected:h==="turborepo",onClick:()=>_.setCurrentPage("turborepo")},{name:"crud",label:"CRUD Tester",icon:"fa fa-microscope",isSelected:h==="crud",onClick:()=>_.setCurrentPage("crud")}],extraNavs:[{name:"network",label:"Network & Docker",icon:"fa fa-solid fa-network-wired",isSelected:h==="network",onClick:()=>_.setCurrentPage("network")},{name:"cloudflare",label:"Cloudflare Tunnel",icon:"fa fa-solid fa-cloud",isSelected:h==="cloudflare",onClick:()=>_.setCurrentPage("cloudflare")}]}),O.jsx("main",{className:"flex-1 relative overflow-hidden",children:O.jsxs("div",{id:"app-content",className:"w-full h-full pb-8 relative",children:[O.jsx(ax,{isVisible:h==="dashboard"}),O.jsx(Xx,{isVisible:h==="workspace"}),O.jsx(Wk,{isVisible:h==="open-code"}),O.jsx(nw,{isVisible:h==="turborepo"}),O.jsx(Dw,{isVisible:h==="cloudflare"}),O.jsx(jw,{isVisible:h==="network"}),O.jsx(Nw,{isVisible:h==="crud"})]})})]}),O.jsx(Uw,{}),O.jsx(Dk,{}),O.jsx(Zx,{}),O.jsx($w,{isOpen:R,setIsOpen:()=>E(!1)}),O.jsx(qx,{})]})}const Vk=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);Vk&&document.documentElement.classList.add("is-chrome");H_.createRoot(document.getElementById("root")).render(O.jsx(ie.StrictMode,{children:O.jsx(Uk,{})}));

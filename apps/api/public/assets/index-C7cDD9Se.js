(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))v(L);new MutationObserver(L=>{for(const S of L)if(S.type==="childList")for(const y of S.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&v(y)}).observe(document,{childList:!0,subtree:!0});function g(L){const S={};return L.integrity&&(S.integrity=L.integrity),L.referrerPolicy&&(S.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?S.credentials="include":L.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function v(L){if(L.ep)return;L.ep=!0;const S=g(L);fetch(L.href,S)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Mh={exports:{}},_a={};var Em;function N_(){if(Em)return _a;Em=1;var l=Symbol.for("react.transitional.element"),b=Symbol.for("react.fragment");function g(v,L,S){var y=null;if(S!==void 0&&(y=""+S),L.key!==void 0&&(y=""+L.key),"key"in L){S={};for(var f in L)f!=="key"&&(S[f]=L[f])}else S=L;return L=S.ref,{$$typeof:l,type:v,key:y,ref:L!==void 0?L:null,props:S}}return _a.Fragment=b,_a.jsx=g,_a.jsxs=g,_a}var Am;function $_(){return Am||(Am=1,Mh.exports=N_()),Mh.exports}var N=$_(),Lh={exports:{}},Ie={};var km;function D_(){if(km)return Ie;km=1;var l=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),y=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),r=Symbol.for("react.lazy"),n=Symbol.for("react.activity"),i=Symbol.iterator;function s(W){return W===null||typeof W!="object"?null:(W=i&&W[i]||W["@@iterator"],typeof W=="function"?W:null)}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,a={};function d(W,K,Y){this.props=W,this.context=K,this.refs=a,this.updater=Y||c}d.prototype.isReactComponent={},d.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},d.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function m(){}m.prototype=d.prototype;function x(W,K,Y){this.props=W,this.context=K,this.refs=a,this.updater=Y||c}var C=x.prototype=new m;C.constructor=x,u(C,d.prototype),C.isPureReactComponent=!0;var w=Array.isArray;function _(){}var k={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function T(W,K,Y){var X=Y.ref;return{$$typeof:l,type:W,key:K,ref:X!==void 0?X:null,props:Y}}function j(W,K){return T(W.type,K,W.props)}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===l}function $(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return K[Y]})}var D=/\/+/g;function M(W,K){return typeof W=="object"&&W!==null&&W.key!=null?$(""+W.key):K.toString(36)}function R(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(_,_):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function O(W,K,Y,X,q){var J=typeof W;(J==="undefined"||J==="boolean")&&(W=null);var V=!1;if(W===null)V=!0;else switch(J){case"bigint":case"string":case"number":V=!0;break;case"object":switch(W.$$typeof){case l:case b:V=!0;break;case r:return V=W._init,O(V(W._payload),K,Y,X,q)}}if(V)return q=q(W),V=X===""?"."+M(W,0):X,w(q)?(Y="",V!=null&&(Y=V.replace(D,"$&/")+"/"),O(q,K,Y,"",function(ie){return ie})):q!=null&&(F(q)&&(q=j(q,Y+(q.key==null||W&&W.key===q.key?"":(""+q.key).replace(D,"$&/")+"/")+V)),K.push(q)),1;V=0;var Q=X===""?".":X+":";if(w(W))for(var ne=0;ne<W.length;ne++)X=W[ne],J=Q+M(X,ne),V+=O(X,K,Y,J,q);else if(ne=s(W),typeof ne=="function")for(W=ne.call(W),ne=0;!(X=W.next()).done;)X=X.value,J=Q+M(X,ne++),V+=O(X,K,Y,J,q);else if(J==="object"){if(typeof W.then=="function")return O(R(W),K,Y,X,q);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return V}function z(W,K,Y){if(W==null)return W;var X=[],q=0;return O(W,X,"","",function(J){return K.call(Y,J,q++)}),X}function B(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var P=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},U={map:z,forEach:function(W,K,Y){z(W,function(){K.apply(this,arguments)},Y)},count:function(W){var K=0;return z(W,function(){K++}),K},toArray:function(W){return z(W,function(K){return K})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Ie.Activity=n,Ie.Children=U,Ie.Component=d,Ie.Fragment=g,Ie.Profiler=L,Ie.PureComponent=x,Ie.StrictMode=v,Ie.Suspense=o,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(W){return k.H.useMemoCache(W)}},Ie.cache=function(W){return function(){return W.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(W,K,Y){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=u({},W.props),q=W.key;if(K!=null)for(J in K.key!==void 0&&(q=""+K.key),K)!A.call(K,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&K.ref===void 0||(X[J]=K[J]);var J=arguments.length-2;if(J===1)X.children=Y;else if(1<J){for(var V=Array(J),Q=0;Q<J;Q++)V[Q]=arguments[Q+2];X.children=V}return T(W.type,q,X)},Ie.createContext=function(W){return W={$$typeof:y,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:S,_context:W},W},Ie.createElement=function(W,K,Y){var X,q={},J=null;if(K!=null)for(X in K.key!==void 0&&(J=""+K.key),K)A.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=K[X]);var V=arguments.length-2;if(V===1)q.children=Y;else if(1<V){for(var Q=Array(V),ne=0;ne<V;ne++)Q[ne]=arguments[ne+2];q.children=Q}if(W&&W.defaultProps)for(X in V=W.defaultProps,V)q[X]===void 0&&(q[X]=V[X]);return T(W,J,q)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(W){return{$$typeof:f,render:W}},Ie.isValidElement=F,Ie.lazy=function(W){return{$$typeof:r,_payload:{_status:-1,_result:W},_init:B}},Ie.memo=function(W,K){return{$$typeof:h,type:W,compare:K===void 0?null:K}},Ie.startTransition=function(W){var K=k.T,Y={};k.T=Y;try{var X=W(),q=k.S;q!==null&&q(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(_,P)}catch(J){P(J)}finally{K!==null&&Y.types!==null&&(K.types=Y.types),k.T=K}},Ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ie.use=function(W){return k.H.use(W)},Ie.useActionState=function(W,K,Y){return k.H.useActionState(W,K,Y)},Ie.useCallback=function(W,K){return k.H.useCallback(W,K)},Ie.useContext=function(W){return k.H.useContext(W)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(W,K){return k.H.useDeferredValue(W,K)},Ie.useEffect=function(W,K){return k.H.useEffect(W,K)},Ie.useEffectEvent=function(W){return k.H.useEffectEvent(W)},Ie.useId=function(){return k.H.useId()},Ie.useImperativeHandle=function(W,K,Y){return k.H.useImperativeHandle(W,K,Y)},Ie.useInsertionEffect=function(W,K){return k.H.useInsertionEffect(W,K)},Ie.useLayoutEffect=function(W,K){return k.H.useLayoutEffect(W,K)},Ie.useMemo=function(W,K){return k.H.useMemo(W,K)},Ie.useOptimistic=function(W,K){return k.H.useOptimistic(W,K)},Ie.useReducer=function(W,K,Y){return k.H.useReducer(W,K,Y)},Ie.useRef=function(W){return k.H.useRef(W)},Ie.useState=function(W){return k.H.useState(W)},Ie.useSyncExternalStore=function(W,K,Y){return k.H.useSyncExternalStore(W,K,Y)},Ie.useTransition=function(){return k.H.useTransition()},Ie.version="19.2.4",Ie}var Tm;function Ir(){return Tm||(Tm=1,Lh.exports=D_()),Lh.exports}var te=Ir();const _e=wc(te);var Rh={exports:{}},xa={},Nh={exports:{}},$h={};var Mm;function O_(){return Mm||(Mm=1,(function(l){function b(O,z){var B=O.length;O.push(z);e:for(;0<B;){var P=B-1>>>1,U=O[P];if(0<L(U,z))O[P]=z,O[B]=U,B=P;else break e}}function g(O){return O.length===0?null:O[0]}function v(O){if(O.length===0)return null;var z=O[0],B=O.pop();if(B!==z){O[0]=B;e:for(var P=0,U=O.length,W=U>>>1;P<W;){var K=2*(P+1)-1,Y=O[K],X=K+1,q=O[X];if(0>L(Y,B))X<U&&0>L(q,Y)?(O[P]=q,O[X]=B,P=X):(O[P]=Y,O[K]=B,P=K);else if(X<U&&0>L(q,B))O[P]=q,O[X]=B,P=X;else break e}}return z}function L(O,z){var B=O.sortIndex-z.sortIndex;return B!==0?B:O.id-z.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;l.unstable_now=function(){return S.now()}}else{var y=Date,f=y.now();l.unstable_now=function(){return y.now()-f}}var o=[],h=[],r=1,n=null,i=3,s=!1,c=!1,u=!1,a=!1,d=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function C(O){for(var z=g(h);z!==null;){if(z.callback===null)v(h);else if(z.startTime<=O)v(h),z.sortIndex=z.expirationTime,b(o,z);else break;z=g(h)}}function w(O){if(u=!1,C(O),!c)if(g(o)!==null)c=!0,_||(_=!0,$());else{var z=g(h);z!==null&&R(w,z.startTime-O)}}var _=!1,k=-1,A=5,T=-1;function j(){return a?!0:!(l.unstable_now()-T<A)}function F(){if(a=!1,_){var O=l.unstable_now();T=O;var z=!0;try{e:{c=!1,u&&(u=!1,m(k),k=-1),s=!0;var B=i;try{t:{for(C(O),n=g(o);n!==null&&!(n.expirationTime>O&&j());){var P=n.callback;if(typeof P=="function"){n.callback=null,i=n.priorityLevel;var U=P(n.expirationTime<=O);if(O=l.unstable_now(),typeof U=="function"){n.callback=U,C(O),z=!0;break t}n===g(o)&&v(o),C(O)}else v(o);n=g(o)}if(n!==null)z=!0;else{var W=g(h);W!==null&&R(w,W.startTime-O),z=!1}}break e}finally{n=null,i=B,s=!1}z=void 0}}finally{z?$():_=!1}}}var $;if(typeof x=="function")$=function(){x(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=F,$=function(){M.postMessage(null)}}else $=function(){d(F,0)};function R(O,z){k=d(function(){O(l.unstable_now())},z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return i},l.unstable_next=function(O){switch(i){case 1:case 2:case 3:var z=3;break;default:z=i}var B=i;i=z;try{return O()}finally{i=B}},l.unstable_requestPaint=function(){a=!0},l.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=i;i=O;try{return z()}finally{i=B}},l.unstable_scheduleCallback=function(O,z,B){var P=l.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,O={id:r++,callback:z,priorityLevel:O,startTime:B,expirationTime:U,sortIndex:-1},B>P?(O.sortIndex=B,b(h,O),g(o)===null&&O===g(h)&&(u?(m(k),k=-1):u=!0,R(w,B-P))):(O.sortIndex=U,b(o,O),c||s||(c=!0,_||(_=!0,$()))),O},l.unstable_shouldYield=j,l.unstable_wrapCallback=function(O){var z=i;return function(){var B=i;i=z;try{return O.apply(this,arguments)}finally{i=B}}}})($h)),$h}var Lm;function j_(){return Lm||(Lm=1,Nh.exports=O_()),Nh.exports}var Dh={exports:{}},cn={};var Rm;function I_(){if(Rm)return cn;Rm=1;var l=Ir();function b(o){var h="https://react.dev/errors/"+o;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)h+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+o+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var v={d:{f:g,r:function(){throw Error(b(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},L=Symbol.for("react.portal");function S(o,h,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:n==null?null:""+n,children:o,containerInfo:h,implementation:r}}var y=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(o,h){if(o==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,cn.createPortal=function(o,h){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(b(299));return S(o,h,null,r)},cn.flushSync=function(o){var h=y.T,r=v.p;try{if(y.T=null,v.p=2,o)return o()}finally{y.T=h,v.p=r,v.d.f()}},cn.preconnect=function(o,h){typeof o=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,v.d.C(o,h))},cn.prefetchDNS=function(o){typeof o=="string"&&v.d.D(o)},cn.preinit=function(o,h){if(typeof o=="string"&&h&&typeof h.as=="string"){var r=h.as,n=f(r,h.crossOrigin),i=typeof h.integrity=="string"?h.integrity:void 0,s=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;r==="style"?v.d.S(o,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):r==="script"&&v.d.X(o,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},cn.preinitModule=function(o,h){if(typeof o=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var r=f(h.as,h.crossOrigin);v.d.M(o,{crossOrigin:r,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&v.d.M(o)},cn.preload=function(o,h){if(typeof o=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var r=h.as,n=f(r,h.crossOrigin);v.d.L(o,r,{crossOrigin:n,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},cn.preloadModule=function(o,h){if(typeof o=="string")if(h){var r=f(h.as,h.crossOrigin);v.d.m(o,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:r,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else v.d.m(o)},cn.requestFormReset=function(o){v.d.r(o)},cn.unstable_batchedUpdates=function(o,h){return o(h)},cn.useFormState=function(o,h,r){return y.H.useFormState(o,h,r)},cn.useFormStatus=function(){return y.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var Nm;function a0(){if(Nm)return Dh.exports;Nm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(b){console.error(b)}}return l(),Dh.exports=I_(),Dh.exports}var $m;function B_(){if($m)return xa;$m=1;var l=j_(),b=Ir(),g=a0();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)t+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function L(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,p=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(p=t.return),e=t.return;while(e)}return t.tag===3?p:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o(e){if(S(e)!==e)throw Error(v(188))}function h(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(v(188));return t!==e?null:e}for(var p=e,E=t;;){var I=p.return;if(I===null)break;var H=I.alternate;if(H===null){if(E=I.return,E!==null){p=E;continue}break}if(I.child===H.child){for(H=I.child;H;){if(H===p)return o(I),e;if(H===E)return o(I),t;H=H.sibling}throw Error(v(188))}if(p.return!==E.return)p=I,E=H;else{for(var G=!1,Z=I.child;Z;){if(Z===p){G=!0,p=I,E=H;break}if(Z===E){G=!0,E=I,p=H;break}Z=Z.sibling}if(!G){for(Z=H.child;Z;){if(Z===p){G=!0,p=H,E=I;break}if(Z===E){G=!0,E=H,p=I;break}Z=Z.sibling}if(!G)throw Error(v(189))}}if(p.alternate!==E)throw Error(v(190))}if(p.tag!==3)throw Error(v(188));return p.stateNode.current===p?e:t}function r(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=r(e),t!==null)return t;e=e.sibling}return null}var n=Object.assign,i=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case u:return"Fragment";case d:return"Profiler";case a:return"StrictMode";case w:return"Suspense";case _:return"SuspenseList";case T:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case c:return"Portal";case x:return e.displayName||"Context";case m:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var R=Array.isArray,O=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},P=[],U=-1;function W(e){return{current:e}}function K(e){0>U||(e.current=P[U],P[U]=null,U--)}function Y(e,t){U++,P[U]=e.current,e.current=t}var X=W(null),q=W(null),J=W(null),V=W(null);function Q(e,t){switch(Y(J,t),Y(q,e),Y(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yg(t),e=Xg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(X),Y(X,e)}function ne(){K(X),K(q),K(J)}function ie(e){e.memoizedState!==null&&Y(V,e);var t=X.current,p=Xg(t,e.type);t!==p&&(Y(q,e),Y(X,p))}function me(e){q.current===e&&(K(X),K(q)),V.current===e&&(K(V),ma._currentValue=B)}var pe,Se;function ke(e){if(pe===void 0)try{throw Error()}catch(p){var t=p.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Se}var Ae=!1;function Ue(e,t){if(!e||Ae)return"";Ae=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(t){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(de){var he=de}Reflect.construct(e,[],ve)}else{try{ve.call()}catch(de){he=de}e.call(ve.prototype)}}else{try{throw Error()}catch(de){he=de}(ve=e())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(de){if(de&&he&&typeof de.stack=="string")return[de.stack,he.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=E.DetermineComponentFrameRoot(),G=H[0],Z=H[1];if(G&&Z){var re=G.split(`
`),ue=Z.split(`
`);for(I=E=0;E<re.length&&!re[E].includes("DetermineComponentFrameRoot");)E++;for(;I<ue.length&&!ue[I].includes("DetermineComponentFrameRoot");)I++;if(E===re.length||I===ue.length)for(E=re.length-1,I=ue.length-1;1<=E&&0<=I&&re[E]!==ue[I];)I--;for(;1<=E&&0<=I;E--,I--)if(re[E]!==ue[I]){if(E!==1||I!==1)do if(E--,I--,0>I||re[E]!==ue[I]){var fe=`
`+re[E].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=E&&0<=I);break}}}finally{Ae=!1,Error.prepareStackTrace=p}return(p=e?e.displayName||e.name:"")?ke(p):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return ke(e.type);case 16:return ke("Lazy");case 13:return e.child!==t&&t!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return ke("Activity");default:return""}}function Ce(e){try{var t="",p=null;do t+=we(e,p),p=e,e=e.return;while(e);return t}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var at=Object.prototype.hasOwnProperty,Dt=l.unstable_scheduleCallback,qt=l.unstable_cancelCallback,Zt=l.unstable_shouldYield,mt=l.unstable_requestPaint,Ze=l.unstable_now,_t=l.unstable_getCurrentPriorityLevel,Ot=l.unstable_ImmediatePriority,xt=l.unstable_UserBlockingPriority,pt=l.unstable_NormalPriority,Yt=l.unstable_LowPriority,it=l.unstable_IdlePriority,rt=l.log,He=l.unstable_setDisableYieldValue,Tt=null,gt=null;function wt(e){if(typeof rt=="function"&&He(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Tt,e)}catch{}}var le=Math.clz32?Math.clz32:Pe,be=Math.log,Me=Math.LN2;function Pe(e){return e>>>=0,e===0?32:31-(be(e)/Me|0)|0}var Pt=256,on=262144,In=4194304;function Wt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,t,p){var E=e.pendingLanes;if(E===0)return 0;var I=0,H=e.suspendedLanes,G=e.pingedLanes;e=e.warmLanes;var Z=E&134217727;return Z!==0?(E=Z&~H,E!==0?I=Wt(E):(G&=Z,G!==0?I=Wt(G):p||(p=Z&~e,p!==0&&(I=Wt(p))))):(Z=E&~H,Z!==0?I=Wt(Z):G!==0?I=Wt(G):p||(p=E&~e,p!==0&&(I=Wt(p)))),I===0?0:t!==0&&t!==I&&(t&H)===0&&(H=I&-I,p=t&-t,H>=p||H===32&&(p&4194048)!==0)?t:I}function Jn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Br(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var e=In;return In<<=1,(In&62914560)===0&&(In=4194304),e}function ei(e){for(var t=[],p=0;31>p;p++)t.push(e);return t}function Mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ko(e,t,p,E,I,H){var G=e.pendingLanes;e.pendingLanes=p,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=p,e.entangledLanes&=p,e.errorRecoveryDisabledLanes&=p,e.shellSuspendCounter=0;var Z=e.entanglements,re=e.expirationTimes,ue=e.hiddenUpdates;for(p=G&~p;0<p;){var fe=31-le(p),ve=1<<fe;Z[fe]=0,re[fe]=-1;var he=ue[fe];if(he!==null)for(ue[fe]=null,fe=0;fe<he.length;fe++){var de=he[fe];de!==null&&(de.lane&=-536870913)}p&=~ve}E!==0&&gs(e,E,0),H!==0&&I===0&&e.tag!==0&&(e.suspendedLanes|=H&~(G&~t))}function gs(e,t,p){e.pendingLanes|=t,e.suspendedLanes&=~t;var E=31-le(t);e.entangledLanes|=t,e.entanglements[E]=e.entanglements[E]|1073741824|p&261930}function ms(e,t){var p=e.entangledLanes|=t;for(e=e.entanglements;p;){var E=31-le(p),I=1<<E;I&t|e[E]&t&&(e[E]|=t),p&=~I}}function vs(e,t){var p=t&-t;return p=(p&42)!==0?1:nr(p),(p&(e.suspendedLanes|t))!==0?0:p}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:ym(e.type))}function ys(e,t){var p=z.p;try{return z.p=e,t()}finally{z.p=p}}var zn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+zn,Ut="__reactProps$"+zn,yi="__reactContainer$"+zn,un="__reactEvents$"+zn,To="__reactListeners$"+zn,Mo="__reactHandles$"+zn,bs="__reactResources$"+zn,Ri="__reactMarker$"+zn;function Hr(e){delete e[Mt],delete e[Ut],delete e[un],delete e[To],delete e[Mo]}function an(e){var t=e[Mt];if(t)return t;for(var p=e.parentNode;p;){if(t=p[yi]||p[Mt]){if(p=t.alternate,t.child!==null||p!==null&&p.child!==null)for(e=nm(e);e!==null;){if(p=e[Mt])return p;e=nm(e)}return t}e=p,p=e.parentNode}return null}function ti(e){if(e=e[Mt]||e[yi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ni(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function bi(e){var t=e[bs];return t||(t=e[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[Ri]=!0}var _s=new Set,$i={};function ni(e,t){ii(e,t),ii(e+"Capture",t)}function ii(e,t){for($i[e]=t,e=0;e<t.length;e++)_s.add(t[e])}var Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},ws={};function zr(e){return at.call(ws,e)?!0:at.call(xs,e)?!1:Fn.test(e)?ws[e]=!0:(xs[e]=!0,!1)}function Ss(e,t,p){if(zr(t))if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var E=t.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+p)}}function Cs(e,t,p){if(p===null)e.removeAttribute(t);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+p)}}function ri(e,t,p,E){if(E===null)e.removeAttribute(p);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(p);return}e.setAttributeNS(t,p,""+E)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function za(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fr(e,t,p){var E=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var I=E.get,H=E.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return I.call(this)},set:function(G){p=""+G,H.call(this,G)}}),Object.defineProperty(e,t,{enumerable:E.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){if(!e._valueTracker){var t=za(e)?"checked":"value";e._valueTracker=Fr(e,t,""+e[t])}}function Lo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var p=t.getValue(),E="";return e&&(E=za(e)?e.checked?"true":"false":e.value),e=E,e!==p?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lc=/[\n"\\]/g;function dn(e){return e.replace(Lc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ro(e,t,p,E,I,H,G,Z){e.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.type=G:e.removeAttribute("type"),t!=null?G==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):G!=="submit"&&G!=="reset"||e.removeAttribute("value"),t!=null?$o(e,G,Qt(t)):p!=null?$o(e,G,Qt(p)):E!=null&&e.removeAttribute("value"),I==null&&H!=null&&(e.defaultChecked=!!H),I!=null&&(e.checked=I&&typeof I!="function"&&typeof I!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?e.name=""+Qt(Z):e.removeAttribute("name")}function No(e,t,p,E,I,H,G,Z){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(e.type=H),t!=null||p!=null){if(!(H!=="submit"&&H!=="reset"||t!=null)){Es(e);return}p=p!=null?""+Qt(p):"",t=t!=null?""+Qt(t):p,Z||t===e.value||(e.value=t),e.defaultValue=t}E=E??I,E=typeof E!="function"&&typeof E!="symbol"&&!!E,e.checked=Z?e.checked:!!E,e.defaultChecked=!!E,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(e.name=G),Es(e)}function $o(e,t,p){t==="number"&&As(e.ownerDocument)===e||e.defaultValue===""+p||(e.defaultValue=""+p)}function ir(e,t,p,E){if(e=e.options,t){t={};for(var I=0;I<p.length;I++)t["$"+p[I]]=!0;for(p=0;p<e.length;p++)I=t.hasOwnProperty("$"+e[p].value),e[p].selected!==I&&(e[p].selected=I),I&&E&&(e[p].defaultSelected=!0)}else{for(p=""+Qt(p),t=null,I=0;I<e.length;I++){if(e[I].value===p){e[I].selected=!0,E&&(e[I].defaultSelected=!0);return}t!==null||e[I].disabled||(t=e[I])}t!==null&&(t.selected=!0)}}function Do(e,t,p){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),p==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=p!=null?""+Qt(p):""}function Pr(e,t,p,E){if(t==null){if(E!=null){if(p!=null)throw Error(v(92));if(R(E)){if(1<E.length)throw Error(v(93));E=E[0]}p=E}p==null&&(p=""),t=p}p=Qt(t),e.defaultValue=p,E=e.textContent,E===p&&E!==""&&E!==null&&(e.value=E),Es(e)}function wn(e,t){if(t){var p=e.firstChild;if(p&&p===e.lastChild&&p.nodeType===3){p.nodeValue=t;return}}e.textContent=t}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(e,t,p){var E=t.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?E?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":E?e.setProperty(t,p):typeof p!="number"||p===0||Rc.has(t)?t==="float"?e.cssFloat=p:e[t]=(""+p).trim():e[t]=p+"px"}function si(e,t,p){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,p!=null){for(var E in p)!p.hasOwnProperty(E)||t!=null&&t.hasOwnProperty(E)||(E.indexOf("--")===0?e.setProperty(E,""):E==="float"?e.cssFloat="":e[E]="");for(var I in t)E=t[I],t.hasOwnProperty(I)&&p[I]!==E&&Fa(e,I,E)}else for(var H in t)t.hasOwnProperty(H)&&Fa(e,H,t[H])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(e){return $c.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var ai=null;function Ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,li=null;function Pa(e){var t=ti(e);if(t&&(e=t.stateNode)){var p=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ro(e,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),t=p.name,p.type==="radio"&&t!=null){for(p=e;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+dn(""+t)+'"][type="radio"]'),t=0;t<p.length;t++){var E=p[t];if(E!==e&&E.form===e.form){var I=E[Ut]||null;if(!I)throw Error(v(90));Ro(E,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(t=0;t<p.length;t++)E=p[t],E.form===e.form&&Lo(E)}break e;case"textarea":Do(e,p.value,p.defaultValue);break e;case"select":t=p.value,t!=null&&ir(e,!!p.multiple,t,!1)}}}var Wr=!1;function Wa(e,t,p){if(Wr)return e(t,p);Wr=!0;try{var E=e(t);return E}finally{if(Wr=!1,(rr!==null||li!==null)&&(kl(),rr&&(t=rr,e=li,li=rr=null,Pa(t),e)))for(t=0;t<e.length;t++)Pa(e[t])}}function sr(e,t){var p=e.stateNode;if(p===null)return null;var E=p[Ut]||null;if(E===null)return null;p=E[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(e=e.type,E=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!E;break e;default:e=!1}if(e)return null;if(p&&typeof p!="function")throw Error(v(231,t,typeof p));return p}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Pn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Ms=!1}var ui=null,jo=null,Ls=null;function Ua(){if(Ls)return Ls;var e,t=jo,p=t.length,E,I="value"in ui?ui.value:ui.textContent,H=I.length;for(e=0;e<p&&t[e]===I[e];e++);var G=p-e;for(E=1;E<=G&&t[p-E]===I[H-E];E++);return Ls=I.slice(e,1<E?1-E:void 0)}function ee(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oe(){return!0}function ye(){return!1}function xe(e){function t(p,E,I,H,G){this._reactName=p,this._targetInst=I,this.type=E,this.nativeEvent=H,this.target=G,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(p=e[Z],this[Z]=p?p(H):H[Z]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?oe:ye,this.isPropagationStopped=ye,this}return n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){},isPersistent:oe}),t}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},je=xe(Qe),lt=n({},Qe,{view:0,detail:0}),jt=xe(lt),Lt,dt,Vt,ln=n({},lt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vt&&(Vt&&e.type==="mousemove"?(Lt=e.screenX-Vt.screenX,dt=e.screenY-Vt.screenY):dt=Lt=0,Vt=e),Lt)},movementY:function(e){return"movementY"in e?e.movementY:dt}}),Gt=xe(ln),fn=n({},ln,{dataTransfer:0}),pn=xe(fn),_i=n({},lt,{relatedTarget:0}),Sn=xe(_i),Di=n({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=xe(Di),Rs=n({},Qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ns=xe(Rs),By=n({},Qe,{data:0}),Zd=xe(By),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function Dc(){return Py}var Wy=n({},lt,{key:function(e){if(e.key){var t=Hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ee(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?ee(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ee(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uy=xe(Wy),Vy=n({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=xe(Vy),Gy=n({},lt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),Ky=xe(Gy),Yy=n({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xy=xe(Yy),qy=n({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=xe(qy),Qy=n({},Qe,{newState:0,oldState:0}),Jy=xe(Qy),eb=[9,13,27,32],Oc=Pn&&"CompositionEvent"in window,Io=null;Pn&&"documentMode"in document&&(Io=document.documentMode);var tb=Pn&&"TextEvent"in window&&!Io,Jd=Pn&&(!Oc||Io&&8<Io&&11>=Io),ef=" ",tf=!1;function nf(e,t){switch(e){case"keyup":return eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function nb(e,t){switch(e){case"compositionend":return rf(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function ib(e,t){if($s)return e==="compositionend"||!Oc&&nf(e,t)?(e=Ua(),Ls=jo=ui=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rb[e.type]:t==="textarea"}function of(e,t,p,E){rr?li?li.push(E):li=[E]:rr=E,t=Dl(t,"onChange"),0<t.length&&(p=new je("onChange","change",null,p,E),e.push({event:p,listeners:t}))}var Bo=null,Ho=null;function sb(e){Pg(e,0)}function Ga(e){var t=Ni(e);if(Lo(t))return e}function af(e,t){if(e==="change")return t}var lf=!1;if(Pn){var jc;if(Pn){var Ic="oninput"in document;if(!Ic){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Ic=typeof cf.oninput=="function"}jc=Ic}else jc=!1;lf=jc&&(!document.documentMode||9<document.documentMode)}function uf(){Bo&&(Bo.detachEvent("onpropertychange",hf),Ho=Bo=null)}function hf(e){if(e.propertyName==="value"&&Ga(Ho)){var t=[];of(t,Ho,e,Ts(e)),Wa(sb,t)}}function ob(e,t,p){e==="focusin"?(uf(),Bo=t,Ho=p,Bo.attachEvent("onpropertychange",hf)):e==="focusout"&&uf()}function ab(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ga(Ho)}function lb(e,t){if(e==="click")return Ga(t)}function cb(e,t){if(e==="input"||e==="change")return Ga(t)}function ub(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:ub;function zo(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var p=Object.keys(e),E=Object.keys(t);if(p.length!==E.length)return!1;for(E=0;E<p.length;E++){var I=p[E];if(!at.call(t,I)||!Cn(e[I],t[I]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var p=df(e);e=0;for(var E;p;){if(p.nodeType===3){if(E=e+p.textContent.length,e<=t&&E>=t)return{node:p,offset:t-e};e=E}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=df(p)}}function pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=As(e.document);t instanceof e.HTMLIFrameElement;){try{var p=typeof t.contentWindow.location.href=="string"}catch{p=!1}if(p)e=t.contentWindow;else break;t=As(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hb=Pn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Hc=null,Fo=null,zc=!1;function mf(e,t,p){var E=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zc||Ds==null||Ds!==As(E)||(E=Ds,"selectionStart"in E&&Bc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Fo&&zo(Fo,E)||(Fo=E,E=Dl(Hc,"onSelect"),0<E.length&&(t=new je("onSelect","select",null,t,p),e.push({event:t,listeners:E}),t.target=Ds)))}function Ur(e,t){var p={};return p[e.toLowerCase()]=t.toLowerCase(),p["Webkit"+e]="webkit"+t,p["Moz"+e]="moz"+t,p}var Os={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Fc={},vf={};Pn&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Vr(e){if(Fc[e])return Fc[e];if(!Os[e])return e;var t=Os[e],p;for(p in t)if(t.hasOwnProperty(p)&&p in vf)return Fc[e]=t[p];return e}var yf=Vr("animationend"),bf=Vr("animationiteration"),_f=Vr("animationstart"),db=Vr("transitionrun"),fb=Vr("transitionstart"),pb=Vr("transitioncancel"),xf=Vr("transitionend"),wf=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function hi(e,t){wf.set(e,t),ni(t,[e])}var Ka=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wn=[],js=0,Wc=0;function Ya(){for(var e=js,t=Wc=js=0;t<e;){var p=Wn[t];Wn[t++]=null;var E=Wn[t];Wn[t++]=null;var I=Wn[t];Wn[t++]=null;var H=Wn[t];if(Wn[t++]=null,E!==null&&I!==null){var G=E.pending;G===null?I.next=I:(I.next=G.next,G.next=I),E.pending=I}H!==0&&Sf(p,I,H)}}function Xa(e,t,p,E){Wn[js++]=e,Wn[js++]=t,Wn[js++]=p,Wn[js++]=E,Wc|=E,e.lanes|=E,e=e.alternate,e!==null&&(e.lanes|=E)}function Uc(e,t,p,E){return Xa(e,t,p,E),qa(e)}function Gr(e,t){return Xa(e,null,null,t),qa(e)}function Sf(e,t,p){e.lanes|=p;var E=e.alternate;E!==null&&(E.lanes|=p);for(var I=!1,H=e.return;H!==null;)H.childLanes|=p,E=H.alternate,E!==null&&(E.childLanes|=p),H.tag===22&&(e=H.stateNode,e===null||e._visibility&1||(I=!0)),e=H,H=H.return;return e.tag===3?(H=e.stateNode,I&&t!==null&&(I=31-le(p),e=H.hiddenUpdates,E=e[I],E===null?e[I]=[t]:E.push(t),t.lane=p|536870912),H):null}function qa(e){if(50<ca)throw ca=0,Ju=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Is={};function gb(e,t,p,E){this.tag=e,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,p,E){return new gb(e,t,p,E)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,t){var p=e.alternate;return p===null?(p=En(e.tag,t,e.key,e.mode),p.elementType=e.elementType,p.type=e.type,p.stateNode=e.stateNode,p.alternate=e,e.alternate=p):(p.pendingProps=t,p.type=e.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=e.flags&65011712,p.childLanes=e.childLanes,p.lanes=e.lanes,p.child=e.child,p.memoizedProps=e.memoizedProps,p.memoizedState=e.memoizedState,p.updateQueue=e.updateQueue,t=e.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},p.sibling=e.sibling,p.index=e.index,p.ref=e.ref,p.refCleanup=e.refCleanup,p}function Cf(e,t){e.flags&=65011714;var p=e.alternate;return p===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=p.childLanes,e.lanes=p.lanes,e.child=p.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=p.memoizedProps,e.memoizedState=p.memoizedState,e.updateQueue=p.updateQueue,e.type=p.type,t=p.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Za(e,t,p,E,I,H){var G=0;if(E=e,typeof e=="function")Vc(e)&&(G=1);else if(typeof e=="string")G=__(e,p,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case T:return e=En(31,p,t,I),e.elementType=T,e.lanes=H,e;case u:return Kr(p.children,I,H,t);case a:G=8,I|=24;break;case d:return e=En(12,p,t,I|2),e.elementType=d,e.lanes=H,e;case w:return e=En(13,p,t,I),e.elementType=w,e.lanes=H,e;case _:return e=En(19,p,t,I),e.elementType=_,e.lanes=H,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:G=10;break e;case m:G=9;break e;case C:G=11;break e;case k:G=14;break e;case A:G=16,E=null;break e}G=29,p=Error(v(130,e===null?"null":typeof e,"")),E=null}return t=En(G,p,t,I),t.elementType=e,t.type=E,t.lanes=H,t}function Kr(e,t,p,E){return e=En(7,e,E,t),e.lanes=p,e}function Gc(e,t,p){return e=En(6,e,null,t),e.lanes=p,e}function Ef(e){var t=En(18,null,null,0);return t.stateNode=e,t}function Kc(e,t,p){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=p,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Af=new WeakMap;function Un(e,t){if(typeof e=="object"&&e!==null){var p=Af.get(e);return p!==void 0?p:(t={value:e,source:t,stack:Ce(t)},Af.set(e,t),t)}return{value:e,source:t,stack:Ce(t)}}var Bs=[],Hs=0,Qa=null,Po=0,Vn=[],Gn=0,or=null,xi=1,wi="";function ji(e,t){Bs[Hs++]=Po,Bs[Hs++]=Qa,Qa=e,Po=t}function kf(e,t,p){Vn[Gn++]=xi,Vn[Gn++]=wi,Vn[Gn++]=or,or=e;var E=xi;e=wi;var I=32-le(E)-1;E&=~(1<<I),p+=1;var H=32-le(t)+I;if(30<H){var G=I-I%5;H=(E&(1<<G)-1).toString(32),E>>=G,I-=G,xi=1<<32-le(t)+I|p<<I|E,wi=H+e}else xi=1<<H|p<<I|E,wi=e}function Yc(e){e.return!==null&&(ji(e,1),kf(e,1,0))}function Xc(e){for(;e===Qa;)Qa=Bs[--Hs],Bs[Hs]=null,Po=Bs[--Hs],Bs[Hs]=null;for(;e===or;)or=Vn[--Gn],Vn[Gn]=null,wi=Vn[--Gn],Vn[Gn]=null,xi=Vn[--Gn],Vn[Gn]=null}function Tf(e,t){Vn[Gn++]=xi,Vn[Gn++]=wi,Vn[Gn++]=or,xi=t.id,wi=t.overflow,or=e}var Jt=null,vt=null,qe=!1,ar=null,Kn=!1,qc=Error(v(519));function lr(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Un(t,e)),qc}function Mf(e){var t=e.stateNode,p=e.type,E=e.memoizedProps;switch(t[Mt]=e,t[Ut]=E,p){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(p=0;p<ha.length;p++)Ge(ha[p],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),No(t,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Pr(t,E.value,E.defaultValue,E.children)}p=E.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||t.textContent===""+p||E.suppressHydrationWarning===!0||Gg(t.textContent,p)?(E.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),E.onScroll!=null&&Ge("scroll",t),E.onScrollEnd!=null&&Ge("scrollend",t),E.onClick!=null&&(t.onclick=oi),t=!0):t=!1,t||lr(e,!0)}function Lf(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function zs(e){if(e!==Jt)return!1;if(!qe)return Lf(e),qe=!0,!1;var t=e.tag,p;if((p=t!==3&&t!==27)&&((p=t===5)&&(p=e.type,p=!(p!=="form"&&p!=="button")||ph(e.type,e.memoizedProps)),p=!p),p&&vt&&lr(e),Lf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));vt=tm(e)}else t===27?(t=vt,wr(e.type)?(e=bh,bh=null,vt=e):vt=t):vt=Jt?Xn(e.stateNode.nextSibling):null;return!0}function Yr(){vt=Jt=null,qe=!1}function Zc(){var e=ar;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),ar=null),e}function Wo(e){ar===null?ar=[e]:ar.push(e)}var Qc=W(null),Xr=null,Ii=null;function cr(e,t,p){Y(Qc,t._currentValue),t._currentValue=p}function Bi(e){e._currentValue=Qc.current,K(Qc)}function Jc(e,t,p){for(;e!==null;){var E=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,E!==null&&(E.childLanes|=t)):E!==null&&(E.childLanes&t)!==t&&(E.childLanes|=t),e===p)break;e=e.return}}function eu(e,t,p,E){var I=e.child;for(I!==null&&(I.return=e);I!==null;){var H=I.dependencies;if(H!==null){var G=I.child;H=H.firstContext;e:for(;H!==null;){var Z=H;H=I;for(var re=0;re<t.length;re++)if(Z.context===t[re]){H.lanes|=p,Z=H.alternate,Z!==null&&(Z.lanes|=p),Jc(H.return,p,e),E||(G=null);break e}H=Z.next}}else if(I.tag===18){if(G=I.return,G===null)throw Error(v(341));G.lanes|=p,H=G.alternate,H!==null&&(H.lanes|=p),Jc(G,p,e),G=null}else G=I.child;if(G!==null)G.return=I;else for(G=I;G!==null;){if(G===e){G=null;break}if(I=G.sibling,I!==null){I.return=G.return,G=I;break}G=G.return}I=G}}function Fs(e,t,p,E){e=null;for(var I=t,H=!1;I!==null;){if(!H){if((I.flags&524288)!==0)H=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var G=I.alternate;if(G===null)throw Error(v(387));if(G=G.memoizedProps,G!==null){var Z=I.type;Cn(I.pendingProps.value,G.value)||(e!==null?e.push(Z):e=[Z])}}else if(I===V.current){if(G=I.alternate,G===null)throw Error(v(387));G.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(e!==null?e.push(ma):e=[ma])}I=I.return}e!==null&&eu(t,e,p,E),t.flags|=262144}function Ja(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Xr=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Rf(Xr,e)}function el(e,t){return Xr===null&&qr(e),Rf(e,t)}function Rf(e,t){var p=t._currentValue;if(t={context:t,memoizedValue:p,next:null},Ii===null){if(e===null)throw Error(v(308));Ii=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ii=Ii.next=t;return p}var mb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(p,E){e.push(E)}};this.abort=function(){t.aborted=!0,e.forEach(function(p){return p()})}},vb=l.unstable_scheduleCallback,yb=l.unstable_NormalPriority,It={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new mb,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&vb(yb,function(){e.controller.abort()})}var Vo=null,nu=0,Ps=0,Ws=null;function bb(e,t){if(Vo===null){var p=Vo=[];nu=0,Ps=sh(),Ws={status:"pending",value:void 0,then:function(E){p.push(E)}}}return nu++,t.then(Nf,Nf),t}function Nf(){if(--nu===0&&Vo!==null){Ws!==null&&(Ws.status="fulfilled");var e=Vo;Vo=null,Ps=0,Ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _b(e,t){var p=[],E={status:"pending",value:null,reason:null,then:function(I){p.push(I)}};return e.then(function(){E.status="fulfilled",E.value=t;for(var I=0;I<p.length;I++)(0,p[I])(t)},function(I){for(E.status="rejected",E.reason=I,I=0;I<p.length;I++)(0,p[I])(void 0)}),E}var $f=O.S;O.S=function(e,t){mg=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bb(e,t),$f!==null&&$f(e,t)};var Zr=W(null);function iu(){var e=Zr.current;return e!==null?e:ft.pooledCache}function tl(e,t){t===null?Y(Zr,Zr.current):Y(Zr,t.pool)}function Df(){var e=iu();return e===null?null:{parent:It._currentValue,pool:e}}var Us=Error(v(460)),ru=Error(v(474)),nl=Error(v(542)),il={then:function(){}};function Of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jf(e,t,p){switch(p=e[p],p===void 0?e.push(t):p!==t&&(t.then(oi,oi),t=p),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e;default:if(typeof t.status=="string")t.then(oi,oi);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(E){if(t.status==="pending"){var I=t;I.status="fulfilled",I.value=E}},function(E){if(t.status==="pending"){var I=t;I.status="rejected",I.reason=E}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bf(e),e}throw Jr=t,Us}}function Qr(e){try{var t=e._init;return t(e._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Jr=p,Us):p}}var Jr=null;function If(){if(Jr===null)throw Error(v(459));var e=Jr;return Jr=null,e}function Bf(e){if(e===Us||e===nl)throw Error(v(483))}var Vs=null,Go=0;function rl(e){var t=Go;return Go+=1,Vs===null&&(Vs=[]),jf(Vs,e,t)}function Ko(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===i?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hf(e){function t(ae,se){if(e){var ce=ae.deletions;ce===null?(ae.deletions=[se],ae.flags|=16):ce.push(se)}}function p(ae,se){if(!e)return null;for(;se!==null;)t(ae,se),se=se.sibling;return null}function E(ae){for(var se=new Map;ae!==null;)ae.key!==null?se.set(ae.key,ae):se.set(ae.index,ae),ae=ae.sibling;return se}function I(ae,se){return ae=Oi(ae,se),ae.index=0,ae.sibling=null,ae}function H(ae,se,ce){return ae.index=ce,e?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<se?(ae.flags|=67108866,se):ce):(ae.flags|=67108866,se)):(ae.flags|=1048576,se)}function G(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function Z(ae,se,ce,ge){return se===null||se.tag!==6?(se=Gc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function re(ae,se,ce,ge){var Re=ce.type;return Re===u?fe(ae,se,ce.props.children,ge,ce.key):se!==null&&(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Qr(Re)===se.type)?(se=I(se,ce.props),Ko(se,ce),se.return=ae,se):(se=Za(ce.type,ce.key,ce.props,null,ae.mode,ge),Ko(se,ce),se.return=ae,se)}function ue(ae,se,ce,ge){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=Kc(ce,ae.mode,ge),se.return=ae,se):(se=I(se,ce.children||[]),se.return=ae,se)}function fe(ae,se,ce,ge,Re){return se===null||se.tag!==7?(se=Kr(ce,ae.mode,ge,Re),se.return=ae,se):(se=I(se,ce),se.return=ae,se)}function ve(ae,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Gc(""+se,ae.mode,ce),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case s:return ce=Za(se.type,se.key,se.props,null,ae.mode,ce),Ko(ce,se),ce.return=ae,ce;case c:return se=Kc(se,ae.mode,ce),se.return=ae,se;case A:return se=Qr(se),ve(ae,se,ce)}if(R(se)||$(se))return se=Kr(se,ae.mode,ce,null),se.return=ae,se;if(typeof se.then=="function")return ve(ae,rl(se),ce);if(se.$$typeof===x)return ve(ae,el(ae,se),ce);sl(ae,se)}return null}function he(ae,se,ce,ge){var Re=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Re!==null?null:Z(ae,se,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case s:return ce.key===Re?re(ae,se,ce,ge):null;case c:return ce.key===Re?ue(ae,se,ce,ge):null;case A:return ce=Qr(ce),he(ae,se,ce,ge)}if(R(ce)||$(ce))return Re!==null?null:fe(ae,se,ce,ge,null);if(typeof ce.then=="function")return he(ae,se,rl(ce),ge);if(ce.$$typeof===x)return he(ae,se,el(ae,ce),ge);sl(ae,ce)}return null}function de(ae,se,ce,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ae=ae.get(ce)||null,Z(se,ae,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case s:return ae=ae.get(ge.key===null?ce:ge.key)||null,re(se,ae,ge,Re);case c:return ae=ae.get(ge.key===null?ce:ge.key)||null,ue(se,ae,ge,Re);case A:return ge=Qr(ge),de(ae,se,ce,ge,Re)}if(R(ge)||$(ge))return ae=ae.get(ce)||null,fe(se,ae,ge,Re,null);if(typeof ge.then=="function")return de(ae,se,ce,rl(ge),Re);if(ge.$$typeof===x)return de(ae,se,ce,el(se,ge),Re);sl(se,ge)}return null}function Ee(ae,se,ce,ge){for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null;Te!==null&&ze<ce.length;ze++){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var et=he(ae,Te,ce[ze],ge);if(et===null){Te===null&&(Te=Ye);break}e&&Te&&et.alternate===null&&t(ae,Te),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et,Te=Ye}if(ze===ce.length)return p(ae,Te),qe&&ji(ae,ze),Re;if(Te===null){for(;ze<ce.length;ze++)Te=ve(ae,ce[ze],ge),Te!==null&&(se=H(Te,se,ze),Je===null?Re=Te:Je.sibling=Te,Je=Te);return qe&&ji(ae,ze),Re}for(Te=E(Te);ze<ce.length;ze++)Ye=de(Te,ae,ze,ce[ze],ge),Ye!==null&&(e&&Ye.alternate!==null&&Te.delete(Ye.key===null?ze:Ye.key),se=H(Ye,se,ze),Je===null?Re=Ye:Je.sibling=Ye,Je=Ye);return e&&Te.forEach(function(kr){return t(ae,kr)}),qe&&ji(ae,ze),Re}function $e(ae,se,ce,ge){if(ce==null)throw Error(v(151));for(var Re=null,Je=null,Te=se,ze=se=0,Ye=null,et=ce.next();Te!==null&&!et.done;ze++,et=ce.next()){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var kr=he(ae,Te,et.value,ge);if(kr===null){Te===null&&(Te=Ye);break}e&&Te&&kr.alternate===null&&t(ae,Te),se=H(kr,se,ze),Je===null?Re=kr:Je.sibling=kr,Je=kr,Te=Ye}if(et.done)return p(ae,Te),qe&&ji(ae,ze),Re;if(Te===null){for(;!et.done;ze++,et=ce.next())et=ve(ae,et.value,ge),et!==null&&(se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return qe&&ji(ae,ze),Re}for(Te=E(Te);!et.done;ze++,et=ce.next())et=de(Te,ae,ze,et.value,ge),et!==null&&(e&&et.alternate!==null&&Te.delete(et.key===null?ze:et.key),se=H(et,se,ze),Je===null?Re=et:Je.sibling=et,Je=et);return e&&Te.forEach(function(R_){return t(ae,R_)}),qe&&ji(ae,ze),Re}function ht(ae,se,ce,ge){if(typeof ce=="object"&&ce!==null&&ce.type===u&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case s:e:{for(var Re=ce.key;se!==null;){if(se.key===Re){if(Re=ce.type,Re===u){if(se.tag===7){p(ae,se.sibling),ge=I(se,ce.props.children),ge.return=ae,ae=ge;break e}}else if(se.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Qr(Re)===se.type){p(ae,se.sibling),ge=I(se,ce.props),Ko(ge,ce),ge.return=ae,ae=ge;break e}p(ae,se);break}else t(ae,se);se=se.sibling}ce.type===u?(ge=Kr(ce.props.children,ae.mode,ge,ce.key),ge.return=ae,ae=ge):(ge=Za(ce.type,ce.key,ce.props,null,ae.mode,ge),Ko(ge,ce),ge.return=ae,ae=ge)}return G(ae);case c:e:{for(Re=ce.key;se!==null;){if(se.key===Re)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){p(ae,se.sibling),ge=I(se,ce.children||[]),ge.return=ae,ae=ge;break e}else{p(ae,se);break}else t(ae,se);se=se.sibling}ge=Kc(ce,ae.mode,ge),ge.return=ae,ae=ge}return G(ae);case A:return ce=Qr(ce),ht(ae,se,ce,ge)}if(R(ce))return Ee(ae,se,ce,ge);if($(ce)){if(Re=$(ce),typeof Re!="function")throw Error(v(150));return ce=Re.call(ce),$e(ae,se,ce,ge)}if(typeof ce.then=="function")return ht(ae,se,rl(ce),ge);if(ce.$$typeof===x)return ht(ae,se,el(ae,ce),ge);sl(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,se!==null&&se.tag===6?(p(ae,se.sibling),ge=I(se,ce),ge.return=ae,ae=ge):(p(ae,se),ge=Gc(ce,ae.mode,ge),ge.return=ae,ae=ge),G(ae)):p(ae,se)}return function(ae,se,ce,ge){try{Go=0;var Re=ht(ae,se,ce,ge);return Vs=null,Re}catch(Te){if(Te===Us||Te===nl)throw Te;var Je=En(29,Te,null,ae.mode);return Je.lanes=ge,Je.return=ae,Je}}}var es=Hf(!0),zf=Hf(!1),ur=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,t,p){var E=e.updateQueue;if(E===null)return null;if(E=E.shared,(tt&2)!==0){var I=E.pending;return I===null?t.next=t:(t.next=I.next,I.next=t),E.pending=t,t=qa(e),Sf(e,null,p),t}return Xa(e,E,t,p),qa(e)}function Yo(e,t,p){if(t=t.updateQueue,t!==null&&(t=t.shared,(p&4194048)!==0)){var E=t.lanes;E&=e.pendingLanes,p|=E,t.lanes=p,ms(e,p)}}function au(e,t){var p=e.updateQueue,E=e.alternate;if(E!==null&&(E=E.updateQueue,p===E)){var I=null,H=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};H===null?I=H=G:H=H.next=G,p=p.next}while(p!==null);H===null?I=H=t:H=H.next=t}else I=H=t;p={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:H,shared:E.shared,callbacks:E.callbacks},e.updateQueue=p;return}e=p.lastBaseUpdate,e===null?p.firstBaseUpdate=t:e.next=t,p.lastBaseUpdate=t}var lu=!1;function Xo(){if(lu){var e=Ws;if(e!==null)throw e}}function qo(e,t,p,E){lu=!1;var I=e.updateQueue;ur=!1;var H=I.firstBaseUpdate,G=I.lastBaseUpdate,Z=I.shared.pending;if(Z!==null){I.shared.pending=null;var re=Z,ue=re.next;re.next=null,G===null?H=ue:G.next=ue,G=re;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,Z=fe.lastBaseUpdate,Z!==G&&(Z===null?fe.firstBaseUpdate=ue:Z.next=ue,fe.lastBaseUpdate=re))}if(H!==null){var ve=I.baseState;G=0,fe=ue=re=null,Z=H;do{var he=Z.lane&-536870913,de=he!==Z.lane;if(de?(Ke&he)===he:(E&he)===he){he!==0&&he===Ps&&(lu=!0),fe!==null&&(fe=fe.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ee=e,$e=Z;he=t;var ht=p;switch($e.tag){case 1:if(Ee=$e.payload,typeof Ee=="function"){ve=Ee.call(ht,ve,he);break e}ve=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=$e.payload,he=typeof Ee=="function"?Ee.call(ht,ve,he):Ee,he==null)break e;ve=n({},ve,he);break e;case 2:ur=!0}}he=Z.callback,he!==null&&(e.flags|=64,de&&(e.flags|=8192),de=I.callbacks,de===null?I.callbacks=[he]:de.push(he))}else de={lane:he,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},fe===null?(ue=fe=de,re=ve):fe=fe.next=de,G|=he;if(Z=Z.next,Z===null){if(Z=I.shared.pending,Z===null)break;de=Z,Z=de.next,de.next=null,I.lastBaseUpdate=de,I.shared.pending=null}}while(!0);fe===null&&(re=ve),I.baseState=re,I.firstBaseUpdate=ue,I.lastBaseUpdate=fe,H===null&&(I.shared.lanes=0),vr|=G,e.lanes=G,e.memoizedState=ve}}function Ff(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Pf(e,t){var p=e.callbacks;if(p!==null)for(e.callbacks=null,e=0;e<p.length;e++)Ff(p[e],t)}var Gs=W(null),ol=W(0);function Wf(e,t){e=Ki,Y(ol,e),Y(Gs,t),Ki=e|t.baseLanes}function cu(){Y(ol,Ki),Y(Gs,Gs.current)}function uu(){Ki=ol.current,K(Gs),K(ol)}var An=W(null),Yn=null;function fr(e){var t=e.alternate;Y(Rt,Rt.current&1),Y(An,e),Yn===null&&(t===null||Gs.current!==null||t.memoizedState!==null)&&(Yn=e)}function hu(e){Y(Rt,Rt.current),Y(An,e),Yn===null&&(Yn=e)}function Uf(e){e.tag===22?(Y(Rt,Rt.current),Y(An,e),Yn===null&&(Yn=e)):pr()}function pr(){Y(Rt,Rt.current),Y(An,An.current)}function kn(e){K(An),Yn===e&&(Yn=null),K(Rt)}var Rt=W(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var p=t.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||vh(p)||yh(p)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hi=0,Be=null,ct=null,Bt=null,ll=!1,Ks=!1,ts=!1,cl=0,Zo=0,Ys=null,xb=0;function Ct(){throw Error(v(321))}function du(e,t){if(t===null)return!1;for(var p=0;p<t.length&&p<e.length;p++)if(!Cn(e[p],t[p]))return!1;return!0}function fu(e,t,p,E,I,H){return Hi=H,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?kp:Tu,ts=!1,H=p(E,I),ts=!1,Ks&&(H=Gf(t,p,E,I)),Vf(e),H}function Vf(e){O.H=ea;var t=ct!==null&&ct.next!==null;if(Hi=0,Bt=ct=Be=null,ll=!1,Zo=0,Ys=null,t)throw Error(v(300));e===null||Ht||(e=e.dependencies,e!==null&&Ja(e)&&(Ht=!0))}function Gf(e,t,p,E){Be=e;var I=0;do{if(Ks&&(Ys=null),Zo=0,Ks=!1,25<=I)throw Error(v(301));if(I+=1,Bt=ct=null,e.updateQueue!=null){var H=e.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}O.H=Tp,H=t(p,E)}while(Ks);return H}function wb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Qo(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Be.flags|=1024),t}function pu(){var e=cl!==0;return cl=0,e}function gu(e,t,p){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p}function mu(e){if(ll){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ll=!1}Hi=0,Bt=ct=Be=null,Ks=!1,Zo=cl=0,Ys=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Be.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Nt(){if(ct===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Bt===null?Be.memoizedState:Bt.next;if(t!==null)Bt=t,ct=e;else{if(e===null)throw Be.alternate===null?Error(v(467)):Error(v(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Bt===null?Be.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var t=Zo;return Zo+=1,Ys===null&&(Ys=[]),e=jf(Ys,e,t),t=Be,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?kp:Tu),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===x)return en(e)}throw Error(v(438,String(e)))}function vu(e){var t=null,p=Be.updateQueue;if(p!==null&&(t=p.memoCache),t==null){var E=Be.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(t={data:E.data.map(function(I){return I.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),p===null&&(p=ul(),Be.updateQueue=p),p.memoCache=t,p=t.data[t.index],p===void 0)for(p=t.data[t.index]=Array(e),E=0;E<e;E++)p[E]=j;return t.index++,p}function zi(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=Nt();return yu(t,ct,e)}function yu(e,t,p){var E=e.queue;if(E===null)throw Error(v(311));E.lastRenderedReducer=p;var I=e.baseQueue,H=E.pending;if(H!==null){if(I!==null){var G=I.next;I.next=H.next,H.next=G}t.baseQueue=I=H,E.pending=null}if(H=e.baseState,I===null)e.memoizedState=H;else{t=I.next;var Z=G=null,re=null,ue=t,fe=!1;do{var ve=ue.lane&-536870913;if(ve!==ue.lane?(Ke&ve)===ve:(Hi&ve)===ve){var he=ue.revertLane;if(he===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),ve===Ps&&(fe=!0);else if((Hi&he)===he){ue=ue.next,he===Ps&&(fe=!0);continue}else ve={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=ve,G=H):re=re.next=ve,Be.lanes|=he,vr|=he;ve=ue.action,ts&&p(H,ve),H=ue.hasEagerState?ue.eagerState:p(H,ve)}else he={lane:ve,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},re===null?(Z=re=he,G=H):re=re.next=he,Be.lanes|=ve,vr|=ve;ue=ue.next}while(ue!==null&&ue!==t);if(re===null?G=H:re.next=Z,!Cn(H,e.memoizedState)&&(Ht=!0,fe&&(p=Ws,p!==null)))throw p;e.memoizedState=H,e.baseState=G,e.baseQueue=re,E.lastRenderedState=H}return I===null&&(E.lanes=0),[e.memoizedState,E.dispatch]}function bu(e){var t=Nt(),p=t.queue;if(p===null)throw Error(v(311));p.lastRenderedReducer=e;var E=p.dispatch,I=p.pending,H=t.memoizedState;if(I!==null){p.pending=null;var G=I=I.next;do H=e(H,G.action),G=G.next;while(G!==I);Cn(H,t.memoizedState)||(Ht=!0),t.memoizedState=H,t.baseQueue===null&&(t.baseState=H),p.lastRenderedState=H}return[H,E]}function Kf(e,t,p){var E=Be,I=Nt(),H=qe;if(H){if(p===void 0)throw Error(v(407));p=p()}else p=t();var G=!Cn((ct||I).memoizedState,p);if(G&&(I.memoizedState=p,Ht=!0),I=I.queue,wu(qf.bind(null,E,I,e),[e]),I.getSnapshot!==t||G||Bt!==null&&Bt.memoizedState.tag&1){if(E.flags|=2048,Xs(9,{destroy:void 0},Xf.bind(null,E,I,p,t),null),ft===null)throw Error(v(349));H||(Hi&127)!==0||Yf(E,t,p)}return p}function Yf(e,t,p){e.flags|=16384,e={getSnapshot:t,value:p},t=Be.updateQueue,t===null?(t=ul(),Be.updateQueue=t,t.stores=[e]):(p=t.stores,p===null?t.stores=[e]:p.push(e))}function Xf(e,t,p,E){t.value=p,t.getSnapshot=E,Zf(t)&&Qf(e)}function qf(e,t,p){return p(function(){Zf(t)&&Qf(e)})}function Zf(e){var t=e.getSnapshot;e=e.value;try{var p=t();return!Cn(e,p)}catch{return!0}}function Qf(e){var t=Gr(e,2);t!==null&&bn(t,e,2)}function _u(e){var t=hn();if(typeof e=="function"){var p=e;if(e=p(),ts){wt(!0);try{p()}finally{wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t}function Jf(e,t,p,E){return e.baseState=p,yu(e,ct,typeof E=="function"?E:zi)}function Sb(e,t,p,E,I){if(gl(e))throw Error(v(485));if(e=t.action,e!==null){var H={payload:I,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){H.listeners.push(G)}};O.T!==null?p(!0):H.isTransition=!1,E(H),p=t.pending,p===null?(H.next=t.pending=H,ep(t,H)):(H.next=p.next,t.pending=p.next=H)}}function ep(e,t){var p=t.action,E=t.payload,I=e.state;if(t.isTransition){var H=O.T,G={};O.T=G;try{var Z=p(I,E),re=O.S;re!==null&&re(G,Z),tp(e,t,Z)}catch(ue){xu(e,t,ue)}finally{H!==null&&G.types!==null&&(H.types=G.types),O.T=H}}else try{H=p(I,E),tp(e,t,H)}catch(ue){xu(e,t,ue)}}function tp(e,t,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(E){np(e,t,E)},function(E){return xu(e,t,E)}):np(e,t,p)}function np(e,t,p){t.status="fulfilled",t.value=p,ip(t),e.state=p,t=e.pending,t!==null&&(p=t.next,p===t?e.pending=null:(p=p.next,t.next=p,ep(e,p)))}function xu(e,t,p){var E=e.pending;if(e.pending=null,E!==null){E=E.next;do t.status="rejected",t.reason=p,ip(t),t=t.next;while(t!==E)}e.action=null}function ip(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rp(e,t){return t}function sp(e,t){if(qe){var p=ft.formState;if(p!==null){e:{var E=Be;if(qe){if(vt){t:{for(var I=vt,H=Kn;I.nodeType!==8;){if(!H){I=null;break t}if(I=Xn(I.nextSibling),I===null){I=null;break t}}H=I.data,I=H==="F!"||H==="F"?I:null}if(I){vt=Xn(I.nextSibling),E=I.data==="F!";break e}}lr(E)}E=!1}E&&(t=p[0])}}return p=hn(),p.memoizedState=p.baseState=t,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:t},p.queue=E,p=Cp.bind(null,Be,E),E.dispatch=p,E=_u(!1),H=ku.bind(null,Be,!1,E.queue),E=hn(),I={state:t,dispatch:null,action:e,pending:null},E.queue=I,p=Sb.bind(null,Be,I,H,p),I.dispatch=p,E.memoizedState=e,[t,p,!1]}function op(e){var t=Nt();return ap(t,ct,e)}function ap(e,t,p){if(t=yu(e,t,rp)[0],e=dl(zi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var E=Qo(t)}catch(G){throw G===Us?nl:G}else E=t;t=Nt();var I=t.queue,H=I.dispatch;return p!==t.memoizedState&&(Be.flags|=2048,Xs(9,{destroy:void 0},Cb.bind(null,I,p),null)),[E,H,e]}function Cb(e,t){e.action=t}function lp(e){var t=Nt(),p=ct;if(p!==null)return ap(t,p,e);Nt(),t=t.memoizedState,p=Nt();var E=p.queue.dispatch;return p.memoizedState=e,[t,E,!1]}function Xs(e,t,p,E){return e={tag:e,create:p,deps:E,inst:t,next:null},t=Be.updateQueue,t===null&&(t=ul(),Be.updateQueue=t),p=t.lastEffect,p===null?t.lastEffect=e.next=e:(E=p.next,p.next=e,e.next=E,t.lastEffect=e),e}function cp(){return Nt().memoizedState}function fl(e,t,p,E){var I=hn();Be.flags|=e,I.memoizedState=Xs(1|t,{destroy:void 0},p,E===void 0?null:E)}function pl(e,t,p,E){var I=Nt();E=E===void 0?null:E;var H=I.memoizedState.inst;ct!==null&&E!==null&&du(E,ct.memoizedState.deps)?I.memoizedState=Xs(t,H,p,E):(Be.flags|=e,I.memoizedState=Xs(1|t,H,p,E))}function up(e,t){fl(8390656,8,e,t)}function wu(e,t){pl(2048,8,e,t)}function Eb(e){Be.flags|=4;var t=Be.updateQueue;if(t===null)t=ul(),Be.updateQueue=t,t.events=[e];else{var p=t.events;p===null?t.events=[e]:p.push(e)}}function hp(e){var t=Nt().memoizedState;return Eb({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function dp(e,t){return pl(4,2,e,t)}function fp(e,t){return pl(4,4,e,t)}function pp(e,t){if(typeof t=="function"){e=e();var p=t(e);return function(){typeof p=="function"?p():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gp(e,t,p){p=p!=null?p.concat([e]):null,pl(4,4,pp.bind(null,t,e),p)}function Su(){}function mp(e,t){var p=Nt();t=t===void 0?null:t;var E=p.memoizedState;return t!==null&&du(t,E[1])?E[0]:(p.memoizedState=[e,t],e)}function vp(e,t){var p=Nt();t=t===void 0?null:t;var E=p.memoizedState;if(t!==null&&du(t,E[1]))return E[0];if(E=e(),ts){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[E,t],E}function Cu(e,t,p){return p===void 0||(Hi&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=t:(e.memoizedState=p,e=yg(),Be.lanes|=e,vr|=e,p)}function yp(e,t,p,E){return Cn(p,t)?p:Gs.current!==null?(e=Cu(e,p,E),Cn(e,t)||(Ht=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ke&261930)===0?(Ht=!0,e.memoizedState=p):(e=yg(),Be.lanes|=e,vr|=e,t)}function bp(e,t,p,E,I){var H=z.p;z.p=H!==0&&8>H?H:8;var G=O.T,Z={};O.T=Z,ku(e,!1,t,p);try{var re=I(),ue=O.S;if(ue!==null&&ue(Z,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=_b(re,E);Jo(e,t,fe,Ln(e))}else Jo(e,t,E,Ln(e))}catch(ve){Jo(e,t,{then:function(){},status:"rejected",reason:ve},Ln())}finally{z.p=H,G!==null&&Z.types!==null&&(G.types=Z.types),O.T=G}}function Ab(){}function Eu(e,t,p,E){if(e.tag!==5)throw Error(v(476));var I=_p(e).queue;bp(e,I,t,B,p===null?Ab:function(){return xp(e),p(E)})}function _p(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:B},next:null};var p={};return t.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:p},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xp(e){var t=_p(e);t.next===null&&(t=e.alternate.memoizedState),Jo(e,t.next.queue,{},Ln())}function Au(){return en(ma)}function wp(){return Nt().memoizedState}function Sp(){return Nt().memoizedState}function kb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var p=Ln();e=hr(p);var E=dr(t,e,p);E!==null&&(bn(E,t,p),Yo(E,t,p)),t={cache:tu()},e.payload=t;return}t=t.return}}function Tb(e,t,p){var E=Ln();p={lane:E,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},gl(e)?Ep(t,p):(p=Uc(e,t,p,E),p!==null&&(bn(p,e,E),Ap(p,t,E)))}function Cp(e,t,p){var E=Ln();Jo(e,t,p,E)}function Jo(e,t,p,E){var I={lane:E,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(gl(e))Ep(t,I);else{var H=e.alternate;if(e.lanes===0&&(H===null||H.lanes===0)&&(H=t.lastRenderedReducer,H!==null))try{var G=t.lastRenderedState,Z=H(G,p);if(I.hasEagerState=!0,I.eagerState=Z,Cn(Z,G))return Xa(e,t,I,0),ft===null&&Ya(),!1}catch{}if(p=Uc(e,t,I,E),p!==null)return bn(p,e,E),Ap(p,t,E),!0}return!1}function ku(e,t,p,E){if(E={lane:2,revertLane:sh(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},gl(e)){if(t)throw Error(v(479))}else t=Uc(e,p,E,2),t!==null&&bn(t,e,2)}function gl(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Ep(e,t){Ks=ll=!0;var p=e.pending;p===null?t.next=t:(t.next=p.next,p.next=t),e.pending=t}function Ap(e,t,p){if((p&4194048)!==0){var E=t.lanes;E&=e.pendingLanes,p|=E,t.lanes=p,ms(e,p)}}var ea={readContext:en,use:hl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ea.useEffectEvent=Ct;var kp={readContext:en,use:hl,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:up,useImperativeHandle:function(e,t,p){p=p!=null?p.concat([e]):null,fl(4194308,4,pp.bind(null,t,e),p)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){fl(4,2,e,t)},useMemo:function(e,t){var p=hn();t=t===void 0?null:t;var E=e();if(ts){wt(!0);try{e()}finally{wt(!1)}}return p.memoizedState=[E,t],E},useReducer:function(e,t,p){var E=hn();if(p!==void 0){var I=p(t);if(ts){wt(!0);try{p(t)}finally{wt(!1)}}}else I=t;return E.memoizedState=E.baseState=I,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:I},E.queue=e,e=e.dispatch=Tb.bind(null,Be,e),[E.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:function(e){e=_u(e);var t=e.queue,p=Cp.bind(null,Be,t);return t.dispatch=p,[e.memoizedState,p]},useDebugValue:Su,useDeferredValue:function(e,t){var p=hn();return Cu(p,e,t)},useTransition:function(){var e=_u(!1);return e=bp.bind(null,Be,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,p){var E=Be,I=hn();if(qe){if(p===void 0)throw Error(v(407));p=p()}else{if(p=t(),ft===null)throw Error(v(349));(Ke&127)!==0||Yf(E,t,p)}I.memoizedState=p;var H={value:p,getSnapshot:t};return I.queue=H,up(qf.bind(null,E,H,e),[e]),E.flags|=2048,Xs(9,{destroy:void 0},Xf.bind(null,E,H,p,t),null),p},useId:function(){var e=hn(),t=ft.identifierPrefix;if(qe){var p=wi,E=xi;p=(E&~(1<<32-le(E)-1)).toString(32)+p,t="_"+t+"R_"+p,p=cl++,0<p&&(t+="H"+p.toString(32)),t+="_"}else p=xb++,t="_"+t+"r_"+p.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Au,useFormState:sp,useActionState:sp,useOptimistic:function(e){var t=hn();t.memoizedState=t.baseState=e;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=p,t=ku.bind(null,Be,!0,p),p.dispatch=t,[e,t]},useMemoCache:vu,useCacheRefresh:function(){return hn().memoizedState=kb.bind(null,Be)},useEffectEvent:function(e){var t=hn(),p={impl:e};return t.memoizedState=p,function(){if((tt&2)!==0)throw Error(v(440));return p.impl.apply(void 0,arguments)}}},Tu={readContext:en,use:hl,useCallback:mp,useContext:en,useEffect:wu,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:vp,useReducer:dl,useRef:cp,useState:function(){return dl(zi)},useDebugValue:Su,useDeferredValue:function(e,t){var p=Nt();return yp(p,ct.memoizedState,e,t)},useTransition:function(){var e=dl(zi)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Kf,useId:wp,useHostTransitionStatus:Au,useFormState:op,useActionState:op,useOptimistic:function(e,t){var p=Nt();return Jf(p,ct,e,t)},useMemoCache:vu,useCacheRefresh:Sp};Tu.useEffectEvent=hp;var Tp={readContext:en,use:hl,useCallback:mp,useContext:en,useEffect:wu,useImperativeHandle:gp,useInsertionEffect:dp,useLayoutEffect:fp,useMemo:vp,useReducer:bu,useRef:cp,useState:function(){return bu(zi)},useDebugValue:Su,useDeferredValue:function(e,t){var p=Nt();return ct===null?Cu(p,e,t):yp(p,ct.memoizedState,e,t)},useTransition:function(){var e=bu(zi)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Kf,useId:wp,useHostTransitionStatus:Au,useFormState:lp,useActionState:lp,useOptimistic:function(e,t){var p=Nt();return ct!==null?Jf(p,ct,e,t):(p.baseState=e,[e,p.queue.dispatch])},useMemoCache:vu,useCacheRefresh:Sp};Tp.useEffectEvent=hp;function Mu(e,t,p,E){t=e.memoizedState,p=p(E,t),p=p==null?t:n({},t,p),e.memoizedState=p,e.lanes===0&&(e.updateQueue.baseState=p)}var Lu={enqueueSetState:function(e,t,p){e=e._reactInternals;var E=Ln(),I=hr(E);I.payload=t,p!=null&&(I.callback=p),t=dr(e,I,E),t!==null&&(bn(t,e,E),Yo(t,e,E))},enqueueReplaceState:function(e,t,p){e=e._reactInternals;var E=Ln(),I=hr(E);I.tag=1,I.payload=t,p!=null&&(I.callback=p),t=dr(e,I,E),t!==null&&(bn(t,e,E),Yo(t,e,E))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var p=Ln(),E=hr(p);E.tag=2,t!=null&&(E.callback=t),t=dr(e,E,p),t!==null&&(bn(t,e,p),Yo(t,e,p))}};function Mp(e,t,p,E,I,H,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(E,H,G):t.prototype&&t.prototype.isPureReactComponent?!zo(p,E)||!zo(I,H):!0}function Lp(e,t,p,E){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(p,E),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(p,E),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function ns(e,t){var p=t;if("ref"in t){p={};for(var E in t)E!=="ref"&&(p[E]=t[E])}if(e=e.defaultProps){p===t&&(p=n({},p));for(var I in e)p[I]===void 0&&(p[I]=e[I])}return p}function Rp(e){Ka(e)}function Np(e){console.error(e)}function $p(e){Ka(e)}function ml(e,t){try{var p=e.onUncaughtError;p(t.value,{componentStack:t.stack})}catch(E){setTimeout(function(){throw E})}}function Dp(e,t,p){try{var E=e.onCaughtError;E(p.value,{componentStack:p.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Ru(e,t,p){return p=hr(p),p.tag=3,p.payload={element:null},p.callback=function(){ml(e,t)},p}function Op(e){return e=hr(e),e.tag=3,e}function jp(e,t,p,E){var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var H=E.value;e.payload=function(){return I(H)},e.callback=function(){Dp(t,p,E)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(e.callback=function(){Dp(t,p,E),typeof I!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var Z=E.stack;this.componentDidCatch(E.value,{componentStack:Z!==null?Z:""})})}function Mb(e,t,p,E,I){if(p.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(t=p.alternate,t!==null&&Fs(t,p,I,!0),p=An.current,p!==null){switch(p.tag){case 31:case 13:return Yn===null?Tl():p.alternate===null&&Et===0&&(Et=3),p.flags&=-257,p.flags|=65536,p.lanes=I,E===il?p.flags|=16384:(t=p.updateQueue,t===null?p.updateQueue=new Set([E]):t.add(E),nh(e,E,I)),!1;case 22:return p.flags|=65536,E===il?p.flags|=16384:(t=p.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([E])},p.updateQueue=t):(p=t.retryQueue,p===null?t.retryQueue=new Set([E]):p.add(E)),nh(e,E,I)),!1}throw Error(v(435,p.tag))}return nh(e,E,I),Tl(),!1}if(qe)return t=An.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=I,E!==qc&&(e=Error(v(422),{cause:E}),Wo(Un(e,p)))):(E!==qc&&(t=Error(v(423),{cause:E}),Wo(Un(t,p))),e=e.current.alternate,e.flags|=65536,I&=-I,e.lanes|=I,E=Un(E,p),I=Ru(e.stateNode,E,I),au(e,I),Et!==4&&(Et=2)),!1;var H=Error(v(520),{cause:E});if(H=Un(H,p),la===null?la=[H]:la.push(H),Et!==4&&(Et=2),t===null)return!0;E=Un(E,p),p=t;do{switch(p.tag){case 3:return p.flags|=65536,e=I&-I,p.lanes|=e,e=Ru(p.stateNode,E,e),au(p,e),!1;case 1:if(t=p.type,H=p.stateNode,(p.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(yr===null||!yr.has(H))))return p.flags|=65536,I&=-I,p.lanes|=I,I=Op(I),jp(I,e,p,E),au(p,I),!1}p=p.return}while(p!==null);return!1}var Nu=Error(v(461)),Ht=!1;function tn(e,t,p,E){t.child=e===null?zf(t,null,p,E):es(t,e.child,p,E)}function Ip(e,t,p,E,I){p=p.render;var H=t.ref;if("ref"in E){var G={};for(var Z in E)Z!=="ref"&&(G[Z]=E[Z])}else G=E;return qr(t),E=fu(e,t,p,G,H,I),Z=pu(),e!==null&&!Ht?(gu(e,t,I),Fi(e,t,I)):(qe&&Z&&Yc(t),t.flags|=1,tn(e,t,E,I),t.child)}function Bp(e,t,p,E,I){if(e===null){var H=p.type;return typeof H=="function"&&!Vc(H)&&H.defaultProps===void 0&&p.compare===null?(t.tag=15,t.type=H,Hp(e,t,H,E,I)):(e=Za(p.type,null,E,t,t.mode,I),e.ref=t.ref,e.return=t,t.child=e)}if(H=e.child,!zu(e,I)){var G=H.memoizedProps;if(p=p.compare,p=p!==null?p:zo,p(G,E)&&e.ref===t.ref)return Fi(e,t,I)}return t.flags|=1,e=Oi(H,E),e.ref=t.ref,e.return=t,t.child=e}function Hp(e,t,p,E,I){if(e!==null){var H=e.memoizedProps;if(zo(H,E)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=E=H,zu(e,I))(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,Fi(e,t,I)}return $u(e,t,p,E,I)}function zp(e,t,p,E){var I=E.children,H=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((t.flags&128)!==0){if(H=H!==null?H.baseLanes|p:p,e!==null){for(E=t.child=e.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;E=I&~H}else E=0,t.child=null;return Fp(e,t,H,p,E)}if((p&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&tl(t,H!==null?H.cachePool:null),H!==null?Wf(t,H):cu(),Uf(t);else return E=t.lanes=536870912,Fp(e,t,H!==null?H.baseLanes|p:p,p,E)}else H!==null?(tl(t,H.cachePool),Wf(t,H),pr(),t.memoizedState=null):(e!==null&&tl(t,null),cu(),pr());return tn(e,t,I,p),t.child}function ta(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fp(e,t,p,E,I){var H=iu();return H=H===null?null:{parent:It._currentValue,pool:H},t.memoizedState={baseLanes:p,cachePool:H},e!==null&&tl(t,null),cu(),Uf(t),e!==null&&Fs(e,t,E,!0),t.childLanes=I,null}function vl(e,t){return t=bl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pp(e,t,p){return es(t,e.child,null,p),e=vl(t,t.pendingProps),e.flags|=2,kn(t),t.memoizedState=null,e}function Lb(e,t,p){var E=t.pendingProps,I=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(E.mode==="hidden")return e=vl(t,E),t.lanes=536870912,ta(null,e);if(hu(t),(e=vt)?(e=em(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:or!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},p=Ef(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw lr(t);return t.lanes=536870912,null}return vl(t,E)}var H=e.memoizedState;if(H!==null){var G=H.dehydrated;if(hu(t),I)if(t.flags&256)t.flags&=-257,t=Pp(e,t,p);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(Ht||Fs(e,t,p,!1),I=(p&e.childLanes)!==0,Ht||I){if(E=ft,E!==null&&(G=vs(E,p),G!==0&&G!==H.retryLane))throw H.retryLane=G,Gr(e,G),bn(E,e,G),Nu;Tl(),t=Pp(e,t,p)}else e=H.treeContext,vt=Xn(G.nextSibling),Jt=t,qe=!0,ar=null,Kn=!1,e!==null&&Tf(t,e),t=vl(t,E),t.flags|=4096;return t}return e=Oi(e.child,{mode:E.mode,children:E.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yl(e,t){var p=t.ref;if(p===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(v(284));(e===null||e.ref!==p)&&(t.flags|=4194816)}}function $u(e,t,p,E,I){return qr(t),p=fu(e,t,p,E,void 0,I),E=pu(),e!==null&&!Ht?(gu(e,t,I),Fi(e,t,I)):(qe&&E&&Yc(t),t.flags|=1,tn(e,t,p,I),t.child)}function Wp(e,t,p,E,I,H){return qr(t),t.updateQueue=null,p=Gf(t,E,p,I),Vf(e),E=pu(),e!==null&&!Ht?(gu(e,t,H),Fi(e,t,H)):(qe&&E&&Yc(t),t.flags|=1,tn(e,t,p,H),t.child)}function Up(e,t,p,E,I){if(qr(t),t.stateNode===null){var H=Is,G=p.contextType;typeof G=="object"&&G!==null&&(H=en(G)),H=new p(E,H),t.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Lu,t.stateNode=H,H._reactInternals=t,H=t.stateNode,H.props=E,H.state=t.memoizedState,H.refs={},su(t),G=p.contextType,H.context=typeof G=="object"&&G!==null?en(G):Is,H.state=t.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(Mu(t,p,G,E),H.state=t.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(G=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),G!==H.state&&Lu.enqueueReplaceState(H,H.state,null),qo(t,E,H,I),Xo(),H.state=t.memoizedState),typeof H.componentDidMount=="function"&&(t.flags|=4194308),E=!0}else if(e===null){H=t.stateNode;var Z=t.memoizedProps,re=ns(p,Z);H.props=re;var ue=H.context,fe=p.contextType;G=Is,typeof fe=="object"&&fe!==null&&(G=en(fe));var ve=p.getDerivedStateFromProps;fe=typeof ve=="function"||typeof H.getSnapshotBeforeUpdate=="function",Z=t.pendingProps!==Z,fe||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z||ue!==G)&&Lp(t,H,E,G),ur=!1;var he=t.memoizedState;H.state=he,qo(t,E,H,I),Xo(),ue=t.memoizedState,Z||he!==ue||ur?(typeof ve=="function"&&(Mu(t,p,ve,E),ue=t.memoizedState),(re=ur||Mp(t,p,re,E,he,ue,G))?(fe||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(t.flags|=4194308)):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=E,t.memoizedState=ue),H.props=E,H.state=ue,H.context=G,E=re):(typeof H.componentDidMount=="function"&&(t.flags|=4194308),E=!1)}else{H=t.stateNode,ou(e,t),G=t.memoizedProps,fe=ns(p,G),H.props=fe,ve=t.pendingProps,he=H.context,ue=p.contextType,re=Is,typeof ue=="object"&&ue!==null&&(re=en(ue)),Z=p.getDerivedStateFromProps,(ue=typeof Z=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(G!==ve||he!==re)&&Lp(t,H,E,re),ur=!1,he=t.memoizedState,H.state=he,qo(t,E,H,I),Xo();var de=t.memoizedState;G!==ve||he!==de||ur||e!==null&&e.dependencies!==null&&Ja(e.dependencies)?(typeof Z=="function"&&(Mu(t,p,Z,E),de=t.memoizedState),(fe=ur||Mp(t,p,fe,E,he,de,re)||e!==null&&e.dependencies!==null&&Ja(e.dependencies))?(ue||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(E,de,re),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(E,de,re)),typeof H.componentDidUpdate=="function"&&(t.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),t.memoizedProps=E,t.memoizedState=de),H.props=E,H.state=de,H.context=re,E=fe):(typeof H.componentDidUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&he===e.memoizedState||(t.flags|=1024),E=!1)}return H=E,yl(e,t),E=(t.flags&128)!==0,H||E?(H=t.stateNode,p=E&&typeof p.getDerivedStateFromError!="function"?null:H.render(),t.flags|=1,e!==null&&E?(t.child=es(t,e.child,null,I),t.child=es(t,null,p,I)):tn(e,t,p,I),t.memoizedState=H.state,e=t.child):e=Fi(e,t,I),e}function Vp(e,t,p,E){return Yr(),t.flags|=256,tn(e,t,p,E),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:Df()}}function ju(e,t,p){return e=e!==null?e.childLanes&~p:0,t&&(e|=Mn),e}function Gp(e,t,p){var E=t.pendingProps,I=!1,H=(t.flags&128)!==0,G;if((G=H)||(G=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),G&&(I=!0,t.flags&=-129),G=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(I?fr(t):pr(),(e=vt)?(e=em(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:or!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},p=Ef(e),p.return=t,t.child=p,Jt=t,vt=null)):e=null,e===null)throw lr(t);return yh(e)?t.lanes=32:t.lanes=536870912,null}var Z=E.children;return E=E.fallback,I?(pr(),I=t.mode,Z=bl({mode:"hidden",children:Z},I),E=Kr(E,I,p,null),Z.return=t,E.return=t,Z.sibling=E,t.child=Z,E=t.child,E.memoizedState=Ou(p),E.childLanes=ju(e,G,p),t.memoizedState=Du,ta(null,E)):(fr(t),Iu(t,Z))}var re=e.memoizedState;if(re!==null&&(Z=re.dehydrated,Z!==null)){if(H)t.flags&256?(fr(t),t.flags&=-257,t=Bu(e,t,p)):t.memoizedState!==null?(pr(),t.child=e.child,t.flags|=128,t=null):(pr(),Z=E.fallback,I=t.mode,E=bl({mode:"visible",children:E.children},I),Z=Kr(Z,I,p,null),Z.flags|=2,E.return=t,Z.return=t,E.sibling=Z,t.child=E,es(t,e.child,null,p),E=t.child,E.memoizedState=Ou(p),E.childLanes=ju(e,G,p),t.memoizedState=Du,t=ta(null,E));else if(fr(t),yh(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var ue=G.dgst;G=ue,E=Error(v(419)),E.stack="",E.digest=G,Wo({value:E,source:null,stack:null}),t=Bu(e,t,p)}else if(Ht||Fs(e,t,p,!1),G=(p&e.childLanes)!==0,Ht||G){if(G=ft,G!==null&&(E=vs(G,p),E!==0&&E!==re.retryLane))throw re.retryLane=E,Gr(e,E),bn(G,e,E),Nu;vh(Z)||Tl(),t=Bu(e,t,p)}else vh(Z)?(t.flags|=192,t.child=e.child,t=null):(e=re.treeContext,vt=Xn(Z.nextSibling),Jt=t,qe=!0,ar=null,Kn=!1,e!==null&&Tf(t,e),t=Iu(t,E.children),t.flags|=4096);return t}return I?(pr(),Z=E.fallback,I=t.mode,re=e.child,ue=re.sibling,E=Oi(re,{mode:"hidden",children:E.children}),E.subtreeFlags=re.subtreeFlags&65011712,ue!==null?Z=Oi(ue,Z):(Z=Kr(Z,I,p,null),Z.flags|=2),Z.return=t,E.return=t,E.sibling=Z,t.child=E,ta(null,E),E=t.child,Z=e.child.memoizedState,Z===null?Z=Ou(p):(I=Z.cachePool,I!==null?(re=It._currentValue,I=I.parent!==re?{parent:re,pool:re}:I):I=Df(),Z={baseLanes:Z.baseLanes|p,cachePool:I}),E.memoizedState=Z,E.childLanes=ju(e,G,p),t.memoizedState=Du,ta(e.child,E)):(fr(t),p=e.child,e=p.sibling,p=Oi(p,{mode:"visible",children:E.children}),p.return=t,p.sibling=null,e!==null&&(G=t.deletions,G===null?(t.deletions=[e],t.flags|=16):G.push(e)),t.child=p,t.memoizedState=null,p)}function Iu(e,t){return t=bl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bl(e,t){return e=En(22,e,null,t),e.lanes=0,e}function Bu(e,t,p){return es(t,e.child,null,p),e=Iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kp(e,t,p){e.lanes|=t;var E=e.alternate;E!==null&&(E.lanes|=t),Jc(e.return,t,p)}function Hu(e,t,p,E,I,H){var G=e.memoizedState;G===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:E,tail:p,tailMode:I,treeForkCount:H}:(G.isBackwards=t,G.rendering=null,G.renderingStartTime=0,G.last=E,G.tail=p,G.tailMode=I,G.treeForkCount=H)}function Yp(e,t,p){var E=t.pendingProps,I=E.revealOrder,H=E.tail;E=E.children;var G=Rt.current,Z=(G&2)!==0;if(Z?(G=G&1|2,t.flags|=128):G&=1,Y(Rt,G),tn(e,t,E,p),E=qe?Po:0,!Z&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,p,t);else if(e.tag===19)Kp(e,p,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(I){case"forwards":for(p=t.child,I=null;p!==null;)e=p.alternate,e!==null&&al(e)===null&&(I=p),p=p.sibling;p=I,p===null?(I=t.child,t.child=null):(I=p.sibling,p.sibling=null),Hu(t,!1,I,p,H,E);break;case"backwards":case"unstable_legacy-backwards":for(p=null,I=t.child,t.child=null;I!==null;){if(e=I.alternate,e!==null&&al(e)===null){t.child=I;break}e=I.sibling,I.sibling=p,p=I,I=e}Hu(t,!0,p,null,H,E);break;case"together":Hu(t,!1,null,null,void 0,E);break;default:t.memoizedState=null}return t.child}function Fi(e,t,p){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,(p&t.childLanes)===0)if(e!==null){if(Fs(e,t,p,!1),(p&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,p=Oi(e,e.pendingProps),t.child=p,p.return=t;e.sibling!==null;)e=e.sibling,p=p.sibling=Oi(e,e.pendingProps),p.return=t;p.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ja(e)))}function Rb(e,t,p){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),cr(t,It,e.memoizedState.cache),Yr();break;case 27:case 5:ie(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:cr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,hu(t),null;break;case 13:var E=t.memoizedState;if(E!==null)return E.dehydrated!==null?(fr(t),t.flags|=128,null):(p&t.child.childLanes)!==0?Gp(e,t,p):(fr(t),e=Fi(e,t,p),e!==null?e.sibling:null);fr(t);break;case 19:var I=(e.flags&128)!==0;if(E=(p&t.childLanes)!==0,E||(Fs(e,t,p,!1),E=(p&t.childLanes)!==0),I){if(E)return Yp(e,t,p);t.flags|=128}if(I=t.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Y(Rt,Rt.current),E)break;return null;case 22:return t.lanes=0,zp(e,t,p,t.pendingProps);case 24:cr(t,It,e.memoizedState.cache)}return Fi(e,t,p)}function Xp(e,t,p){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ht=!0;else{if(!zu(e,p)&&(t.flags&128)===0)return Ht=!1,Rb(e,t,p);Ht=(e.flags&131072)!==0}else Ht=!1,qe&&(t.flags&1048576)!==0&&kf(t,Po,t.index);switch(t.lanes=0,t.tag){case 16:e:{var E=t.pendingProps;if(e=Qr(t.elementType),t.type=e,typeof e=="function")Vc(e)?(E=ns(e,E),t.tag=1,t=Up(null,t,e,E,p)):(t.tag=0,t=$u(null,t,e,E,p));else{if(e!=null){var I=e.$$typeof;if(I===C){t.tag=11,t=Ip(null,t,e,E,p);break e}else if(I===k){t.tag=14,t=Bp(null,t,e,E,p);break e}}throw t=M(e)||e,Error(v(306,t,""))}}return t;case 0:return $u(e,t,t.type,t.pendingProps,p);case 1:return E=t.type,I=ns(E,t.pendingProps),Up(e,t,E,I,p);case 3:e:{if(Q(t,t.stateNode.containerInfo),e===null)throw Error(v(387));E=t.pendingProps;var H=t.memoizedState;I=H.element,ou(e,t),qo(t,E,null,p);var G=t.memoizedState;if(E=G.cache,cr(t,It,E),E!==H.cache&&eu(t,[It],p,!0),Xo(),E=G.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:G.cache},t.updateQueue.baseState=H,t.memoizedState=H,t.flags&256){t=Vp(e,t,E,p);break e}else if(E!==I){I=Un(Error(v(424)),t),Wo(I),t=Vp(e,t,E,p);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,vt=Xn(e.firstChild),Jt=t,qe=!0,ar=null,Kn=!0,p=zf(t,null,E,p),t.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yr(),E===I){t=Fi(e,t,p);break e}tn(e,t,E,p)}t=t.child}return t;case 26:return yl(e,t),e===null?(p=om(t.type,null,t.pendingProps,null))?t.memoizedState=p:qe||(p=t.type,e=t.pendingProps,E=Ol(J.current).createElement(p),E[Mt]=t,E[Ut]=e,nn(E,p,e),St(E),t.stateNode=E):t.memoizedState=om(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ie(t),e===null&&qe&&(E=t.stateNode=im(t.type,t.pendingProps,J.current),Jt=t,Kn=!0,I=vt,wr(t.type)?(bh=I,vt=Xn(E.firstChild)):vt=I),tn(e,t,t.pendingProps.children,p),yl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((I=E=vt)&&(E=a_(E,t.type,t.pendingProps,Kn),E!==null?(t.stateNode=E,Jt=t,vt=Xn(E.firstChild),Kn=!1,I=!0):I=!1),I||lr(t)),ie(t),I=t.type,H=t.pendingProps,G=e!==null?e.memoizedProps:null,E=H.children,ph(I,H)?E=null:G!==null&&ph(I,G)&&(t.flags|=32),t.memoizedState!==null&&(I=fu(e,t,wb,null,null,p),ma._currentValue=I),yl(e,t),tn(e,t,E,p),t.child;case 6:return e===null&&qe&&((e=p=vt)&&(p=l_(p,t.pendingProps,Kn),p!==null?(t.stateNode=p,Jt=t,vt=null,e=!0):e=!1),e||lr(t)),null;case 13:return Gp(e,t,p);case 4:return Q(t,t.stateNode.containerInfo),E=t.pendingProps,e===null?t.child=es(t,null,E,p):tn(e,t,E,p),t.child;case 11:return Ip(e,t,t.type,t.pendingProps,p);case 7:return tn(e,t,t.pendingProps,p),t.child;case 8:return tn(e,t,t.pendingProps.children,p),t.child;case 12:return tn(e,t,t.pendingProps.children,p),t.child;case 10:return E=t.pendingProps,cr(t,t.type,E.value),tn(e,t,E.children,p),t.child;case 9:return I=t.type._context,E=t.pendingProps.children,qr(t),I=en(I),E=E(I),t.flags|=1,tn(e,t,E,p),t.child;case 14:return Bp(e,t,t.type,t.pendingProps,p);case 15:return Hp(e,t,t.type,t.pendingProps,p);case 19:return Yp(e,t,p);case 31:return Lb(e,t,p);case 22:return zp(e,t,p,t.pendingProps);case 24:return qr(t),E=en(It),e===null?(I=iu(),I===null&&(I=ft,H=tu(),I.pooledCache=H,H.refCount++,H!==null&&(I.pooledCacheLanes|=p),I=H),t.memoizedState={parent:E,cache:I},su(t),cr(t,It,I)):((e.lanes&p)!==0&&(ou(e,t),qo(t,null,null,p),Xo()),I=e.memoizedState,H=t.memoizedState,I.parent!==E?(I={parent:E,cache:E},t.memoizedState=I,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=I),cr(t,It,E)):(E=H.cache,cr(t,It,E),E!==I.cache&&eu(t,[It],p,!0))),tn(e,t,t.pendingProps.children,p),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Pi(e){e.flags|=4}function Fu(e,t,p,E,I){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(I&335544128)===I)if(e.stateNode.complete)e.flags|=8192;else if(wg())e.flags|=8192;else throw Jr=il,ru}else e.flags&=-16777217}function qp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hm(t))if(wg())e.flags|=8192;else throw Jr=il,ru}function _l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?tr():536870912,e.lanes|=t,Js|=t)}function na(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var p=null;t!==null;)t.alternate!==null&&(p=t),t=t.sibling;p===null?e.tail=null:p.sibling=null;break;case"collapsed":p=e.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:E.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,p=0,E=0;if(t)for(var I=e.child;I!==null;)p|=I.lanes|I.childLanes,E|=I.subtreeFlags&65011712,E|=I.flags&65011712,I.return=e,I=I.sibling;else for(I=e.child;I!==null;)p|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=e,I=I.sibling;return e.subtreeFlags|=E,e.childLanes=p,t}function Nb(e,t,p){var E=t.pendingProps;switch(Xc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return yt(t),null;case 3:return p=t.stateNode,E=null,e!==null&&(E=e.memoizedState.cache),t.memoizedState.cache!==E&&(t.flags|=2048),Bi(It),ne(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(zs(t)?Pi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zc())),yt(t),null;case 26:var I=t.type,H=t.memoizedState;return e===null?(Pi(t),H!==null?(yt(t),qp(t,H)):(yt(t),Fu(t,I,null,E,p))):H?H!==e.memoizedState?(Pi(t),yt(t),qp(t,H)):(yt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==E&&Pi(t),yt(t),Fu(t,I,e,E,p)),null;case 27:if(me(t),p=J.current,I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==E&&Pi(t);else{if(!E){if(t.stateNode===null)throw Error(v(166));return yt(t),null}e=X.current,zs(t)?Mf(t):(e=im(I,E,p),t.stateNode=e,Pi(t))}return yt(t),null;case 5:if(me(t),I=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==E&&Pi(t);else{if(!E){if(t.stateNode===null)throw Error(v(166));return yt(t),null}if(H=X.current,zs(t))Mf(t);else{var G=Ol(J.current);switch(H){case 1:H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":H=G.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":H=G.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":H=G.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild);break;case"select":H=typeof E.is=="string"?G.createElement("select",{is:E.is}):G.createElement("select"),E.multiple?H.multiple=!0:E.size&&(H.size=E.size);break;default:H=typeof E.is=="string"?G.createElement(I,{is:E.is}):G.createElement(I)}}H[Mt]=t,H[Ut]=E;e:for(G=t.child;G!==null;){if(G.tag===5||G.tag===6)H.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}t.stateNode=H;e:switch(nn(H,I,E),I){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&Pi(t)}}return yt(t),Fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,p),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==E&&Pi(t);else{if(typeof E!="string"&&t.stateNode===null)throw Error(v(166));if(e=J.current,zs(t)){if(e=t.stateNode,p=t.memoizedProps,E=null,I=Jt,I!==null)switch(I.tag){case 27:case 5:E=I.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===p||E!==null&&E.suppressHydrationWarning===!0||Gg(e.nodeValue,p)),e||lr(t,!0)}else e=Ol(e).createTextNode(E),e[Mt]=t,t.stateNode=e}return yt(t),null;case 31:if(p=t.memoizedState,e===null||e.memoizedState!==null){if(E=zs(t),p!==null){if(e===null){if(!E)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[Mt]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),e=!1}else p=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),e=!0;if(!e)return t.flags&256?(kn(t),t):(kn(t),null);if((t.flags&128)!==0)throw Error(v(558))}return yt(t),null;case 13:if(E=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I=zs(t),E!==null&&E.dehydrated!==null){if(e===null){if(!I)throw Error(v(318));if(I=t.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(v(317));I[Mt]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),I=!1}else I=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=I),I=!0;if(!I)return t.flags&256?(kn(t),t):(kn(t),null)}return kn(t),(t.flags&128)!==0?(t.lanes=p,t):(p=E!==null,e=e!==null&&e.memoizedState!==null,p&&(E=t.child,I=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(I=E.alternate.memoizedState.cachePool.pool),H=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(H=E.memoizedState.cachePool.pool),H!==I&&(E.flags|=2048)),p!==e&&p&&(t.child.flags|=8192),_l(t,t.updateQueue),yt(t),null);case 4:return ne(),e===null&&ch(t.stateNode.containerInfo),yt(t),null;case 10:return Bi(t.type),yt(t),null;case 19:if(K(Rt),E=t.memoizedState,E===null)return yt(t),null;if(I=(t.flags&128)!==0,H=E.rendering,H===null)if(I)na(E,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(H=al(e),H!==null){for(t.flags|=128,na(E,!1),e=H.updateQueue,t.updateQueue=e,_l(t,e),t.subtreeFlags=0,e=p,p=t.child;p!==null;)Cf(p,e),p=p.sibling;return Y(Rt,Rt.current&1|2),qe&&ji(t,E.treeForkCount),t.child}e=e.sibling}E.tail!==null&&Ze()>El&&(t.flags|=128,I=!0,na(E,!1),t.lanes=4194304)}else{if(!I)if(e=al(H),e!==null){if(t.flags|=128,I=!0,e=e.updateQueue,t.updateQueue=e,_l(t,e),na(E,!0),E.tail===null&&E.tailMode==="hidden"&&!H.alternate&&!qe)return yt(t),null}else 2*Ze()-E.renderingStartTime>El&&p!==536870912&&(t.flags|=128,I=!0,na(E,!1),t.lanes=4194304);E.isBackwards?(H.sibling=t.child,t.child=H):(e=E.last,e!==null?e.sibling=H:t.child=H,E.last=H)}return E.tail!==null?(e=E.tail,E.rendering=e,E.tail=e.sibling,E.renderingStartTime=Ze(),e.sibling=null,p=Rt.current,Y(Rt,I?p&1|2:p&1),qe&&ji(t,E.treeForkCount),e):(yt(t),null);case 22:case 23:return kn(t),uu(),E=t.memoizedState!==null,e!==null?e.memoizedState!==null!==E&&(t.flags|=8192):E&&(t.flags|=8192),E?(p&536870912)!==0&&(t.flags&128)===0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),p=t.updateQueue,p!==null&&_l(t,p.retryQueue),p=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),E=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(E=t.memoizedState.cachePool.pool),E!==p&&(t.flags|=2048),e!==null&&K(Zr),null;case 24:return p=null,e!==null&&(p=e.memoizedState.cache),t.memoizedState.cache!==p&&(t.flags|=2048),Bi(It),yt(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function $b(e,t){switch(Xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(It),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(kn(t),t.alternate===null)throw Error(v(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Rt),null;case 4:return ne(),null;case 10:return Bi(t.type),null;case 22:case 23:return kn(t),uu(),e!==null&&K(Zr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function Zp(e,t){switch(Xc(t),t.tag){case 3:Bi(It),ne();break;case 26:case 27:case 5:me(t);break;case 4:ne();break;case 31:t.memoizedState!==null&&kn(t);break;case 13:kn(t);break;case 19:K(Rt);break;case 10:Bi(t.type);break;case 22:case 23:kn(t),uu(),e!==null&&K(Zr);break;case 24:Bi(It)}}function ia(e,t){try{var p=t.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var I=E.next;p=I;do{if((p.tag&e)===e){E=void 0;var H=p.create,G=p.inst;E=H(),G.destroy=E}p=p.next}while(p!==I)}}catch(Z){ot(t,t.return,Z)}}function gr(e,t,p){try{var E=t.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var H=I.next;E=H;do{if((E.tag&e)===e){var G=E.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,I=t;var re=p,ue=Z;try{ue()}catch(fe){ot(I,re,fe)}}}E=E.next}while(E!==H)}}catch(fe){ot(t,t.return,fe)}}function Qp(e){var t=e.updateQueue;if(t!==null){var p=e.stateNode;try{Pf(t,p)}catch(E){ot(e,e.return,E)}}}function Jp(e,t,p){p.props=ns(e.type,e.memoizedProps),p.state=e.memoizedState;try{p.componentWillUnmount()}catch(E){ot(e,t,E)}}function ra(e,t){try{var p=e.ref;if(p!==null){switch(e.tag){case 26:case 27:case 5:var E=e.stateNode;break;case 30:E=e.stateNode;break;default:E=e.stateNode}typeof p=="function"?e.refCleanup=p(E):p.current=E}}catch(I){ot(e,t,I)}}function Si(e,t){var p=e.ref,E=e.refCleanup;if(p!==null)if(typeof E=="function")try{E()}catch(I){ot(e,t,I)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(I){ot(e,t,I)}else p.current=null}function eg(e){var t=e.type,p=e.memoizedProps,E=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":p.autoFocus&&E.focus();break e;case"img":p.src?E.src=p.src:p.srcSet&&(E.srcset=p.srcSet)}}catch(I){ot(e,e.return,I)}}function Pu(e,t,p){try{var E=e.stateNode;t_(E,e.type,p,t),E[Ut]=t}catch(I){ot(e,e.return,I)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wr(e.type)||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uu(e,t,p){var E=e.tag;if(E===5||E===6)e=e.stateNode,t?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(e,t):(t=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,t.appendChild(e),p=p._reactRootContainer,p!=null||t.onclick!==null||(t.onclick=oi));else if(E!==4&&(E===27&&wr(e.type)&&(p=e.stateNode,t=null),e=e.child,e!==null))for(Uu(e,t,p),e=e.sibling;e!==null;)Uu(e,t,p),e=e.sibling}function xl(e,t,p){var E=e.tag;if(E===5||E===6)e=e.stateNode,t?p.insertBefore(e,t):p.appendChild(e);else if(E!==4&&(E===27&&wr(e.type)&&(p=e.stateNode),e=e.child,e!==null))for(xl(e,t,p),e=e.sibling;e!==null;)xl(e,t,p),e=e.sibling}function ng(e){var t=e.stateNode,p=e.memoizedProps;try{for(var E=e.type,I=t.attributes;I.length;)t.removeAttributeNode(I[0]);nn(t,E,p),t[Mt]=e,t[Ut]=p}catch(H){ot(e,e.return,H)}}var Wi=!1,zt=!1,Vu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function Db(e,t){if(e=e.containerInfo,dh=Pl,e=gf(e),Bc(e)){if("selectionStart"in e)var p={start:e.selectionStart,end:e.selectionEnd};else e:{p=(p=e.ownerDocument)&&p.defaultView||window;var E=p.getSelection&&p.getSelection();if(E&&E.rangeCount!==0){p=E.anchorNode;var I=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{p.nodeType,H.nodeType}catch{p=null;break e}var G=0,Z=-1,re=-1,ue=0,fe=0,ve=e,he=null;t:for(;;){for(var de;ve!==p||I!==0&&ve.nodeType!==3||(Z=G+I),ve!==H||E!==0&&ve.nodeType!==3||(re=G+E),ve.nodeType===3&&(G+=ve.nodeValue.length),(de=ve.firstChild)!==null;)he=ve,ve=de;for(;;){if(ve===e)break t;if(he===p&&++ue===I&&(Z=G),he===H&&++fe===E&&(re=G),(de=ve.nextSibling)!==null)break;ve=he,he=ve.parentNode}ve=de}p=Z===-1||re===-1?null:{start:Z,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(fh={focusedElem:e,selectionRange:p},Pl=!1,Xt=t;Xt!==null;)if(t=Xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xt=e;else for(;Xt!==null;){switch(t=Xt,H=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(p=0;p<e.length;p++)I=e[p],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&H!==null){e=void 0,p=t,I=H.memoizedProps,H=H.memoizedState,E=p.stateNode;try{var Ee=ns(p.type,I);e=E.getSnapshotBeforeUpdate(Ee,H),E.__reactInternalSnapshotBeforeUpdate=e}catch($e){ot(p,p.return,$e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,p=e.nodeType,p===9)mh(e);else if(p===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,Xt=e;break}Xt=t.return}}function rg(e,t,p){var E=p.flags;switch(p.tag){case 0:case 11:case 15:Vi(e,p),E&4&&ia(5,p);break;case 1:if(Vi(e,p),E&4)if(e=p.stateNode,t===null)try{e.componentDidMount()}catch(G){ot(p,p.return,G)}else{var I=ns(p.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(I,t,e.__reactInternalSnapshotBeforeUpdate)}catch(G){ot(p,p.return,G)}}E&64&&Qp(p),E&512&&ra(p,p.return);break;case 3:if(Vi(e,p),E&64&&(e=p.updateQueue,e!==null)){if(t=null,p.child!==null)switch(p.child.tag){case 27:case 5:t=p.child.stateNode;break;case 1:t=p.child.stateNode}try{Pf(e,t)}catch(G){ot(p,p.return,G)}}break;case 27:t===null&&E&4&&ng(p);case 26:case 5:Vi(e,p),t===null&&E&4&&eg(p),E&512&&ra(p,p.return);break;case 12:Vi(e,p);break;case 31:Vi(e,p),E&4&&ag(e,p);break;case 13:Vi(e,p),E&4&&lg(e,p),E&64&&(e=p.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(p=Wb.bind(null,p),c_(e,p))));break;case 22:if(E=p.memoizedState!==null||Wi,!E){t=t!==null&&t.memoizedState!==null||zt,I=Wi;var H=zt;Wi=E,(zt=t)&&!H?Gi(e,p,(p.subtreeFlags&8772)!==0):Vi(e,p),Wi=I,zt=H}break;case 30:break;default:Vi(e,p)}}function sg(e){var t=e.alternate;t!==null&&(e.alternate=null,sg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,gn=!1;function Ui(e,t,p){for(p=p.child;p!==null;)og(e,t,p),p=p.sibling}function og(e,t,p){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Tt,p)}catch{}switch(p.tag){case 26:zt||Si(p,t),Ui(e,t,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:zt||Si(p,t);var E=bt,I=gn;wr(p.type)&&(bt=p.stateNode,gn=!1),Ui(e,t,p),fa(p.stateNode),bt=E,gn=I;break;case 5:zt||Si(p,t);case 6:if(E=bt,I=gn,bt=null,Ui(e,t,p),bt=E,gn=I,bt!==null)if(gn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(p.stateNode)}catch(H){ot(p,t,H)}else try{bt.removeChild(p.stateNode)}catch(H){ot(p,t,H)}break;case 18:bt!==null&&(gn?(e=bt,Qg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,p.stateNode),ao(e)):Qg(bt,p.stateNode));break;case 4:E=bt,I=gn,bt=p.stateNode.containerInfo,gn=!0,Ui(e,t,p),bt=E,gn=I;break;case 0:case 11:case 14:case 15:gr(2,p,t),zt||gr(4,p,t),Ui(e,t,p);break;case 1:zt||(Si(p,t),E=p.stateNode,typeof E.componentWillUnmount=="function"&&Jp(p,t,E)),Ui(e,t,p);break;case 21:Ui(e,t,p);break;case 22:zt=(E=zt)||p.memoizedState!==null,Ui(e,t,p),zt=E;break;default:Ui(e,t,p)}}function ag(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ao(e)}catch(p){ot(t,t.return,p)}}}function lg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(p){ot(t,t.return,p)}}function Ob(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(v(435,e.tag))}}function wl(e,t){var p=Ob(e);t.forEach(function(E){if(!p.has(E)){p.add(E);var I=Ub.bind(null,e,E);E.then(I,I)}})}function mn(e,t){var p=t.deletions;if(p!==null)for(var E=0;E<p.length;E++){var I=p[E],H=e,G=t,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(wr(Z.type)){bt=Z.stateNode,gn=!1;break e}break;case 5:bt=Z.stateNode,gn=!1;break e;case 3:case 4:bt=Z.stateNode.containerInfo,gn=!0;break e}Z=Z.return}if(bt===null)throw Error(v(160));og(H,G,I),bt=null,gn=!1,H=I.alternate,H!==null&&(H.return=null),I.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cg(t,e),t=t.sibling}var di=null;function cg(e,t){var p=e.alternate,E=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(t,e),vn(e),E&4&&(gr(3,e,e.return),ia(3,e),gr(5,e,e.return));break;case 1:mn(t,e),vn(e),E&512&&(zt||p===null||Si(p,p.return)),E&64&&Wi&&(e=e.updateQueue,e!==null&&(E=e.callbacks,E!==null&&(p=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=p===null?E:p.concat(E))));break;case 26:var I=di;if(mn(t,e),vn(e),E&512&&(zt||p===null||Si(p,p.return)),E&4){var H=p!==null?p.memoizedState:null;if(E=e.memoizedState,p===null)if(E===null)if(e.stateNode===null){e:{E=e.type,p=e.memoizedProps,I=I.ownerDocument||I;t:switch(E){case"title":H=I.getElementsByTagName("title")[0],(!H||H[Ri]||H[Mt]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=I.createElement(E),I.head.insertBefore(H,I.querySelector("head > title"))),nn(H,E,p),H[Mt]=e,St(H),E=H;break e;case"link":var G=cm("link","href",I).get(E+(p.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&H.getAttribute("rel")===(p.rel==null?null:p.rel)&&H.getAttribute("title")===(p.title==null?null:p.title)&&H.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(Z,1);break t}}H=I.createElement(E),nn(H,E,p),I.head.appendChild(H);break;case"meta":if(G=cm("meta","content",I).get(E+(p.content||""))){for(Z=0;Z<G.length;Z++)if(H=G[Z],H.getAttribute("content")===(p.content==null?null:""+p.content)&&H.getAttribute("name")===(p.name==null?null:p.name)&&H.getAttribute("property")===(p.property==null?null:p.property)&&H.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&H.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(Z,1);break t}}H=I.createElement(E),nn(H,E,p),I.head.appendChild(H);break;default:throw Error(v(468,E))}H[Mt]=e,St(H),E=H}e.stateNode=E}else um(I,e.type,e.stateNode);else e.stateNode=lm(I,E,e.memoizedProps);else H!==E?(H===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):H.count--,E===null?um(I,e.type,e.stateNode):lm(I,E,e.memoizedProps)):E===null&&e.stateNode!==null&&Pu(e,e.memoizedProps,p.memoizedProps)}break;case 27:mn(t,e),vn(e),E&512&&(zt||p===null||Si(p,p.return)),p!==null&&E&4&&Pu(e,e.memoizedProps,p.memoizedProps);break;case 5:if(mn(t,e),vn(e),E&512&&(zt||p===null||Si(p,p.return)),e.flags&32){I=e.stateNode;try{wn(I,"")}catch(Ee){ot(e,e.return,Ee)}}E&4&&e.stateNode!=null&&(I=e.memoizedProps,Pu(e,I,p!==null?p.memoizedProps:I)),E&1024&&(Vu=!0);break;case 6:if(mn(t,e),vn(e),E&4){if(e.stateNode===null)throw Error(v(162));E=e.memoizedProps,p=e.stateNode;try{p.nodeValue=E}catch(Ee){ot(e,e.return,Ee)}}break;case 3:if(Bl=null,I=di,di=jl(t.containerInfo),mn(t,e),di=I,vn(e),E&4&&p!==null&&p.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(Ee){ot(e,e.return,Ee)}Vu&&(Vu=!1,ug(e));break;case 4:E=di,di=jl(e.stateNode.containerInfo),mn(t,e),vn(e),di=E;break;case 12:mn(t,e),vn(e);break;case 31:mn(t,e),vn(e),E&4&&(E=e.updateQueue,E!==null&&(e.updateQueue=null,wl(e,E)));break;case 13:mn(t,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Cl=Ze()),E&4&&(E=e.updateQueue,E!==null&&(e.updateQueue=null,wl(e,E)));break;case 22:I=e.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,ue=Wi,fe=zt;if(Wi=ue||I,zt=fe||re,mn(t,e),zt=fe,Wi=ue,vn(e),E&8192)e:for(t=e.stateNode,t._visibility=I?t._visibility&-2:t._visibility|1,I&&(p===null||re||Wi||zt||is(e)),p=null,t=e;;){if(t.tag===5||t.tag===26){if(p===null){re=p=t;try{if(H=re.stateNode,I)G=H.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=re.stateNode;var ve=re.memoizedProps.style,he=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;Z.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===6){if(p===null){re=t;try{re.stateNode.nodeValue=I?"":re.memoizedProps}catch(Ee){ot(re,re.return,Ee)}}}else if(t.tag===18){if(p===null){re=t;try{var de=re.stateNode;I?Jg(de,!0):Jg(re.stateNode,!1)}catch(Ee){ot(re,re.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;p===t&&(p=null),t=t.return}p===t&&(p=null),t.sibling.return=t.return,t=t.sibling}E&4&&(E=e.updateQueue,E!==null&&(p=E.retryQueue,p!==null&&(E.retryQueue=null,wl(e,p))));break;case 19:mn(t,e),vn(e),E&4&&(E=e.updateQueue,E!==null&&(e.updateQueue=null,wl(e,E)));break;case 30:break;case 21:break;default:mn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{for(var p,E=e.return;E!==null;){if(tg(E)){p=E;break}E=E.return}if(p==null)throw Error(v(160));switch(p.tag){case 27:var I=p.stateNode,H=Wu(e);xl(e,H,I);break;case 5:var G=p.stateNode;p.flags&32&&(wn(G,""),p.flags&=-33);var Z=Wu(e);xl(e,Z,G);break;case 3:case 4:var re=p.stateNode.containerInfo,ue=Wu(e);Uu(e,ue,re);break;default:throw Error(v(161))}}catch(fe){ot(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ug(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rg(e,t.alternate,t),t=t.sibling}function is(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gr(4,t,t.return),is(t);break;case 1:Si(t,t.return);var p=t.stateNode;typeof p.componentWillUnmount=="function"&&Jp(t,t.return,p),is(t);break;case 27:fa(t.stateNode);case 26:case 5:Si(t,t.return),is(t);break;case 22:t.memoizedState===null&&is(t);break;case 30:is(t);break;default:is(t)}e=e.sibling}}function Gi(e,t,p){for(p=p&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var E=t.alternate,I=e,H=t,G=H.flags;switch(H.tag){case 0:case 11:case 15:Gi(I,H,p),ia(4,H);break;case 1:if(Gi(I,H,p),E=H,I=E.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ue){ot(E,E.return,ue)}if(E=H,I=E.updateQueue,I!==null){var Z=E.stateNode;try{var re=I.shared.hiddenCallbacks;if(re!==null)for(I.shared.hiddenCallbacks=null,I=0;I<re.length;I++)Ff(re[I],Z)}catch(ue){ot(E,E.return,ue)}}p&&G&64&&Qp(H),ra(H,H.return);break;case 27:ng(H);case 26:case 5:Gi(I,H,p),p&&E===null&&G&4&&eg(H),ra(H,H.return);break;case 12:Gi(I,H,p);break;case 31:Gi(I,H,p),p&&G&4&&ag(I,H);break;case 13:Gi(I,H,p),p&&G&4&&lg(I,H);break;case 22:H.memoizedState===null&&Gi(I,H,p),ra(H,H.return);break;case 30:break;default:Gi(I,H,p)}t=t.sibling}}function Gu(e,t){var p=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==p&&(e!=null&&e.refCount++,p!=null&&Uo(p))}function Ku(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Uo(e))}function fi(e,t,p,E){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(e,t,p,E),t=t.sibling}function hg(e,t,p,E){var I=t.flags;switch(t.tag){case 0:case 11:case 15:fi(e,t,p,E),I&2048&&ia(9,t);break;case 1:fi(e,t,p,E);break;case 3:fi(e,t,p,E),I&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Uo(e)));break;case 12:if(I&2048){fi(e,t,p,E),e=t.stateNode;try{var H=t.memoizedProps,G=H.id,Z=H.onPostCommit;typeof Z=="function"&&Z(G,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(re){ot(t,t.return,re)}}else fi(e,t,p,E);break;case 31:fi(e,t,p,E);break;case 13:fi(e,t,p,E);break;case 23:break;case 22:H=t.stateNode,G=t.alternate,t.memoizedState!==null?H._visibility&2?fi(e,t,p,E):sa(e,t):H._visibility&2?fi(e,t,p,E):(H._visibility|=2,qs(e,t,p,E,(t.subtreeFlags&10256)!==0||!1)),I&2048&&Gu(G,t);break;case 24:fi(e,t,p,E),I&2048&&Ku(t.alternate,t);break;default:fi(e,t,p,E)}}function qs(e,t,p,E,I){for(I=I&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var H=e,G=t,Z=p,re=E,ue=G.flags;switch(G.tag){case 0:case 11:case 15:qs(H,G,Z,re,I),ia(8,G);break;case 23:break;case 22:var fe=G.stateNode;G.memoizedState!==null?fe._visibility&2?qs(H,G,Z,re,I):sa(H,G):(fe._visibility|=2,qs(H,G,Z,re,I)),I&&ue&2048&&Gu(G.alternate,G);break;case 24:qs(H,G,Z,re,I),I&&ue&2048&&Ku(G.alternate,G);break;default:qs(H,G,Z,re,I)}t=t.sibling}}function sa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var p=e,E=t,I=E.flags;switch(E.tag){case 22:sa(p,E),I&2048&&Gu(E.alternate,E);break;case 24:sa(p,E),I&2048&&Ku(E.alternate,E);break;default:sa(p,E)}t=t.sibling}}var oa=8192;function Zs(e,t,p){if(e.subtreeFlags&oa)for(e=e.child;e!==null;)dg(e,t,p),e=e.sibling}function dg(e,t,p){switch(e.tag){case 26:Zs(e,t,p),e.flags&oa&&e.memoizedState!==null&&x_(p,di,e.memoizedState,e.memoizedProps);break;case 5:Zs(e,t,p);break;case 3:case 4:var E=di;di=jl(e.stateNode.containerInfo),Zs(e,t,p),di=E;break;case 22:e.memoizedState===null&&(E=e.alternate,E!==null&&E.memoizedState!==null?(E=oa,oa=16777216,Zs(e,t,p),oa=E):Zs(e,t,p));break;default:Zs(e,t,p)}}function fg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var E=t[p];Xt=E,gg(E,e)}fg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pg(e),e=e.sibling}function pg(e){switch(e.tag){case 0:case 11:case 15:aa(e),e.flags&2048&&gr(9,e,e.return);break;case 3:aa(e);break;case 12:aa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sl(e)):aa(e);break;default:aa(e)}}function Sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var p=0;p<t.length;p++){var E=t[p];Xt=E,gg(E,e)}fg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gr(8,t,t.return),Sl(t);break;case 22:p=t.stateNode,p._visibility&2&&(p._visibility&=-3,Sl(t));break;default:Sl(t)}e=e.sibling}}function gg(e,t){for(;Xt!==null;){var p=Xt;switch(p.tag){case 0:case 11:case 15:gr(8,p,t);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var E=p.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Uo(p.memoizedState.cache)}if(E=p.child,E!==null)E.return=p,Xt=E;else e:for(p=e;Xt!==null;){E=Xt;var I=E.sibling,H=E.return;if(sg(E),E===p){Xt=null;break e}if(I!==null){I.return=H,Xt=I;break e}Xt=H}}}var jb={getCacheForType:function(e){var t=en(It),p=t.data.get(e);return p===void 0&&(p=e(),t.data.set(e,p)),p},cacheSignal:function(){return en(It).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Ve=null,Ke=0,st=0,Tn=null,mr=!1,Qs=!1,Yu=!1,Ki=0,Et=0,vr=0,rs=0,Xu=0,Mn=0,Js=0,la=null,yn=null,qu=!1,Cl=0,mg=0,El=1/0,Al=null,yr=null,Kt=0,br=null,eo=null,Yi=0,Zu=0,Qu=null,vg=null,ca=0,Ju=null;function Ln(){return(tt&2)!==0&&Ke!==0?Ke&-Ke:O.T!==null?sh():Hn()}function yg(){if(Mn===0)if((Ke&536870912)===0||qe){var e=on;on<<=1,(on&3932160)===0&&(on=262144),Mn=e}else Mn=536870912;return e=An.current,e!==null&&(e.flags|=32),Mn}function bn(e,t,p){(e===ft&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(to(e,0),_r(e,Ke,Mn,!1)),Mi(e,p),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(rs|=p),Et===4&&_r(e,Ke,Mn,!1)),Ci(e))}function bg(e,t,p){if((tt&6)!==0)throw Error(v(327));var E=!p&&(t&127)===0&&(t&e.expiredLanes)===0||Jn(e,t),I=E?zb(e,t):th(e,t,!0),H=E;do{if(I===0){Qs&&!E&&_r(e,t,0,!1);break}else{if(p=e.current.alternate,H&&!Bb(p)){I=th(e,t,!1),H=!1;continue}if(I===2){if(H=t,e.errorRecoveryDisabledLanes&H)var G=0;else G=e.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){t=G;e:{var Z=e;I=la;var re=Z.current.memoizedState.isDehydrated;if(re&&(to(Z,G).flags|=256),G=th(Z,G,!1),G!==2){if(Yu&&!re){Z.errorRecoveryDisabledLanes|=H,rs|=H,I=4;break e}H=yn,yn=I,H!==null&&(yn===null?yn=H:yn.push.apply(yn,H))}I=G}if(H=!1,I!==2)continue}}if(I===1){to(e,0),_r(e,t,0,!0);break}e:{switch(E=e,H=I,H){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:_r(E,t,Mn,!mr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(I=Cl+300-Ze(),10<I)){if(_r(E,t,Mn,!mr),Bn(E,0,!0)!==0)break e;Yi=t,E.timeoutHandle=qg(_g.bind(null,E,p,yn,Al,qu,t,Mn,rs,Js,mr,H,"Throttled",-0,0),I);break e}_g(E,p,yn,Al,qu,t,Mn,rs,Js,mr,H,null,-0,0)}}break}while(!0);Ci(e)}function _g(e,t,p,E,I,H,G,Z,re,ue,fe,ve,he,de){if(e.timeoutHandle=-1,ve=t.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},dg(t,H,ve);var Ee=(H&62914560)===H?Cl-Ze():(H&4194048)===H?mg-Ze():0;if(Ee=w_(ve,Ee),Ee!==null){Yi=H,e.cancelPendingCommit=Ee(Tg.bind(null,e,t,H,p,E,I,G,Z,re,fe,ve,null,he,de)),_r(e,H,G,!ue);return}}Tg(e,t,H,p,E,I,G,Z,re)}function Bb(e){for(var t=e;;){var p=t.tag;if((p===0||p===11||p===15)&&t.flags&16384&&(p=t.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var E=0;E<p.length;E++){var I=p[E],H=I.getSnapshot;I=I.value;try{if(!Cn(H(),I))return!1}catch{return!1}}if(p=t.child,t.subtreeFlags&16384&&p!==null)p.return=t,t=p;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t,p,E){t&=~Xu,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,E&&(e.warmLanes|=t),E=e.expirationTimes;for(var I=t;0<I;){var H=31-le(I),G=1<<H;E[H]=-1,I&=~G}p!==0&&gs(e,p,t)}function kl(){return(tt&6)===0?(ua(0),!1):!0}function eh(){if(Ve!==null){if(st===0)var e=Ve.return;else e=Ve,Ii=Xr=null,mu(e),Vs=null,Go=0,e=Ve;for(;e!==null;)Zp(e.alternate,e),e=e.return;Ve=null}}function to(e,t){var p=e.timeoutHandle;p!==-1&&(e.timeoutHandle=-1,r_(p)),p=e.cancelPendingCommit,p!==null&&(e.cancelPendingCommit=null,p()),Yi=0,eh(),ft=e,Ve=p=Oi(e.current,null),Ke=t,st=0,Tn=null,mr=!1,Qs=Jn(e,t),Yu=!1,Js=Mn=Xu=rs=vr=Et=0,yn=la=null,qu=!1,(t&8)!==0&&(t|=t&32);var E=e.entangledLanes;if(E!==0)for(e=e.entanglements,E&=t;0<E;){var I=31-le(E),H=1<<I;t|=e[I],E&=~H}return Ki=t,Ya(),p}function xg(e,t){Be=null,O.H=ea,t===Us||t===nl?(t=If(),st=3):t===ru?(t=If(),st=4):st=t===Nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tn=t,Ve===null&&(Et=1,ml(e,Un(t,e.current)))}function wg(){var e=An.current;return e===null?!0:(Ke&4194048)===Ke?Yn===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===Yn:!1}function Sg(){var e=O.H;return O.H=ea,e===null?ea:e}function Cg(){var e=O.A;return O.A=jb,e}function Tl(){Et=4,mr||(Ke&4194048)!==Ke&&An.current!==null||(Qs=!0),(vr&134217727)===0&&(rs&134217727)===0||ft===null||_r(ft,Ke,Mn,!1)}function th(e,t,p){var E=tt;tt|=2;var I=Sg(),H=Cg();(ft!==e||Ke!==t)&&(Al=null,to(e,t)),t=!1;var G=Et;e:do try{if(st!==0&&Ve!==null){var Z=Ve,re=Tn;switch(st){case 8:eh(),G=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(t=!0);var ue=st;if(st=0,Tn=null,no(e,Z,re,ue),p&&Qs){G=0;break e}break;default:ue=st,st=0,Tn=null,no(e,Z,re,ue)}}Hb(),G=Et;break}catch(fe){xg(e,fe)}while(!0);return t&&e.shellSuspendCounter++,Ii=Xr=null,tt=E,O.H=I,O.A=H,Ve===null&&(ft=null,Ke=0,Ya()),G}function Hb(){for(;Ve!==null;)Eg(Ve)}function zb(e,t){var p=tt;tt|=2;var E=Sg(),I=Cg();ft!==e||Ke!==t?(Al=null,El=Ze()+500,to(e,t)):Qs=Jn(e,t);e:do try{if(st!==0&&Ve!==null){t=Ve;var H=Tn;t:switch(st){case 1:st=0,Tn=null,no(e,t,H,1);break;case 2:case 9:if(Of(H)){st=0,Tn=null,Ag(t);break}t=function(){st!==2&&st!==9||ft!==e||(st=7),Ci(e)},H.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Of(H)?(st=0,Tn=null,Ag(t)):(st=0,Tn=null,no(e,t,H,7));break;case 5:var G=null;switch(Ve.tag){case 26:G=Ve.memoizedState;case 5:case 27:var Z=Ve;if(G?hm(G):Z.stateNode.complete){st=0,Tn=null;var re=Z.sibling;if(re!==null)Ve=re;else{var ue=Z.return;ue!==null?(Ve=ue,Ml(ue)):Ve=null}break t}}st=0,Tn=null,no(e,t,H,5);break;case 6:st=0,Tn=null,no(e,t,H,6);break;case 8:eh(),Et=6;break e;default:throw Error(v(462))}}Fb();break}catch(fe){xg(e,fe)}while(!0);return Ii=Xr=null,O.H=E,O.A=I,tt=p,Ve!==null?0:(ft=null,Ke=0,Ya(),Et)}function Fb(){for(;Ve!==null&&!Zt();)Eg(Ve)}function Eg(e){var t=Xp(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,t===null?Ml(e):Ve=t}function Ag(e){var t=e,p=t.alternate;switch(t.tag){case 15:case 0:t=Wp(p,t,t.pendingProps,t.type,void 0,Ke);break;case 11:t=Wp(p,t,t.pendingProps,t.type.render,t.ref,Ke);break;case 5:mu(t);default:Zp(p,t),t=Ve=Cf(t,Ki),t=Xp(p,t,Ki)}e.memoizedProps=e.pendingProps,t===null?Ml(e):Ve=t}function no(e,t,p,E){Ii=Xr=null,mu(t),Vs=null,Go=0;var I=t.return;try{if(Mb(e,I,t,p,Ke)){Et=1,ml(e,Un(p,e.current)),Ve=null;return}}catch(H){if(I!==null)throw Ve=I,H;Et=1,ml(e,Un(p,e.current)),Ve=null;return}t.flags&32768?(qe||E===1?e=!0:Qs||(Ke&536870912)!==0?e=!1:(mr=e=!0,(E===2||E===9||E===3||E===6)&&(E=An.current,E!==null&&E.tag===13&&(E.flags|=16384))),kg(t,e)):Ml(t)}function Ml(e){var t=e;do{if((t.flags&32768)!==0){kg(t,mr);return}e=t.return;var p=Nb(t.alternate,t,Ki);if(p!==null){Ve=p;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Et===0&&(Et=5)}function kg(e,t){do{var p=$b(e.alternate,e);if(p!==null){p.flags&=32767,Ve=p;return}if(p=e.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=p}while(e!==null);Et=6,Ve=null}function Tg(e,t,p,E,I,H,G,Z,re){e.cancelPendingCommit=null;do Ll();while(Kt!==0);if((tt&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(H=t.lanes|t.childLanes,H|=Wc,ko(e,p,H,G,Z,re),e===ft&&(Ve=ft=null,Ke=0),eo=t,br=e,Yi=p,Zu=H,Qu=I,vg=E,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vb(pt,function(){return $g(),null})):(e.callbackNode=null,e.callbackPriority=0),E=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||E){E=O.T,O.T=null,I=z.p,z.p=2,G=tt,tt|=4;try{Db(e,t,p)}finally{tt=G,z.p=I,O.T=E}}Kt=1,Mg(),Lg(),Rg()}}function Mg(){if(Kt===1){Kt=0;var e=br,t=eo,p=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||p){p=O.T,O.T=null;var E=z.p;z.p=2;var I=tt;tt|=4;try{cg(t,e);var H=fh,G=gf(e.containerInfo),Z=H.focusedElem,re=H.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&pf(Z.ownerDocument.documentElement,Z)){if(re!==null&&Bc(Z)){var ue=re.start,fe=re.end;if(fe===void 0&&(fe=ue),"selectionStart"in Z)Z.selectionStart=ue,Z.selectionEnd=Math.min(fe,Z.value.length);else{var ve=Z.ownerDocument||document,he=ve&&ve.defaultView||window;if(he.getSelection){var de=he.getSelection(),Ee=Z.textContent.length,$e=Math.min(re.start,Ee),ht=re.end===void 0?$e:Math.min(re.end,Ee);!de.extend&&$e>ht&&(G=ht,ht=$e,$e=G);var ae=ff(Z,$e),se=ff(Z,ht);if(ae&&se&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==se.node||de.focusOffset!==se.offset)){var ce=ve.createRange();ce.setStart(ae.node,ae.offset),de.removeAllRanges(),$e>ht?(de.addRange(ce),de.extend(se.node,se.offset)):(ce.setEnd(se.node,se.offset),de.addRange(ce))}}}}for(ve=[],de=Z;de=de.parentNode;)de.nodeType===1&&ve.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<ve.length;Z++){var ge=ve[Z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Pl=!!dh,fh=dh=null}finally{tt=I,z.p=E,O.T=p}}e.current=t,Kt=2}}function Lg(){if(Kt===2){Kt=0;var e=br,t=eo,p=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||p){p=O.T,O.T=null;var E=z.p;z.p=2;var I=tt;tt|=4;try{rg(e,t.alternate,t)}finally{tt=I,z.p=E,O.T=p}}Kt=3}}function Rg(){if(Kt===4||Kt===3){Kt=0,mt();var e=br,t=eo,p=Yi,E=vg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Kt=5:(Kt=0,eo=br=null,Ng(e,e.pendingLanes));var I=e.pendingLanes;if(I===0&&(yr=null),Li(p),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Tt,t,void 0,(t.current.flags&128)===128)}catch{}if(E!==null){t=O.T,I=z.p,z.p=2,O.T=null;try{for(var H=e.onRecoverableError,G=0;G<E.length;G++){var Z=E[G];H(Z.value,{componentStack:Z.stack})}}finally{O.T=t,z.p=I}}(Yi&3)!==0&&Ll(),Ci(e),I=e.pendingLanes,(p&261930)!==0&&(I&42)!==0?e===Ju?ca++:(ca=0,Ju=e):ca=0,ua(0)}}function Ng(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Uo(t)))}function Ll(){return Mg(),Lg(),Rg(),$g()}function $g(){if(Kt!==5)return!1;var e=br,t=Zu;Zu=0;var p=Li(Yi),E=O.T,I=z.p;try{z.p=32>p?32:p,O.T=null,p=Qu,Qu=null;var H=br,G=Yi;if(Kt=0,eo=br=null,Yi=0,(tt&6)!==0)throw Error(v(331));var Z=tt;if(tt|=4,pg(H.current),hg(H,H.current,G,p),tt=Z,ua(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Tt,H)}catch{}return!0}finally{z.p=I,O.T=E,Ng(e,t)}}function Dg(e,t,p){t=Un(p,t),t=Ru(e.stateNode,t,2),e=dr(e,t,2),e!==null&&(Mi(e,2),Ci(e))}function ot(e,t,p){if(e.tag===3)Dg(e,e,p);else for(;t!==null;){if(t.tag===3){Dg(t,e,p);break}else if(t.tag===1){var E=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(yr===null||!yr.has(E))){e=Un(p,e),p=Op(2),E=dr(t,p,2),E!==null&&(jp(p,E,t,e),Mi(E,2),Ci(E));break}}t=t.return}}function nh(e,t,p){var E=e.pingCache;if(E===null){E=e.pingCache=new Ib;var I=new Set;E.set(t,I)}else I=E.get(t),I===void 0&&(I=new Set,E.set(t,I));I.has(p)||(Yu=!0,I.add(p),e=Pb.bind(null,e,t,p),t.then(e,e))}function Pb(e,t,p){var E=e.pingCache;E!==null&&E.delete(t),e.pingedLanes|=e.suspendedLanes&p,e.warmLanes&=~p,ft===e&&(Ke&p)===p&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Ze()-Cl?(tt&2)===0&&to(e,0):Xu|=p,Js===Ke&&(Js=0)),Ci(e)}function Og(e,t){t===0&&(t=tr()),e=Gr(e,t),e!==null&&(Mi(e,t),Ci(e))}function Wb(e){var t=e.memoizedState,p=0;t!==null&&(p=t.retryLane),Og(e,p)}function Ub(e,t){var p=0;switch(e.tag){case 31:case 13:var E=e.stateNode,I=e.memoizedState;I!==null&&(p=I.retryLane);break;case 19:E=e.stateNode;break;case 22:E=e.stateNode._retryCache;break;default:throw Error(v(314))}E!==null&&E.delete(t),Og(e,p)}function Vb(e,t){return Dt(e,t)}var Rl=null,io=null,ih=!1,Nl=!1,rh=!1,xr=0;function Ci(e){e!==io&&e.next===null&&(io===null?Rl=io=e:io=io.next=e),Nl=!0,ih||(ih=!0,Kb())}function ua(e,t){if(!rh&&Nl){rh=!0;do for(var p=!1,E=Rl;E!==null;){if(e!==0){var I=E.pendingLanes;if(I===0)var H=0;else{var G=E.suspendedLanes,Z=E.pingedLanes;H=(1<<31-le(42|e)+1)-1,H&=I&~(G&~Z),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(p=!0,Hg(E,H))}else H=Ke,H=Bn(E,E===ft?H:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(H&3)===0||Jn(E,H)||(p=!0,Hg(E,H));E=E.next}while(p);rh=!1}}function Gb(){jg()}function jg(){Nl=ih=!1;var e=0;xr!==0&&i_()&&(e=xr);for(var t=Ze(),p=null,E=Rl;E!==null;){var I=E.next,H=Ig(E,t);H===0?(E.next=null,p===null?Rl=I:p.next=I,I===null&&(io=p)):(p=E,(e!==0||(H&3)!==0)&&(Nl=!0)),E=I}Kt!==0&&Kt!==5||ua(e),xr!==0&&(xr=0)}function Ig(e,t){for(var p=e.suspendedLanes,E=e.pingedLanes,I=e.expirationTimes,H=e.pendingLanes&-62914561;0<H;){var G=31-le(H),Z=1<<G,re=I[G];re===-1?((Z&p)===0||(Z&E)!==0)&&(I[G]=Br(Z,t)):re<=t&&(e.expiredLanes|=Z),H&=~Z}if(t=ft,p=Ke,p=Bn(e,e===t?p:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),E=e.callbackNode,p===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return E!==null&&E!==null&&qt(E),e.callbackNode=null,e.callbackPriority=0;if((p&3)===0||Jn(e,p)){if(t=p&-p,t===e.callbackPriority)return t;switch(E!==null&&qt(E),Li(p)){case 2:case 8:p=xt;break;case 32:p=pt;break;case 268435456:p=it;break;default:p=pt}return E=Bg.bind(null,e),p=Dt(p,E),e.callbackPriority=t,e.callbackNode=p,t}return E!==null&&E!==null&&qt(E),e.callbackPriority=2,e.callbackNode=null,2}function Bg(e,t){if(Kt!==0&&Kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var p=e.callbackNode;if(Ll()&&e.callbackNode!==p)return null;var E=Ke;return E=Bn(e,e===ft?E:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),E===0?null:(bg(e,E,t),Ig(e,Ze()),e.callbackNode!=null&&e.callbackNode===p?Bg.bind(null,e):null)}function Hg(e,t){if(Ll())return null;bg(e,t,!0)}function Kb(){s_(function(){(tt&6)!==0?Dt(Ot,Gb):jg()})}function sh(){if(xr===0){var e=Ps;e===0&&(e=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),xr=e}return xr}function zg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ks(""+e)}function Fg(e,t){var p=t.ownerDocument.createElement("input");return p.name=t.name,p.value=t.value,e.id&&p.setAttribute("form",e.id),t.parentNode.insertBefore(p,t),e=new FormData(e),p.parentNode.removeChild(p),e}function Yb(e,t,p,E,I){if(t==="submit"&&p&&p.stateNode===I){var H=zg((I[Ut]||null).action),G=E.submitter;G&&(t=(t=G[Ut]||null)?zg(t.formAction):G.getAttribute("formAction"),t!==null&&(H=t,G=null));var Z=new je("action","action",null,E,I);e.push({event:Z,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(xr!==0){var re=G?Fg(I,G):new FormData(I);Eu(p,{pending:!0,data:re,method:I.method,action:H},null,re)}}else typeof H=="function"&&(Z.preventDefault(),re=G?Fg(I,G):new FormData(I),Eu(p,{pending:!0,data:re,method:I.method,action:H},H,re))},currentTarget:I}]})}}for(var oh=0;oh<Pc.length;oh++){var ah=Pc[oh],Xb=ah.toLowerCase(),qb=ah[0].toUpperCase()+ah.slice(1);hi(Xb,"on"+qb)}hi(yf,"onAnimationEnd"),hi(bf,"onAnimationIteration"),hi(_f,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(db,"onTransitionRun"),hi(fb,"onTransitionStart"),hi(pb,"onTransitionCancel"),hi(xf,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function Pg(e,t){t=(t&4)!==0;for(var p=0;p<e.length;p++){var E=e[p],I=E.event;E=E.listeners;e:{var H=void 0;if(t)for(var G=E.length-1;0<=G;G--){var Z=E[G],re=Z.instance,ue=Z.currentTarget;if(Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ka(fe)}I.currentTarget=null,H=re}else for(G=0;G<E.length;G++){if(Z=E[G],re=Z.instance,ue=Z.currentTarget,Z=Z.listener,re!==H&&I.isPropagationStopped())break e;H=Z,I.currentTarget=ue;try{H(I)}catch(fe){Ka(fe)}I.currentTarget=null,H=re}}}}function Ge(e,t){var p=t[un];p===void 0&&(p=t[un]=new Set);var E=e+"__bubble";p.has(E)||(Wg(t,e,2,!1),p.add(E))}function lh(e,t,p){var E=0;t&&(E|=4),Wg(p,e,E,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ch(e){if(!e[$l]){e[$l]=!0,_s.forEach(function(p){p!=="selectionchange"&&(Zb.has(p)||lh(p,!1,e),lh(p,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,lh("selectionchange",!1,t))}}function Wg(e,t,p,E){switch(ym(t)){case 2:var I=E_;break;case 8:I=A_;break;default:I=Ch}p=I.bind(null,t,p,e),I=void 0,!Ms||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(I=!0),E?I!==void 0?e.addEventListener(t,p,{capture:!0,passive:I}):e.addEventListener(t,p,!0):I!==void 0?e.addEventListener(t,p,{passive:I}):e.addEventListener(t,p,!1)}function uh(e,t,p,E,I){var H=E;if((t&1)===0&&(t&2)===0&&E!==null)e:for(;;){if(E===null)return;var G=E.tag;if(G===3||G===4){var Z=E.stateNode.containerInfo;if(Z===I)break;if(G===4)for(G=E.return;G!==null;){var re=G.tag;if((re===3||re===4)&&G.stateNode.containerInfo===I)return;G=G.return}for(;Z!==null;){if(G=an(Z),G===null)return;if(re=G.tag,re===5||re===6||re===26||re===27){E=H=G;continue e}Z=Z.parentNode}}E=E.return}Wa(function(){var ue=H,fe=Ts(p),ve=[];e:{var he=wf.get(e);if(he!==void 0){var de=je,Ee=e;switch(e){case"keypress":if(ee(p)===0)break e;case"keydown":case"keyup":de=Uy;break;case"focusin":Ee="focus",de=Sn;break;case"focusout":Ee="blur",de=Sn;break;case"beforeblur":case"afterblur":de=Sn;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Ky;break;case yf:case bf:case _f:de=Va;break;case xf:de=Xy;break;case"scroll":case"scrollend":de=jt;break;case"wheel":de=Zy;break;case"copy":case"cut":case"paste":de=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Qd;break;case"toggle":case"beforetoggle":de=Jy}var $e=(t&4)!==0,ht=!$e&&(e==="scroll"||e==="scrollend"),ae=$e?he!==null?he+"Capture":null:he;$e=[];for(var se=ue,ce;se!==null;){var ge=se;if(ce=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ce===null||ae===null||(ge=sr(se,ae),ge!=null&&$e.push(da(se,ge,ce))),ht)break;se=se.return}0<$e.length&&(he=new de(he,Ee,null,p,fe),ve.push({event:he,listeners:$e}))}}if((t&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",he&&p!==ai&&(Ee=p.relatedTarget||p.fromElement)&&(an(Ee)||Ee[yi]))break e;if((de||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,de?(Ee=p.relatedTarget||p.toElement,de=ue,Ee=Ee?an(Ee):null,Ee!==null&&(ht=S(Ee),$e=Ee.tag,Ee!==ht||$e!==5&&$e!==27&&$e!==6)&&(Ee=null)):(de=null,Ee=ue),de!==Ee)){if($e=Gt,ge="onMouseLeave",ae="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&($e=Qd,ge="onPointerLeave",ae="onPointerEnter",se="pointer"),ht=de==null?he:Ni(de),ce=Ee==null?he:Ni(Ee),he=new $e(ge,se+"leave",de,p,fe),he.target=ht,he.relatedTarget=ce,ge=null,an(fe)===ue&&($e=new $e(ae,se+"enter",Ee,p,fe),$e.target=ce,$e.relatedTarget=ht,ge=$e),ht=ge,de&&Ee)t:{for($e=Qb,ae=de,se=Ee,ce=0,ge=ae;ge;ge=$e(ge))ce++;ge=0;for(var Re=se;Re;Re=$e(Re))ge++;for(;0<ce-ge;)ae=$e(ae),ce--;for(;0<ge-ce;)se=$e(se),ge--;for(;ce--;){if(ae===se||se!==null&&ae===se.alternate){$e=ae;break t}ae=$e(ae),se=$e(se)}$e=null}else $e=null;de!==null&&Ug(ve,he,de,$e,!1),Ee!==null&&ht!==null&&Ug(ve,ht,Ee,$e,!0)}}e:{if(he=ue?Ni(ue):window,de=he.nodeName&&he.nodeName.toLowerCase(),de==="select"||de==="input"&&he.type==="file")var Je=af;else if(sf(he))if(lf)Je=cb;else{Je=ab;var Te=ob}else de=he.nodeName,!de||de.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Oo(ue.elementType)&&(Je=af):Je=lb;if(Je&&(Je=Je(e,ue))){of(ve,Je,p,fe);break e}Te&&Te(e,he,ue),e==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&$o(he,"number",he.value)}switch(Te=ue?Ni(ue):window,e){case"focusin":(sf(Te)||Te.contentEditable==="true")&&(Ds=Te,Hc=ue,Fo=null);break;case"focusout":Fo=Hc=Ds=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,mf(ve,p,fe);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":mf(ve,p,fe)}var ze;if(Oc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else $s?nf(e,p)&&(Ye="onCompositionEnd"):e==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(Jd&&p.locale!=="ko"&&($s||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&$s&&(ze=Ua()):(ui=fe,jo="value"in ui?ui.value:ui.textContent,$s=!0)),Te=Dl(ue,Ye),0<Te.length&&(Ye=new Zd(Ye,e,null,p,fe),ve.push({event:Ye,listeners:Te}),ze?Ye.data=ze:(ze=rf(p),ze!==null&&(Ye.data=ze)))),(ze=tb?nb(e,p):ib(e,p))&&(Ye=Dl(ue,"onBeforeInput"),0<Ye.length&&(Te=new Zd("onBeforeInput","beforeinput",null,p,fe),ve.push({event:Te,listeners:Ye}),Te.data=ze)),Yb(ve,e,ue,p,fe)}Pg(ve,t)})}function da(e,t,p){return{instance:e,listener:t,currentTarget:p}}function Dl(e,t){for(var p=t+"Capture",E=[];e!==null;){var I=e,H=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||H===null||(I=sr(e,p),I!=null&&E.unshift(da(e,I,H)),I=sr(e,t),I!=null&&E.push(da(e,I,H))),e.tag===3)return E;e=e.return}return[]}function Qb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ug(e,t,p,E,I){for(var H=t._reactName,G=[];p!==null&&p!==E;){var Z=p,re=Z.alternate,ue=Z.stateNode;if(Z=Z.tag,re!==null&&re===E)break;Z!==5&&Z!==26&&Z!==27||ue===null||(re=ue,I?(ue=sr(p,H),ue!=null&&G.unshift(da(p,ue,re))):I||(ue=sr(p,H),ue!=null&&G.push(da(p,ue,re)))),p=p.return}G.length!==0&&e.push({event:t,listeners:G})}var Jb=/\r\n?/g,e_=/\u0000|\uFFFD/g;function Vg(e){return(typeof e=="string"?e:""+e).replace(Jb,`
`).replace(e_,"")}function Gg(e,t){return t=Vg(t),Vg(e)===t}function ut(e,t,p,E,I,H){switch(p){case"children":typeof E=="string"?t==="body"||t==="textarea"&&E===""||wn(e,E):(typeof E=="number"||typeof E=="bigint")&&t!=="body"&&wn(e,""+E);break;case"className":Cs(e,"class",E);break;case"tabIndex":Cs(e,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,p,E);break;case"style":si(e,E,H);break;case"data":if(t!=="object"){Cs(e,"data",E);break}case"src":case"href":if(E===""&&(t!=="a"||p!=="href")){e.removeAttribute(p);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){e.removeAttribute(p);break}E=ks(""+E),e.setAttribute(p,E);break;case"action":case"formAction":if(typeof E=="function"){e.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(p==="formAction"?(t!=="input"&&ut(e,t,"name",I.name,I,null),ut(e,t,"formEncType",I.formEncType,I,null),ut(e,t,"formMethod",I.formMethod,I,null),ut(e,t,"formTarget",I.formTarget,I,null)):(ut(e,t,"encType",I.encType,I,null),ut(e,t,"method",I.method,I,null),ut(e,t,"target",I.target,I,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){e.removeAttribute(p);break}E=ks(""+E),e.setAttribute(p,E);break;case"onClick":E!=null&&(e.onclick=oi);break;case"onScroll":E!=null&&Ge("scroll",e);break;case"onScrollEnd":E!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(v(61));if(p=E.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"multiple":e.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":e.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){e.removeAttribute("xlink:href");break}p=ks(""+E),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?e.setAttribute(p,""+E):e.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?e.setAttribute(p,""):e.removeAttribute(p);break;case"capture":case"download":E===!0?e.setAttribute(p,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?e.setAttribute(p,E):e.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?e.setAttribute(p,E):e.removeAttribute(p);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?e.removeAttribute(p):e.setAttribute(p,E);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),Ss(e,"popover",E);break;case"xlinkActuate":ri(e,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":ri(e,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":ri(e,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":ri(e,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":ri(e,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":ri(e,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":ri(e,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":ri(e,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":ri(e,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Ss(e,"is",E);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Nc.get(p)||p,Ss(e,p,E))}}function hh(e,t,p,E,I,H){switch(p){case"style":si(e,E,H);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(v(61));if(p=E.__html,p!=null){if(I.children!=null)throw Error(v(60));e.innerHTML=p}}break;case"children":typeof E=="string"?wn(e,E):(typeof E=="number"||typeof E=="bigint")&&wn(e,""+E);break;case"onScroll":E!=null&&Ge("scroll",e);break;case"onScrollEnd":E!=null&&Ge("scrollend",e);break;case"onClick":E!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$i.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(I=p.endsWith("Capture"),t=p.slice(2,I?p.length-7:void 0),H=e[Ut]||null,H=H!=null?H[p]:null,typeof H=="function"&&e.removeEventListener(t,H,I),typeof E=="function")){typeof H!="function"&&H!==null&&(p in e?e[p]=null:e.hasAttribute(p)&&e.removeAttribute(p)),e.addEventListener(t,E,I);break e}p in e?e[p]=E:E===!0?e.setAttribute(p,""):Ss(e,p,E)}}}function nn(e,t,p){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var E=!1,I=!1,H;for(H in p)if(p.hasOwnProperty(H)){var G=p[H];if(G!=null)switch(H){case"src":E=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,H,G,p,null)}}I&&ut(e,t,"srcSet",p.srcSet,p,null),E&&ut(e,t,"src",p.src,p,null);return;case"input":Ge("invalid",e);var Z=H=G=I=null,re=null,ue=null;for(E in p)if(p.hasOwnProperty(E)){var fe=p[E];if(fe!=null)switch(E){case"name":I=fe;break;case"type":G=fe;break;case"checked":re=fe;break;case"defaultChecked":ue=fe;break;case"value":H=fe;break;case"defaultValue":Z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(v(137,t));break;default:ut(e,t,E,fe,p,null)}}No(e,H,Z,re,ue,G,I,!1);return;case"select":Ge("invalid",e),E=G=H=null;for(I in p)if(p.hasOwnProperty(I)&&(Z=p[I],Z!=null))switch(I){case"value":H=Z;break;case"defaultValue":G=Z;break;case"multiple":E=Z;default:ut(e,t,I,Z,p,null)}t=H,p=G,e.multiple=!!E,t!=null?ir(e,!!E,t,!1):p!=null&&ir(e,!!E,p,!0);return;case"textarea":Ge("invalid",e),H=I=E=null;for(G in p)if(p.hasOwnProperty(G)&&(Z=p[G],Z!=null))switch(G){case"value":E=Z;break;case"defaultValue":I=Z;break;case"children":H=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(v(91));break;default:ut(e,t,G,Z,p,null)}Pr(e,E,I,H);return;case"option":for(re in p)p.hasOwnProperty(re)&&(E=p[re],E!=null)&&(re==="selected"?e.selected=E&&typeof E!="function"&&typeof E!="symbol":ut(e,t,re,E,p,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(E=0;E<ha.length;E++)Ge(ha[E],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in p)if(p.hasOwnProperty(ue)&&(E=p[ue],E!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ut(e,t,ue,E,p,null)}return;default:if(Oo(t)){for(fe in p)p.hasOwnProperty(fe)&&(E=p[fe],E!==void 0&&hh(e,t,fe,E,p,void 0));return}}for(Z in p)p.hasOwnProperty(Z)&&(E=p[Z],E!=null&&ut(e,t,Z,E,p,null))}function t_(e,t,p,E){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,H=null,G=null,Z=null,re=null,ue=null,fe=null;for(de in p){var ve=p[de];if(p.hasOwnProperty(de)&&ve!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":re=ve;default:E.hasOwnProperty(de)||ut(e,t,de,null,E,ve)}}for(var he in E){var de=E[he];if(ve=p[he],E.hasOwnProperty(he)&&(de!=null||ve!=null))switch(he){case"type":H=de;break;case"name":I=de;break;case"checked":ue=de;break;case"defaultChecked":fe=de;break;case"value":G=de;break;case"defaultValue":Z=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(v(137,t));break;default:de!==ve&&ut(e,t,he,de,E,ve)}}Ro(e,G,Z,re,ue,fe,H,I);return;case"select":de=G=Z=he=null;for(H in p)if(re=p[H],p.hasOwnProperty(H)&&re!=null)switch(H){case"value":break;case"multiple":de=re;default:E.hasOwnProperty(H)||ut(e,t,H,null,E,re)}for(I in E)if(H=E[I],re=p[I],E.hasOwnProperty(I)&&(H!=null||re!=null))switch(I){case"value":he=H;break;case"defaultValue":Z=H;break;case"multiple":G=H;default:H!==re&&ut(e,t,I,H,E,re)}t=Z,p=G,E=de,he!=null?ir(e,!!p,he,!1):!!E!=!!p&&(t!=null?ir(e,!!p,t,!0):ir(e,!!p,p?[]:"",!1));return;case"textarea":de=he=null;for(Z in p)if(I=p[Z],p.hasOwnProperty(Z)&&I!=null&&!E.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:ut(e,t,Z,null,E,I)}for(G in E)if(I=E[G],H=p[G],E.hasOwnProperty(G)&&(I!=null||H!=null))switch(G){case"value":he=I;break;case"defaultValue":de=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(v(91));break;default:I!==H&&ut(e,t,G,I,E,H)}Do(e,he,de);return;case"option":for(var Ee in p)he=p[Ee],p.hasOwnProperty(Ee)&&he!=null&&!E.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:ut(e,t,Ee,null,E,he));for(re in E)he=E[re],de=p[re],E.hasOwnProperty(re)&&he!==de&&(he!=null||de!=null)&&(re==="selected"?e.selected=he&&typeof he!="function"&&typeof he!="symbol":ut(e,t,re,he,E,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in p)he=p[$e],p.hasOwnProperty($e)&&he!=null&&!E.hasOwnProperty($e)&&ut(e,t,$e,null,E,he);for(ue in E)if(he=E[ue],de=p[ue],E.hasOwnProperty(ue)&&he!==de&&(he!=null||de!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(v(137,t));break;default:ut(e,t,ue,he,E,de)}return;default:if(Oo(t)){for(var ht in p)he=p[ht],p.hasOwnProperty(ht)&&he!==void 0&&!E.hasOwnProperty(ht)&&hh(e,t,ht,void 0,E,he);for(fe in E)he=E[fe],de=p[fe],!E.hasOwnProperty(fe)||he===de||he===void 0&&de===void 0||hh(e,t,fe,he,E,de);return}}for(var ae in p)he=p[ae],p.hasOwnProperty(ae)&&he!=null&&!E.hasOwnProperty(ae)&&ut(e,t,ae,null,E,he);for(ve in E)he=E[ve],de=p[ve],!E.hasOwnProperty(ve)||he===de||he==null&&de==null||ut(e,t,ve,he,E,de)}function Kg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,p=performance.getEntriesByType("resource"),E=0;E<p.length;E++){var I=p[E],H=I.transferSize,G=I.initiatorType,Z=I.duration;if(H&&Z&&Kg(G)){for(G=0,Z=I.responseEnd,E+=1;E<p.length;E++){var re=p[E],ue=re.startTime;if(ue>Z)break;var fe=re.transferSize,ve=re.initiatorType;fe&&Kg(ve)&&(re=re.responseEnd,G+=fe*(re<Z?1:(Z-ue)/(re-ue)))}if(--E,t+=8*(H+G)/(I.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dh=null,fh=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function Yg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gh=null;function i_(){var e=window.event;return e&&e.type==="popstate"?e===gh?!1:(gh=e,!0):(gh=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(o_)}:qg;function o_(e){setTimeout(function(){throw e})}function wr(e){return e==="head"}function Qg(e,t){var p=t,E=0;do{var I=p.nextSibling;if(e.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"||p==="/&"){if(E===0){e.removeChild(I),ao(t);return}E--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")E++;else if(p==="html")fa(e.ownerDocument.documentElement);else if(p==="head"){p=e.ownerDocument.head,fa(p);for(var H=p.firstChild;H;){var G=H.nextSibling,Z=H.nodeName;H[Ri]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&H.rel.toLowerCase()==="stylesheet"||p.removeChild(H),H=G}}else p==="body"&&fa(e.ownerDocument.body);p=I}while(p);ao(t)}function Jg(e,t){var p=e;e=0;do{var E=p.nextSibling;if(p.nodeType===1?t?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(t?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(e===0)break;e--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||e++;p=E}while(p)}function mh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var p=t;switch(t=t.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":mh(p),Hr(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}e.removeChild(p)}}function a_(e,t,p,E){for(;e.nodeType===1;){var I=p;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!E&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(E){if(!e[Ri])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(H=e.getAttribute("rel"),H==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(H!==I.rel||e.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||e.getAttribute("title")!==(I.title==null?null:I.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(H=e.getAttribute("src"),(H!==(I.src==null?null:I.src)||e.getAttribute("type")!==(I.type==null?null:I.type)||e.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&H&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var H=I.name==null?null:""+I.name;if(I.type==="hidden"&&e.getAttribute("name")===H)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function l_(e,t,p){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!p||(e=Xn(e.nextSibling),e===null))return null;return e}function em(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xn(e.nextSibling),e===null))return null;return e}function vh(e){return e.data==="$?"||e.data==="$~"}function yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function c_(e,t){var p=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||p.readyState!=="loading")t();else{var E=function(){t(),p.removeEventListener("DOMContentLoaded",E)};p.addEventListener("DOMContentLoaded",E),e._reactRetry=E}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bh=null;function tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="/$"||p==="/&"){if(t===0)return Xn(e.nextSibling);t--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||t++}e=e.nextSibling}return null}function nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var p=e.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(t===0)return e;t--}else p!=="/$"&&p!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,p){switch(t=Ol(p),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function fa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hr(e)}var qn=new Map,rm=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=z.d;z.d={f:u_,r:h_,D:d_,C:f_,L:p_,m:g_,X:v_,S:m_,M:y_};function u_(){var e=Xi.f(),t=kl();return e||t}function h_(e){var t=ti(e);t!==null&&t.tag===5&&t.type==="form"?xp(t):Xi.r(e)}var ro=typeof document>"u"?null:document;function sm(e,t,p){var E=ro;if(E&&typeof t=="string"&&t){var I=dn(t);I='link[rel="'+e+'"][href="'+I+'"]',typeof p=="string"&&(I+='[crossorigin="'+p+'"]'),rm.has(I)||(rm.add(I),e={rel:e,crossOrigin:p,href:t},E.querySelector(I)===null&&(t=E.createElement("link"),nn(t,"link",e),St(t),E.head.appendChild(t)))}}function d_(e){Xi.D(e),sm("dns-prefetch",e,null)}function f_(e,t){Xi.C(e,t),sm("preconnect",e,t)}function p_(e,t,p){Xi.L(e,t,p);var E=ro;if(E&&e&&t){var I='link[rel="preload"][as="'+dn(t)+'"]';t==="image"&&p&&p.imageSrcSet?(I+='[imagesrcset="'+dn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(I+='[imagesizes="'+dn(p.imageSizes)+'"]')):I+='[href="'+dn(e)+'"]';var H=I;switch(t){case"style":H=so(e);break;case"script":H=oo(e)}qn.has(H)||(e=n({rel:"preload",href:t==="image"&&p&&p.imageSrcSet?void 0:e,as:t},p),qn.set(H,e),E.querySelector(I)!==null||t==="style"&&E.querySelector(pa(H))||t==="script"&&E.querySelector(ga(H))||(t=E.createElement("link"),nn(t,"link",e),St(t),E.head.appendChild(t)))}}function g_(e,t){Xi.m(e,t);var p=ro;if(p&&e){var E=t&&typeof t.as=="string"?t.as:"script",I='link[rel="modulepreload"][as="'+dn(E)+'"][href="'+dn(e)+'"]',H=I;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=oo(e)}if(!qn.has(H)&&(e=n({rel:"modulepreload",href:e},t),qn.set(H,e),p.querySelector(I)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ga(H)))return}E=p.createElement("link"),nn(E,"link",e),St(E),p.head.appendChild(E)}}}function m_(e,t,p){Xi.S(e,t,p);var E=ro;if(E&&e){var I=bi(E).hoistableStyles,H=so(e);t=t||"default";var G=I.get(H);if(!G){var Z={loading:0,preload:null};if(G=E.querySelector(pa(H)))Z.loading=5;else{e=n({rel:"stylesheet",href:e,"data-precedence":t},p),(p=qn.get(H))&&_h(e,p);var re=G=E.createElement("link");St(re),nn(re,"link",e),re._p=new Promise(function(ue,fe){re.onload=ue,re.onerror=fe}),re.addEventListener("load",function(){Z.loading|=1}),re.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Il(G,t,E)}G={type:"stylesheet",instance:G,count:1,state:Z},I.set(H,G)}}}function v_(e,t){Xi.X(e,t);var p=ro;if(p&&e){var E=bi(p).hoistableScripts,I=oo(e),H=E.get(I);H||(H=p.querySelector(ga(I)),H||(e=n({src:e,async:!0},t),(t=qn.get(I))&&xh(e,t),H=p.createElement("script"),St(H),nn(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(I,H))}}function y_(e,t){Xi.M(e,t);var p=ro;if(p&&e){var E=bi(p).hoistableScripts,I=oo(e),H=E.get(I);H||(H=p.querySelector(ga(I)),H||(e=n({src:e,async:!0,type:"module"},t),(t=qn.get(I))&&xh(e,t),H=p.createElement("script"),St(H),nn(H,"link",e),p.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(I,H))}}function om(e,t,p,E){var I=(I=J.current)?jl(I):null;if(!I)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(t=so(p.href),p=bi(I).hoistableStyles,E=p.get(t),E||(E={type:"style",instance:null,count:0,state:null},p.set(t,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){e=so(p.href);var H=bi(I).hoistableStyles,G=H.get(e);if(G||(I=I.ownerDocument||I,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(e,G),(H=I.querySelector(pa(e)))&&!H._p&&(G.instance=H,G.state.loading=5),qn.has(e)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},qn.set(e,p),H||b_(I,e,p,G.state))),t&&E===null)throw Error(v(528,""));return G}if(t&&E!==null)throw Error(v(529,""));return null;case"script":return t=p.async,p=p.src,typeof p=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oo(p),p=bi(I).hoistableScripts,E=p.get(t),E||(E={type:"script",instance:null,count:0,state:null},p.set(t,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function so(e){return'href="'+dn(e)+'"'}function pa(e){return'link[rel="stylesheet"]['+e+"]"}function am(e){return n({},e,{"data-precedence":e.precedence,precedence:null})}function b_(e,t,p,E){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?E.loading=1:(t=e.createElement("link"),E.preload=t,t.addEventListener("load",function(){return E.loading|=1}),t.addEventListener("error",function(){return E.loading|=2}),nn(t,"link",p),St(t),e.head.appendChild(t))}function oo(e){return'[src="'+dn(e)+'"]'}function ga(e){return"script[async]"+e}function lm(e,t,p){if(t.count++,t.instance===null)switch(t.type){case"style":var E=e.querySelector('style[data-href~="'+dn(p.href)+'"]');if(E)return t.instance=E,St(E),E;var I=n({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return E=(e.ownerDocument||e).createElement("style"),St(E),nn(E,"style",I),Il(E,p.precedence,e),t.instance=E;case"stylesheet":I=so(p.href);var H=e.querySelector(pa(I));if(H)return t.state.loading|=4,t.instance=H,St(H),H;E=am(p),(I=qn.get(I))&&_h(E,I),H=(e.ownerDocument||e).createElement("link"),St(H);var G=H;return G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),nn(H,"link",E),t.state.loading|=4,Il(H,p.precedence,e),t.instance=H;case"script":return H=oo(p.src),(I=e.querySelector(ga(H)))?(t.instance=I,St(I),I):(E=p,(I=qn.get(H))&&(E=n({},p),xh(E,I)),e=e.ownerDocument||e,I=e.createElement("script"),St(I),nn(I,"link",E),e.head.appendChild(I),t.instance=I);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(E=t.instance,t.state.loading|=4,Il(E,p.precedence,e));return t.instance}function Il(e,t,p){for(var E=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=E.length?E[E.length-1]:null,H=I,G=0;G<E.length;G++){var Z=E[G];if(Z.dataset.precedence===t)H=Z;else if(H!==I)break}H?H.parentNode.insertBefore(e,H.nextSibling):(t=p.nodeType===9?p.head:p,t.insertBefore(e,t.firstChild))}function _h(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bl=null;function cm(e,t,p){if(Bl===null){var E=new Map,I=Bl=new Map;I.set(p,E)}else I=Bl,E=I.get(p),E||(E=new Map,I.set(p,E));if(E.has(e))return E;for(E.set(e,null),p=p.getElementsByTagName(e),I=0;I<p.length;I++){var H=p[I];if(!(H[Ri]||H[Mt]||e==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var G=H.getAttribute(t)||"";G=e+G;var Z=E.get(G);Z?Z.push(H):E.set(G,[H])}}return E}function um(e,t,p){e=e.ownerDocument||e,e.head.insertBefore(p,t==="title"?e.querySelector("head > title"):null)}function __(e,t,p){if(p===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function x_(e,t,p,E){if(p.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var I=so(E.href),H=t.querySelector(pa(I));if(H){t=H._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hl.bind(e),t.then(e,e)),p.state.loading|=4,p.instance=H,St(H);return}H=t.ownerDocument||t,E=am(E),(I=qn.get(I))&&_h(E,I),H=H.createElement("link"),St(H);var G=H;G._p=new Promise(function(Z,re){G.onload=Z,G.onerror=re}),nn(H,"link",E),p.instance=H}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(p,t),(t=p.state.preload)&&(p.state.loading&3)===0&&(e.count++,p=Hl.bind(e),t.addEventListener("load",p),t.addEventListener("error",p))}}var wh=0;function w_(e,t){return e.stylesheets&&e.count===0&&Fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(p){var E=setTimeout(function(){if(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend){var H=e.unsuspend;e.unsuspend=null,H()}},6e4+t);0<e.imgBytes&&wh===0&&(wh=62500*n_());var I=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend)){var H=e.unsuspend;e.unsuspend=null,H()}},(e.imgBytes>wh?50:800)+t);return e.unsuspend=p,function(){e.unsuspend=null,clearTimeout(E),clearTimeout(I)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zl=null;function Fl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zl=new Map,t.forEach(S_,e),zl=null,Hl.call(e))}function S_(e,t){if(!(t.state.loading&4)){var p=zl.get(e);if(p)var E=p.get(null);else{p=new Map,zl.set(e,p);for(var I=e.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<I.length;H++){var G=I[H];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),E=G)}E&&p.set(null,E)}I=t.instance,G=I.getAttribute("data-precedence"),H=p.get(G)||E,H===E&&p.set(null,I),p.set(G,I),this.count++,E=Hl.bind(this),I.addEventListener("load",E),I.addEventListener("error",E),H?H.parentNode.insertBefore(I,H.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(I,e.firstChild)),t.state.loading|=4}}var ma={$$typeof:x,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function C_(e,t,p,E,I,H,G,Z,re){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=E,this.onUncaughtError=I,this.onCaughtError=H,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function dm(e,t,p,E,I,H,G,Z,re,ue,fe,ve){return e=new C_(e,t,p,G,re,ue,fe,ve,Z),t=1,H===!0&&(t|=24),H=En(3,null,null,t),e.current=H,H.stateNode=e,t=tu(),t.refCount++,e.pooledCache=t,t.refCount++,H.memoizedState={element:E,isDehydrated:p,cache:t},su(H),e}function fm(e){return e?(e=Is,e):Is}function pm(e,t,p,E,I,H){I=fm(I),E.context===null?E.context=I:E.pendingContext=I,E=hr(t),E.payload={element:p},H=H===void 0?null:H,H!==null&&(E.callback=H),p=dr(e,E,t),p!==null&&(bn(p,e,t),Yo(p,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var p=e.retryLane;e.retryLane=p!==0&&p<t?p:t}}function Sh(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function mm(e){if(e.tag===13||e.tag===31){var t=Gr(e,67108864);t!==null&&bn(t,e,67108864),Sh(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=Ln();t=nr(t);var p=Gr(e,t);p!==null&&bn(p,e,t),Sh(e,t)}}var Pl=!0;function E_(e,t,p,E){var I=O.T;O.T=null;var H=z.p;try{z.p=2,Ch(e,t,p,E)}finally{z.p=H,O.T=I}}function A_(e,t,p,E){var I=O.T;O.T=null;var H=z.p;try{z.p=8,Ch(e,t,p,E)}finally{z.p=H,O.T=I}}function Ch(e,t,p,E){if(Pl){var I=Eh(E);if(I===null)uh(e,t,E,Wl,p),bm(e,E);else if(T_(I,e,t,p,E))E.stopPropagation();else if(bm(e,E),t&4&&-1<k_.indexOf(e)){for(;I!==null;){var H=ti(I);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var G=Wt(H.pendingLanes);if(G!==0){var Z=H;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var re=1<<31-le(G);Z.entanglements[1]|=re,G&=~re}Ci(H),(tt&6)===0&&(El=Ze()+500,ua(0))}}break;case 31:case 13:Z=Gr(H,2),Z!==null&&bn(Z,H,2),kl(),Sh(H,2)}if(H=Eh(E),H===null&&uh(e,t,E,Wl,p),H===I)break;I=H}I!==null&&E.stopPropagation()}else uh(e,t,E,null,p)}}function Eh(e){return e=Ts(e),Ah(e)}var Wl=null;function Ah(e){if(Wl=null,e=an(e),e!==null){var t=S(e);if(t===null)e=null;else{var p=t.tag;if(p===13){if(e=y(t),e!==null)return e;e=null}else if(p===31){if(e=f(t),e!==null)return e;e=null}else if(p===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wl=e,null}function ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Ot:return 2;case xt:return 8;case pt:case Yt:return 32;case it:return 268435456;default:return 32}default:return 32}}var kh=!1,Sr=null,Cr=null,Er=null,va=new Map,ya=new Map,Ar=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(t.pointerId)}}function ba(e,t,p,E,I,H){return e===null||e.nativeEvent!==H?(e={blockedOn:t,domEventName:p,eventSystemFlags:E,nativeEvent:H,targetContainers:[I]},t!==null&&(t=ti(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=E,t=e.targetContainers,I!==null&&t.indexOf(I)===-1&&t.push(I),e)}function T_(e,t,p,E,I){switch(t){case"focusin":return Sr=ba(Sr,e,t,p,E,I),!0;case"dragenter":return Cr=ba(Cr,e,t,p,E,I),!0;case"mouseover":return Er=ba(Er,e,t,p,E,I),!0;case"pointerover":var H=I.pointerId;return va.set(H,ba(va.get(H)||null,e,t,p,E,I)),!0;case"gotpointercapture":return H=I.pointerId,ya.set(H,ba(ya.get(H)||null,e,t,p,E,I)),!0}return!1}function _m(e){var t=an(e.target);if(t!==null){var p=S(t);if(p!==null){if(t=p.tag,t===13){if(t=y(p),t!==null){e.blockedOn=t,ys(e.priority,function(){vm(p)});return}}else if(t===31){if(t=f(p),t!==null){e.blockedOn=t,ys(e.priority,function(){vm(p)});return}}else if(t===3&&p.stateNode.current.memoizedState.isDehydrated){e.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var p=Eh(e.nativeEvent);if(p===null){p=e.nativeEvent;var E=new p.constructor(p.type,p);ai=E,p.target.dispatchEvent(E),ai=null}else return t=ti(p),t!==null&&mm(t),e.blockedOn=p,!1;t.shift()}return!0}function xm(e,t,p){Ul(e)&&p.delete(t)}function M_(){kh=!1,Sr!==null&&Ul(Sr)&&(Sr=null),Cr!==null&&Ul(Cr)&&(Cr=null),Er!==null&&Ul(Er)&&(Er=null),va.forEach(xm),ya.forEach(xm)}function Vl(e,t){e.blockedOn===t&&(e.blockedOn=null,kh||(kh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,M_)))}var Gl=null;function wm(e){Gl!==e&&(Gl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var p=e[t],E=e[t+1],I=e[t+2];if(typeof E!="function"){if(Ah(E||p)===null)continue;break}var H=ti(p);H!==null&&(e.splice(t,3),t-=3,Eu(H,{pending:!0,data:I,method:p.method,action:E},E,I))}}))}function ao(e){function t(re){return Vl(re,e)}Sr!==null&&Vl(Sr,e),Cr!==null&&Vl(Cr,e),Er!==null&&Vl(Er,e),va.forEach(t),ya.forEach(t);for(var p=0;p<Ar.length;p++){var E=Ar[p];E.blockedOn===e&&(E.blockedOn=null)}for(;0<Ar.length&&(p=Ar[0],p.blockedOn===null);)_m(p),p.blockedOn===null&&Ar.shift();if(p=(e.ownerDocument||e).$$reactFormReplay,p!=null)for(E=0;E<p.length;E+=3){var I=p[E],H=p[E+1],G=I[Ut]||null;if(typeof H=="function")G||wm(p);else if(G){var Z=null;if(H&&H.hasAttribute("formAction")){if(I=H,G=H[Ut]||null)Z=G.formAction;else if(Ah(I)!==null)continue}else Z=G.action;typeof Z=="function"?p[E+1]=Z:(p.splice(E,3),E-=3),wm(p)}}}function Sm(){function e(H){H.canIntercept&&H.info==="react-transition"&&H.intercept({handler:function(){return new Promise(function(G){return I=G})},focusReset:"manual",scroll:"manual"})}function t(){I!==null&&(I(),I=null),E||setTimeout(p,20)}function p(){if(!E&&!navigation.transition){var H=navigation.currentEntry;H&&H.url!=null&&navigation.navigate(H.url,{state:H.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,I=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(p,100),function(){E=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),I!==null&&(I(),I=null)}}}function Th(e){this._internalRoot=e}Kl.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var p=t.current,E=Ln();pm(p,E,e,t,null,null)},Kl.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),kl(),t[yi]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hn();e={blockedOn:null,target:e,priority:t};for(var p=0;p<Ar.length&&t!==0&&t<Ar[p].priority;p++);Ar.splice(p,0,e),p===0&&_m(e)}};var Cm=b.version;if(Cm!=="19.2.4")throw Error(v(527,Cm,"19.2.4"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=h(t),e=e!==null?r(e):null,e=e===null?null:e.stateNode,e};var L_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Tt=Yl.inject(L_),gt=Yl}catch{}}return xa.createRoot=function(e,t){if(!L(e))throw Error(v(299));var p=!1,E="",I=Rp,H=Np,G=$p;return t!=null&&(t.unstable_strictMode===!0&&(p=!0),t.identifierPrefix!==void 0&&(E=t.identifierPrefix),t.onUncaughtError!==void 0&&(I=t.onUncaughtError),t.onCaughtError!==void 0&&(H=t.onCaughtError),t.onRecoverableError!==void 0&&(G=t.onRecoverableError)),t=dm(e,1,!1,null,null,p,E,null,I,H,G,Sm),e[yi]=t.current,ch(e),new Th(t)},xa.hydrateRoot=function(e,t,p){if(!L(e))throw Error(v(299));var E=!1,I="",H=Rp,G=Np,Z=$p,re=null;return p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onUncaughtError!==void 0&&(H=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(Z=p.onRecoverableError),p.formState!==void 0&&(re=p.formState)),t=dm(e,1,!0,t,p??null,E,I,re,H,G,Z,Sm),t.context=fm(null),p=t.current,E=Ln(),E=nr(E),I=hr(E),I.callback=null,dr(p,I,E),p=E,t.current.lanes=p,Mi(t,p),Ci(t),e[yi]=t.current,ch(e),new Kl(t)},xa.version="19.2.4",xa}var Dm;function H_(){if(Dm)return Rh.exports;Dm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(b){console.error(b)}}return l(),Rh.exports=B_(),Rh.exports}var z_=H_();const F_=!1,P_=4792,Ne={apiPort:P_,serverPath:"/",useDemo:!1,isDev:F_},W_={},Om=l=>{let b;const g=new Set,v=(r,n)=>{const i=typeof r=="function"?r(b):r;if(!Object.is(i,b)){const s=b;b=n??(typeof i!="object"||i===null)?i:Object.assign({},b,i),g.forEach(c=>c(b,s))}},L=()=>b,o={setState:v,getState:L,getInitialState:()=>h,subscribe:r=>(g.add(r),()=>g.delete(r)),destroy:()=>{(W_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),g.clear()}},h=b=l(v,L,o);return o},l0=l=>l?Om(l):Om;var Oh={exports:{}},jh={},Ih={exports:{}},Bh={};var jm;function U_(){if(jm)return Bh;jm=1;var l=Ir();function b(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var g=typeof Object.is=="function"?Object.is:b,v=l.useState,L=l.useEffect,S=l.useLayoutEffect,y=l.useDebugValue;function f(n,i){var s=i(),c=v({inst:{value:s,getSnapshot:i}}),u=c[0].inst,a=c[1];return S(function(){u.value=s,u.getSnapshot=i,o(u)&&a({inst:u})},[n,s,i]),L(function(){return o(u)&&a({inst:u}),n(function(){o(u)&&a({inst:u})})},[n]),y(s),s}function o(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!g(n,s)}catch{return!0}}function h(n,i){return i()}var r=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Bh.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:r,Bh}var Im;function V_(){return Im||(Im=1,Ih.exports=U_()),Ih.exports}var Bm;function G_(){if(Bm)return jh;Bm=1;var l=Ir(),b=V_();function g(h,r){return h===r&&(h!==0||1/h===1/r)||h!==h&&r!==r}var v=typeof Object.is=="function"?Object.is:g,L=b.useSyncExternalStore,S=l.useRef,y=l.useEffect,f=l.useMemo,o=l.useDebugValue;return jh.useSyncExternalStoreWithSelector=function(h,r,n,i,s){var c=S(null);if(c.current===null){var u={hasValue:!1,value:null};c.current=u}else u=c.current;c=f(function(){function d(_){if(!m){if(m=!0,x=_,_=i(_),s!==void 0&&u.hasValue){var k=u.value;if(s(k,_))return C=k}return C=_}if(k=C,v(x,_))return k;var A=i(_);return s!==void 0&&s(k,A)?(x=_,k):(x=_,C=A)}var m=!1,x,C,w=n===void 0?null:n;return[function(){return d(r())},w===null?void 0:function(){return d(w())}]},[r,n,i,s]);var a=L(h,c[0],c[1]);return y(function(){u.hasValue=!0,u.value=a},[a]),o(a),a},jh}var Hm;function K_(){return Hm||(Hm=1,Oh.exports=G_()),Oh.exports}var Y_=K_();const c0=wc(Y_),u0={},{useDebugValue:X_}=_e,{useSyncExternalStoreWithSelector:q_}=c0;let zm=!1;const Z_=l=>l;function Q_(l,b=Z_,g){(u0?"production":void 0)!=="production"&&g&&!zm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zm=!0);const v=q_(l.subscribe,l.getState,l.getServerState||l.getInitialState,b,g);return X_(v),v}const Fm=l=>{(u0?"production":void 0)!=="production"&&typeof l!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const b=typeof l=="function"?l0(l):l,g=(v,L)=>Q_(b,v,L);return Object.assign(g,b),g},$n=l=>l?Fm(l):Fm,Dn=l=>{let b=l;b.use={};for(let g of Object.keys(b.getState()))b.use[g]=()=>b(v=>v[g]);return b},Oe={scanWorkspace:"scanworkspace",runCmdDev:"runcmddev",stopProcess:"stopprocess",listWorkspacesDir:"listworkspacedirs",newWorkspace:"newworkspace",interactvTerminal:"interactvterminal",stopInteractiveTerminal:"stopinteractiveterminal",stopTerminalWorkspace:"stopTerminalWorkspace",hideShowFileFolder:"hideshowfilefolder",updateWorkspace:"updateworkspace",getRootPath:"getrootpath",scaffoldRepo:"scaffoldrepo",turborepoExist:"turborepoexist",firstRun:"firstrun",notes:"notes",crudTest:"crudtest",gitControl:"gitcontrol",initMonorepoTime:"initmtime",processTree:"processtree",docker:"docker",availabletemplates:"availabletemplates",setWorkspaceTemplate:"setworkspacetemplate",deleteWorkspace:"deleteworkspace",scanProject:"scanproject",textEditor:"texteditor",gitStash:"gitstash",opencode:"opencode",opencodeCreateInstance:"opencode/createinstance",opencodeListInstances:"opencode/listinstances"},J_=$n()((l,b)=>({showTerminal:!1,setShowTerminal:g=>l({showTerminal:g}),rootDir:"",showAboutModal:!1,setShowAboutModal:g=>l({showAboutModal:g}),terminalFontSize:15,setTerminalFontSize:g=>{localStorage.setItem("terminalFontSize",g.toString()),l({terminalFontSize:g})},loadTerminalFontSize(){const g=localStorage.getItem("terminalFontSize");g&&l({terminalFontSize:parseInt(g)})},showGit:!1,setShowGit:g=>l({showGit:g}),projectTreeFontSize:14,setProjectTreeFontSize:g=>{localStorage.setItem("projectTreeFontSize",g.toString()),l({projectTreeFontSize:g})},loadProjectTreeFontSize(){const g=localStorage.getItem("projectTreeFontSize");g&&l({projectTreeFontSize:parseInt(g)})},loadRootDir:async()=>{if(!(b().rootDir.length>0))try{const v=await(await fetch(`${Ne.serverPath}${Oe.getRootPath}`)).json();l({rootDir:v.path})}catch{}},checkIfFirstTime:async()=>{try{return(await(await fetch(`${Ne.serverPath}${Oe.firstRun}`)).json()).isFirstTime}catch{return!1}},initMonorepoTime:async()=>{try{await fetch(`${Ne.serverPath}${Oe.initMonorepoTime}`)}catch(g){console.error("Error initializing Monorepo Time:",g)}},notes:"",noteNotFound:!0,setNotes:g=>l({notes:g}),loadNotes:async()=>{try{const g=await fetch(`${Ne.serverPath}${Oe.notes}`);if(!g.ok){l({noteNotFound:!0});return}const v=await g.json();l({notes:v.notes,noteNotFound:!1})}catch{l({noteNotFound:!0})}},saveNotes:async()=>{try{await fetch(`${Ne.serverPath}${Oe.notes}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:b().notes})})}catch(g){console.error("Error saving notes:",g)}},scaffoldRepo:async()=>await(await fetch(`${Ne.serverPath}${Oe.scaffoldRepo}`)).json(),hideShowFileFolder:async(g,v)=>await(await fetch(`${Ne.serverPath}${Oe.hideShowFileFolder}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hide:g,pathInclude:v})})).json(),getTemplates:async()=>await(await fetch(`${Ne.serverPath}${Oe.availabletemplates}`)).json()})),Xe=Dn(J_);function ex(){return N.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-5 h-5"})})}const tx=$n(l=>({showOrchestrator:!1,setShowOrchestrator:b=>l({showOrchestrator:b})})),uc=Dn(tx);function h0(){const l=Xe.use.setShowAboutModal(),b=Xe.use.setShowGit(),g=uc.use.setShowOrchestrator();return N.jsx("header",{className:"h-7 w-full px-6 py-2 sticky top-0",children:N.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(ex,{}),N.jsx("div",{children:N.jsxs("h1",{className:"text-md font-space tracking-tight text-white font-medium",children:["Monorepo",N.jsx("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-400",children:"Time"})]})})]}),N.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[N.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"text-2xl fa-brands fa-git-alt text-blue-400 group-hover:text-blue-300"}),N.jsxs("span",{className:"text-sm",children:[N.jsx("span",{className:"font-bold text-white",children:" Ctrl + S "}),"Git Panel"]})]}),N.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-2 rounded text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"text-xl fa-solid fa-terminal text-blue-400 group-hover:text-blue-300"}),N.jsxs("span",{className:"text-sm",children:[N.jsx("span",{className:"font-bold text-white",children:" Ctrl + D "}),"Agent Orchestrator"]})]}),N.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[N.jsx("i",{className:"fas fa-info-circle text-blue-400 group-hover:text-blue-300"}),N.jsx("span",{children:"About"})]})]})]})})}function nx(l){return N.jsxs("nav",{className:"w-14 h-full flex flex-col items-center py-4",children:[N.jsx("div",{className:"flex flex-col gap-2 w-full px-2",children:l.navs.map(b=>N.jsx(Pm,{isSelected:b.isSelected,icon:b.icon,name:b.name,label:b.label,onClick:()=>b.onClick()},b.name))}),N.jsx("div",{className:"h-full flex flex-col justify-end gap-2 mb-16",children:l.extraNavs?.map(b=>N.jsx(Pm,{isSelected:b.isSelected,icon:b.icon,name:b.name,label:b.label,onClick:()=>b.onClick()},b.name))})]})}function Pm(l){const b=l.isSelected?"bg-gradient-to-br from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-white/5 hover:text-white";return N.jsxs("button",{className:`nav-item group relative flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 outline-none ${b}`,onClick:l.onClick,children:[N.jsx("i",{className:`${l.icon} text-lg transition-transform duration-200 group-hover:scale-110`}),N.jsxs("div",{className:"z-50 absolute bg-black/90 backdrop-blur-md left-14 px-3 py-1.5 text-white text-sm font-medium rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 translate-x-2 group-hover:translate-x-0 shadow-xl border border-white/10 whitespace-nowrap",children:[l.label,N.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/90 border-l border-b border-white/10 rotate-45"})]})]})}function Hh({children:l,className:b,onClick:g}){return N.jsx("div",{className:`bg-gray-800/20 rounded-2xl p-6 flex flex-col ${b}`,onClick:g,children:l})}const ix=$n()((l,b)=>({dockerprocessInfo:[],loadDockerProcessInfo:async()=>{try{const v=await(await fetch(`${Ne.serverPath}${Oe.docker}`)).json();l({dockerprocessInfo:v.containers})}catch(g){console.error("Failed to load docker info",g)}},stopDockerContainer:async g=>{try{await fetch(`${Ne.serverPath}${Oe.docker}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g})}),await b().loadDockerProcessInfo()}catch(v){console.error("Failed to stop container",v)}},stopAllDockerContainers:async()=>{try{await fetch(`${Ne.serverPath}${Oe.docker}/stop-all`,{method:"POST"}),await b().loadDockerProcessInfo()}catch(g){console.error("Failed to stop all containers",g)}}})),Xl=Dn(ix);function rx(){const l=Xl.use.dockerprocessInfo(),b=Xl.use.loadDockerProcessInfo(),g=Xl.use.stopDockerContainer(),v=Xl.use.stopAllDockerContainers();te.useEffect(()=>{b();const y=setInterval(()=>{b()},5e3);return()=>clearInterval(y)},[]);const L=l.reduce((y,f)=>y+(f.memoryBytes||0),0),S=Math.round(L/1024/1024);return N.jsxs("div",{className:"h-[420px] overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4 flex-none",children:[N.jsx("i",{className:"fab fa-docker text-blue-400"}),N.jsxs("div",{className:"flex items-center gap-3",children:[l.length>0&&N.jsxs("button",{id:"docker-stop-all-btn",onClick:()=>v(),className:"text-xs px-2 py-0.5 rounded bg-red-900/30 hover:bg-red-800/50 text-red-400 hover:text-red-200 transition-colors border border-red-800/30",title:"Stop All Containers",children:[N.jsx("i",{className:"fas fa-power-off"})," Stop All"]}),N.jsx("span",{id:"docker-mem-total",className:"text-xs text-blue-400 font-mono"}),N.jsxs("span",{id:"docker-count",className:"text-xs text-gray-400 font-mono",children:["Total RAM: ",S," MB (",l.length," active)"]})]})]}),N.jsxs("div",{className:"overflow-y-auto flex-1 space-y-2 pr-1 custom-scrollbar",id:"docker-list-container",children:[l.length===0&&N.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"No active containers"}),l.map((y,f)=>N.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 border border-gray-700/30 text-xs",children:[N.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("i",{className:"fab fa-docker text-blue-500"}),N.jsx("span",{className:"text-gray-200 font-bold truncate",title:y.name,children:y.name})]}),N.jsx("span",{className:"text-gray-500 text-[10px] truncate",title:y.image,children:y.image})]}),N.jsxs("div",{className:"flex items-center gap-3 flex-none ml-2",children:[N.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[N.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:y.memoryStr}),N.jsx("span",{className:`text-[10px] font-medium ${y.status.startsWith("Up")?"text-green-400":"text-gray-400"}`,children:y.status})]}),N.jsx("button",{onClick:()=>g(y.id),className:"p-1 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition-colors",title:"Stop Container",children:N.jsx("i",{className:"fas fa-power-off"})})]})]},f))]})]})}const sx=$n()(l=>({childprocessInfo:[],totalRam:0,peakRam:0,loadChildProcessInfo:async()=>{try{const v=(await(await fetch(`${Ne.serverPath}${Oe.processTree}`)).json()).processes.map(S=>{let y=S.name;if(y.startsWith("Terminal (")&&y.endsWith(")")){const f=y.match(/Terminal \(\s*(.*?)\s*\)/);f&&f[1]&&(y=f[1])}return{name:y,pid:S.pid,mem:Math.round(S.memory/1024/1024)}}),L=v.reduce((S,y)=>S+y.mem,0);l(S=>{const y=L>S.peakRam?L:S.peakRam;return{childprocessInfo:v,totalRam:L,peakRam:y}})}catch(b){console.error("Failed to load process info",b)}}})),ql=Dn(sx);function ox(){const l=ql.use.childprocessInfo(),b=ql.use.totalRam(),g=ql.use.peakRam(),v=ql.use.loadChildProcessInfo();return te.useEffect(()=>{const L=setInterval(async()=>{await v()},5e3);return()=>clearInterval(L)},[]),N.jsxs("div",{className:"h-[420px]",children:[N.jsx("div",{className:"flex items-center justify-between mb-4",children:N.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-chart-line text-blue-500"}),"Processes Memory Usage"]})}),N.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[N.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[N.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Current RAM"}),N.jsxs("div",{className:"text-xl font-bold text-white font-mono",children:[b," MB"]})]}),N.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[N.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Peak RAM"}),N.jsxs("div",{className:"text-xl font-bold text-blue-400 font-mono",children:[g," MB"]})]})]}),N.jsxs("div",{className:"flex-none h-full overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"text-xs text-gray-400 uppercase mb-2 font-bold tracking-wider flex justify-between",children:["Top Processes",N.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:[l.length," Active"]})]}),N.jsxs("div",{className:"overflow-y-auto flex-1 space-y-1 pr-1 custom-scrollbar",children:[l.length===0&&N.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"Loading..."}),l.map((L,S)=>N.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 hover:bg-gray-800/60 border border-transparent hover:border-gray-700 transition-colors text-xs",children:[N.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[N.jsx("i",{className:"fas fa-boxes w-4 text-center"}),N.jsx("span",{className:"text-gray-300 font-mono truncate",children:L.name})]}),N.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[N.jsx("span",{className:"px-1.5 py-0.5 rounded bg-gray-800 text-[10px] text-gray-500",children:L.pid}),N.jsxs("span",{className:"font-mono text-white w-20 text-right",children:[N.jsx("span",{className:"text-orange-500",children:L.mem})," MB"]})]})]},S+L.name))]})]})]})}function ax({isVisible:l}){const b=Xe.use.notes(),g=Xe.use.noteNotFound(),v=Xe.use.loadNotes(),L=Xe.use.setNotes(),S=Xe.use.saveNotes();return te.useEffect(()=>{l&&v()},[l]),te.useEffect(()=>{const y=setTimeout(()=>{g||S()},2e3);return()=>clearTimeout(y)},[b,g,S]),g?N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"}),N.jsx("p",{className:"text-gray-400",children:"monorepotime.json not found"})]}):N.jsxs("div",{className:"h-[420px] overflow-y-auto flex flex-col",children:[N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:N.jsx("i",{className:"fas fa-sticky-note text-yellow-500"})}),N.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"})]})}),N.jsx("textarea",{value:b,onChange:y=>L(y.target.value),placeholder:"Write your project notes, todos, or ideas here...",className:"flex-1 w-full p-4 bg-transparent border-none outline-none resize-none text-gray-300 placeholder-gray-600 font-mono text-sm leading-relaxed",spellCheck:!1})]})}function On(l){const{children:b,width:g}=l,v=g||"650px";return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),N.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 pointer-events-none",children:N.jsxs("div",{onClick:L=>L.stopPropagation(),className:`
                        pointer-events-auto
                        relative flex flex-col
                        w-[95%] md:w-[${v}]
                        rounded-2xl overflow-hidden 
                        shadow-2xl shadow-blue-900/20 
                        animate-fade-in-up
                    `,style:{width:v},children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/50 to-blue-400/50 pointer-events-none"}),N.jsx("div",{className:"absolute inset-[2px] bg-[#0A0A0A] rounded-[15px] pointer-events-none"}),N.jsx("div",{className:"relative flex flex-col h-full bg-transparent z-10",children:b})]})})]})}function jn({close:l,title:b,description:g,icon:v}){return N.jsxs("header",{className:"px-5 py-2 flex justify-between items-center bg-white/[0.05]",children:[N.jsxs("div",{className:"text-md font-bold text-white flex items-center gap-4",children:[N.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-blue-500/20",children:N.jsx("i",{className:v||"fas fa-cube text-white text-lg"})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-lg font-bold bg-clip-text text-white",children:b}),N.jsx("span",{className:"text-gray-500 font-medium text-xs",children:g})]})]}),N.jsx("button",{onClick:l,className:"w-8 h-8 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all flex items-center justify-center",children:N.jsx("i",{className:"fas fa-times text-sm"})})]})}function Qi(l){return N.jsxs("button",{onClick:b=>{b.stopPropagation(),l.onClick()},className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]"+(l.className?" "+l.className:""),children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[l.icon&&N.jsx("i",{className:l.icon}),l.text,l.children]})]})}function lx({isOpen:l,onClose:b}){const g=Xe.use.loadTerminalFontSize(),v=Xe.use.loadProjectTreeFontSize(),L=Xe.use.terminalFontSize(),S=Xe.use.setTerminalFontSize(),y=Xe.use.projectTreeFontSize(),f=Xe.use.setProjectTreeFontSize();return te.useEffect(()=>{const o=h=>{h.key==="Escape"&&b()};return l&&window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[l,b]),te.useEffect(()=>{g(),v()},[]),l?N.jsxs(On,{width:"420px",children:[N.jsx(jn,{close:b,title:"Settings",description:"Manage your preferences",icon:"fa-solid fa-cog"}),N.jsxs("div",{className:"p-6 space-y-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fa-solid fa-text-height"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-white text-sm",children:"Terminal Font Size"}),N.jsx("p",{className:"text-xs text-gray-500",children:"Adjust text readability"})]})]}),N.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>S(Math.max(10,L-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-minus text-xs"})}),N.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:L}),N.jsx("button",{onClick:()=>S(Math.min(32,L+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fa-solid fa-folder-tree"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-white text-sm",children:"Project Tree Font Size"}),N.jsx("p",{className:"text-xs text-gray-500",children:"Adjust tree readability"})]})]}),N.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>f(Math.max(10,y-1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-minus text-xs"})}),N.jsx("span",{className:"w-10 text-center font-mono text-sm font-bold text-blue-400",children:y}),N.jsx("button",{onClick:()=>f(Math.min(32,y+1)),className:"w-8 h-8 flex items-center justify-center rounded-md bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95",children:N.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),N.jsx("div",{className:"flex justify-end",children:N.jsx(Qi,{onClick:b,icon:"",text:"Ok"})})]})]}):null}function cx(l){const[b,g]=te.useState(!1);return N.jsxs("div",{className:`h-full w-full ${l.isVisible?"block":"hidden"}`,children:[N.jsxs("div",{className:"relative px-6 py-8 space-y-8 animate-fade-in max-w-[1600px] mx-auto",children:[N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6 h-[400px]",children:N.jsx(Hh,{children:N.jsx(ax,{isVisible:l.isVisible})})}),N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:N.jsx(Hh,{children:N.jsx(ox,{})})}),N.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:N.jsx(Hh,{children:N.jsx(rx,{})})})]}),N.jsx("button",{onClick:()=>g(!0),className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:N.jsx("i",{className:"fa-solid fa-cog text-xl text-blue-400 group-hover:rotate-90 transition-transform duration-500"})})]}),N.jsx(lx,{isOpen:b,onClose:()=>g(!1)})]})}const ux=$n()(l=>({currentPage:"dashboard",action:{setCurrentPage:b=>l({currentPage:b})}})),Wm=Dn(ux),hx=async(l,b)=>{if(!b().loading){l({loading:!0});try{const v=await fetch(`${Ne.serverPath}${Oe.scanWorkspace}`);let L=await v.json();if(!v.ok)throw new Error("Failed to fetch workspace");l({workspaceDirs:L.workspaceDirs??[]});const S=[],y=b().workspace;L.workspace.forEach(o=>{y.find(h=>h.info.name===o.name)?S.push({isRunningAs:y.find(h=>h.info.name===o.name)?.isRunningAs??null,info:o}):S.push({isRunningAs:null,info:o})});const f=S.sort((o,h)=>o.info.name<h.info.name?-1:o.info.name>h.info.name?1:0);l({workspace:f})}catch(v){console.error("Error fetching workspace:",v)}l({loading:!1})}},dx=async(l,b,g)=>{if(b().loadingWorkspace!=g){l({loadingWorkspace:g});try{if(!(await fetch(`${Ne.serverPath}${Oe.stopProcess}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:g}})})).ok)throw new Error("Failed to stop process")}catch(L){console.error("Error stopping process:",L)}l({loadingWorkspace:null})}},fx=async(l,b,g,v)=>{if(b().loadingWorkspace!=g){l({loadingWorkspace:g});try{if(!(await fetch(`${Ne.serverPath}${Oe.stopInteractiveTerminal}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:g}})})).ok)throw new Error("Failed to stop interactive terminal");v||await new Promise(y=>setTimeout(y,1e3))}catch(S){console.error("Error stopping interactive terminal:",S)}l({loadingWorkspace:null})}},px=async(l,b,g,v)=>{if(b().loadingWorkspace==g)return;l({loadingWorkspace:g});const y=b().workspace.find(f=>f.info.name===g)?.info.path;try{const f=await fetch(`${Ne.serverPath}${Oe.stopTerminalWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:g,path:y}})});if(!f.ok){let o="Failed to stop interactive terminal";try{const h=await f.text();try{const r=JSON.parse(h);o=r.message||r.error||o}catch{h&&(o=h)}}catch{}throw console.error("[Frontend] Backend error:",o),new Error(o)}v||await new Promise(o=>setTimeout(o,1e3))}catch(f){console.error("Error stopping interactive terminal:",f)}l({loadingWorkspace:null})},gx=async()=>{try{const l=await fetch(`${Ne.serverPath}${Oe.listWorkspacesDir}`);if(!l.ok)throw new Error("Failed to list workspace");return await l.json()}catch(l){return console.error("Error listing workspace:",l),[]}},mx=async l=>{try{return await(await fetch(`${Ne.serverPath}${Oe.newWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),!0}catch{return!1}},vx=async l=>{try{return await(await fetch(`${Ne.serverPath}${Oe.updateWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),!0}catch{return!1}},yx="modulepreload",bx=function(l){return"/"+l},Um={},d0=function(b,g,v){let L=Promise.resolve();if(g&&g.length>0){let h=function(r){return Promise.all(r.map(n=>Promise.resolve(n).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};var y=h;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),o=f?.nonce||f?.getAttribute("nonce");L=h(g.map(r=>{if(r=bx(r),r in Um)return;Um[r]=!0;const n=r.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const s=document.createElement("link");if(s.rel=n?"stylesheet":yx,n||(s.as="script"),s.crossOrigin="",s.href=r,o&&s.setAttribute("nonce",o),document.head.appendChild(s),n)return new Promise((c,u)=>{s.addEventListener("load",c),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})}))}function S(f){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=f,window.dispatchEvent(o),!o.defaultPrevented)throw f}return L.then(f=>{for(const o of f||[])o.status==="rejected"&&S(o.reason);return b().catch(S)})},_x=async(l,b,g)=>{window.isLoadingCancelled=!1;const{io:v}=await d0(async()=>{const{io:L}=await import("./index-Crsm9Fe1.js");return{io:L}},[]);return new Promise((L,S)=>{const y=v(Ne.serverPath,{transports:["websocket"],forceNew:!0,reconnection:!1});l({loadMessage:"Connecting..."}),y.on("connect",()=>{l({loadMessage:`Starting template '${g}'...`}),y.emit("template:start",{workspace:b,templatename:g}),window.isLoadingCancelled&&(y.disconnect(),S(new Error("Loading cancelled")))}),y.on("template:progress",f=>{l({loadMessage:f.message}),console.log("[Template Progress]",f.message),window.isLoadingCancelled&&(y.disconnect(),S(new Error("Loading cancelled")))}),y.on("template:success",f=>{l({loadMessage:f.message}),console.log("[Template Success]",f.message),y.disconnect(),L()}),y.on("template:error",f=>{l({loadMessage:`Error: ${f.error}`}),console.error("[Template Error]",f.error),alert(f.error),y.disconnect(),S(new Error(f.error))}),y.on("connect_error",f=>{l({loadMessage:`Connection error: ${f.message}`}),console.error("[Template Connect Error]",f),alert(f.message),y.disconnect(),S(f)}),setTimeout(()=>{y.connected&&(y.disconnect(),l({loadMessage:"Template setup timed out"}),S(new Error("Template setup timed out")))},300*1e3)})},xx=async(l,b,g)=>{if(!b().loading){l({loading:!0});try{const L=await fetch(`${Ne.serverPath}${Oe.deleteWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:g})});if(!L.ok)throw new Error("Failed to delete workspace");const S=await L.json();return l({loading:!1}),S.message}catch(L){return console.error("Error deleting workspace:",L),l({loading:!1}),"Error deleting workspace"}}},wx=$n()((l,b)=>({workspace:[],workspaceLoading:!1,workspaceDirs:["apps","packages"],activeTerminal:"",activeWorkspaceOptionModal:null,loadingWorkspace:null,loading:!1,showWorkspaceNew:!1,showNewTerminalWindow:null,loadMessage:"",setWorkSpaceRunningAs:(g,v)=>{b().workspace.find(S=>S.info.name===g)&&l({workspace:b().workspace.map(S=>S.info.name===g?{...S,isRunningAs:v}:S)})},setWorkspaceLoading:g=>{l({workspaceLoading:g})},setShowNewTerminalWindow:g=>{l({showNewTerminalWindow:g})},setActiveWorkspaceOptionModal:g=>{l({activeWorkspaceOptionModal:g})},setActiveTerminal:g=>{l({activeTerminal:g})},setShowWorkspaceNew:g=>{l({showWorkspaceNew:g})},listWorkspace:async()=>gx(),loadWorkspace:()=>hx(l,b),stopProcess:g=>dx(l,b,g),stopInteractiveTerminal:async(g,v)=>fx(l,b,g,v),stopWorkspaceTerminal:async(g,v)=>px(l,b,g,v),createNewWorkspace:async g=>await mx(g),updateWorkspace:async g=>await vx(g),setWorkspaceTemplate:async(g,v)=>await _x(l,g,v),deleteWorkspace:async g=>await xx(l,b,g)})),Fe=Dn(wx);var zh={exports:{}},Vm;function Sx(){return Vm||(Vm=1,(function(l,b){(function(g,v){l.exports=v()})(self,(()=>(()=>{var g={4567:function(y,f,o){var h=this&&this.__decorate||function(x,C,w,_){var k,A=arguments.length,T=A<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,w):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,C,w,_);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(C,w,T):k(C,w))||T);return A>3&&T&&Object.defineProperty(C,w,T),T},r=this&&this.__param||function(x,C){return function(w,_){C(w,_,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.AccessibilityManager=void 0;const n=o(9042),i=o(6114),s=o(9924),c=o(844),u=o(5596),a=o(4725),d=o(3656);let m=f.AccessibilityManager=class extends c.Disposable{constructor(x,C){super(),this._terminal=x,this._renderService=C,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new s.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((w=>this._handleResize(w.rows)))),this.register(this._terminal.onRender((w=>this._refreshRows(w.start,w.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((w=>this._handleChar(w)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((w=>this._handleTab(w)))),this.register(this._terminal.onKey((w=>this._handleKey(w.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new u.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,d.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,c.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(x){for(let C=0;C<x;C++)this._handleChar(" ")}_handleChar(x){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==x&&(this._charsToAnnounce+=x):this._charsToAnnounce+=x,x===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=n.tooMuchOutput)),i.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,i.isMac&&this._liveRegion.remove()}_handleKey(x){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(x)||this._charsToConsume.push(x)}_refreshRows(x,C){this._liveRegionDebouncer.refresh(x,C,this._terminal.rows)}_renderRows(x,C){const w=this._terminal.buffer,_=w.lines.length.toString();for(let k=x;k<=C;k++){const A=w.translateBufferLineToString(w.ydisp+k,!0),T=(w.ydisp+k+1).toString(),j=this._rowElements[k];j&&(A.length===0?j.innerText="":j.textContent=A,j.setAttribute("aria-posinset",T),j.setAttribute("aria-setsize",_))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(x,C){const w=x.target,_=this._rowElements[C===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(C===0?"1":`${this._terminal.buffer.lines.length}`)||x.relatedTarget!==_)return;let k,A;if(C===0?(k=w,A=this._rowElements.pop(),this._rowContainer.removeChild(A)):(k=this._rowElements.shift(),A=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),A.removeEventListener("focus",this._bottomBoundaryFocusListener),C===0){const T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else{const T=this._createAccessibilityTreeNode();this._rowElements.push(T),this._rowContainer.appendChild(T)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(C===0?-1:1),this._rowElements[C===0?1:this._rowElements.length-2].focus(),x.preventDefault(),x.stopImmediatePropagation()}_handleResize(x){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let C=this._rowContainer.children.length;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);for(;this._rowElements.length>x;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const x=document.createElement("div");return x.setAttribute("role","listitem"),x.tabIndex=-1,this._refreshRowDimensions(x),x}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let x=0;x<this._terminal.rows;x++)this._refreshRowDimensions(this._rowElements[x])}}_refreshRowDimensions(x){x.style.height=`${this._renderService.dimensions.css.cell.height}px`}};f.AccessibilityManager=m=h([r(1,a.IRenderService)],m)},3614:(y,f)=>{function o(i){return i.replace(/\r?\n/g,"\r")}function h(i,s){return s?"\x1B[200~"+i+"\x1B[201~":i}function r(i,s,c,u){i=h(i=o(i),c.decPrivateModes.bracketedPasteMode&&u.rawOptions.ignoreBracketedPasteMode!==!0),c.triggerDataEvent(i,!0),s.value=""}function n(i,s,c){const u=c.getBoundingClientRect(),a=i.clientX-u.left-10,d=i.clientY-u.top-10;s.style.width="20px",s.style.height="20px",s.style.left=`${a}px`,s.style.top=`${d}px`,s.style.zIndex="1000",s.focus()}Object.defineProperty(f,"__esModule",{value:!0}),f.rightClickHandler=f.moveTextAreaUnderMouseCursor=f.paste=f.handlePasteEvent=f.copyHandler=f.bracketTextForPaste=f.prepareTextForTerminal=void 0,f.prepareTextForTerminal=o,f.bracketTextForPaste=h,f.copyHandler=function(i,s){i.clipboardData&&i.clipboardData.setData("text/plain",s.selectionText),i.preventDefault()},f.handlePasteEvent=function(i,s,c,u){i.stopPropagation(),i.clipboardData&&r(i.clipboardData.getData("text/plain"),s,c,u)},f.paste=r,f.moveTextAreaUnderMouseCursor=n,f.rightClickHandler=function(i,s,c,u,a){n(i,s,c),a&&u.rightClickSelect(i),s.value=u.selectionText,s.select()}},7239:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorContrastCache=void 0;const h=o(1505);f.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(r,n,i){this._css.set(r,n,i)}getCss(r,n){return this._css.get(r,n)}setColor(r,n,i){this._color.set(r,n,i)}getColor(r,n){return this._color.get(r,n)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addDisposableDomListener=void 0,f.addDisposableDomListener=function(o,h,r,n){o.addEventListener(h,r,n);let i=!1;return{dispose:()=>{i||(i=!0,o.removeEventListener(h,r,n))}}}},6465:function(y,f,o){var h=this&&this.__decorate||function(a,d,m,x){var C,w=arguments.length,_=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,d,m,x);else for(var k=a.length-1;k>=0;k--)(C=a[k])&&(_=(w<3?C(_):w>3?C(d,m,_):C(d,m))||_);return w>3&&_&&Object.defineProperty(d,m,_),_},r=this&&this.__param||function(a,d){return function(m,x){d(m,x,a)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Linkifier2=void 0;const n=o(3656),i=o(8460),s=o(844),c=o(2585);let u=f.Linkifier2=class extends s.Disposable{get currentLink(){return this._currentLink}constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new i.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new i.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,s.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,s.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const d=this._linkProviders.indexOf(a);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(a,d,m){this._element=a,this._mouseService=d,this._renderService=m,this.register((0,n.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,n.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,n.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,n.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const m=a.composedPath();for(let x=0;x<m.length;x++){const C=m[x];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,d){var m,x;this._activeProviderReplies&&d||((m=this._activeProviderReplies)===null||m===void 0||m.forEach((w=>{w?.forEach((_=>{_.link.dispose&&_.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=a.y);let C=!1;for(const[w,_]of this._linkProviders.entries())d?!((x=this._activeProviderReplies)===null||x===void 0)&&x.get(w)&&(C=this._checkLinkProviderResult(w,a,C)):_.provideLinks(a.y,(k=>{var A,T;if(this._isMouseOut)return;const j=k?.map((F=>({link:F})));(A=this._activeProviderReplies)===null||A===void 0||A.set(w,j),C=this._checkLinkProviderResult(w,a,C),((T=this._activeProviderReplies)===null||T===void 0?void 0:T.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)}))}_removeIntersectingLinks(a,d){const m=new Set;for(let x=0;x<d.size;x++){const C=d.get(x);if(C)for(let w=0;w<C.length;w++){const _=C[w],k=_.link.range.start.y<a?0:_.link.range.start.x,A=_.link.range.end.y>a?this._bufferService.cols:_.link.range.end.x;for(let T=k;T<=A;T++){if(m.has(T)){C.splice(w--,1);break}m.add(T)}}}}_checkLinkProviderResult(a,d,m){var x;if(!this._activeProviderReplies)return m;const C=this._activeProviderReplies.get(a);let w=!1;for(let _=0;_<a;_++)this._activeProviderReplies.has(_)&&!this._activeProviderReplies.get(_)||(w=!0);if(!w&&C){const _=C.find((k=>this._linkAtPosition(k.link,d)));_&&(m=!0,this._handleNewLink(_))}if(this._activeProviderReplies.size===this._linkProviders.length&&!m)for(let _=0;_<this._activeProviderReplies.size;_++){const k=(x=this._activeProviderReplies.get(_))===null||x===void 0?void 0:x.find((A=>this._linkAtPosition(A.link,d)));if(k){m=!0,this._handleNewLink(k);break}}return m}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(a,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!d||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,s.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(a.link,d)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var m,x;return(x=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||x===void 0?void 0:x.decorations.pointerCursor},set:m=>{var x,C;!((x=this._currentLink)===null||x===void 0)&&x.state&&this._currentLink.state.decorations.pointerCursor!==m&&(this._currentLink.state.decorations.pointerCursor=m,this._currentLink.state.isHovered&&((C=this._element)===null||C===void 0||C.classList.toggle("xterm-cursor-pointer",m)))}},underline:{get:()=>{var m,x;return(x=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||x===void 0?void 0:x.decorations.underline},set:m=>{var x,C,w;!((x=this._currentLink)===null||x===void 0)&&x.state&&((w=(C=this._currentLink)===null||C===void 0?void 0:C.state)===null||w===void 0?void 0:w.decorations.underline)!==m&&(this._currentLink.state.decorations.underline=m,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,m))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((m=>{if(!this._currentLink)return;const x=m.start===0?0:m.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+m.end;if(this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(x,C),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}}))))}_linkHover(a,d,m){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(m,d.text)}_fireUnderlineEvent(a,d){const m=a.range,x=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(m.start.x-1,m.start.y-x-1,m.end.x,m.end.y-x-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(a,d,m){var x;!((x=this._currentLink)===null||x===void 0)&&x.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(m,d.text)}_linkAtPosition(a,d){const m=a.range.start.y*this._bufferService.cols+a.range.start.x,x=a.range.end.y*this._bufferService.cols+a.range.end.x,C=d.y*this._bufferService.cols+d.x;return m<=C&&C<=x}_positionFromMouseEvent(a,d,m){const x=m.getCoords(a,d,this._bufferService.cols,this._bufferService.rows);if(x)return{x:x[0],y:x[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,d,m,x,C){return{x1:a,y1:d,x2:m,y2:x,cols:this._bufferService.cols,fg:C}}};f.Linkifier2=u=h([r(0,c.IBufferService)],u)},9042:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.tooMuchOutput=f.promptLabel=void 0,f.promptLabel="Terminal input",f.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,f,o){var h=this&&this.__decorate||function(u,a,d,m){var x,C=arguments.length,w=C<3?a:m===null?m=Object.getOwnPropertyDescriptor(a,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,a,d,m);else for(var _=u.length-1;_>=0;_--)(x=u[_])&&(w=(C<3?x(w):C>3?x(a,d,w):x(a,d))||w);return C>3&&w&&Object.defineProperty(a,d,w),w},r=this&&this.__param||function(u,a){return function(d,m){a(d,m,u)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkProvider=void 0;const n=o(511),i=o(2585);let s=f.OscLinkProvider=class{constructor(u,a,d){this._bufferService=u,this._optionsService=a,this._oscLinkService=d}provideLinks(u,a){var d;const m=this._bufferService.buffer.lines.get(u-1);if(!m)return void a(void 0);const x=[],C=this._optionsService.rawOptions.linkHandler,w=new n.CellData,_=m.getTrimmedLength();let k=-1,A=-1,T=!1;for(let j=0;j<_;j++)if(A!==-1||m.hasContent(j)){if(m.loadCell(j,w),w.hasExtendedAttrs()&&w.extended.urlId){if(A===-1){A=j,k=w.extended.urlId;continue}T=w.extended.urlId!==k}else A!==-1&&(T=!0);if(T||A!==-1&&j===_-1){const F=(d=this._oscLinkService.getLinkData(k))===null||d===void 0?void 0:d.uri;if(F){const $={start:{x:A+1,y:u},end:{x:j+(T||j!==_-1?0:1),y:u}};let D=!1;if(!C?.allowNonHttpProtocols)try{const M=new URL(F);["http:","https:"].includes(M.protocol)||(D=!0)}catch{D=!0}D||x.push({text:F,range:$,activate:(M,R)=>C?C.activate(M,R,$):c(0,R),hover:(M,R)=>{var O;return(O=C?.hover)===null||O===void 0?void 0:O.call(C,M,R,$)},leave:(M,R)=>{var O;return(O=C?.leave)===null||O===void 0?void 0:O.call(C,M,R,$)}})}T=!1,w.hasExtendedAttrs()&&w.extended.urlId?(A=j,k=w.extended.urlId):(A=-1,k=-1)}}a(x)}};function c(u,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}f.OscLinkProvider=s=h([r(0,i.IBufferService),r(1,i.IOptionsService),r(2,i.IOscLinkService)],s)},6193:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderDebouncer=void 0,f.RenderDebouncer=class{constructor(o,h){this._parentWindow=o,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(o,h,r){this._rowCount=r,o=o!==void 0?o:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},5596:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ScreenDprMonitor=void 0;const h=o(844);class r extends h.Disposable{constructor(i){super(),this._parentWindow=i,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)((()=>{this.clearListener()})))}setListener(i){this._listener&&this.clearListener(),this._listener=i,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var i;this._outerListener&&((i=this._resolutionMediaMatchList)===null||i===void 0||i.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}f.ScreenDprMonitor=r},3236:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const h=o(3614),r=o(3656),n=o(6465),i=o(9042),s=o(3730),c=o(1680),u=o(3107),a=o(5744),d=o(2950),m=o(1296),x=o(428),C=o(4269),w=o(5114),_=o(8934),k=o(3230),A=o(9312),T=o(4725),j=o(6731),F=o(8055),$=o(8969),D=o(8460),M=o(844),R=o(6114),O=o(8437),z=o(2584),B=o(7399),P=o(5941),U=o(9074),W=o(2585),K=o(5435),Y=o(4567),X=typeof window<"u"?window.document:null;class q extends $.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(V={}){super(V),this.browser=R,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new M.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(n.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(s.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(U.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((Q,ne)=>this.refresh(Q,ne)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((Q=>this._reportWindowsOptions(Q)))),this.register(this._inputHandler.onColor((Q=>this._handleColorEvent(Q)))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((Q=>this._afterResize(Q.cols,Q.rows)))),this.register((0,M.toDisposable)((()=>{var Q,ne;this._customKeyEventHandler=void 0,(ne=(Q=this.element)===null||Q===void 0?void 0:Q.parentNode)===null||ne===void 0||ne.removeChild(this.element)})))}_handleColorEvent(V){if(this._themeService)for(const Q of V){let ne,ie="";switch(Q.index){case 256:ne="foreground",ie="10";break;case 257:ne="background",ie="11";break;case 258:ne="cursor",ie="12";break;default:ne="ansi",ie="4;"+Q.index}switch(Q.type){case 0:const me=F.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[Q.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${ie};${(0,P.toRgbString)(me)}${z.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors((pe=>pe.ansi[Q.index]=F.rgba.toColor(...Q.color)));else{const pe=ne;this._themeService.modifyColors((Se=>Se[pe]=F.rgba.toColor(...Q.color)))}break;case 2:this._themeService.restoreColor(Q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){V?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.updateCursorStyle(V),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return(V=this.textarea)===null||V===void 0?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const V=this.buffer.ybase+this.buffer.y,Q=this.buffer.lines.get(V);if(!Q)return;const ne=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,me=Q.getWidth(ne),pe=this._renderService.dimensions.css.cell.width*me,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,ke=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ke+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=pe+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,r.addDisposableDomListener)(this.element,"copy",(Q=>{this.hasSelection()&&(0,h.copyHandler)(Q,this._selectionService)})));const V=Q=>(0,h.handlePasteEvent)(Q,this.textarea,this.coreService,this.optionsService);this.register((0,r.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,r.addDisposableDomListener)(this.element,"paste",V)),R.isFirefox?this.register((0,r.addDisposableDomListener)(this.element,"mousedown",(Q=>{Q.button===2&&(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,r.addDisposableDomListener)(this.element,"contextmenu",(Q=>{(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),R.isLinux&&this.register((0,r.addDisposableDomListener)(this.element,"auxclick",(Q=>{Q.button===1&&(0,h.moveTextAreaUnderMouseCursor)(Q,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,r.addDisposableDomListener)(this.textarea,"keyup",(V=>this._keyUp(V)),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keydown",(V=>this._keyDown(V)),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keypress",(V=>this._keyPress(V)),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionupdate",(V=>this._compositionHelper.compositionupdate(V)))),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,r.addDisposableDomListener)(this.textarea,"input",(V=>this._inputEvent(V)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(V){var Q;if(!V)throw new Error("Terminal requires a parent element.");V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=V.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),V.appendChild(this.element);const ne=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ne.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ne.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",i.promptLabel),R.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(Q=this._document.defaultView)!==null&&Q!==void 0?Q:window),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,r.addDisposableDomListener)(this.textarea,"focus",(ie=>this._handleTextAreaFocus(ie)))),this.register((0,r.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(C.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ie=>this._onRender.fire(ie)))),this.onResize((ie=>this._renderService.resize(ie.cols,ie.rows))),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ne);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(_.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(c.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(A.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(u.BufferDecorationRenderer,this.screenElement)),this.register((0,r.addDisposableDomListener)(this.element,"mousedown",(ie=>this._selectionService.handleMouseDown(ie)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ie=>this._handleScreenReaderModeOptionChange(ie)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(m.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const V=this,Q=this.element;function ne(pe){const Se=V._mouseService.getMouseReportCoords(pe,V.screenElement);if(!Se)return!1;let ke,Ae;switch(pe.overrideType||pe.type){case"mousemove":Ae=32,pe.buttons===void 0?(ke=3,pe.button!==void 0&&(ke=pe.button<3?pe.button:3)):ke=1&pe.buttons?0:4&pe.buttons?1:2&pe.buttons?2:3;break;case"mouseup":Ae=0,ke=pe.button<3?pe.button:3;break;case"mousedown":Ae=1,ke=pe.button<3?pe.button:3;break;case"wheel":if(V.viewport.getLinesScrolled(pe)===0)return!1;Ae=pe.deltaY<0?0:1,ke=4;break;default:return!1}return!(Ae===void 0||ke===void 0||ke>4)&&V.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:ke,action:Ae,ctrl:pe.ctrlKey,alt:pe.altKey,shift:pe.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},me={mouseup:pe=>(ne(pe),pe.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(pe)),wheel:pe=>(ne(pe),this.cancel(pe,!0)),mousedrag:pe=>{pe.buttons&&ne(pe)},mousemove:pe=>{pe.buttons||ne(pe)}};this.register(this.coreMouseService.onProtocolChange((pe=>{pe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(pe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&pe?ie.mousemove||(Q.addEventListener("mousemove",me.mousemove),ie.mousemove=me.mousemove):(Q.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&pe?ie.wheel||(Q.addEventListener("wheel",me.wheel,{passive:!1}),ie.wheel=me.wheel):(Q.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&pe?ie.mouseup||(Q.addEventListener("mouseup",me.mouseup),ie.mouseup=me.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),Q.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&pe?ie.mousedrag||(ie.mousedrag=me.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,r.addDisposableDomListener)(Q,"mousedown",(pe=>{if(pe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(pe))return ne(pe),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(pe)}))),this.register((0,r.addDisposableDomListener)(Q,"wheel",(pe=>{if(!ie.wheel){if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(pe);if(Se===0)return;const ke=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(pe.deltaY<0?"A":"B");let Ae="";for(let Ue=0;Ue<Math.abs(Se);Ue++)Ae+=ke;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(pe,!0)}return this.viewport.handleWheel(pe)?this.cancel(pe):void 0}}),{passive:!1})),this.register((0,r.addDisposableDomListener)(Q,"touchstart",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(pe),this.cancel(pe)}),{passive:!0})),this.register((0,r.addDisposableDomListener)(Q,"touchmove",(pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(pe)?void 0:this.cancel(pe)}),{passive:!1}))}refresh(V,Q){var ne;(ne=this._renderService)===null||ne===void 0||ne.refreshRows(V,Q)}updateCursorStyle(V){var Q;!((Q=this._selectionService)===null||Q===void 0)&&Q.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,Q,ne=0){var ie;ne===1?(super.scrollLines(V,Q,ne),this.refresh(0,this.rows-1)):(ie=this.viewport)===null||ie===void 0||ie.scrollLines(V)}paste(V){(0,h.paste)(V,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}registerLinkProvider(V){return this.linkifier2.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Q=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),Q}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,Q,ne){this._selectionService.setSelection(V,Q,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;(V=this._selectionService)===null||V===void 0||V.clearSelection()}selectAll(){var V;(V=this._selectionService)===null||V===void 0||V.selectAll()}selectLines(V,Q){var ne;(ne=this._selectionService)===null||ne===void 0||ne.selectLines(V,Q)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;const Q=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!Q&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Q||V.key!=="Dead"&&V.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,B.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),ne.type===3||ne.type===2){const ie=this.rows-1;return this.scrollLines(ne.type===2?-ie:ie),this.cancel(V,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(ne.cancel&&this.cancel(V,!0),!ne.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&V.key.length===1&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==z.C0.ETX&&ne.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,Q){const ne=V.isMac&&!this.options.macOptionIsMeta&&Q.altKey&&!Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.altKey&&Q.ctrlKey&&!Q.metaKey||V.isWindows&&Q.getModifierState("AltGraph");return Q.type==="keypress"?ne:ne&&(!Q.keyCode||Q.keyCode>47)}_keyUp(V){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1||((function(Q){return Q.keyCode===16||Q.keyCode===17||Q.keyCode===18})(V)||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let Q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;if(this.cancel(V),V.charCode)Q=V.charCode;else if(V.which===null||V.which===void 0)Q=V.keyCode;else{if(V.which===0||V.charCode===0)return!1;Q=V.which}return!(!Q||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(Q=String.fromCharCode(Q),this._onKey.fire({key:Q,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(Q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){if(V.data&&V.inputType==="insertText"&&(!V.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Q=V.data;return this.coreService.triggerDataEvent(Q,!0),this.cancel(V),!0}return!1}resize(V,Q){V!==this.cols||Q!==this.rows?super.resize(V,Q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,Q){var ne,ie;(ne=this._charSizeService)===null||ne===void 0||ne.measure(),(ie=this.viewport)===null||ie===void 0||ie.syncScrollArea(!0)}clear(){var V;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Q=1;Q<this.rows;Q++)this.buffer.lines.push(this.buffer.getBlankLine(O.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(V=this.viewport)===null||V===void 0||V.reset(),this.refresh(0,this.rows-1)}}reset(){var V,Q;this.options.rows=this.rows,this.options.cols=this.cols;const ne=this._customKeyEventHandler;this._setup(),super.reset(),(V=this._selectionService)===null||V===void 0||V.reset(),this._decorationService.reset(),(Q=this.viewport)===null||Q===void 0||Q.reset(),this._customKeyEventHandler=ne,this.refresh(0,this.rows-1)}clearTextureAtlas(){var V;(V=this._renderService)===null||V===void 0||V.clearTextureAtlas()}_reportFocus(){var V;!((V=this.element)===null||V===void 0)&&V.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Q=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${ne};${Q}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),me=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${me};${ie}t`)}}cancel(V,Q){if(this.options.cancelEvents||Q)return V.preventDefault(),V.stopPropagation(),!1}}f.Terminal=q},9924:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TimeBasedDebouncer=void 0,f.TimeBasedDebouncer=class{constructor(o,h=1e3){this._renderCallback=o,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,h,r){this._rowCount=r,o=o!==void 0?o:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){const i=n-this._lastRefreshMs,s=this._debounceThresholdMS-i;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),s)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,h)}}},1680:function(y,f,o){var h=this&&this.__decorate||function(d,m,x,C){var w,_=arguments.length,k=_<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,x):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,m,x,C);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(_<3?w(k):_>3?w(m,x,k):w(m,x))||k);return _>3&&k&&Object.defineProperty(m,x,k),k},r=this&&this.__param||function(d,m){return function(x,C){m(x,C,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Viewport=void 0;const n=o(3656),i=o(4725),s=o(8460),c=o(844),u=o(2585);let a=f.Viewport=class extends c.Disposable{constructor(d,m,x,C,w,_,k,A){super(),this._viewportElement=d,this._scrollArea=m,this._bufferService=x,this._optionsService=C,this._charSizeService=w,this._renderService=_,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new s.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((T=>this._activeBuffer=T.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((T=>this._renderDimensions=T))),this._handleThemeChange(A.colors),this.register(A.onChangeColors((T=>this._handleThemeChange(T)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const m=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==m&&(this._lastRecordedBufferHeight=m,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const m=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:m,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,m){const x=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(m<0&&this._viewportElement.scrollTop!==0||m>0&&x<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const m=this._getPixelsScrolled(d);return m!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+m:this._smoothScrollState.target+=m,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=m,this._bubbleScroll(d,m))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const m=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+m,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let m=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?m*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(m*=this._currentRowHeight*this._bufferService.rows),m}getBufferElements(d,m){var x;let C,w="";const _=[],k=m??this._bufferService.buffer.lines.length,A=this._bufferService.buffer.lines;for(let T=d;T<k;T++){const j=A.get(T);if(!j)continue;const F=(x=A.get(T+1))===null||x===void 0?void 0:x.isWrapped;if(w+=j.translateToString(!F),!F||T===A.length-1){const $=document.createElement("div");$.textContent=w,_.push($),w.length>0&&(C=$),w=""}}return{bufferElements:_,cursorElement:C}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let m=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(m/=this._currentRowHeight+0,this._wheelPartialScroll+=m,m=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(m*=this._bufferService.rows),m}_applyScrollModifier(d,m){const x=this._optionsService.rawOptions.fastScrollModifier;return x==="alt"&&m.altKey||x==="ctrl"&&m.ctrlKey||x==="shift"&&m.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const m=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,m!==0&&(this._viewportElement.scrollTop+=m,this._bubbleScroll(d,m))}};f.Viewport=a=h([r(2,u.IBufferService),r(3,u.IOptionsService),r(4,i.ICharSizeService),r(5,i.IRenderService),r(6,i.ICoreBrowserService),r(7,i.IThemeService)],a)},3107:function(y,f,o){var h=this&&this.__decorate||function(a,d,m,x){var C,w=arguments.length,_=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,d,m,x);else for(var k=a.length-1;k>=0;k--)(C=a[k])&&(_=(w<3?C(_):w>3?C(d,m,_):C(d,m))||_);return w>3&&_&&Object.defineProperty(d,m,_),_},r=this&&this.__param||function(a,d){return function(m,x){d(m,x,a)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferDecorationRenderer=void 0;const n=o(3656),i=o(4725),s=o(844),c=o(2585);let u=f.BufferDecorationRenderer=class extends s.Disposable{constructor(a,d,m,x){super(),this._screenElement=a,this._bufferService=d,this._decorationService=m,this._renderService=x,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,n.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((C=>this._removeDecoration(C)))),this.register((0,s.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var d,m;const x=document.createElement("div");x.classList.add("xterm-decoration"),x.classList.toggle("xterm-decoration-top-layer",((d=a?.options)===null||d===void 0?void 0:d.layer)==="top"),x.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,x.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",x.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",x.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const C=(m=a.options.x)!==null&&m!==void 0?m:0;return C&&C>this._bufferService.cols&&(x.style.display="none"),this._refreshXPosition(a,x),x}_refreshStyle(a){const d=a.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let m=this._decorationElements.get(a);m||(m=this._createElement(a),a.element=m,this._decorationElements.set(a,m),this._container.appendChild(m),a.onDispose((()=>{this._decorationElements.delete(a),m.remove()}))),m.style.top=d*this._renderService.dimensions.css.cell.height+"px",m.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(m)}}_refreshXPosition(a,d=a.element){var m;if(!d)return;const x=(m=a.options.x)!==null&&m!==void 0?m:0;(a.options.anchor||"left")==="right"?d.style.right=x?x*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=x?x*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var d;(d=this._decorationElements.get(a))===null||d===void 0||d.remove(),this._decorationElements.delete(a),a.dispose()}};f.BufferDecorationRenderer=u=h([r(1,c.IBufferService),r(2,c.IDecorationService),r(3,i.IRenderService)],u)},5871:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorZoneStore=void 0,f.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const h of this._zones)if(h.color===o.options.overviewRulerOptions.color&&h.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,o.marker.line))return;if(this._lineAdjacentToZone(h,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(h,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,h){return h>=o.startBufferLine&&h<=o.endBufferLine}_lineAdjacentToZone(o,h,r){return h>=o.startBufferLine-this._linePadding[r||"full"]&&h<=o.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(o,h){o.startBufferLine=Math.min(o.startBufferLine,h),o.endBufferLine=Math.max(o.endBufferLine,h)}}},5744:function(y,f,o){var h=this&&this.__decorate||function(C,w,_,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,_):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(C,w,_,k);else for(var F=C.length-1;F>=0;F--)(A=C[F])&&(j=(T<3?A(j):T>3?A(w,_,j):A(w,_))||j);return T>3&&j&&Object.defineProperty(w,_,j),j},r=this&&this.__param||function(C,w){return function(_,k){w(_,k,C)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OverviewRulerRenderer=void 0;const n=o(5871),i=o(3656),s=o(4725),c=o(844),u=o(2585),a={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0};let x=f.OverviewRulerRenderer=class extends c.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(C,w,_,k,A,T,j){var F;super(),this._viewportElement=C,this._screenElement=w,this._bufferService=_,this._decorationService=k,this._renderService=A,this._optionsService=T,this._coreBrowseService=j,this._colorZoneStore=new n.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(F=this._viewportElement.parentElement)===null||F===void 0||F.insertBefore(this._canvas,this._viewportElement);const $=this._canvas.getContext("2d");if(!$)throw new Error("Ctx cannot be null");this._ctx=$,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,c.toDisposable)((()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,i.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const C=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=C,d.center=w,d.right=C,this._refreshDrawHeightConstants(),m.full=0,m.left=0,m.center=d.left,m.right=d.left+d.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const C=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(C,12),6)*this._coreBrowseService.dpr);a.left=w,a.center=w,a.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const C=this._colorZoneStore.zones;for(const w of C)w.position!=="full"&&this._renderColorZone(w);for(const w of C)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(C){this._ctx.fillStyle=C.color,this._ctx.fillRect(m[C.position||"full"],Math.round((this._canvas.height-1)*(C.startBufferLine/this._bufferService.buffers.active.lines.length)-a[C.position||"full"]/2),d[C.position||"full"],Math.round((this._canvas.height-1)*((C.endBufferLine-C.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[C.position||"full"]))}_queueRefresh(C,w){this._shouldUpdateDimensions=C||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};f.OverviewRulerRenderer=x=h([r(2,u.IBufferService),r(3,u.IDecorationService),r(4,s.IRenderService),r(5,u.IOptionsService),r(6,s.ICoreBrowserService)],x)},2950:function(y,f,o){var h=this&&this.__decorate||function(u,a,d,m){var x,C=arguments.length,w=C<3?a:m===null?m=Object.getOwnPropertyDescriptor(a,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,a,d,m);else for(var _=u.length-1;_>=0;_--)(x=u[_])&&(w=(C<3?x(w):C>3?x(a,d,w):x(a,d))||w);return C>3&&w&&Object.defineProperty(a,d,w),w},r=this&&this.__param||function(u,a){return function(d,m){a(d,m,u)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CompositionHelper=void 0;const n=o(4725),i=o(2585),s=o(2584);let c=f.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(u,a,d,m,x,C){this._textarea=u,this._compositionView=a,this._bufferService=d,this._optionsService=m,this._coreService=x,this._renderService=C,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(u){this._compositionView.textContent=u.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(u){if(this._isComposing||this._isSendingComposition){if(u.keyCode===229||u.keyCode===16||u.keyCode===17||u.keyCode===18)return!1;this._finalizeComposition(!1)}return u.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(u){if(this._compositionView.classList.remove("active"),this._isComposing=!1,u){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}}),0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const u=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const a=this._textarea.value,d=a.replace(u,"");this._dataAlreadySent=d,a.length>u.length?this._coreService.triggerDataEvent(d,!0):a.length<u.length?this._coreService.triggerDataEvent(`${s.C0.DEL}`,!0):a.length===u.length&&a!==u&&this._coreService.triggerDataEvent(a,!0)}}),0)}updateCompositionElements(u){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,m=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,x=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=x+"px",this._compositionView.style.top=m+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const C=this._compositionView.getBoundingClientRect();this._textarea.style.left=x+"px",this._textarea.style.top=m+"px",this._textarea.style.width=Math.max(C.width,1)+"px",this._textarea.style.height=Math.max(C.height,1)+"px",this._textarea.style.lineHeight=C.height+"px"}u||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};f.CompositionHelper=c=h([r(2,i.IBufferService),r(3,i.IOptionsService),r(4,i.ICoreService),r(5,n.IRenderService)],c)},9806:(y,f)=>{function o(h,r,n){const i=n.getBoundingClientRect(),s=h.getComputedStyle(n),c=parseInt(s.getPropertyValue("padding-left")),u=parseInt(s.getPropertyValue("padding-top"));return[r.clientX-i.left-c,r.clientY-i.top-u]}Object.defineProperty(f,"__esModule",{value:!0}),f.getCoords=f.getCoordsRelativeToElement=void 0,f.getCoordsRelativeToElement=o,f.getCoords=function(h,r,n,i,s,c,u,a,d){if(!c)return;const m=o(h,r,n);return m?(m[0]=Math.ceil((m[0]+(d?u/2:0))/u),m[1]=Math.ceil(m[1]/a),m[0]=Math.min(Math.max(m[0],1),i+(d?1:0)),m[1]=Math.min(Math.max(m[1],1),s),m):void 0}},9504:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.moveToCellSequence=void 0;const h=o(2584);function r(a,d,m,x){const C=a-n(a,m),w=d-n(d,m),_=Math.abs(C-w)-(function(k,A,T){let j=0;const F=k-n(k,T),$=A-n(A,T);for(let D=0;D<Math.abs(F-$);D++){const M=i(k,A)==="A"?-1:1,R=T.buffer.lines.get(F+M*D);R?.isWrapped&&j++}return j})(a,d,m);return u(_,c(i(a,d),x))}function n(a,d){let m=0,x=d.buffer.lines.get(a),C=x?.isWrapped;for(;C&&a>=0&&a<d.rows;)m++,x=d.buffer.lines.get(--a),C=x?.isWrapped;return m}function i(a,d){return a>d?"A":"B"}function s(a,d,m,x,C,w){let _=a,k=d,A="";for(;_!==m||k!==x;)_+=C?1:-1,C&&_>w.cols-1?(A+=w.buffer.translateBufferLineToString(k,!1,a,_),_=0,a=0,k++):!C&&_<0&&(A+=w.buffer.translateBufferLineToString(k,!1,0,a+1),_=w.cols-1,a=_,k--);return A+w.buffer.translateBufferLineToString(k,!1,a,_)}function c(a,d){const m=d?"O":"[";return h.C0.ESC+m+a}function u(a,d){a=Math.floor(a);let m="";for(let x=0;x<a;x++)m+=d;return m}f.moveToCellSequence=function(a,d,m,x){const C=m.buffer.x,w=m.buffer.y;if(!m.buffer.hasScrollback)return(function(A,T,j,F,$,D){return r(T,F,$,D).length===0?"":u(s(A,T,A,T-n(T,$),!1,$).length,c("D",D))})(C,w,0,d,m,x)+r(w,d,m,x)+(function(A,T,j,F,$,D){let M;M=r(T,F,$,D).length>0?F-n(F,$):T;const R=F,O=(function(z,B,P,U,W,K){let Y;return Y=r(P,U,W,K).length>0?U-n(U,W):B,z<P&&Y<=U||z>=P&&Y<U?"C":"D"})(A,T,j,F,$,D);return u(s(A,M,j,R,O==="C",$).length,c(O,D))})(C,w,a,d,m,x);let _;if(w===d)return _=C>a?"D":"C",u(Math.abs(C-a),c(_,x));_=w>d?"D":"C";const k=Math.abs(w-d);return u((function(A,T){return T.cols-A})(w>d?a:C,m)+(k-1)*m.cols+1+((w>d?C:a)-1),c(_,x))}},1296:function(y,f,o){var h=this&&this.__decorate||function($,D,M,R){var O,z=arguments.length,B=z<3?D:R===null?R=Object.getOwnPropertyDescriptor(D,M):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate($,D,M,R);else for(var P=$.length-1;P>=0;P--)(O=$[P])&&(B=(z<3?O(B):z>3?O(D,M,B):O(D,M))||B);return z>3&&B&&Object.defineProperty(D,M,B),B},r=this&&this.__param||function($,D){return function(M,R){D(M,R,$)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRenderer=void 0;const n=o(3787),i=o(2550),s=o(2223),c=o(6171),u=o(4725),a=o(8055),d=o(8460),m=o(844),x=o(2585),C="xterm-dom-renderer-owner-",w="xterm-rows",_="xterm-fg-",k="xterm-bg-",A="xterm-focus",T="xterm-selection";let j=1,F=f.DomRenderer=class extends m.Disposable{constructor($,D,M,R,O,z,B,P,U,W){super(),this._element=$,this._screenElement=D,this._viewportElement=M,this._linkifier2=R,this._charSizeService=z,this._optionsService=B,this._bufferService=P,this._coreBrowserService=U,this._themeService=W,this._terminalClass=j++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,c.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((K=>this._injectCss(K)))),this._injectCss(this._themeService.colors),this._rowFactory=O.createInstance(n.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((K=>this._handleLinkHover(K)))),this.register(this._linkifier2.onHideLinkUnderline((K=>this._handleLinkLeave(K)))),this.register((0,m.toDisposable)((()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new i.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const $=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*$,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*$),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/$),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/$),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const M of this._rowElements)M.style.width=`${this.dimensions.css.canvas.width}px`,M.style.height=`${this.dimensions.css.cell.height}px`,M.style.lineHeight=`${this.dimensions.css.cell.height}px`,M.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss($){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${w} { color: ${$.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${w} .xterm-dim { color: ${a.color.multiplyOpacity($.foreground,.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${$.cursor.css};  color: ${$.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${$.cursor.css}; }}`,D+=`${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${$.cursor.css}; color: ${$.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${$.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${$.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${$.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${$.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${$.selectionInactiveBackgroundOpaque.css};}`;for(const[M,R]of $.ansi.entries())D+=`${this._terminalSelector} .${_}${M} { color: ${R.css}; }${this._terminalSelector} .${_}${M}.xterm-dim { color: ${a.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .${k}${M} { background-color: ${R.css}; }`;D+=`${this._terminalSelector} .${_}${s.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque($.background).css}; }${this._terminalSelector} .${_}${s.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque($.background),.5).css}; }${this._terminalSelector} .${k}${s.INVERTED_DEFAULT_COLOR} { background-color: ${$.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const $=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${$}px`,this._rowFactory.defaultSpacing=$}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements($,D){for(let M=this._rowElements.length;M<=D;M++){const R=document.createElement("div");this._rowContainer.appendChild(R),this._rowElements.push(R)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize($,D){this._refreshRowElements($,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(A)}handleFocus(){this._rowContainer.classList.add(A),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged($,D,M){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged($,D,M),this.renderRows(0,this._bufferService.rows-1),!$||!D)return;const R=$[1]-this._bufferService.buffer.ydisp,O=D[1]-this._bufferService.buffer.ydisp,z=Math.max(R,0),B=Math.min(O,this._bufferService.rows-1);if(z>=this._bufferService.rows||B<0)return;const P=document.createDocumentFragment();if(M){const U=$[0]>D[0];P.appendChild(this._createSelectionElement(z,U?D[0]:$[0],U?$[0]:D[0],B-z+1))}else{const U=R===z?$[0]:0,W=z===O?D[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(z,U,W));const K=B-z-1;if(P.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,K)),z!==B){const Y=O===B?D[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(B,0,Y))}}this._selectionContainer.appendChild(P)}_createSelectionElement($,D,M,R=1){const O=document.createElement("div");return O.style.height=R*this.dimensions.css.cell.height+"px",O.style.top=$*this.dimensions.css.cell.height+"px",O.style.left=D*this.dimensions.css.cell.width+"px",O.style.width=this.dimensions.css.cell.width*(M-D)+"px",O}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const $ of this._rowElements)$.replaceChildren()}renderRows($,D){const M=this._bufferService.buffer,R=M.ybase+M.y,O=Math.min(M.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,B=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let U=$;U<=D;U++){const W=U+M.ydisp,K=this._rowElements[U],Y=M.lines.get(W);if(!K||!Y)break;K.replaceChildren(...this._rowFactory.createRow(Y,W,W===R,B,P,O,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!0)}_handleLinkLeave($){this._setCellUnderline($.x1,$.x2,$.y1,$.y2,$.cols,!1)}_setCellUnderline($,D,M,R,O,z){M<0&&($=0),R<0&&(D=0);const B=this._bufferService.rows-1;M=Math.max(Math.min(M,B),0),R=Math.max(Math.min(R,B),0),O=Math.min(O,this._bufferService.cols);const P=this._bufferService.buffer,U=P.ybase+P.y,W=Math.min(P.x,O-1),K=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=M;q<=R;++q){const J=q+P.ydisp,V=this._rowElements[q],Q=P.lines.get(J);if(!V||!Q)break;V.replaceChildren(...this._rowFactory.createRow(Q,J,J===U,Y,X,W,K,this.dimensions.css.cell.width,this._widthCache,z?q===M?$:0:-1,z?(q===R?D:O)-1:-1))}}};f.DomRenderer=F=h([r(4,x.IInstantiationService),r(5,u.ICharSizeService),r(6,x.IOptionsService),r(7,x.IBufferService),r(8,u.ICoreBrowserService),r(9,u.IThemeService)],F)},3787:function(y,f,o){var h=this&&this.__decorate||function(_,k,A,T){var j,F=arguments.length,$=F<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(_,k,A,T);else for(var D=_.length-1;D>=0;D--)(j=_[D])&&($=(F<3?j($):F>3?j(k,A,$):j(k,A))||$);return F>3&&$&&Object.defineProperty(k,A,$),$},r=this&&this.__param||function(_,k){return function(A,T){k(A,T,_)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRendererRowFactory=void 0;const n=o(2223),i=o(643),s=o(511),c=o(2585),u=o(8055),a=o(4725),d=o(4269),m=o(6171),x=o(3734);let C=f.DomRendererRowFactory=class{constructor(_,k,A,T,j,F,$){this._document=_,this._characterJoinerService=k,this._optionsService=A,this._coreBrowserService=T,this._coreService=j,this._decorationService=F,this._themeService=$,this._workCell=new s.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(_,k,A){this._selectionStart=_,this._selectionEnd=k,this._columnSelectMode=A}createRow(_,k,A,T,j,F,$,D,M,R,O){const z=[],B=this._characterJoinerService.getJoinedCharacters(k),P=this._themeService.colors;let U,W=_.getNoBgTrimmedLength();A&&W<F+1&&(W=F+1);let K=0,Y="",X=0,q=0,J=0,V=!1,Q=0,ne=!1,ie=0;const me=[],pe=R!==-1&&O!==-1;for(let Se=0;Se<W;Se++){_.loadCell(Se,this._workCell);let ke=this._workCell.getWidth();if(ke===0)continue;let Ae=!1,Ue=Se,we=this._workCell;if(B.length>0&&Se===B[0][0]){Ae=!0;const He=B.shift();we=new d.JoinedCellData(this._workCell,_.translateToString(!0,He[0],He[1]),He[1]-He[0]),Ue=He[1]-1,ke=we.getWidth()}const Ce=this._isCellInSelection(Se,k),at=A&&Se===F,Dt=pe&&Se>=R&&Se<=O;let qt=!1;this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{qt=!0}));let Zt=we.getChars()||i.WHITESPACE_CELL_CHAR;if(Zt===" "&&(we.isUnderline()||we.isOverline())&&(Zt=""),ie=ke*D-M.get(Zt,we.isBold(),we.isItalic()),U){if(K&&(Ce&&ne||!Ce&&!ne&&we.bg===X)&&(Ce&&ne&&P.selectionForeground||we.fg===q)&&we.extended.ext===J&&Dt===V&&ie===Q&&!at&&!Ae&&!qt){Y+=Zt,K++;continue}K&&(U.textContent=Y),U=this._document.createElement("span"),K=0,Y=""}else U=this._document.createElement("span");if(X=we.bg,q=we.fg,J=we.extended.ext,V=Dt,Q=ie,ne=Ce,Ae&&F>=Se&&F<=Ue&&(F=Se),!this._coreService.isCursorHidden&&at){if(me.push("xterm-cursor"),this._coreBrowserService.isFocused)$&&me.push("xterm-cursor-blink"),me.push(T==="bar"?"xterm-cursor-bar":T==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":me.push("xterm-cursor-outline");break;case"block":me.push("xterm-cursor-block");break;case"bar":me.push("xterm-cursor-bar");break;case"underline":me.push("xterm-cursor-underline")}}if(we.isBold()&&me.push("xterm-bold"),we.isItalic()&&me.push("xterm-italic"),we.isDim()&&me.push("xterm-dim"),Y=we.isInvisible()?i.WHITESPACE_CELL_CHAR:we.getChars()||i.WHITESPACE_CELL_CHAR,we.isUnderline()&&(me.push(`xterm-underline-${we.extended.underlineStyle}`),Y===" "&&(Y=""),!we.isUnderlineColorDefault()))if(we.isUnderlineColorRGB())U.style.textDecorationColor=`rgb(${x.AttributeData.toColorRGB(we.getUnderlineColor()).join(",")})`;else{let He=we.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&we.isBold()&&He<8&&(He+=8),U.style.textDecorationColor=P.ansi[He].css}we.isOverline()&&(me.push("xterm-overline"),Y===" "&&(Y="")),we.isStrikethrough()&&me.push("xterm-strikethrough"),Dt&&(U.style.textDecoration="underline");let mt=we.getFgColor(),Ze=we.getFgColorMode(),_t=we.getBgColor(),Ot=we.getBgColorMode();const xt=!!we.isInverse();if(xt){const He=mt;mt=_t,_t=He;const Tt=Ze;Ze=Ot,Ot=Tt}let pt,Yt,it,rt=!1;switch(this._decorationService.forEachDecorationAtCell(Se,k,void 0,(He=>{He.options.layer!=="top"&&rt||(He.backgroundColorRGB&&(Ot=50331648,_t=He.backgroundColorRGB.rgba>>8&16777215,pt=He.backgroundColorRGB),He.foregroundColorRGB&&(Ze=50331648,mt=He.foregroundColorRGB.rgba>>8&16777215,Yt=He.foregroundColorRGB),rt=He.options.layer==="top")})),!rt&&Ce&&(pt=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,_t=pt.rgba>>8&16777215,Ot=50331648,rt=!0,P.selectionForeground&&(Ze=50331648,mt=P.selectionForeground.rgba>>8&16777215,Yt=P.selectionForeground)),rt&&me.push("xterm-decoration-top"),Ot){case 16777216:case 33554432:it=P.ansi[_t],me.push(`xterm-bg-${_t}`);break;case 50331648:it=u.rgba.toColor(_t>>16,_t>>8&255,255&_t),this._addStyle(U,`background-color:#${w((_t>>>0).toString(16),"0",6)}`);break;default:xt?(it=P.foreground,me.push(`xterm-bg-${n.INVERTED_DEFAULT_COLOR}`)):it=P.background}switch(pt||we.isDim()&&(pt=u.color.multiplyOpacity(it,.5)),Ze){case 16777216:case 33554432:we.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(U,it,P.ansi[mt],we,pt,void 0)||me.push(`xterm-fg-${mt}`);break;case 50331648:const He=u.rgba.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(U,it,He,we,pt,Yt)||this._addStyle(U,`color:#${w(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(U,it,P.foreground,we,pt,void 0)||xt&&me.push(`xterm-fg-${n.INVERTED_DEFAULT_COLOR}`)}me.length&&(U.className=me.join(" "),me.length=0),at||Ae||qt?U.textContent=Y:K++,ie!==this.defaultSpacing&&(U.style.letterSpacing=`${ie}px`),z.push(U),Se=Ue}return U&&K&&(U.textContent=Y),z}_applyMinimumContrast(_,k,A,T,j,F){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,m.excludeFromContrastRatioDemands)(T.getCode()))return!1;const $=this._getContrastCache(T);let D;if(j||F||(D=$.getColor(k.rgba,A.rgba)),D===void 0){const M=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);D=u.color.ensureContrastRatio(j||k,F||A,M),$.setColor((j||k).rgba,(F||A).rgba,D??null)}return!!D&&(this._addStyle(_,`color:${D.css}`),!0)}_getContrastCache(_){return _.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(_,k){_.setAttribute("style",`${_.getAttribute("style")||""}${k};`)}_isCellInSelection(_,k){const A=this._selectionStart,T=this._selectionEnd;return!(!A||!T)&&(this._columnSelectMode?A[0]<=T[0]?_>=A[0]&&k>=A[1]&&_<T[0]&&k<=T[1]:_<A[0]&&k>=A[1]&&_>=T[0]&&k<=T[1]:k>A[1]&&k<T[1]||A[1]===T[1]&&k===A[1]&&_>=A[0]&&_<T[0]||A[1]<T[1]&&k===T[1]&&_<T[0]||A[1]<T[1]&&k===A[1]&&_>=A[0])}};function w(_,k,A){for(;_.length<A;)_=k+_;return _}f.DomRendererRowFactory=C=h([r(1,a.ICharacterJoinerService),r(2,c.IOptionsService),r(3,a.ICoreBrowserService),r(4,c.ICoreService),r(5,c.IDecorationService),r(6,a.IThemeService)],C)},2550:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WidthCache=void 0,f.WidthCache=class{constructor(o){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=o.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=o.createElement("span"),r=o.createElement("span");r.style.fontWeight="bold";const n=o.createElement("span");n.style.fontStyle="italic";const i=o.createElement("span");i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[h,r,n,i],this._container.appendChild(h),this._container.appendChild(r),this._container.appendChild(n),this._container.appendChild(i),o.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(o,h,r,n){o===this._font&&h===this._fontSize&&r===this._weight&&n===this._weightBold||(this._font=o,this._fontSize=h,this._weight=r,this._weightBold=n,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${r}`,this._measureElements[1].style.fontWeight=`${n}`,this._measureElements[2].style.fontWeight=`${r}`,this._measureElements[3].style.fontWeight=`${n}`,this.clear())}get(o,h,r){let n=0;if(!h&&!r&&o.length===1&&(n=o.charCodeAt(0))<256)return this._flat[n]!==-9999?this._flat[n]:this._flat[n]=this._measure(o,0);let i=o;h&&(i+="B"),r&&(i+="I");let s=this._holey.get(i);if(s===void 0){let c=0;h&&(c|=1),r&&(c|=2),s=this._measure(o,c),this._holey.set(i,s)}return s}_measure(o,h){const r=this._measureElements[h];return r.textContent=o.repeat(32),r.offsetWidth/32}}},2223:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TEXT_BASELINE=f.DIM_OPACITY=f.INVERTED_DEFAULT_COLOR=void 0;const h=o(6114);f.INVERTED_DEFAULT_COLOR=257,f.DIM_OPACITY=.5,f.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(y,f)=>{function o(h){return 57508<=h&&h<=57558}Object.defineProperty(f,"__esModule",{value:!0}),f.createRenderDimensions=f.excludeFromContrastRatioDemands=f.isRestrictedPowerlineGlyph=f.isPowerlineGlyph=f.throwIfFalsy=void 0,f.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},f.isPowerlineGlyph=o,f.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},f.excludeFromContrastRatioDemands=function(h){return o(h)||(function(r){return 9472<=r&&r<=9631})(h)},f.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionModel=void 0,f.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,h=this.selectionEnd;return!(!o||!h)&&(o[1]>h[1]||o[1]===h[1]&&o[0]>h[0])}handleTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,f,o){var h=this&&this.__decorate||function(a,d,m,x){var C,w=arguments.length,_=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,d,m,x);else for(var k=a.length-1;k>=0;k--)(C=a[k])&&(_=(w<3?C(_):w>3?C(d,m,_):C(d,m))||_);return w>3&&_&&Object.defineProperty(d,m,_),_},r=this&&this.__param||function(a,d){return function(m,x){d(m,x,a)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharSizeService=void 0;const n=o(2585),i=o(8460),s=o(844);let c=f.CharSizeService=class extends s.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,d,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new i.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new u(a,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};f.CharSizeService=c=h([r(2,n.IOptionsService)],c);class u{constructor(d,m,x){this._document=d,this._parentElement=m,this._optionsService=x,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(y,f,o){var h=this&&this.__decorate||function(d,m,x,C){var w,_=arguments.length,k=_<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,x):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,m,x,C);else for(var A=d.length-1;A>=0;A--)(w=d[A])&&(k=(_<3?w(k):_>3?w(m,x,k):w(m,x))||k);return _>3&&k&&Object.defineProperty(m,x,k),k},r=this&&this.__param||function(d,m){return function(x,C){m(x,C,d)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterJoinerService=f.JoinedCellData=void 0;const n=o(3734),i=o(643),s=o(511),c=o(2585);class u extends n.AttributeData{constructor(m,x,C){super(),this.content=0,this.combinedData="",this.fg=m.fg,this.bg=m.bg,this.combinedData=x,this._width=C}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(m){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.JoinedCellData=u;let a=f.CharacterJoinerService=class f0{constructor(m){this._bufferService=m,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new s.CellData}register(m){const x={id:this._nextCharacterJoinerId++,handler:m};return this._characterJoiners.push(x),x.id}deregister(m){for(let x=0;x<this._characterJoiners.length;x++)if(this._characterJoiners[x].id===m)return this._characterJoiners.splice(x,1),!0;return!1}getJoinedCharacters(m){if(this._characterJoiners.length===0)return[];const x=this._bufferService.buffer.lines.get(m);if(!x||x.length===0)return[];const C=[],w=x.translateToString(!0);let _=0,k=0,A=0,T=x.getFg(0),j=x.getBg(0);for(let F=0;F<x.getTrimmedLength();F++)if(x.loadCell(F,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==j){if(F-_>1){const $=this._getJoinedRanges(w,A,k,x,_);for(let D=0;D<$.length;D++)C.push($[D])}_=F,A=k,T=this._workCell.fg,j=this._workCell.bg}k+=this._workCell.getChars().length||i.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-_>1){const F=this._getJoinedRanges(w,A,k,x,_);for(let $=0;$<F.length;$++)C.push(F[$])}return C}_getJoinedRanges(m,x,C,w,_){const k=m.substring(x,C);let A=[];try{A=this._characterJoiners[0].handler(k)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const j=this._characterJoiners[T].handler(k);for(let F=0;F<j.length;F++)f0._mergeRanges(A,j[F])}catch(j){console.error(j)}return this._stringRangesToCellRanges(A,w,_),A}_stringRangesToCellRanges(m,x,C){let w=0,_=!1,k=0,A=m[w];if(A){for(let T=C;T<this._bufferService.cols;T++){const j=x.getWidth(T),F=x.getString(T).length||i.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!_&&A[0]<=k&&(A[0]=T,_=!0),A[1]<=k){if(A[1]=T,A=m[++w],!A)break;A[0]<=k?(A[0]=T,_=!0):_=!1}k+=F}}A&&(A[1]=this._bufferService.cols)}}static _mergeRanges(m,x){let C=!1;for(let w=0;w<m.length;w++){const _=m[w];if(C){if(x[1]<=_[0])return m[w-1][1]=x[1],m;if(x[1]<=_[1])return m[w-1][1]=Math.max(x[1],_[1]),m.splice(w,1),m;m.splice(w,1),w--}else{if(x[1]<=_[0])return m.splice(w,0,x),m;if(x[1]<=_[1])return _[0]=Math.min(x[0],_[0]),m;x[0]<_[1]&&(_[0]=Math.min(x[0],_[0]),C=!0)}}return C?m[m.length-1][1]=x[1]:m.push(x),m}};f.CharacterJoinerService=a=h([r(0,c.IBufferService)],a)},5114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreBrowserService=void 0,f.CoreBrowserService=class{constructor(o,h){this._textarea=o,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(y,f,o){var h=this&&this.__decorate||function(c,u,a,d){var m,x=arguments.length,C=x<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,a):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,u,a,d);else for(var w=c.length-1;w>=0;w--)(m=c[w])&&(C=(x<3?m(C):x>3?m(u,a,C):m(u,a))||C);return x>3&&C&&Object.defineProperty(u,a,C),C},r=this&&this.__param||function(c,u){return function(a,d){u(a,d,c)}};Object.defineProperty(f,"__esModule",{value:!0}),f.MouseService=void 0;const n=o(4725),i=o(9806);let s=f.MouseService=class{constructor(c,u){this._renderService=c,this._charSizeService=u}getCoords(c,u,a,d,m){return(0,i.getCoords)(window,c,u,a,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,m)}getMouseReportCoords(c,u){const a=(0,i.getCoordsRelativeToElement)(window,c,u);if(this._charSizeService.hasValidSize)return a[0]=Math.min(Math.max(a[0],0),this._renderService.dimensions.css.canvas.width-1),a[1]=Math.min(Math.max(a[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};f.MouseService=s=h([r(0,n.IRenderService),r(1,n.ICharSizeService)],s)},3230:function(y,f,o){var h=this&&this.__decorate||function(C,w,_,k){var A,T=arguments.length,j=T<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,_):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(C,w,_,k);else for(var F=C.length-1;F>=0;F--)(A=C[F])&&(j=(T<3?A(j):T>3?A(w,_,j):A(w,_))||j);return T>3&&j&&Object.defineProperty(w,_,j),j},r=this&&this.__param||function(C,w){return function(_,k){w(_,k,C)}};Object.defineProperty(f,"__esModule",{value:!0}),f.RenderService=void 0;const n=o(3656),i=o(6193),s=o(5596),c=o(4725),u=o(8460),a=o(844),d=o(7226),m=o(2585);let x=f.RenderService=class extends a.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(C,w,_,k,A,T,j,F){if(super(),this._rowCount=C,this._charSizeService=k,this._renderer=this.register(new a.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new u.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new u.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new u.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new u.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new i.RenderDebouncer(j.window,(($,D)=>this._renderRows($,D))),this.register(this._renderDebouncer),this._screenDprMonitor=new s.ScreenDprMonitor(j.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>{var $;return($=this._renderer.value)===null||$===void 0?void 0:$.clear()}))),this.register(_.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(A.onDecorationRegistered((()=>this._fullRefresh()))),this.register(A.onDecorationRemoved((()=>this._fullRefresh()))),this.register(_.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(_.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register((0,n.addDisposableDomListener)(j.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(F.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in j.window){const $=new j.window.IntersectionObserver((D=>this._handleIntersectionChange(D[D.length-1])),{threshold:0});$.observe(w),this.register({dispose:()=>$.disconnect()})}}_handleIntersectionChange(C){this._isPaused=C.isIntersecting===void 0?C.intersectionRatio===0:!C.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(C,w,_=!1){this._isPaused?this._needsFullRefresh=!0:(_||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(C,w,this._rowCount))}_renderRows(C,w){this._renderer.value&&(C=Math.min(C,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(C,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:C,end:w}),this._onRender.fire({start:C,end:w}),this._isNextRenderRedrawOnly=!0)}resize(C,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(C){this._renderer.value=C,this._renderer.value.onRequestRedraw((w=>this.refreshRows(w.start,w.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(C){return this._renderDebouncer.addRefreshCallback(C)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var C,w;this._renderer.value&&((w=(C=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(C),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(C,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(C,w))):this._renderer.value.handleResize(C,w),this._fullRefresh())}handleCharSizeChanged(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCharSizeChanged()}handleBlur(){var C;(C=this._renderer.value)===null||C===void 0||C.handleBlur()}handleFocus(){var C;(C=this._renderer.value)===null||C===void 0||C.handleFocus()}handleSelectionChanged(C,w,_){var k;this._selectionState.start=C,this._selectionState.end=w,this._selectionState.columnSelectMode=_,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(C,w,_)}handleCursorMove(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCursorMove()}clear(){var C;(C=this._renderer.value)===null||C===void 0||C.clear()}};f.RenderService=x=h([r(2,m.IOptionsService),r(3,c.ICharSizeService),r(4,m.IDecorationService),r(5,m.IBufferService),r(6,c.ICoreBrowserService),r(7,c.IThemeService)],x)},9312:function(y,f,o){var h=this&&this.__decorate||function(A,T,j,F){var $,D=arguments.length,M=D<3?T:F===null?F=Object.getOwnPropertyDescriptor(T,j):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(A,T,j,F);else for(var R=A.length-1;R>=0;R--)($=A[R])&&(M=(D<3?$(M):D>3?$(T,j,M):$(T,j))||M);return D>3&&M&&Object.defineProperty(T,j,M),M},r=this&&this.__param||function(A,T){return function(j,F){T(j,F,A)}};Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionService=void 0;const n=o(9806),i=o(9504),s=o(456),c=o(4725),u=o(8460),a=o(844),d=o(6114),m=o(4841),x=o(511),C=o(2585),w="",_=new RegExp(w,"g");let k=f.SelectionService=class extends a.Disposable{constructor(A,T,j,F,$,D,M,R,O){super(),this._element=A,this._screenElement=T,this._linkifier=j,this._bufferService=F,this._coreService=$,this._mouseService=D,this._optionsService=M,this._renderService=R,this._coreBrowserService=O,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new x.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new u.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new u.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new u.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new u.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((z=>this._handleTrim(z))),this.register(this._bufferService.buffers.onBufferActivate((z=>this._handleBufferActivate(z)))),this.enable(),this._model=new s.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!A||!T||A[0]===T[0]&&A[1]===T[1])}get selectionText(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!A||!T)return"";const j=this._bufferService.buffer,F=[];if(this._activeSelectionMode===3){if(A[0]===T[0])return"";const $=A[0]<T[0]?A[0]:T[0],D=A[0]<T[0]?T[0]:A[0];for(let M=A[1];M<=T[1];M++){const R=j.translateBufferLineToString(M,!0,$,D);F.push(R)}}else{const $=A[1]===T[1]?T[0]:void 0;F.push(j.translateBufferLineToString(A[1],!0,A[0],$));for(let D=A[1]+1;D<=T[1]-1;D++){const M=j.lines.get(D),R=j.translateBufferLineToString(D,!0);M?.isWrapped?F[F.length-1]+=R:F.push(R)}if(A[1]!==T[1]){const D=j.lines.get(T[1]),M=j.translateBufferLineToString(T[1],!0,0,T[0]);D&&D.isWrapped?F[F.length-1]+=M:F.push(M)}}return F.map(($=>$.replace(_," "))).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(A){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),d.isLinux&&A&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(A){const T=this._getMouseBufferCoords(A),j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(j&&F&&T)&&this._areCoordsInSelection(T,j,F)}isCellInSelection(A,T){const j=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!j||!F)&&this._areCoordsInSelection([A,T],j,F)}_areCoordsInSelection(A,T,j){return A[1]>T[1]&&A[1]<j[1]||T[1]===j[1]&&A[1]===T[1]&&A[0]>=T[0]&&A[0]<j[0]||T[1]<j[1]&&A[1]===j[1]&&A[0]<j[0]||T[1]<j[1]&&A[1]===T[1]&&A[0]>=T[0]}_selectWordAtCursor(A,T){var j,F;const $=(F=(j=this._linkifier.currentLink)===null||j===void 0?void 0:j.link)===null||F===void 0?void 0:F.range;if($)return this._model.selectionStart=[$.start.x-1,$.start.y-1],this._model.selectionStartLength=(0,m.getRangeLength)($,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(A);return!!D&&(this._selectWordAt(D,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(A,T){this._model.clearSelection(),A=Math.max(A,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,A],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(A){this._model.handleTrim(A)&&this.refresh()}_getMouseBufferCoords(A){const T=this._mouseService.getCoords(A,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(A){let T=(0,n.getCoordsRelativeToElement)(this._coreBrowserService.window,A,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=j?0:(T>j&&(T-=j),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(A){return d.isMac?A.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:A.shiftKey}handleMouseDown(A){if(this._mouseDownTimeStamp=A.timeStamp,(A.button!==2||!this.hasSelection)&&A.button===0){if(!this._enabled){if(!this.shouldForceSelection(A))return;A.stopPropagation()}A.preventDefault(),this._dragScrollAmount=0,this._enabled&&A.shiftKey?this._handleIncrementalClick(A):A.detail===1?this._handleSingleClick(A):A.detail===2?this._handleDoubleClick(A):A.detail===3&&this._handleTripleClick(A),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(A){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(A))}_handleSingleClick(A){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(A)?3:0,this._model.selectionStart=this._getMouseBufferCoords(A),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(A){this._selectWordAtCursor(A,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(A){const T=this._getMouseBufferCoords(A);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(A){return A.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(A){if(A.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(A),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(A),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const F=j.lines.get(this._model.selectionEnd[1]);F&&F.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const A=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(A.ydisp+this._bufferService.rows,A.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=A.ydisp),this.refresh()}}_handleMouseUp(A){const T=A.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&A.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(A,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const F=(0,i.moveToCellSequence)(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const A=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,j=!(!A||!T||A[0]===T[0]&&A[1]===T[1]);j?A&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&A[0]===this._oldSelectionStart[0]&&A[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(A,T,j)):this._oldHasSelection&&this._fireOnSelectionChange(A,T,j)}_fireOnSelectionChange(A,T,j){this._oldSelectionStart=A,this._oldSelectionEnd=T,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(A){this.clearSelection(),this._trimListener.dispose(),this._trimListener=A.activeBuffer.lines.onTrim((T=>this._handleTrim(T)))}_convertViewportColToCharacterIndex(A,T){let j=T;for(let F=0;T>=F;F++){const $=A.loadCell(F,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:$>1&&T!==F&&(j+=$-1)}return j}setSelection(A,T,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[A,T],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(A){this._isClickInSelection(A)||(this._selectWordAtCursor(A,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(A,T,j=!0,F=!0){if(A[0]>=this._bufferService.cols)return;const $=this._bufferService.buffer,D=$.lines.get(A[1]);if(!D)return;const M=$.translateBufferLineToString(A[1],!1);let R=this._convertViewportColToCharacterIndex(D,A[0]),O=R;const z=A[0]-R;let B=0,P=0,U=0,W=0;if(M.charAt(R)===" "){for(;R>0&&M.charAt(R-1)===" ";)R--;for(;O<M.length&&M.charAt(O+1)===" ";)O++}else{let X=A[0],q=A[0];D.getWidth(X)===0&&(B++,X--),D.getWidth(q)===2&&(P++,q++);const J=D.getString(q).length;for(J>1&&(W+=J-1,O+=J-1);X>0&&R>0&&!this._isCharWordSeparator(D.loadCell(X-1,this._workCell));){D.loadCell(X-1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===0?(B++,X--):V>1&&(U+=V-1,R-=V-1),R--,X--}for(;q<D.length&&O+1<M.length&&!this._isCharWordSeparator(D.loadCell(q+1,this._workCell));){D.loadCell(q+1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,q++):V>1&&(W+=V-1,O+=V-1),O++,q++}}O++;let K=R+z-B+U,Y=Math.min(this._bufferService.cols,O-R+B+P-U-W);if(T||M.slice(R,O).trim()!==""){if(j&&K===0&&D.getCodePoint(0)!==32){const X=$.lines.get(A[1]-1);if(X&&D.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,A[1]-1],!1,!0,!1);if(q){const J=this._bufferService.cols-q.start;K-=J,Y+=J}}}if(F&&K+Y===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const X=$.lines.get(A[1]+1);if(X?.isWrapped&&X.getCodePoint(0)!==32){const q=this._getWordAt([0,A[1]+1],!1,!1,!0);q&&(Y+=q.length)}}return{start:K,length:Y}}}_selectWordAt(A,T){const j=this._getWordAt(A,T);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,A[1]--;this._model.selectionStart=[j.start,A[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(A){const T=this._getWordAt(A,!0);if(T){let j=A[1];for(;T.start<0;)T.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,j]}}_isCharWordSeparator(A){return A.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(A.getChars())>=0}_selectLineAt(A){const T=this._bufferService.buffer.getWrappedRangeForLine(A),j={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,m.getRangeLength)(j,this._bufferService.cols)}};f.SelectionService=k=h([r(3,C.IBufferService),r(4,C.ICoreService),r(5,c.IMouseService),r(6,C.IOptionsService),r(7,c.IRenderService),r(8,c.ICoreBrowserService)],k)},4725:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IThemeService=f.ICharacterJoinerService=f.ISelectionService=f.IRenderService=f.IMouseService=f.ICoreBrowserService=f.ICharSizeService=void 0;const h=o(8343);f.ICharSizeService=(0,h.createDecorator)("CharSizeService"),f.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),f.IMouseService=(0,h.createDecorator)("MouseService"),f.IRenderService=(0,h.createDecorator)("RenderService"),f.ISelectionService=(0,h.createDecorator)("SelectionService"),f.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),f.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(y,f,o){var h=this&&this.__decorate||function(k,A,T,j){var F,$=arguments.length,D=$<3?A:j===null?j=Object.getOwnPropertyDescriptor(A,T):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(k,A,T,j);else for(var M=k.length-1;M>=0;M--)(F=k[M])&&(D=($<3?F(D):$>3?F(A,T,D):F(A,T))||D);return $>3&&D&&Object.defineProperty(A,T,D),D},r=this&&this.__param||function(k,A){return function(T,j){A(T,j,k)}};Object.defineProperty(f,"__esModule",{value:!0}),f.ThemeService=f.DEFAULT_ANSI_COLORS=void 0;const n=o(7239),i=o(8055),s=o(8460),c=o(844),u=o(2585),a=i.css.toColor("#ffffff"),d=i.css.toColor("#000000"),m=i.css.toColor("#ffffff"),x=i.css.toColor("#000000"),C={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};f.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[i.css.toColor("#2e3436"),i.css.toColor("#cc0000"),i.css.toColor("#4e9a06"),i.css.toColor("#c4a000"),i.css.toColor("#3465a4"),i.css.toColor("#75507b"),i.css.toColor("#06989a"),i.css.toColor("#d3d7cf"),i.css.toColor("#555753"),i.css.toColor("#ef2929"),i.css.toColor("#8ae234"),i.css.toColor("#fce94f"),i.css.toColor("#729fcf"),i.css.toColor("#ad7fa8"),i.css.toColor("#34e2e2"),i.css.toColor("#eeeeec")],A=[0,95,135,175,215,255];for(let T=0;T<216;T++){const j=A[T/36%6|0],F=A[T/6%6|0],$=A[T%6];k.push({css:i.channels.toCss(j,F,$),rgba:i.channels.toRgba(j,F,$)})}for(let T=0;T<24;T++){const j=8+10*T;k.push({css:i.channels.toCss(j,j,j),rgba:i.channels.toRgba(j,j,j)})}return k})());let w=f.ThemeService=class extends c.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new n.ColorContrastCache,this._halfContrastCache=new n.ColorContrastCache,this._onChangeColors=this.register(new s.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:a,background:d,cursor:m,cursorAccent:x,selectionForeground:void 0,selectionBackgroundTransparent:C,selectionBackgroundOpaque:i.color.blend(d,C),selectionInactiveBackgroundTransparent:C,selectionInactiveBackgroundOpaque:i.color.blend(d,C),ansi:f.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(k={}){const A=this._colors;if(A.foreground=_(k.foreground,a),A.background=_(k.background,d),A.cursor=_(k.cursor,m),A.cursorAccent=_(k.cursorAccent,x),A.selectionBackgroundTransparent=_(k.selectionBackground,C),A.selectionBackgroundOpaque=i.color.blend(A.background,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundTransparent=_(k.selectionInactiveBackground,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundOpaque=i.color.blend(A.background,A.selectionInactiveBackgroundTransparent),A.selectionForeground=k.selectionForeground?_(k.selectionForeground,i.NULL_COLOR):void 0,A.selectionForeground===i.NULL_COLOR&&(A.selectionForeground=void 0),i.color.isOpaque(A.selectionBackgroundTransparent)&&(A.selectionBackgroundTransparent=i.color.opacity(A.selectionBackgroundTransparent,.3)),i.color.isOpaque(A.selectionInactiveBackgroundTransparent)&&(A.selectionInactiveBackgroundTransparent=i.color.opacity(A.selectionInactiveBackgroundTransparent,.3)),A.ansi=f.DEFAULT_ANSI_COLORS.slice(),A.ansi[0]=_(k.black,f.DEFAULT_ANSI_COLORS[0]),A.ansi[1]=_(k.red,f.DEFAULT_ANSI_COLORS[1]),A.ansi[2]=_(k.green,f.DEFAULT_ANSI_COLORS[2]),A.ansi[3]=_(k.yellow,f.DEFAULT_ANSI_COLORS[3]),A.ansi[4]=_(k.blue,f.DEFAULT_ANSI_COLORS[4]),A.ansi[5]=_(k.magenta,f.DEFAULT_ANSI_COLORS[5]),A.ansi[6]=_(k.cyan,f.DEFAULT_ANSI_COLORS[6]),A.ansi[7]=_(k.white,f.DEFAULT_ANSI_COLORS[7]),A.ansi[8]=_(k.brightBlack,f.DEFAULT_ANSI_COLORS[8]),A.ansi[9]=_(k.brightRed,f.DEFAULT_ANSI_COLORS[9]),A.ansi[10]=_(k.brightGreen,f.DEFAULT_ANSI_COLORS[10]),A.ansi[11]=_(k.brightYellow,f.DEFAULT_ANSI_COLORS[11]),A.ansi[12]=_(k.brightBlue,f.DEFAULT_ANSI_COLORS[12]),A.ansi[13]=_(k.brightMagenta,f.DEFAULT_ANSI_COLORS[13]),A.ansi[14]=_(k.brightCyan,f.DEFAULT_ANSI_COLORS[14]),A.ansi[15]=_(k.brightWhite,f.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const T=Math.min(A.ansi.length-16,k.extendedAnsi.length);for(let j=0;j<T;j++)A.ansi[j+16]=_(k.extendedAnsi[j],f.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let A=0;A<this._restoreColors.ansi.length;++A)this._colors.ansi[A]=this._restoreColors.ansi[A]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function _(k,A){if(k!==void 0)try{return i.css.toColor(k)}catch{}return A}f.ThemeService=w=h([r(0,u.IOptionsService)],w)},6349:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CircularList=void 0;const h=o(8460),r=o(844);class n extends r.Disposable{constructor(s){super(),this._maxLength=s,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(s){if(this._maxLength===s)return;const c=new Array(s);for(let u=0;u<Math.min(s,this.length);u++)c[u]=this._array[this._getCyclicIndex(u)];this._array=c,this._maxLength=s,this._startIndex=0}get length(){return this._length}set length(s){if(s>this._length)for(let c=this._length;c<s;c++)this._array[c]=void 0;this._length=s}get(s){return this._array[this._getCyclicIndex(s)]}set(s,c){this._array[this._getCyclicIndex(s)]=c}push(s){this._array[this._getCyclicIndex(this._length)]=s,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(s,c,...u){if(c){for(let a=s;a<this._length-c;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+c)];this._length-=c,this.onDeleteEmitter.fire({index:s,amount:c})}for(let a=this._length-1;a>=s;a--)this._array[this._getCyclicIndex(a+u.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<u.length;a++)this._array[this._getCyclicIndex(s+a)]=u[a];if(u.length&&this.onInsertEmitter.fire({index:s,amount:u.length}),this._length+u.length>this._maxLength){const a=this._length+u.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=u.length}trimStart(s){s>this._length&&(s=this._length),this._startIndex+=s,this._length-=s,this.onTrimEmitter.fire(s)}shiftElements(s,c,u){if(!(c<=0)){if(s<0||s>=this._length)throw new Error("start argument out of range");if(s+u<0)throw new Error("Cannot shift elements in list beyond index 0");if(u>0){for(let d=c-1;d>=0;d--)this.set(s+d+u,this.get(s+d));const a=s+c+u-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<c;a++)this.set(s+a+u,this.get(s+a))}}_getCyclicIndex(s){return(this._startIndex+s)%this._maxLength}}f.CircularList=n},1439:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clone=void 0,f.clone=function o(h,r=5){if(typeof h!="object")return h;const n=Array.isArray(h)?[]:{};for(const i in h)n[i]=r<=1?h[i]:h[i]&&o(h[i],r-1);return n}},8055:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.contrastRatio=f.toPaddedHex=f.rgba=f.rgb=f.css=f.color=f.channels=f.NULL_COLOR=void 0;const h=o(6114);let r=0,n=0,i=0,s=0;var c,u,a,d,m;function x(w){const _=w.toString(16);return _.length<2?"0"+_:_}function C(w,_){return w<_?(_+.05)/(w+.05):(w+.05)/(_+.05)}f.NULL_COLOR={css:"#00000000",rgba:0},(function(w){w.toCss=function(_,k,A,T){return T!==void 0?`#${x(_)}${x(k)}${x(A)}${x(T)}`:`#${x(_)}${x(k)}${x(A)}`},w.toRgba=function(_,k,A,T=255){return(_<<24|k<<16|A<<8|T)>>>0}})(c||(f.channels=c={})),(function(w){function _(k,A){return s=Math.round(255*A),[r,n,i]=m.toChannels(k.rgba),{css:c.toCss(r,n,i,s),rgba:c.toRgba(r,n,i,s)}}w.blend=function(k,A){if(s=(255&A.rgba)/255,s===1)return{css:A.css,rgba:A.rgba};const T=A.rgba>>24&255,j=A.rgba>>16&255,F=A.rgba>>8&255,$=k.rgba>>24&255,D=k.rgba>>16&255,M=k.rgba>>8&255;return r=$+Math.round((T-$)*s),n=D+Math.round((j-D)*s),i=M+Math.round((F-M)*s),{css:c.toCss(r,n,i),rgba:c.toRgba(r,n,i)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,A,T){const j=m.ensureContrastRatio(k.rgba,A.rgba,T);if(j)return m.toColor(j>>24&255,j>>16&255,j>>8&255)},w.opaque=function(k){const A=(255|k.rgba)>>>0;return[r,n,i]=m.toChannels(A),{css:c.toCss(r,n,i),rgba:A}},w.opacity=_,w.multiplyOpacity=function(k,A){return s=255&k.rgba,_(k,s*A/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}})(u||(f.color=u={})),(function(w){let _,k;if(!h.isNode){const A=document.createElement("canvas");A.width=1,A.height=1;const T=A.getContext("2d",{willReadFrequently:!0});T&&(_=T,_.globalCompositeOperation="copy",k=_.createLinearGradient(0,0,1,1))}w.toColor=function(A){if(A.match(/#[\da-f]{3,8}/i))switch(A.length){case 4:return r=parseInt(A.slice(1,2).repeat(2),16),n=parseInt(A.slice(2,3).repeat(2),16),i=parseInt(A.slice(3,4).repeat(2),16),m.toColor(r,n,i);case 5:return r=parseInt(A.slice(1,2).repeat(2),16),n=parseInt(A.slice(2,3).repeat(2),16),i=parseInt(A.slice(3,4).repeat(2),16),s=parseInt(A.slice(4,5).repeat(2),16),m.toColor(r,n,i,s);case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}const T=A.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return r=parseInt(T[1]),n=parseInt(T[2]),i=parseInt(T[3]),s=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),m.toColor(r,n,i,s);if(!_||!k)throw new Error("css.toColor: Unsupported css format");if(_.fillStyle=k,_.fillStyle=A,typeof _.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(_.fillRect(0,0,1,1),[r,n,i,s]=_.getImageData(0,0,1,1).data,s!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:c.toRgba(r,n,i,s),css:A}}})(a||(f.css=a={})),(function(w){function _(k,A,T){const j=k/255,F=A/255,$=T/255;return .2126*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.7152*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))}w.relativeLuminance=function(k){return _(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=_})(d||(f.rgb=d={})),(function(w){function _(A,T,j){const F=A>>24&255,$=A>>16&255,D=A>>8&255;let M=T>>24&255,R=T>>16&255,O=T>>8&255,z=C(d.relativeLuminance2(M,R,O),d.relativeLuminance2(F,$,D));for(;z<j&&(M>0||R>0||O>0);)M-=Math.max(0,Math.ceil(.1*M)),R-=Math.max(0,Math.ceil(.1*R)),O-=Math.max(0,Math.ceil(.1*O)),z=C(d.relativeLuminance2(M,R,O),d.relativeLuminance2(F,$,D));return(M<<24|R<<16|O<<8|255)>>>0}function k(A,T,j){const F=A>>24&255,$=A>>16&255,D=A>>8&255;let M=T>>24&255,R=T>>16&255,O=T>>8&255,z=C(d.relativeLuminance2(M,R,O),d.relativeLuminance2(F,$,D));for(;z<j&&(M<255||R<255||O<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),R=Math.min(255,R+Math.ceil(.1*(255-R))),O=Math.min(255,O+Math.ceil(.1*(255-O))),z=C(d.relativeLuminance2(M,R,O),d.relativeLuminance2(F,$,D));return(M<<24|R<<16|O<<8|255)>>>0}w.ensureContrastRatio=function(A,T,j){const F=d.relativeLuminance(A>>8),$=d.relativeLuminance(T>>8);if(C(F,$)<j){if($<F){const R=_(A,T,j),O=C(F,d.relativeLuminance(R>>8));if(O<j){const z=k(A,T,j);return O>C(F,d.relativeLuminance(z>>8))?R:z}return R}const D=k(A,T,j),M=C(F,d.relativeLuminance(D>>8));if(M<j){const R=_(A,T,j);return M>C(F,d.relativeLuminance(R>>8))?D:R}return D}},w.reduceLuminance=_,w.increaseLuminance=k,w.toChannels=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]},w.toColor=function(A,T,j,F){return{css:c.toCss(A,T,j,F),rgba:c.toRgba(A,T,j,F)}}})(m||(f.rgba=m={})),f.toPaddedHex=x,f.contrastRatio=C},8969:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreTerminal=void 0;const h=o(844),r=o(2585),n=o(4348),i=o(7866),s=o(744),c=o(7302),u=o(6975),a=o(8460),d=o(1753),m=o(1480),x=o(7994),C=o(9282),w=o(5435),_=o(5981),k=o(2660);let A=!1;class T extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event((F=>{var $;($=this._onScrollApi)===null||$===void 0||$.fire(F.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const $ in F)this.optionsService.options[$]=F[$]}constructor(F){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new n.InstantiationService,this.optionsService=this.register(new c.OptionsService(F)),this._instantiationService.setService(r.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(s.BufferService)),this._instantiationService.setService(r.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(i.LogService)),this._instantiationService.setService(r.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(u.CoreService)),this._instantiationService.setService(r.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(r.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(m.UnicodeService)),this._instantiationService.setService(r.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(x.CharsetService),this._instantiationService.setService(r.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(r.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll(($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll(($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new _.WriteBuffer((($,D)=>this._inputHandler.parse($,D)))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(F,$){this._writeBuffer.write(F,$)}writeSync(F,$){this._logService.logLevel<=r.LogLevelEnum.WARN&&!A&&(this._logService.warn("writeSync is unreliable and will be removed soon."),A=!0),this._writeBuffer.writeSync(F,$)}resize(F,$){isNaN(F)||isNaN($)||(F=Math.max(F,s.MINIMUM_COLS),$=Math.max($,s.MINIMUM_ROWS),this._bufferService.resize(F,$))}scroll(F,$=!1){this._bufferService.scroll(F,$)}scrollLines(F,$,D){this._bufferService.scrollLines(F,$,D)}scrollPages(F){this.scrollLines(F*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(F){const $=F-this._bufferService.buffer.ydisp;$!==0&&this.scrollLines($)}registerEscHandler(F,$){return this._inputHandler.registerEscHandler(F,$)}registerDcsHandler(F,$){return this._inputHandler.registerDcsHandler(F,$)}registerCsiHandler(F,$){return this._inputHandler.registerCsiHandler(F,$)}registerOscHandler(F,$){return this._inputHandler.registerOscHandler(F,$)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let F=!1;const $=this.optionsService.rawOptions.windowsPty;$&&$.buildNumber!==void 0&&$.buildNumber!==void 0?F=$.backend==="conpty"&&$.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(F=!0),F?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const F=[];F.push(this.onLineFeed(C.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},(()=>((0,C.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)((()=>{for(const $ of F)$.dispose()}))}}}f.CoreTerminal=T},8460:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.forwardEvent=f.EventEmitter=void 0,f.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===o)return void this._listeners.splice(h,1)}}})),this._event}fire(o,h){const r=[];for(let n=0;n<this._listeners.length;n++)r.push(this._listeners[n]);for(let n=0;n<r.length;n++)r[n].call(void 0,o,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},f.forwardEvent=function(o,h){return o((r=>h.fire(r)))}},5435:function(y,f,o){var h=this&&this.__decorate||function(z,B,P,U){var W,K=arguments.length,Y=K<3?B:U===null?U=Object.getOwnPropertyDescriptor(B,P):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(z,B,P,U);else for(var X=z.length-1;X>=0;X--)(W=z[X])&&(Y=(K<3?W(Y):K>3?W(B,P,Y):W(B,P))||Y);return K>3&&Y&&Object.defineProperty(B,P,Y),Y},r=this&&this.__param||function(z,B){return function(P,U){B(P,U,z)}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputHandler=f.WindowsOptionsReportType=void 0;const n=o(2584),i=o(7116),s=o(2015),c=o(844),u=o(482),a=o(8437),d=o(8460),m=o(643),x=o(511),C=o(3734),w=o(2585),_=o(6242),k=o(6351),A=o(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},j=131072;function F(z,B){if(z>24)return B.setWinLines||!1;switch(z){case 1:return!!B.restoreWin;case 2:return!!B.minimizeWin;case 3:return!!B.setWinPosition;case 4:return!!B.setWinSizePixels;case 5:return!!B.raiseWin;case 6:return!!B.lowerWin;case 7:return!!B.refreshWin;case 8:return!!B.setWinSizeChars;case 9:return!!B.maximizeWin;case 10:return!!B.fullscreenWin;case 11:return!!B.getWinState;case 13:return!!B.getWinPosition;case 14:return!!B.getWinSizePixels;case 15:return!!B.getScreenSizePixels;case 16:return!!B.getCellSizePixels;case 18:return!!B.getWinSizeChars;case 19:return!!B.getScreenSizeChars;case 20:return!!B.getIconTitle;case 21:return!!B.getWinTitle;case 22:return!!B.pushTitle;case 23:return!!B.popTitle;case 24:return!!B.setWinLines}return!1}var $;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})($||(f.WindowsOptionsReportType=$={}));let D=0;class M extends c.Disposable{getAttrData(){return this._curAttrData}constructor(B,P,U,W,K,Y,X,q,J=new s.EscapeSequenceParser){super(),this._bufferService=B,this._charsetService=P,this._coreService=U,this._logService=W,this._optionsService=K,this._oscLinkService=Y,this._coreMouseService=X,this._unicodeService=q,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new u.StringToUtf32,this._utf8Decoder=new u.Utf8ToUtf32,this._workCell=new x.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new R(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((V=>this._activeBuffer=V.activeBuffer))),this._parser.setCsiHandlerFallback(((V,Q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(V),params:Q.toArray()})})),this._parser.setEscHandlerFallback((V=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(V)})})),this._parser.setExecuteHandlerFallback((V=>{this._logService.debug("Unknown EXECUTE code: ",{code:V})})),this._parser.setOscHandlerFallback(((V,Q,ne)=>{this._logService.debug("Unknown OSC code: ",{identifier:V,action:Q,data:ne})})),this._parser.setDcsHandlerFallback(((V,Q,ne)=>{Q==="HOOK"&&(ne=ne.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(V),action:Q,payload:ne})})),this._parser.setPrintHandler(((V,Q,ne)=>this.print(V,Q,ne))),this._parser.registerCsiHandler({final:"@"},(V=>this.insertChars(V))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(V=>this.scrollLeft(V))),this._parser.registerCsiHandler({final:"A"},(V=>this.cursorUp(V))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(V=>this.scrollRight(V))),this._parser.registerCsiHandler({final:"B"},(V=>this.cursorDown(V))),this._parser.registerCsiHandler({final:"C"},(V=>this.cursorForward(V))),this._parser.registerCsiHandler({final:"D"},(V=>this.cursorBackward(V))),this._parser.registerCsiHandler({final:"E"},(V=>this.cursorNextLine(V))),this._parser.registerCsiHandler({final:"F"},(V=>this.cursorPrecedingLine(V))),this._parser.registerCsiHandler({final:"G"},(V=>this.cursorCharAbsolute(V))),this._parser.registerCsiHandler({final:"H"},(V=>this.cursorPosition(V))),this._parser.registerCsiHandler({final:"I"},(V=>this.cursorForwardTab(V))),this._parser.registerCsiHandler({final:"J"},(V=>this.eraseInDisplay(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(V=>this.eraseInDisplay(V,!0))),this._parser.registerCsiHandler({final:"K"},(V=>this.eraseInLine(V,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(V=>this.eraseInLine(V,!0))),this._parser.registerCsiHandler({final:"L"},(V=>this.insertLines(V))),this._parser.registerCsiHandler({final:"M"},(V=>this.deleteLines(V))),this._parser.registerCsiHandler({final:"P"},(V=>this.deleteChars(V))),this._parser.registerCsiHandler({final:"S"},(V=>this.scrollUp(V))),this._parser.registerCsiHandler({final:"T"},(V=>this.scrollDown(V))),this._parser.registerCsiHandler({final:"X"},(V=>this.eraseChars(V))),this._parser.registerCsiHandler({final:"Z"},(V=>this.cursorBackwardTab(V))),this._parser.registerCsiHandler({final:"`"},(V=>this.charPosAbsolute(V))),this._parser.registerCsiHandler({final:"a"},(V=>this.hPositionRelative(V))),this._parser.registerCsiHandler({final:"b"},(V=>this.repeatPrecedingCharacter(V))),this._parser.registerCsiHandler({final:"c"},(V=>this.sendDeviceAttributesPrimary(V))),this._parser.registerCsiHandler({prefix:">",final:"c"},(V=>this.sendDeviceAttributesSecondary(V))),this._parser.registerCsiHandler({final:"d"},(V=>this.linePosAbsolute(V))),this._parser.registerCsiHandler({final:"e"},(V=>this.vPositionRelative(V))),this._parser.registerCsiHandler({final:"f"},(V=>this.hVPosition(V))),this._parser.registerCsiHandler({final:"g"},(V=>this.tabClear(V))),this._parser.registerCsiHandler({final:"h"},(V=>this.setMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(V=>this.setModePrivate(V))),this._parser.registerCsiHandler({final:"l"},(V=>this.resetMode(V))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(V=>this.resetModePrivate(V))),this._parser.registerCsiHandler({final:"m"},(V=>this.charAttributes(V))),this._parser.registerCsiHandler({final:"n"},(V=>this.deviceStatus(V))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(V=>this.deviceStatusPrivate(V))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(V=>this.softReset(V))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(V=>this.setCursorStyle(V))),this._parser.registerCsiHandler({final:"r"},(V=>this.setScrollRegion(V))),this._parser.registerCsiHandler({final:"s"},(V=>this.saveCursor(V))),this._parser.registerCsiHandler({final:"t"},(V=>this.windowOptions(V))),this._parser.registerCsiHandler({final:"u"},(V=>this.restoreCursor(V))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(V=>this.insertColumns(V))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(V=>this.deleteColumns(V))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(V=>this.selectProtected(V))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(V=>this.requestMode(V,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(V=>this.requestMode(V,!1))),this._parser.setExecuteHandler(n.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(n.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(n.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(n.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(n.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(n.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(n.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(n.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(n.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(n.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new _.OscHandler((V=>(this.setTitle(V),this.setIconName(V),!0)))),this._parser.registerOscHandler(1,new _.OscHandler((V=>this.setIconName(V)))),this._parser.registerOscHandler(2,new _.OscHandler((V=>this.setTitle(V)))),this._parser.registerOscHandler(4,new _.OscHandler((V=>this.setOrReportIndexedColor(V)))),this._parser.registerOscHandler(8,new _.OscHandler((V=>this.setHyperlink(V)))),this._parser.registerOscHandler(10,new _.OscHandler((V=>this.setOrReportFgColor(V)))),this._parser.registerOscHandler(11,new _.OscHandler((V=>this.setOrReportBgColor(V)))),this._parser.registerOscHandler(12,new _.OscHandler((V=>this.setOrReportCursorColor(V)))),this._parser.registerOscHandler(104,new _.OscHandler((V=>this.restoreIndexedColor(V)))),this._parser.registerOscHandler(110,new _.OscHandler((V=>this.restoreFgColor(V)))),this._parser.registerOscHandler(111,new _.OscHandler((V=>this.restoreBgColor(V)))),this._parser.registerOscHandler(112,new _.OscHandler((V=>this.restoreCursorColor(V)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const V in i.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:V},(()=>this.selectCharset("("+V))),this._parser.registerEscHandler({intermediates:")",final:V},(()=>this.selectCharset(")"+V))),this._parser.registerEscHandler({intermediates:"*",final:V},(()=>this.selectCharset("*"+V))),this._parser.registerEscHandler({intermediates:"+",final:V},(()=>this.selectCharset("+"+V))),this._parser.registerEscHandler({intermediates:"-",final:V},(()=>this.selectCharset("-"+V))),this._parser.registerEscHandler({intermediates:".",final:V},(()=>this.selectCharset("."+V))),this._parser.registerEscHandler({intermediates:"/",final:V},(()=>this.selectCharset("/"+V)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((V=>(this._logService.error("Parsing error: ",V),V))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler(((V,Q)=>this.requestStatusString(V,Q))))}_preserveStack(B,P,U,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=B,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=U,this._parseStack.position=W}_logSlowResolvingAsync(B){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([B,new Promise(((P,U)=>setTimeout((()=>U("#SLOW_TIMEOUT")),5e3)))]).catch((P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(B,P){let U,W=this._activeBuffer.x,K=this._activeBuffer.y,Y=0;const X=this._parseStack.paused;if(X){if(U=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(U),U;W=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,B.length>j&&(Y=this._parseStack.position+j)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof B=="string"?` "${B}"`:` "${Array.prototype.map.call(B,(q=>String.fromCharCode(q))).join("")}"`),typeof B=="string"?B.split("").map((q=>q.charCodeAt(0))):B),this._parseBuffer.length<B.length&&this._parseBuffer.length<j&&(this._parseBuffer=new Uint32Array(Math.min(B.length,j))),X||this._dirtyRowTracker.clearRange(),B.length>j)for(let q=Y;q<B.length;q+=j){const J=q+j<B.length?q+j:B.length,V=typeof B=="string"?this._stringDecoder.decode(B.substring(q,J),this._parseBuffer):this._utf8Decoder.decode(B.subarray(q,J),this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,V))return this._preserveStack(W,K,V,q),this._logSlowResolvingAsync(U),U}else if(!X){const q=typeof B=="string"?this._stringDecoder.decode(B,this._parseBuffer):this._utf8Decoder.decode(B,this._parseBuffer);if(U=this._parser.parse(this._parseBuffer,q))return this._preserveStack(W,K,q,0),this._logSlowResolvingAsync(U),U}this._activeBuffer.x===W&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(B,P,U){let W,K;const Y=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,q=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,V=this._coreService.modes.insertMode,Q=this._curAttrData;let ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&U-P>0&&ne.getWidth(this._activeBuffer.x-1)===2&&ne.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Q.fg,Q.bg,Q.extended);for(let ie=P;ie<U;++ie){if(W=B[ie],K=this._unicodeService.wcwidth(W),W<127&&Y){const me=Y[String.fromCharCode(W)];me&&(W=me.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,u.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=q){if(J){for(;this._activeBuffer.x<q;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,1,Q.fg,Q.bg,Q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=q-1,K===2)continue}if(V&&(ne.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(Q),Q),ne.getWidth(q-1)===2&&ne.setCellFromCodePoint(q-1,m.NULL_CELL_CODE,m.NULL_CELL_WIDTH,Q.fg,Q.bg,Q.extended)),ne.setCellFromCodePoint(this._activeBuffer.x++,W,K,Q.fg,Q.bg,Q.extended),K>0)for(;--K;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,0,Q.fg,Q.bg,Q.extended)}else ne.getWidth(this._activeBuffer.x-1)?ne.addCodepointToCell(this._activeBuffer.x-1,W):ne.addCodepointToCell(this._activeBuffer.x-2,W)}U-P>0&&(ne.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<q&&U-P>0&&ne.getWidth(this._activeBuffer.x)===0&&!ne.hasContent(this._activeBuffer.x)&&ne.setCellFromCodePoint(this._activeBuffer.x,0,1,Q.fg,Q.bg,Q.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(B,P){return B.final!=="t"||B.prefix||B.intermediates?this._parser.registerCsiHandler(B,P):this._parser.registerCsiHandler(B,(U=>!F(U.params[0],this._optionsService.rawOptions.windowOptions)||P(U)))}registerDcsHandler(B,P){return this._parser.registerDcsHandler(B,new k.DcsHandler(P))}registerEscHandler(B,P){return this._parser.registerEscHandler(B,P)}registerOscHandler(B,P){return this._parser.registerOscHandler(B,new _.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var B;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||B===void 0)&&B.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const B=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-B),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(B=this._bufferService.cols-1){this._activeBuffer.x=Math.min(B,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(B,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=B,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=B,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(B,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+B,this._activeBuffer.y+P)}cursorUp(B){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,B.params[0]||1)):this._moveCursor(0,-(B.params[0]||1)),!0}cursorDown(B){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,B.params[0]||1)):this._moveCursor(0,B.params[0]||1),!0}cursorForward(B){return this._moveCursor(B.params[0]||1,0),!0}cursorBackward(B){return this._moveCursor(-(B.params[0]||1),0),!0}cursorNextLine(B){return this.cursorDown(B),this._activeBuffer.x=0,!0}cursorPrecedingLine(B){return this.cursorUp(B),this._activeBuffer.x=0,!0}cursorCharAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(B){return this._setCursor(B.length>=2?(B.params[1]||1)-1:0,(B.params[0]||1)-1),!0}charPosAbsolute(B){return this._setCursor((B.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(B){return this._moveCursor(B.params[0]||1,0),!0}linePosAbsolute(B){return this._setCursor(this._activeBuffer.x,(B.params[0]||1)-1),!0}vPositionRelative(B){return this._moveCursor(0,B.params[0]||1),!0}hVPosition(B){return this.cursorPosition(B),!0}tabClear(B){const P=B.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(B){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=B.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(B){const P=B.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(B,P,U,W=!1,K=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);Y.replaceCells(P,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),W&&(Y.isWrapped=!1)}_resetBufferLine(B,P=!1){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);U&&(U.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+B),U.isWrapped=!1)}eraseInDisplay(B,P=!1){let U;switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);U<this._bufferService.rows;U++)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(U);break;case 1:for(U=this._activeBuffer.y,this._dirtyRowTracker.markDirty(U),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(U=this._bufferService.rows,this._dirtyRowTracker.markDirty(U-1);U--;)this._resetBufferLine(U,P);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(B,P=!1){switch(this._restrictCursor(this._bufferService.cols),B.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;P--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(B){this._restrictCursor();let P=B.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const U=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;P--;)this._activeBuffer.lines.splice(U,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,B.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(B){let P=B.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(B){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=B.params[0]||1;for(let U=this._activeBuffer.scrollTop;U<=this._activeBuffer.scrollBottom;++U){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);W.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(B){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(B.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(B){if(!this._parser.precedingCodepoint)return!0;const P=B.params[0]||1,U=new Uint32Array(P);for(let W=0;W<P;++W)U[W]=this._parser.precedingCodepoint;return this.print(U,0,U.length),!0}sendDeviceAttributesPrimary(B){return B.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(n.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(n.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(B){return B.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(n.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(n.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(B.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(n.C0.ESC+"[>83;40003;0c")),!0}_is(B){return(this._optionsService.rawOptions.termName+"").indexOf(B)===0}setMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),this._charsetService.setgCharset(1,i.DEFAULT_CHARSET),this._charsetService.setgCharset(2,i.DEFAULT_CHARSET),this._charsetService.setgCharset(3,i.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(B){for(let P=0;P<B.length;P++)switch(B.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),B.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(B,P){const U=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:K}=this._coreMouseService,Y=this._coreService,{buffers:X,cols:q}=this._bufferService,{active:J,alt:V}=X,Q=this._optionsService.rawOptions,ne=Se=>Se?1:2,ie=B.params[0];return me=ie,pe=P?ie===2?4:ie===4?ne(Y.modes.insertMode):ie===12?3:ie===20?ne(Q.convertEol):0:ie===1?ne(U.applicationCursorKeys):ie===3?Q.windowOptions.setWinLines?q===80?2:q===132?1:0:0:ie===6?ne(U.origin):ie===7?ne(U.wraparound):ie===8?3:ie===9?ne(W==="X10"):ie===12?ne(Q.cursorBlink):ie===25?ne(!Y.isCursorHidden):ie===45?ne(U.reverseWraparound):ie===66?ne(U.applicationKeypad):ie===67?4:ie===1e3?ne(W==="VT200"):ie===1002?ne(W==="DRAG"):ie===1003?ne(W==="ANY"):ie===1004?ne(U.sendFocus):ie===1005?4:ie===1006?ne(K==="SGR"):ie===1015?4:ie===1016?ne(K==="SGR_PIXELS"):ie===1048?1:ie===47||ie===1047||ie===1049?ne(J===V):ie===2004?ne(U.bracketedPasteMode):0,Y.triggerDataEvent(`${n.C0.ESC}[${P?"":"?"}${me};${pe}$y`),!0;var me,pe}_updateAttrColor(B,P,U,W,K){return P===2?(B|=50331648,B&=-16777216,B|=C.AttributeData.fromColorRGB([U,W,K])):P===5&&(B&=-50331904,B|=33554432|255&U),B}_extractColor(B,P,U){const W=[0,0,-1,0,0,0];let K=0,Y=0;do{if(W[Y+K]=B.params[P+Y],B.hasSubParams(P+Y)){const X=B.getSubParams(P+Y);let q=0;do W[1]===5&&(K=1),W[Y+q+1+K]=X[q];while(++q<X.length&&q+Y+1+K<W.length);break}if(W[1]===5&&Y+K>=2||W[1]===2&&Y+K>=5)break;W[1]&&(K=1)}while(++Y+P<B.length&&Y+K<W.length);for(let X=2;X<W.length;++X)W[X]===-1&&(W[X]=0);switch(W[0]){case 38:U.fg=this._updateAttrColor(U.fg,W[1],W[3],W[4],W[5]);break;case 48:U.bg=this._updateAttrColor(U.bg,W[1],W[3],W[4],W[5]);break;case 58:U.extended=U.extended.clone(),U.extended.underlineColor=this._updateAttrColor(U.extended.underlineColor,W[1],W[3],W[4],W[5])}return Y}_processUnderline(B,P){P.extended=P.extended.clone(),(!~B||B>5)&&(B=1),P.extended.underlineStyle=B,P.fg|=268435456,B===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(B){B.fg=a.DEFAULT_ATTR_DATA.fg,B.bg=a.DEFAULT_ATTR_DATA.bg,B.extended=B.extended.clone(),B.extended.underlineStyle=0,B.extended.underlineColor&=-67108864,B.updateExtended()}charAttributes(B){if(B.length===1&&B.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=B.length;let U;const W=this._curAttrData;for(let K=0;K<P;K++)U=B.params[K],U>=30&&U<=37?(W.fg&=-50331904,W.fg|=16777216|U-30):U>=40&&U<=47?(W.bg&=-50331904,W.bg|=16777216|U-40):U>=90&&U<=97?(W.fg&=-50331904,W.fg|=16777224|U-90):U>=100&&U<=107?(W.bg&=-50331904,W.bg|=16777224|U-100):U===0?this._processSGR0(W):U===1?W.fg|=134217728:U===3?W.bg|=67108864:U===4?(W.fg|=268435456,this._processUnderline(B.hasSubParams(K)?B.getSubParams(K)[0]:1,W)):U===5?W.fg|=536870912:U===7?W.fg|=67108864:U===8?W.fg|=1073741824:U===9?W.fg|=2147483648:U===2?W.bg|=134217728:U===21?this._processUnderline(2,W):U===22?(W.fg&=-134217729,W.bg&=-134217729):U===23?W.bg&=-67108865:U===24?(W.fg&=-268435457,this._processUnderline(0,W)):U===25?W.fg&=-536870913:U===27?W.fg&=-67108865:U===28?W.fg&=-1073741825:U===29?W.fg&=2147483647:U===39?(W.fg&=-67108864,W.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):U===49?(W.bg&=-67108864,W.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):U===38||U===48||U===58?K+=this._extractColor(B,K,W):U===53?W.bg|=1073741824:U===55?W.bg&=-1073741825:U===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):U===100?(W.fg&=-67108864,W.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0}deviceStatus(B){switch(B.params[0]){case 5:this._coreService.triggerDataEvent(`${n.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[${P};${U}R`)}return!0}deviceStatusPrivate(B){if(B.params[0]===6){const P=this._activeBuffer.y+1,U=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${n.C0.ESC}[?${P};${U}R`)}return!0}softReset(B){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(B){const P=B.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const U=P%2==1;return this._optionsService.options.cursorBlink=U,!0}setScrollRegion(B){const P=B.params[0]||1;let U;return(B.length<2||(U=B.params[1])>this._bufferService.rows||U===0)&&(U=this._bufferService.rows),U>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0}windowOptions(B){if(!F(B.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=B.length>1?B.params[1]:0;switch(B.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire($.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire($.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${n.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(B){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(B){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(B){return this._windowTitle=B,this._onTitleChange.fire(B),!0}setIconName(B){return this._iconName=B,!0}setOrReportIndexedColor(B){const P=[],U=B.split(";");for(;U.length>1;){const W=U.shift(),K=U.shift();if(/^\d+$/.exec(W)){const Y=parseInt(W);if(O(Y))if(K==="?")P.push({type:0,index:Y});else{const X=(0,A.parseColor)(K);X&&P.push({type:1,index:Y,color:X})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(B){const P=B.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(B,P){this._getCurrentLinkId()&&this._finishHyperlink();const U=B.split(":");let W;const K=U.findIndex((Y=>Y.startsWith("id=")));return K!==-1&&(W=U[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(B,P){const U=B.split(";");for(let W=0;W<U.length&&!(P>=this._specialColors.length);++W,++P)if(U[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const K=(0,A.parseColor)(U[W]);K&&this._onColor.fire([{type:1,index:this._specialColors[P],color:K}])}return!0}setOrReportFgColor(B){return this._setOrReportSpecialColor(B,0)}setOrReportBgColor(B){return this._setOrReportSpecialColor(B,1)}setOrReportCursorColor(B){return this._setOrReportSpecialColor(B,2)}restoreIndexedColor(B){if(!B)return this._onColor.fire([{type:2}]),!0;const P=[],U=B.split(";");for(let W=0;W<U.length;++W)if(/^\d+$/.exec(U[W])){const K=parseInt(U[W]);O(K)&&P.push({type:2,index:K})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(B){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(B){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(B){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),!0}selectCharset(B){return B.length!==2?(this.selectDefaultCharset(),!0):(B[0]==="/"||this._charsetService.setgCharset(T[B[0]],i.CHARSETS[B[1]]||i.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const B=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,B,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(B){return this._charsetService.setgLevel(B),!0}screenAlignmentPattern(){const B=new x.CellData;B.content=4194373,B.fg=this._curAttrData.fg,B.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const U=this._activeBuffer.ybase+this._activeBuffer.y+P,W=this._activeBuffer.lines.get(U);W&&(W.fill(B),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(B,P){const U=this._bufferService.buffer,W=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${n.C0.ESC}${K}${n.C0.ESC}\\`),!0))(B==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:B==='"p'?'P1$r61;1"p':B==="r"?`P1$r${U.scrollTop+1};${U.scrollBottom+1}r`:B==="m"?"P1$r0m":B===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(B,P){this._dirtyRowTracker.markRangeDirty(B,P)}}f.InputHandler=M;let R=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,B){z>B&&(D=z,z=B,B=D),z<this.start&&(this.start=z),B>this.end&&(this.end=B)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function O(z){return 0<=z&&z<256}R=h([r(0,w.IBufferService)],R)},844:(y,f)=>{function o(h){for(const r of h)r.dispose();h.length=0}Object.defineProperty(f,"__esModule",{value:!0}),f.getDisposeArrayDisposable=f.disposeArray=f.toDisposable=f.MutableDisposable=f.Disposable=void 0,f.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const r=this._disposables.indexOf(h);r!==-1&&this._disposables.splice(r,1)}},f.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var r;this._isDisposed||h===this._value||((r=this._value)===null||r===void 0||r.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},f.toDisposable=function(h){return{dispose:h}},f.disposeArray=o,f.getDisposeArrayDisposable=function(h){return{dispose:()=>o(h)}}},1505:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FourKeyMap=f.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(r,n,i){this._data[r]||(this._data[r]={}),this._data[r][n]=i}get(r,n){return this._data[r]?this._data[r][n]:void 0}clear(){this._data={}}}f.TwoKeyMap=o,f.FourKeyMap=class{constructor(){this._data=new o}set(h,r,n,i,s){this._data.get(h,r)||this._data.set(h,r,new o),this._data.get(h,r).set(n,i,s)}get(h,r,n,i){var s;return(s=this._data.get(h,r))===null||s===void 0?void 0:s.get(n,i)}clear(){this._data.clear()}}},6114:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isChromeOS=f.isLinux=f.isWindows=f.isIphone=f.isIpad=f.isMac=f.getSafariVersion=f.isSafari=f.isLegacyEdge=f.isFirefox=f.isNode=void 0,f.isNode=typeof navigator>"u";const o=f.isNode?"node":navigator.userAgent,h=f.isNode?"node":navigator.platform;f.isFirefox=o.includes("Firefox"),f.isLegacyEdge=o.includes("Edge"),f.isSafari=/^((?!chrome|android).)*safari/i.test(o),f.getSafariVersion=function(){if(!f.isSafari)return 0;const r=o.match(/Version\/(\d+)/);return r===null||r.length<2?0:parseInt(r[1])},f.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),f.isIpad=h==="iPad",f.isIphone=h==="iPhone",f.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),f.isLinux=h.indexOf("Linux")>=0,f.isChromeOS=/\bCrOS\b/.test(o)},6106:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SortedList=void 0;let o=0;f.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(o=this._search(this._getKey(h)),this._array.splice(o,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const r=this._getKey(h);if(r===void 0||(o=this._search(r),o===-1)||this._getKey(this._array[o])!==r)return!1;do if(this._array[o]===h)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===r);return!1}*getKeyIterator(h){if(this._array.length!==0&&(o=this._search(h),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===h))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===h)}forEachByKey(h,r){if(this._array.length!==0&&(o=this._search(h),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===h))do r(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===h)}values(){return[...this._array].values()}_search(h){let r=0,n=this._array.length-1;for(;n>=r;){let i=r+n>>1;const s=this._getKey(this._array[i]);if(s>h)n=i-1;else{if(!(s<h)){for(;i>0&&this._getKey(this._array[i-1])===h;)i--;return i}r=i+1}}return r}}},7226:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DebouncedIdleTask=f.IdleTaskQueue=f.PriorityTaskQueue=void 0;const h=o(6114);class r{constructor(){this._tasks=[],this._i=0}enqueue(s){this._tasks.push(s),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(s){this._idleCallback=void 0;let c=0,u=0,a=s.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(c=Date.now(),this._tasks[this._i]()||this._i++,c=Math.max(1,Date.now()-c),u=Math.max(c,u),d=s.timeRemaining(),1.5*u>d)return a-c<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-c))}ms`),void this._start();a=d}this.clear()}}class n extends r{_requestCallback(s){return setTimeout((()=>s(this._createDeadline(16))))}_cancelCallback(s){clearTimeout(s)}_createDeadline(s){const c=Date.now()+s;return{timeRemaining:()=>Math.max(0,c-Date.now())}}}f.PriorityTaskQueue=n,f.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends r{_requestCallback(i){return requestIdleCallback(i)}_cancelCallback(i){cancelIdleCallback(i)}}:n,f.DebouncedIdleTask=class{constructor(){this._queue=new f.IdleTaskQueue}set(i){this._queue.clear(),this._queue.enqueue(i)}flush(){this._queue.flush()}}},9282:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.updateWindowsModeWrappedState=void 0;const h=o(643);f.updateWindowsModeWrappedState=function(r){const n=r.buffer.lines.get(r.buffer.ybase+r.buffer.y-1),i=n?.get(r.cols-1),s=r.buffer.lines.get(r.buffer.ybase+r.buffer.y);s&&i&&(s.isWrapped=i[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&i[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExtendedAttrs=f.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(n){return[n>>>16&255,n>>>8&255,255&n]}static fromColorRGB(n){return(255&n[0])<<16|(255&n[1])<<8|255&n[2]}clone(){const n=new o;return n.fg=this.fg,n.bg=this.bg,n.extended=this.extended.clone(),n}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}f.AttributeData=o;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(n){this._ext=n}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(n){this._ext&=-469762049,this._ext|=n<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(n){this._ext&=-67108864,this._ext|=67108863&n}get urlId(){return this._urlId}set urlId(n){this._urlId=n}constructor(n=0,i=0){this._ext=0,this._urlId=0,this._ext=n,this._urlId=i}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}f.ExtendedAttrs=h},9092:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Buffer=f.MAX_BUFFER_SIZE=void 0;const h=o(6349),r=o(7226),n=o(3734),i=o(8437),s=o(4634),c=o(511),u=o(643),a=o(4863),d=o(7116);f.MAX_BUFFER_SIZE=4294967295,f.Buffer=class{constructor(m,x,C){this._hasScrollback=m,this._optionsService=x,this._bufferService=C,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=i.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=c.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),this._whitespaceCell=c.CellData.fromCharData([0,u.WHITESPACE_CELL_CHAR,u.WHITESPACE_CELL_WIDTH,u.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new r.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(m){return m?(this._nullCell.fg=m.fg,this._nullCell.bg=m.bg,this._nullCell.extended=m.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new n.ExtendedAttrs),this._nullCell}getWhitespaceCell(m){return m?(this._whitespaceCell.fg=m.fg,this._whitespaceCell.bg=m.bg,this._whitespaceCell.extended=m.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new n.ExtendedAttrs),this._whitespaceCell}getBlankLine(m,x){return new i.BufferLine(this._bufferService.cols,this.getNullCell(m),x)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const m=this.ybase+this.y-this.ydisp;return m>=0&&m<this._rows}_getCorrectBufferLength(m){if(!this._hasScrollback)return m;const x=m+this._optionsService.rawOptions.scrollback;return x>f.MAX_BUFFER_SIZE?f.MAX_BUFFER_SIZE:x}fillViewportRows(m){if(this.lines.length===0){m===void 0&&(m=i.DEFAULT_ATTR_DATA);let x=this._rows;for(;x--;)this.lines.push(this.getBlankLine(m))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(m,x){const C=this.getNullCell(i.DEFAULT_ATTR_DATA);let w=0;const _=this._getCorrectBufferLength(x);if(_>this.lines.maxLength&&(this.lines.maxLength=_),this.lines.length>0){if(this._cols<m)for(let A=0;A<this.lines.length;A++)w+=+this.lines.get(A).resize(m,C);let k=0;if(this._rows<x)for(let A=this._rows;A<x;A++)this.lines.length<x+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new i.BufferLine(m,C)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new i.BufferLine(m,C)));else for(let A=this._rows;A>x;A--)this.lines.length>x+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(_<this.lines.maxLength){const A=this.lines.length-_;A>0&&(this.lines.trimStart(A),this.ybase=Math.max(this.ybase-A,0),this.ydisp=Math.max(this.ydisp-A,0),this.savedY=Math.max(this.savedY-A,0)),this.lines.maxLength=_}this.x=Math.min(this.x,m-1),this.y=Math.min(this.y,x-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,m-1),this.scrollTop=0}if(this.scrollBottom=x-1,this._isReflowEnabled&&(this._reflow(m,x),this._cols>m))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(m,C);this._cols=m,this._rows=x,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let m=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,m=!1);let x=0;for(;this._memoryCleanupPosition<this.lines.length;)if(x+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),x>100)return!0;return m}get _isReflowEnabled(){const m=this._optionsService.rawOptions.windowsPty;return m&&m.buildNumber?this._hasScrollback&&m.backend==="conpty"&&m.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(m,x){this._cols!==m&&(m>this._cols?this._reflowLarger(m,x):this._reflowSmaller(m,x))}_reflowLarger(m,x){const C=(0,s.reflowLargerGetLinesToRemove)(this.lines,this._cols,m,this.ybase+this.y,this.getNullCell(i.DEFAULT_ATTR_DATA));if(C.length>0){const w=(0,s.reflowLargerCreateNewLayout)(this.lines,C);(0,s.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(m,x,w.countRemoved)}}_reflowLargerAdjustViewport(m,x,C){const w=this.getNullCell(i.DEFAULT_ATTR_DATA);let _=C;for(;_-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<x&&this.lines.push(new i.BufferLine(m,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-C,0)}_reflowSmaller(m,x){const C=this.getNullCell(i.DEFAULT_ATTR_DATA),w=[];let _=0;for(let k=this.lines.length-1;k>=0;k--){let A=this.lines.get(k);if(!A||!A.isWrapped&&A.getTrimmedLength()<=m)continue;const T=[A];for(;A.isWrapped&&k>0;)A=this.lines.get(--k),T.unshift(A);const j=this.ybase+this.y;if(j>=k&&j<k+T.length)continue;const F=T[T.length-1].getTrimmedLength(),$=(0,s.reflowSmallerGetNewLineLengths)(T,this._cols,m),D=$.length-T.length;let M;M=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const R=[];for(let W=0;W<D;W++){const K=this.getBlankLine(i.DEFAULT_ATTR_DATA,!0);R.push(K)}R.length>0&&(w.push({start:k+T.length+_,newLines:R}),_+=R.length),T.push(...R);let O=$.length-1,z=$[O];z===0&&(O--,z=$[O]);let B=T.length-D-1,P=F;for(;B>=0;){const W=Math.min(P,z);if(T[O]===void 0)break;if(T[O].copyCellsFrom(T[B],P-W,z-W,W,!0),z-=W,z===0&&(O--,z=$[O]),P-=W,P===0){B--;const K=Math.max(B,0);P=(0,s.getWrappedLineTrimmedLength)(T,K,this._cols)}}for(let W=0;W<T.length;W++)$[W]<m&&T[W].setCell($[W],C);let U=D-M;for(;U-- >0;)this.ybase===0?this.y<x-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+_)-x&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+x-1)}if(w.length>0){const k=[],A=[];for(let O=0;O<this.lines.length;O++)A.push(this.lines.get(O));const T=this.lines.length;let j=T-1,F=0,$=w[F];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+_);let D=0;for(let O=Math.min(this.lines.maxLength-1,T+_-1);O>=0;O--)if($&&$.start>j+D){for(let z=$.newLines.length-1;z>=0;z--)this.lines.set(O--,$.newLines[z]);O++,k.push({index:j+1,amount:$.newLines.length}),D+=$.newLines.length,$=w[++F]}else this.lines.set(O,A[j--]);let M=0;for(let O=k.length-1;O>=0;O--)k[O].index+=M,this.lines.onInsertEmitter.fire(k[O]),M+=k[O].amount;const R=Math.max(0,T+_-this.lines.maxLength);R>0&&this.lines.onTrimEmitter.fire(R)}}translateBufferLineToString(m,x,C=0,w){const _=this.lines.get(m);return _?_.translateToString(x,C,w):""}getWrappedRangeForLine(m){let x=m,C=m;for(;x>0&&this.lines.get(x).isWrapped;)x--;for(;C+1<this.lines.length&&this.lines.get(C+1).isWrapped;)C++;return{first:x,last:C}}setupTabStops(m){for(m!=null?this.tabs[m]||(m=this.prevStop(m)):(this.tabs={},m=0);m<this._cols;m+=this._optionsService.rawOptions.tabStopWidth)this.tabs[m]=!0}prevStop(m){for(m==null&&(m=this.x);!this.tabs[--m]&&m>0;);return m>=this._cols?this._cols-1:m<0?0:m}nextStop(m){for(m==null&&(m=this.x);!this.tabs[++m]&&m<this._cols;);return m>=this._cols?this._cols-1:m<0?0:m}clearMarkers(m){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].line===m&&(this.markers[x].dispose(),this.markers.splice(x--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let m=0;m<this.markers.length;m++)this.markers[m].dispose(),this.markers.splice(m--,1);this._isClearing=!1}addMarker(m){const x=new a.Marker(m);return this.markers.push(x),x.register(this.lines.onTrim((C=>{x.line-=C,x.line<0&&x.dispose()}))),x.register(this.lines.onInsert((C=>{x.line>=C.index&&(x.line+=C.amount)}))),x.register(this.lines.onDelete((C=>{x.line>=C.index&&x.line<C.index+C.amount&&x.dispose(),x.line>C.index&&(x.line-=C.amount)}))),x.register(x.onDispose((()=>this._removeMarker(x)))),x}_removeMarker(m){this._isClearing||this.markers.splice(this.markers.indexOf(m),1)}}},8437:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLine=f.DEFAULT_ATTR_DATA=void 0;const h=o(3734),r=o(511),n=o(643),i=o(482);f.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let s=0;class c{constructor(a,d,m=!1){this.isWrapped=m,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const x=d||r.CellData.fromCharData([0,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE]);for(let C=0;C<a;++C)this.setCell(C,x);this.length=a}get(a){const d=this._data[3*a+0],m=2097151&d;return[this._data[3*a+1],2097152&d?this._combined[a]:m?(0,i.stringFromCodePoint)(m):"",d>>22,2097152&d?this._combined[a].charCodeAt(this._combined[a].length-1):m]}set(a,d){this._data[3*a+1]=d[n.CHAR_DATA_ATTR_INDEX],d[n.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=d[1],this._data[3*a+0]=2097152|a|d[n.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=d[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[n.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const d=this._data[3*a+0];return 2097152&d?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&d}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const d=this._data[3*a+0];return 2097152&d?this._combined[a]:2097151&d?(0,i.stringFromCodePoint)(2097151&d):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,d){return s=3*a,d.content=this._data[s+0],d.fg=this._data[s+1],d.bg=this._data[s+2],2097152&d.content&&(d.combinedData=this._combined[a]),268435456&d.bg&&(d.extended=this._extendedAttrs[a]),d}setCell(a,d){2097152&d.content&&(this._combined[a]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[a]=d.extended),this._data[3*a+0]=d.content,this._data[3*a+1]=d.fg,this._data[3*a+2]=d.bg}setCellFromCodePoint(a,d,m,x,C,w){268435456&C&&(this._extendedAttrs[a]=w),this._data[3*a+0]=d|m<<22,this._data[3*a+1]=x,this._data[3*a+2]=C}addCodepointToCell(a,d){let m=this._data[3*a+0];2097152&m?this._combined[a]+=(0,i.stringFromCodePoint)(d):(2097151&m?(this._combined[a]=(0,i.stringFromCodePoint)(2097151&m)+(0,i.stringFromCodePoint)(d),m&=-2097152,m|=2097152):m=d|4194304,this._data[3*a+0]=m)}insertCells(a,d,m,x){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs),d<this.length-a){const C=new r.CellData;for(let w=this.length-a-d-1;w>=0;--w)this.setCell(a+d+w,this.loadCell(a+w,C));for(let w=0;w<d;++w)this.setCell(a+w,m)}else for(let C=a;C<this.length;++C)this.setCell(C,m);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs)}deleteCells(a,d,m,x){if(a%=this.length,d<this.length-a){const C=new r.CellData;for(let w=0;w<this.length-a-d;++w)this.setCell(a+w,this.loadCell(a+d+w,C));for(let w=this.length-d;w<this.length;++w)this.setCell(w,m)}else for(let C=a;C<this.length;++C)this.setCell(C,m);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs)}replaceCells(a,d,m,x,C=!1){if(C)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs);a<d&&a<this.length;)this.isProtected(a)||this.setCell(a,m),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,x?.fg||0,x?.bg||0,x?.extended||new h.ExtendedAttrs);a<d&&a<this.length;)this.setCell(a++,m)}resize(a,d){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const m=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*m)this._data=new Uint32Array(this._data.buffer,0,m);else{const x=new Uint32Array(m);x.set(this._data),this._data=x}for(let x=this.length;x<a;++x)this.setCell(x,d)}else{this._data=this._data.subarray(0,m);const x=Object.keys(this._combined);for(let w=0;w<x.length;w++){const _=parseInt(x[w],10);_>=a&&delete this._combined[_]}const C=Object.keys(this._extendedAttrs);for(let w=0;w<C.length;w++){const _=parseInt(C[w],10);_>=a&&delete this._extendedAttrs[_]}}return this.length=a,4*m*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,d=!1){if(d)for(let m=0;m<this.length;++m)this.isProtected(m)||this.setCell(m,a);else{this._combined={},this._extendedAttrs={};for(let m=0;m<this.length;++m)this.setCell(m,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const d in a._combined)this._combined[d]=a._combined[d];this._extendedAttrs={};for(const d in a._extendedAttrs)this._extendedAttrs[d]=a._extendedAttrs[d];this.isWrapped=a.isWrapped}clone(){const a=new c(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const d in this._combined)a._combined[d]=this._combined[d];for(const d in this._extendedAttrs)a._extendedAttrs[d]=this._extendedAttrs[d];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}getNoBgTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0]||50331648&this._data[3*a+2])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,d,m,x,C){const w=a._data;if(C)for(let k=x-1;k>=0;k--){for(let A=0;A<3;A++)this._data[3*(m+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[m+k]=a._extendedAttrs[d+k])}else for(let k=0;k<x;k++){for(let A=0;A<3;A++)this._data[3*(m+k)+A]=w[3*(d+k)+A];268435456&w[3*(d+k)+2]&&(this._extendedAttrs[m+k]=a._extendedAttrs[d+k])}const _=Object.keys(a._combined);for(let k=0;k<_.length;k++){const A=parseInt(_[k],10);A>=d&&(this._combined[A-d+m]=a._combined[A])}}translateToString(a=!1,d=0,m=this.length){a&&(m=Math.min(m,this.getTrimmedLength()));let x="";for(;d<m;){const C=this._data[3*d+0],w=2097151&C;x+=2097152&C?this._combined[d]:w?(0,i.stringFromCodePoint)(w):n.WHITESPACE_CELL_CHAR,d+=C>>22||1}return x}}f.BufferLine=c},4841:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getRangeLength=void 0,f.getRangeLength=function(o,h){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return h*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(y,f)=>{function o(h,r,n){if(r===h.length-1)return h[r].getTrimmedLength();const i=!h[r].hasContent(n-1)&&h[r].getWidth(n-1)===1,s=h[r+1].getWidth(0)===2;return i&&s?n-1:n}Object.defineProperty(f,"__esModule",{value:!0}),f.getWrappedLineTrimmedLength=f.reflowSmallerGetNewLineLengths=f.reflowLargerApplyNewLayout=f.reflowLargerCreateNewLayout=f.reflowLargerGetLinesToRemove=void 0,f.reflowLargerGetLinesToRemove=function(h,r,n,i,s){const c=[];for(let u=0;u<h.length-1;u++){let a=u,d=h.get(++a);if(!d.isWrapped)continue;const m=[h.get(u)];for(;a<h.length&&d.isWrapped;)m.push(d),d=h.get(++a);if(i>=u&&i<a){u+=m.length-1;continue}let x=0,C=o(m,x,r),w=1,_=0;for(;w<m.length;){const A=o(m,w,r),T=A-_,j=n-C,F=Math.min(T,j);m[x].copyCellsFrom(m[w],_,C,F,!1),C+=F,C===n&&(x++,C=0),_+=F,_===A&&(w++,_=0),C===0&&x!==0&&m[x-1].getWidth(n-1)===2&&(m[x].copyCellsFrom(m[x-1],n-1,C++,1,!1),m[x-1].setCell(n-1,s))}m[x].replaceCells(C,n,s);let k=0;for(let A=m.length-1;A>0&&(A>x||m[A].getTrimmedLength()===0);A--)k++;k>0&&(c.push(u+m.length-k),c.push(k)),u+=m.length-1}return c},f.reflowLargerCreateNewLayout=function(h,r){const n=[];let i=0,s=r[i],c=0;for(let u=0;u<h.length;u++)if(s===u){const a=r[++i];h.onDeleteEmitter.fire({index:u-c,amount:a}),u+=a-1,c+=a,s=r[++i]}else n.push(u);return{layout:n,countRemoved:c}},f.reflowLargerApplyNewLayout=function(h,r){const n=[];for(let i=0;i<r.length;i++)n.push(h.get(r[i]));for(let i=0;i<n.length;i++)h.set(i,n[i]);h.length=r.length},f.reflowSmallerGetNewLineLengths=function(h,r,n){const i=[],s=h.map(((d,m)=>o(h,m,r))).reduce(((d,m)=>d+m));let c=0,u=0,a=0;for(;a<s;){if(s-a<n){i.push(s-a);break}c+=n;const d=o(h,u,r);c>d&&(c-=d,u++);const m=h[u].getWidth(c-1)===2;m&&c--;const x=m?n-1:n;i.push(x),a+=x}return i},f.getWrappedLineTrimmedLength=o},5295:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferSet=void 0;const h=o(8460),r=o(844),n=o(9092);class i extends r.Disposable{constructor(c,u){super(),this._optionsService=c,this._bufferService=u,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new n.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(c){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(c),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(c,u){this._normal.resize(c,u),this._alt.resize(c,u),this.setupTabStops(c)}setupTabStops(c){this._normal.setupTabStops(c),this._alt.setupTabStops(c)}}f.BufferSet=i},511:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CellData=void 0;const h=o(482),r=o(643),n=o(3734);class i extends n.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new n.ExtendedAttrs,this.combinedData=""}static fromCharData(c){const u=new i;return u.setFromCharData(c),u}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(c){this.fg=c[r.CHAR_DATA_ATTR_INDEX],this.bg=0;let u=!1;if(c[r.CHAR_DATA_CHAR_INDEX].length>2)u=!0;else if(c[r.CHAR_DATA_CHAR_INDEX].length===2){const a=c[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const d=c[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(a-55296)+d-56320+65536|c[r.CHAR_DATA_WIDTH_INDEX]<<22:u=!0}else u=!0}else this.content=c[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[r.CHAR_DATA_WIDTH_INDEX]<<22;u&&(this.combinedData=c[r.CHAR_DATA_CHAR_INDEX],this.content=2097152|c[r.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.CellData=i},643:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WHITESPACE_CELL_CODE=f.WHITESPACE_CELL_WIDTH=f.WHITESPACE_CELL_CHAR=f.NULL_CELL_CODE=f.NULL_CELL_WIDTH=f.NULL_CELL_CHAR=f.CHAR_DATA_CODE_INDEX=f.CHAR_DATA_WIDTH_INDEX=f.CHAR_DATA_CHAR_INDEX=f.CHAR_DATA_ATTR_INDEX=f.DEFAULT_EXT=f.DEFAULT_ATTR=f.DEFAULT_COLOR=void 0,f.DEFAULT_COLOR=0,f.DEFAULT_ATTR=256|f.DEFAULT_COLOR<<9,f.DEFAULT_EXT=0,f.CHAR_DATA_ATTR_INDEX=0,f.CHAR_DATA_CHAR_INDEX=1,f.CHAR_DATA_WIDTH_INDEX=2,f.CHAR_DATA_CODE_INDEX=3,f.NULL_CELL_CHAR="",f.NULL_CELL_WIDTH=1,f.NULL_CELL_CODE=0,f.WHITESPACE_CELL_CHAR=" ",f.WHITESPACE_CELL_WIDTH=1,f.WHITESPACE_CELL_CODE=32},4863:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Marker=void 0;const h=o(8460),r=o(844);class n{get id(){return this._id}constructor(s){this.line=s,this.isDisposed=!1,this._disposables=[],this._id=n._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,r.disposeArray)(this._disposables),this._disposables.length=0)}register(s){return this._disposables.push(s),s}}f.Marker=n,n._nextId=1},7116:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_CHARSET=f.CHARSETS=void 0,f.CHARSETS={},f.DEFAULT_CHARSET=f.CHARSETS.B,f.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},f.CHARSETS.A={"#":""},f.CHARSETS.B=void 0,f.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},f.CHARSETS.C=f.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},f.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.E=f.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},f.CHARSETS.H=f.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},f.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(y,f)=>{var o,h,r;Object.defineProperty(f,"__esModule",{value:!0}),f.C1_ESCAPED=f.C1=f.C0=void 0,(function(n){n.NUL="\0",n.SOH="",n.STX="",n.ETX="",n.EOT="",n.ENQ="",n.ACK="",n.BEL="\x07",n.BS="\b",n.HT="	",n.LF=`
`,n.VT="\v",n.FF="\f",n.CR="\r",n.SO="",n.SI="",n.DLE="",n.DC1="",n.DC2="",n.DC3="",n.DC4="",n.NAK="",n.SYN="",n.ETB="",n.CAN="",n.EM="",n.SUB="",n.ESC="\x1B",n.FS="",n.GS="",n.RS="",n.US="",n.SP=" ",n.DEL=""})(o||(f.C0=o={})),(function(n){n.PAD="",n.HOP="",n.BPH="",n.NBH="",n.IND="",n.NEL="",n.SSA="",n.ESA="",n.HTS="",n.HTJ="",n.VTS="",n.PLD="",n.PLU="",n.RI="",n.SS2="",n.SS3="",n.DCS="",n.PU1="",n.PU2="",n.STS="",n.CCH="",n.MW="",n.SPA="",n.EPA="",n.SOS="",n.SGCI="",n.SCI="",n.CSI="",n.ST="",n.OSC="",n.PM="",n.APC=""})(h||(f.C1=h={})),(function(n){n.ST=`${o.ESC}\\`})(r||(f.C1_ESCAPED=r={}))},7399:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.evaluateKeyboardEvent=void 0;const h=o(2584),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};f.evaluateKeyboardEvent=function(n,i,s,c){const u={type:0,cancel:!1,key:void 0},a=(n.shiftKey?1:0)|(n.altKey?2:0)|(n.ctrlKey?4:0)|(n.metaKey?8:0);switch(n.keyCode){case 0:n.key==="UIKeyInputUpArrow"?u.key=i?h.C0.ESC+"OA":h.C0.ESC+"[A":n.key==="UIKeyInputLeftArrow"?u.key=i?h.C0.ESC+"OD":h.C0.ESC+"[D":n.key==="UIKeyInputRightArrow"?u.key=i?h.C0.ESC+"OC":h.C0.ESC+"[C":n.key==="UIKeyInputDownArrow"&&(u.key=i?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(n.altKey){u.key=h.C0.ESC+h.C0.DEL;break}u.key=h.C0.DEL;break;case 9:if(n.shiftKey){u.key=h.C0.ESC+"[Z";break}u.key=h.C0.HT,u.cancel=!0;break;case 13:u.key=n.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,u.cancel=!0;break;case 27:u.key=h.C0.ESC,n.altKey&&(u.key=h.C0.ESC+h.C0.ESC),u.cancel=!0;break;case 37:if(n.metaKey)break;a?(u.key=h.C0.ESC+"[1;"+(a+1)+"D",u.key===h.C0.ESC+"[1;3D"&&(u.key=h.C0.ESC+(s?"b":"[1;5D"))):u.key=i?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(n.metaKey)break;a?(u.key=h.C0.ESC+"[1;"+(a+1)+"C",u.key===h.C0.ESC+"[1;3C"&&(u.key=h.C0.ESC+(s?"f":"[1;5C"))):u.key=i?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(n.metaKey)break;a?(u.key=h.C0.ESC+"[1;"+(a+1)+"A",s||u.key!==h.C0.ESC+"[1;3A"||(u.key=h.C0.ESC+"[1;5A")):u.key=i?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(n.metaKey)break;a?(u.key=h.C0.ESC+"[1;"+(a+1)+"B",s||u.key!==h.C0.ESC+"[1;3B"||(u.key=h.C0.ESC+"[1;5B")):u.key=i?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:n.shiftKey||n.ctrlKey||(u.key=h.C0.ESC+"[2~");break;case 46:u.key=a?h.C0.ESC+"[3;"+(a+1)+"~":h.C0.ESC+"[3~";break;case 36:u.key=a?h.C0.ESC+"[1;"+(a+1)+"H":i?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:u.key=a?h.C0.ESC+"[1;"+(a+1)+"F":i?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:n.shiftKey?u.type=2:n.ctrlKey?u.key=h.C0.ESC+"[5;"+(a+1)+"~":u.key=h.C0.ESC+"[5~";break;case 34:n.shiftKey?u.type=3:n.ctrlKey?u.key=h.C0.ESC+"[6;"+(a+1)+"~":u.key=h.C0.ESC+"[6~";break;case 112:u.key=a?h.C0.ESC+"[1;"+(a+1)+"P":h.C0.ESC+"OP";break;case 113:u.key=a?h.C0.ESC+"[1;"+(a+1)+"Q":h.C0.ESC+"OQ";break;case 114:u.key=a?h.C0.ESC+"[1;"+(a+1)+"R":h.C0.ESC+"OR";break;case 115:u.key=a?h.C0.ESC+"[1;"+(a+1)+"S":h.C0.ESC+"OS";break;case 116:u.key=a?h.C0.ESC+"[15;"+(a+1)+"~":h.C0.ESC+"[15~";break;case 117:u.key=a?h.C0.ESC+"[17;"+(a+1)+"~":h.C0.ESC+"[17~";break;case 118:u.key=a?h.C0.ESC+"[18;"+(a+1)+"~":h.C0.ESC+"[18~";break;case 119:u.key=a?h.C0.ESC+"[19;"+(a+1)+"~":h.C0.ESC+"[19~";break;case 120:u.key=a?h.C0.ESC+"[20;"+(a+1)+"~":h.C0.ESC+"[20~";break;case 121:u.key=a?h.C0.ESC+"[21;"+(a+1)+"~":h.C0.ESC+"[21~";break;case 122:u.key=a?h.C0.ESC+"[23;"+(a+1)+"~":h.C0.ESC+"[23~";break;case 123:u.key=a?h.C0.ESC+"[24;"+(a+1)+"~":h.C0.ESC+"[24~";break;default:if(!n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)if(s&&!c||!n.altKey||n.metaKey)!s||n.altKey||n.ctrlKey||n.shiftKey||!n.metaKey?n.key&&!n.ctrlKey&&!n.altKey&&!n.metaKey&&n.keyCode>=48&&n.key.length===1?u.key=n.key:n.key&&n.ctrlKey&&(n.key==="_"&&(u.key=h.C0.US),n.key==="@"&&(u.key=h.C0.NUL)):n.keyCode===65&&(u.type=1);else{const d=r[n.keyCode],m=d?.[n.shiftKey?1:0];if(m)u.key=h.C0.ESC+m;else if(n.keyCode>=65&&n.keyCode<=90){const x=n.ctrlKey?n.keyCode-64:n.keyCode+32;let C=String.fromCharCode(x);n.shiftKey&&(C=C.toUpperCase()),u.key=h.C0.ESC+C}else if(n.keyCode===32)u.key=h.C0.ESC+(n.ctrlKey?h.C0.NUL:" ");else if(n.key==="Dead"&&n.code.startsWith("Key")){let x=n.code.slice(3,4);n.shiftKey||(x=x.toLowerCase()),u.key=h.C0.ESC+x,u.cancel=!0}}else n.keyCode>=65&&n.keyCode<=90?u.key=String.fromCharCode(n.keyCode-64):n.keyCode===32?u.key=h.C0.NUL:n.keyCode>=51&&n.keyCode<=55?u.key=String.fromCharCode(n.keyCode-51+27):n.keyCode===56?u.key=h.C0.DEL:n.keyCode===219?u.key=h.C0.ESC:n.keyCode===220?u.key=h.C0.FS:n.keyCode===221&&(u.key=h.C0.GS)}return u}},482:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Utf8ToUtf32=f.StringToUtf32=f.utf32ToString=f.stringFromCodePoint=void 0,f.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},f.utf32ToString=function(o,h=0,r=o.length){let n="";for(let i=h;i<r;++i){let s=o[i];s>65535?(s-=65536,n+=String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):n+=String.fromCharCode(s)}return n},f.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,h){const r=o.length;if(!r)return 0;let n=0,i=0;if(this._interim){const s=o.charCodeAt(i++);56320<=s&&s<=57343?h[n++]=1024*(this._interim-55296)+s-56320+65536:(h[n++]=this._interim,h[n++]=s),this._interim=0}for(let s=i;s<r;++s){const c=o.charCodeAt(s);if(55296<=c&&c<=56319){if(++s>=r)return this._interim=c,n;const u=o.charCodeAt(s);56320<=u&&u<=57343?h[n++]=1024*(c-55296)+u-56320+65536:(h[n++]=c,h[n++]=u)}else c!==65279&&(h[n++]=c)}return n}},f.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,h){const r=o.length;if(!r)return 0;let n,i,s,c,u=0,a=0,d=0;if(this.interim[0]){let C=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let _,k=0;for(;(_=63&this.interim[++k])&&k<4;)w<<=6,w|=_;const A=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=A-k;for(;d<T;){if(d>=r)return 0;if(_=o[d++],(192&_)!=128){d--,C=!0;break}this.interim[k++]=_,w<<=6,w|=63&_}C||(A===2?w<128?d--:h[u++]=w:A===3?w<2048||w>=55296&&w<=57343||w===65279||(h[u++]=w):w<65536||w>1114111||(h[u++]=w)),this.interim.fill(0)}const m=r-4;let x=d;for(;x<r;){for(;!(!(x<m)||128&(n=o[x])||128&(i=o[x+1])||128&(s=o[x+2])||128&(c=o[x+3]));)h[u++]=n,h[u++]=i,h[u++]=s,h[u++]=c,x+=4;if(n=o[x++],n<128)h[u++]=n;else if((224&n)==192){if(x>=r)return this.interim[0]=n,u;if(i=o[x++],(192&i)!=128){x--;continue}if(a=(31&n)<<6|63&i,a<128){x--;continue}h[u++]=a}else if((240&n)==224){if(x>=r)return this.interim[0]=n,u;if(i=o[x++],(192&i)!=128){x--;continue}if(x>=r)return this.interim[0]=n,this.interim[1]=i,u;if(s=o[x++],(192&s)!=128){x--;continue}if(a=(15&n)<<12|(63&i)<<6|63&s,a<2048||a>=55296&&a<=57343||a===65279)continue;h[u++]=a}else if((248&n)==240){if(x>=r)return this.interim[0]=n,u;if(i=o[x++],(192&i)!=128){x--;continue}if(x>=r)return this.interim[0]=n,this.interim[1]=i,u;if(s=o[x++],(192&s)!=128){x--;continue}if(x>=r)return this.interim[0]=n,this.interim[1]=i,this.interim[2]=s,u;if(c=o[x++],(192&c)!=128){x--;continue}if(a=(7&n)<<18|(63&i)<<12|(63&s)<<6|63&c,a<65536||a>1114111)continue;h[u++]=a}}return u}}},225:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeV6=void 0;const o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let r;f.UnicodeV6=class{constructor(){if(this.version="6",!r){r=new Uint8Array(65536),r.fill(1),r[0]=0,r.fill(0,1,32),r.fill(0,127,160),r.fill(2,4352,4448),r[9001]=2,r[9002]=2,r.fill(2,11904,42192),r[12351]=1,r.fill(2,44032,55204),r.fill(2,63744,64256),r.fill(2,65040,65050),r.fill(2,65072,65136),r.fill(2,65280,65377),r.fill(2,65504,65511);for(let n=0;n<o.length;++n)r.fill(0,o[n][0],o[n][1]+1)}}wcwidth(n){return n<32?0:n<127?1:n<65536?r[n]:(function(i,s){let c,u=0,a=s.length-1;if(i<s[0][0]||i>s[a][1])return!1;for(;a>=u;)if(c=u+a>>1,i>s[c][1])u=c+1;else{if(!(i<s[c][0]))return!0;a=c-1}return!1})(n,h)?0:n>=131072&&n<=196605||n>=196608&&n<=262141?2:1}}},5981:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WriteBuffer=void 0;const h=o(8460),r=o(844);class n extends r.Disposable{constructor(s){super(),this._action=s,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(s,c){if(c!==void 0&&this._syncCalls>c)return void(this._syncCalls=0);if(this._pendingData+=s.length,this._writeBuffer.push(s),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let u;for(this._isSyncWriting=!0;u=this._writeBuffer.shift();){this._action(u);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(s,c){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=s.length,this._writeBuffer.push(s),this._callbacks.push(c),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=s.length,this._writeBuffer.push(s),this._callbacks.push(c)}_innerWrite(s=0,c=!0){const u=s||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],d=this._action(a,c);if(d){const x=C=>Date.now()-u>=12?setTimeout((()=>this._innerWrite(0,C))):this._innerWrite(u,C);return void d.catch((C=>(queueMicrotask((()=>{throw C})),Promise.resolve(!1)))).then(x)}const m=this._callbacks[this._bufferOffset];if(m&&m(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-u>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}f.WriteBuffer=n},5941:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.toRgbString=f.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function r(n,i){const s=n.toString(16),c=s.length<2?"0"+s:s;switch(i){case 4:return s[0];case 8:return c;case 12:return(c+c).slice(0,3);default:return c+c}}f.parseColor=function(n){if(!n)return;let i=n.toLowerCase();if(i.indexOf("rgb:")===0){i=i.slice(4);const s=o.exec(i);if(s){const c=s[1]?15:s[4]?255:s[7]?4095:65535;return[Math.round(parseInt(s[1]||s[4]||s[7]||s[10],16)/c*255),Math.round(parseInt(s[2]||s[5]||s[8]||s[11],16)/c*255),Math.round(parseInt(s[3]||s[6]||s[9]||s[12],16)/c*255)]}}else if(i.indexOf("#")===0&&(i=i.slice(1),h.exec(i)&&[3,6,9,12].includes(i.length))){const s=i.length/3,c=[0,0,0];for(let u=0;u<3;++u){const a=parseInt(i.slice(s*u,s*u+s),16);c[u]=s===1?a<<4:s===2?a:s===3?a>>4:a>>8}return c}},f.toRgbString=function(n,i=16){const[s,c,u]=n;return`rgb:${r(s,i)}/${r(c,i)}/${r(u,i)}`}},5770:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PAYLOAD_LIMIT=void 0,f.PAYLOAD_LIMIT=1e7},6351:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DcsHandler=f.DcsParser=void 0;const h=o(482),r=o(8742),n=o(5770),i=[];f.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=i,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=i}registerHandler(c,u){this._handlers[c]===void 0&&(this._handlers[c]=[]);const a=this._handlers[c];return a.push(u),{dispose:()=>{const d=a.indexOf(u);d!==-1&&a.splice(d,1)}}}clearHandler(c){this._handlers[c]&&delete this._handlers[c]}setHandlerFallback(c){this._handlerFb=c}reset(){if(this._active.length)for(let c=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;c>=0;--c)this._active[c].unhook(!1);this._stack.paused=!1,this._active=i,this._ident=0}hook(c,u){if(this.reset(),this._ident=c,this._active=this._handlers[c]||i,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(u);else this._handlerFb(this._ident,"HOOK",u)}put(c,u,a){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(c,u,a);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(c,u,a))}unhook(c,u=!0){if(this._active.length){let a=!1,d=this._active.length-1,m=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,a=u,m=this._stack.fallThrough,this._stack.paused=!1),!m&&a===!1){for(;d>=0&&(a=this._active[d].unhook(c),a!==!0);d--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,a;d--}for(;d>=0;d--)if(a=this._active[d].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",c);this._active=i,this._ident=0}};const s=new r.Params;s.addParam(0),f.DcsHandler=class{constructor(c){this._handler=c,this._data="",this._params=s,this._hitLimit=!1}hook(c){this._params=c.length>1||c.params[0]?c.clone():s,this._data="",this._hitLimit=!1}put(c,u,a){this._hitLimit||(this._data+=(0,h.utf32ToString)(c,u,a),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(c){let u=!1;if(this._hitLimit)u=!1;else if(c&&(u=this._handler(this._data,this._params),u instanceof Promise))return u.then((a=>(this._params=s,this._data="",this._hitLimit=!1,a)));return this._params=s,this._data="",this._hitLimit=!1,u}}},2015:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.EscapeSequenceParser=f.VT500_TRANSITION_TABLE=f.TransitionTable=void 0;const h=o(844),r=o(8742),n=o(6242),i=o(6351);class s{constructor(d){this.table=new Uint8Array(d)}setDefault(d,m){this.table.fill(d<<4|m)}add(d,m,x,C){this.table[m<<8|d]=x<<4|C}addMany(d,m,x,C){for(let w=0;w<d.length;w++)this.table[m<<8|d[w]]=x<<4|C}}f.TransitionTable=s;const c=160;f.VT500_TRANSITION_TABLE=(function(){const a=new s(4095),d=Array.apply(null,Array(256)).map(((k,A)=>A)),m=(k,A)=>d.slice(k,A),x=m(32,127),C=m(0,24);C.push(25),C.push.apply(C,m(28,32));const w=m(0,14);let _;for(_ in a.setDefault(1,0),a.addMany(x,0,2,0),w)a.addMany([24,26,153,154],_,3,0),a.addMany(m(128,144),_,3,0),a.addMany(m(144,152),_,3,0),a.add(156,_,0,0),a.add(27,_,11,1),a.add(157,_,4,8),a.addMany([152,158,159],_,0,7),a.add(155,_,11,3),a.add(144,_,11,9);return a.addMany(C,0,3,0),a.addMany(C,1,3,1),a.add(127,1,0,1),a.addMany(C,8,0,8),a.addMany(C,3,3,3),a.add(127,3,0,3),a.addMany(C,4,3,4),a.add(127,4,0,4),a.addMany(C,6,3,6),a.addMany(C,5,3,5),a.add(127,5,0,5),a.addMany(C,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(x,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(m(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(x,7,0,7),a.addMany(C,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(m(64,127),3,7,0),a.addMany(m(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(m(48,60),4,8,4),a.addMany(m(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(m(32,64),6,0,6),a.add(127,6,0,6),a.addMany(m(64,127),6,0,0),a.addMany(m(32,48),3,9,5),a.addMany(m(32,48),5,9,5),a.addMany(m(48,64),5,0,6),a.addMany(m(64,127),5,7,0),a.addMany(m(32,48),4,9,5),a.addMany(m(32,48),1,9,2),a.addMany(m(32,48),2,9,2),a.addMany(m(48,127),2,10,0),a.addMany(m(48,80),1,10,0),a.addMany(m(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(m(96,127),1,10,0),a.add(80,1,11,9),a.addMany(C,9,0,9),a.add(127,9,0,9),a.addMany(m(28,32),9,0,9),a.addMany(m(32,48),9,9,12),a.addMany(m(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(C,11,0,11),a.addMany(m(32,128),11,0,11),a.addMany(m(28,32),11,0,11),a.addMany(C,10,0,10),a.add(127,10,0,10),a.addMany(m(28,32),10,0,10),a.addMany(m(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(m(32,48),10,9,12),a.addMany(C,12,0,12),a.add(127,12,0,12),a.addMany(m(28,32),12,0,12),a.addMany(m(32,48),12,9,12),a.addMany(m(48,64),12,0,11),a.addMany(m(64,127),12,12,13),a.addMany(m(64,127),10,12,13),a.addMany(m(64,127),9,12,13),a.addMany(C,13,13,13),a.addMany(x,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(c,0,2,0),a.add(c,8,5,8),a.add(c,6,0,6),a.add(c,11,0,11),a.add(c,13,13,13),a})();class u extends h.Disposable{constructor(d=f.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new r.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(m,x,C)=>{},this._executeHandlerFb=m=>{},this._csiHandlerFb=(m,x)=>{},this._escHandlerFb=m=>{},this._errorHandlerFb=m=>m,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new n.OscParser),this._dcsParser=this.register(new i.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(d,m=[64,126]){let x=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(x=d.prefix.charCodeAt(0),x&&60>x||x>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<d.intermediates.length;++w){const _=d.intermediates.charCodeAt(w);if(32>_||_>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");x<<=8,x|=_}}if(d.final.length!==1)throw new Error("final must be a single byte");const C=d.final.charCodeAt(0);if(m[0]>C||C>m[1])throw new Error(`final must be in range ${m[0]} .. ${m[1]}`);return x<<=8,x|=C,x}identToString(d){const m=[];for(;d;)m.push(String.fromCharCode(255&d)),d>>=8;return m.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,m){const x=this._identifier(d,[48,126]);this._escHandlers[x]===void 0&&(this._escHandlers[x]=[]);const C=this._escHandlers[x];return C.push(m),{dispose:()=>{const w=C.indexOf(m);w!==-1&&C.splice(w,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,m){this._executeHandlers[d.charCodeAt(0)]=m}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,m){const x=this._identifier(d);this._csiHandlers[x]===void 0&&(this._csiHandlers[x]=[]);const C=this._csiHandlers[x];return C.push(m),{dispose:()=>{const w=C.indexOf(m);w!==-1&&C.splice(w,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,m){return this._dcsParser.registerHandler(this._identifier(d),m)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,m){return this._oscParser.registerHandler(d,m)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,m,x,C,w){this._parseStack.state=d,this._parseStack.handlers=m,this._parseStack.handlerPos=x,this._parseStack.transition=C,this._parseStack.chunkPos=w}parse(d,m,x){let C,w=0,_=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(x===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const A=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(x===!1&&T>-1){for(;T>=0&&(C=A[T](this._params),C!==!0);T--)if(C instanceof Promise)return this._parseStack.handlerPos=T,C}this._parseStack.handlers=[];break;case 4:if(x===!1&&T>-1){for(;T>=0&&(C=A[T](),C!==!0);T--)if(C instanceof Promise)return this._parseStack.handlerPos=T,C}this._parseStack.handlers=[];break;case 6:if(w=d[this._parseStack.chunkPos],C=this._dcsParser.unhook(w!==24&&w!==26,x),C)return C;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=d[this._parseStack.chunkPos],C=this._oscParser.end(w!==24&&w!==26,x),C)return C;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let A=k;A<m;++A){switch(w=d[A],_=this._transitions.table[this.currentState<<8|(w<160?w:c)],_>>4){case 2:for(let D=A+1;;++D){if(D>=m||(w=d[D])<32||w>126&&w<c){this._printHandler(d,A,D),A=D-1;break}if(++D>=m||(w=d[D])<32||w>126&&w<c){this._printHandler(d,A,D),A=D-1;break}if(++D>=m||(w=d[D])<32||w>126&&w<c){this._printHandler(d,A,D),A=D-1;break}if(++D>=m||(w=d[D])<32||w>126&&w<c){this._printHandler(d,A,D),A=D-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:A,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|w];let j=T?T.length-1:-1;for(;j>=0&&(C=T[j](this._params),C!==!0);j--)if(C instanceof Promise)return this._preserveStack(3,T,j,_,A),C;j<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++A<m&&(w=d[A])>47&&w<60);A--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const F=this._escHandlers[this._collect<<8|w];let $=F?F.length-1:-1;for(;$>=0&&(C=F[$](),C!==!0);$--)if(C instanceof Promise)return this._preserveStack(4,F,$,_,A),C;$<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let D=A+1;;++D)if(D>=m||(w=d[D])===24||w===26||w===27||w>127&&w<c){this._dcsParser.put(d,A,D),A=D-1;break}break;case 14:if(C=this._dcsParser.unhook(w!==24&&w!==26),C)return this._preserveStack(6,[],0,_,A),C;w===27&&(_|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let D=A+1;;D++)if(D>=m||(w=d[D])<32||w>127&&w<c){this._oscParser.put(d,A,D),A=D-1;break}break;case 6:if(C=this._oscParser.end(w!==24&&w!==26),C)return this._preserveStack(5,[],0,_,A),C;w===27&&(_|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&_}}}f.EscapeSequenceParser=u},6242:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OscHandler=f.OscParser=void 0;const h=o(5770),r=o(482),n=[];f.OscParser=class{constructor(){this._state=0,this._active=n,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(i,s){this._handlers[i]===void 0&&(this._handlers[i]=[]);const c=this._handlers[i];return c.push(s),{dispose:()=>{const u=c.indexOf(s);u!==-1&&c.splice(u,1)}}}clearHandler(i){this._handlers[i]&&delete this._handlers[i]}setHandlerFallback(i){this._handlerFb=i}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=n}reset(){if(this._state===2)for(let i=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;i>=0;--i)this._active[i].end(!1);this._stack.paused=!1,this._active=n,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||n,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].start();else this._handlerFb(this._id,"START")}_put(i,s,c){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(i,s,c);else this._handlerFb(this._id,"PUT",(0,r.utf32ToString)(i,s,c))}start(){this.reset(),this._state=1}put(i,s,c){if(this._state!==3){if(this._state===1)for(;s<c;){const u=i[s++];if(u===59){this._state=2,this._start();break}if(u<48||57<u)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+u-48}this._state===2&&c-s>0&&this._put(i,s,c)}}end(i,s=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let c=!1,u=this._active.length-1,a=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,c=s,a=this._stack.fallThrough,this._stack.paused=!1),!a&&c===!1){for(;u>=0&&(c=this._active[u].end(i),c!==!0);u--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,c;u--}for(;u>=0;u--)if(c=this._active[u].end(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,c}else this._handlerFb(this._id,"END",i);this._active=n,this._id=-1,this._state=0}}},f.OscHandler=class{constructor(i){this._handler=i,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(i,s,c){this._hitLimit||(this._data+=(0,r.utf32ToString)(i,s,c),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(i){let s=!1;if(this._hitLimit)s=!1;else if(i&&(s=this._handler(this._data),s instanceof Promise))return s.then((c=>(this._data="",this._hitLimit=!1,c)));return this._data="",this._hitLimit=!1,s}}},8742:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Params=void 0;const o=2147483647;class h{static fromArray(n){const i=new h;if(!n.length)return i;for(let s=Array.isArray(n[0])?1:0;s<n.length;++s){const c=n[s];if(Array.isArray(c))for(let u=0;u<c.length;++u)i.addSubParam(c[u]);else i.addParam(c)}return i}constructor(n=32,i=32){if(this.maxLength=n,this.maxSubParamsLength=i,i>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(n),this.length=0,this._subParams=new Int32Array(i),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(n),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const n=new h(this.maxLength,this.maxSubParamsLength);return n.params.set(this.params),n.length=this.length,n._subParams.set(this._subParams),n._subParamsLength=this._subParamsLength,n._subParamsIdx.set(this._subParamsIdx),n._rejectDigits=this._rejectDigits,n._rejectSubDigits=this._rejectSubDigits,n._digitIsSub=this._digitIsSub,n}toArray(){const n=[];for(let i=0;i<this.length;++i){n.push(this.params[i]);const s=this._subParamsIdx[i]>>8,c=255&this._subParamsIdx[i];c-s>0&&n.push(Array.prototype.slice.call(this._subParams,s,c))}return n}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(n){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(n<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=n>o?o:n}}addSubParam(n){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(n<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=n>o?o:n,this._subParamsIdx[this.length-1]++}}hasSubParams(n){return(255&this._subParamsIdx[n])-(this._subParamsIdx[n]>>8)>0}getSubParams(n){const i=this._subParamsIdx[n]>>8,s=255&this._subParamsIdx[n];return s-i>0?this._subParams.subarray(i,s):null}getSubParamsAll(){const n={};for(let i=0;i<this.length;++i){const s=this._subParamsIdx[i]>>8,c=255&this._subParamsIdx[i];c-s>0&&(n[i]=this._subParams.slice(s,c))}return n}addDigit(n){let i;if(this._rejectDigits||!(i=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const s=this._digitIsSub?this._subParams:this.params,c=s[i-1];s[i-1]=~c?Math.min(10*c+n,o):n}}f.Params=h},5741:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AddonManager=void 0,f.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,h){const r={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(r),h.dispose=()=>this._wrappedAddonDispose(r),h.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let h=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===o){h=r;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(h,1)}}},8771:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferApiView=void 0;const h=o(3785),r=o(511);f.BufferApiView=class{constructor(n,i){this._buffer=n,this.type=i}init(n){return this._buffer=n,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(n){const i=this._buffer.lines.get(n);if(i)return new h.BufferLineApiView(i)}getNullCell(){return new r.CellData}}},3785:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLineApiView=void 0;const h=o(511);f.BufferLineApiView=class{constructor(r){this._line=r}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(r,n){if(!(r<0||r>=this._line.length))return n?(this._line.loadCell(r,n),n):this._line.loadCell(r,new h.CellData)}translateToString(r,n,i){return this._line.translateToString(r,n,i)}}},8285:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferNamespaceApi=void 0;const h=o(8771),r=o(8460),n=o(844);class i extends n.Disposable{constructor(c){super(),this._core=c,this._onBufferChange=this.register(new r.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}f.BufferNamespaceApi=i},7975:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ParserApi=void 0,f.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,h){return this._core.registerCsiHandler(o,(r=>h(r.toArray())))}addCsiHandler(o,h){return this.registerCsiHandler(o,h)}registerDcsHandler(o,h){return this._core.registerDcsHandler(o,((r,n)=>h(r,n.toArray())))}addDcsHandler(o,h){return this.registerDcsHandler(o,h)}registerEscHandler(o,h){return this._core.registerEscHandler(o,h)}addEscHandler(o,h){return this.registerEscHandler(o,h)}registerOscHandler(o,h){return this._core.registerOscHandler(o,h)}addOscHandler(o,h){return this.registerOscHandler(o,h)}}},7090:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeApi=void 0,f.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(y,f,o){var h=this&&this.__decorate||function(a,d,m,x){var C,w=arguments.length,_=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,d,m,x);else for(var k=a.length-1;k>=0;k--)(C=a[k])&&(_=(w<3?C(_):w>3?C(d,m,_):C(d,m))||_);return w>3&&_&&Object.defineProperty(d,m,_),_},r=this&&this.__param||function(a,d){return function(m,x){d(m,x,a)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferService=f.MINIMUM_ROWS=f.MINIMUM_COLS=void 0;const n=o(8460),i=o(844),s=o(5295),c=o(2585);f.MINIMUM_COLS=2,f.MINIMUM_ROWS=1;let u=f.BufferService=class extends i.Disposable{get buffer(){return this.buffers.active}constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new n.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,f.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,f.MINIMUM_ROWS),this.buffers=this.register(new s.BufferSet(a,this))}resize(a,d){this.cols=a,this.rows=d,this.buffers.resize(a,d),this._onResize.fire({cols:a,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,d=!1){const m=this.buffer;let x;x=this._cachedBlankLine,x&&x.length===this.cols&&x.getFg(0)===a.fg&&x.getBg(0)===a.bg||(x=m.getBlankLine(a,d),this._cachedBlankLine=x),x.isWrapped=d;const C=m.ybase+m.scrollTop,w=m.ybase+m.scrollBottom;if(m.scrollTop===0){const _=m.lines.isFull;w===m.lines.length-1?_?m.lines.recycle().copyFrom(x):m.lines.push(x.clone()):m.lines.splice(w+1,0,x.clone()),_?this.isUserScrolling&&(m.ydisp=Math.max(m.ydisp-1,0)):(m.ybase++,this.isUserScrolling||m.ydisp++)}else{const _=w-C+1;m.lines.shiftElements(C+1,_-1,-1),m.lines.set(w,x.clone())}this.isUserScrolling||(m.ydisp=m.ybase),this._onScroll.fire(m.ydisp)}scrollLines(a,d,m){const x=this.buffer;if(a<0){if(x.ydisp===0)return;this.isUserScrolling=!0}else a+x.ydisp>=x.ybase&&(this.isUserScrolling=!1);const C=x.ydisp;x.ydisp=Math.max(Math.min(x.ydisp+a,x.ybase),0),C!==x.ydisp&&(d||this._onScroll.fire(x.ydisp))}};f.BufferService=u=h([r(0,c.IOptionsService)],u)},7994:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharsetService=void 0,f.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,h){this._charsets[o]=h,this.glevel===o&&(this.charset=h)}}},1753:function(y,f,o){var h=this&&this.__decorate||function(x,C,w,_){var k,A=arguments.length,T=A<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,w):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,C,w,_);else for(var j=x.length-1;j>=0;j--)(k=x[j])&&(T=(A<3?k(T):A>3?k(C,w,T):k(C,w))||T);return A>3&&T&&Object.defineProperty(C,w,T),T},r=this&&this.__param||function(x,C){return function(w,_){C(w,_,x)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreMouseService=void 0;const n=o(2585),i=o(8460),s=o(844),c={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:x=>x.button!==4&&x.action===1&&(x.ctrl=!1,x.alt=!1,x.shift=!1,!0)},VT200:{events:19,restrict:x=>x.action!==32},DRAG:{events:23,restrict:x=>x.action!==32||x.button!==3},ANY:{events:31,restrict:x=>!0}};function u(x,C){let w=(x.ctrl?16:0)|(x.shift?4:0)|(x.alt?8:0);return x.button===4?(w|=64,w|=x.action):(w|=3&x.button,4&x.button&&(w|=64),8&x.button&&(w|=128),x.action===32?w|=32:x.action!==0||C||(w|=3)),w}const a=String.fromCharCode,d={DEFAULT:x=>{const C=[u(x,!1)+32,x.col+32,x.row+32];return C[0]>255||C[1]>255||C[2]>255?"":`\x1B[M${a(C[0])}${a(C[1])}${a(C[2])}`},SGR:x=>{const C=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${u(x,!0)};${x.col};${x.row}${C}`},SGR_PIXELS:x=>{const C=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${u(x,!0)};${x.x};${x.y}${C}`}};let m=f.CoreMouseService=class extends s.Disposable{constructor(x,C){super(),this._bufferService=x,this._coreService=C,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new i.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(c))this.addProtocol(w,c[w]);for(const w of Object.keys(d))this.addEncoding(w,d[w]);this.reset()}addProtocol(x,C){this._protocols[x]=C}addEncoding(x,C){this._encodings[x]=C}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(x){if(!this._protocols[x])throw new Error(`unknown protocol "${x}"`);this._activeProtocol=x,this._onProtocolChange.fire(this._protocols[x].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(x){if(!this._encodings[x])throw new Error(`unknown encoding "${x}"`);this._activeEncoding=x}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(x){if(x.col<0||x.col>=this._bufferService.cols||x.row<0||x.row>=this._bufferService.rows||x.button===4&&x.action===32||x.button===3&&x.action!==32||x.button!==4&&(x.action===2||x.action===3)||(x.col++,x.row++,x.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,x,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(x))return!1;const C=this._encodings[this._activeEncoding](x);return C&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(C):this._coreService.triggerDataEvent(C,!0)),this._lastEvent=x,!0}explainEvents(x){return{down:!!(1&x),up:!!(2&x),drag:!!(4&x),move:!!(8&x),wheel:!!(16&x)}}_equalEvents(x,C,w){if(w){if(x.x!==C.x||x.y!==C.y)return!1}else if(x.col!==C.col||x.row!==C.row)return!1;return x.button===C.button&&x.action===C.action&&x.ctrl===C.ctrl&&x.alt===C.alt&&x.shift===C.shift}};f.CoreMouseService=m=h([r(0,n.IBufferService),r(1,n.ICoreService)],m)},6975:function(y,f,o){var h=this&&this.__decorate||function(m,x,C,w){var _,k=arguments.length,A=k<3?x:w===null?w=Object.getOwnPropertyDescriptor(x,C):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,x,C,w);else for(var T=m.length-1;T>=0;T--)(_=m[T])&&(A=(k<3?_(A):k>3?_(x,C,A):_(x,C))||A);return k>3&&A&&Object.defineProperty(x,C,A),A},r=this&&this.__param||function(m,x){return function(C,w){x(C,w,m)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreService=void 0;const n=o(1439),i=o(8460),s=o(844),c=o(2585),u=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=f.CoreService=class extends s.Disposable{constructor(m,x,C){super(),this._bufferService=m,this._logService=x,this._optionsService=C,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new i.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new i.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new i.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new i.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,n.clone)(u),this.decPrivateModes=(0,n.clone)(a)}reset(){this.modes=(0,n.clone)(u),this.decPrivateModes=(0,n.clone)(a)}triggerDataEvent(m,x=!1){if(this._optionsService.rawOptions.disableStdin)return;const C=this._bufferService.buffer;x&&this._optionsService.rawOptions.scrollOnUserInput&&C.ybase!==C.ydisp&&this._onRequestScrollToBottom.fire(),x&&this._onUserInput.fire(),this._logService.debug(`sending data "${m}"`,(()=>m.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(m)}triggerBinaryEvent(m){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${m}"`,(()=>m.split("").map((x=>x.charCodeAt(0))))),this._onBinary.fire(m))}};f.CoreService=d=h([r(0,c.IBufferService),r(1,c.ILogService),r(2,c.IOptionsService)],d)},9074:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecorationService=void 0;const h=o(8055),r=o(8460),n=o(844),i=o(6106);let s=0,c=0;class u extends n.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new i.SortedList((m=>m?.marker.line)),this._onDecorationRegistered=this.register(new r.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new r.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,n.toDisposable)((()=>this.reset())))}registerDecoration(m){if(m.marker.isDisposed)return;const x=new a(m);if(x){const C=x.marker.onDispose((()=>x.dispose()));x.onDispose((()=>{x&&(this._decorations.delete(x)&&this._onDecorationRemoved.fire(x),C.dispose())})),this._decorations.insert(x),this._onDecorationRegistered.fire(x)}return x}reset(){for(const m of this._decorations.values())m.dispose();this._decorations.clear()}*getDecorationsAtCell(m,x,C){var w,_,k;let A=0,T=0;for(const j of this._decorations.getKeyIterator(x))A=(w=j.options.x)!==null&&w!==void 0?w:0,T=A+((_=j.options.width)!==null&&_!==void 0?_:1),m>=A&&m<T&&(!C||((k=j.options.layer)!==null&&k!==void 0?k:"bottom")===C)&&(yield j)}forEachDecorationAtCell(m,x,C,w){this._decorations.forEachByKey(x,(_=>{var k,A,T;s=(k=_.options.x)!==null&&k!==void 0?k:0,c=s+((A=_.options.width)!==null&&A!==void 0?A:1),m>=s&&m<c&&(!C||((T=_.options.layer)!==null&&T!==void 0?T:"bottom")===C)&&w(_)}))}}f.DecorationService=u;class a extends n.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(m){super(),this.options=m,this.onRenderEmitter=this.register(new r.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new r.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=m.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.InstantiationService=f.ServiceCollection=void 0;const h=o(2585),r=o(8343);class n{constructor(...s){this._entries=new Map;for(const[c,u]of s)this.set(c,u)}set(s,c){const u=this._entries.get(s);return this._entries.set(s,c),u}forEach(s){for(const[c,u]of this._entries.entries())s(c,u)}has(s){return this._entries.has(s)}get(s){return this._entries.get(s)}}f.ServiceCollection=n,f.InstantiationService=class{constructor(){this._services=new n,this._services.set(h.IInstantiationService,this)}setService(i,s){this._services.set(i,s)}getService(i){return this._services.get(i)}createInstance(i,...s){const c=(0,r.getServiceDependencies)(i).sort(((d,m)=>d.index-m.index)),u=[];for(const d of c){const m=this._services.get(d.id);if(!m)throw new Error(`[createInstance] ${i.name} depends on UNKNOWN service ${d.id}.`);u.push(m)}const a=c.length>0?c[0].index:s.length;if(s.length!==a)throw new Error(`[createInstance] First service dependency of ${i.name} at position ${a+1} conflicts with ${s.length} static arguments`);return new i(...s,...u)}}},7866:function(y,f,o){var h=this&&this.__decorate||function(a,d,m,x){var C,w=arguments.length,_=w<3?d:x===null?x=Object.getOwnPropertyDescriptor(d,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,d,m,x);else for(var k=a.length-1;k>=0;k--)(C=a[k])&&(_=(w<3?C(_):w>3?C(d,m,_):C(d,m))||_);return w>3&&_&&Object.defineProperty(d,m,_),_},r=this&&this.__param||function(a,d){return function(m,x){d(m,x,a)}};Object.defineProperty(f,"__esModule",{value:!0}),f.traceCall=f.setTraceLogger=f.LogService=void 0;const n=o(844),i=o(2585),s={trace:i.LogLevelEnum.TRACE,debug:i.LogLevelEnum.DEBUG,info:i.LogLevelEnum.INFO,warn:i.LogLevelEnum.WARN,error:i.LogLevelEnum.ERROR,off:i.LogLevelEnum.OFF};let c,u=f.LogService=class extends n.Disposable{get logLevel(){return this._logLevel}constructor(a){super(),this._optionsService=a,this._logLevel=i.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),c=this}_updateLogLevel(){this._logLevel=s[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(a){for(let d=0;d<a.length;d++)typeof a[d]=="function"&&(a[d]=a[d]())}_log(a,d,m){this._evalLazyOptionalParams(m),a.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...m)}trace(a,...d){var m,x;this._logLevel<=i.LogLevelEnum.TRACE&&this._log((x=(m=this._optionsService.options.logger)===null||m===void 0?void 0:m.trace.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,a,d)}debug(a,...d){var m,x;this._logLevel<=i.LogLevelEnum.DEBUG&&this._log((x=(m=this._optionsService.options.logger)===null||m===void 0?void 0:m.debug.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.log,a,d)}info(a,...d){var m,x;this._logLevel<=i.LogLevelEnum.INFO&&this._log((x=(m=this._optionsService.options.logger)===null||m===void 0?void 0:m.info.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.info,a,d)}warn(a,...d){var m,x;this._logLevel<=i.LogLevelEnum.WARN&&this._log((x=(m=this._optionsService.options.logger)===null||m===void 0?void 0:m.warn.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.warn,a,d)}error(a,...d){var m,x;this._logLevel<=i.LogLevelEnum.ERROR&&this._log((x=(m=this._optionsService.options.logger)===null||m===void 0?void 0:m.error.bind(this._optionsService.options.logger))!==null&&x!==void 0?x:console.error,a,d)}};f.LogService=u=h([r(0,i.IOptionsService)],u),f.setTraceLogger=function(a){c=a},f.traceCall=function(a,d,m){if(typeof m.value!="function")throw new Error("not supported");const x=m.value;m.value=function(...C){if(c.logLevel!==i.LogLevelEnum.TRACE)return x.apply(this,C);c.trace(`GlyphRenderer#${x.name}(${C.map((_=>JSON.stringify(_))).join(", ")})`);const w=x.apply(this,C);return c.trace(`GlyphRenderer#${x.name} return`,w),w}}},7302:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionsService=f.DEFAULT_OPTIONS=void 0;const h=o(8460),r=o(844),n=o(6114);f.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:n.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const i=["normal","bold","100","200","300","400","500","600","700","800","900"];class s extends r.Disposable{constructor(u){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},f.DEFAULT_OPTIONS);for(const d in u)if(d in a)try{const m=u[d];a[d]=this._sanitizeAndValidateOption(d,m)}catch(m){console.error(m)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(u,a){return this.onOptionChange((d=>{d===u&&a(this.rawOptions[u])}))}onMultipleOptionChange(u,a){return this.onOptionChange((d=>{u.indexOf(d)!==-1&&a()}))}_setupOptions(){const u=d=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},a=(d,m)=>{if(!(d in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);m=this._sanitizeAndValidateOption(d,m),this.rawOptions[d]!==m&&(this.rawOptions[d]=m,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const m={get:u.bind(this,d),set:a.bind(this,d)};Object.defineProperty(this.options,d,m)}}_sanitizeAndValidateOption(u,a){switch(u){case"cursorStyle":if(a||(a=f.DEFAULT_OPTIONS[u]),!(function(d){return d==="block"||d==="underline"||d==="bar"})(a))throw new Error(`"${a}" is not a valid value for ${u}`);break;case"wordSeparator":a||(a=f.DEFAULT_OPTIONS[u]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=i.includes(a)?a:f.DEFAULT_OPTIONS[u];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${u} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${u} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${u} cannot be less than or equal to 0, value: ${a}`);break;case"rows":case"cols":if(!a&&a!==0)throw new Error(`${u} must be numeric, value: ${a}`);break;case"windowsPty":a=a??{}}return a}}f.OptionsService=s},2660:function(y,f,o){var h=this&&this.__decorate||function(s,c,u,a){var d,m=arguments.length,x=m<3?c:a===null?a=Object.getOwnPropertyDescriptor(c,u):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(s,c,u,a);else for(var C=s.length-1;C>=0;C--)(d=s[C])&&(x=(m<3?d(x):m>3?d(c,u,x):d(c,u))||x);return m>3&&x&&Object.defineProperty(c,u,x),x},r=this&&this.__param||function(s,c){return function(u,a){c(u,a,s)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkService=void 0;const n=o(2585);let i=f.OscLinkService=class{constructor(s){this._bufferService=s,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(s){const c=this._bufferService.buffer;if(s.id===void 0){const C=c.addMarker(c.ybase+c.y),w={data:s,id:this._nextId++,lines:[C]};return C.onDispose((()=>this._removeMarkerFromLink(w,C))),this._dataByLinkId.set(w.id,w),w.id}const u=s,a=this._getEntryIdKey(u),d=this._entriesWithId.get(a);if(d)return this.addLineToLink(d.id,c.ybase+c.y),d.id;const m=c.addMarker(c.ybase+c.y),x={id:this._nextId++,key:this._getEntryIdKey(u),data:u,lines:[m]};return m.onDispose((()=>this._removeMarkerFromLink(x,m))),this._entriesWithId.set(x.key,x),this._dataByLinkId.set(x.id,x),x.id}addLineToLink(s,c){const u=this._dataByLinkId.get(s);if(u&&u.lines.every((a=>a.line!==c))){const a=this._bufferService.buffer.addMarker(c);u.lines.push(a),a.onDispose((()=>this._removeMarkerFromLink(u,a)))}}getLinkData(s){var c;return(c=this._dataByLinkId.get(s))===null||c===void 0?void 0:c.data}_getEntryIdKey(s){return`${s.id};;${s.uri}`}_removeMarkerFromLink(s,c){const u=s.lines.indexOf(c);u!==-1&&(s.lines.splice(u,1),s.lines.length===0&&(s.data.id!==void 0&&this._entriesWithId.delete(s.key),this._dataByLinkId.delete(s.id)))}};f.OscLinkService=i=h([r(0,n.IBufferService)],i)},8343:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDecorator=f.getServiceDependencies=f.serviceRegistry=void 0;const o="di$target",h="di$dependencies";f.serviceRegistry=new Map,f.getServiceDependencies=function(r){return r[h]||[]},f.createDecorator=function(r){if(f.serviceRegistry.has(r))return f.serviceRegistry.get(r);const n=function(i,s,c){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(u,a,d){a[o]===a?a[h].push({id:u,index:d}):(a[h]=[{id:u,index:d}],a[o]=a)})(n,i,c)};return n.toString=()=>r,f.serviceRegistry.set(r,n),n}},2585:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IDecorationService=f.IUnicodeService=f.IOscLinkService=f.IOptionsService=f.ILogService=f.LogLevelEnum=f.IInstantiationService=f.ICharsetService=f.ICoreService=f.ICoreMouseService=f.IBufferService=void 0;const h=o(8343);var r;f.IBufferService=(0,h.createDecorator)("BufferService"),f.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),f.ICoreService=(0,h.createDecorator)("CoreService"),f.ICharsetService=(0,h.createDecorator)("CharsetService"),f.IInstantiationService=(0,h.createDecorator)("InstantiationService"),(function(n){n[n.TRACE=0]="TRACE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.OFF=5]="OFF"})(r||(f.LogLevelEnum=r={})),f.ILogService=(0,h.createDecorator)("LogService"),f.IOptionsService=(0,h.createDecorator)("OptionsService"),f.IOscLinkService=(0,h.createDecorator)("OscLinkService"),f.IUnicodeService=(0,h.createDecorator)("UnicodeService"),f.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(y,f,o)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeService=void 0;const h=o(8460),r=o(225);f.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const n=new r.UnicodeV6;this.register(n),this._active=n.version,this._activeProvider=n}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(n){if(!this._providers[n])throw new Error(`unknown Unicode version "${n}"`);this._active=n,this._activeProvider=this._providers[n],this._onChange.fire(n)}register(n){this._providers[n.version]=n}wcwidth(n){return this._activeProvider.wcwidth(n)}getStringCellWidth(n){let i=0;const s=n.length;for(let c=0;c<s;++c){let u=n.charCodeAt(c);if(55296<=u&&u<=56319){if(++c>=s)return i+this.wcwidth(u);const a=n.charCodeAt(c);56320<=a&&a<=57343?u=1024*(u-55296)+a-56320+65536:i+=this.wcwidth(a)}i+=this.wcwidth(u)}return i}}}},v={};function L(y){var f=v[y];if(f!==void 0)return f.exports;var o=v[y]={exports:{}};return g[y].call(o.exports,o,o.exports,L),o.exports}var S={};return(()=>{var y=S;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const f=L(9042),o=L(3236),h=L(844),r=L(5741),n=L(8285),i=L(7975),s=L(7090),c=["cols","rows"];class u extends h.Disposable{constructor(d){super(),this._core=this.register(new o.Terminal(d)),this._addonManager=this.register(new r.AddonManager),this._publicOptions=Object.assign({},this._core.options);const m=C=>this._core.options[C],x=(C,w)=>{this._checkReadonlyOptions(C),this._core.options[C]=w};for(const C in this._core.options){const w={get:m.bind(this,C),set:x.bind(this,C)};Object.defineProperty(this._publicOptions,C,w)}}_checkReadonlyOptions(d){if(c.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new i.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new s.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new n.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let m="none";switch(this._core.coreMouseService.activeProtocol){case"X10":m="x10";break;case"VT200":m="vt200";break;case"DRAG":m="drag";break;case"ANY":m="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:m,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const m in d)this._publicOptions[m]=d[m]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,m){this._verifyIntegers(d,m),this._core.resize(d,m)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var m,x,C;return this._checkProposedApi(),this._verifyPositiveIntegers((m=d.x)!==null&&m!==void 0?m:0,(x=d.width)!==null&&x!==void 0?x:0,(C=d.height)!==null&&C!==void 0?C:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,m,x){this._verifyIntegers(d,m,x),this._core.select(d,m,x)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,m){this._verifyIntegers(d,m),this._core.selectLines(d,m)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,m){this._core.write(d,m)}writeln(d,m){this._core.write(d),this._core.write(`\r
`,m)}paste(d){this._core.paste(d)}refresh(d,m){this._verifyIntegers(d,m),this._core.refresh(d,m)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return f}_verifyIntegers(...d){for(const m of d)if(m===1/0||isNaN(m)||m%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const m of d)if(m&&(m===1/0||isNaN(m)||m%1!=0||m<0))throw new Error("This API only accepts positive integers")}}y.Terminal=u})(),S})()))})(zh)),zh.exports}var Cx=Sx(),Fh={exports:{}},Gm;function Ex(){return Gm||(Gm=1,(function(l,b){(function(g,v){l.exports=v()})(self,(()=>(()=>{var g={};return(()=>{var v=g;Object.defineProperty(v,"__esModule",{value:!0}),v.FitAddon=void 0,v.FitAddon=class{activate(L){this._terminal=L}dispose(){}fit(){const L=this.proposeDimensions();if(!L||!this._terminal||isNaN(L.cols)||isNaN(L.rows))return;const S=this._terminal._core;this._terminal.rows===L.rows&&this._terminal.cols===L.cols||(S._renderService.clear(),this._terminal.resize(L.cols,L.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const L=this._terminal._core,S=L._renderService.dimensions;if(S.css.cell.width===0||S.css.cell.height===0)return;const y=this._terminal.options.scrollback===0?0:L.viewport.scrollBarWidth,f=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(f.getPropertyValue("height")),h=Math.max(0,parseInt(f.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),n=o-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),i=h-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(i/S.css.cell.width)),rows:Math.max(1,Math.floor(n/S.css.cell.height))}}}})(),g})()))})(Fh)),Fh.exports}var Ax=Ex(),Ph={exports:{}},Km;function kx(){return Km||(Km=1,(function(l,b){(function(g,v){l.exports=v()})(self,(()=>(()=>{var g={6:(y,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LinkComputer=f.WebLinkProvider=void 0,f.WebLinkProvider=class{constructor(h,r,n,i={}){this._terminal=h,this._regex=r,this._handler=n,this._options=i}provideLinks(h,r){const n=o.computeLink(h,this._regex,this._terminal,this._handler);r(this._addCallbacks(n))}_addCallbacks(h){return h.map((r=>(r.leave=this._options.leave,r.hover=(n,i)=>{if(this._options.hover){const{range:s}=r;this._options.hover(n,i,s)}},r)))}};class o{static computeLink(r,n,i,s){const c=new RegExp(n.source,(n.flags||"")+"g"),[u,a]=o._getWindowedLineStrings(r-1,i),d=u.join("");let m;const x=[];for(;m=c.exec(d);){const C=m[0];try{const j=new URL(C),F=decodeURI(j.toString());if(C!==F&&C+"/"!==F)continue}catch{continue}const[w,_]=o._mapStrIdx(i,a,0,m.index),[k,A]=o._mapStrIdx(i,w,_,C.length);if(w===-1||_===-1||k===-1||A===-1)continue;const T={start:{x:_+1,y:w+1},end:{x:A,y:k+1}};x.push({range:T,text:C,activate:s})}return x}static _getWindowedLineStrings(r,n){let i,s=r,c=r,u=0,a="";const d=[];if(i=n.buffer.active.getLine(r)){const m=i.translateToString(!0);if(i.isWrapped&&m[0]!==" "){for(u=0;(i=n.buffer.active.getLine(--s))&&u<2048&&(a=i.translateToString(!0),u+=a.length,d.push(a),i.isWrapped&&a.indexOf(" ")===-1););d.reverse()}for(d.push(m),u=0;(i=n.buffer.active.getLine(++c))&&i.isWrapped&&u<2048&&(a=i.translateToString(!0),u+=a.length,d.push(a),a.indexOf(" ")===-1););}return[d,s]}static _mapStrIdx(r,n,i,s){const c=r.buffer.active,u=c.getNullCell();let a=i;for(;s;){const d=c.getLine(n);if(!d)return[-1,-1];for(let m=a;m<d.length;++m){d.getCell(m,u);const x=u.getChars();if(u.getWidth()&&(s-=x.length||1,m===d.length-1&&x==="")){const C=c.getLine(n+1);C&&C.isWrapped&&(C.getCell(0,u),u.getWidth()===2&&(s+=1))}if(s<0)return[n,m]}n++,a=0}return[n,a]}}f.LinkComputer=o}},v={};function L(y){var f=v[y];if(f!==void 0)return f.exports;var o=v[y]={exports:{}};return g[y](o,o.exports,L),o.exports}var S={};return(()=>{var y=S;Object.defineProperty(y,"__esModule",{value:!0}),y.WebLinksAddon=void 0;const f=L(6),o=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function h(r,n){const i=window.open();if(i){try{i.opener=null}catch{}i.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}y.WebLinksAddon=class{constructor(r=h,n={}){this._handler=r,this._options=n}activate(r){this._terminal=r;const n=this._options,i=n.urlRegex||o;this._linkProvider=this._terminal.registerLinkProvider(new f.WebLinkProvider(this._terminal,i,this._handler,n))}dispose(){var r;(r=this._linkProvider)===null||r===void 0||r.dispose()}}})(),S})()))})(Ph)),Ph.exports}var Tx=kx();const ps=te.forwardRef((l,b)=>{const g=te.useRef(null),v=te.useRef(null),L=te.useRef(null),S=te.useRef(null),y=te.useRef(null),f=te.useRef(null),o=()=>{L.current&&(L.current.removeAllListeners(),L.current.disconnect(),L.current=null)},h=async(i,s="bash",c)=>{o();const{io:u}=await d0(async()=>{const{io:m}=await import("./index-Crsm9Fe1.js");return{io:m}},[]),a=l.socketUrl,d=u(a,{transports:["websocket"],forceNew:!0,reconnection:!1});L.current=d,d.on("connect",()=>{g.current?.clear(),s!="bash"&&g.current?.write(`\x1B[34m${i}\x1B[0m: ${s}\r
`),d.emit("terminal:start",{path:i,command:s,workspaceName:c}),g.current?.focus(),setTimeout(()=>{v.current?.fit()},100)}),d.on("terminal:log",m=>{g.current?.write(m)}),d.on("terminal:error",m=>{g.current?.write(`\x1B[31m${m}\x1B[0m`)}),d.on("terminal:exit",m=>{g.current?.write(`\r
\x1B[33mProcess exited with code ${m}\x1B[0m\r
`),m!==0&&(f.current&&f.current(m),l.onCrash&&l.onCrash(m)),y.current&&y.current(),l.onExit&&l.onExit()})};te.useImperativeHandle(b,()=>({write:i=>{g.current?.write(i)},input:i=>{if(L.current&&L.current.connected){const s=i.endsWith("\r")?i:i+"\r";L.current.emit("terminal:input",s)}else S.current&&S.current(i+"\r")},onData:i=>{S.current=i},onClose:i=>{y.current=i},onCrash:i=>{f.current=i},fit:()=>{v.current?.fit()},clear:()=>{g.current?.clear()},focus:()=>{g.current?.focus()},connect:(i,s="bash",c)=>{h(i,s,c)},disconnect:()=>{o()}})),te.useEffect(()=>{l.startingText&&g.current&&g.current.write(l.startingText)},[l.startingText]),te.useEffect(()=>{const i=s=>{s.data?.type==="PASTE_TEXT"&&s.data?.text&&l.isInteractive!==!1&&L.current&&L.current.connected&&L.current.emit("terminal:input",s.data.text)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i),o()}},[l.isInteractive]),te.useEffect(()=>{const i=g.current;if(!i)return;const s=l.isInteractive??!0;i.options.disableStdin=!s,i.options.cursorBlink=s,i.options.cursorStyle=s?"block":"underline",s?i.options.theme={...i.options.theme,cursor:"#ffffff"}:i.options.theme={...i.options.theme,cursor:"transparent"}},[l.isInteractive]);const r=i=>{L.current&&L.current.connected&&L.current.emit("terminal:input",i),S.current&&S.current(i)},n=(i,s)=>{L.current&&L.current.connected&&L.current.emit("terminal:resize",{cols:i,rows:s})};return N.jsx("div",{className:`h-full w-full ${l.className||""}`,children:N.jsx(Mx,{ref:v,terminalRef:g,onData:r,onResize:n})})});ps.displayName="InteractiveTerminal";const Mx=te.forwardRef((l,b)=>{const g=Xe.use.terminalFontSize(),v=te.useRef(null),L=te.useRef(null),S=te.useRef(null),y=te.useRef(l.onData),f=te.useRef(l.onResize);return te.useImperativeHandle(b,()=>({fit:()=>{try{S.current?.fit(),L.current&&f.current&&f.current(L.current.cols,L.current.rows)}catch{}}})),te.useEffect(()=>{y.current=l.onData},[l.onData]),te.useEffect(()=>{f.current=l.onResize},[l.onResize]),te.useEffect(()=>{if(!v.current)return;const o=new Cx.Terminal({cursorBlink:!0,allowTransparency:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:g,theme:{background:"#00000000",foreground:"#f3f4f6",cursor:"#ffffff",selectionBackground:"#374151"},convertEol:!0}),h=new Ax.FitAddon,r=new Tx.WebLinksAddon;o.loadAddon(h),o.loadAddon(r);const n=setTimeout(()=>{if(v.current){o.open(v.current);try{h.fit(),f.current&&f.current(o.cols,o.rows)}catch(s){console.warn("Fit failed on init:",s)}}},0);L.current=o,S.current=h,l.terminalRef&&(l.terminalRef.current=o),o.onData(s=>{y.current&&y.current(s)});const i=new ResizeObserver(()=>{try{h.fit(),f.current&&f.current(o.cols,o.rows)}catch{}});return i.observe(v.current),()=>{clearTimeout(n),i.disconnect(),o.dispose()}},[g]),N.jsx("div",{className:"h-full w-full overflow-hidden bg-transparent p-1",ref:v})});function Lx(l){const b=Fe.use.setWorkSpaceRunningAs(),g=te.useRef(null);return te.useEffect(()=>()=>{g.current&&g.current.disconnect()},[]),te.useEffect(()=>{const v=l.workspace.isRunningAs;v==="dev"||v==="start"?g.current&&(g.current.connect(l.workspace.info.path,`npm run ${v}`,l.workspace.info.name),g.current.onCrash(()=>{b(l.workspace.info.name,"crashed")})):v=="crashed"?g.current&&g.current.disconnect():g.current&&(g.current.disconnect(),g.current.clear())},[l.workspace.isRunningAs]),N.jsx("div",{className:`w-full h-full ${l.visible?"block":"hidden"}`,children:N.jsx(ps,{ref:g,isInteractive:!1,socketUrl:Ne.serverPath})})}function Rx(l){const b=Fe.use.setActiveTerminal(),g=Fe.use.stopWorkspaceTerminal(),v=Fe.use.setWorkSpaceRunningAs(),[L,S]=te.useState(!1),y=Fe.use.activeTerminal(),f=y===l.workspace.info.name;async function o(){if(!(L||!y))try{S(!0),await g(y),v(y,null),S(!1),b("")}catch(h){console.error(h),S(!1)}}return N.jsxs("div",{onClick:()=>b(l.workspace.info.name),className:`
                group relative flex items-center justify-between w-48 w-7 px-3 
                cursor-pointer transition-all duration-300 select-none
                rounded-t-md
                ${f?"bg-gradient-to-br from-blue-600/30 to-blue-400/30 text-white":"bg-[#111] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[N.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[N.jsx("div",{className:`
                    flex-none w-6 h-6 flex items-center justify-center rounded-md
                    transition-colors duration-300
                    ${f?"bg-blue-500/10 text-blue-400":"bg-transparent text-gray-600 group-hover:text-gray-400"}
                `,children:N.jsx("i",{className:`${l.workspace.info.fontawesomeIcon??"fas fa-terminal"} text-xs`})}),N.jsx("span",{className:"truncate text-xs font-semibold tracking-wide",children:l.workspace.info.name})]}),N.jsx("button",{onClick:h=>{h.stopPropagation(),o()},disabled:L,className:`
                    w-6 h-6 flex-none flex items-center justify-center rounded-md 
                    transition-all duration-200
                    ${f?"opacity-0 group-hover:opacity-100":"hidden"}
                    ${L?"text-blue-400 cursor-wait":"text-gray-500 hover:bg-red-500/20 hover:text-red-400"}
                `,title:"Stop Process",children:N.jsx("i",{className:`fas ${L?"fa-circle-notch animate-spin":"fa-times"} text-xs`})})]})}function Nx({whichShow:l}){const b=Fe.use.workspace();return N.jsx(N.Fragment,{children:b.map(g=>{if(g.isRunningAs!=null&&(l==="all"||l===g.info.workspace))return N.jsx(Rx,{workspace:g},g.info.name)})})}function $x({whichShow:l,isMaximized:b,onToggleMaximize:g}){const v=Fe.use.workspace(),L=Fe.use.activeTerminal();return N.jsxs("div",{className:"flex flex-col w-full h-full relative ",children:[N.jsxs("header",{className:"flex-none w-full pt-1 flex h-9 flex-wrap select-none",children:[N.jsx("button",{onClick:g,className:"w-8 px-2 cursor-pointer select-none rounded-t-md bg-[#0a0a0a]/80 text-gray-500 hover:bg-[#121212] hover:text-gray-300 flex items-center justify-center transition-colors",title:b?"Restore":"Maximize",children:N.jsx("i",{className:`fas ${b?"fa-compress":"fa-expand"}`})}),N.jsx(Nx,{whichShow:l})]}),N.jsx("div",{className:"flex-1 overflow-hidden px-4 py-1 border-t border-gray-900/80 relative",children:v.map(S=>N.jsx(Lx,{workspace:S,visible:l==="all"&&L==S.info.name&&S.isRunningAs!=null||l===S.info.workspace&&L==S.info.name&&S.isRunningAs!=null},S.info.name))})]})}function Dx({children:l,className:b}){return N.jsx("div",{className:`bg-gradient-to-b from-[#050505] to-[#191919] ${b}`,children:l})}const vo={blueIndigo:"from-blue-500 to-blue-300",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function ss(l){return l.isNotRendered||l.render!=null&&l.render==!1?null:N.jsx(Ox,{...l})}function Ox(l){const b=vo.blueIndigo,g=l.color&&vo[l.color]?vo[l.color]:l.color||b;let v=l.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg";return v=l.bg?"cursor-pointer hover:-translate-y-1 shadow-lg":v,N.jsxs("button",{disabled:l.disabled,onClick:L=>{L.stopPropagation(),!l.disabled&&l.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${v}
                ${l.className||""}
            `,children:[!l.disabled&&!l.bg&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),l.bg&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-50 blur-lg`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-50`})]}),N.jsxs("div",{className:`
                relative h-full w-full rounded bg-blue-400/10 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
            `,children:[l.bg&&N.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${g} opacity-20`}),N.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${g} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:N.jsx("i",{className:`fas ${l.icon||"fa-circle"} text-sm`})}),N.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[N.jsx("span",{className:`
                        font-bold text-md truncate transition-colors duration-300
                        ${l.disabled?"text-gray-500":l.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:l.name}),N.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${l.disabled?"text-gray-600":l.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:l.description})]})]})]},l.name)}function jx(l){const b=Fe.use.loadingWorkspace(),g=Fe.use.setWorkSpaceRunningAs(),v=Fe.use.setActiveTerminal(),L=Fe.use.stopWorkspaceTerminal(),[S,y]=te.useState(!1);return te.useEffect(()=>{b==l.info.name?y(!0):y(!1)},[b]),N.jsxs("div",{className:"flex-1 flex gap-2",children:[N.jsx(ss,{onClick:()=>{},name:"Loading",description:"...",color:"blueIndigo",icon:"fas fa-spinner animate-spin",disabled:!0,render:S}),N.jsx(ss,{onClick:async()=>{await L(l.info.name),g(l.info.name,null)},name:"App is Running",description:"Click to stop",color:"yellowOrange",icon:"fas fa-check-circle",disabled:!1,render:!S&&l.isRunningAs=="start",bg:l.isRunningAs=="start"}),N.jsx(ss,{onClick:async()=>{await L(l.info.name),g(l.info.name,null)},name:"Development Server",description:"Click to stop",color:"red",icon:"fas fa-check-circle",disabled:!1,render:!S&&l.isRunningAs=="dev",bg:l.isRunningAs=="dev"}),N.jsx(ss,{onClick:()=>{y(!0),g(l.info.name,"start"),v(l.info.name),setTimeout(()=>y(!1),1e3)},name:"Start",description:"npm run start",color:"emeraldTeal",icon:"fas fa-play",disabled:!1,render:!!(!S&&l.isRunningAs!="dev"&&l.isRunningAs!="start"&&l.isRunningAs!="crashed"&&l.info.startCommand)}),N.jsx(ss,{onClick:()=>{y(!0),g(l.info.name,"dev"),v(l.info.name),setTimeout(()=>y(!1),1e3)},name:"Dev",description:"npm run dev",color:"blueIndigo",icon:"fas fa-code",disabled:!1,render:!!(!S&&l.isRunningAs!="dev"&&l.isRunningAs!="start"&&l.isRunningAs!="crashed"&&l.info.devCommand)}),N.jsx(ss,{onClick:async()=>{L(l.info.name,!0),g(l.info.name,null)},name:"Crashed",description:"Crashed",color:"red",icon:"fas fa-code",disabled:!1,render:!S&&l.isRunningAs=="crashed",bg:!0})]})}function Ix(l){const b=Fe.use.setActiveWorkspaceOptionModal(),g=Fe.use.setShowNewTerminalWindow();return N.jsxs(Dx,{className:"rounded overflow-hidden border border-gray-800",children:[N.jsxs("header",{className:"p-2 flex items-start gap-4 bg-blue-400/10",children:[N.jsx("div",{className:"w-10 h-10 rounded flex items-center justify-center border border-white/10",children:N.jsx("i",{className:`text-xl ${l.info.fontawesomeIcon??"text-gray-400 fa fa-cube"}`})}),N.jsxs("div",{className:"flex flex-col h-12 overflow-hidden flex-1",children:[N.jsx("h3",{className:"text-base font-bold text-gray-200 group-hover:text-white leading-tight mb-1 transition-colors",children:l.info.name}),N.jsx("p",{className:"text-gray-500 group-hover:text-gray-400 text-xs truncate transition-colors",children:l.info.description})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>g(l.info),className:"w-8 h-8 rounded-lg bg-gray-800 hover:bg-blue-600 hover:text-white text-gray-500 flex items-center justify-center transition-colors",children:N.jsx("i",{className:"fas fa-terminal text-xs"})}),N.jsx("button",{onClick:()=>b(l.info),className:"group/btn flex-none w-8 h-8 rounded-lg border border-white/10 hover:border-white/30 text-gray-500 hover:text-white hover:bg-white/5 transition-all flex items-center justify-center p-0",title:"Options",children:N.jsx("i",{className:"fas fa-cog group-hover/btn:rotate-90 transition-transform duration-300 text-xs"})})]})]}),N.jsx("div",{className:"mt-auto p-3 bg-blue-400/5 flex gap-2 relative",children:N.jsx(jx,{...l})})]})}function rn(l){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:l.label}),N.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:N.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300
                    ${l.disabled?"bg-transparent cursor-not-allowed":""}
                    `,children:N.jsxs("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:`${l.icon} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),N.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:l.placeholder,value:l.value,onChange:b=>{l.onChange(b)},disabled:l.disabled})]})})})]})}const Bx=$n()(l=>({text:"",setText:b=>{l({text:b})},modal:null,title:"",message:"",banner:null,data:null,placeholder:"",callback:()=>{},showModal:(b,g,v,L,S,y,f,o)=>{l({modal:b,title:g,message:v,banner:L,callback:S,data:y,text:o||"",placeholder:f||""})},hideModal:()=>{l({modal:null,title:"",message:"",banner:null,callback:()=>{},data:null,text:"",placeholder:""})}})),Ft=Dn(Bx);function Hx(){const l=Fe.use.workspace(),b=Fe.use.activeWorkspaceOptionModal(),g=Fe.use.setActiveWorkspaceOptionModal(),v=Fe.use.updateWorkspace(),L=Fe.use.loadWorkspace(),S=Fe.use.deleteWorkspace(),y=Ft.use.showModal(),[f,o]=te.useState(null),[h,r]=te.useState(""),[n,i]=te.useState("");te.useEffect(()=>{b&&(o(b),r(b.name))},[b]);function s(){g(null),r(".")}async function c(){if(!f)return;if(f.name.length<1){i("Package name cannot be empty");return}if(!await v(f)){i("Failed to update workspace");return}await L(),s()}async function u(){if(!b)return;if(l.find(d=>d.info.name===b.name)?.isRunningAs){y("alert","Workspace is running","Please stop the workspace before deleting it");return}y("confirm",`Delete ${b.name}`,`Are you sure you want to delete ${b.name}?
It can be reverse with GIT`,"warning",async d=>{d&&(await S(b),await L(),s())})}return b?N.jsxs(On,{children:[N.jsx(jn,{close:s,title:h,description:f?.path??""}),N.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[n&&N.jsx("p",{className:"text-red-500 mb-2",children:n}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:f?.fontawesomeIcon||"",onChange:a=>{f&&o({...f,fontawesomeIcon:a.target.value.toLowerCase()})}}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:f?.description||"",onChange:a=>{f&&o({...f,description:a.target.value})}})]}),N.jsx("h4",{className:"my-4 w-full font-semibold text-gray-500 uppercase tracking-wider flex items-center",children:N.jsxs("p",{className:"flex-1 text-sm",children:[N.jsx("i",{className:"fas fa-terminal mr-2"}),N.jsx("span",{children:"Scripts & Commands"})]})}),N.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{pkg:"devCommand",label:"Dev Command",icon:"fas fa-code",placeholder:"ex: nodemon index.js"},{pkg:"startCommand",label:"Start Command",icon:"fas fa-code",placeholder:"ex: node index.js"},{pkg:"stopCommand",label:"Stop Command",icon:"fas fa-code",placeholder:"ex: npx -y kill-port 3000"},{pkg:"buildCommand",label:"Build Command",icon:"fas fa-code",placeholder:"ex: tsc"},{pkg:"cleanCommand",label:"Clean Command",icon:"fas fa-code",placeholder:"ex: rm -rf dist"},{pkg:"lintCommand",label:"Lint Command",icon:"fas fa-code",placeholder:"ex: lint ."},{pkg:"testCommand",label:"Test Command",icon:"fas fa-code",placeholder:"ex: jest"}].map(a=>N.jsx(rn,{label:a.label,icon:a.icon,placeholder:a.placeholder,value:f?.[a.pkg]||"",onChange:d=>{f&&o({...f,[a.pkg]:d.target.value})}},a.pkg))})]}),N.jsxs("footer",{className:"p-2 px-6 flex gap-4",children:[N.jsx("div",{className:"flex-1",children:N.jsxs("button",{onClick:u,className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-red-400 rounded-lg"}),N.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),N.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})}),N.jsxs("button",{onClick:s,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Qi,{onClick:c,text:"Save",icon:"fas fa-save"})]})]}):null}function zx(l){const b=Xe.use.getTemplates(),[g,v]=te.useState({project:[],database:[],services:[],opensource:[],tool:[],demo:[]}),[L,S]=te.useState("Project");return te.useEffect(()=>{if(!l.show)return;(async()=>{const f=await b(),o={project:f.project||[],database:f.database||[],services:f.services||[],opensource:f.opensource||[],tool:f.tool||[],demo:f.demo||[]};v(o)})()},[l.show]),l.show?N.jsxs(On,{width:"1200px",children:[N.jsx(jn,{close:()=>l.onClose(),title:"Select Template or Open-source App",description:"Choose a template or bundle an open-source app"}),N.jsxs("div",{className:"flex-1 flex flex-row gap-2 overflow-hidden p-2",children:[N.jsxs("div",{className:"w-52",children:[N.jsx(lo,{name:"Project",icon:"fas fa-code",activeTab:L,setActiveTab:S}),N.jsxs("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2 flex gap-2",children:[N.jsx("li",{className:"fab fa-docker"}),"Docker Apps"]}),N.jsx(lo,{name:"Database",icon:"fas fa-database",activeTab:L,setActiveTab:S}),N.jsx(lo,{name:"Services",icon:"fas fa-server",activeTab:L,setActiveTab:S}),N.jsx(lo,{name:"Open Source",icon:"fa-brands fa-github",activeTab:L,setActiveTab:S}),N.jsx(lo,{name:"Tool",icon:"fas fa-tools",activeTab:L,setActiveTab:S}),N.jsx("h2",{className:"text-sm font-bold text-gray-600 my-2 ml-2",children:"Sample Projects"}),N.jsx(lo,{name:"Demo",icon:"fas fa-cube",activeTab:L,setActiveTab:S})]}),N.jsxs("div",{className:"flex-1 w-full h-[70vh] grid grid-cols-2 lg:grid-cols-3 gap-2 overflow-y-auto content-start",children:[N.jsx(co,{show:L==="Project",project:g.project,onClick:(y,f)=>{l.onSelect(y,f)}}),N.jsx(co,{show:L==="Database",project:g.database,onClick:(y,f)=>{l.onSelect(y,f)}}),N.jsx(co,{show:L==="Services",project:g.services,onClick:(y,f)=>{l.onSelect(y,f)}}),N.jsx(co,{show:L==="Open Source",project:g.opensource,onClick:(y,f)=>{l.onSelect(y,f)}}),N.jsx(co,{show:L==="Tool",project:g.tool,onClick:(y,f)=>{l.onSelect(y,f)}}),N.jsx(co,{show:L==="Demo",project:g.demo,onClick:(y,f)=>{l.onSelect(y,f)}})]})]})]}):null}function lo({name:l,icon:b,activeTab:g,setActiveTab:v}){return N.jsxs("button",{onClick:()=>v(l),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-md font-medium transition-all duration-200 w-full text-left
                    ${g===l?"bg-gradient-to-br from-blue-600 to-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,children:[N.jsx("i",{className:`${b} w-5 text-center ${g===l?"text-blue-400":"text-gray-500 group-hover:text-gray-400"}`}),l]})}function co({project:l,onClick:b,show:g}){return g?N.jsx(N.Fragment,{children:l.map((v,L)=>N.jsx("button",{onClick:()=>b(v.name,v.type),className:"border border-white/10 min-h-[150px] rounded-lg flex p-4 hover:bg-gradient-to-br hover:from-blue-600/50 hover:to-blue-400/50 text-left w-full",children:N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("i",{className:`${v.icon} text-xl`}),N.jsx("span",{className:"text-md font-bold text-gray-200 group-hover:text-blue-400 text-base truncate",children:v.name})]}),N.jsx("div",{className:"text-sm text-white mt-1 leading-relaxed",children:v.description}),v.notes&&N.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-amber-400/90  w-fit",children:[N.jsx("i",{className:"fas fa-info-circle mt-0.5"}),N.jsx("span",{className:"font-medium opacity-90",children:v.notes})]})]})},L))}):null}function Fx({label:l,icon:b,value:g,onChange:v,options:L,placeholder:S="Select an option"}){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:l}),N.jsxs("div",{className:"relative group rounded-lg transition-all duration-300",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg opacity-0 group-focus-within:opacity-100 blur transition-opacity duration-300 -z-10"}),N.jsx("div",{className:"relative p-[1px] rounded-lg bg-gradient-to-br from-gray-700 to-gray-800 group-focus-within:from-blue-600 group-focus-within:to-blue-400 transition-colors duration-300",children:N.jsxs("div",{className:"relative bg-[#0A0A0A] rounded-[7px] flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:`${b} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),N.jsxs("select",{value:g,onChange:v,className:"appearance-none pl-3 pr-10 py-2.5 text-sm w-full bg-transparent text-gray-200 placeholder-gray-600 focus:outline-none cursor-pointer",children:[N.jsx("option",{value:"",disabled:!0,className:"bg-gray-900 text-gray-500",children:S}),L.map((y,f)=>{const o=typeof y=="string"?y:y.label,h=typeof y=="string"?y:y.value||y.path||"";return N.jsx("option",{value:h,className:"bg-[#0A0A0A] text-gray-300",children:o},f)})]}),N.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:N.jsx("i",{className:"fas fa-chevron-down text-gray-500 group-focus-within:text-blue-400 text-xs transition-colors"})})]})})]})]})}const Px={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Wx(l){const[b,g]=te.useState([]),v=Fe.use.showWorkspaceNew(),L=Fe.use.listWorkspace();return te.useEffect(()=>{v&&(async()=>{const y=await L();g(y),l.setWorkspaceCopy({...Px,path:y[0].path||""}),l.setTemplateType("")})()},[v]),N.jsxs(On,{children:[N.jsx(jn,{close:l.close,title:"New Workspace App",description:"Create a new application inside the workspace"}),N.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[l.error&&N.jsx("p",{className:"text-red-500",children:l.error}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Name (small letters)",icon:"fa fa-cube",placeholder:"Package and Folder Name",value:l.workspaceCopy?.name||"",onChange:S=>{if(!l.workspaceCopy)return;const y=S.target.value.replace(/ /g,"-");l.setWorkspaceCopy({...l.workspaceCopy,name:y.toLowerCase()})}}),N.jsx(Fx,{label:"Workspace Directory",icon:"fas fa-folder",placeholder:"Select a workspace directory",value:l.workspaceCopy?.path||"",onChange:S=>{l.workspaceCopy&&l.setWorkspaceCopy({...l.workspaceCopy,path:S.target.value})},options:b})]}),l.template===""&&N.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[N.jsx(rn,{label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon",value:l.workspaceCopy?.fontawesomeIcon||"",onChange:S=>{l.workspaceCopy&&l.setWorkspaceCopy({...l.workspaceCopy,fontawesomeIcon:S.target.value.toLowerCase()})}}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) description",value:l.workspaceCopy?.description||"",onChange:S=>{l.workspaceCopy&&l.setWorkspaceCopy({...l.workspaceCopy,description:S.target.value})}})]}),N.jsxs("div",{className:"flex flex-row w-[50%] gap-2 mb-2 mt-4",children:[N.jsx(rn,{label:"Template (Optional)",icon:"fas fa-cube",placeholder:"Template name",value:l.template,disabled:!0,onChange:()=>{}}),N.jsxs("button",{onClick:()=>l.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]})]}),N.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[N.jsxs("button",{onClick:l.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Qi,{onClick:l.createWorkspace,text:"Create New App",icon:"fas fa-plus"})]})]})}function Ux(l){return N.jsxs(On,{children:[N.jsx(jn,{close:l.close,title:"Add Open Source App",description:"Bundle it with your monorepo to allow developer to use the same tool as you do"}),N.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex flex-row w-full gap-6 px-5 mb-5",children:[N.jsx(rn,{label:"App Name",icon:"fas fa-cube",placeholder:"",value:l.template,onChange:b=>{l.setTemplate(b.target.value)},disabled:!0}),N.jsxs("button",{onClick:()=>l.setShowTemplateSelector(!0),className:"group relative h-10 mt-6  px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-lg"}),N.jsx("span",{className:"relative z-10 flex items-center gap-2",children:"Select"})]})]}),N.jsxs("div",{className:"text-sm text-gray-500 ml-4",children:[N.jsx("p",{children:"* it will be place in opensource folder"}),N.jsx("p",{children:"** Requires Docker installed in your system to run"})]})]}),N.jsxs("footer",{className:"p-2 px-6 pb-4 flex justify-end gap-4",children:[N.jsxs("button",{onClick:l.close,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Qi,{onClick:l.createWorkspace,text:"Add New Tool",icon:"fas fa-plus"})]})]})}const Vx={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:""};function Gx(){const[l,b]=te.useState(Vx),[g,v]=te.useState(""),L=Fe.use.showWorkspaceNew(),S=Fe.use.workspace(),y=Fe.use.createNewWorkspace(),f=Fe.use.setShowWorkspaceNew(),o=Fe.use.setShowNewTerminalWindow(),h=Fe.use.loadWorkspace(),r=Fe.use.setWorkspaceTemplate(),n=Fe.use.setWorkspaceLoading(),[i,s]=te.useState(""),[c,u]=te.useState(!1),[a,d]=te.useState("");te.useEffect(()=>{L&&(s(""),d(""),v(""))},[L]);function m(){v(""),f(!1)}async function x(){if(a!=="tool"&&a!=="opensource-app"&&(l.name===""||l.path==="")){v("Package name and path is required");return}if(S.find(_=>_.info.name===l.name)){v("Package name already exist");return}const w={name:l.name,path:l.path+"/"+l.name,devCommand:l.devCommand,fontawesomeIcon:l.fontawesomeIcon||void 0,description:l.description||void 0};try{n(!0),f(!1),a!="tool"&&a!="opensource-app"?await y(w)&&(i?await r(w,i):(n(!1),o(w))):await r(w,i)}catch{if(window.isLoadingCancelled)return;v("Failed to create workspace")}h(),n(!1)}return L?N.jsxs(N.Fragment,{children:[a=="tool"||a=="opensource-app"?N.jsx(Ux,{template:i,setTemplate:s,setShowTemplateSelector:u,close:m,createWorkspace:x}):N.jsx(Wx,{createWorkspace:x,templateType:a,setTemplateType:d,workspaceCopy:l,setWorkspaceCopy:b,setShowTemplateSelector:u,template:i,close:m,error:g,setError:v}),N.jsx(zx,{show:c,onClose:()=>u(!1),onSelect:(C,w)=>{s(C),d(w),u(!1)}})]}):null}function Kx(){const l=Fe.use.showNewTerminalWindow(),b=Fe.use.setShowNewTerminalWindow(),g=te.useRef(null),v=()=>{g.current&&g.current.disconnect(),b(null)};return te.useEffect(()=>{if(l&&g.current){const L=setTimeout(()=>{g.current?.connect(l.path,"bash",l.name),g.current?.focus()},50);return()=>clearTimeout(L)}},[l]),l?N.jsxs(On,{width:"800px",children:[N.jsx(jn,{close:v,title:l.name||"",description:l.description||"",icon:"fas fa-terminal text-blue-500 text-xl"}),N.jsx("div",{className:"flex-1 overflow-hidden p-2",children:N.jsx(ps,{ref:g,isInteractive:!0,className:"h-full",socketUrl:Ne.serverPath})})]}):null}const Ym={default:"from-blue-600/50 to-blue-400/50",neon:"from-blue-600/50 to-purple-600/50",blueIndigo:"from-blue-500 to-indigo-600",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function Wh(l){const b=l.spanTo??"toLeft",g=Ym[l.color]??l.color??Ym.default,v={toLeft:{btnFlex:"flex-row justify-end",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toRight:{btnFlex:"flex-row justify-start",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toTop:{btnFlex:"flex-col justify-end",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"},toBottom:{btnFlex:"flex-col justify-start",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"}},L=v[b]||v.toLeft;return N.jsx("button",{onClick:S=>{S.stopPropagation(),l.onClick()},className:`group fixed z-50 flex items-center ${L.btnFlex}`,style:{top:l.top,right:l.right,bottom:l.bottom,left:l.left},children:N.jsx("div",{className:`relative flex items-center ${L.contentFlex} p-[1px] rounded-xl bg-gradient-to-r ${g} transition-transform duration-300 group-hover:scale-105`,children:N.jsxs("div",{className:`relative flex items-center ${L.contentFlex} bg-[#0A0A0A] rounded-xl px-4 py-3 transition-colors duration-300 group-hover:bg-[#0A0A0A]/80`,children:[N.jsx("i",{className:l.icon+" w-6 h-6 text-xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"}),N.jsx("span",{className:`font-bold overflow-hidden transition-all duration-300 whitespace-nowrap text-white ${L.textAnim}`,children:l.text})]})})})}function Yx(){const l=Xe.use.hideShowFileFolder(),b=Fe.use.workspace(),g=Fe.use.setShowWorkspaceNew(),v=Xe.use.setShowTerminal(),[L,S]=te.useState(!0);async function y(){try{let f=[];b.filter(n=>n.isRunningAs!=null).length>0&&(f=b.filter(n=>n.isRunningAs==null).map(n=>n.info.path)),(await l(L,f)).isHidden?S(!1):S(!0)}catch(f){console.error("Error toggling files visibility:",f)}}return N.jsxs(N.Fragment,{children:[N.jsx(Wh,{onClick:()=>v(!0),bottom:184,right:32,icon:"fa-solid fa-terminal",text:"Root Terminal"}),N.jsx(Wh,{onClick:()=>y(),bottom:104,right:32,icon:L?"fa-solid fa-eye-slash":"fa-solid fa-eye",text:L?"Hide Files":"Show Files"}),N.jsx(Wh,{onClick:()=>g(!0),bottom:24,right:32,icon:"fa-solid fa-plus",text:"Add Workspace App"})]})}function Xx(){const l=Fe.use.workspaceLoading(),b=Fe.use.loadMessage();return l?N.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-black/50",children:N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("i",{className:"fas fa-spinner animate-spin text-4xl text-blue-500"}),N.jsx("p",{className:"text-white text-lg font-bold",children:b}),N.jsx("button",{className:"mt-2 text-white text-md w-24 font-bold bg-red-500 p-2 rounded hover:bg-red-600",onClick:()=>{window.isLoadingCancelled=!0},children:"Cancel"})]})}):null}function qx(l){const{whichShow:b,setWhichShow:g}=l,v=Fe.use.workspaceDirs();return N.jsxs("div",{className:"absolute top-2 left-2 z-20 bg-gradient-to-br from-blue-600/10 to-blue-400/10 px-2 rounded-lg",children:[N.jsx("button",{onClick:()=>g("all"),className:`${b==="all"?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-xs font-bold uppercase rounded-lg transition-all text-white`,children:"Show All Apps"}),v.map(L=>N.jsx("button",{onClick:()=>g(L),className:`${b===L?"bg-gradient-to-br from-blue-600 to-blue-400":""} px-4 py-1 text-xs font-bold uppercase rounded-lg transition-all text-white`,children:L},L))]})}function Zx(l){const[b,g]=te.useState("all"),v=Fe.use.workspace(),L=Fe.use.loadWorkspace(),[S,y]=te.useState(null),[f,o]=te.useState(!1),[h,r]=te.useState(!1);te.useEffect(()=>{l.isVisible&&L()},[l.isVisible]),te.useEffect(()=>{y(b==="all"?v:v.filter(s=>s.info.workspace===b));const i=v.find(s=>s.isRunningAs!=null);o(!!i)},[b,v]);const n=te.useMemo(()=>{if(!S)return[];const i={};return S.forEach(c=>{const u=c.info.workspace||"other";i[u]||(i[u]=[]),i[u].push(c)}),Object.keys(i).sort((c,u)=>c.localeCompare(u)).map(c=>({dir:c,items:i[c].sort((u,a)=>u.info.name.localeCompare(a.info.name))}))},[S]);return N.jsxs(N.Fragment,{children:[l.isVisible&&N.jsx(qx,{whichShow:b,setWhichShow:g}),N.jsxs("div",{className:`relative flex flex-col w-full h-full ${l.isVisible?"":"hidden"}`,children:[N.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[N.jsx("div",{className:`flex-1 min-h-0 flex overflow-hidden p-2 transition-all duration-500 ${h?"opacity-0 h-0 pointer-events-none":"opacity-100"}`,children:N.jsx("div",{className:"px-3 flex-1 xl:grid-cols-4 pt-9 h-full overflow-y-auto grid grid-cols-1 md:grid-cols-2 content-start gap-4 relative transition-all duration-300",children:n.map(i=>N.jsxs("div",{className:"contents",children:[b==="all"&&N.jsx("div",{className:"col-span-full",children:N.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-white/80",children:i.dir})}),i.items.map(s=>N.jsx("div",{children:N.jsx(Ix,{...s})},s.info.name))]},i.dir))})}),N.jsx("div",{className:`transition-all duration-500 ease-in-out
                            ${f?`${h?"h-[calc(100vh-100px)]":"h-[40%]"} opacity-100 translate-y-0`:"h-0 opacity-0 translate-y-4 overflow-hidden pointer-events-none"}`,children:N.jsx($x,{whichShow:b,isMaximized:h,onToggleMaximize:()=>r(!h)})})]}),N.jsx(Yx,{}),N.jsx(Hx,{}),N.jsx(Gx,{}),N.jsx(Kx,{}),N.jsx(Xx,{})]})]})}function Qx(){const l=Ft.use.text(),b=Ft.use.setText(),g=Ft.use.modal(),v=Ft.use.title(),L=Ft.use.message(),S=Ft.use.callback(),y=Ft.use.hideModal(),f=Ft.use.banner(),o=Ft.use.data(),h=Ft.use.placeholder();let r="fa fa-info-circle",n="bg-blue-500/20",i="text-blue-400",s="bg-blue-600 hover:bg-blue-500";return f==="warning"?(r="fa fa-exclamation-triangle",n="bg-yellow-500/20",i="text-yellow-400",s="bg-yellow-600 hover:bg-yellow-500"):f==="error"?(r="fa fa-times-circle",n="bg-red-500/20",i="text-red-400",s="bg-red-600 hover:bg-red-500"):f==="success"&&(r="fa fa-check-circle",n="bg-green-500/20",i="text-green-400",s="bg-green-600 hover:bg-green-500"),g?N.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:N.jsx("div",{className:"relative w-full max-w-[500px] animate-in fade-in zoom-in-95 duration-200",children:N.jsxs("div",{className:"relative bg-gray-900/95 backdrop-blur-xl rounded overflow-hidden",children:[N.jsx("div",{className:"px-5 pt-5 pb-4",children:N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:`w-10 h-10 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:N.jsx("i",{className:`${r} ${i} text-lg`})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:v}),N.jsx("p",{className:"text-md text-gray-400 leading-relaxed",children:L})]})]})}),N.jsxs("div",{className:"px-5 py-4",children:[g==="alert"&&N.jsx("button",{onClick:()=>{S&&S(void 0),y()},autoFocus:!0,className:`w-full py-2.5 rounded-lg text-white text-sm font-medium transition-all ${s}`,children:"OK"}),g==="selection"&&N.jsxs("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto",children:[o?.map((c,u)=>N.jsxs("button",{onClick:()=>{S&&S(c),y()},className:"flex items-center gap-3 w-full p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left group ",children:[N.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-800 flex items-center justify-center text-gray-400 group-hover:text-white transition-colors",children:N.jsx("i",{className:`fas ${c.info.fontawesomeIcon||"fa-box"}`})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"text-white font-medium text-sm truncate",children:c.info.name}),N.jsx("div",{className:"text-gray-500 text-xs truncate",children:c.info.path})]}),N.jsx("i",{className:"fas fa-chevron-right text-gray-600 group-hover:text-gray-400 text-sm"})]},u)),N.jsx("button",{onClick:()=>y(),className:"mt-2 w-full py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"})]}),g==="confirm"&&N.jsxs("div",{className:"flex gap-3 justify-end",children:[N.jsx("button",{onClick:()=>{S&&S(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>{S&&S(!0),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${s}`,children:"Confirm"})]}),g==="prompt"&&N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsx("input",{value:l,placeholder:h,onChange:c=>b(c.target.value),onKeyDown:c=>{c.key==="Enter"&&(S&&S(l),y())},autoFocus:!0,type:"text",className:"w-full px-4 py-3 rounded-lg text-white text-sm bg-white/5 focus:outline-none focus:ring-2 focus:ring-white/5 placeholder-gray-500 transition-all"}),N.jsxs("div",{className:"flex gap-3 justify-end",children:[N.jsx("button",{onClick:()=>{S&&S(!1),y()},className:"px-4 py-2.5 rounded-lg text-gray-300 text-sm font-medium bg-white/5 hover:bg-white/10 transition-colors",children:"Cancel"}),N.jsx("button",{onClick:()=>{S&&S(l),y()},className:`px-6 py-2.5 rounded-lg text-white text-sm font-medium transition-all ${s}`,children:"Submit"})]})]})]})]})})}):null}function Jx(){const l=Xe.use.showTerminal(),b=Xe.use.rootDir(),g=Xe.use.setShowTerminal(),v=te.useRef(null),L=()=>{v.current&&v.current.disconnect(),g(!1)};return te.useEffect(()=>{if(l&&b&&v.current){const S=setTimeout(()=>{v.current?.connect(b),v.current?.focus()},50);return()=>clearTimeout(S)}},[l,b]),l?N.jsxs(On,{width:"800px",children:[N.jsx(jn,{close:L,title:"Project Terminal",description:"Note: Do not lunch TUI based applications like Opencode in this terminal",icon:"fas fa-terminal text-blue-500 text-xl"}),N.jsx("div",{className:"flex-1 overflow-hidden p-2",children:N.jsx(ps,{ref:v,isInteractive:!0,className:"h-full",socketUrl:Ne.serverPath})})]}):null}function ew({onComplete:l}){const b=Xe.use.scaffoldRepo(),[g,v]=te.useState("intro"),[L,S]=te.useState(""),y=async()=>{v("scaffolding"),S("Scaffolding directories and files...");try{const f=await b();f.success?(S("Scaffolding complete! Installing dependencies..."),setTimeout(()=>{v("success")},1e3)):(S(`Error: ${f.error}`),setTimeout(()=>l&&l(),3e3))}catch(f){console.error(f),S("Failed to connect to backend."),setTimeout(()=>l&&l(),3e3)}};return N.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:N.jsx("div",{className:"bg-[#111111] border border-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl flex flex-col relative animate-fade-in-up my-auto",children:N.jsxs("div",{className:"p-6 md:p-12 flex-1",children:[g==="intro"&&N.jsxs("div",{className:"space-y-8 text-center",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-600 to-blue-400 border border-blue-500/20 mb-4",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12"})}),N.jsxs("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight text-white leading-tight",children:["Welcome to ",N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-400 block sm:inline",children:"Monorepo TIME"})]}),N.jsx("p",{className:"text-base md:text-lg text-gray-400 max-w-lg mx-auto leading-relaxed",children:"Your modern dashboard for managing monorepos with speed, elegance, and precision."})]}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-left",children:[{icon:"fa-project-diagram",title:"Unified View",desc:"Manage apps & packages in one place."},{icon:"fa-terminal",title:"Web Terminal",desc:"Run commands without leaving the UI."},{icon:"fa-bolt",title:"Turborepo",desc:"Accelerate workflows with Turbo."}].map((f,o)=>N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center mb-3",children:N.jsx("i",{className:`fas ${f.icon} text-blue-400`})}),N.jsx("h3",{className:"font-semibold text-gray-200",children:f.title}),N.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.desc})]},o))}),N.jsx("div",{className:"pt-4",children:N.jsxs("button",{onClick:()=>v("prompt"),className:"w-full sm:w-auto px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:["Get Started ",N.jsx("i",{className:"fas fa-arrow-right ml-2 text-sm"})]})})]}),g==="prompt"&&N.jsxs("div",{className:"space-y-6 md:space-y-8",children:[N.jsxs("div",{className:"text-center space-y-4",children:[N.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full bg-blue-500/10 text-blue-400 mb-2",children:N.jsx("i",{className:"fas fa-tools text-xl md:text-2xl"})}),N.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Recommended Setup"}),N.jsx("p",{className:"text-sm md:text-base text-gray-400 max-w-md mx-auto",children:"We noticed this might be a new project. Let's get you set up with a best-practice folder structure."})]}),N.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex flex-col sm:flex-row items-start gap-4",children:[N.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg shrink-0",children:N.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-500 text-lg"})}),N.jsxs("div",{children:[N.jsx("h4",{className:"text-yellow-500 font-semibold text-sm uppercase tracking-wider mb-1",children:"Requirement"}),N.jsxs("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:["This tool requires ",N.jsx("strong",{className:"text-white",children:"Turborepo"})," to function correctly. We will generate a ",N.jsx("code",{className:"bg-black/30 px-1.5 py-0.5 rounded text-white font-mono text-xs",children:"turbo.json"})," configuration and organize your workspace for you."]})]})]}),N.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 font-mono text-sm text-gray-400 overflow-x-auto",children:[N.jsx("p",{className:"mb-2 text-xs text-gray-500 uppercase tracking-widest font-semibold",children:"Planned Structure"}),N.jsxs("div",{className:"space-y-2 pl-2 border-l border-gray-800 min-w-[280px]",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-folder text-blue-500"})," /root"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[N.jsx("i",{className:"fas fa-folder text-yellow-500"})," apps/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4",children:[N.jsx("i",{className:"fas fa-folder text-green-500"})," packages/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-8 text-gray-500",children:[N.jsx("i",{className:"fas fa-folder text-green-500/50"})," types/"]}),N.jsxs("div",{className:"flex items-center gap-2 pl-4 truncate",children:[N.jsx("i",{className:"fas fa-file-code text-purple-400 shrink-0"}),"turbo.json",N.jsx("span",{className:"text-[10px] text-blue-400 border border-blue-400/30 px-1 rounded ml-auto",children:"NEW"})]})]})]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-2",children:[N.jsx("button",{onClick:y,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-medium transition-colors shadow-lg shadow-blue-600/20",children:"Scaffold & Install"}),N.jsx("button",{onClick:l,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 font-medium transition-colors border border-white/5",children:"Skip setup"})]})]}),g==="scaffolding"&&N.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6 text-center",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-gray-700 rounded-full"}),N.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Setting things up"}),N.jsx("p",{className:"text-gray-400 animate-pulse",children:L})]})]}),g==="success"&&N.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6 text-center",children:[N.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center border border-green-500/20",children:N.jsx("i",{className:"fas fa-check text-4xl text-green-500"})}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("h3",{className:"text-2xl font-bold text-white",children:"Ready to go!"}),N.jsx("p",{className:"text-gray-400 max-w-sm mx-auto",children:"Your workspace has been successfully initialized. You can now start building."})]}),N.jsx("button",{onClick:l,className:"px-8 py-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-medium transition-colors shadow-lg shadow-green-600/20 w-full sm:w-auto",children:"Enter Dashboard"})]})]})})})}function tw(){return N.jsxs("div",{className:"w-screen h-screen overflow-hidden",children:[N.jsx(h0,{}),N.jsx("div",{className:"flex flex-1 overflow-hidden ",children:N.jsx("main",{className:"flex-1 relative overflow-hidden bg-gray-900",children:N.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl"}),N.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]})})})]})}function hc(l){return l.isNotRendered||l.render!=null&&l.render==!1?null:N.jsx(nw,{...l})}function nw(l){const b=vo.blueIndigo,g=l.color&&vo[l.color]?vo[l.color]:l.color||b;return N.jsxs("button",{disabled:l.disabled,onClick:v=>{v.stopPropagation(),!l.disabled&&l.onClick()},className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${l.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg"}
            `,children:[!l.disabled&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),N.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${g} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),N.jsxs("div",{className:`
                relative h-full w-full rounded bg-gradient-to-br from-blue-600/15 to-blue-400/15 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
                ${!l.disabled&&!l.bg?"group-hover:bg-[#212121]/70":""}
            `,children:[l.bg&&N.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${g} opacity-20`}),N.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${g} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:N.jsx("i",{className:`fas ${l.icon||"fa-circle"} text-sm`})}),N.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[N.jsx("span",{className:`
                        font-bold text-sm truncate transition-colors duration-300
                        ${l.disabled?"text-gray-500":l.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:l.name}),N.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${l.disabled?"text-gray-600":l.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:l.description})]})]})]},l.name)}function iw({onClose:l}){return N.jsxs(On,{width:"900px",children:[N.jsx(jn,{title:"CI/CD Tutorial with Vercel",description:"Mastering Continuous Integration & Deployment",icon:"fas fa-infinity",close:l}),N.jsxs("div",{className:"flex flex-col h-[70vh] overflow-hidden text-sm",children:[N.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-12 text-gray-300 custom-scrollbar",children:[N.jsxs("section",{id:"intro",className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[N.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:N.jsx("i",{className:"fas fa-infinity text-2xl text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"What is CI/CD?"}),N.jsx("p",{className:"text-blue-400 text-sm",children:"Continuous Integration & Continuous Delivery"})]})]}),N.jsx("div",{className:"bg-white/5 p-6 rounded-xl border border-white/10",children:N.jsxs("p",{className:"leading-relaxed",children:[N.jsx("strong",{className:"text-white",children:"CI (Continuous Integration)"})," is the practice of automating the integration of code changes from multiple contributors into a single software project.",N.jsx("br",{}),N.jsx("br",{}),N.jsx("strong",{className:"text-white",children:"CD (Continuous Delivery/Deployment)"})," ensures that your code is always in a deployable state and automatically releases it to production when ready."]})})]}),N.jsxs("section",{id:"why",className:"space-y-6",children:[N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-lightbulb text-yellow-500"}),"Why use CI/CD?"]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"Speed",desc:"Ship code faster with automated testing and building.",icon:"fa-rocket",color:"text-green-400"},{title:"Reliability",desc:"Catch bugs early before they reach production.",icon:"fa-shield-alt",color:"text-blue-400"},{title:"Efficiency",desc:"Stop wasting time on manual deployments.",icon:"fa-clock",color:"text-orange-400"},{title:"Consistency",desc:"Ensure every environment matches production.",icon:"fa-sync",color:"text-purple-400"}].map(b=>N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-white/20 transition-colors",children:[N.jsx("i",{className:`fas ${b.icon} ${b.color} text-xl mb-3`}),N.jsx("h3",{className:"text-white font-bold mb-1",children:b.title}),N.jsx("p",{className:"text-sm text-gray-400",children:b.desc})]},b.title))})]}),N.jsxs("section",{id:"turbo-vercel",className:"space-y-6",children:[N.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-layer-group text-pink-500"}),"Turborepo + Vercel"]})}),N.jsxs("div",{className:"flex items-center gap-8 justify-center py-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-[#1e1e1e] flex items-center justify-center border border-white/20 mb-3",children:N.jsx("i",{className:"fas fa-cube text-3xl text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500"})}),N.jsx("span",{className:"font-bold text-white",children:"Turborepo"})]}),N.jsxs("div",{className:"flex flex-col items-center gap-1",children:[N.jsx("span",{className:"text-xs text-green-400 font-bold",children:"CACHE HIT!"}),N.jsx("div",{className:"h-[2px] w-24 bg-gradient-to-r from-red-500 to-white"}),N.jsx("i",{className:"fas fa-arrow-right text-white"})]}),N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-black flex items-center justify-center border border-white/20 mb-3",children:N.jsx("i",{className:"fas fa-triangle text-3xl text-white"})}),N.jsx("span",{className:"font-bold text-white",children:"Vercel"})]})]}),N.jsxs("p",{className:"bg-blue-500/10 border-l-4 border-blue-500 p-4 rounded text-sm",children:["Combining ",N.jsx("strong",{children:"Turborepo's"})," intelligent caching with ",N.jsx("strong",{children:"Vercel's"})," global edge network gives you the fastest build times and deployments possible. Vercel automatically understands your Turborepo structure."]})]}),N.jsxs("section",{id:"guide",className:"space-y-8",children:[N.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[N.jsx("i",{className:"fas fa-tasks text-green-500"}),"Step-by-Step Setup"]}),N.jsx("div",{className:"space-y-6",children:[{step:1,title:"Login with Vercel",desc:"Ensure you have a Vercel account and are logged in via the CLI or Dashboard to authorize deployments.",icon:"fa-sign-in-alt"},{step:2,title:"Connect to GitHub",desc:"Link your Monorepo to a GitHub repository. Vercel uses this to trigger automatic deployments on push.",icon:"fa-code-branch"},{step:3,title:"Add Projects in Vercel",desc:"In the Vercel Dashboard, import your repository. Vercel detects Turborepo and asks which workspace (app) you want to deploy. Add each app (e.g., 'web', 'docs') as a separate Vercel project linked to the same repo.",icon:"fa-plus-circle"},{step:4,title:"Deployment",desc:"Push to 'main' to deploy. Vercel will build only what has changed.",icon:"fa-cloud-upload-alt"}].map(b=>N.jsxs("div",{className:"flex gap-4",children:[N.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white border border-white/20",children:b.step}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[b.title,N.jsx("i",{className:`fas ${b.icon} text-gray-500 text-sm`})]}),N.jsx("p",{className:"text-sm text-gray-400",children:b.desc})]})]},b.step))}),N.jsxs("div",{className:"mt-8 p-5 bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-500/30",children:[N.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-magic text-purple-400"}),'Pro Tip: The "Turbo Build" Button']}),N.jsxs("p",{className:"text-sm text-gray-300",children:["When you use the ",N.jsx("span",{className:"px-2 py-0.5 rounded bg-white/10 text-white font-mono text-xs",children:"turbo build"})," command or button in this dashboard, it can be configured to upload your ",N.jsx("strong",{children:"pre-compiled dist/build artifacts"})," directly to Vercel's cache."]}),N.jsxs("div",{className:"mt-3 flex items-start gap-3 text-xs text-purple-200 bg-purple-500/10 p-3 rounded-lg",children:[N.jsx("i",{className:"fas fa-info-circle mt-0.5"}),N.jsxs("span",{children:["This means Vercel ",N.jsx("strong",{children:"doesn't have to rebuild"})," everything from scratch. It pulls the artifacts you just built locally (or in CI), saving massive amounts of build minutes and time!"]})]})]})]})]}),N.jsxs("div",{className:"p-4 border-t border-white/10 bg-black/40 flex justify-between items-center text-xs text-gray-500",children:[N.jsx("span",{children:"Learn more at:"}),N.jsxs("div",{className:"flex gap-4",children:[N.jsxs("a",{href:"https://vercel.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fas fa-triangle text-white"})," Vercel Docs"]}),N.jsxs("a",{href:"https://turbo.build/repo/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fas fa-cube text-red-500"})," Turborepo Docs"]})]})]})]})]})}function dc(l){return N.jsxs("div",{className:"overflow-hidden",children:[N.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[N.jsx("span",{className:"text-white font-medium text-sm",children:l.title}),N.jsx("span",{className:"ml-auto text-gray-600 text-xs",children:l.description})]}),l.children?N.jsx("div",{className:l.contentClassName??"p-2 grid grid-cols-2 gap-2",children:l.children}):null]})}function Rd(l){return N.jsxs("header",{className:"px-4 py-3 border-b border-white/[0.08] flex justify-between items-center bg-black/30 flex-none backdrop-blur-md",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 blur-md opacity-50"}),N.jsx("div",{className:"relative w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-400 flex items-center justify-center shadow-lg shadow-blue-500/30",children:N.jsx("i",{className:l.icon})})]}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("div",{className:"flex items-center gap-2",children:N.jsx("span",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400",children:l.title})}),N.jsx("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:l.children})]})]}),N.jsxs("button",{onClick:l.handleStop,disabled:!l.isRunning,className:`px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-all duration-200
                            ${l.isRunning?"bg-red-500/20 border border-red-500/30 text-red-400 hover:bg-red-500/30 hover:border-red-500/50 cursor-pointer":"bg-white/5 border border-white/10 text-gray-500 cursor-not-allowed"}`,children:[N.jsx("i",{className:"fas fa-stop text-sm"}),"Stop"]})]})}const rw=[{title:"Build & Deploy",commands:[{label:"Install",cmd:"npm install",icon:"fa-download",color:"blueIndigo"},{label:"Build",cmd:"npx turbo build",icon:"fa-hammer",color:"emeraldTeal"},{label:"Deploy",cmd:"npx turbo run build --force",icon:"fa-sync-alt",color:"yellowOrange"}]},{title:"Code Quality",commands:[{label:"Lint",cmd:"npx turbo lint",icon:"fa-check-double",color:"cyanBlue"},{label:"Test",cmd:"npx turbo test",icon:"fa-vial",color:"emeraldTeal"}]},{title:"Optimization",commands:[{label:"Prune",cmd:"npx turbo prune",icon:"fa-scissors",color:"orangePurple"},{label:"Summary",cmd:"npx turbo run build --dry-run",icon:"fa-list-alt",color:"blueIndigo"},{label:"Generate",cmd:"npx turbo gen",icon:"fa-plus-circle",color:"pinkRose"}]},{title:"Diagnostics",commands:[{label:"Graph",cmd:"npx turbo run build --graph",icon:"fa-project-diagram",color:"cyanBlue"},{label:"Info",cmd:"npx turbo info",icon:"fa-info-circle",color:"blueIndigo"},{label:"Daemon",cmd:"npx turbo daemon status",icon:"fa-server",color:"gray"}]},{title:"Remote Cache",commands:[{label:"Link",cmd:"npx turbo link",icon:"fa-cloud",color:"cyanBlue"},{label:"Login",cmd:"npx turbo login",icon:"fa-sign-in-alt",color:"emeraldTeal"},{label:"Unlink",cmd:"npx turbo unlink",icon:"fa-unlink",color:"red"}]},{title:"Maintenance",commands:[{label:"Clean",cmd:"npx turbo clean",icon:"fa-broom",color:"orangePurple"},{label:"Cache",cmd:"rm -rf node_modules/.cache/turbo .turbo",icon:"fa-trash-alt",color:"darkRed"}]}];function sw(l){const b=te.useRef(null),g=Xe.use.rootDir(),[v,L]=te.useState(!1),[S,y]=te.useState(!1);te.useEffect(()=>()=>{b.current&&b.current.disconnect()},[]);const f=Ft.use.showModal(),o=Fe.use.workspace();function h(i){b.current&&(b.current.clear(),b.current.disconnect(),b.current.onClose(()=>{L(!1)}),b.current.onCrash(()=>{L(!1)}),L(!0),b.current.connect(g,i),b.current.fit())}function r(i){if(i==="npx turbo prune"||i==="npx turbo prune --docker"){f("selection","Select Workspace","Choose a workspace to prune / dockerize",null,s=>{if(s){const c=i.includes("--docker"),u=`npx turbo prune ${s.info.name}${c?" --docker":""}`;h(u)}},o);return}h(i)}function n(){b.current&&(b.current.disconnect(),L(!1))}return N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${l.isVisible?"flex":"hidden"}`,children:[N.jsxs("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:[N.jsx("button",{onClick:()=>y(!0),className:`mb-4 p-2 w-full rounded-lg border border-blue-500/20 
                               hover:border-blue-500/40 hover:from-blue-500/20 hover:to-purple-500/20
                               transition-all duration-300 group`,children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex flex-col text-left",children:[N.jsx("span",{className:"text-white font-semibold text-sm",children:"CI/CD Tutorial"}),N.jsx("span",{className:"text-gray-400 text-xs",children:"Learn deployment with Vercel"})]}),N.jsx("i",{className:"fas fa-chevron-right text-gray-500 ml-auto group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})}),N.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:rw.map(i=>N.jsx(dc,{title:i.title,description:"",children:i.commands.map(s=>N.jsx(hc,{onClick:()=>r(s.cmd),name:s.label,description:s.cmd,color:s.color,icon:s.icon,disabled:v},s.label))},i.title))})]}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsxs(Rd,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:n,isRunning:v,children:["Execute",N.jsx("a",{href:"https://turborepo.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Turborepo"}),"commands"]}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(ps,{ref:b,isInteractive:!0,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{L(!1)},onCrash:()=>{L(!1)}})})]}),S&&N.jsx(iw,{onClose:()=>y(!1)})]})}const ow=$n()((l,b)=>({noData:!0,crudData:[],currentCategoryIndex:-1,currentCrudIndex:-1,useDevURL:!0,devURL:"",prodURL:"",params:"",method:"GET",requestStartTime:0,isFetching:!1,executionTime:0,header:`{
  "Content-Type": "application/json",
  "Accept": "application/json",
  "Authorization": "Bearer token",
  "x-refresh-token": "refresh-token",
  "X-CSRF-Token": "csrf-token-placeholder",
 "Cache-Control": "no-cache"
}
`,body:`{
  "key": "value"
}
`,output:`{
  "key": "value"
}
`,expectedOutput:`Contains what to expect from the response
example:
{
    "key": "value"
}
`,setHeader:g=>l({header:g}),setBody:g=>l({body:g}),setOutput:g=>l({output:g}),setExpectedOutput:g=>l({expectedOutput:g}),setUseDevURL:g=>l({useDevURL:g}),setParams:g=>l({params:g}),setMethod:g=>l({method:g}),setCurrentCategoryIndex:g=>l({currentCategoryIndex:g}),setCurrentCrudIndex:g=>l({currentCrudIndex:g}),setCrudData:async g=>{try{await fetch(`${Ne.serverPath}${Oe.crudTest}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({crudtest:g})})}catch(v){console.log(v)}l({crudData:g})},loadCrudData:async()=>{try{const g=await fetch(`${Ne.serverPath}${Oe.crudTest}`);if(!g.ok){l({noData:!0});return}const v=await g.json();l({crudData:v.crudtest,noData:!1})}catch{l({noData:!0})}},sendRequest:async()=>{const{useDevURL:g,params:v,method:L,crudData:S,currentCategoryIndex:y,currentCrudIndex:f}=b(),o=v?v.startsWith("?")?v:`?${v}`:"",h=encodeURI(o),n=`${g?S[y].devurl:S[y].produrl}${S[y].items[f].route}${h}`,i=Date.now();if(l({isFetching:!0,requestStartTime:i,executionTime:0}),L==="STREAM"){try{l({output:""});const s=await fetch(n,{method:"GET",headers:JSON.parse(b().header)});if(!s.body){l({isFetching:!1,executionTime:Date.now()-i});return}const c=s.body.getReader(),u=new TextDecoder("utf-8");for(;;){const{done:a,value:d}=await c.read();if(a)break;const m=u.decode(d,{stream:!0});l(x=>({output:x.output+m}))}l({isFetching:!1,executionTime:Date.now()-i})}catch(s){let c="";try{c=s.toString()}catch(u){c="Error: "+u}l({output:c,isFetching:!1,executionTime:Date.now()-i})}return}try{const s={method:L,headers:JSON.parse(b().header)};L!=="GET"&&(s.body=b().body);const u=await(await fetch(n,s)).text();l({output:u,isFetching:!1,executionTime:Date.now()-i})}catch(s){let c="";try{c=s.toString()}catch(u){c="Error: "+u}l({output:c,isFetching:!1,executionTime:Date.now()-i})}}})),De=Dn(ow);var Tr={},Mr={},Uh={exports:{}},Xm;function La(){return Xm||(Xm=1,(function(l,b){(function(){var g="ace",v=(function(){return this})();!v&&typeof window<"u"&&(v=window);var L=function(r,n,i){if(typeof r!="string"){L.original?L.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=n),L.modules[r]||(L.payloads[r]=i,L.modules[r]=null)};L.modules={},L.payloads={};var S=function(r,n,i){if(typeof n=="string"){var s=o(r,n);if(s!=null)return i&&i(),s}else if(Object.prototype.toString.call(n)==="[object Array]"){for(var c=[],u=0,a=n.length;u<a;++u){var d=o(r,n[u]);if(d==null&&y.original)return;c.push(d)}return i&&i.apply(null,c)||!0}},y=function(r,n){var i=S("",r,n);return i==null&&y.original?y.original.apply(this,arguments):i},f=function(r,n){if(n.indexOf("!")!==-1){var i=n.split("!");return f(r,i[0])+"!"+f(r,i[1])}if(n.charAt(0)=="."){var s=r.split("/").slice(0,-1).join("/");for(n=s+"/"+n;n.indexOf(".")!==-1&&c!=n;){var c=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},o=function(r,n){n=f(r,n);var i=L.modules[n];if(!i){if(i=L.payloads[n],typeof i=="function"){var s={},c={id:n,uri:"",exports:s,packaged:!0},u=function(d,m){return S(n,d,m)},a=i(u,s,c);s=a||c.exports,L.modules[n]=s,delete L.payloads[n]}i=L.modules[n]=s||i}return i};function h(r){var n=v;v[r]||(v[r]={}),n=v[r],(!n.define||!n.define.packaged)&&(L.original=n.define,n.define=L,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(y.original=n.require,n.require=y,n.require.packaged=!0)}h(g)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(g,v,L){function S(y,f,o){Object.defineProperty(y,f,{value:o,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||S(String.prototype,"startsWith",function(y,f){return f=f||0,this.lastIndexOf(y,f)===f}),String.prototype.endsWith||S(String.prototype,"endsWith",function(y,f){var o=this;(f===void 0||f>o.length)&&(f=o.length),f-=y.length;var h=o.indexOf(y,f);return h!==-1&&h===f}),String.prototype.repeat||S(String.prototype,"repeat",function(y){for(var f="",o=this;y>0;)y&1&&(f+=o),(y>>=1)&&(o+=o);return f}),String.prototype.includes||S(String.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Object.assign||(Object.assign=function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(y),o=1;o<arguments.length;o++){var h=arguments[o];h!=null&&Object.keys(h).forEach(function(r){f[r]=h[r]})}return f}),Object.values||(Object.values=function(y){return Object.keys(y).map(function(f){return y[f]})}),Array.prototype.find||S(Array.prototype,"find",function(y){for(var f=this.length,o=arguments[1],h=0;h<f;h++){var r=this[h];if(y.call(o,r,h,this))return r}}),Array.prototype.findIndex||S(Array.prototype,"findIndex",function(y){for(var f=this.length,o=arguments[1],h=0;h<f;h++){var r=this[h];if(y.call(o,r,h,this))return h}}),Array.prototype.includes||S(Array.prototype,"includes",function(y,f){return this.indexOf(y,f)!=-1}),Array.prototype.fill||S(Array.prototype,"fill",function(y){for(var f=this,o=f.length>>>0,h=arguments[1],r=h>>0,n=r<0?Math.max(o+r,0):Math.min(r,o),i=arguments[2],s=i===void 0?o:i>>0,c=s<0?Math.max(o+s,0):Math.min(s,o);n<c;)f[n]=y,n++;return f}),Array.of||S(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(g,v,L){g("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(g,v,L){v.deepCopy=function S(y){if(typeof y!="object"||!y)return y;var f;if(Array.isArray(y)){f=[];for(var o=0;o<y.length;o++)f[o]=S(y[o]);return f}if(Object.prototype.toString.call(y)!=="[object Object]")return y;f={};for(var o in y)f[o]=S(y[o]);return f}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(g,v,L){v.last=function(f){return f[f.length-1]},v.stringReverse=function(f){return f.split("").reverse().join("")},v.stringRepeat=function(f,o){for(var h="";o>0;)o&1&&(h+=f),(o>>=1)&&(f+=f);return h};var S=/^\s\s*/,y=/\s\s*$/;v.stringTrimLeft=function(f){return f.replace(S,"")},v.stringTrimRight=function(f){return f.replace(y,"")},v.copyObject=function(f){var o={};for(var h in f)o[h]=f[h];return o},v.copyArray=function(f){for(var o=[],h=0,r=f.length;h<r;h++)f[h]&&typeof f[h]=="object"?o[h]=this.copyObject(f[h]):o[h]=f[h];return o},v.deepCopy=g("./deep_copy").deepCopy,v.arrayToMap=function(f){for(var o={},h=0;h<f.length;h++)o[f[h]]=1;return o},v.createMap=function(f){var o=Object.create(null);for(var h in f)o[h]=f[h];return o},v.arrayRemove=function(f,o){for(var h=0;h<=f.length;h++)o===f[h]&&f.splice(h,1)},v.escapeRegExp=function(f){return f.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},v.escapeHTML=function(f){return(""+f).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},v.getMatchOffsets=function(f,o){var h=[];return f.replace(o,function(r){h.push({offset:arguments[arguments.length-2],length:r.length})}),h},v.deferredCall=function(f){var o=null,h=function(){o=null,f()},r=function(n){return r.cancel(),o=setTimeout(h,n||0),r};return r.schedule=r,r.call=function(){return this.cancel(),f(),r},r.cancel=function(){return clearTimeout(o),o=null,r},r.isPending=function(){return o},r},v.delayedCall=function(f,o){var h=null,r=function(){h=null,f()},n=function(i){h==null&&(h=setTimeout(r,i||o))};return n.delay=function(i){h&&clearTimeout(h),h=setTimeout(r,i||o)},n.schedule=n,n.call=function(){this.cancel(),f()},n.cancel=function(){h&&clearTimeout(h),h=null},n.isPending=function(){return h},n},v.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},v.skipEmptyMatch=function(f,o,h){return h&&f.codePointAt(o)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(g,v,L){v.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},v.getOS=function(){return v.isMac?v.OS.MAC:v.isLinux?v.OS.LINUX:v.OS.WINDOWS};var S=typeof navigator=="object"?navigator:{},y=(/mac|win|linux/i.exec(S.platform)||["other"])[0].toLowerCase(),f=S.userAgent||"",o=S.appName||"";v.isWin=y=="win",v.isMac=y=="mac",v.isLinux=y=="linux",v.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((f.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((f.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),v.isOldIE=v.isIE&&v.isIE<9,v.isGecko=v.isMozilla=f.match(/ Gecko\/\d+/),v.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",v.isWebKit=parseFloat(f.split("WebKit/")[1])||void 0,v.isChrome=parseFloat(f.split(" Chrome/")[1])||void 0,v.isSafari=parseFloat(f.split(" Safari/")[1])&&!v.isChrome||void 0,v.isEdge=parseFloat(f.split(" Edge/")[1])||void 0,v.isAIR=f.indexOf("AdobeAIR")>=0,v.isAndroid=f.indexOf("Android")>=0,v.isChromeOS=f.indexOf(" CrOS ")>=0,v.isIOS=/iPad|iPhone|iPod/.test(f)&&!window.MSStream,v.isIOS&&(v.isMac=!0),v.isMobile=v.isIOS||v.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(g,v,L){var S=g("./useragent"),y="http://www.w3.org/1999/xhtml";v.buildDom=function i(s,c,u){if(typeof s=="string"&&s){var a=document.createTextNode(s);return c&&c.appendChild(a),a}if(!Array.isArray(s))return s&&s.appendChild&&c&&c.appendChild(s),s;if(typeof s[0]!="string"||!s[0]){for(var d=[],m=0;m<s.length;m++){var x=i(s[m],c,u);x&&d.push(x)}return d}var C=document.createElement(s[0]),w=s[1],_=1;w&&typeof w=="object"&&!Array.isArray(w)&&(_=2);for(var m=_;m<s.length;m++)i(s[m],C,u);return _==2&&Object.keys(w).forEach(function(k){var A=w[k];k==="class"?C.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||k=="value"||k[0]=="$"?C[k]=A:k==="ref"?u&&(u[A]=C):k==="style"?typeof A=="string"&&(C.style.cssText=A):A!=null&&C.setAttribute(k,A)}),c&&c.appendChild(C),C},v.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},v.createElement=function(i,s){return document.createElementNS?document.createElementNS(s||y,i):document.createElement(i)},v.removeChildren=function(i){i.innerHTML=""},v.createTextNode=function(i,s){var c=s?s.ownerDocument:document;return c.createTextNode(i)},v.createFragment=function(i){var s=i?i.ownerDocument:document;return s.createDocumentFragment()},v.hasCssClass=function(i,s){var c=(i.className+"").split(/\s+/g);return c.indexOf(s)!==-1},v.addCssClass=function(i,s){v.hasCssClass(i,s)||(i.className+=" "+s)},v.removeCssClass=function(i,s){for(var c=i.className.split(/\s+/g);;){var u=c.indexOf(s);if(u==-1)break;c.splice(u,1)}i.className=c.join(" ")},v.toggleCssClass=function(i,s){for(var c=i.className.split(/\s+/g),u=!0;;){var a=c.indexOf(s);if(a==-1)break;u=!1,c.splice(a,1)}return u&&c.push(s),i.className=c.join(" "),u},v.setCssClass=function(i,s,c){c?v.addCssClass(i,s):v.removeCssClass(i,s)},v.hasCssString=function(i,s){var c=0,u;if(s=s||document,u=s.querySelectorAll("style")){for(;c<u.length;)if(u[c++].id===i)return!0}},v.removeElementById=function(i,s){s=s||document,s.getElementById(i)&&s.getElementById(i).remove()};var f,o=[];v.useStrictCSP=function(i){f=i,i==!1?h():o||(o=[])};function h(){var i=o;o=null,i&&i.forEach(function(s){r(s[0],s[1])})}function r(i,s,c){if(!(typeof document>"u")){if(o){if(c)h();else if(c===!1)return o.push([i,s])}if(!f){var u=c;!c||!c.getRootNode?u=document:(u=c.getRootNode(),(!u||u==c)&&(u=document));var a=u.ownerDocument||u;if(s&&v.hasCssString(s,u))return null;s&&(i+=`
/*# sourceURL=ace/css/`+s+" */");var d=v.createElement("style");d.appendChild(a.createTextNode(i)),s&&(d.id=s),u==a&&(u=v.getDocumentHead(a)),u.insertBefore(d,u.firstChild)}}}if(v.importCssString=r,v.importCssStylsheet=function(i,s){v.buildDom(["link",{rel:"stylesheet",href:i}],v.getDocumentHead(s))},v.$fixPositionBug=function(i){var s=i.getBoundingClientRect();if(i.style.left){var c=parseFloat(i.style.left),u=+s.left;Math.abs(c-u)>1&&(i.style.left=2*c-u+"px")}if(i.style.right){var c=parseFloat(i.style.right),u=window.innerWidth-s.right;Math.abs(c-u)>1&&(i.style.right=2*c-u+"px")}if(i.style.top){var c=parseFloat(i.style.top),u=+s.top;Math.abs(c-u)>1&&(i.style.top=2*c-u+"px")}if(i.style.bottom){var c=parseFloat(i.style.bottom),u=window.innerHeight-s.bottom;Math.abs(c-u)>1&&(i.style.bottom=2*c-u+"px")}},v.scrollbarWidth=function(i){var s=v.createElement("ace_inner");s.style.width="100%",s.style.minWidth="0px",s.style.height="200px",s.style.display="block";var c=v.createElement("ace_outer"),u=c.style;u.position="absolute",u.left="-10000px",u.overflow="hidden",u.width="200px",u.minWidth="0px",u.height="150px",u.display="block",c.appendChild(s);var a=i&&i.documentElement||document&&document.documentElement;if(!a)return 0;a.appendChild(c);var d=s.offsetWidth;u.overflow="scroll";var m=s.offsetWidth;return d===m&&(m=c.clientWidth),a.removeChild(c),d-m},v.computedStyle=function(i,s){return window.getComputedStyle(i,"")||{}},v.setStyle=function(i,s,c){i[s]!==c&&(i[s]=c)},v.HAS_CSS_ANIMATION=!1,v.HAS_CSS_TRANSFORMS=!1,v.HI_DPI=S.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,S.isChromeOS&&(v.HI_DPI=!1),typeof document<"u"){var n=document.createElement("div");v.HI_DPI&&n.style.transform!==void 0&&(v.HAS_CSS_TRANSFORMS=!0),!S.isEdge&&typeof n.style.animationName<"u"&&(v.HAS_CSS_ANIMATION=!0),n=null}v.HAS_CSS_TRANSFORMS?v.translate=function(i,s,c){i.style.transform="translate("+Math.round(s)+"px, "+Math.round(c)+"px)"}:v.translate=function(i,s,c){i.style.top=Math.round(c)+"px",i.style.left=Math.round(s)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(g,v,L){var S=g("./dom");v.get=function(y,f){var o=new XMLHttpRequest;o.open("GET",y,!0),o.onreadystatechange=function(){o.readyState===4&&f(o.responseText)},o.send(null)},v.loadScript=function(y,f){var o=S.getDocumentHead(),h=document.createElement("script");h.src=y,o.appendChild(h),h.onload=h.onreadystatechange=function(r,n){(n||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,n||f())}},v.qualifyURL=function(y){var f=document.createElement("a");return f.href=y,f.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(g,v,L){v.inherits=function(S,y){S.super_=y,S.prototype=Object.create(y.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}})},v.mixin=function(S,y){for(var f in y)S[f]=y[f];return S},v.implement=function(S,y){v.mixin(S,y)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(g,v,L){var S={},y=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};S._emit=S._dispatchEvent=function(o,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var r=this._eventRegistry[o]||[],n=this._defaultHandlers[o];if(!(!r.length&&!n)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=o),h.stopPropagation||(h.stopPropagation=y),h.preventDefault||(h.preventDefault=f),r=r.slice();for(var i=0;i<r.length&&(r[i](h,this),!h.propagationStopped);i++);if(n&&!h.defaultPrevented)return n(h,this)}},S._signal=function(o,h){var r=(this._eventRegistry||{})[o];if(r){r=r.slice();for(var n=0;n<r.length;n++)r[n](h,this)}},S.once=function(o,h){var r=this;if(this.on(o,function n(){r.off(o,n),h.apply(null,arguments)}),!h)return new Promise(function(n){h=n})},S.setDefaultHandler=function(o,h){var r=this._defaultHandlers;if(r||(r=this._defaultHandlers={_disabled_:{}}),r[o]){var n=r[o],i=r._disabled_[o];i||(r._disabled_[o]=i=[]),i.push(n);var s=i.indexOf(h);s!=-1&&i.splice(s,1)}r[o]=h},S.removeDefaultHandler=function(o,h){var r=this._defaultHandlers;if(r){var n=r._disabled_[o];if(r[o]==h)n&&this.setDefaultHandler(o,n.pop());else if(n){var i=n.indexOf(h);i!=-1&&n.splice(i,1)}}},S.on=S.addEventListener=function(o,h,r){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[o];return n||(n=this._eventRegistry[o]=[]),n.indexOf(h)==-1&&n[r?"unshift":"push"](h),h},S.off=S.removeListener=S.removeEventListener=function(o,h){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[o];if(r){var n=r.indexOf(h);n!==-1&&r.splice(n,1)}},S.removeAllListeners=function(o){o||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[o]=void 0),this._defaultHandlers&&(this._defaultHandlers[o]=void 0)},v.EventEmitter=S}),ace.define("ace/lib/report_error",["require","exports","module"],function(g,v,L){v.reportError=function(y,f){var o=new Error(y);o.data=f,typeof console=="object"&&console.error&&console.error(o),setTimeout(function(){throw o})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(g,v,L){var S={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};v.defaultEnglishMessages=S}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(g,v,L){"no use strict";var S=g("./oop"),y=g("./event_emitter").EventEmitter,f=g("./report_error").reportError,o=g("./default_english_messages").defaultEnglishMessages,h={setOptions:function(c){Object.keys(c).forEach(function(u){this.setOption(u,c[u])},this)},getOptions:function(c){var u={};if(c)Array.isArray(c)||(c=Object.keys(c));else{var a=this.$options;c=Object.keys(a).filter(function(d){return!a[d].hidden})}return c.forEach(function(d){u[d]=this.getOption(d)},this),u},setOption:function(c,u){if(this["$"+c]!==u){var a=this.$options[c];if(!a)return r('misspelled option "'+c+'"');if(a.forwardTo)return this[a.forwardTo]&&this[a.forwardTo].setOption(c,u);a.handlesSet||(this["$"+c]=u),a&&a.set&&a.set.call(this,u)}},getOption:function(c){var u=this.$options[c];return u?u.forwardTo?this[u.forwardTo]&&this[u.forwardTo].getOption(c):u&&u.get?u.get.call(this):this["$"+c]:r('misspelled option "'+c+'"')}};function r(c){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var n,i,s=(function(){function c(){this.$defaultOptions={},n=o,i="dollarSigns"}return c.prototype.defineOptions=function(u,a,d){return u.$options||(this.$defaultOptions[a]=u.$options={}),Object.keys(d).forEach(function(m){var x=d[m];typeof x=="string"&&(x={forwardTo:x}),x.name||(x.name=m),u.$options[x.name]=x,"initialValue"in x&&(u["$"+x.name]=x.initialValue)}),S.implement(u,h),this},c.prototype.resetOptions=function(u){Object.keys(u.$options).forEach(function(a){var d=u.$options[a];"value"in d&&u.setOption(a,d.value)})},c.prototype.setDefaultValue=function(u,a,d){if(!u){for(u in this.$defaultOptions)if(this.$defaultOptions[u][a])break;if(!this.$defaultOptions[u][a])return!1}var m=this.$defaultOptions[u]||(this.$defaultOptions[u]={});m[a]&&(m.forwardTo?this.setDefaultValue(m.forwardTo,a,d):m[a].value=d)},c.prototype.setDefaultValues=function(u,a){Object.keys(a).forEach(function(d){this.setDefaultValue(u,d,a[d])},this)},c.prototype.setMessages=function(u,a){n=u,a&&a.placeholders&&(i=a.placeholders)},c.prototype.nls=function(u,a,d){n[u]||(r("No message found for the key '"+u+"' in messages with id "+n.$id+", trying to find a translation for the default string '"+a+"'."),n[a]||r("No message found for the default string '"+a+"' in the provided messages. Falling back to the default English message."));var m=n[u]||n[a]||a;return d&&(i==="dollarSigns"&&(m=m.replace(/\$(\$|[\d]+)/g,function(x,C){return C=="$"?"$":d[C]})),i==="curlyBrackets"&&(m=m.replace(/\{([^\}]+)\}/g,function(x,C){return d[C]}))),m},c})();s.prototype.warn=r,s.prototype.reportError=f,S.implement(s.prototype,y),v.AppConfig=s}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(g,v,L){L.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(g,v,L){v.isDark=!1,v.cssClass="ace-tm",v.cssText=g("./textmate-css"),v.$id="ace/theme/textmate";var S=g("../lib/dom");S.importCssString(v.cssText,v.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(g,v,L){"no use strict";var S=g("./lib/lang"),y=g("./lib/net"),f=g("./lib/dom"),o=g("./lib/app_config").AppConfig;L.exports=v=new o;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};v.get=function(s){if(!h.hasOwnProperty(s))throw new Error("Unknown config key: "+s);return h[s]},v.set=function(s,c){if(h.hasOwnProperty(s))h[s]=c;else if(this.setDefaultValue("",s,c)==!1)throw new Error("Unknown config key: "+s);s=="useStrictCSP"&&f.useStrictCSP(c)},v.all=function(){return S.copyObject(h)},v.$modes={},v.moduleUrl=function(s,c){if(h.$moduleUrls[s])return h.$moduleUrls[s];var u=s.split("/");c=c||u[u.length-2]||"";var a=c=="snippets"?"/":"-",d=u[u.length-1];if(c=="worker"&&a=="-"){var m=new RegExp("^"+c+"[\\-_]|[\\-_]"+c+"$","g");d=d.replace(m,"")}(!d||d==c)&&u.length>1&&(d=u[u.length-2]);var x=h[c+"Path"];return x==null?x=h.basePath:a=="/"&&(c=a=""),x&&x.slice(-1)!="/"&&(x+="/"),x+c+a+d+this.get("suffix")},v.setModuleUrl=function(s,c){return h.$moduleUrls[s]=c};var r=function(s,c){if(s==="ace/theme/textmate"||s==="./theme/textmate")return c(null,g("./theme/textmate"));if(n)return n(s,c);console.error("loader is not configured")},n;v.setLoader=function(s){n=s},v.dynamicModules=Object.create(null),v.$loading={},v.$loaded={},v.loadModule=function(s,c){var u;if(Array.isArray(s))var a=s[0],d=s[1];else if(typeof s=="string")var d=s;var m=function(x){if(x&&!v.$loading[d])return c&&c(x);if(v.$loading[d]||(v.$loading[d]=[]),v.$loading[d].push(c),!(v.$loading[d].length>1)){var C=function(){r(d,function(w,_){_&&(v.$loaded[d]=_),v._emit("load.module",{name:d,module:_});var k=v.$loading[d];v.$loading[d]=null,k.forEach(function(A){A&&A(_)})})};if(!v.get("packaged"))return C();y.loadScript(v.moduleUrl(d,a),C),i()}};if(v.dynamicModules[d])v.dynamicModules[d]().then(function(x){x.default?m(x.default):m(x)});else{try{u=this.$require(d)}catch{}m(u||v.$loaded[d])}},v.$require=function(s){if(typeof L.require=="function"){var c="require";return L[c](s)}},v.setModuleLoader=function(s,c){v.dynamicModules[s]=c};var i=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};v.version="1.43.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(g,v,L){g("./lib/fixoldbrowsers");var S=g("./config");S.setLoader(function(h,r){g([h],function(n){r(null,n)})});var y=(function(){return this||typeof window<"u"&&window})();L.exports=function(h){S.init=f,S.$require=g,h.require=g},f(!0);function f(h){if(!(!y||!y.document)){S.set("packaged",h||g.packaged||L.packaged||y.define&&(void 0).packaged);var r={},n="",i=document.currentScript||document._currentScript,s=i&&i.ownerDocument||document;i&&i.src&&(n=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var c=s.getElementsByTagName("script"),u=0;u<c.length;u++){var a=c[u],d=a.src||a.getAttribute("src");if(d){for(var m=a.attributes,x=0,C=m.length;x<C;x++){var w=m[x];w.name.indexOf("data-ace-")===0&&(r[o(w.name.replace(/^data-ace-/,""))]=w.value)}var _=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(n=_[1])}}n&&(r.base=r.base||n,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base;for(var k in r)typeof r[k]<"u"&&S.set(k,r[k])}}function o(h){return h.replace(/-(.)/g,function(r,n){return n.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(g,v,L){var S=(function(){function y(f,o,h,r){this.start={row:f,column:o},this.end={row:h,column:r}}return y.prototype.isEqual=function(f){return this.start.row===f.start.row&&this.end.row===f.end.row&&this.start.column===f.start.column&&this.end.column===f.end.column},y.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},y.prototype.contains=function(f,o){return this.compare(f,o)==0},y.prototype.compareRange=function(f){var o,h=f.end,r=f.start;return o=this.compare(h.row,h.column),o==1?(o=this.compare(r.row,r.column),o==1?2:o==0?1:0):o==-1?-2:(o=this.compare(r.row,r.column),o==-1?-1:o==1?42:0)},y.prototype.comparePoint=function(f){return this.compare(f.row,f.column)},y.prototype.containsRange=function(f){return this.comparePoint(f.start)==0&&this.comparePoint(f.end)==0},y.prototype.intersects=function(f){var o=this.compareRange(f);return o==-1||o==0||o==1},y.prototype.isEnd=function(f,o){return this.end.row==f&&this.end.column==o},y.prototype.isStart=function(f,o){return this.start.row==f&&this.start.column==o},y.prototype.setStart=function(f,o){typeof f=="object"?(this.start.column=f.column,this.start.row=f.row):(this.start.row=f,this.start.column=o)},y.prototype.setEnd=function(f,o){typeof f=="object"?(this.end.column=f.column,this.end.row=f.row):(this.end.row=f,this.end.column=o)},y.prototype.inside=function(f,o){return this.compare(f,o)==0?!(this.isEnd(f,o)||this.isStart(f,o)):!1},y.prototype.insideStart=function(f,o){return this.compare(f,o)==0?!this.isEnd(f,o):!1},y.prototype.insideEnd=function(f,o){return this.compare(f,o)==0?!this.isStart(f,o):!1},y.prototype.compare=function(f,o){return!this.isMultiLine()&&f===this.start.row?o<this.start.column?-1:o>this.end.column?1:0:f<this.start.row?-1:f>this.end.row?1:this.start.row===f?o>=this.start.column?0:-1:this.end.row===f?o<=this.end.column?0:1:0},y.prototype.compareStart=function(f,o){return this.start.row==f&&this.start.column==o?-1:this.compare(f,o)},y.prototype.compareEnd=function(f,o){return this.end.row==f&&this.end.column==o?1:this.compare(f,o)},y.prototype.compareInside=function(f,o){return this.end.row==f&&this.end.column==o?1:this.start.row==f&&this.start.column==o?-1:this.compare(f,o)},y.prototype.clipRows=function(f,o){if(this.end.row>o)var h={row:o+1,column:0};else if(this.end.row<f)var h={row:f,column:0};if(this.start.row>o)var r={row:o+1,column:0};else if(this.start.row<f)var r={row:f,column:0};return y.fromPoints(r||this.start,h||this.end)},y.prototype.extend=function(f,o){var h=this.compare(f,o);if(h==0)return this;if(h==-1)var r={row:f,column:o};else var n={row:f,column:o};return y.fromPoints(r||this.start,n||this.end)},y.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},y.prototype.isMultiLine=function(){return this.start.row!==this.end.row},y.prototype.clone=function(){return y.fromPoints(this.start,this.end)},y.prototype.collapseRows=function(){return this.end.column==0?new y(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new y(this.start.row,0,this.end.row,0)},y.prototype.toScreenRange=function(f){var o=f.documentToScreenPosition(this.start),h=f.documentToScreenPosition(this.end);return new y(o.row,o.column,h.row,h.column)},y.prototype.moveBy=function(f,o){this.start.row+=f,this.start.column+=o,this.end.row+=f,this.end.column+=o},y})();S.fromPoints=function(y,f){return new S(y.row,y.column,f.row,f.column)},S.comparePoints=function(y,f){return y.row-f.row||y.column-f.column},v.Range=S}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(g,v,L){for(var S=g("./oop"),y={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},f={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},o=0;o<10;o++)f["Digit"+o]=48+o,f["Numpad"+o]=96+o,y.PRINTABLE_KEYS[48+o]=""+o,y.FUNCTION_KEYS[96+o]="Numpad"+o;for(var o=65;o<91;o++){var h=String.fromCharCode(o+32);f["Key"+h.toUpperCase()]=o,y.PRINTABLE_KEYS[o]=h}for(var o=1;o<13;o++)f["F"+o]=111+o,y.FUNCTION_KEYS[111+o]="F"+o;var r={Shift:16,Control:17,Alt:18,Meta:224};for(var n in r)f[n]=f[n+"Left"]=f[n+"Right"]=r[n];v.$codeToKeyCode=f,y.PRINTABLE_KEYS[173]="-";for(var i in y.FUNCTION_KEYS){var s=y.FUNCTION_KEYS[i].toLowerCase();y[s]=parseInt(i,10)}for(var i in y.PRINTABLE_KEYS){var s=y.PRINTABLE_KEYS[i].toLowerCase();y[s]=parseInt(i,10)}S.mixin(y,y.MODIFIER_KEYS),S.mixin(y,y.PRINTABLE_KEYS),S.mixin(y,y.FUNCTION_KEYS),y.enter=y.return,y.escape=y.esc,y.del=y.delete,(function(){for(var c=["cmd","ctrl","alt","shift"],u=Math.pow(2,c.length);u--;)y.KEY_MODS[u]=c.filter(function(a){return u&y.KEY_MODS[a]}).join("-")+"-"})(),y.KEY_MODS[0]="",y.KEY_MODS[-1]="input-",S.mixin(v,y),v.default=v,v.keyCodeToString=function(c){var u=y[c];return typeof u!="string"&&(u=String.fromCharCode(c)),u.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(g,v,L){var S=g("./keys"),y=g("./useragent"),f=null,o=0,h;function r(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return h={passive:!1},!0}})}catch{}}function n(){return h==null&&r(),h}function i(x,C,w){this.elem=x,this.type=C,this.callback=w}i.prototype.destroy=function(){c(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var s=v.addListener=function(x,C,w,_){x.addEventListener(C,w,n()),_&&_.$toDestroy.push(new i(x,C,w))},c=v.removeListener=function(x,C,w){x.removeEventListener(C,w,n())};v.stopEvent=function(x){return v.stopPropagation(x),v.preventDefault(x),!1},v.stopPropagation=function(x){x.stopPropagation&&x.stopPropagation()},v.preventDefault=function(x){x.preventDefault&&x.preventDefault()},v.getButton=function(x){return x.type=="dblclick"?0:x.type=="contextmenu"||y.isMac&&x.ctrlKey&&!x.altKey&&!x.shiftKey?2:x.button},v.capture=function(x,C,w){var _=x&&x.ownerDocument||document;function k(A){C&&C(A),w&&w(A),c(_,"mousemove",C),c(_,"mouseup",k),c(_,"dragstart",k)}return s(_,"mousemove",C),s(_,"mouseup",k),s(_,"dragstart",k),k},v.addMouseWheelListener=function(x,C,w){s(x,"wheel",function(_){var k=.15,A=_.deltaX||0,T=_.deltaY||0;switch(_.deltaMode){case _.DOM_DELTA_PIXEL:_.wheelX=A*k,_.wheelY=T*k;break;case _.DOM_DELTA_LINE:var j=15;_.wheelX=A*j,_.wheelY=T*j;break;case _.DOM_DELTA_PAGE:var F=150;_.wheelX=A*F,_.wheelY=T*F;break}C(_)},w)},v.addMultiMouseDownListener=function(x,C,w,_,k){var A=0,T,j,F,$={2:"dblclick",3:"tripleclick",4:"quadclick"};function D(M){if(v.getButton(M)!==0?A=0:M.detail>1?(A++,A>4&&(A=1)):A=1,y.isIE){var R=Math.abs(M.clientX-T)>5||Math.abs(M.clientY-j)>5;(!F||R)&&(A=1),F&&clearTimeout(F),F=setTimeout(function(){F=null},C[A-1]||600),A==1&&(T=M.clientX,j=M.clientY)}if(M._clicks=A,w[_]("mousedown",M),A>4)A=0;else if(A>1)return w[_]($[A],M)}Array.isArray(x)||(x=[x]),x.forEach(function(M){s(M,"mousedown",D,k)})};function u(x){return 0|(x.ctrlKey?1:0)|(x.altKey?2:0)|(x.shiftKey?4:0)|(x.metaKey?8:0)}v.getModifierString=function(x){return S.KEY_MODS[u(x)]};function a(x,C,w){var _=u(C);if(!w&&C.code&&(w=S.$codeToKeyCode[C.code]||w),!y.isMac&&f){if(C.getModifierState&&(C.getModifierState("OS")||C.getModifierState("Win"))&&(_|=8),f.altGr)if((3&_)!=3)f.altGr=0;else return;if(w===18||w===17){var k=C.location;if(w===17&&k===1)f[w]==1&&(o=C.timeStamp);else if(w===18&&_===3&&k===2){var A=C.timeStamp-o;A<50&&(f.altGr=!0)}}}if(w in S.MODIFIER_KEYS&&(w=-1),!(!_&&w===13&&C.location===3&&(x(C,_,-w),C.defaultPrevented))){if(y.isChromeOS&&_&8){if(x(C,_,w),C.defaultPrevented)return;_&=-9}return!_&&!(w in S.FUNCTION_KEYS)&&!(w in S.PRINTABLE_KEYS)?!1:x(C,_,w)}}v.addCommandKeyListener=function(x,C,w){var _=null;s(x,"keydown",function(k){f[k.keyCode]=(f[k.keyCode]||0)+1;var A=a(C,k,k.keyCode);return _=k.defaultPrevented,A},w),s(x,"keypress",function(k){_&&(k.ctrlKey||k.altKey||k.shiftKey||k.metaKey)&&(v.stopEvent(k),_=null)},w),s(x,"keyup",function(k){f[k.keyCode]=null},w),f||(d(),s(window,"focus",d))};function d(){f=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!y.isOldIE){var m=1;v.nextTick=function(x,C){C=C||window;var w="zero-timeout-message-"+m++,_=function(k){k.data==w&&(v.stopPropagation(k),c(C,"message",_),x())};s(C,"message",_),C.postMessage(w,"*")}}v.$idleBlocked=!1,v.onIdle=function(x,C){return setTimeout(function w(){v.$idleBlocked?setTimeout(w,100):x()},C)},v.$idleBlockId=null,v.blockIdle=function(x){v.$idleBlockId&&clearTimeout(v.$idleBlockId),v.$idleBlocked=!0,v.$idleBlockId=setTimeout(function(){v.$idleBlocked=!1},x||100)},v.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),v.nextFrame?v.nextFrame=v.nextFrame.bind(window):v.nextFrame=function(x){setTimeout(x,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(g,v,L){var S;L.exports={lineMode:!1,pasteCancelled:function(){return S&&S>Date.now()-50?!0:S=!1},cancel:function(){S=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(g,v,L){var S=g("../lib/event"),y=g("../config").nls,f=g("../lib/useragent"),o=g("../lib/dom"),h=g("../lib/lang"),r=g("../clipboard"),n=f.isChrome<18,i=f.isIE,s=f.isChrome>63,c=400,u=g("../lib/keys"),a=u.KEY_MODS,d=f.isIOS,m=d?/\s/:/\n/,x=f.isMobile,C=(function(){function w(_,k){var A=this;this.host=k,this.text=o.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",_.insertBefore(this.text,_.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",x||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),S.addListener(this.text,"blur",function(T){A.ignoreFocusEvents||(k.onBlur(T),A.$isFocused=!1)},k),S.addListener(this.text,"focus",function(T){if(!A.ignoreFocusEvents){if(A.$isFocused=!0,f.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(T),f.isEdge?setTimeout(A.resetSelection.bind(A)):A.resetSelection()}},k),this.$focusScroll=!1,k.on("beforeEndOperation",function(){var T=k.curOp,j=T&&T.command&&T.command.name;if(j!="insertstring"){var F=j&&(T.docChanged||T.selectionChanged);A.inComposition&&F&&(A.lastValue=A.text.value="",A.onCompositionEnd()),A.resetSelection()}}),k.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=d?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&k.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,S.addCommandKeyListener(this.text,function(T,j,F){if(!A.inComposition)return k.onCommandKey(T,j,F)},k),S.addListener(this.text,"select",this.onSelect.bind(this),k),S.addListener(this.text,"input",this.onInput.bind(this),k),S.addListener(this.text,"cut",this.onCut.bind(this),k),S.addListener(this.text,"copy",this.onCopy.bind(this),k),S.addListener(this.text,"paste",this.onPaste.bind(this),k),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&S.addListener(_,"keydown",function(T){if(!(f.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:A.onCopy(T);break;case 86:A.onPaste(T);break;case 88:A.onCut(T);break}},k),this.syncComposition=h.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),S.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),k),S.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),k),S.addListener(this.text,"keyup",this.onKeyup.bind(this),k),S.addListener(this.text,"keydown",this.syncComposition.bind(this),k),S.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),k),this.closeTimeout,S.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),k),S.addListener(this.text,"mousedown",function(T){T.preventDefault(),A.onContextMenuClose()},k),S.addListener(k.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),k),S.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),k),d&&this.addIosSelectionHandler(_,k,this.text)}return w.prototype.addIosSelectionHandler=function(_,k,A){var T=this,j=null,F=!1;A.addEventListener("keydown",function(D){j&&clearTimeout(j),F=!0},!0),A.addEventListener("keyup",function(D){j=setTimeout(function(){F=!1},100)},!0);var $=function(D){if(document.activeElement===A&&!(F||T.inComposition||k.$mouseHandler.isMousePressed)&&!T.copied){var M=A.selectionStart,R=A.selectionEnd,O=null,z=0;if(M==0?O=u.up:M==1?O=u.home:R>T.lastSelectionEnd&&T.lastValue[R]==`
`?O=u.end:M<T.lastSelectionStart&&T.lastValue[M-1]==" "?(O=u.left,z=a.option):M<T.lastSelectionStart||M==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&M==R?O=u.left:R>T.lastSelectionEnd&&T.lastValue.slice(0,R).split(`
`).length>2?O=u.down:R>T.lastSelectionEnd&&T.lastValue[R-1]==" "?(O=u.right,z=a.option):(R>T.lastSelectionEnd||R==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&M==R)&&(O=u.right),M!==R&&(z|=a.shift),O){var B=k.onCommandKey({},z,O);if(!B&&k.commands){O=u.keyCodeToString(O);var P=k.commands.findKeyCommand(z,O);P&&k.execCommand(P)}T.lastSelectionStart=M,T.lastSelectionEnd=R,T.resetSelection("")}}};document.addEventListener("selectionchange",$),k.on("destroy",function(){document.removeEventListener("selectionchange",$)})},w.prototype.onContextMenuClose=function(){var _=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){_.tempStyle&&(_.text.style.cssText=_.tempStyle,_.tempStyle=""),_.host.renderer.$isMousePressed=!1,_.host.renderer.$keepTextAreaAtCursor&&_.host.renderer.$moveTextAreaToCursor()},0)},w.prototype.$onContextMenu=function(_){this.host.textInput.onContextMenu(_),this.onContextMenuClose()},w.prototype.onKeyup=function(_){_.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},w.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},w.prototype.onCompositionStart=function(_){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){_.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var k=this.host.getSelectionRange();k.end.row=k.start.row,k.end.column=k.start.column,this.inComposition.markerRange=k,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},w.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var _=this.text.value;this.sendText(_),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},w.prototype.onCompositionEnd=function(_){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),_&&this.onInput())},w.prototype.onCut=function(_){this.doCopy(_,!0)},w.prototype.onCopy=function(_){this.doCopy(_,!1)},w.prototype.onPaste=function(_){var k=this.handleClipboardData(_);r.pasteCancelled()||(typeof k=="string"?(k&&this.host.onPaste(k,_),f.isIE&&setTimeout(this.resetSelection),S.preventDefault(_)):(this.text.value="",this.pasted=!0))},w.prototype.doCopy=function(_,k){var A=this,T=this.host.getCopyText();if(!T)return S.preventDefault(_);this.handleClipboardData(_,T)?(d&&(this.resetSelection(T),this.copied=T,setTimeout(function(){A.copied=!1},10)),k?this.host.onCut():this.host.onCopy(),S.preventDefault(_)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){A.copied=!1,A.resetSelection(),k?A.host.onCut():A.host.onCopy()}))},w.prototype.handleClipboardData=function(_,k,A){var T=_.clipboardData||window.clipboardData;if(!(!T||n)){var j=i||A?"Text":"text/plain";try{return k?T.setData(j,k)!==!1:T.getData(j)}catch(F){if(!A)return this.handleClipboardData(F,k,!0)}}},w.prototype.onInput=function(_){if(this.inComposition)return this.onCompositionUpdate();if(_&&_.inputType){if(_.inputType=="historyUndo")return this.host.execCommand("undo");if(_.inputType=="historyRedo")return this.host.execCommand("redo")}var k=this.text.value,A=this.sendText(k,!0);(k.length>c+100||m.test(A)||x&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},w.prototype.sendText=function(_,k){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),_&&this.host.onPaste(_),this.pasted=!1,"";for(var A=this.text.selectionStart,T=this.text.selectionEnd,j=this.lastSelectionStart,F=this.lastValue.length-this.lastSelectionEnd,$=_,D=_.length-A,M=_.length-T,R=0;j>0&&this.lastValue[R]==_[R];)R++,j--;for($=$.slice(R),R=1;F>0&&this.lastValue.length-R>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-R]==_[_.length-R];)R++,F--;D-=R-1,M-=R-1;var O=$.length-R+1;if(O<0&&(j=-O,O=0),$=$.slice(0,O),!k&&!$&&!D&&!j&&!F&&!M)return"";this.sendingText=!0;var z=!1;return f.isAndroid&&$==". "&&($="  ",z=!0),$&&!j&&!F&&!D&&!M||this.commandMode?this.host.onTextInput($):this.host.onTextInput($,{extendLeft:j,extendRight:F,restoreStart:D,restoreEnd:M}),this.sendingText=!1,this.lastValue=_,this.lastSelectionStart=A,this.lastSelectionEnd=T,this.lastRestoreEnd=M,z?`
`:$},w.prototype.onSelect=function(_){var k=this;if(!this.inComposition){var A=function(T){return T.selectionStart===0&&T.selectionEnd>=k.lastValue.length&&T.value===k.lastValue&&k.lastValue&&T.selectionEnd!==k.lastSelectionEnd};this.copied?this.copied=!1:A(this.text)?(this.host.selectAll(),this.resetSelection()):x&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},w.prototype.$resetSelectionIOS=function(_){if(!(!this.$isFocused||this.copied&&!_||this.sendingText)){_||(_="");var k=`
 ab`+_+`cde fg
`;k!=this.text.value&&(this.text.value=this.lastValue=k);var A=4,T=4+(_.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=A||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(A,T),this.lastSelectionStart=A,this.lastSelectionEnd=T}},w.prototype.$resetSelection=function(){var _=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var k=0,A=0,T="",j=function(P,U){for(var W=U,K=1;K<=P-_.rowStart&&K<2*_.numberOfExtraLines+1;K++)W+=_.host.session.getLine(P-K).length+1;return W};if(this.host.session){var F=this.host.selection,$=F.getRange(),D=F.cursor.row;D===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):D===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(D<this.rowStart-1||D>this.rowEnd+1)&&(this.rowStart=D>this.numberOfExtraLines?D-this.numberOfExtraLines:0,this.rowEnd=D>this.numberOfExtraLines?D+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var M=[],R=this.rowStart;R<=this.rowEnd;R++)M.push(this.host.session.getLine(R));if(T=M.join(`
`),k=j($.start.row,$.start.column),A=j($.end.row,$.end.column),$.start.row<this.rowStart){var O=this.host.session.getLine(this.rowStart-1);k=$.start.row<this.rowStart-1?0:k,A+=O.length+1,T=O+`
`+T}else if($.end.row>this.rowEnd){var z=this.host.session.getLine(this.rowEnd+1);A=$.end.row>this.rowEnd+1?z.length:$.end.column,A+=T.length+1,T=T+`
`+z}else x&&D>0&&(T=`
`+T,A+=1,k+=1);T.length>c&&(k<c&&A<c?T=T.slice(0,c):(T=`
`,k==A?k=A=0:(k=0,A=1)));var B=T+`

`;B!=this.lastValue&&(this.text.value=this.lastValue=B,this.lastSelectionStart=this.lastSelectionEnd=B.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=A||this.lastSelectionStart!=k||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(k,A),this.lastSelectionStart=k,this.lastSelectionEnd=A}catch{}this.inComposition=!1}},w.prototype.setHost=function(_){this.host=_},w.prototype.setNumberOfExtraLines=function(_){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,_<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=_},w.prototype.setAriaLabel=function(){var _="";if(this.host.$textInputAriaLabel&&(_+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var k=this.host.session.selection.cursor.row;_+=y("text-input.aria-label","Cursor at row $0",[k+1])}this.text.setAttribute("aria-label",_)},w.prototype.setAriaOptions=function(_){_.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",_.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",_.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),_.role&&this.text.setAttribute("role",_.role),_.setLabel&&(this.text.setAttribute("aria-roledescription",y("text-input.aria-roledescription","editor")),this.setAriaLabel())},w.prototype.focus=function(){var _=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||s||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var k=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var A=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(A)for(var j=this.text.parentElement;j&&j.nodeType==1;)T.push(j),j.setAttribute("ace_nocontext","true"),!j.parentElement&&j.getRootNode?j=j.getRootNode().host:j=j.parentElement;this.text.focus({preventScroll:!0}),A&&T.forEach(function(F){F.removeAttribute("ace_nocontext")}),setTimeout(function(){_.text.style.position="",_.text.style.top=="0px"&&(_.text.style.top=k)},0)},w.prototype.blur=function(){this.text.blur()},w.prototype.isFocused=function(){return this.$isFocused},w.prototype.setInputHandler=function(_){this.inputHandler=_},w.prototype.getInputHandler=function(){return this.inputHandler},w.prototype.getElement=function(){return this.text},w.prototype.setCommandMode=function(_){this.commandMode=_,this.text.readOnly=!1},w.prototype.setReadOnly=function(_){this.commandMode||(this.text.readOnly=_)},w.prototype.setCopyWithEmptySelection=function(_){},w.prototype.onContextMenu=function(_){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:_}),this.moveToMouse(_,!0)},w.prototype.moveToMouse=function(_,k){var A=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(k?"z-index:100000;":"")+(f.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),j=o.computedStyle(this.host.container),F=T.top+(parseInt(j.borderTopWidth)||0),$=T.left+(parseInt(j.borderLeftWidth)||0),D=T.bottom-F-this.text.clientHeight-2,M=function(R){o.translate(A.text,R.clientX-$-2,Math.min(R.clientY-F-2,D))};M(_),_.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),f.isWin&&S.capture(this.host.container,M,this.onContextMenuClose.bind(this)))},w.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},w})();v.TextInput=C,v.$setUserAgentForTests=function(w,_){x=w,d=_}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(g,v,L){var S=g("../lib/useragent"),y=0,f=550,o=(function(){function n(i){i.$clickSelection=null;var s=i.editor;s.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),s.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),s.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),s.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),s.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var c=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];c.forEach(function(u){i[u]=this[u]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return n.prototype.onMouseDown=function(i){var s=i.inSelection(),c=i.getDocumentPosition();this.mousedownEvent=i;var u=this.editor,a=i.getButton();if(a!==0){var d=u.getSelectionRange(),m=d.isEmpty();(m||a==1)&&u.selection.moveToPosition(c),a==2&&(u.textInput.onContextMenu(i.domEvent),S.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),s&&!u.isFocused()&&(u.focus(),this.$focusTimeout&&!this.$clickSelection&&!u.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(c,i.domEvent._clicks>1),i.preventDefault()},n.prototype.startSelect=function(i,s){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var c=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?c.selection.selectToPosition(i):s||c.selection.moveToPosition(i),s||this.select(),c.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var i,s=this.editor,c=s.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var u=this.$clickSelection.comparePoint(c);if(u==-1)i=this.$clickSelection.end;else if(u==1)i=this.$clickSelection.start;else{var a=r(this.$clickSelection,c,s.session);c=a.cursor,i=a.anchor}s.selection.setSelectionAnchor(i.row,i.column)}s.selection.selectToPosition(c),s.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(i){var s,c=this.editor,u=c.renderer.screenToTextCoordinates(this.x,this.y),a=c.selection[i](u.row,u.column);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(a.start),m=this.$clickSelection.comparePoint(a.end);if(d==-1&&m<=0)s=this.$clickSelection.end,(a.end.row!=u.row||a.end.column!=u.column)&&(u=a.start);else if(m==1&&d>=0)s=this.$clickSelection.start,(a.start.row!=u.row||a.start.column!=u.column)&&(u=a.end);else if(d==-1&&m==1)u=a.end,s=a.start;else{var x=r(this.$clickSelection,u,c.session);u=x.cursor,s=x.anchor}c.selection.setSelectionAnchor(s.row,s.column)}c.selection.selectToPosition(u),c.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var i=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),s=Date.now();(i>y||s-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(i){var s=i.getDocumentPosition(),c=this.editor,u=c.session,a=u.getBracketRange(s);a?(a.isEmpty()&&(a.start.column--,a.end.column++),this.setState("select")):(a=c.selection.getWordRange(s.row,s.column),this.setState("selectByWords")),this.$clickSelection=a,this.select()},n.prototype.onTripleClick=function(i){var s=i.getDocumentPosition(),c=this.editor;this.setState("selectByLines");var u=c.getSelectionRange();u.isMultiLine()&&u.contains(s.row,s.column)?(this.$clickSelection=c.selection.getLineRange(u.start.row),this.$clickSelection.end=c.selection.getLineRange(u.end.row).end):this.$clickSelection=c.selection.getLineRange(s.row),this.select()},n.prototype.onQuadClick=function(i){var s=this.editor;s.selectAll(),this.$clickSelection=s.getSelectionRange(),this.setState("selectAll")},n.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var s=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var c=this.$lastScroll,u=i.domEvent.timeStamp,a=u-c.t,d=a?i.wheelX/a:c.vx,m=a?i.wheelY/a:c.vy;a<f&&(d=(d+c.vx)/2,m=(m+c.vy)/2);var x=Math.abs(d/m),C=!1;if(x>=1&&s.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(C=!0),x<=1&&s.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(C=!0),C)c.allowed=u;else if(u-c.allowed<f){var w=Math.abs(d)<=1.5*Math.abs(c.vx)&&Math.abs(m)<=1.5*Math.abs(c.vy);w?(C=!0,c.allowed=u):c.allowed=0}if(c.t=u,c.vx=d,c.vy=m,C)return s.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},n})();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,v.DefaultHandlers=o;function h(n,i,s,c){return Math.sqrt(Math.pow(s-n,2)+Math.pow(c-i,2))}function r(n,i,s){if(n.start.row==n.end.row)var c=2*i.column-n.start.column-n.end.column;else if(n.start.row==n.end.row-1&&!n.start.column&&!n.end.column)var c=3*i.column-2*s.getLine(n.start.row).length;else var c=2*i.row-n.start.row-n.end.row;return c<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(g,v,L){var S=g("../lib/event"),y=g("../lib/useragent"),f=(function(){function o(h,r){this.speed,this.wheelX,this.wheelY,this.domEvent=h,this.editor=r,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return o.prototype.stopPropagation=function(){S.stopPropagation(this.domEvent),this.propagationStopped=!0},o.prototype.preventDefault=function(){S.preventDefault(this.domEvent),this.defaultPrevented=!0},o.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},o.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},o.prototype.getGutterRow=function(){var h=this.getDocumentPosition().row,r=this.editor.session.documentToScreenRow(h,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return r-n},o.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,r=h.getSelectionRange();if(r.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=r.contains(n.row,n.column)}return this.$inSelection},o.prototype.getButton=function(){return S.getButton(this.domEvent)},o.prototype.getShiftKey=function(){return this.domEvent.shiftKey},o.prototype.getAccelKey=function(){return y.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},o})();v.MouseEvent=f}),ace.define("ace/lib/scroll",["require","exports","module"],function(g,v,L){v.preventParentScroll=function(y){y.stopPropagation();var f=y.currentTarget,o=f.scrollHeight>f.clientHeight;o||y.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(g,v,L){var S=this&&this.__extends||(function(){var u=function(a,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(m[C]=x[C])},u(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(a,d);function m(){this.constructor=a}a.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})(),y=this&&this.__values||function(u){var a=typeof Symbol=="function"&&Symbol.iterator,d=a&&u[a],m=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&m>=u.length&&(u=void 0),{value:u&&u[m++],done:!u}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},f=g("./lib/dom");g("./lib/event");var o=g("./range").Range,h=g("./lib/scroll").preventParentScroll,r="ace_tooltip",n=(function(){function u(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}return u.prototype.$init=function(){return this.$element=f.createElement("div"),this.$element.className=r,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},u.prototype.getElement=function(){return this.$element||this.$init()},u.prototype.setText=function(a){this.getElement().textContent=a},u.prototype.setHtml=function(a){this.getElement().innerHTML=a},u.prototype.setPosition=function(a,d){this.getElement().style.left=a+"px",this.getElement().style.top=d+"px"},u.prototype.setClassName=function(a){f.addCssClass(this.getElement(),a)},u.prototype.setTheme=function(a){this.theme&&(this.theme.isDark&&f.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&f.removeCssClass(this.getElement(),this.theme.cssClass)),a.isDark&&f.addCssClass(this.getElement(),"ace_dark"),a.cssClass&&f.addCssClass(this.getElement(),a.cssClass),this.theme={isDark:a.isDark,cssClass:a.cssClass}},u.prototype.show=function(a,d,m){a!=null&&this.setText(a),d!=null&&m!=null&&this.setPosition(d,m),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},u.prototype.hide=function(a){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=r,this.isOpen=!1)},u.prototype.getHeight=function(){return this.getElement().offsetHeight},u.prototype.getWidth=function(){return this.getElement().offsetWidth},u.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},u})(),i=(function(){function u(){this.popups=[]}return u.prototype.addPopup=function(a){this.popups.push(a),this.updatePopups()},u.prototype.removePopup=function(a){var d=this.popups.indexOf(a);d!==-1&&(this.popups.splice(d,1),this.updatePopups())},u.prototype.updatePopups=function(){var a,d,m,x;this.popups.sort(function($,D){return D.priority-$.priority});var C=[];try{for(var w=y(this.popups),_=w.next();!_.done;_=w.next()){var k=_.value,A=!0;try{for(var T=(m=void 0,y(C)),j=T.next();!j.done;j=T.next()){var F=j.value;if(this.doPopupsOverlap(F,k)){A=!1;break}}}catch($){m={error:$}}finally{try{j&&!j.done&&(x=T.return)&&x.call(T)}finally{if(m)throw m.error}}A?C.push(k):k.hide()}}catch($){a={error:$}}finally{try{_&&!_.done&&(d=w.return)&&d.call(w)}finally{if(a)throw a.error}}},u.prototype.doPopupsOverlap=function(a,d){var m=a.getElement().getBoundingClientRect(),x=d.getElement().getBoundingClientRect();return m.left<x.right&&m.right>x.left&&m.top<x.bottom&&m.bottom>x.top},u})(),s=new i;v.popupManager=s,v.Tooltip=n;var c=(function(u){S(a,u);function a(d){d===void 0&&(d=document.body);var m=u.call(this,d)||this;m.timeout=void 0,m.lastT=0,m.idleTime=350,m.lastEvent=void 0,m.onMouseOut=m.onMouseOut.bind(m),m.onMouseMove=m.onMouseMove.bind(m),m.waitForHover=m.waitForHover.bind(m),m.hide=m.hide.bind(m);var x=m.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",m.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",(function(){x.contains(document.activeElement)||this.hide()}).bind(m)),x.addEventListener("wheel",h),m}return a.prototype.addToEditor=function(d){d.on("mousemove",this.onMouseMove),d.on("mousedown",this.hide);var m=d.renderer.getMouseEventTarget();m&&typeof m.removeEventListener=="function"&&m.addEventListener("mouseout",this.onMouseOut,!0)},a.prototype.removeFromEditor=function(d){d.off("mousemove",this.onMouseMove),d.off("mousedown",this.hide);var m=d.renderer.getMouseEventTarget();m&&typeof m.removeEventListener=="function"&&m.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.onMouseMove=function(d,m){this.lastEvent=d,this.lastT=Date.now();var x=m.$mouseHandler.isMousePressed;if(this.isOpen){var C=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(C.row,C.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=d,this.timeout=setTimeout(this.waitForHover,this.idleTime))},a.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var d=Date.now()-this.lastT;if(this.idleTime-d>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-d);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},a.prototype.isOutsideOfText=function(d){var m=d.editor,x=d.getDocumentPosition(),C=m.session.getLine(x.row);if(x.column==C.length){var w=m.renderer.pixelToScreenCoordinates(d.clientX,d.clientY),_=m.session.documentToScreenPosition(x.row,x.column);if(_.column!=w.column||_.row!=w.row)return!0}return!1},a.prototype.setDataProvider=function(d){this.$gatherData=d},a.prototype.showForRange=function(d,m,x,C){if(!(C&&C!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=d.renderer;this.isOpen||(s.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.range=o.fromPoints(m.start,m.end);var _=w.textToScreenCoordinates(m.start.row,m.start.column),k=w.scroller.getBoundingClientRect();_.pageX<k.left&&(_.pageX=k.left);var A=this.getElement();A.innerHTML="",A.appendChild(x),A.style.maxHeight="",A.style.display="block",this.$setPosition(d,_,!0,m),f.$fixPositionBug(A)}},a.prototype.$setPosition=function(d,m,x,C){var w=10;x&&this.addMarker(C,d.session);var _=d.renderer,k=this.getElement(),A=k.offsetHeight,T=k.offsetWidth,j=m.pageY,F=m.pageX,$=window.innerHeight-j-_.lineHeight,D=this.$shouldPlaceAbove(A,j,$-w);k.style.maxHeight=(D?j:$)-w+"px",k.style.top=D?"":j+_.lineHeight+"px",k.style.bottom=D?window.innerHeight-j+"px":"",k.style.left=Math.min(F,window.innerWidth-T-w)+"px"},a.prototype.$shouldPlaceAbove=function(d,m,x){return!(m-d<0&&m<x)},a.prototype.addMarker=function(d,m){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=m,this.marker=m&&m.addMarker(d,"ace_highlight-marker","text")},a.prototype.hide=function(d){d&&this.$fromKeyboard&&d.type=="keydown"&&d.code=="Escape"||!d&&document.activeElement==this.getElement()||d&&d.target&&(d.type!="keydown"||d.ctrlKey||d.metaKey)&&this.$element.contains(d.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,s.removePopup(this)))},a.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},a.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},a.prototype.onMouseOut=function(d){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!d.relatedTarget||this.getElement().contains(d.relatedTarget)||d&&d.currentTarget.contains(d.relatedTarget)||d.relatedTarget.classList.contains("ace_content")||this.hide())},a})(n);v.HoverTooltip=c}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(g,v,L){var S=this&&this.__extends||(function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},c(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(u,a);function d(){this.constructor=u}u.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}})(),y=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&c[u],d=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&d>=c.length&&(c=void 0),{value:c&&c[d++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},f=g("../lib/dom"),o=g("./mouse_event").MouseEvent,h=g("../tooltip").HoverTooltip,r=g("../config").nls,n=g("../range").Range;function i(c){var u=c.editor,a=u.renderer.$gutterLayer;c.$tooltip=new s(u),c.$tooltip.addToEditor(u),c.$tooltip.setDataProvider(function(d,m){var x=d.getDocumentPosition().row;c.$tooltip.showTooltip(x)}),c.editor.setDefaultHandler("guttermousedown",function(d){if(!(!u.isFocused()||d.getButton()!=0)){var m=a.getRegion(d);if(m!="foldWidgets"){var x=d.getDocumentPosition().row,C=u.session.selection;if(d.getShiftKey())C.selectTo(x,0);else{if(d.domEvent.detail==2)return u.selectAll(),d.preventDefault();c.$clickSelection=u.selection.getLineRange(x)}return c.setState("selectByLines"),c.captureMouse(d),d.preventDefault()}}})}v.GutterHandler=i;var s=(function(c){S(u,c);function u(a){var d=c.call(this,a.container)||this;d.id="gt"+ ++u.$uid,d.editor=a,d.visibleTooltipRow;var m=d.getElement();return m.setAttribute("role","tooltip"),m.setAttribute("id",d.id),m.style.pointerEvents="auto",d.idleTime=50,d.onDomMouseMove=d.onDomMouseMove.bind(d),d.onDomMouseOut=d.onDomMouseOut.bind(d),d.setClassName("ace_gutter-tooltip"),d}return u.prototype.onDomMouseMove=function(a){var d=new o(a,this.editor);this.onMouseMove(d,this.editor)},u.prototype.onDomMouseOut=function(a){var d=new o(a,this.editor);this.onMouseOut(d)},u.prototype.addToEditor=function(a){var d=a.renderer.$gutter;d.addEventListener("mousemove",this.onDomMouseMove),d.addEventListener("mouseout",this.onDomMouseOut),c.prototype.addToEditor.call(this,a)},u.prototype.removeFromEditor=function(a){var d=a.renderer.$gutter;d.removeEventListener("mousemove",this.onDomMouseMove),d.removeEventListener("mouseout",this.onDomMouseOut),c.prototype.removeFromEditor.call(this,a)},u.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),c.prototype.destroy.call(this)},Object.defineProperty(u,"annotationLabels",{get:function(){return{error:{singular:r("gutter-tooltip.aria-label.error.singular","error"),plural:r("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:r("gutter-tooltip.aria-label.security.singular","security finding"),plural:r("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:r("gutter-tooltip.aria-label.warning.singular","warning"),plural:r("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:r("gutter-tooltip.aria-label.info.singular","information message"),plural:r("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:r("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:r("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),u.prototype.showTooltip=function(a){var d,m=this.editor.renderer.$gutterLayer,x=m.$annotations[a],C;x?C={displayText:Array.from(x.displayText),type:Array.from(x.type)}:C={displayText:[],type:[]};var w=m.session.getFoldLine(a);if(w&&m.$showFoldedAnnotations){for(var _={error:[],security:[],warning:[],info:[],hint:[]},k={error:1,security:2,warning:3,info:4,hint:5},A,T=a+1;T<=w.end.row;T++)if(m.$annotations[T])for(var j=0;j<m.$annotations[T].text.length;j++){var F=m.$annotations[T].type[j];_[F].push(m.$annotations[T].text[j]),(!A||k[F]<k[A])&&(A=F)}if(["error","security","warning"].includes(A)){var $="".concat(u.annotationsToSummaryString(_)," in folded code.");C.displayText.push($),C.type.push(A+"_fold")}}if(C.displayText.length===0)return this.hide();for(var D={error:[],security:[],warning:[],info:[],hint:[]},M=m.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",T=0;T<C.displayText.length;T++){var R=f.createElement("span"),O=f.createElement("span");(d=O.classList).add.apply(d,["ace_".concat(C.type[T]),M]),O.setAttribute("aria-label","".concat(u.annotationLabels[C.type[T].replace("_fold","")].singular)),O.setAttribute("role","img"),O.appendChild(f.createTextNode(" ")),R.appendChild(O),R.appendChild(f.createTextNode(C.displayText[T])),R.appendChild(f.createElement("br")),D[C.type[T].replace("_fold","")].push(R)}var z=f.createElement("span");D.error.forEach(function(U){return z.appendChild(U)}),D.security.forEach(function(U){return z.appendChild(U)}),D.warning.forEach(function(U){return z.appendChild(U)}),D.info.forEach(function(U){return z.appendChild(U)}),D.hint.forEach(function(U){return z.appendChild(U)}),z.setAttribute("aria-live","polite");var B=this.$findLinkedAnnotationNode(a);B&&B.setAttribute("aria-describedby",this.id);var P=n.fromPoints({row:a,column:0},{row:a,column:0});this.showForRange(this.editor,P,z),this.visibleTooltipRow=a,this.editor._signal("showGutterTooltip",this)},u.prototype.$setPosition=function(a,d,m,x){var C=this.$findCellByRow(x.start.row);if(C){var w=C&&C.element,_=w&&w.querySelector(".ace_gutter_annotation");if(_){var k=_.getBoundingClientRect();if(k){var A={pageX:k.right,pageY:k.top};return c.prototype.$setPosition.call(this,a,A,!1,x)}}}},u.prototype.$shouldPlaceAbove=function(a,d,m){return m<a},u.prototype.$findLinkedAnnotationNode=function(a){var d=this.$findCellByRow(a);if(d){var m=d.element;if(m.childNodes.length>2)return m.childNodes[2]}},u.prototype.$findCellByRow=function(a){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(d){return d.row===a})},u.prototype.hide=function(a){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var d=this.$findLinkedAnnotationNode(this.visibleTooltipRow);d&&d.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),c.prototype.hide.call(this,a)}},u.annotationsToSummaryString=function(a){var d,m,x=[],C=["error","security","warning","info","hint"];try{for(var w=y(C),_=w.next();!_.done;_=w.next()){var k=_.value;if(a[k].length){var A=a[k].length===1?u.annotationLabels[k].singular:u.annotationLabels[k].plural;x.push("".concat(a[k].length," ").concat(A))}}}catch(T){d={error:T}}finally{try{_&&!_.done&&(m=w.return)&&m.call(w)}finally{if(d)throw d.error}}return x.join(", ")},u.prototype.isOutsideOfText=function(a){var d=a.editor,m=d.renderer.$gutter.getBoundingClientRect();return!(a.clientX>=m.left&&a.clientX<=m.right&&a.clientY>=m.top&&a.clientY<=m.bottom)},u})(h);s.$uid=0,v.GutterTooltip=s}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(g,v,L){var S=g("../lib/dom"),y=g("../lib/event"),f=g("../lib/useragent"),o=200,h=200,r=5;function n(s){var c=s.editor,u=S.createElement("div");u.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",u.textContent="";var a=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];a.forEach(function(Y){s[Y]=this[Y]},this),c.on("mousedown",this.onMouseDown.bind(s));var d=c.container,m,x,C,w,_,k,A=0,T,j,F,$,D;this.onDragStart=function(Y){if(this.cancelDrag||!d.draggable){var X=this;return setTimeout(function(){X.startSelect(),X.captureMouse(Y)},0),Y.preventDefault()}_=c.getSelectionRange();var q=Y.dataTransfer;q.effectAllowed=c.getReadOnly()?"copy":"copyMove",c.container.appendChild(u),q.setDragImage&&q.setDragImage(u,0,0),setTimeout(function(){c.container.removeChild(u)}),q.clearData(),q.setData("Text",c.session.getTextRange()),j=!0,this.setState("drag")},this.onDragEnd=function(Y){if(d.draggable=!1,j=!1,this.setState(null),!c.getReadOnly()){var X=Y.dataTransfer.dropEffect;!T&&X=="move"&&c.session.remove(c.getSelectionRange()),c.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Y){if(!(c.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,C=Y.clientY,m||z(),A++,Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragOver=function(Y){if(!(c.getReadOnly()||!W(Y.dataTransfer)))return x=Y.clientX,C=Y.clientY,m||(z(),A++),P!==null&&(P=null),Y.dataTransfer.dropEffect=T=K(Y),y.preventDefault(Y)},this.onDragLeave=function(Y){if(A--,A<=0&&m)return B(),T=null,y.preventDefault(Y)},this.onDrop=function(Y){if(k){var X=Y.dataTransfer;if(j)switch(T){case"move":_.contains(k.row,k.column)?_={start:k,end:k}:_=c.moveText(_,k);break;case"copy":_=c.moveText(_,k,!0);break}else{var q=X.getData("Text");_={start:k,end:c.session.insert(k,q)},c.focus(),T=null}return B(),y.preventDefault(Y)}},y.addListener(d,"dragstart",this.onDragStart.bind(s),c),y.addListener(d,"dragend",this.onDragEnd.bind(s),c),y.addListener(d,"dragenter",this.onDragEnter.bind(s),c),y.addListener(d,"dragover",this.onDragOver.bind(s),c),y.addListener(d,"dragleave",this.onDragLeave.bind(s),c),y.addListener(d,"drop",this.onDrop.bind(s),c);function M(Y,X){var q=Date.now(),J=!X||Y.row!=X.row,V=!X||Y.column!=X.column;if(!$||J||V)c.moveCursorToPosition(Y),$=q,D={x,y:C};else{var Q=i(D.x,D.y,x,C);Q>r?$=null:q-$>=h&&(c.renderer.scrollCursorIntoView(),$=null)}}function R(Y,X){var q=Date.now(),J=c.renderer.layerConfig.lineHeight,V=c.renderer.layerConfig.characterWidth,Q=c.renderer.scroller.getBoundingClientRect(),ne={x:{left:x-Q.left,right:Q.right-x},y:{top:C-Q.top,bottom:Q.bottom-C}},ie=Math.min(ne.x.left,ne.x.right),me=Math.min(ne.y.top,ne.y.bottom),pe={row:Y.row,column:Y.column};ie/V<=2&&(pe.column+=ne.x.left<ne.x.right?-3:2),me/J<=1&&(pe.row+=ne.y.top<ne.y.bottom?-1:1);var Se=Y.row!=pe.row,ke=Y.column!=pe.column,Ae=!X||Y.row!=X.row;Se||ke&&!Ae?F?q-F>=o&&c.renderer.scrollCursorIntoView(pe):F=q:F=null}function O(){var Y=k;k=c.renderer.screenToTextCoordinates(x,C),M(k,Y),R(k,Y)}function z(){_=c.selection.toOrientedRange(),m=c.session.addMarker(_,"ace_selection",c.getSelectionStyle()),c.clearSelection(),c.isFocused()&&c.renderer.$cursorLayer.setBlinking(!1),clearInterval(w),O(),w=setInterval(O,20),A=0,y.addListener(document,"mousemove",U)}function B(){clearInterval(w),c.session.removeMarker(m),m=null,c.selection.fromOrientedRange(_),c.isFocused()&&!j&&c.$resetCursorStyle(),_=null,k=null,A=0,F=null,$=null,y.removeListener(document,"mousemove",U)}var P=null;function U(){P==null&&(P=setTimeout(function(){P!=null&&m&&B()},20))}function W(Y){var X=Y.types;return!X||Array.prototype.some.call(X,function(q){return q=="text/plain"||q=="Text"})}function K(Y){var X=["copy","copymove","all","uninitialized"],q=["move","copymove","linkmove","all","uninitialized"],J=f.isMac?Y.altKey:Y.ctrlKey,V="uninitialized";try{V=Y.dataTransfer.effectAllowed.toLowerCase()}catch{}var Q="none";return J&&X.indexOf(V)>=0?Q="copy":q.indexOf(V)>=0?Q="move":X.indexOf(V)>=0&&(Q="copy"),Q}}(function(){this.dragWait=function(){var s=Date.now()-this.mousedownEvent.time;s>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var s=this.editor.container;s.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(s){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var s=this.editor,c=s.container;c.draggable=!0,s.renderer.$cursorLayer.setBlinking(!1),s.setStyle("ace_dragging");var u=f.isWin?"default":"move";s.renderer.setCursorStyle(u),this.setState("dragReady")},this.onMouseDrag=function(s){var c=this.editor.container;if(f.isIE&&this.state=="dragReady"){var u=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);u>3&&c.dragDrop()}if(this.state==="dragWait"){var u=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);u>0&&(c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(s){if(this.$dragEnabled){this.mousedownEvent=s;var c=this.editor,u=s.inSelection(),a=s.getButton(),d=s.domEvent.detail||1;if(d===1&&a===0&&u){if(s.editor.inMultiSelectMode&&(s.getAccelKey()||s.getShiftKey()))return;this.mousedownEvent.time=Date.now();var m=s.domEvent.target||s.domEvent.srcElement;if("unselectable"in m&&(m.unselectable="on"),c.getDragDelay()){if(f.isWebKit){this.cancelDrag=!0;var x=c.container;x.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(s,this.onMouseDrag.bind(this)),s.defaultPrevented=!0}}}}).call(n.prototype);function i(s,c,u,a){return Math.sqrt(Math.pow(u-s,2)+Math.pow(a-c,2))}v.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(g,v,L){var S=g("./mouse_event").MouseEvent,y=g("../lib/event"),f=g("../lib/dom");v.addTouchListeners=function(o,h){var r="scroll",n,i,s,c,u,a,d=0,m,x=0,C=0,w=0,_,k;function A(){var M=window.navigator&&window.navigator.clipboard,R=!1,O=function(){var P=h.getCopyText(),U=h.session.getUndoManager().hasUndo();k.replaceChild(f.buildDom(R?["span",!P&&z("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&z("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&z("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],M&&z("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],U&&z("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],z("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],z("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),k.firstChild)},z=function(P){return h.commands.canExecute(P,h)},B=function(P){var U=P.target.getAttribute("action");if(U=="more"||!R)return R=!R,O();U=="paste"?M.readText().then(function(W){h.execCommand(U,W)}):U&&((U=="cut"||U=="copy")&&(M?M.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(U)),k.firstChild.style.display="none",R=!1,U!="openCommandPalette"&&h.focus()};k=f.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){r="menu",P.stopPropagation(),P.preventDefault(),h.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),B(P)},onclick:B},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function T(){if(!h.getOption("enableMobileMenu")){k&&j();return}k||A();var M=h.selection.cursor,R=h.renderer.textToScreenCoordinates(M.row,M.column),O=h.renderer.textToScreenCoordinates(0,0).pageX,z=h.renderer.scrollLeft,B=h.container.getBoundingClientRect();k.style.top=R.pageY-B.top-3+"px",R.pageX-B.left<B.width-70?(k.style.left="",k.style.right="10px"):(k.style.right="",k.style.left=O+z-B.left+"px"),k.style.display="",k.firstChild.style.display="none",h.on("input",j)}function j(M){k&&(k.style.display="none"),h.off("input",j)}function F(){u=null,clearTimeout(u);var M=h.selection.getRange(),R=M.contains(m.row,m.column);(M.isEmpty()||!R)&&(h.selection.moveToPosition(m),h.selection.selectWord()),r="wait",T()}function $(){u=null,clearTimeout(u),h.selection.moveToPosition(m);var M=x>=2?h.selection.getLineRange(m.row):h.session.getBracketRange(m);M&&!M.isEmpty()?h.selection.setRange(M):h.selection.selectWord(),r="wait"}y.addListener(o,"contextmenu",function(M){if(_){var R=h.textInput.getElement();R.focus()}},h),y.addListener(o,"touchstart",function(M){var R=M.touches;if(u||R.length>1){clearTimeout(u),u=null,s=-1,r="zoom";return}_=h.$mouseHandler.isMousePressed=!0;var O=h.renderer.layerConfig.lineHeight,z=h.renderer.layerConfig.lineHeight,B=M.timeStamp;c=B;var P=R[0],U=P.clientX,W=P.clientY;Math.abs(n-U)+Math.abs(i-W)>O&&(s=-1),n=M.clientX=U,i=M.clientY=W,C=w=0;var K=new S(M,h);if(m=K.getDocumentPosition(),B-s<500&&R.length==1&&!d)x++,M.preventDefault(),M.button=0,$();else{x=0;var Y=h.selection.cursor,X=h.selection.isEmpty()?Y:h.selection.anchor,q=h.renderer.$cursorLayer.getPixelPosition(Y,!0),J=h.renderer.$cursorLayer.getPixelPosition(X,!0),V=h.renderer.scroller.getBoundingClientRect(),Q=h.renderer.layerConfig.offset,ne=h.renderer.scrollLeft,ie=function(Se,ke){return Se=Se/z,ke=ke/O-.75,Se*Se+ke*ke};if(M.clientX<V.left){r="zoom";return}var me=ie(M.clientX-V.left-q.left+ne,M.clientY-V.top-q.top+Q),pe=ie(M.clientX-V.left-J.left+ne,M.clientY-V.top-J.top+Q);me<3.5&&pe<3.5&&(r=me>pe?"cursor":"anchor"),pe<3.5?r="anchor":me<3.5?r="cursor":r="scroll",u=setTimeout(F,450)}s=B},h),y.addListener(o,"touchend",function(M){_=h.$mouseHandler.isMousePressed=!1,a&&clearInterval(a),r=="zoom"?(r="",d=0):u?(h.selection.moveToPosition(m),d=0,T()):r=="scroll"?(D(),j()):T(),clearTimeout(u),u=null},h),y.addListener(o,"touchmove",function(M){u&&(clearTimeout(u),u=null);var R=M.touches;if(!(R.length>1||r=="zoom")){var O=R[0],z=n-O.clientX,B=i-O.clientY;if(r=="wait")if(z*z+B*B>4)r="cursor";else return M.preventDefault();n=O.clientX,i=O.clientY,M.clientX=O.clientX,M.clientY=O.clientY;var P=M.timeStamp,U=P-c;if(c=P,r=="scroll"){var W=new S(M,h);W.speed=1,W.wheelX=z,W.wheelY=B,10*Math.abs(z)<Math.abs(B)&&(z=0),10*Math.abs(B)<Math.abs(z)&&(B=0),U!=0&&(C=z/U,w=B/U),h._emit("mousewheel",W),W.propagationStopped||(C=w=0)}else{var K=new S(M,h),Y=K.getDocumentPosition();r=="cursor"?h.selection.moveCursorToPosition(Y):r=="anchor"&&h.selection.setSelectionAnchor(Y.row,Y.column),h.renderer.scrollCursorIntoView(Y),M.preventDefault()}}},h);function D(){d+=60,a=setInterval(function(){d--<=0&&(clearInterval(a),a=null),Math.abs(C)<.01&&(C=0),Math.abs(w)<.01&&(w=0),d<20&&(C=.9*C),d<20&&(w=.9*w);var M=h.session.getScrollTop();h.renderer.scrollBy(10*C,10*w),M==h.session.getScrollTop()&&(d=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(g,v,L){var S=g("../lib/event"),y=g("../lib/useragent"),f=g("./default_handlers").DefaultHandlers,o=g("./default_gutter_handler").GutterHandler,h=g("./mouse_event").MouseEvent,r=g("./dragdrop_handler").DragdropHandler,n=g("./touch_handler").addTouchListeners,i=g("../config"),s=(function(){function c(u){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var a=this;this.editor=u,new f(this),new o(this),new r(this);var d=function(C){var w=!document.hasFocus||!document.hasFocus()||!u.isFocused()&&document.activeElement==(u.textInput&&u.textInput.getElement());w&&window.focus(),u.focus(),setTimeout(function(){u.isFocused()||u.focus()})},m=u.renderer.getMouseEventTarget();S.addListener(m,"click",this.onMouseEvent.bind(this,"click"),u),S.addListener(m,"mousemove",this.onMouseMove.bind(this,"mousemove"),u),S.addMultiMouseDownListener([m,u.renderer.scrollBarV&&u.renderer.scrollBarV.inner,u.renderer.scrollBarH&&u.renderer.scrollBarH.inner,u.textInput&&u.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",u),S.addMouseWheelListener(u.container,this.onMouseWheel.bind(this,"mousewheel"),u),n(u.container,u);var x=u.renderer.$gutter;S.addListener(x,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),u),S.addListener(x,"click",this.onMouseEvent.bind(this,"gutterclick"),u),S.addListener(x,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),u),S.addListener(x,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),u),S.addListener(m,"mousedown",d,u),S.addListener(x,"mousedown",d,u),y.isIE&&u.renderer.scrollBarV&&(S.addListener(u.renderer.scrollBarV.element,"mousedown",d,u),S.addListener(u.renderer.scrollBarH.element,"mousedown",d,u)),u.on("mousemove",function(C){if(!(a.state||a.$dragDelay||!a.$dragEnabled)){var w=u.renderer.screenToTextCoordinates(C.x,C.y),_=u.session.selection.getRange(),k=u.renderer;!_.isEmpty()&&_.insideStart(w.row,w.column)?k.setCursorStyle("default"):k.setCursorStyle("")}},u)}return c.prototype.onMouseEvent=function(u,a){this.editor.session&&this.editor._emit(u,new h(a,this.editor))},c.prototype.onMouseMove=function(u,a){var d=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!d||!d.length||this.editor._emit(u,new h(a,this.editor))},c.prototype.onMouseWheel=function(u,a){var d=new h(a,this.editor);d.speed=this.$scrollSpeed*2,d.wheelX=a.wheelX,d.wheelY=a.wheelY,this.editor._emit(u,d)},c.prototype.setState=function(u){this.state=u},c.prototype.captureMouse=function(u,a){this.x=u.x,this.y=u.y,this.isMousePressed=!0;var d=this.editor,m=this.editor.renderer;m.$isMousePressed=!0;var x=this,C=!0,w=function(j){if(j){if(y.isWebKit&&!j.which&&x.releaseMouse)return x.releaseMouse();x.x=j.clientX,x.y=j.clientY,a&&a(j),x.mouseEvent=new h(j,x.editor),x.$mouseMoved=!0}},_=function(j){d.off("beforeEndOperation",T),C=!1,d.session&&k(),x[x.state+"End"]&&x[x.state+"End"](j),x.state="",x.isMousePressed=m.$isMousePressed=!1,m.$keepTextAreaAtCursor&&m.$moveTextAreaToCursor(),x.$onCaptureMouseMove=x.releaseMouse=null,j&&x.onMouseEvent("mouseup",j),d.endOperation()},k=function(){x[x.state]&&x[x.state](),x.$mouseMoved=!1},A=function(){C&&(k(),S.nextFrame(A))};if(y.isOldIE&&u.domEvent.type=="dblclick")return setTimeout(function(){_(u)});var T=function(j){x.releaseMouse&&d.curOp.command.name&&d.curOp.selectionChanged&&(x[x.state+"End"]&&x[x.state+"End"](),x.state="",x.releaseMouse())};d.on("beforeEndOperation",T),d.startOperation({command:{name:"mouse"}}),x.$onCaptureMouseMove=w,x.releaseMouse=S.capture(this.editor.container,w,_),A()},c.prototype.cancelContextMenu=function(){var u=(function(a){a&&a.domEvent&&a.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",u),a&&a.domEvent&&S.stopEvent(a.domEvent))}).bind(this);setTimeout(u,10),this.editor.on("nativecontextmenu",u)},c.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},c})();s.prototype.releaseMouse=null,i.defineOptions(s.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:y.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),v.MouseHandler=s}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(g,v,L){var S=g("../lib/dom"),y=(function(){function f(o){o.on("click",function(h){var r=h.getDocumentPosition(),n=o.session,i=n.getFoldAt(r.row,r.column,1);i&&(h.getAccelKey()?n.removeFold(i):n.expandFold(i),h.stop());var s=h.domEvent&&h.domEvent.target;s&&S.hasCssClass(s,"ace_inline_button")&&S.hasCssClass(s,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(h){var r=o.renderer.$gutterLayer.getRegion(h);if(r=="foldWidgets"){var n=h.getDocumentPosition().row,i=o.session;i.foldWidgets&&i.foldWidgets[n]&&o.session.onFoldWidgetClick(n,h),o.isFocused()||o.focus(),h.stop()}}),o.on("gutterdblclick",function(h){var r=o.renderer.$gutterLayer.getRegion(h);if(r=="foldWidgets"){var n=h.getDocumentPosition().row,i=o.session,s=i.getParentFoldRangeData(n,!0),c=s.range||s.firstRange;if(c){n=c.start.row;var u=i.getFoldAt(n,i.getLine(n).length,1);u?i.removeFold(u):(i.addFold("...",c),o.renderer.scrollCursorIntoView({row:c.start.row,column:0}))}h.stop()}})}return f})();v.FoldHandler=y}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(g,v,L){var S=g("../lib/keys"),y=g("../lib/event"),f=(function(){function o(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)}return o.prototype.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},o.prototype.setKeyboardHandler=function(h){var r=this.$handlers;if(r[r.length-1]!=h){for(;r[r.length-1]&&r[r.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(r[r.length-1]);this.addKeyboardHandler(h,1)}},o.prototype.addKeyboardHandler=function(h,r){if(h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var n=this.$handlers.indexOf(h);n!=-1&&this.$handlers.splice(n,1),r==null?this.$handlers.push(h):this.$handlers.splice(r,0,h),n==-1&&h.attach&&h.attach(this.$editor)}},o.prototype.removeKeyboardHandler=function(h){var r=this.$handlers.indexOf(h);return r==-1?!1:(this.$handlers.splice(r,1),h.detach&&h.detach(this.$editor),!0)},o.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},o.prototype.getStatusText=function(){var h=this.$data,r=h.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(r,h)||""}).filter(Boolean).join(" ")},o.prototype.$callKeyboardHandlers=function(h,r,n,i){for(var s,c=!1,u=this.$editor.commands,a=this.$handlers.length;a--&&(s=this.$handlers[a].handleKeyboard(this.$data,h,r,n,i),!(!(!s||!s.command)&&(s.command=="null"?c=!0:c=u.exec(s.command,this.$editor,s.args,i),c&&i&&h!=-1&&s.passEvent!=!0&&s.command.passEvent!=!0&&y.stopEvent(i),c))););return!c&&h==-1&&(s={command:"insertstring"},c=u.exec("insertstring",this.$editor,r)),c&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),c},o.prototype.onCommandKey=function(h,r,n){var i=S.keyCodeToString(n);return this.$callKeyboardHandlers(r,i,n,h)},o.prototype.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)},o})();v.KeyBinding=f}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(g,v,L){var S=0,y=0,f=!1,o=!1,h=!1,r=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,s=1,c=0,u=1,a=2,d=3,m=4,x=5,C=6,w=7,_=8,k=9,A=10,T=11,j=12,F=13,$=14,D=15,M=16,R=17,O=18,z=[O,O,O,O,O,O,O,O,O,C,x,C,_,x,O,O,O,O,O,O,O,O,O,O,O,O,O,O,x,x,x,C,_,m,m,T,T,T,m,m,m,m,m,A,k,A,k,k,a,a,a,a,a,a,a,a,a,a,k,m,m,m,m,m,m,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,m,m,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,m,m,m,m,O,O,O,O,O,O,x,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,k,m,T,T,T,T,m,m,m,m,c,m,m,O,m,m,T,T,a,a,m,c,m,m,m,a,c,m,m,m,m,m],B=[_,_,_,_,_,_,_,_,_,_,_,O,O,O,c,u,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,_,x,F,$,D,M,R,k,T,T,T,T,T,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,k,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,_];function P(Y,X,q,J){var V=S?n:r,Q=null,ne=null,ie=null,me=0,pe=null,Se=null,ke=-1,Ae=null,Ue=null,we=[];if(!J)for(Ae=0,J=[];Ae<q;Ae++)J[Ae]=K(Y[Ae]);for(y=S,f=!1,o=!1,h=!1,Ue=0;Ue<q;Ue++){if(Q=me,we[Ue]=ne=W(Y,J,we,Ue),me=V[Q][ne],pe=me&240,me&=15,X[Ue]=ie=V[me][5],pe>0)if(pe==16){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=1;ke=-1}else ke=-1;if(Se=V[me][6],Se)ke==-1&&(ke=Ue);else if(ke>-1){for(Ae=ke;Ae<Ue;Ae++)X[Ae]=ie;ke=-1}J[Ue]==x&&(X[Ue]=0),y|=ie}if(h){for(Ae=0;Ae<q;Ae++)if(J[Ae]==C){X[Ae]=S;for(var Ce=Ae-1;Ce>=0&&J[Ce]==_;Ce--)X[Ce]=S}}}function U(Y,X,q){if(!(y<Y)){if(Y==1&&S==s&&!o){q.reverse();return}for(var J=q.length,V=0,Q,ne,ie,me;V<J;){if(X[V]>=Y){for(Q=V+1;Q<J&&X[Q]>=Y;)Q++;for(ne=V,ie=Q-1;ne<ie;ne++,ie--)me=q[ne],q[ne]=q[ie],q[ie]=me;V=Q}V++}}}function W(Y,X,q,J){var V=X[J],Q,ne,ie,me;switch(V){case c:case u:f=!1;case m:case d:return V;case a:return f?d:a;case w:return f=!0,u;case _:return m;case k:return J<1||J+1>=X.length||(Q=q[J-1])!=a&&Q!=d||(ne=X[J+1])!=a&&ne!=d?m:(f&&(ne=d),ne==Q?ne:m);case A:return Q=J>0?q[J-1]:x,Q==a&&J+1<X.length&&X[J+1]==a?a:m;case T:if(J>0&&q[J-1]==a)return a;if(f)return m;for(me=J+1,ie=X.length;me<ie&&X[me]==T;)me++;return me<ie&&X[me]==a?a:m;case j:for(ie=X.length,me=J+1;me<ie&&X[me]==j;)me++;if(me<ie){var pe=Y[J],Se=pe>=1425&&pe<=2303||pe==64286;if(Q=X[me],Se&&(Q==u||Q==w))return u}return J<1||(Q=X[J-1])==x?m:q[J-1];case x:return f=!1,o=!0,S;case C:return h=!0,m;case F:case $:case M:case R:case D:f=!1;case O:return m}}function K(Y){var X=Y.charCodeAt(0),q=X>>8;return q==0?X>191?c:z[X]:q==5?/[\u0591-\u05f4]/.test(Y)?u:c:q==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Y)?j:/[\u0660-\u0669\u066b-\u066c]/.test(Y)?d:X==1642?T:/[\u06f0-\u06f9]/.test(Y)?a:w:q==32&&X<=8287?B[X&255]:q==254&&X>=65136?w:m}v.L=c,v.R=u,v.EN=a,v.ON_R=3,v.AN=4,v.R_H=5,v.B=6,v.RLE=7,v.DOT="",v.doBidiReorder=function(Y,X,q){if(Y.length<2)return{};var J=Y.split(""),V=new Array(J.length),Q=new Array(J.length),ne=[];S=q?s:i,P(J,ne,J.length,X);for(var ie=0;ie<V.length;V[ie]=ie,ie++);U(2,ne,V),U(1,ne,V);for(var ie=0;ie<V.length-1;ie++)X[ie]===d?ne[ie]=v.AN:ne[ie]===u&&(X[ie]>w&&X[ie]<F||X[ie]===m||X[ie]===O)?ne[ie]=v.ON_R:ie>0&&J[ie-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(J[ie])&&(ne[ie-1]=ne[ie]=v.R_H,ie++);J[J.length-1]===v.DOT&&(ne[J.length-1]=v.B),J[0]===""&&(ne[0]=v.RLE);for(var ie=0;ie<V.length;ie++)Q[ie]=ne[V[ie]];return{logicalFromVisual:V,bidiLevels:Q}},v.hasBidiCharacters=function(Y,X){for(var q=!1,J=0;J<Y.length;J++)X[J]=K(Y.charAt(J)),!q&&(X[J]==u||X[J]==w||X[J]==d)&&(q=!0);return q},v.getVisualFromLogicalIdx=function(Y,X){for(var q=0;q<X.logicalFromVisual.length;q++)if(X.logicalFromVisual[q]==Y)return q;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(g,v,L){var S=g("./lib/bidiutil"),y=g("./lib/lang"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=(function(){function h(r){this.session=r,this.bidiMap={},this.currentRow=null,this.bidiUtil=S,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=f.test(r.getValue())}return h.prototype.isBidiRow=function(r,n,i){return this.seenBidi?(r!==this.currentRow&&(this.currentRow=r,this.updateRowLine(n,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},h.prototype.onChange=function(r){this.seenBidi?this.currentRow=null:r.action=="insert"&&f.test(r.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},h.prototype.getDocumentRow=function(){var r=0,n=this.session.$screenRowCache;if(n.length){var i=this.session.$getRowCacheIndex(n,this.currentRow);i>=0&&(r=this.session.$docRowCache[i])}return r},h.prototype.getSplitIndex=function(){var r=0,n=this.session.$screenRowCache;if(n.length)for(var i,s=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-r>0&&(i=this.session.$getRowCacheIndex(n,this.currentRow-r-1),i===s);)s=i,r++;else r=this.currentRow;return r},h.prototype.updateRowLine=function(r,n){r===void 0&&(r=this.getDocumentRow());var i=r===this.session.getLength()-1,s=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(r),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var c=this.session.$wrapData[r];c&&(n===void 0&&(n=this.getSplitIndex()),n>0&&c.length?(this.wrapIndent=c.indent,this.wrapOffset=this.wrapIndent*this.charWidths[S.L],this.line=n<c.length?this.line.substring(c[n-1],c[n]):this.line.substring(c[c.length-1])):this.line=this.line.substring(0,c[n]),n==c.length&&(this.line+=this.showInvisibles?s:S.DOT))}else this.line+=this.showInvisibles?s:S.DOT;var u=this.session,a=0,d;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(m,x){return m==="	"||u.isFullWidth(m.charCodeAt(0))?(d=m==="	"?u.getScreenTabSize(x+a):2,a+=d-1,y.stringRepeat(S.DOT,d)):m}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==S.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},h.prototype.updateBidiMap=function(){var r=[];S.hasBidiCharacters(this.line,r)||this.isRtlDir?this.bidiMap=S.doBidiReorder(this.line,r,this.isRtlDir):this.bidiMap={}},h.prototype.markAsDirty=function(){this.currentRow=null},h.prototype.updateCharacterWidths=function(r){if(this.characterWidth!==r.$characterSize.width){this.fontMetrics=r;var n=this.characterWidth=r.$characterSize.width,i=r.$measureCharWidth("");this.charWidths[S.L]=this.charWidths[S.EN]=this.charWidths[S.ON_R]=n,this.charWidths[S.R]=this.charWidths[S.AN]=i,this.charWidths[S.R_H]=i*.45,this.charWidths[S.B]=this.charWidths[S.RLE]=0,this.currentRow=null}},h.prototype.setShowInvisibles=function(r){this.showInvisibles=r,this.currentRow=null},h.prototype.setEolChar=function(r){this.EOL=r},h.prototype.setContentWidth=function(r){this.contentWidth=r},h.prototype.isRtlLine=function(r){return this.$isRtl?!0:r!=null?this.session.getLine(r).charAt(0)==this.RLE:this.isRtlDir},h.prototype.setRtlDirection=function(r,n){for(var i=r.getCursorPosition(),s=r.selection.getSelectionAnchor().row;s<=i.row;s++)!n&&r.session.getLine(s).charAt(0)===r.session.$bidiHandler.RLE?r.session.doc.removeInLine(s,0,1):n&&r.session.getLine(s).charAt(0)!==r.session.$bidiHandler.RLE&&r.session.doc.insert({column:0,row:s},r.session.$bidiHandler.RLE)},h.prototype.getPosLeft=function(r){r-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,i=r>n?this.session.getOverwrite()?r:r-1:n,s=S.getVisualFromLogicalIdx(i,this.bidiMap),c=this.bidiMap.bidiLevels,u=0;!this.session.getOverwrite()&&r<=n&&c[s]%2!==0&&s++;for(var a=0;a<s;a++)u+=this.charWidths[c[a]];return!this.session.getOverwrite()&&r>n&&c[s]%2===0&&(u+=this.charWidths[c[s]]),this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(u+=this.rtlLineOffset),u},h.prototype.getSelections=function(r,n){var i=this.bidiMap,s=i.bidiLevels,c,u=[],a=0,d=Math.min(r,n)-this.wrapIndent,m=Math.max(r,n)-this.wrapIndent,x=!1,C=!1,w=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var _,k=0;k<s.length;k++)_=i.logicalFromVisual[k],c=s[k],x=_>=d&&_<m,x&&!C?w=a:!x&&C&&u.push({left:w,width:a-w}),a+=this.charWidths[c],C=x;if(x&&k===s.length&&u.push({left:w,width:a-w}),this.isRtlDir)for(var A=0;A<u.length;A++)u[A].left+=this.rtlLineOffset;return u},h.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var n=0,i=Math.max(i,0),s=0,c=0,u=this.bidiMap.bidiLevels,a=this.charWidths[u[c]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>s+a/2;){if(s+=a,c===u.length-1){a=0;break}a=this.charWidths[u[++c]]}return c>0&&u[c-1]%2!==0&&u[c]%2===0?(i<s&&c--,n=this.bidiMap.logicalFromVisual[c]):c>0&&u[c-1]%2===0&&u[c]%2!==0?n=1+(i>s?this.bidiMap.logicalFromVisual[c]:this.bidiMap.logicalFromVisual[c-1]):this.isRtlDir&&c===u.length-1&&a===0&&u[c-1]%2===0||!this.isRtlDir&&c===0&&u[c]%2!==0?n=1+this.bidiMap.logicalFromVisual[c]:(c>0&&u[c-1]%2!==0&&a!==0&&c--,n=this.bidiMap.logicalFromVisual[c]),n===0&&this.isRtlDir&&n++,n+this.wrapIndent},h})();v.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(g,v,L){var S=g("./lib/oop"),y=g("./lib/lang"),f=g("./lib/event_emitter").EventEmitter,o=g("./range").Range,h=(function(){function r(n){this.session=n,this.doc=n.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(s){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&s.old.column!=s.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return r.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},r.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},r.prototype.getCursor=function(){return this.lead.getPosition()},r.prototype.setAnchor=function(n,i){this.$isEmpty=!1,this.anchor.setPosition(n,i)},r.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},r.prototype.getSelectionLead=function(){return this.lead.getPosition()},r.prototype.isBackwards=function(){var n=this.anchor,i=this.lead;return n.row>i.row||n.row==i.row&&n.column>i.column},r.prototype.getRange=function(){var n=this.anchor,i=this.lead;return this.$isEmpty?o.fromPoints(i,i):this.isBackwards()?o.fromPoints(i,n):o.fromPoints(n,i)},r.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},r.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},r.prototype.setRange=function(n,i){var s=i?n.end:n.start,c=i?n.start:n.end;this.$setSelection(s.row,s.column,c.row,c.column)},r.prototype.$setSelection=function(n,i,s,c){if(!this.$silent){var u=this.$isEmpty,a=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(n,i),this.cursor.setPosition(s,c),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||u!=this.$isEmpty||a)&&this._emit("changeSelection")}},r.prototype.$moveSelection=function(n){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),n.call(this)},r.prototype.selectTo=function(n,i){this.$moveSelection(function(){this.moveCursorTo(n,i)})},r.prototype.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})},r.prototype.moveTo=function(n,i){this.clearSelection(),this.moveCursorTo(n,i)},r.prototype.moveToPosition=function(n){this.clearSelection(),this.moveCursorToPosition(n)},r.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},r.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},r.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},r.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},r.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},r.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},r.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},r.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},r.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},r.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},r.prototype.getWordRange=function(n,i){if(typeof i>"u"){var s=n||this.lead;n=s.row,i=s.column}return this.session.getWordRange(n,i)},r.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},r.prototype.selectAWord=function(){var n=this.getCursor(),i=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(i)},r.prototype.getLineRange=function(n,i){var s=typeof n=="number"?n:this.lead.row,c,u=this.session.getFoldLine(s);return u?(s=u.start.row,c=u.end.row):c=s,i===!0?new o(s,0,c,this.session.getLine(c).length):new o(s,0,c+1,0)},r.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},r.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},r.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},r.prototype.wouldMoveIntoSoftTab=function(n,i,s){var c=n.column,u=n.column+i;return s<0&&(c=n.column-i,u=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(c,u).split(" ").length-1==i},r.prototype.moveCursorLeft=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(n.column===0)n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length);else{var s=this.session.getTabSize();this.wouldMoveIntoSoftTab(n,s,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-s):this.moveCursorBy(0,-1)}},r.prototype.moveCursorRight=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var s=this.session.getTabSize(),n=this.lead;this.wouldMoveIntoSoftTab(n,s,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,s):this.moveCursorBy(0,1)}},r.prototype.moveCursorLineStart=function(){var n=this.lead.row,i=this.lead.column,s=this.session.documentToScreenRow(n,i),c=this.session.screenToDocumentPosition(s,0),u=this.session.getDisplayLine(n,null,c.row,c.column),a=u.match(/^\s*/);a[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(c.column+=a[0].length),this.moveCursorToPosition(c)},r.prototype.moveCursorLineEnd=function(){var n=this.lead,i=this.session.getDocumentLastRowColumnPosition(n.row,n.column);if(this.lead.column==i.column){var s=this.session.getLine(i.row);if(i.column==s.length){var c=s.search(/\s+$/);c>0&&(i.column=c)}}this.moveCursorTo(i.row,i.column)},r.prototype.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,i=this.doc.getLine(n).length;this.moveCursorTo(n,i)},r.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},r.prototype.moveCursorLongWordRight=function(){var n=this.lead.row,i=this.lead.column,s=this.doc.getLine(n),c=s.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var u=this.session.getFoldAt(n,i,1);if(u){this.moveCursorTo(u.end.row,u.end.column);return}if(this.session.nonTokenRe.exec(c)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,c=s.substring(i)),i>=s.length){this.moveCursorTo(n,s.length),this.moveCursorRight(),n<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(c)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},r.prototype.moveCursorLongWordLeft=function(){var n=this.lead.row,i=this.lead.column,s;if(s=this.session.getFoldAt(n,i,-1)){this.moveCursorTo(s.start.row,s.start.column);return}var c=this.session.getFoldStringAt(n,i,-1);c==null&&(c=this.doc.getLine(n).substring(0,i));var u=y.stringReverse(c);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(u)&&(i-=this.session.nonTokenRe.lastIndex,u=u.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(n,0),this.moveCursorLeft(),n>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(u)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},r.prototype.$shortWordEndIndex=function(n){var i=0,s,c=/\s/,u=this.session.tokenRe;if(u.lastIndex=0,this.session.tokenRe.exec(n))i=this.session.tokenRe.lastIndex;else{for(;(s=n[i])&&c.test(s);)i++;if(i<1){for(u.lastIndex=0;(s=n[i])&&!u.test(s);)if(u.lastIndex=0,i++,c.test(s))if(i>2){i--;break}else{for(;(s=n[i])&&c.test(s);)i++;if(i>2)break}}}return u.lastIndex=0,i},r.prototype.moveCursorShortWordRight=function(){var n=this.lead.row,i=this.lead.column,s=this.doc.getLine(n),c=s.substring(i),u=this.session.getFoldAt(n,i,1);if(u)return this.moveCursorTo(u.end.row,u.end.column);if(i==s.length){var a=this.doc.getLength();do n++,c=this.doc.getLine(n);while(n<a&&/^\s*$/.test(c));/^\s+/.test(c)||(c=""),i=0}var d=this.$shortWordEndIndex(c);this.moveCursorTo(n,i+d)},r.prototype.moveCursorShortWordLeft=function(){var n=this.lead.row,i=this.lead.column,s;if(s=this.session.getFoldAt(n,i,-1))return this.moveCursorTo(s.start.row,s.start.column);var c=this.session.getLine(n).substring(0,i);if(i===0){do n--,c=this.doc.getLine(n);while(n>0&&/^\s*$/.test(c));i=c.length,/\s+$/.test(c)||(c="")}var u=y.stringReverse(c),a=this.$shortWordEndIndex(u);return this.moveCursorTo(n,i-a)},r.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},r.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},r.prototype.moveCursorBy=function(n,i){var s=this.session.documentToScreenPosition(this.lead.row,this.lead.column),c;if(i===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(s.row,this.lead.row)?(c=this.session.$bidiHandler.getPosLeft(s.column),s.column=Math.round(c/this.session.$bidiHandler.charWidths[0])):c=s.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?s.column=this.$desiredColumn:this.$desiredColumn=s.column),n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var u=this.session.lineWidgets[this.lead.row];n<0?n-=u.rowsAbove||0:n>0&&(n+=u.rowCount-(u.rowsAbove||0))}var a=this.session.screenToDocumentPosition(s.row+n,s.column,c);n!==0&&i===0&&a.row===this.lead.row&&(a.column,this.lead.column),this.moveCursorTo(a.row,a.column+i,i===0)},r.prototype.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)},r.prototype.moveCursorTo=function(n,i,s){var c=this.session.getFoldAt(n,i,1);c&&(n=c.start.row,i=c.start.column),this.$keepDesiredColumnOnChange=!0;var u=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(u.charAt(i))&&u.charAt(i-1)&&(this.lead.row==n&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(n,i),this.$keepDesiredColumnOnChange=!1,s||(this.$desiredColumn=null)},r.prototype.moveCursorToScreen=function(n,i,s){var c=this.session.screenToDocumentPosition(n,i);this.moveCursorTo(c.row,c.column,s)},r.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},r.prototype.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start),this.$desiredColumn=n.desiredColumn||this.$desiredColumn},r.prototype.toOrientedRange=function(n){var i=this.getRange();return n?(n.start.column=i.start.column,n.start.row=i.start.row,n.end.column=i.end.column,n.end.row=i.end.row):n=i,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},r.prototype.getRangeOfMovements=function(n){var i=this.getCursor();try{n(this);var s=this.getCursor();return o.fromPoints(i,s)}catch{return o.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},r.prototype.toJSON=function(){if(this.rangeCount)var n=this.ranges.map(function(i){var s=i.clone();return s.isBackwards=i.cursor==i.start,s});else{var n=this.getRange();n.isBackwards=this.isBackwards()}return n},r.prototype.fromJSON=function(n){if(n.start==null)if(this.rangeList&&n.length>1){this.toSingleRange(n[0]);for(var i=n.length;i--;){var s=o.fromPoints(n[i].start,n[i].end);n[i].isBackwards&&(s.cursor=s.start),this.addRange(s,!0)}return}else n=n[0];this.rangeList&&this.toSingleRange(n),this.setSelectionRange(n,n.isBackwards)},r.prototype.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(n[i]))return!1;return!0},r})();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,S.implement(h.prototype,f),v.Selection=h}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(g,v,L){var S=g("./lib/report_error").reportError,y=2e3,f=(function(){function o(h){this.splitRegex,this.states=h,this.regExps={},this.matchMappings={};for(var r in this.states){for(var n=this.states[r],i=[],s=0,c=this.matchMappings[r]={defaultToken:"text"},u="g",a=[],d=0;d<n.length;d++){var m=n[d];if(m.defaultToken&&(c.defaultToken=m.defaultToken),m.caseInsensitive&&u.indexOf("i")===-1&&(u+="i"),m.unicode&&u.indexOf("u")===-1&&(u+="u"),m.regex!=null){m.regex instanceof RegExp&&(m.regex=m.regex.toString().slice(1,-1));var x=m.regex,C=new RegExp("(?:("+x+")|(.))").exec("a").length-2;Array.isArray(m.token)?m.token.length==1||C==1?m.token=m.token[0]:C-1!=m.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:m,groupCount:C-1}),m.token=m.token[0]):(m.tokenArray=m.token,m.token=null,m.onMatch=this.$arrayTokens):typeof m.token=="function"&&!m.onMatch&&(C>1?m.onMatch=this.$applyToken:m.onMatch=m.token),C>1&&(/\\\d/.test(m.regex)?x=m.regex.replace(/\\([0-9]+)/g,function(w,_){return"\\"+(parseInt(_,10)+s+1)}):(C=1,x=this.removeCapturingGroups(m.regex)),!m.splitRegex&&typeof m.token!="string"&&a.push(m)),c[s]=d,s+=C,i.push(x),m.onMatch||(m.onMatch=null)}}i.length||(c[0]=0,i.push("$")),a.forEach(function(w){w.splitRegex=this.createSplitterRegexp(w.regex,u)},this),this.regExps[r]=new RegExp("("+i.join(")|(")+")|($)",u)}}return o.prototype.$setMaxTokenCount=function(h){y=h|0},o.prototype.$applyToken=function(h){var r=this.splitRegex.exec(h).slice(1),n=this.token.apply(this,r);if(typeof n=="string")return[{type:n,value:h}];for(var i=[],s=0,c=n.length;s<c;s++)r[s]&&(i[i.length]={type:n[s],value:r[s]});return i},o.prototype.$arrayTokens=function(h){if(!h)return[];var r=this.splitRegex.exec(h);if(!r)return"text";for(var n=[],i=this.tokenArray,s=0,c=i.length;s<c;s++)r[s+1]&&(n[n.length]={type:i[s],value:r[s+1]});return n},o.prototype.removeCapturingGroups=function(h){var r=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,i){return i?"(?:":n});return r},o.prototype.createSplitterRegexp=function(h,r){if(h.indexOf("(?=")!=-1){var n=0,i=!1,s={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(c,u,a,d,m,x){return i?i=m!="]":m?i=!0:d?(n==s.stack&&(s.end=x+1,s.stack=-1),n--):a&&(n++,a.length!=1&&(s.stack=n,s.start=x)),c}),s.end!=null&&/^\)*$/.test(h.substr(s.end))&&(h=h.substring(0,s.start)+h.substr(s.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(r||"").replace("g",""))},o.prototype.getLineTokens=function(h,r){if(r&&typeof r!="string"){var n=r.slice(0);r=n[0],r==="#tmp"&&(n.shift(),r=n.shift())}else var n=[];var i=r||"start",s=this.states[i];s||(i="start",s=this.states[i]);var c=this.matchMappings[i],u=this.regExps[i];u.lastIndex=0;for(var a,d=[],m=0,x=0,C={type:null,value:""};a=u.exec(h);){var w=c.defaultToken,_=null,k=a[0],A=u.lastIndex;if(A-k.length>m){var T=h.substring(m,A-k.length);C.type==w?C.value+=T:(C.type&&d.push(C),C={type:w,value:T})}for(var j=0;j<a.length-2;j++)if(a[j+1]!==void 0){_=s[c[j]],_.onMatch?w=_.onMatch(k,i,n,h):w=_.token,_.next&&(typeof _.next=="string"?i=_.next:i=_.next(i,n),s=this.states[i],s||(this.reportError("state doesn't exist",i),i="start",s=this.states[i]),c=this.matchMappings[i],m=A,u=this.regExps[i],u.lastIndex=A),_.consumeLineEnd&&(m=A);break}if(k){if(typeof w=="string")(!_||_.merge!==!1)&&C.type===w?C.value+=k:(C.type&&d.push(C),C={type:w,value:k});else if(w){C.type&&d.push(C),C={type:null,value:""};for(var j=0;j<w.length;j++)d.push(w[j])}}if(m==h.length)break;if(m=A,x++>y){for(x>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:r,line:h});m<h.length;)C.type&&d.push(C),C={value:h.substring(m,m+=500),type:"overflow"};i="start",n=[];break}}return C.type&&d.push(C),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:d,state:n.length?n:i}},o})();f.prototype.reportError=S,v.Tokenizer=f}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(g,v,L){var S=g("../lib/deep_copy").deepCopy,y;y=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(h,r){if(!r){for(var n in h)this.$rules[n]=h[n];return}for(var n in h){for(var i=h[n],s=0;s<i.length;s++){var c=i[s];(c.next||c.onMatch)&&(typeof c.next=="string"&&c.next.indexOf(r)!==0&&(c.next=r+c.next),c.nextState&&c.nextState.indexOf(r)!==0&&(c.nextState=r+c.nextState))}this.$rules[r+n]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(h,r,n,i,s){var c=typeof h=="function"?new h().getRules():h;if(i)for(var u=0;u<i.length;u++)i[u]=r+i[u];else{i=[];for(var a in c)i.push(r+a)}if(this.addRules(c,r),n)for(var d=Array.prototype[s?"push":"unshift"],u=0;u<i.length;u++)d.apply(this.$rules[i[u]],S(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(r)},this.getEmbeds=function(){return this.$embeds};var f=function(h,r){return(h!="start"||r.length)&&r.unshift(this.nextState,h),this.nextState},o=function(h,r){return r.shift(),r.shift()||"start"};this.normalizeRules=function(){var h=0,r=this.$rules;function n(i){var s=r[i];s.processed=!0;for(var c=0;c<s.length;c++){var u=s[c],a=null;Array.isArray(u)&&(a=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var d=u.next||u.push;if(d&&Array.isArray(d)){var m=u.stateName;m||(m=u.token,typeof m!="string"&&(m=m[0]||""),r[m]&&(m+=h++)),r[m]=d,u.next=m,n(m)}else d=="pop"&&(u.next=o);if(u.push&&(u.nextState=u.next||u.push,u.next=f,delete u.push),u.rules)for(var x in u.rules)r[x]?r[x].push&&r[x].push.apply(r[x],u.rules[x]):r[x]=u.rules[x];var C=typeof u=="string"?u:u.include;if(C&&(C==="$self"&&(C="start"),Array.isArray(C)?a=C.map(function(_){return r[_]}):a=r[C]),a){var w=[c,1].concat(a);u.noEscape&&(w=w.filter(function(_){return!_.next})),s.splice.apply(s,w),c--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(h,r,n,i){var s=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(c){for(var u=h[c],a=u.split(i||"|"),d=a.length;d--;){var m=a[d];this.$keywordList.push(m),n&&(m=m.toLowerCase()),s[m]=c}},this),h=null,n?function(c){return s[c.toLowerCase()]||r}:function(c){return s[c]||r}},this.getKeywords=function(){return this.$keywords}}).call(y.prototype),v.TextHighlightRules=y}),ace.define("ace/mode/behaviour",["require","exports","module"],function(g,v,L){var S;S=function(){this.$behaviours={}},(function(){this.add=function(y,f,o){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[y]:this.$behaviours[y]={}}this.$behaviours[y][f]=o},this.addBehaviours=function(y){for(var f in y)for(var o in y[f])this.add(f,o,y[f][o])},this.remove=function(y){this.$behaviours&&this.$behaviours[y]&&delete this.$behaviours[y]},this.inherit=function(y,f){if(typeof y=="function")var o=new y().getBehaviours(f);else var o=y.getBehaviours(f);this.addBehaviours(o)},this.getBehaviours=function(y){if(y){for(var f={},o=0;o<y.length;o++)this.$behaviours[y[o]]&&(f[y[o]]=this.$behaviours[y[o]]);return f}else return this.$behaviours}}).call(S.prototype),v.Behaviour=S}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(g,v,L){var S=g("./range").Range,y=(function(){function f(o,h,r){this.$session=o,this.$row=h,this.$rowTokens=o.getTokens(h);var n=o.getTokenAt(h,r);this.$tokenIndex=n?n.index:-1}return f.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},f.prototype.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},f.prototype.getCurrentTokenRow=function(){return this.$row},f.prototype.getCurrentTokenColumn=function(){var o=this.$rowTokens,h=this.$tokenIndex,r=o[h].start;if(r!==void 0)return r;for(r=0;h>0;)h-=1,r+=o[h].value.length;return r},f.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},f.prototype.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new S(this.$row,h,this.$row,h+o.value.length)},f})();v.TokenIterator=y}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(g,v,L){var S=g("../../lib/oop"),y=g("../behaviour").Behaviour,f=g("../../token_iterator").TokenIterator,o=g("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],r=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],n,i={},s={'"':'"',"'":"'"},c=function(d){var m=-1;if(d.multiSelect&&(m=d.selection.index,i.rangeCount!=d.multiSelect.rangeCount&&(i={rangeCount:d.multiSelect.rangeCount})),i[m])return n=i[m];n=i[m]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},u=function(d,m,x,C){var w=d.end.row-d.start.row;return{text:x+m+C,selection:[0,d.start.column+1,w,d.end.column+(w?0:1)]}},a;a=function(d){d=d||{},this.add("braces","insertion",function(m,x,C,w,_){var k=C.getCursorPosition(),A=w.doc.getLine(k.row);if(_=="{"){c(C);var T=C.getSelectionRange(),j=w.doc.getTextRange(T),F=w.getTokenAt(k.row,k.column);if(j!==""&&j!=="{"&&C.getWrapBehavioursEnabled())return u(T,j,"{","}");if(F&&/(?:string)\.quasi|\.xml/.test(F.type)){var $=[/tag\-(?:open|name)/,/attribute\-name/];return $.some(function(P){return P.test(F.type)})||/(string)\.quasi/.test(F.type)&&F.value[k.column-F.start-1]!=="$"?void 0:(a.recordAutoInsert(C,w,"}"),{text:"{}",selection:[1,1]})}else if(a.isSaneInsertion(C,w))return/[\]\}\)]/.test(A[k.column])||C.inMultiSelectMode||d.braces?(a.recordAutoInsert(C,w,"}"),{text:"{}",selection:[1,1]}):(a.recordMaybeInsert(C,w,"{"),{text:"{",selection:[1,1]})}else if(_=="}"){c(C);var D=A.substring(k.column,k.column+1);if(D=="}"){var M=w.$findOpeningBracket("}",{column:k.column+1,row:k.row});if(M!==null&&a.isAutoInsertedClosing(k,A,_))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(_==`
`||_==`\r
`){c(C);var R="";a.isMaybeInsertedClosing(k,A)&&(R=o.stringRepeat("}",n.maybeInsertedBrackets),a.clearMaybeInsertedClosing());var D=A.substring(k.column,k.column+1);if(D==="}"){var O=w.findMatchingBracket({row:k.row,column:k.column+1},"}");if(!O)return null;var z=this.$getIndent(w.getLine(O.row))}else if(R)var z=this.$getIndent(A);else{a.clearMaybeInsertedClosing();return}var B=z+w.getTabString();return{text:`
`+B+`
`+z+R,selection:[1,B.length,1,B.length]}}else a.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(m,x,C,w,_){var k=w.doc.getTextRange(_);if(!_.isMultiLine()&&k=="{"){c(C);var A=w.doc.getLine(_.start.row),T=A.substring(_.end.column,_.end.column+1);if(T=="}")return _.end.column++,_;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(m,x,C,w,_){if(_=="("){c(C);var k=C.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&C.getWrapBehavioursEnabled())return u(k,A,"(",")");if(a.isSaneInsertion(C,w))return a.recordAutoInsert(C,w,")"),{text:"()",selection:[1,1]}}else if(_==")"){c(C);var T=C.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F==")"){var $=w.$findOpeningBracket(")",{column:T.column+1,row:T.row});if($!==null&&a.isAutoInsertedClosing(T,j,_))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(m,x,C,w,_){var k=w.doc.getTextRange(_);if(!_.isMultiLine()&&k=="("){c(C);var A=w.doc.getLine(_.start.row),T=A.substring(_.start.column+1,_.start.column+2);if(T==")")return _.end.column++,_}}),this.add("brackets","insertion",function(m,x,C,w,_){if(_=="["){c(C);var k=C.getSelectionRange(),A=w.doc.getTextRange(k);if(A!==""&&C.getWrapBehavioursEnabled())return u(k,A,"[","]");if(a.isSaneInsertion(C,w))return a.recordAutoInsert(C,w,"]"),{text:"[]",selection:[1,1]}}else if(_=="]"){c(C);var T=C.getCursorPosition(),j=w.doc.getLine(T.row),F=j.substring(T.column,T.column+1);if(F=="]"){var $=w.$findOpeningBracket("]",{column:T.column+1,row:T.row});if($!==null&&a.isAutoInsertedClosing(T,j,_))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(m,x,C,w,_){var k=w.doc.getTextRange(_);if(!_.isMultiLine()&&k=="["){c(C);var A=w.doc.getLine(_.start.row),T=A.substring(_.start.column+1,_.start.column+2);if(T=="]")return _.end.column++,_}}),this.add("string_dquotes","insertion",function(m,x,C,w,_){var k=w.$mode.$quotes||s;if(_.length==1&&k[_]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(_)!=-1)return;c(C);var A=_,T=C.getSelectionRange(),j=w.doc.getTextRange(T);if(j!==""&&(j.length!=1||!k[j])&&C.getWrapBehavioursEnabled())return u(T,j,A,A);if(!j){var F=C.getCursorPosition(),$=w.doc.getLine(F.row),D=$.substring(F.column-1,F.column),M=$.substring(F.column,F.column+1),R=w.getTokenAt(F.row,F.column),O=w.getTokenAt(F.row,F.column+1);if(D=="\\"&&R&&/escape/.test(R.type))return null;var z=R&&/string|escape/.test(R.type),B=!O||/string|escape/.test(O.type),P;if(M==A)P=z!==B,P&&/string\.end/.test(O.type)&&(P=!1);else{if(z&&!B||z&&B)return null;var U=w.$mode.tokenRe;U.lastIndex=0;var W=U.test(D);U.lastIndex=0;var K=U.test(M),Y=w.$mode.$pairQuotesAfter,X=Y&&Y[A]&&Y[A].test(D);if(!X&&W||K||M&&!/[\s;,.})\]\\]/.test(M))return null;var q=$[F.column-2];if(D==A&&(q==A||U.test(q)))return null;P=!0}return{text:P?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(m,x,C,w,_){var k=w.$mode.$quotes||s,A=w.doc.getTextRange(_);if(!_.isMultiLine()&&k.hasOwnProperty(A)){c(C);var T=w.doc.getLine(_.start.row),j=T.substring(_.start.column+1,_.start.column+2);if(j==A)return _.end.column++,_}}),d.closeDocComment!==!1&&this.add("doc comment end","insertion",function(m,x,C,w,_){if(m==="doc-start"&&(_===`
`||_===`\r
`)&&C.selection.isEmpty()){var k=C.getCursorPosition();if(k.column===0)return;for(var A=w.doc.getLine(k.row),T=w.doc.getLine(k.row+1),j=w.getTokens(k.row),F=0,$=0;$<j.length;$++){F+=j[$].value.length;var D=j[$];if(F>=k.column){if(F===k.column){if(!/\.doc/.test(D.type))return;if(/\*\//.test(D.value)){var M=j[$+1];if(!M||!/\.doc/.test(M.type))return}}var R=k.column-(F-D.value.length),O=D.value.indexOf("*/"),z=D.value.indexOf("/**",O>-1?O+2:0);if(z!==-1&&R>z&&R<z+3||O!==-1&&z!==-1&&R>=O&&R<=z||!/\.doc/.test(D.type))return;break}}var B=this.$getIndent(A);if(/\s*\*/.test(T))return/^\s*\*/.test(A)?{text:_+B+"* ",selection:[1,2+B.length,1,2+B.length]}:{text:_+B+" * ",selection:[1,3+B.length,1,3+B.length]};if(/\/\*\*/.test(A.substring(0,k.column)))return{text:_+B+" * "+_+" "+B+"*/",selection:[1,4+B.length,1,4+B.length]}}})},a.isSaneInsertion=function(d,m){var x=d.getCursorPosition(),C=new f(m,x.row,x.column);if(!this.$matchTokenType(C.getCurrentToken()||"text",h)){if(/[)}\]]/.test(d.session.getLine(x.row)[x.column]))return!0;var w=new f(m,x.row,x.column+1);if(!this.$matchTokenType(w.getCurrentToken()||"text",h))return!1}return C.stepForward(),C.getCurrentTokenRow()!==x.row||this.$matchTokenType(C.getCurrentToken()||"text",r)},a.$matchTokenType=function(d,m){return m.indexOf(d.type||d)>-1},a.recordAutoInsert=function(d,m,x){var C=d.getCursorPosition(),w=m.doc.getLine(C.row);this.isAutoInsertedClosing(C,w,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=C.row,n.autoInsertedLineEnd=x+w.substr(C.column),n.autoInsertedBrackets++},a.recordMaybeInsert=function(d,m,x){var C=d.getCursorPosition(),w=m.doc.getLine(C.row);this.isMaybeInsertedClosing(C,w)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=C.row,n.maybeInsertedLineStart=w.substr(0,C.column)+x,n.maybeInsertedLineEnd=w.substr(C.column),n.maybeInsertedBrackets++},a.isAutoInsertedClosing=function(d,m,x){return n.autoInsertedBrackets>0&&d.row===n.autoInsertedRow&&x===n.autoInsertedLineEnd[0]&&m.substr(d.column)===n.autoInsertedLineEnd},a.isMaybeInsertedClosing=function(d,m){return n.maybeInsertedBrackets>0&&d.row===n.maybeInsertedRow&&m.substr(d.column)===n.maybeInsertedLineEnd&&m.substr(0,d.column)==n.maybeInsertedLineStart},a.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},a.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},S.inherits(a,y),v.CstyleBehaviour=a}),ace.define("ace/unicode",["require","exports","module"],function(g,v,L){for(var S=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],y=0,f=[],o=0;o<S.length;o+=2)f.push(y+=S[o]),S[o+1]&&f.push(45,y+=S[o+1]);v.wordChars=String.fromCharCode.apply(null,f)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(g,v,L){var S=g("../config"),y=g("../tokenizer").Tokenizer,f=g("./text_highlight_rules").TextHighlightRules,o=g("./behaviour/cstyle").CstyleBehaviour,h=g("../unicode"),r=g("../lib/lang"),n=g("../token_iterator").TokenIterator,i=g("../range").Range,s;s=function(){this.HighlightRules=f},(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new y(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(c,u,a,d){var m=u.doc,x=!0,C=!0,w=1/0,_=u.getTabSize(),k=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var j=this.lineCommentStart.map(r.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var j=r.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;j=new RegExp("^(\\s*)(?:"+j+") ?"),k=u.getUseSoftTabs();var D=function(K,Y){var X=K.match(j);if(X){var q=X[1].length,J=X[0].length;!O(K,q,J)&&X[0][J-1]==" "&&J--,m.removeInLine(Y,q,J)}},R=A+" ",$=function(K,Y){(!x||/\S/.test(K))&&(O(K,w,w)?m.insertInLine({row:Y,column:w},R):m.insertInLine({row:Y,column:w},A))},M=function(K,Y){return j.test(K)},O=function(K,Y,X){for(var q=0;Y--&&K.charAt(Y)==" ";)q++;if(q%_!=0)return!1;for(var q=0;K.charAt(X++)==" ";)q++;return _>2?q%_!=_-1:q%_==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,T=this.blockComment.end,j=new RegExp("^(\\s*)(?:"+r.escapeRegExp(A)+")"),F=new RegExp("(?:"+r.escapeRegExp(T)+")\\s*$"),$=function(P,U){M(P,U)||(!x||/\S/.test(P))&&(m.insertInLine({row:U,column:P.length},T),m.insertInLine({row:U,column:w},A))},D=function(P,U){var W;(W=P.match(F))&&m.removeInLine(U,P.length-W[0].length,P.length),(W=P.match(j))&&m.removeInLine(U,W[1].length,W[0].length)},M=function(P,U){if(j.test(P))return!0;for(var W=u.getTokens(U),K=0;K<W.length;K++)if(W[K].type==="comment")return!0}}function z(P){for(var U=a;U<=d;U++)P(m.getLine(U),U)}var B=1/0;z(function(P,U){var W=P.search(/\S/);W!==-1?(W<w&&(w=W),C&&!M(P,U)&&(C=!1)):B>P.length&&(B=P.length)}),w==1/0&&(w=B,x=!1,C=!1),k&&w%_!=0&&(w=Math.floor(w/_)*_),z(C?D:$)},this.toggleBlockComment=function(c,u,a,d){var m=this.blockComment;if(m){!m.start&&m[0]&&(m=m[0]);var x=new n(u,d.row,d.column),C=x.getCurrentToken();u.selection;var w=u.selection.toOrientedRange(),_,k;if(C&&/comment/.test(C.type)){for(var A,T;C&&/comment/.test(C.type);){var j=C.value.indexOf(m.start);if(j!=-1){var F=x.getCurrentTokenRow(),$=x.getCurrentTokenColumn()+j;A=new i(F,$,F,$+m.start.length);break}C=x.stepBackward()}for(var x=new n(u,d.row,d.column),C=x.getCurrentToken();C&&/comment/.test(C.type);){var j=C.value.indexOf(m.end);if(j!=-1){var F=x.getCurrentTokenRow(),$=x.getCurrentTokenColumn()+j;T=new i(F,$,F,$+m.end.length);break}C=x.stepForward()}T&&u.remove(T),A&&(u.remove(A),_=A.start.row,k=-m.start.length)}else k=m.start.length,_=a.start.row,u.insert(a.end,m.end),u.insert(a.start,m.start);w.start.row==_&&(w.start.column+=k),w.end.row==_&&(w.end.column+=k),u.selection.fromOrientedRange(w)}},this.getNextLineIndent=function(c,u,a){return this.$getIndent(u)},this.checkOutdent=function(c,u,a){return!1},this.autoOutdent=function(c,u,a){},this.$getIndent=function(c){return c.match(/^\s*/)[0]},this.createWorker=function(c){return null},this.createModeDelegates=function(c){this.$embeds=[],this.$modes={};for(var u in c)if(c[u]){var a=c[u],d=a.prototype.$id,m=S.$modes[d];m||(S.$modes[d]=m=new a),S.$modes[u]||(S.$modes[u]=m),this.$embeds.push(u),this.$modes[u]=m}for(var x=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],C=function(_){(function(k){var A=x[_],T=k[A];k[x[_]]=function(){return this.$delegator(A,arguments,T)}})(w)},w=this,u=0;u<x.length;u++)C(u)},this.$delegator=function(c,u,a){var d=u[0]||"start";if(typeof d!="string"){if(Array.isArray(d[2])){var m=d[2][d[2].length-1],x=this.$modes[m];if(x)return x[c].apply(x,[d[1]].concat([].slice.call(u,1)))}d=d[0]||"start"}for(var C=0;C<this.$embeds.length;C++)if(this.$modes[this.$embeds[C]]){var w=d.split(this.$embeds[C]);if(!w[0]&&w[1]){u[0]=w[1];var x=this.$modes[this.$embeds[C]];return x[c].apply(x,u)}}var _=a.apply(this,u);return a?_:void 0},this.transformAction=function(c,u,a,d,m){if(this.$behaviour){var x=this.$behaviour.getBehaviours();for(var C in x)if(x[C][u]){var w=x[C][u].apply(this,arguments);if(w)return w}}},this.getKeywords=function(c){if(!this.completionKeywords){var u=this.$tokenizer.rules,a=[];for(var d in u)for(var m=u[d],x=0,C=m.length;x<C;x++)if(typeof m[x].token=="string")/keyword|support|storage/.test(m[x].token)&&a.push(m[x].regex);else if(typeof m[x].token=="object"){for(var w=0,_=m[x].token.length;w<_;w++)if(/keyword|support|storage/.test(m[x].token[w])){var d=m[x].regex.match(/\(.+?\)/g)[w];a.push(d.substr(1,d.length-2))}}this.completionKeywords=a}return c?a.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(c,u,a,d){var m=this.$keywordList||this.$createKeywordList();return m.map(function(x){return{name:x,value:x,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(s.prototype),v.Mode=s}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(g,v,L){var S=g("./lib/dom"),y=(function(){function f(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return f.prototype.getRowLength=function(o){var h;return this.lineWidgets?h=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[o]?1+h:this.$wrapData[o].length+1+h},f.prototype.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(o+=h.rowCount)}),o},f.prototype.$onChangeEditor=function(o){this.attach(o.editor)},f.prototype.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},f.prototype.detach=function(o){var h=this.editor;if(h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var r=this.session.lineWidgets;r&&r.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}},f.prototype.updateOnFold=function(o,h){var r=h.lineWidgets;if(!(!r||!o.action)){for(var n=o.data,i=n.start.row,s=n.end.row,c=o.action=="add",u=i+1;u<s;u++)r[u]&&(r[u].hidden=c);r[s]&&(c?r[i]?r[s].hidden=c:r[i]=r[s]:(r[i]==r[s]&&(r[i]=void 0),r[s].hidden=c))}},f.prototype.updateOnChange=function(o){var h=this.session.lineWidgets;if(h){var r=o.start.row,n=o.end.row-r;if(n!==0)if(o.action=="remove"){var i=h.splice(r+1,n);!h[r]&&i[i.length-1]&&(h[r]=i.pop()),i.forEach(function(c){c&&this.removeLineWidget(c)},this),this.$updateRows()}else{var s=new Array(n);h[r]&&h[r].column!=null&&o.start.column>h[r].column&&r++,s.unshift(r,0),h.splice.apply(h,s),this.$updateRows()}}},f.prototype.$updateRows=function(){var o=this.session.lineWidgets;if(o){var h=!0;o.forEach(function(r,n){if(r)for(h=!1,r.row=n;r.$oldWidget;)r.$oldWidget.row=n,r=r.$oldWidget}),h&&(this.session.lineWidgets=null)}},f.prototype.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[o.row];return h&&(o.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},f.prototype.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var h=this.editor.renderer;o.html&&!o.el&&(o.el=S.createElement("div"),o.el.innerHTML=o.html),o.text&&!o.el&&(o.el=S.createElement("div"),o.el.textContent=o.text),o.el&&(S.addCssClass(o.el,"ace_lineWidgetContainer"),o.className&&S.addCssClass(o.el,o.className),o.el.style.position="absolute",o.el.style.zIndex="5",h.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex="3"),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/h.layerConfig.lineHeight);var r=this.session.getFoldAt(o.row,0);if(o.$fold=r,r){var n=this.session.lineWidgets;o.row==r.end.row&&!n[r.start.row]?n[r.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(o),o},f.prototype.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[o.row];if(h==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;h;){if(h.$oldWidget==o){h.$oldWidget=o.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},f.prototype.getWidgetsAtRow=function(o){for(var h=this.session.lineWidgets,r=h&&h[o],n=[];r;)n.push(r),r=r.$oldWidget;return n},f.prototype.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},f.prototype.measureWidgets=function(o,h){var r=this.session._changedWidgets,n=h.layerConfig;if(!(!r||!r.length)){for(var i=1/0,s=0;s<r.length;s++){var c=r[s];if(!(!c||!c.el)&&c.session==this.session){if(!c._inDocument){if(this.session.lineWidgets[c.row]!=c)continue;c._inDocument=!0,h.container.appendChild(c.el)}c.h=c.el.offsetHeight,c.fixedWidth||(c.w=c.el.offsetWidth,c.screenWidth=Math.ceil(c.w/n.characterWidth));var u=c.h/n.lineHeight;c.coverLine&&(u-=this.session.getRowLineCount(c.row),u<0&&(u=0)),c.rowCount!=u&&(c.rowCount=u,c.row<i&&(i=c.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},f.prototype.renderWidgets=function(o,h){var r=h.layerConfig,n=this.session.lineWidgets;if(n){for(var i=Math.min(this.firstRow,r.firstRow),s=Math.max(this.lastRow,r.lastRow,n.length);i>0&&!n[i];)i--;this.firstRow=r.firstRow,this.lastRow=r.lastRow,h.$cursorLayer.config=r;for(var c=i;c<=s;c++){var u=n[c];if(!(!u||!u.el)){if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+"px";continue}u._inDocument||(u._inDocument=!0,h.container.appendChild(u.el));var a=h.$cursorLayer.getPixelPosition({row:c,column:0},!0).top;u.coverLine||(a+=r.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-r.offset+"px";var d=u.coverGutter?0:h.gutterWidth;u.fixedWidth||(d-=h.scrollLeft),u.el.style.left=d+"px",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=r.width+2*r.padding+"px"),u.fixedWidth?u.el.style.right=h.scrollBar.getWidth()+"px":u.el.style.right=""}}}},f})();v.LineWidgets=y}),ace.define("ace/apply_delta",["require","exports","module"],function(g,v,L){v.applyDelta=function(S,y,f){var o=y.start.row,h=y.start.column,r=S[o]||"";switch(y.action){case"insert":var n=y.lines;if(n.length===1)S[o]=r.substring(0,h)+y.lines[0]+r.substring(h);else{var i=[o,1].concat(y.lines);S.splice.apply(S,i),S[o]=r.substring(0,h)+S[o],S[o+y.lines.length-1]+=r.substring(h)}break;case"remove":var s=y.end.column,c=y.end.row;o===c?S[o]=r.substring(0,h)+r.substring(s):S.splice(o,c-o+1,r.substring(0,h)+S[c].substring(s));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(g,v,L){var S=g("./lib/oop"),y=g("./lib/event_emitter").EventEmitter,f=(function(){function r(n,i,s){this.$onChange=this.onChange.bind(this),this.attach(n),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,s)}return r.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},r.prototype.getDocument=function(){return this.document},r.prototype.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row)&&!(n.start.row>this.row)){var i=h(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},r.prototype.setPosition=function(n,i,s){var c;if(s?c={row:n,column:i}:c=this.$clipPositionToDocument(n,i),!(this.row==c.row&&this.column==c.column)){var u={row:this.row,column:this.column};this.row=c.row,this.column=c.column,this._signal("change",{old:u,value:c})}},r.prototype.detach=function(){this.document.off("change",this.$onChange)},r.prototype.attach=function(n){this.document=n||this.document,this.document.on("change",this.$onChange)},r.prototype.$clipPositionToDocument=function(n,i){var s={};return n>=this.document.getLength()?(s.row=Math.max(0,this.document.getLength()-1),s.column=this.document.getLine(s.row).length):n<0?(s.row=0,s.column=0):(s.row=n,s.column=Math.min(this.document.getLine(s.row).length,Math.max(0,i))),i<0&&(s.column=0),s},r})();f.prototype.$insertRight=!1,S.implement(f.prototype,y);function o(r,n,i){var s=i?r.column<=n.column:r.column<n.column;return r.row<n.row||r.row==n.row&&s}function h(r,n,i){var s=r.action=="insert",c=(s?1:-1)*(r.end.row-r.start.row),u=(s?1:-1)*(r.end.column-r.start.column),a=r.start,d=s?a:r.end;return o(n,a,i)?{row:n.row,column:n.column}:o(d,n,!i)?{row:n.row+c,column:n.column+(n.row==d.row?u:0)}:{row:a.row,column:a.column}}v.Anchor=f}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(g,v,L){var S=g("./lib/oop"),y=g("./apply_delta").applyDelta,f=g("./lib/event_emitter").EventEmitter,o=g("./range").Range,h=g("./anchor").Anchor,r=(function(){function n(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return n.prototype.setValue=function(i){var s=this.getLength()-1;this.remove(new o(0,0,s,this.getLine(s).length)),this.insert({row:0,column:0},i||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(i,s){return new h(this,i,s)},n.prototype.$detectNewLine=function(i){var s=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=s?s[1]:`
`,this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},n.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},n.prototype.getLine=function(i){return this.$lines[i]||""},n.prototype.getLines=function(i,s){return this.$lines.slice(i,s+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(i){var s;if(i.start.row===i.end.row)s=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{s=this.getLines(i.start.row,i.end.row),s[0]=(s[0]||"").substring(i.start.column);var c=s.length-1;i.end.row-i.start.row==c&&(s[c]=s[c].substring(0,i.end.column))}return s},n.prototype.insertLines=function(i,s){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,s)},n.prototype.removeLines=function(i,s){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,s)},n.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},n.prototype.insert=function(i,s){return this.getLength()<=1&&this.$detectNewLine(s),this.insertMergedLines(i,this.$split(s))},n.prototype.insertInLine=function(i,s){var c=this.clippedPos(i.row,i.column),u=this.pos(i.row,i.column+s.length);return this.applyDelta({start:c,end:u,action:"insert",lines:[s]},!0),this.clonePos(u)},n.prototype.clippedPos=function(i,s){var c=this.getLength();i===void 0?i=c:i<0?i=0:i>=c&&(i=c-1,s=void 0);var u=this.getLine(i);return s==null&&(s=u.length),s=Math.min(Math.max(s,0),u.length),{row:i,column:s}},n.prototype.clonePos=function(i){return{row:i.row,column:i.column}},n.prototype.pos=function(i,s){return{row:i,column:s}},n.prototype.$clipPosition=function(i){var s=this.getLength();return i.row>=s?(i.row=Math.max(0,s-1),i.column=this.getLine(s-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},n.prototype.insertFullLines=function(i,s){i=Math.min(Math.max(i,0),this.getLength());var c=0;i<this.getLength()?(s=s.concat([""]),c=0):(s=[""].concat(s),i--,c=this.$lines[i].length),this.insertMergedLines({row:i,column:c},s)},n.prototype.insertMergedLines=function(i,s){var c=this.clippedPos(i.row,i.column),u={row:c.row+s.length-1,column:(s.length==1?c.column:0)+s[s.length-1].length};return this.applyDelta({start:c,end:u,action:"insert",lines:s}),this.clonePos(u)},n.prototype.remove=function(i){var s=this.clippedPos(i.start.row,i.start.column),c=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:s,end:c,action:"remove",lines:this.getLinesForRange({start:s,end:c})}),this.clonePos(s)},n.prototype.removeInLine=function(i,s,c){var u=this.clippedPos(i,s),a=this.clippedPos(i,c);return this.applyDelta({start:u,end:a,action:"remove",lines:this.getLinesForRange({start:u,end:a})},!0),this.clonePos(u)},n.prototype.removeFullLines=function(i,s){i=Math.min(Math.max(0,i),this.getLength()-1),s=Math.min(Math.max(0,s),this.getLength()-1);var c=s==this.getLength()-1&&i>0,u=s<this.getLength()-1,a=c?i-1:i,d=c?this.getLine(a).length:0,m=u?s+1:s,x=u?0:this.getLine(m).length,C=new o(a,d,m,x),w=this.$lines.slice(i,s+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),w},n.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(i,s){if(i instanceof o||(i=o.fromPoints(i.start,i.end)),s.length===0&&i.isEmpty())return i.start;if(s==this.getTextRange(i))return i.end;this.remove(i);var c;return s?c=this.insert(i.start,s):c=i.start,c},n.prototype.applyDeltas=function(i){for(var s=0;s<i.length;s++)this.applyDelta(i[s])},n.prototype.revertDeltas=function(i){for(var s=i.length-1;s>=0;s--)this.revertDelta(i[s])},n.prototype.applyDelta=function(i,s){var c=i.action=="insert";(c?i.lines.length<=1&&!i.lines[0]:!o.comparePoints(i.start,i.end))||(c&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(y(this.$lines,i,s),this._signal("change",i)))},n.prototype.$safeApplyDelta=function(i){var s=this.$lines.length;(i.action=="remove"&&i.start.row<s&&i.end.row<s||i.action=="insert"&&i.start.row<=s)&&this.applyDelta(i)},n.prototype.$splitAndapplyLargeDelta=function(i,s){for(var c=i.lines,u=c.length-s+1,a=i.start.row,d=i.start.column,m=0,x=0;m<u;m=x){x+=s-1;var C=c.slice(m,x);C.push(""),this.applyDelta({start:this.pos(a+m,d),end:this.pos(a+x,d=0),action:i.action,lines:C},!0)}i.lines=c.slice(m),i.start.row=a+m,i.start.column=d,this.applyDelta(i,!0)},n.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},n.prototype.indexToPosition=function(i,s){for(var c=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,a=s||0,d=c.length;a<d;a++)if(i-=c[a].length+u,i<0)return{row:a,column:i+c[a].length+u};return{row:d-1,column:i+c[d-1].length+u}},n.prototype.positionToIndex=function(i,s){for(var c=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,a=0,d=Math.min(i.row,c.length),m=s||0;m<d;++m)a+=c[m].length+u;return a+i.column},n.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},n})();r.prototype.$autoNewLine="",r.prototype.$newLineMode="auto",S.implement(r.prototype,f),v.Document=r}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(g,v,L){var S=g("./lib/oop"),y=g("./lib/event_emitter").EventEmitter,f=(function(){function o(h,r){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var n=this;this.$worker=function(){if(n.running){for(var i=new Date,s=n.currentLine,c=-1,u=n.doc,a=s;n.lines[s];)s++;var d=u.getLength(),m=0;for(n.running=!1;s<d;){n.$tokenizeRow(s),c=s;do s++;while(n.lines[s]);if(m++,m%5===0&&new Date-i>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=s,c==-1&&(c=s),a<=c&&n.fireUpdateEvent(a,c)}}}return o.prototype.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},o.prototype.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},o.prototype.fireUpdateEvent=function(h,r){var n={first:h,last:r};this._signal("update",{data:n})},o.prototype.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},o.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},o.prototype.$updateOnChange=function(h){var r=h.start.row,n=h.end.row-r;if(n===0)this.lines[r]=null;else if(h.action=="remove")this.lines.splice(r,n+1,null),this.states.splice(r,n+1,null);else{var i=Array(n+1);i.unshift(r,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(r,this.currentLine,this.doc.getLength()),this.stop()},o.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},o.prototype.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},o.prototype.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},o.prototype.$tokenizeRow=function(h){var r=this.doc.getLine(h),n=this.states[h-1],i=this.tokenizer.getLineTokens(r,n,h);return this.states[h]+""!=i.state+""?(this.states[h]=i.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=i.tokens},o.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},o})();S.implement(f.prototype,y),v.BackgroundTokenizer=f}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(g,v,L){var S=g("./lib/lang"),y=g("./range").Range,f=(function(){function o(h,r,n){n===void 0&&(n="text"),this.setRegexp(h),this.clazz=r,this.type=n,this.docLen=0}return o.prototype.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},o.prototype.update=function(h,r,n,i){if(this.regExp){for(var s=i.firstRow,c=i.lastRow,u={},a=n.$editor&&n.$editor.$search,d=a&&a.$isMultilineSearch(n.$editor.getLastSearchOptions()),m=s;m<=c;m++){var x=this.cache[m];if(x==null||n.getValue().length!=this.docLen){if(d){x=[];var C=a.$multiLineForward(n,this.regExp,m,c);if(C){var w=C.endRow<=c?C.endRow-1:c;w>m&&(m=w),x.push(new y(C.startRow,C.startCol,C.endRow,C.endCol))}x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES))}else x=S.getMatchOffsets(n.getLine(m),this.regExp),x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES)),x=x.map(function(T){return new y(m,T.offset,m,T.offset+T.length)});this.cache[m]=x.length?x:""}if(x.length!==0)for(var _=x.length;_--;){var k=x[_].toScreenRange(n),A=k.toString();u[A]||(u[A]=!0,r.drawSingleLineMarker(h,k,this.clazz,i))}}this.docLen=n.getValue().length}},o})();f.prototype.MAX_RANGES=500,v.SearchHighlight=f}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(g,v,L){var S=(function(){function w(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return w.prototype.addSession=function(_){this.$session=_},w.prototype.add=function(_,k,A){if(!this.$fromUndo&&_!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),k===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),_.id=this.$rev=++this.$maxRev}(_.action=="remove"||_.action=="insert")&&(this.$lastDelta=_),this.lastDeltas.push(_)}},w.prototype.addSelection=function(_,k){this.selections.push({value:_,rev:k||this.$rev})},w.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},w.prototype.markIgnored=function(_,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=A.length;T--;){var j=A[T][0];if(j.id<=_)break;j.id<k&&(j.ignore=!0)}this.lastDeltas=null},w.prototype.getSelection=function(_,k){for(var A=this.selections,T=A.length;T--;){var j=A[T];if(j.rev<_)return k&&(j=A[T+1]),j}},w.prototype.getRevision=function(){return this.$rev},w.prototype.getDeltas=function(_,k){k==null&&(k=this.$rev+1);for(var A=this.$undoStack,T=null,j=0,F=A.length;F--;){var $=A[F][0];if($.id<k&&!T&&(T=F+1),$.id<=_){j=F+1;break}}return A.slice(j,T)},w.prototype.getChangedRanges=function(_,k){k==null&&(k=this.$rev+1)},w.prototype.getChangedLines=function(_,k){k==null&&(k=this.$rev+1)},w.prototype.undo=function(_,k){this.lastDeltas=null;var A=this.$undoStack;if(y(A,A.length)){_||(_=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=A.pop(),j=null;return T&&(j=_.undoChanges(T,k),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j}},w.prototype.redo=function(_,k){if(this.lastDeltas=null,_||(_=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);C(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(F){F[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),j=null;return T&&(j=_.redoChanges(T,k),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,j},w.prototype.$syncRev=function(){var _=this.$undoStack,k=_[_.length-1],A=k&&k[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},w.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},w.prototype.canUndo=function(){return this.$undoStack.length>0},w.prototype.canRedo=function(){return this.$redoStack.length>0},w.prototype.bookmark=function(_){_==null&&(_=this.$rev),this.mark=_},w.prototype.isAtBookmark=function(){return this.$rev===this.mark},w.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},w.prototype.fromJSON=function(_){this.reset(),this.$undoStack=_.$undoStack,this.$redoStack=_.$redoStack},w.prototype.$prettyPrint=function(_){return _?n(_):n(this.$undoStack)+`
---
`+n(this.$redoStack)},w})();S.prototype.hasUndo=S.prototype.canUndo,S.prototype.hasRedo=S.prototype.canRedo,S.prototype.isClean=S.prototype.isAtBookmark,S.prototype.markClean=S.prototype.bookmark;function y(w,_){for(var k=_;k--;){var A=w[k];if(A&&!A[0].ignore){for(;k<_-1;){var T=c(w[k],w[k+1]);w[k]=T[0],w[k+1]=T[1],k++}return!0}}}var f=g("./range").Range,o=f.comparePoints;f.comparePoints;function h(w){return{row:w.row,column:w.column}}function r(w){return{start:h(w.start),end:h(w.end),action:w.action,lines:w.lines.slice()}}function n(w){if(w=w||this,Array.isArray(w))return w.map(n).join(`
`);var _="";return w.action?(_=w.action=="insert"?"+":"-",_+="["+w.lines+"]"):w.value&&(Array.isArray(w.value)?_=w.value.map(i).join(`
`):_=i(w.value)),w.start&&(_+=i(w)),(w.id||w.rev)&&(_+="	("+(w.id||w.rev)+")"),_}function i(w){return w.start.row+":"+w.start.column+"=>"+w.end.row+":"+w.end.column}function s(w,_){var k=w.action=="insert",A=_.action=="insert";if(k&&A)if(o(_.start,w.end)>=0)a(_,w,-1);else if(o(_.start,w.start)<=0)a(w,_,1);else return null;else if(k&&!A)if(o(_.start,w.end)>=0)a(_,w,-1);else if(o(_.end,w.start)<=0)a(w,_,-1);else return null;else if(!k&&A)if(o(_.start,w.start)>=0)a(_,w,1);else if(o(_.start,w.start)<=0)a(w,_,1);else return null;else if(!k&&!A)if(o(_.start,w.start)>=0)a(_,w,1);else if(o(_.end,w.start)<=0)a(w,_,-1);else return null;return[_,w]}function c(w,_){for(var k=w.length;k--;)for(var A=0;A<_.length;A++)if(!s(w[k],_[A])){for(;k<w.length;){for(;A--;)s(_[A],w[k]);A=_.length,k++}return[w,_]}return w.selectionBefore=_.selectionBefore=w.selectionAfter=_.selectionAfter=null,[_,w]}function u(w,_){var k=w.action=="insert",A=_.action=="insert";if(k&&A)o(w.start,_.start)<0?a(_,w,1):a(w,_,1);else if(k&&!A)o(w.start,_.end)>=0?a(w,_,-1):(o(w.start,_.start)<=0||a(w,f.fromPoints(_.start,w.start),-1),a(_,w,1));else if(!k&&A)o(_.start,w.end)>=0?a(_,w,-1):(o(_.start,w.start)<=0||a(_,f.fromPoints(w.start,_.start),-1),a(w,_,1));else if(!k&&!A)if(o(_.start,w.end)>=0)a(_,w,-1);else if(o(_.end,w.start)<=0)a(w,_,-1);else{var T,j;return o(w.start,_.start)<0&&(T=w,w=m(w,_.start)),o(w.end,_.end)>0&&(j=m(w,_.end)),d(_.end,w.start,w.end,-1),j&&!T&&(w.lines=j.lines,w.start=j.start,w.end=j.end,j=w),[_,T,j].filter(Boolean)}return[_,w]}function a(w,_,k){d(w.start,_.start,_.end,k),d(w.end,_.start,_.end,k)}function d(w,_,k,A){w.row==(A==1?_:k).row&&(w.column+=A*(k.column-_.column)),w.row+=A*(k.row-_.row)}function m(w,_){var k=w.lines,A=w.end;w.end=h(_);var T=w.end.row-w.start.row,j=k.splice(T,k.length),F=T?_.column:_.column-w.start.column;k.push(j[0].substring(0,F)),j[0]=j[0].substr(F);var $={start:h(_),end:A,lines:j,action:w.action};return $}function x(w,_){_=r(_);for(var k=w.length;k--;){for(var A=w[k],T=0;T<A.length;T++){var j=A[T],F=u(j,_);_=F[0],F.length!=2&&(F[2]?(A.splice(T+1,1,F[1],F[2]),T++):F[1]||(A.splice(T,1),T--))}A.length||w.splice(k,1)}return w}function C(w,_){for(var k=0;k<_.length;k++)for(var A=_[k],T=0;T<A.length;T++)x(w,A[T])}v.UndoManager=S}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(g,v,L){var S=g("../range").Range,y=(function(){function f(o,h){this.foldData=o,Array.isArray(h)?this.folds=h:h=this.folds=[h];var r=h[h.length-1];this.range=new S(h[0].start.row,h[0].start.column,r.end.row,r.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(n){n.setFoldLine(this)},this)}return f.prototype.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(h){h.start.row+=o,h.end.row+=o})},f.prototype.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(h,r){return-h.range.compareEnd(r.start.row,r.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},f.prototype.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},f.prototype.walk=function(o,h,r){var n=0,i=this.folds,s,c,u,a=!0;h==null&&(h=this.end.row,r=this.end.column);for(var d=0;d<i.length;d++){if(s=i[d],c=s.range.compareStart(h,r),c==-1){o(null,h,r,n,a);return}if(u=o(null,s.start.row,s.start.column,n,a),u=!u&&o(s.placeholder,s.start.row,s.start.column,n),u||c===0)return;a=!s.sameRow,n=s.end.column}o(null,h,r,n,a)},f.prototype.getNextFoldTo=function(o,h){for(var r,n,i=0;i<this.folds.length;i++){if(r=this.folds[i],n=r.range.compareEnd(o,h),n==-1)return{fold:r,kind:"after"};if(n===0)return{fold:r,kind:"inside"}}return null},f.prototype.addRemoveChars=function(o,h,r){var n=this.getNextFoldTo(o,h),i,s;if(n){if(i=n.fold,n.kind=="inside"&&i.start.column!=h&&i.start.row!=o)window.console&&window.console.log(o,h,i);else if(i.start.row==o){s=this.folds;var c=s.indexOf(i);for(c===0&&(this.start.column+=r),c;c<s.length;c++){if(i=s[c],i.start.column+=r,!i.sameRow)return;i.end.column+=r}this.end.column+=r}}},f.prototype.split=function(o,h){var r=this.getNextFoldTo(o,h);if(!r||r.kind=="inside")return null;var n=r.fold,i=this.folds,s=this.foldData,c=i.indexOf(n),u=i[c-1];this.end.row=u.end.row,this.end.column=u.end.column,i=i.splice(c,i.length-c);var a=new f(s,i);return s.splice(s.indexOf(this)+1,0,a),a},f.prototype.merge=function(o){for(var h=o.folds,r=0;r<h.length;r++)this.addFold(h[r]);var n=this.foldData;n.splice(n.indexOf(o),1)},f.prototype.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(h){o.push("  "+h.toString())}),o.push("]"),o.join(`
`)},f.prototype.idxToPosition=function(o){for(var h=0,r=0;r<this.folds.length;r++){var n=this.folds[r];if(o-=n.start.column-h,o<0)return{row:n.start.row,column:n.start.column+o};if(o-=n.placeholder.length,o<0)return n.start;h=n.end.column}return{row:this.end.row,column:this.end.column+o}},f})();v.FoldLine=y}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(g,v,L){var S=g("./range").Range,y=S.comparePoints,f=(function(){function o(){this.ranges=[],this.$bias=1}return o.prototype.pointIndex=function(h,r,n){for(var i=this.ranges,s=n||0;s<i.length;s++){var c=i[s],u=y(h,c.end);if(!(u>0)){var a=y(h,c.start);return u===0?r&&a!==0?-s-2:s:a>0||a===0&&!r?s:-s-1}}return-s-1},o.prototype.add=function(h){var r=!h.isEmpty(),n=this.pointIndex(h.start,r);n<0&&(n=-n-1);var i=this.pointIndex(h.end,r,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,h)},o.prototype.addList=function(h){for(var r=[],n=h.length;n--;)r.push.apply(r,this.add(h[n]));return r},o.prototype.substractPoint=function(h){var r=this.pointIndex(h);if(r>=0)return this.ranges.splice(r,1)},o.prototype.merge=function(){var h=[],r=this.ranges;r=r.sort(function(u,a){return y(u.start,a.start)});for(var n=r[0],i,s=1;s<r.length;s++){i=n,n=r[s];var c=y(i.end,n.start);c<0||c==0&&!i.isEmpty()&&!n.isEmpty()||(y(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),r.splice(s,1),h.push(n),n=i,s--)}return this.ranges=r,h},o.prototype.contains=function(h,r){return this.pointIndex({row:h,column:r})>=0},o.prototype.containsPoint=function(h){return this.pointIndex(h)>=0},o.prototype.rangeAtPoint=function(h){var r=this.pointIndex(h);if(r>=0)return this.ranges[r]},o.prototype.clipRows=function(h,r){var n=this.ranges;if(n[0].start.row>r||n[n.length-1].start.row<h)return[];var i=this.pointIndex({row:h,column:0});i<0&&(i=-i-1);var s=this.pointIndex({row:r,column:0},i);s<0&&(s=-s-1);for(var c=[],u=i;u<s;u++)c.push(n[u]);return c},o.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},o.prototype.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},o.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},o.prototype.$onChange=function(h){for(var r=h.start,n=h.end,i=r.row,s=n.row,c=this.ranges,u=0,a=c.length;u<a;u++){var d=c[u];if(d.end.row>=i)break}if(h.action=="insert")for(var m=s-i,x=-r.column+n.column;u<a;u++){var d=c[u];if(d.start.row>i)break;if(d.start.row==i&&d.start.column>=r.column&&(d.start.column==r.column&&this.$bias<=0||(d.start.column+=x,d.start.row+=m)),d.end.row==i&&d.end.column>=r.column){if(d.end.column==r.column&&this.$bias<0)continue;d.end.column==r.column&&x>0&&u<a-1&&d.end.column>d.start.column&&d.end.column==c[u+1].start.column&&(d.end.column-=x),d.end.column+=x,d.end.row+=m}}else for(var m=i-s,x=r.column-n.column;u<a;u++){var d=c[u];if(d.start.row>s)break;d.end.row<s&&(i<d.end.row||i==d.end.row&&r.column<d.end.column)?(d.end.row=i,d.end.column=r.column):d.end.row==s?d.end.column<=n.column?(m||d.end.column>r.column)&&(d.end.column=r.column,d.end.row=r.row):(d.end.column+=x,d.end.row+=m):d.end.row>s&&(d.end.row+=m),d.start.row<s&&(i<d.start.row||i==d.start.row&&r.column<d.start.column)?(d.start.row=i,d.start.column=r.column):d.start.row==s?d.start.column<=n.column?(m||d.start.column>r.column)&&(d.start.column=r.column,d.start.row=r.row):(d.start.column+=x,d.start.row+=m):d.start.row>s&&(d.start.row+=m)}if(m!=0&&u<a)for(;u<a;u++){var d=c[u];d.start.row+=m,d.end.row+=m}},o})();f.prototype.comparePoints=y,v.RangeList=f}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(g,v,L){var S=this&&this.__extends||(function(){var i=function(s,c){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(u[d]=a[d])},i(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");i(s,c);function u(){this.constructor=s}s.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}})(),y=g("../range_list").RangeList,f=(function(i){S(s,i);function s(c,u){var a=i.call(this)||this;return a.foldLine=null,a.placeholder=u,a.range=c,a.start=c.start,a.end=c.end,a.sameRow=c.start.row==c.end.row,a.subFolds=a.ranges=[],a}return s.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},s.prototype.setFoldLine=function(c){this.foldLine=c,this.subFolds.forEach(function(u){u.setFoldLine(c)})},s.prototype.clone=function(){var c=this.range.clone(),u=new s(c,this.placeholder);return this.subFolds.forEach(function(a){u.subFolds.push(a.clone())}),u.collapseChildren=this.collapseChildren,u},s.prototype.addSubFold=function(c){if(!this.range.isEqual(c)){h(c,this.start);for(var x=c.start.row,C=c.start.column,u=0,a=-1;u<this.subFolds.length&&(a=this.subFolds[u].range.compare(x,C),a==1);u++);var d=this.subFolds[u],m=0;if(a==0){if(d.range.containsRange(c))return d.addSubFold(c);m=1}for(var x=c.range.end.row,C=c.range.end.column,w=u,a=-1;w<this.subFolds.length&&(a=this.subFolds[w].range.compare(x,C),a==1);w++);a==0&&w++;for(var _=this.subFolds.splice(u,w-u,c),k=a==0?_.length-1:_.length,A=m;A<k;A++)c.addSubFold(_[A]);return c.setFoldLine(this.foldLine),c}},s.prototype.restoreRange=function(c){return n(c,this.start)},s})(y);function o(i,s){i.row-=s.row,i.row==0&&(i.column-=s.column)}function h(i,s){o(i.start,s),o(i.end,s)}function r(i,s){i.row==0&&(i.column+=s.column),i.row+=s.row}function n(i,s){r(i.start,s),r(i.end,s)}v.Fold=f}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(g,v,L){var S=g("../range").Range,y=g("./fold_line").FoldLine,f=g("./fold").Fold,o=g("../token_iterator").TokenIterator,h=g("../mouse/mouse_event").MouseEvent;function r(){this.getFoldAt=function(n,i,s){var c=this.getFoldLine(n);if(!c)return null;for(var u=c.folds,a=0;a<u.length;a++){var d=u[a].range;if(d.contains(n,i)){if(s==1&&d.isEnd(n,i)&&!d.isEmpty())continue;if(s==-1&&d.isStart(n,i)&&!d.isEmpty())continue;return u[a]}}},this.getFoldsInRange=function(n){var i=n.start,s=n.end,c=this.$foldData,u=[];i.column+=1,s.column-=1;for(var a=0;a<c.length;a++){var d=c[a].range.compareRange(n);if(d!=2){if(d==-2)break;for(var m=c[a].folds,x=0;x<m.length;x++){var C=m[x];if(d=C.range.compareRange(n),d==-2)break;if(d==2)continue;if(d==42)break;u.push(C)}}}return i.column-=1,s.column+=1,u},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var i=[];n.forEach(function(s){i=i.concat(this.getFoldsInRange(s))},this)}else var i=this.getFoldsInRange(n);return i},this.getAllFolds=function(){for(var n=[],i=this.$foldData,s=0;s<i.length;s++)for(var c=0;c<i[s].folds.length;c++)n.push(i[s].folds[c]);return n},this.getFoldStringAt=function(n,i,s,c){if(c=c||this.getFoldLine(n),!c)return null;for(var u={end:{column:0}},a,d,m=0;m<c.folds.length;m++){d=c.folds[m];var x=d.range.compareEnd(n,i);if(x==-1){a=this.getLine(d.start.row).substring(u.end.column,d.start.column);break}else if(x===0)return null;u=d}return a||(a=this.getLine(d.start.row).substring(u.end.column)),s==-1?a.substring(0,i-u.end.column):s==1?a.substring(i-u.end.column):a},this.getFoldLine=function(n,i){var s=this.$foldData,c=0;for(i&&(c=s.indexOf(i)),c==-1&&(c=0),c;c<s.length;c++){var u=s[c];if(u.start.row<=n&&u.end.row>=n)return u;if(u.end.row>n)return null}return null},this.getNextFoldLine=function(n,i){var s=this.$foldData,c=0;for(i&&(c=s.indexOf(i)),c==-1&&(c=0),c;c<s.length;c++){var u=s[c];if(u.end.row>=n)return u}return null},this.getFoldedRowCount=function(n,i){for(var s=this.$foldData,c=i-n+1,u=0;u<s.length;u++){var a=s[u],d=a.end.row,m=a.start.row;if(d>=i){m<i&&(m>=n?c-=i-m:c=0);break}else d>=n&&(m>=n?c-=d-m:c-=d-n+1)}return c},this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(i,s){return i.start.row-s.start.row}),n},this.addFold=function(n,i){var s=this.$foldData,c=!1,u;n instanceof f?u=n:(u=new f(i,n),u.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(u.range);var a=u.start.row,d=u.start.column,m=u.end.row,x=u.end.column,C=this.getFoldAt(a,d,1),w=this.getFoldAt(m,x,-1);if(C&&w==C)return C.addSubFold(u);C&&!C.range.isStart(a,d)&&this.removeFold(C),w&&!w.range.isEnd(m,x)&&this.removeFold(w);var _=this.getFoldsInRange(u.range);_.length>0&&(this.removeFolds(_),u.collapseChildren||_.forEach(function(j){u.addSubFold(j)}));for(var k=0;k<s.length;k++){var A=s[k];if(m==A.start.row){A.addFold(u),c=!0;break}else if(a==A.end.row){if(A.addFold(u),c=!0,!u.sameRow){var T=s[k+1];if(T&&T.start.row==m){A.merge(T);break}}break}else if(m<=A.start.row)break}return c||(A=this.$addFoldLine(new y(this.$foldData,u))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:u,action:"add"}),u},this.addFolds=function(n){n.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(n){var i=n.foldLine,s=i.start.row,c=i.end.row,u=this.$foldData,a=i.folds;if(a.length==1)u.splice(u.indexOf(i),1);else if(i.range.isEnd(n.end.row,n.end.column))a.pop(),i.end.row=a[a.length-1].end.row,i.end.column=a[a.length-1].end.column;else if(i.range.isStart(n.start.row,n.start.column))a.shift(),i.start.row=a[0].start.row,i.start.column=a[0].start.column;else if(n.sameRow)a.splice(a.indexOf(n),1);else{var d=i.split(n.start.row,n.start.column);a=d.folds,a.shift(),d.start.row=a[0].start.row,d.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(s,c):this.$updateRowLengthCache(s,c)),this.$modified=!0,this._signal("changeFold",{data:n,action:"remove"})},this.removeFolds=function(n){for(var i=[],s=0;s<n.length;s++)i.push(n[s]);i.forEach(function(c){this.removeFold(c)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(i){n.restoreRange(i),this.addFold(i)},this),n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(n){n.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(n,i){var s,c;if(n==null)s=new S(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof n=="number")s=new S(n,0,n,this.getLine(n).length);else if("row"in n)s=S.fromPoints(n,n);else{if(Array.isArray(n))return c=[],n.forEach(function(a){c=c.concat(this.unfold(a))},this),c;s=n}c=this.getFoldsInRangeList(s);for(var u=c;c.length==1&&S.comparePoints(c[0].start,s.start)<0&&S.comparePoints(c[0].end,s.end)>0;)this.expandFolds(c),c=this.getFoldsInRangeList(s);if(i!=!1?this.removeFolds(c):this.expandFolds(c),u.length)return u},this.isRowFolded=function(n,i){return!!this.getFoldLine(n,i)},this.getRowFoldEnd=function(n,i){var s=this.getFoldLine(n,i);return s?s.end.row:n},this.getRowFoldStart=function(n,i){var s=this.getFoldLine(n,i);return s?s.start.row:n},this.getFoldDisplayLine=function(n,i,s,c,u){c==null&&(c=n.start.row),u==null&&(u=0),i==null&&(i=n.end.row),s==null&&(s=this.getLine(i).length);var a=this.doc,d="";return n.walk(function(m,x,C,w){if(!(x<c)){if(x==c){if(C<u)return;w=Math.max(u,w)}m!=null?d+=m:d+=a.getLine(x).substring(w,C)}},i,s),d},this.getDisplayLine=function(n,i,s,c){var u=this.getFoldLine(n);if(u)return this.getFoldDisplayLine(u,n,i,s,c);var a;return a=this.doc.getLine(n),a.substring(c||0,i||a.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(i){var s=i.folds.map(function(c){return c.clone()});return new y(n,s)}),n},this.toggleFold=function(n){var i=this.selection,s=i.getRange(),c,u;if(s.isEmpty()){var a=s.start;if(c=this.getFoldAt(a.row,a.column),c){this.expandFold(c);return}else if(n){var d=this.getFoldLine(a.row);d&&this.expandFolds(d.folds);return}else(u=this.findMatchingBracket(a))?s.comparePoint(u)==1?s.end=u:(s.start=u,s.start.column++,s.end.column--):(u=this.findMatchingBracket({row:a.row,column:a.column+1}))?(s.comparePoint(u)==1?s.end=u:s.start=u,s.start.column++):s=this.getCommentFoldRange(a.row,a.column)||s}else{var m=this.getFoldsInRange(s);if(n&&m.length){this.expandFolds(m);return}else m.length==1&&(c=m[0])}if(c||(c=this.getFoldAt(s.start.row,s.start.column)),c&&c.range.toString()==s.toString()){this.expandFold(c);return}var x="...";if(!s.isMultiLine()){if(x=this.getTextRange(s),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,s)},this.getCommentFoldRange=function(n,i,s){var c=new o(this,n,i),u=c.getCurrentToken(),a=u&&u.type;if(u&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],a=="comment"&&(a+="|doc-start|\\.doc");var d=new RegExp(a),m=new S;if(s!=1){do u=c.stepBackward();while(u&&d.test(u.type));u=c.stepForward()}m.start.row=c.getCurrentTokenRow(),m.start.column=c.getCurrentTokenColumn()+u.value.length,c=new o(this,n,i);var x=this.getState(c.$row);if(s!=-1){var C=-1;do if(u=c.stepForward(),C==-1){var w=this.getState(c.$row);x.toString()!==w.toString()&&(C=c.$row)}else if(c.$row>C)break;while(u&&d.test(u.type));u=c.stepBackward()}else u=c.getCurrentToken();return m.end.row=c.getCurrentTokenRow(),m.end.column=c.getCurrentTokenColumn(),m.start.row==m.end.row&&m.start.column>m.end.column?void 0:m}},this.foldAll=function(n,i,s,c){s==null&&(s=1e5);var u=this.foldWidgets;if(u){i=i||this.getLength(),n=n||0;for(var a=n;a<i;a++)if(u[a]==null&&(u[a]=this.getFoldWidget(a)),u[a]=="start"&&!(c&&!c(a))){var d=this.getFoldWidgetRange(a);d&&d.isMultiLine()&&d.end.row<=i&&d.start.row>=n&&(a=d.end.row,d.collapseChildren=s,this.addFold("...",d))}}},this.foldToLevel=function(n){for(this.foldAll();n-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(i){for(var s=n.getTokens(i),c=0;c<s.length;c++){var u=s[c];if(!(u.type=="text"&&/^\s+$/.test(u.value)))return!!/comment/.test(u.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,n=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(n,i){var s=this.foldWidgets;if(!s||i&&s[n])return{};for(var c=n-1,u;c>=0;){var a=s[c];if(a==null&&(a=s[c]=this.getFoldWidget(c)),a=="start"){var d=this.getFoldWidgetRange(c);if(u||(u=d),d&&d.end.row>=n)break}c--}return{range:c!==-1&&d,firstRange:u}},this.onFoldWidgetClick=function(n,i){i instanceof h&&(i=i.domEvent);var s={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},c=this.$toggleFoldWidget(n,s);if(!c){var u=i.target||i.srcElement;u&&/ace_fold-widget/.test(u.className)&&(u.className+=" ace_invalid")}},this.$toggleFoldWidget=function(n,i){if(this.getFoldWidget){var s=this.getFoldWidget(n),c=this.getLine(n),u=s==="end"?-1:1,a=this.getFoldAt(n,u===-1?0:c.length,u);if(a)return i.children||i.all?this.removeFold(a):this.expandFold(a),a;var d=this.getFoldWidgetRange(n,!0);if(d&&!d.isMultiLine()&&(a=this.getFoldAt(d.start.row,d.start.column,1),a&&d.isEqual(a.range)))return this.removeFold(a),a;if(i.siblings){var m=this.getParentFoldRangeData(n);if(m.range)var x=m.range.start.row+1,C=m.range.end.row;this.foldAll(x,C,i.all?1e4:0)}else i.children?(C=d?d.end.row:this.getLength(),this.foldAll(n+1,C,i.all?1e4:0)):d&&(i.all&&(d.collapseChildren=1e4),this.addFold("...",d));return d}},this.toggleFoldWidget=function(n){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var s=this.$toggleFoldWidget(i,{});if(!s){var c=this.getParentFoldRangeData(i,!0);if(s=c.range||c.firstRange,s){i=s.start.row;var u=this.getFoldAt(i,this.getLine(i).length,1);u?this.removeFold(u):this.addFold("...",s)}}},this.updateFoldWidgets=function(n){var i=n.start.row,s=n.end.row-i;if(s===0)this.foldWidgets[i]=null;else if(n.action=="remove")this.foldWidgets.splice(i,s+1,null);else{var c=Array(s+1);c.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,c)}},this.tokenizerUpdateFoldWidgets=function(n){var i=n.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}v.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(g,v,L){var S=g("../token_iterator").TokenIterator,y=g("../range").Range;function f(){this.findMatchingBracket=function(o,h){if(o.column==0)return null;var r=h||this.getLine(o.row).charAt(o.column-1);if(r=="")return null;var n=r.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],o):this.$findOpeningBracket(n[2],o):null},this.getBracketRange=function(o){var h=this.getLine(o.row),r=!0,n,i=h.charAt(o.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=h.charAt(o.column),o={row:o.row,column:o.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){var c=this.$findClosingBracket(s[1],o);if(!c)return null;n=y.fromPoints(o,c),r||(n.end.column++,n.start.column--),n.cursor=n.end}else{var c=this.$findOpeningBracket(s[2],o);if(!c)return null;n=y.fromPoints(c,o),r||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(o,h){var r=this.getLine(o.row),n=/([\(\[\{])|([\)\]\}])/,i=!h&&r.charAt(o.column-1),s=i&&i.match(n);if(s||(i=(h===void 0||h)&&r.charAt(o.column),o={row:o.row,column:o.column+1},s=i&&i.match(n)),!s)return null;var c=new y(o.row,o.column-1,o.row,o.column),u=s[1]?this.$findClosingBracket(s[1],o):this.$findOpeningBracket(s[2],o);if(!u)return[c];var a=new y(u.row,u.column,u.row,u.column+1);return[c,a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(o,h,r){var n=this.$brackets[o],i=1,s=new S(this,h.row,h.column),c=s.getCurrentToken();if(c||(c=s.stepForward()),!!c){r||(r=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var u=h.column-s.getCurrentTokenColumn()-2,a=c.value;;){for(;u>=0;){var d=a.charAt(u);if(d==n){if(i-=1,i==0)return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else d==o&&(i+=1);u-=1}do c=s.stepBackward();while(c&&!r.test(c.type));if(c==null)break;a=c.value,u=a.length-1}return null}},this.$findClosingBracket=function(o,h,r){var n=this.$brackets[o],i=1,s=new S(this,h.row,h.column),c=s.getCurrentToken();if(c||(c=s.stepForward()),!!c){r||(r=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var u=h.column-s.getCurrentTokenColumn();;){for(var a=c.value,d=a.length;u<d;){var m=a.charAt(u);if(m==n){if(i-=1,i==0)return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else m==o&&(i+=1);u+=1}do c=s.stepForward();while(c&&!r.test(c.type));if(c==null)break;u=0}return null}},this.getMatchingTags=function(o){var h=new S(this,o.row,o.column),r=this.$findTagName(h);if(r){var n=h.stepBackward();return n.value==="<"?this.$findClosingTag(h,r):this.$findOpeningTag(h,r)}},this.$findTagName=function(o){var h=o.getCurrentToken(),r=!1,n=!1;if(h&&h.type.indexOf("tag-name")===-1)do n?h=o.stepBackward():h=o.stepForward(),h&&(h.value==="/>"?n=!0:h.type.indexOf("tag-name")!==-1&&(r=!0));while(h&&!r);return h},this.$findClosingTag=function(o,h){var r,n=h.value,i=h.value,s=0,c=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);h=o.stepForward();var u=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length),a=!1;do{if(r=h,r.type.indexOf("tag-close")!==-1&&!a){var d=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);a=!0}if(h=o.stepForward(),h){if(h.value===">"&&!a){var d=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);a=!0}if(h.type.indexOf("tag-name")!==-1){if(n=h.value,i===n){if(r.value==="<")s++;else if(r.value==="</"&&(s--,s<0)){o.stepBackward();var m=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2);h=o.stepForward();var x=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=o.stepForward()),h&&h.value===">")var C=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);else return}}}else if(i===n&&h.value==="/>"&&(s--,s<0))var m=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2),x=m,C=x,d=new y(u.end.row,u.end.column,u.end.row,u.end.column+1)}}while(h&&s>=0);if(c&&d&&m&&C&&u&&x)return{openTag:new y(c.start.row,c.start.column,d.end.row,d.end.column),closeTag:new y(m.start.row,m.start.column,C.end.row,C.end.column),openTagName:u,closeTagName:x}},this.$findOpeningTag=function(o,h){var r=o.getCurrentToken(),n=h.value,i=0,s=o.getCurrentTokenRow(),c=o.getCurrentTokenColumn(),u=c+2,a=new y(s,c,s,u);o.stepForward();var d=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=o.stepForward()),!(!h||h.value!==">")){var m=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);o.stepBackward(),o.stepBackward();do if(h=r,s=o.getCurrentTokenRow(),c=o.getCurrentTokenColumn(),u=c+h.value.length,r=o.stepBackward(),h){if(h.type.indexOf("tag-name")!==-1){if(n===h.value)if(r.value==="<"){if(i++,i>0){var x=new y(s,c,s,u),C=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);do h=o.stepForward();while(h&&h.value!==">");var w=new y(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1)}}else r.value==="</"&&i--}else if(h.value==="/>"){for(var _=0,k=r;k;){if(k.type.indexOf("tag-name")!==-1&&k.value===n){i--;break}else if(k.value==="<")break;k=o.stepBackward(),_++}for(var A=0;A<_;A++)o.stepForward()}}while(r&&i<=0);if(C&&w&&a&&m&&x&&d)return{openTag:new y(C.start.row,C.start.column,w.end.row,w.end.column),closeTag:new y(a.start.row,a.start.column,m.end.row,m.end.column),openTagName:x,closeTagName:d}}}}v.BracketMatch=f}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(g,v,L){var S=g("./lib/oop"),y=g("./lib/lang"),f=g("./bidihandler").BidiHandler,o=g("./config"),h=g("./lib/event_emitter").EventEmitter,r=g("./selection").Selection,n=g("./mode/text").Mode,i=g("./range").Range,s=g("./line_widgets").LineWidgets,c=g("./document").Document,u=g("./background_tokenizer").BackgroundTokenizer,a=g("./search_highlight").SearchHighlight,d=g("./undomanager").UndoManager,m=(function(){function $(D,M){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++$.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new u(new n().getTokenizer(),this);var R=this;this.bgTokenizer.on("update",function(O){R._signal("tokenizerUpdate",O)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof D!="object"||!D.getLine)&&(D=new c(D)),this.setDocument(D),this.selection=new r(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new f(this),o.resetOptions(this),this.setMode(M),o._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return $.prototype.$initOperationListeners=function(){var D=this;this.curOp=null,this.on("change",function(){D.curOp||(D.startOperation(),D.curOp.selectionBefore=D.$lastSel),D.curOp.docChanged=!0},!0),this.on("changeSelection",function(){D.curOp||(D.startOperation(),D.curOp.selectionBefore=D.$lastSel),D.curOp.selectionChanged=!0},!0),this.$operationResetTimer=y.delayedCall(this.endOperation.bind(this,!0))},$.prototype.startOperation=function(D){if(this.curOp){if(!D||this.curOp.command)return;this.prevOp=this.curOp}D||(D={}),this.$operationResetTimer.schedule(),this.curOp={command:D.command||{},args:D.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",D)},$.prototype.endOperation=function(D){if(this.curOp){if(D&&D.returnValue===!1){this.curOp=null,this._signal("endOperation",D);return}if(D==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var M=this.selection.toJSON();this.curOp.selectionAfter=M,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(M),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",D)}},$.prototype.setDocument=function(D){this.doc&&this.doc.off("change",this.$onChange),this.doc=D,D.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},$.prototype.getDocument=function(){return this.doc},Object.defineProperty($.prototype,"widgetManager",{get:function(){var D=new s(this);return this.widgetManager=D,this.$editor&&D.attach(this.$editor),D},set:function(D){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:D})},enumerable:!1,configurable:!0}),$.prototype.$resetRowCache=function(D){if(!D){this.$docRowCache=[],this.$screenRowCache=[];return}var M=this.$docRowCache.length,R=this.$getRowCacheIndex(this.$docRowCache,D)+1;M>R&&(this.$docRowCache.splice(R,M),this.$screenRowCache.splice(R,M))},$.prototype.$getRowCacheIndex=function(D,M){for(var R=0,O=D.length-1;R<=O;){var z=R+O>>1,B=D[z];if(M>B)R=z+1;else if(M<B)O=z-1;else return z}return R-1},$.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},$.prototype.onChangeFold=function(D){var M=D.data;this.$resetRowCache(M.start.row)},$.prototype.onChange=function(D){this.$modified=!0,this.$bidiHandler.onChange(D),this.$resetRowCache(D.start.row);var M=this.$updateInternalDataOnChange(D);!this.$fromUndo&&this.$undoManager&&(M&&M.length&&(this.$undoManager.add({action:"removeFolds",folds:M},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(D,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(D),this._signal("change",D)},$.prototype.onSelectionChange=function(){this._signal("changeSelection")},$.prototype.setValue=function(D){this.doc.setValue(D),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},$.fromJSON=function(D){typeof D=="string"&&(D=JSON.parse(D));var M=new d;M.$undoStack=D.history.undo,M.$redoStack=D.history.redo,M.mark=D.history.mark,M.$rev=D.history.rev;var R=new $(D.value);return D.folds.forEach(function(O){R.addFold("...",i.fromPoints(O.start,O.end))}),R.setAnnotations(D.annotations),R.setBreakpoints(D.breakpoints),R.setMode(D.mode),R.setScrollLeft(D.scrollLeft),R.setScrollTop(D.scrollTop),R.setUndoManager(M),R.selection.fromJSON(D.selection),R},$.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(D){return D.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},$.prototype.toString=function(){return this.doc.getValue()},$.prototype.getSelection=function(){return this.selection},$.prototype.getState=function(D){return this.bgTokenizer.getState(D)},$.prototype.getTokens=function(D){return this.bgTokenizer.getTokens(D)},$.prototype.getTokenAt=function(D,M){var R=this.bgTokenizer.getTokens(D),O,z=0;if(M==null){var B=R.length-1;z=this.getLine(D).length}else for(var B=0;B<R.length&&(z+=R[B].value.length,!(z>=M));B++);return O=R[B],O?(O.index=B,O.start=z-O.value.length,O):null},$.prototype.setUndoManager=function(D){if(this.$undoManager=D,this.$informUndoManager&&this.$informUndoManager.cancel(),D){var M=this;D.addSession(this),this.$syncInformUndoManager=function(){M.$informUndoManager.cancel(),M.mergeUndoDeltas=!1},this.$informUndoManager=y.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},$.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},$.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},$.prototype.getTabString=function(){return this.getUseSoftTabs()?y.stringRepeat(" ",this.getTabSize()):"	"},$.prototype.setUseSoftTabs=function(D){this.setOption("useSoftTabs",D)},$.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},$.prototype.setTabSize=function(D){this.setOption("tabSize",D)},$.prototype.getTabSize=function(){return this.$tabSize},$.prototype.isTabStop=function(D){return this.$useSoftTabs&&D.column%this.$tabSize===0},$.prototype.setNavigateWithinSoftTabs=function(D){this.setOption("navigateWithinSoftTabs",D)},$.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},$.prototype.setOverwrite=function(D){this.setOption("overwrite",D)},$.prototype.getOverwrite=function(){return this.$overwrite},$.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},$.prototype.addGutterDecoration=function(D,M){this.$decorations[D]||(this.$decorations[D]=""),this.$decorations[D]+=" "+M,this._signal("changeBreakpoint",{})},$.prototype.removeGutterCustomWidget=function(D){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(D)},$.prototype.addGutterCustomWidget=function(D,M){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(D,M)},$.prototype.removeGutterDecoration=function(D,M){this.$decorations[D]=(this.$decorations[D]||"").replace(" "+M,""),this._signal("changeBreakpoint",{})},$.prototype.getBreakpoints=function(){return this.$breakpoints},$.prototype.setBreakpoints=function(D){this.$breakpoints=[];for(var M=0;M<D.length;M++)this.$breakpoints[D[M]]="ace_breakpoint";this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},$.prototype.setBreakpoint=function(D,M){M===void 0&&(M="ace_breakpoint"),M?this.$breakpoints[D]=M:delete this.$breakpoints[D],this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoint=function(D){delete this.$breakpoints[D],this._signal("changeBreakpoint",{})},$.prototype.addMarker=function(D,M,R,O){var z=this.$markerId++,B={range:D,type:R||"line",renderer:typeof R=="function"?R:null,clazz:M,inFront:!!O,id:z};return O?(this.$frontMarkers[z]=B,this._signal("changeFrontMarker")):(this.$backMarkers[z]=B,this._signal("changeBackMarker")),z},$.prototype.addDynamicMarker=function(D,M){if(D.update){var R=this.$markerId++;return D.id=R,D.inFront=!!M,M?(this.$frontMarkers[R]=D,this._signal("changeFrontMarker")):(this.$backMarkers[R]=D,this._signal("changeBackMarker")),D}},$.prototype.removeMarker=function(D){var M=this.$frontMarkers[D]||this.$backMarkers[D];if(M){var R=M.inFront?this.$frontMarkers:this.$backMarkers;delete R[D],this._signal(M.inFront?"changeFrontMarker":"changeBackMarker")}},$.prototype.getMarkers=function(D){return D?this.$frontMarkers:this.$backMarkers},$.prototype.highlight=function(D){if(!this.$searchHighlight){var M=new a(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(M)}this.$searchHighlight.setRegexp(D)},$.prototype.highlightLines=function(D,M,R,O){typeof M!="number"&&(R=M,M=D),R||(R="ace_step");var z=new i(D,0,M,1/0);return z.id=this.addMarker(z,R,"fullLine",O),z},$.prototype.setAnnotations=function(D){this.$annotations=D,this._signal("changeAnnotation",{})},$.prototype.getAnnotations=function(){return this.$annotations||[]},$.prototype.clearAnnotations=function(){this.setAnnotations([])},$.prototype.$detectNewLine=function(D){var M=D.match(/^.*?(\r?\n)/m);M?this.$autoNewLine=M[1]:this.$autoNewLine=`
`},$.prototype.getWordRange=function(D,M){var R=this.getLine(D),O=!1;if(M>0&&(O=!!R.charAt(M-1).match(this.tokenRe)),O||(O=!!R.charAt(M).match(this.tokenRe)),O)var z=this.tokenRe;else if(/^\s+$/.test(R.slice(M-1,M+1)))var z=/\s/;else var z=this.nonTokenRe;var B=M;if(B>0){do B--;while(B>=0&&R.charAt(B).match(z));B++}for(var P=M;P<R.length&&R.charAt(P).match(z);)P++;return new i(D,B,D,P)},$.prototype.getAWordRange=function(D,M){for(var R=this.getWordRange(D,M),O=this.getLine(R.end.row);O.charAt(R.end.column).match(/[ \t]/);)R.end.column+=1;return R},$.prototype.setNewLineMode=function(D){this.doc.setNewLineMode(D)},$.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},$.prototype.setUseWorker=function(D){this.setOption("useWorker",D)},$.prototype.getUseWorker=function(){return this.$useWorker},$.prototype.onReloadTokenizer=function(D){var M=D.data;this.bgTokenizer.start(M.first),this._signal("tokenizerUpdate",D)},$.prototype.setMode=function(D,M){if(D&&typeof D=="object"){if(D.getTokenizer)return this.$onChangeMode(D);var R=D,O=R.path}else O=D||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new n),this.$modes[O]&&!R){this.$onChangeMode(this.$modes[O]),M&&M();return}this.$modeId=O,o.loadModule(["mode",O],(function(z){if(!this.destroyed){if(this.$modeId!==O)return M&&M();this.$modes[O]&&!R?this.$onChangeMode(this.$modes[O]):z&&z.Mode&&(z=new z.Mode(R),R||(this.$modes[O]=z,z.$id=O),this.$onChangeMode(z)),M&&M()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},$.prototype.$onChangeMode=function(D,M){if(M||(this.$modeId=D.$id),this.$mode!==D){var R=this.$mode;this.$mode=D,this.$stopWorker(),this.$useWorker&&this.$startWorker();var O=D.getTokenizer();if(O.on!==void 0){var z=this.onReloadTokenizer.bind(this);O.on("update",z)}this.bgTokenizer.setTokenizer(O),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=D.tokenRe,this.nonTokenRe=D.nonTokenRe,M||(D.attachToSession&&D.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(D.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:R,mode:D}))}},$.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},$.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(D){o.warn("Could not load worker",D),this.$worker=null}},$.prototype.getMode=function(){return this.$mode},$.prototype.setScrollTop=function(D){this.$scrollTop===D||isNaN(D)||(this.$scrollTop=D,this._signal("changeScrollTop",D))},$.prototype.getScrollTop=function(){return this.$scrollTop},$.prototype.setScrollLeft=function(D){this.$scrollLeft===D||isNaN(D)||(this.$scrollLeft=D,this._signal("changeScrollLeft",D))},$.prototype.getScrollLeft=function(){return this.$scrollLeft},$.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},$.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var D=0;return this.lineWidgets.forEach(function(M){M&&M.screenWidth>D&&(D=M.screenWidth)}),this.lineWidgetWidth=D},$.prototype.$computeWidth=function(D){if(this.$modified||D){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var M=this.doc.getAllLines(),R=this.$rowLengthCache,O=0,z=0,B=this.$foldData[z],P=B?B.start.row:1/0,U=M.length,W=0;W<U;W++){if(W>P){if(W=B.end.row+1,W>=U)break;B=this.$foldData[z++],P=B?B.start.row:1/0}R[W]==null&&(R[W]=this.$getStringScreenWidth(M[W])[0]),R[W]>O&&(O=R[W])}this.screenWidth=O}},$.prototype.getLine=function(D){return this.doc.getLine(D)},$.prototype.getLines=function(D,M){return this.doc.getLines(D,M)},$.prototype.getLength=function(){return this.doc.getLength()},$.prototype.getTextRange=function(D){return this.doc.getTextRange(D||this.selection.getRange())},$.prototype.insert=function(D,M){return this.doc.insert(D,M)},$.prototype.remove=function(D){return this.doc.remove(D)},$.prototype.removeFullLines=function(D,M){return this.doc.removeFullLines(D,M)},$.prototype.undoChanges=function(D,M){if(D.length){this.$fromUndo=!0;for(var R=D.length-1;R!=-1;R--){var O=D[R];O.action=="insert"||O.action=="remove"?this.doc.revertDelta(O):O.folds&&this.addFolds(O.folds)}!M&&this.$undoSelect&&(D.selectionBefore?this.selection.fromJSON(D.selectionBefore):this.selection.setRange(this.$getUndoSelection(D,!0))),this.$fromUndo=!1}},$.prototype.redoChanges=function(D,M){if(D.length){this.$fromUndo=!0;for(var R=0;R<D.length;R++){var O=D[R];(O.action=="insert"||O.action=="remove")&&this.doc.$safeApplyDelta(O)}!M&&this.$undoSelect&&(D.selectionAfter?this.selection.fromJSON(D.selectionAfter):this.selection.setRange(this.$getUndoSelection(D,!1))),this.$fromUndo=!1}},$.prototype.setUndoSelect=function(D){this.$undoSelect=D},$.prototype.$getUndoSelection=function(D,M){function R(U){return M?U.action!=="insert":U.action==="insert"}for(var O,z,B=0;B<D.length;B++){var P=D[B];if(P.start){if(!O){R(P)?O=i.fromPoints(P.start,P.end):O=i.fromPoints(P.start,P.start);continue}R(P)?(z=P.start,O.compare(z.row,z.column)==-1&&O.setStart(z),z=P.end,O.compare(z.row,z.column)==1&&O.setEnd(z)):(z=P.start,O.compare(z.row,z.column)==-1&&(O=i.fromPoints(P.start,P.start)))}}return O},$.prototype.replace=function(D,M){return this.doc.replace(D,M)},$.prototype.moveText=function(D,M,R){var O=this.getTextRange(D),z=this.getFoldsInRange(D),B=i.fromPoints(M,M);if(!R){this.remove(D);var P=D.start.row-D.end.row,U=P?-D.end.column:D.start.column-D.end.column;U&&(B.start.row==D.end.row&&B.start.column>D.end.column&&(B.start.column+=U),B.end.row==D.end.row&&B.end.column>D.end.column&&(B.end.column+=U)),P&&B.start.row>=D.end.row&&(B.start.row+=P,B.end.row+=P)}if(B.end=this.insert(B.start,O),z.length){var W=D.start,K=B.start,P=K.row-W.row,U=K.column-W.column;this.addFolds(z.map(function(q){return q=q.clone(),q.start.row==W.row&&(q.start.column+=U),q.end.row==W.row&&(q.end.column+=U),q.start.row+=P,q.end.row+=P,q}))}return B},$.prototype.indentRows=function(D,M,R){R=R.replace(/\t/g,this.getTabString());for(var O=D;O<=M;O++)this.doc.insertInLine({row:O,column:0},R)},$.prototype.outdentRows=function(D){for(var M=D.collapseRows(),R=new i(0,0,0,0),O=this.getTabSize(),z=M.start.row;z<=M.end.row;++z){var B=this.getLine(z);R.start.row=z,R.end.row=z;for(var P=0;P<O&&B.charAt(P)==" ";++P);P<O&&B.charAt(P)=="	"?(R.start.column=P,R.end.column=P+1):(R.start.column=0,R.end.column=P),this.remove(R)}},$.prototype.$moveLines=function(D,M,R){if(D=this.getRowFoldStart(D),M=this.getRowFoldEnd(M),R<0){var O=this.getRowFoldStart(D+R);if(O<0)return 0;var z=O-D}else if(R>0){var O=this.getRowFoldEnd(M+R);if(O>this.doc.getLength()-1)return 0;var z=O-M}else{D=this.$clipRowToDocument(D),M=this.$clipRowToDocument(M);var z=M-D+1}var B=new i(D,0,M,Number.MAX_VALUE),P=this.getFoldsInRange(B).map(function(W){return W=W.clone(),W.start.row+=z,W.end.row+=z,W}),U=R==0?this.doc.getLines(D,M):this.doc.removeFullLines(D,M);return this.doc.insertFullLines(D+z,U),P.length&&this.addFolds(P),z},$.prototype.moveLinesUp=function(D,M){return this.$moveLines(D,M,-1)},$.prototype.moveLinesDown=function(D,M){return this.$moveLines(D,M,1)},$.prototype.duplicateLines=function(D,M){return this.$moveLines(D,M,0)},$.prototype.$clipRowToDocument=function(D){return Math.max(0,Math.min(D,this.doc.getLength()-1))},$.prototype.$clipColumnToRow=function(D,M){return M<0?0:Math.min(this.doc.getLine(D).length,M)},$.prototype.$clipPositionToDocument=function(D,M){if(M=Math.max(0,M),D<0)D=0,M=0;else{var R=this.doc.getLength();D>=R?(D=R-1,M=this.doc.getLine(R-1).length):M=Math.min(this.doc.getLine(D).length,M)}return{row:D,column:M}},$.prototype.$clipRangeToDocument=function(D){D.start.row<0?(D.start.row=0,D.start.column=0):D.start.column=this.$clipColumnToRow(D.start.row,D.start.column);var M=this.doc.getLength()-1;return D.end.row>M?(D.end.row=M,D.end.column=this.doc.getLine(M).length):D.end.column=this.$clipColumnToRow(D.end.row,D.end.column),D},$.prototype.setUseWrapMode=function(D){if(D!=this.$useWrapMode){if(this.$useWrapMode=D,this.$modified=!0,this.$resetRowCache(0),D){var M=this.getLength();this.$wrapData=Array(M),this.$updateWrapData(0,M-1)}this._signal("changeWrapMode")}},$.prototype.getUseWrapMode=function(){return this.$useWrapMode},$.prototype.setWrapLimitRange=function(D,M){(this.$wrapLimitRange.min!==D||this.$wrapLimitRange.max!==M)&&(this.$wrapLimitRange={min:D,max:M},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},$.prototype.adjustWrapLimit=function(D,M){var R=this.$wrapLimitRange;R.max<0&&(R={min:M,max:M});var O=this.$constrainWrapLimit(D,R.min,R.max);return O!=this.$wrapLimit&&O>1?(this.$wrapLimit=O,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},$.prototype.$constrainWrapLimit=function(D,M,R){return M&&(D=Math.max(M,D)),R&&(D=Math.min(R,D)),D},$.prototype.getWrapLimit=function(){return this.$wrapLimit},$.prototype.setWrapLimit=function(D){this.setWrapLimitRange(D,D)},$.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},$.prototype.$updateInternalDataOnChange=function(D){var M=this.$useWrapMode,R=D.action,O=D.start,z=D.end,B=O.row,P=z.row,U=P-B,W=null;if(this.$updating=!0,U!=0)if(R==="remove"){this[M?"$wrapData":"$rowLengthCache"].splice(B,U);var K=this.$foldData;W=this.getFoldsInRange(D),this.removeFolds(W);var Y=this.getFoldLine(z.row),X=0;if(Y){Y.addRemoveChars(z.row,z.column,O.column-z.column),Y.shiftRow(-U);var q=this.getFoldLine(B);q&&q!==Y&&(q.merge(Y),Y=q),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=z.row&&Y.shiftRow(-U)}P=B}else{var J=Array(U);J.unshift(B,0);var V=M?this.$wrapData:this.$rowLengthCache;V.splice.apply(V,J);var K=this.$foldData,Y=this.getFoldLine(B),X=0;if(Y){var Q=Y.range.compareInside(O.row,O.column);Q==0?(Y=Y.split(O.row,O.column),Y&&(Y.shiftRow(U),Y.addRemoveChars(P,0,z.column-O.column))):Q==-1&&(Y.addRemoveChars(B,0,z.column-O.column),Y.shiftRow(U)),X=K.indexOf(Y)+1}for(X;X<K.length;X++){var Y=K[X];Y.start.row>=B&&Y.shiftRow(U)}}else{U=Math.abs(D.start.column-D.end.column),R==="remove"&&(W=this.getFoldsInRange(D),this.removeFolds(W),U=-U);var Y=this.getFoldLine(B);Y&&Y.addRemoveChars(B,O.column,U)}return M&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,M?this.$updateWrapData(B,P):this.$updateRowLengthCache(B,P),W},$.prototype.$updateRowLengthCache=function(D,M){this.$rowLengthCache[D]=null,this.$rowLengthCache[M]=null},$.prototype.$updateWrapData=function(D,M){var R=this.doc.getAllLines(),O=this.getTabSize(),z=this.$wrapData,B=this.$wrapLimit,P,U,W=D;for(M=Math.min(M,R.length-1);W<=M;)U=this.getFoldLine(W,U),U?(P=[],U.walk((function(K,Y,X,q){var J;if(K!=null){J=this.$getDisplayTokens(K,P.length),J[0]=w;for(var V=1;V<J.length;V++)J[V]=_}else J=this.$getDisplayTokens(R[Y].substring(q,X),P.length);P=P.concat(J)}).bind(this),U.end.row,R[U.end.row].length+1),z[U.start.row]=this.$computeWrapSplits(P,B,O),W=U.end.row+1):(P=this.$getDisplayTokens(R[W]),z[W]=this.$computeWrapSplits(P,B,O),W++)},$.prototype.$computeWrapSplits=function(D,M,R){if(D.length==0)return[];var O=[],z=D.length,B=0,P=0,U=this.$wrapAsCode,W=this.$indentedSoftWrap,K=M<=Math.max(2*R,8)||W===!1?0:Math.floor(M/2);function Y(){var Q=0;if(K===0)return Q;if(W)for(var ne=0;ne<D.length;ne++){var ie=D[ne];if(ie==A)Q+=1;else if(ie==T)Q+=R;else{if(ie==j)continue;break}}return U&&W!==!1&&(Q+=R),Math.min(Q,K)}function X(Q){for(var ne=Q-B,ie=B;ie<Q;ie++){var me=D[ie];(me===12||me===2)&&(ne-=1)}O.length||(q=Y(),O.indent=q),P+=ne,O.push(P),B=Q}for(var q=0;z-B>M-q;){var J=B+M-q;if(D[J-1]>=A&&D[J]>=A){X(J);continue}if(D[J]==w||D[J]==_){for(J;J!=B-1&&D[J]!=w;J--);if(J>B){X(J);continue}for(J=B+M,J;J<D.length&&D[J]==_;J++);if(J==D.length)break;X(J);continue}for(var V=Math.max(J-(M-(M>>2)),B-1);J>V&&D[J]<w;)J--;if(U){for(;J>V&&D[J]<w;)J--;for(;J>V&&D[J]==k;)J--}else for(;J>V&&D[J]<A;)J--;if(J>V){X(++J);continue}J=B+M,D[J]==C&&J--,X(J-q)}return O},$.prototype.$getDisplayTokens=function(D,M){var R=[],O;M=M||0;for(var z=0;z<D.length;z++){var B=D.charCodeAt(z);if(B==9){O=this.getScreenTabSize(R.length+M),R.push(T);for(var P=1;P<O;P++)R.push(j)}else B==32?R.push(A):B>39&&B<48||B>57&&B<64?R.push(k):B>=4352&&F(B)?R.push(x,C):R.push(x)}return R},$.prototype.$getStringScreenWidth=function(D,M,R){if(M==0)return[0,0];M==null&&(M=1/0),R=R||0;var O,z;for(z=0;z<D.length&&(O=D.charCodeAt(z),O==9?R+=this.getScreenTabSize(R):O>=4352&&F(O)?R+=2:R+=1,!(R>M));z++);return[R,z]},$.prototype.getRowLength=function(D){var M=1;return this.lineWidgets&&(M+=this.lineWidgets[D]&&this.lineWidgets[D].rowCount||0),!this.$useWrapMode||!this.$wrapData[D]?M:this.$wrapData[D].length+M},$.prototype.getRowLineCount=function(D){return!this.$useWrapMode||!this.$wrapData[D]?1:this.$wrapData[D].length+1},$.prototype.getRowWrapIndent=function(D){if(this.$useWrapMode){var M=this.screenToDocumentPosition(D,Number.MAX_VALUE),R=this.$wrapData[M.row];return R.length&&R[0]<M.column?R.indent:0}else return 0},$.prototype.getScreenLastRowColumn=function(D){var M=this.screenToDocumentPosition(D,Number.MAX_VALUE);return this.documentToScreenColumn(M.row,M.column)},$.prototype.getDocumentLastRowColumn=function(D,M){var R=this.documentToScreenRow(D,M);return this.getScreenLastRowColumn(R)},$.prototype.getDocumentLastRowColumnPosition=function(D,M){var R=this.documentToScreenRow(D,M);return this.screenToDocumentPosition(R,Number.MAX_VALUE/10)},$.prototype.getRowSplitData=function(D){if(this.$useWrapMode)return this.$wrapData[D]},$.prototype.getScreenTabSize=function(D){return this.$tabSize-(D%this.$tabSize|0)},$.prototype.screenToDocumentRow=function(D,M){return this.screenToDocumentPosition(D,M).row},$.prototype.screenToDocumentColumn=function(D,M){return this.screenToDocumentPosition(D,M).column},$.prototype.screenToDocumentPosition=function(D,M,R){if(D<0)return{row:0,column:0};var O,z=0,B=0,P,U=0,W=0,K=this.$screenRowCache,Y=this.$getRowCacheIndex(K,D),X=K.length;if(X&&Y>=0)var U=K[Y],z=this.$docRowCache[Y],q=D>K[X-1];else var q=!X;for(var J=this.getLength()-1,V=this.getNextFoldLine(z),Q=V?V.start.row:1/0;U<=D&&(W=this.getRowLength(z),!(U+W>D||z>=J));)U+=W,z++,z>Q&&(z=V.end.row+1,V=this.getNextFoldLine(z,V),Q=V?V.start.row:1/0),q&&(this.$docRowCache.push(z),this.$screenRowCache.push(U));if(V&&V.start.row<=z)O=this.getFoldDisplayLine(V),z=V.start.row;else{if(U+W<=D||z>J)return{row:J,column:this.getLine(J).length};O=this.getLine(z),V=null}var ne=0,ie=Math.floor(D-U);if(this.$useWrapMode){var me=this.$wrapData[z];me&&(P=me[ie],ie>0&&me.length&&(ne=me.indent,B=me[ie-1]||me[me.length-1],O=O.substring(B)))}return R!==void 0&&this.$bidiHandler.isBidiRow(U+ie,z,ie)&&(M=this.$bidiHandler.offsetToCol(R)),B+=this.$getStringScreenWidth(O,M-ne)[1],this.$useWrapMode&&B>=P&&(B=P-1),V?V.idxToPosition(B):{row:z,column:B}},$.prototype.documentToScreenPosition=function(D,M){if(typeof M>"u")var R=this.$clipPositionToDocument(D.row,D.column);else R=this.$clipPositionToDocument(D,M);D=R.row,M=R.column;var O=0,z=null,B=null;B=this.getFoldAt(D,M,1),B&&(D=B.start.row,M=B.start.column);var P,U=0,W=this.$docRowCache,K=this.$getRowCacheIndex(W,D),Y=W.length;if(Y&&K>=0)var U=W[K],O=this.$screenRowCache[K],X=D>W[Y-1];else var X=!Y;for(var q=this.getNextFoldLine(U),J=q?q.start.row:1/0;U<D;){if(U>=J){if(P=q.end.row+1,P>D)break;q=this.getNextFoldLine(P,q),J=q?q.start.row:1/0}else P=U+1;O+=this.getRowLength(U),U=P,X&&(this.$docRowCache.push(U),this.$screenRowCache.push(O))}var V="";q&&U>=J?(V=this.getFoldDisplayLine(q,D,M),z=q.start.row):(V=this.getLine(D).substring(0,M),z=D);var Q=0;if(this.$useWrapMode){var ne=this.$wrapData[z];if(ne){for(var ie=0;V.length>=ne[ie];)O++,ie++;V=V.substring(ne[ie-1]||0,V.length),Q=ie>0?ne.indent:0}}return this.lineWidgets&&this.lineWidgets[U]&&this.lineWidgets[U].rowsAbove&&(O+=this.lineWidgets[U].rowsAbove),{row:O,column:Q+this.$getStringScreenWidth(V)[0]}},$.prototype.documentToScreenColumn=function(D,M){return this.documentToScreenPosition(D,M).column},$.prototype.documentToScreenRow=function(D,M){return this.documentToScreenPosition(D,M).row},$.prototype.getScreenLength=function(){var D=0,M=null;if(this.$useWrapMode)for(var z=this.$wrapData.length,B=0,O=0,M=this.$foldData[O++],P=M?M.start.row:1/0;B<z;){var U=this.$wrapData[B];D+=U?U.length+1:1,B++,B>P&&(B=M.end.row+1,M=this.$foldData[O++],P=M?M.start.row:1/0)}else{D=this.getLength();for(var R=this.$foldData,O=0;O<R.length;O++)M=R[O],D-=M.end.row-M.start.row}return this.lineWidgets&&(D+=this.$getWidgetScreenLength()),D},$.prototype.$setFontMetrics=function(D){this.$enableVarChar&&(this.$getStringScreenWidth=function(M,R,O){if(R===0)return[0,0];R||(R=1/0),O=O||0;var z,B;for(B=0;B<M.length&&(z=M.charAt(B),z==="	"?O+=this.getScreenTabSize(O):O+=D.getCharacterWidth(z),!(O>R));B++);return[O,B]})},$.prototype.getPrecedingCharacter=function(){var D=this.selection.getCursor();if(D.column===0)return D.row===0?"":this.doc.getNewLineCharacter();var M=this.getLine(D.row);return M[D.column-1]},$.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},$})();m.$uid=0,m.prototype.$modes=o.$modes,m.prototype.getValue=m.prototype.toString,m.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},m.prototype.$overwrite=!1,m.prototype.$mode=null,m.prototype.$modeId=null,m.prototype.$scrollTop=0,m.prototype.$scrollLeft=0,m.prototype.$wrapLimit=80,m.prototype.$useWrapMode=!1,m.prototype.$wrapLimitRange={min:null,max:null},m.prototype.lineWidgets=null,m.prototype.isFullWidth=F,S.implement(m.prototype,h);var x=1,C=2,w=3,_=4,k=9,A=10,T=11,j=12;function F($){return $<4352?!1:$>=4352&&$<=4447||$>=4515&&$<=4519||$>=4602&&$<=4607||$>=9001&&$<=9002||$>=11904&&$<=11929||$>=11931&&$<=12019||$>=12032&&$<=12245||$>=12272&&$<=12283||$>=12288&&$<=12350||$>=12353&&$<=12438||$>=12441&&$<=12543||$>=12549&&$<=12589||$>=12593&&$<=12686||$>=12688&&$<=12730||$>=12736&&$<=12771||$>=12784&&$<=12830||$>=12832&&$<=12871||$>=12880&&$<=13054||$>=13056&&$<=19903||$>=19968&&$<=42124||$>=42128&&$<=42182||$>=43360&&$<=43388||$>=44032&&$<=55203||$>=55216&&$<=55238||$>=55243&&$<=55291||$>=63744&&$<=64255||$>=65040&&$<=65049||$>=65072&&$<=65106||$>=65108&&$<=65126||$>=65128&&$<=65131||$>=65281&&$<=65376||$>=65504&&$<=65510}g("./edit_session/folding").Folding.call(m.prototype),g("./edit_session/bracket_match").BracketMatch.call(m.prototype),o.defineOptions(m.prototype,"session",{wrap:{set:function($){if(!$||$=="off"?$=!1:$=="free"?$=!0:$=="printMargin"?$=-1:typeof $=="string"&&($=parseInt($,10)||!1),this.$wrap!=$)if(this.$wrap=$,!$)this.setUseWrapMode(!1);else{var D=typeof $=="number"?$:null;this.setWrapLimitRange(D,D),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function($){$=$=="auto"?this.$mode.type!="text":$!="text",$!=this.$wrapAsCode&&(this.$wrapAsCode=$,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function($){this.$useWorker=$,this.$stopWorker(),$&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function($){$=parseInt($),$>0&&this.$tabSize!==$&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=$,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function($){this.setFoldStyle($)},handlesSet:!0},overwrite:{set:function($){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function($){this.doc.setNewLineMode($)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function($){this.setMode($)},get:function(){return this.$modeId},handlesSet:!0}}),v.EditSession=m}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(g,v,L){var S=g("./lib/lang"),y=g("./lib/oop"),f=g("./range").Range,o=(function(){function i(){this.$options={}}return i.prototype.set=function(s){return y.mixin(this.$options,s),this},i.prototype.getOptions=function(){return S.copyObject(this.$options)},i.prototype.setOptions=function(s){this.$options=s},i.prototype.find=function(s){var c=this.$options,u=this.$matchIterator(s,c);if(!u)return!1;var a=null;return u.forEach(function(d,m,x,C){return a=new f(d,m,x,C),m==C&&c.start&&c.start.start&&c.skipCurrent!=!1&&a.isEqual(c.start)?(a=null,!1):!0}),a},i.prototype.findAll=function(s){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var u=c.range,a=u?s.getLines(u.start.row,u.end.row):s.doc.getAllLines(),d=[],m=c.re;if(c.$isMultiLine){var x=m.length,C=a.length-x,w;e:for(var _=m.offset||0;_<=C;_++){for(var k=0;k<x;k++)if(a[_+k].search(m[k])==-1)continue e;var A=a[_],T=a[_+x-1],j=A.length-A.match(m[0])[0].length,F=T.match(m[x-1])[0].length;w&&w.end.row===_&&w.end.column>j||(d.push(w=new f(_,j,_+x-1,F)),x>2&&(_=_+x-2))}}else for(var $,D=0;D<a.length;D++)if(this.$isMultilineSearch(c)){var M=a.length-1;if($=this.$multiLineForward(s,m,D,M),$){var R=$.endRow<=M?$.endRow-1:M;R>D&&(D=R),d.push(new f($.startRow,$.startCol,$.endRow,$.endCol))}}else{$=S.getMatchOffsets(a[D],m);for(var k=0;k<$.length;k++){var O=$[k];d.push(new f(D,O.offset,D,O.offset+O.length))}}if(u){for(var z=u.start.column,B=u.end.column,D=0,k=d.length-1;D<k&&d[D].start.column<z&&d[D].start.row==0;)D++;for(var P=u.end.row-u.start.row;D<k&&d[k].end.column>B&&d[k].end.row==P;)k--;for(d=d.slice(D,k+1),D=0,k=d.length;D<k;D++)d[D].start.row+=u.start.row,d[D].end.row+=u.start.row}return d},i.prototype.parseReplaceString=function(s){for(var c={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},u="",a=0,d=s.length;a<d;a++){var m=s.charCodeAt(a);if(m===c.Backslash){if(a++,a>=d){u+="\\";break}var x=s.charCodeAt(a);switch(x){case c.Backslash:u+="\\";break;case c.n:u+=`
`;break;case c.t:u+="	";break}continue}if(m===c.DollarSign){if(a++,a>=d){u+="$";break}var C=s.charCodeAt(a);if(C===c.DollarSign){u+="$$";continue}if(C===c.Digit0||C===c.Ampersand){u+="$&";continue}if(c.Digit1<=C&&C<=c.Digit9){u+="$"+s[a];continue}}u+=s[a]}return u||s},i.prototype.replace=function(s,c){var u=this.$options,a=this.$assembleRegExp(u);if(u.$isMultiLine)return c;if(a){var d=this.$isMultilineSearch(u);d&&(s=s.replace(/\r\n|\r|\n/g,`
`));var m=a.exec(s);if(!m||!d&&m[0].length!=s.length)return null;if(c=u.regExp?this.parseReplaceString(c):c.replace(/\$/g,"$$$$"),c=s.replace(a,c),u.preserveCase){c=c.split("");for(var x=Math.min(s.length,s.length);x--;){var C=s[x];C&&C.toLowerCase()!=C?c[x]=c[x].toUpperCase():c[x]=c[x].toLowerCase()}c=c.join("")}return c}},i.prototype.$assembleRegExp=function(s,c){if(s.needle instanceof RegExp)return s.re=s.needle;var u=s.needle;if(!s.needle)return s.re=!1;s.regExp||(u=S.escapeRegExp(u));var a=s.caseSensitive?"gm":"gmi";try{new RegExp(u,"u"),s.$supportsUnicodeFlag=!0,a+="u"}catch{s.$supportsUnicodeFlag=!1}if(s.wholeWord&&(u=h(u,s)),s.$isMultiLine=!c&&/[\n\r]/.test(u),s.$isMultiLine)return s.re=this.$assembleMultilineRegExp(u,a);try{var d=new RegExp(u,a)}catch{d=!1}return s.re=d},i.prototype.$assembleMultilineRegExp=function(s,c){for(var u=s.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),a=[],d=0;d<u.length;d++)try{a.push(new RegExp(u[d],c))}catch{return!1}return a},i.prototype.$isMultilineSearch=function(s){return s.re&&/\\r\\n|\\r|\\n/.test(s.re.source)&&s.regExp&&!s.$isMultiLine},i.prototype.$multiLineForward=function(s,c,u,a){for(var d,m=n(s,u),x=u;x<=a;){for(var C=0;C<m&&!(x>a);C++){var w=s.getLine(x++);d=d==null?w:d+`
`+w}var _=c.exec(d);if(c.lastIndex=0,_){var k=d.slice(0,_.index).split(`
`),A=_[0].split(`
`),T=u+k.length-1,j=k[k.length-1].length,F=T+A.length-1,$=A.length==1?j+A[0].length:A[A.length-1].length;return{startRow:T,startCol:j,endRow:F,endCol:$}}}return null},i.prototype.$multiLineBackward=function(s,c,u,a,d){for(var m,x=n(s,a),C=s.getLine(a).length-u,w=a;w>=d;){for(var _=0;_<x&&w>=d;_++){var k=s.getLine(w--);m=m==null?k:k+`
`+m}var A=r(m,c,C);if(A){var T=m.slice(0,A.index).split(`
`),j=A[0].split(`
`),F=w+T.length,$=T[T.length-1].length,D=F+j.length-1,M=j.length==1?$+j[0].length:j[j.length-1].length;return{startRow:F,startCol:$,endRow:D,endCol:M}}}return null},i.prototype.$matchIterator=function(s,c){var u=this.$assembleRegExp(c);if(!u)return!1;var a=this.$isMultilineSearch(c),d=this.$multiLineForward,m=this.$multiLineBackward,x=c.backwards==!0,C=c.skipCurrent!=!1,w=u.unicode,_=c.range,k=c.start;k||(k=_?_[x?"end":"start"]:s.selection.getRange()),k.start&&(k=k[C!=x?"end":"start"]);var A=_?_.start.row:0,T=_?_.end.row:s.getLength()-1;if(x)var j=function(D){var M=k.row;if(!$(M,k.column,D)){for(M--;M>=A;M--)if($(M,Number.MAX_VALUE,D))return;if(c.wrap!=!1){for(M=T,A=k.row;M>=A;M--)if($(M,Number.MAX_VALUE,D))return}}};else var j=function(M){var R=k.row;if(!$(R,k.column,M)){for(R=R+1;R<=T;R++)if($(R,0,M))return;if(c.wrap!=!1){for(R=A,T=k.row;R<=T;R++)if($(R,0,M))return}}};if(c.$isMultiLine)var F=u.length,$=function(D,M,R){var O=x?D-F+1:D;if(!(O<0||O+F>s.getLength())){var z=s.getLine(O),B=z.search(u[0]);if(!(!x&&B<M||B===-1)){for(var P=1;P<F;P++)if(z=s.getLine(O+P),z.search(u[P])==-1)return;var U=z.match(u[F-1])[0].length;if(!(x&&U>M)&&R(O,B,O+F-1,U))return!0}}};else if(x)var $=function(M,R,O){if(a){var z=m(s,u,R,M,A);if(!z)return!1;if(O(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else{var B=s.getLine(M),P=[],U,W=0;for(u.lastIndex=0;U=u.exec(B);){var K=U[0].length;if(W=U.index,!K){if(W>=B.length)break;u.lastIndex=W+=S.skipEmptyMatch(B,W,w)}if(U.index+K>R)break;P.push(U.index,K)}for(var Y=P.length-1;Y>=0;Y-=2){var X=P[Y-1],K=P[Y];if(O(M,X,M,X+K))return!0}}};else var $=function(M,R,O){if(u.lastIndex=R,a){var z=d(s,u,M,T);if(z){var B=z.endRow<=T?z.endRow-1:T;B>M&&(M=B)}if(!z)return!1;if(O(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else for(var P=s.getLine(M),U,W;W=u.exec(P);){var K=W[0].length;if(U=W.index,O(M,U,M,U+K))return!0;if(!K&&(u.lastIndex=U+=S.skipEmptyMatch(P,U,w),U>=P.length))return!1}};return{forEach:j}},i})();function h(i,s){var c=S.supportsLookbehind();function u(x,C){C===void 0&&(C=!0);var w=c&&s.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return w.test(x)||s.regExp?c&&s.$supportsUnicodeFlag?C?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var a=Array.from(i),d=a[0],m=a[a.length-1];return u(d)+i+u(m,!1)}function r(i,s,c){for(var u=null,a=0;a<=i.length;){s.lastIndex=a;var d=s.exec(i);if(!d)break;var m=d.index+d[0].length;if(m>i.length-c)break;(!u||m>u.index+u[0].length)&&(u=d),a=d.index+1}return u}function n(i,s){var c=5e3,u={row:s,column:0},a=i.doc.positionToIndex(u),d=a+c,m=i.doc.indexToPosition(d),x=m.row;return x+1}v.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(g,v,L){var S=this&&this.__extends||(function(){var i=function(s,c){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(u[d]=a[d])},i(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");i(s,c);function u(){this.constructor=s}s.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}})(),y=g("../lib/keys"),f=g("../lib/useragent"),o=y.KEY_MODS,h=(function(){function i(s,c){this.$init(s,c,!1)}return i.prototype.$init=function(s,c,u){this.platform=c||(f.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(s),this.$singleCommand=u},i.prototype.addCommand=function(s){this.commands[s.name]&&this.removeCommand(s),this.commands[s.name]=s,s.bindKey&&this._buildKeyHash(s)},i.prototype.removeCommand=function(s,c){var u=s&&(typeof s=="string"?s:s.name);s=this.commands[u],c||delete this.commands[u];var a=this.commandKeyBinding;for(var d in a){var m=a[d];if(m==s)delete a[d];else if(Array.isArray(m)){var x=m.indexOf(s);x!=-1&&(m.splice(x,1),m.length==1&&(a[d]=m[0]))}}},i.prototype.bindKey=function(s,c,u){if(typeof s=="object"&&s&&(u==null&&(u=s.position),s=s[this.platform]),!!s){if(typeof c=="function")return this.addCommand({exec:c,bindKey:s,name:c.name||s});s.split("|").forEach(function(a){var d="";if(a.indexOf(" ")!=-1){var m=a.split(/\s+/);a=m.pop(),m.forEach(function(w){var _=this.parseKeys(w),k=o[_.hashId]+_.key;d+=(d?" ":"")+k,this._addCommandToBinding(d,"chainKeys")},this),d+=" "}var x=this.parseKeys(a),C=o[x.hashId]+x.key;this._addCommandToBinding(d+C,c,u)},this)}},i.prototype._addCommandToBinding=function(s,c,u){var a=this.commandKeyBinding,d;if(!c)delete a[s];else if(!a[s]||this.$singleCommand)a[s]=c;else{Array.isArray(a[s])?(d=a[s].indexOf(c))!=-1&&a[s].splice(d,1):a[s]=[a[s]],typeof u!="number"&&(u=r(c));var m=a[s];for(d=0;d<m.length;d++){var x=m[d],C=r(x);if(C>u)break}m.splice(d,0,c)}},i.prototype.addCommands=function(s){s&&Object.keys(s).forEach(function(c){var u=s[c];if(u){if(typeof u=="string")return this.bindKey(u,c);typeof u=="function"&&(u={exec:u}),typeof u=="object"&&(u.name||(u.name=c),this.addCommand(u))}},this)},i.prototype.removeCommands=function(s){Object.keys(s).forEach(function(c){this.removeCommand(s[c])},this)},i.prototype.bindKeys=function(s){Object.keys(s).forEach(function(c){this.bindKey(c,s[c])},this)},i.prototype._buildKeyHash=function(s){this.bindKey(s.bindKey,s)},i.prototype.parseKeys=function(s){var c=s.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(C){return C}),u=c.pop(),a=y[u];if(y.FUNCTION_KEYS[a])u=y.FUNCTION_KEYS[a].toLowerCase();else if(c.length){if(c.length==1&&c[0]=="shift")return{key:u.toUpperCase(),hashId:-1}}else return{key:u,hashId:-1};for(var d=0,m=c.length;m--;){var x=y.KEY_MODS[c[m]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+c[m]+" in "+s),!1;d|=x}return{key:u,hashId:d}},i.prototype.findKeyCommand=function(s,c){var u=o[s]+c;return this.commandKeyBinding[u]},i.prototype.handleKeyboard=function(s,c,u,a){if(!(a<0)){var d=o[c]+u,m=this.commandKeyBinding[d];return s.$keyChain&&(s.$keyChain+=" "+d,m=this.commandKeyBinding[s.$keyChain]||m),m&&(m=="chainKeys"||m[m.length-1]=="chainKeys")?(s.$keyChain=s.$keyChain||d,{command:"null"}):(s.$keyChain&&((!c||c==4)&&u.length==1?s.$keyChain=s.$keyChain.slice(0,-d.length-1):(c==-1||a>0)&&(s.$keyChain="")),{command:m})}},i.prototype.getStatusText=function(s,c){return c.$keyChain||""},i})();function r(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var n=(function(i){S(s,i);function s(c,u){var a=i.call(this,c,u)||this;return a.$singleCommand=!0,a}return s})(h);n.call=function(i,s,c){h.prototype.$init.call(i,s,c,!0)},h.call=function(i,s,c){h.prototype.$init.call(i,s,c,!1)},v.HashHandler=n,v.MultiHashHandler=h}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(g,v,L){var S=this&&this.__extends||(function(){var r=function(n,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])},r(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");r(n,i);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}})(),y=g("../lib/oop"),f=g("../keyboard/hash_handler").MultiHashHandler,o=g("../lib/event_emitter").EventEmitter,h=(function(r){S(n,r);function n(i,s){var c=r.call(this,s,i)||this;return c.byName=c.commands,c.setDefaultHandler("exec",function(u){return u.args?u.command.exec(u.editor,u.args,u.event,!1):u.command.exec(u.editor,{},u.event,!0)}),c}return n.prototype.exec=function(i,s,c){if(Array.isArray(i)){for(var u=i.length;u--;)if(this.exec(i[u],s,c))return!0;return!1}typeof i=="string"&&(i=this.commands[i]);var a={editor:s,command:i,args:c};return this.canExecute(i,s)?(a.returnValue=this._emit("exec",a),this._signal("afterExec",a),a.returnValue!==!1):(this._signal("commandUnavailable",a),!1)},n.prototype.canExecute=function(i,s){return typeof i=="string"&&(i=this.commands[i]),!(!i||s&&s.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(s))},n.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(s){this.macro.push([s.command,s.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},n.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(s){typeof s=="string"?this.exec(s,i):this.exec(s[0],i,s[1])},this)}finally{this.$inReplay=!1}}},n.prototype.trimMacro=function(i){return i.map(function(s){return typeof s[0]!="string"&&(s[0]=s[0].name),s[1]||(s=s[0]),s})},n})(f);y.implement(h.prototype,o),v.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(g,v,L){var S=g("../lib/lang"),y=g("../config"),f=g("../range").Range;function o(r,n){return{win:r,mac:n}}v.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(r){y.loadModule("ace/ext/settings_menu",function(n){n.init(r),r.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(r){y.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(r,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(r){y.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(r,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(r){r.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(r){r.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(r,n){typeof n=="number"&&!isNaN(n)&&r.gotoLine(n),r.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(r){r.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(r){r.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(r){r.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(r){r.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(r){r.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(r){r.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(r){r.session.foldAll(),r.session.unfold(r.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(r){r.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(r){r.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(r){r.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(r){r.selection.isEmpty()?r.selection.selectWord():r.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(r){r.selection.isEmpty()?r.selection.selectWord():r.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(r){y.loadModule("ace/ext/searchbox",function(n){n.Search(r)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(r){r.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(r){r.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(r){r.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(r){r.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(r,n){r.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(r){r.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(r){r.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(r){r.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(r,n){r.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(r){r.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(r){r.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(r){r.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(r){r.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(r){r.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(r,n){r.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(r){r.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(r){r.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(r){r.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(r){r.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(r){r.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(r,n){r.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(r){r.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(r){r.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(r){r.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(r){r.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(r){r.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(r){r.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(r){r.renderer.scrollBy(0,-2*r.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(r){r.renderer.scrollBy(0,2*r.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(r){r.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(r){r.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(r){r.commands.toggleRecording(r)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(r){r.commands.replay(r)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(r){r.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(r){r.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(r){r.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(r){},readOnly:!0},{name:"cut",description:"Cut",exec:function(r){var n=r.$copyWithEmptySelection&&r.selection.isEmpty(),i=n?r.selection.getLineRange():r.selection.getRange();r._emit("cut",i),i.isEmpty()||r.session.remove(i),r.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(r,n){r.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(r){r.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(r){r.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(r){r.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(r){r.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(r){r.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(r){r.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(r){r.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(r){y.loadModule("ace/ext/searchbox",function(n){n.Search(r,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(r){r.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(r){r.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(r){r.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(r){r.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(r){r.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(r){r.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(r){r.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(r){r.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(r){if(r.selection.isEmpty())r.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(r){r.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(r){r.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(r){var n=r.selection.getRange();n.start.column=0,r.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(r){var n=r.selection.getRange();n.end.column=Number.MAX_VALUE,r.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(r){r.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(r){r.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(r){r.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(r){r.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(r){r.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(r){r.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(r,n){r.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(r,n){r.insert(S.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(r){r.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(r){r.transposeLetters()},multiSelectAction:function(r){r.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(r){r.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(r){r.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(r){r.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(r){var n=r.selection.getRange();n.start.column=n.end.column=0,n.end.row++,r.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(r){r.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(r){for(var n=r.selection.isBackwards(),i=n?r.selection.getSelectionLead():r.selection.getSelectionAnchor(),s=n?r.selection.getSelectionAnchor():r.selection.getSelectionLead(),c=r.session.doc.getLine(i.row).length,u=r.session.doc.getTextRange(r.selection.getRange()),a=u.replace(/\n\s*/," ").length,d=r.session.doc.getLine(i.row),m=i.row+1;m<=s.row+1;m++){var x=S.stringTrimLeft(S.stringTrimRight(r.session.doc.getLine(m)));x.length!==0&&(x=" "+x),d+=x}s.row+1<r.session.doc.getLength()-1&&(d+=r.session.doc.getNewLineCharacter()),r.clearSelection(),r.session.doc.replace(new f(i.row,0,s.row+2,0),d),a>0?(r.selection.moveCursorTo(i.row,i.column),r.selection.selectTo(i.row,i.column+a)):(c=r.session.doc.getLine(i.row).length>c?c+1:c,r.selection.moveCursorTo(i.row,c))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(r){var n=r.session.doc.getLength()-1,i=r.session.doc.getLine(n).length,s=r.selection.rangeList.ranges,c=[];s.length<1&&(s=[r.selection.getRange()]);for(var u=0;u<s.length;u++)u==s.length-1&&(s[u].end.row===n&&s[u].end.column===i||c.push(new f(s[u].end.row,s[u].end.column,n,i))),u===0?s[u].start.row===0&&s[u].start.column===0||c.push(new f(0,0,s[u].start.row,s[u].start.column)):c.push(new f(s[u-1].end.row,s[u-1].end.column,s[u].start.row,s[u].start.column));r.exitMultiSelectMode(),r.clearSelection();for(var u=0;u<c.length;u++)r.selection.addRange(c[u],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(r){r.selection.clearSelection(),r.navigateLineEnd(),r.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(r){r.selection.clearSelection();var n=r.getCursorPosition();r.selection.moveTo(n.row-1,Number.MAX_VALUE),r.insert(`
`),n.row===0&&r.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(r){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),r.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(r){r.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(r){r.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)v.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(r){r.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(g,v,L){var S=g("../lib/keys"),y=(function(){function o(h){this.editor=h,this.gutterLayer=h.renderer.$gutterLayer,this.element=h.renderer.$gutter,this.lines=h.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return o.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},o.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},o.prototype.$onGutterKeyDown=function(h){if(this.annotationTooltip.isOpen){h.preventDefault(),h.keyCode===S.escape&&this.annotationTooltip.hide();return}if(h.target===this.element){if(h.keyCode!=S.enter)return;h.preventDefault();var r=this.editor.getCursorPosition().row;this.editor.isRowVisible(r)||this.editor.scrollToLine(r,!0,!0),setTimeout((function(){var n=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),i=this.$findNearestFoldLaneWidget(n),s=this.$findNearestAnnotation(n);if(!(i===null&&s===null)){var c=this.$findClosestNumber(i,s,n);if(c===i)if(this.activeLane="fold",this.activeRowIndex=i,this.$isCustomWidgetVisible(i)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=s,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(h),setTimeout((function(){this.editor._signal("gutterkeydown",new f(h,this))}).bind(this),10)},o.prototype.$handleGutterKeyboardInteraction=function(h){if(h.keyCode===S.tab){h.preventDefault();return}if(h.keyCode===S.escape){h.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(h.keyCode===S.up){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(h.keyCode===S.down){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(h.keyCode===S.left){h.preventDefault(),this.$switchLane("annotation");return}if(h.keyCode===S.right){h.preventDefault(),this.$switchLane("fold");return}if(h.keyCode===S.enter||h.keyCode===S.space){switch(h.preventDefault(),this.activeLane){case"fold":var r=this.$rowIndexToRow(this.activeRowIndex),n=this.editor.session.$gutterCustomWidgets[r];if(n)n.callbacks&&n.callbacks.onClick&&n.callbacks.onClick(h,r);else if(this.gutterLayer.session.foldWidgets[r]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),h),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==r&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(r),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},o.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},o.prototype.$isFoldWidgetVisible=function(h){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),n=this.$getFoldWidget(h).style.display!=="none";return r&&n},o.prototype.$isCustomWidgetVisible=function(h){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),n=!!this.$getCustomWidget(h);return r&&n},o.prototype.$isAnnotationVisible=function(h){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),n=this.$getAnnotation(h).style.display!=="none";return r&&n},o.prototype.$getFoldWidget=function(h){var r=this.lines.get(h),n=r.element;return n.childNodes[1]},o.prototype.$getCustomWidget=function(h){var r=this.lines.get(h),n=r.element;return n.childNodes[3]},o.prototype.$getAnnotation=function(h){var r=this.lines.get(h),n=r.element;return n.childNodes[2]},o.prototype.$findNearestFoldLaneWidget=function(h){if(this.$isCustomWidgetVisible(h)||this.$isFoldWidgetVisible(h))return h;for(var r=0;h-r>0||h+r<this.lines.getLength()-1;){if(r++,h-r>=0&&this.$isCustomWidgetVisible(h-r))return h-r;if(h+r<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(h+r))return h+r;if(h-r>=0&&this.$isFoldWidgetVisible(h-r))return h-r;if(h+r<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(h+r))return h+r}return null},o.prototype.$findNearestAnnotation=function(h){if(this.$isAnnotationVisible(h))return h;for(var r=0;h-r>0||h+r<this.lines.getLength()-1;){if(r++,h-r>=0&&this.$isAnnotationVisible(h-r))return h-r;if(h+r<=this.lines.getLength()-1&&this.$isAnnotationVisible(h+r))return h+r}return null},o.prototype.$focusFoldWidget=function(h){if(h!=null){var r=this.$getFoldWidget(h);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},o.prototype.$focusCustomWidget=function(h){if(h!=null){var r=this.$getCustomWidget(h);r&&(r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus())}},o.prototype.$focusAnnotation=function(h){if(h!=null){var r=this.$getAnnotation(h);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},o.prototype.$blurFoldWidget=function(h){var r=this.$getFoldWidget(h);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},o.prototype.$blurCustomWidget=function(h){var r=this.$getCustomWidget(h);r&&(r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur())},o.prototype.$blurAnnotation=function(h){var r=this.$getAnnotation(h);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},o.prototype.$moveFoldWidgetUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveFoldWidgetDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveAnnotationUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$moveAnnotationDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$findClosestNumber=function(h,r,n){return h===null?r:r===null||Math.abs(n-h)<=Math.abs(n-r)?h:r},o.prototype.$switchLane=function(h){switch(h){case"annotation":if(this.activeLane==="annotation")break;var r=this.$findNearestAnnotation(this.activeRowIndex);if(r==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=r,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var n=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(n===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$isCustomWidgetVisible(n)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},o.prototype.$rowIndexToRow=function(h){var r=this.lines.get(h);return r?r.row:null},o.prototype.$rowToRowIndex=function(h){for(var r=0;r<this.lines.getLength();r++){var n=this.lines.get(r);if(n.row==h)return r}return null},o})();v.GutterKeyboardHandler=y;var f=(function(){function o(h,r){this.gutterKeyboardHandler=r,this.domEvent=h}return o.prototype.getKey=function(){return S.keyCodeToString(this.domEvent.keyCode)},o.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},o.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},o.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},o})();v.GutterKeyboardEvent=f}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(g,v,L){var S=this&&this.__values||function(M){var R=typeof Symbol=="function"&&Symbol.iterator,O=R&&M[R],z=0;if(O)return O.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&z>=M.length&&(M=void 0),{value:M&&M[z++],done:!M}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")},y=g("./lib/oop"),f=g("./lib/dom"),o=g("./lib/lang"),h=g("./lib/useragent"),r=g("./keyboard/textinput").TextInput,n=g("./mouse/mouse_handler").MouseHandler,i=g("./mouse/fold_handler").FoldHandler,s=g("./keyboard/keybinding").KeyBinding,c=g("./edit_session").EditSession,u=g("./search").Search,a=g("./range").Range,d=g("./lib/event_emitter").EventEmitter,m=g("./commands/command_manager").CommandManager,x=g("./commands/default_commands").commands,C=g("./config"),w=g("./token_iterator").TokenIterator,_=g("./keyboard/gutter_handler").GutterKeyboardHandler,k=g("./config").nls,A=g("./clipboard"),T=g("./lib/keys"),j=g("./lib/event"),F=g("./tooltip").HoverTooltip,$=(function(){function M(R,O,z){this.id="editor"+ ++M.$uid,this.session,this.$toDestroy=[];var B=R.getContainerElement();this.container=B,this.renderer=R,this.commands=new m(h.isMac?"mac":"win",x),typeof document=="object"&&(this.textInput=new r(R.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new n(this),new i(this)),this.keyBinding=new s(this),this.$search=new u().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(P,U){U._$emitInputEvent.schedule(31)}),this.setSession(O||z&&z.session||new c("")),C.resetOptions(this),z&&this.setOptions(z),C._signal("editor",this)}return M.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},M.prototype.startOperation=function(R){this.session.startOperation(R)},M.prototype.endOperation=function(R){this.session.endOperation(R)},M.prototype.onStartOperation=function(R){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,R||(this.previousCommand=null)},M.prototype.onEndOperation=function(R){if(this.curOp&&this.session){if(R&&R.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var O=this.curOp.command,z=O&&O.scrollIntoView;if(z){switch(z){case"center-animate":z="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var B=this.selection.getRange(),P=this.renderer.layerConfig;(B.start.row>=P.lastRow||B.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}z=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},M.prototype.$historyTracker=function(R){if(this.$mergeUndoDeltas){var O=this.prevOp,z=this.$mergeableCommands,B=O.command&&R.command.name==O.command.name;if(R.command.name=="insertstring"){var P=R.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),B=B&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(O.args)),this.mergeNextCommand=!0}else B=B&&z.indexOf(R.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(B=!1),B?this.session.mergeUndoDeltas=!0:z.indexOf(R.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},M.prototype.setKeyboardHandler=function(R,O){if(R&&typeof R=="string"&&R!="ace"){this.$keybindingId=R;var z=this;C.loadModule(["keybinding",R],function(B){z.$keybindingId==R&&z.keyBinding.setKeyboardHandler(B&&B.handler),O&&O()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(R),O&&O()},M.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},M.prototype.setSession=function(R){if(this.session!=R){this.curOp&&this.endOperation(),this.curOp={};var O=this.session;if(O){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var z=this.session.getSelection();z.off("changeCursor",this.$onCursorChange),z.off("changeSelection",this.$onSelectionChange)}this.session=R,R?(this.$onDocumentChange=this.onDocumentChange.bind(this),R.on("change",this.$onDocumentChange),this.renderer.setSession(R),this.$onChangeMode=this.onChangeMode.bind(this),R.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),R.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),R.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),R.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),R.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),R.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=R.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(R)),this._signal("changeSession",{session:R,oldSession:O}),this.curOp=null,O&&O._signal("changeEditor",{oldEditor:this}),O&&(O.$editor=null),R&&R._signal("changeEditor",{editor:this}),R&&(R.$editor=this),R&&!R.destroyed&&R.bgTokenizer.scheduleStart()}},M.prototype.getSession=function(){return this.session},M.prototype.setValue=function(R,O){return this.session.doc.setValue(R),O?O==1?this.navigateFileEnd():O==-1&&this.navigateFileStart():this.selectAll(),R},M.prototype.getValue=function(){return this.session.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.resize=function(R){this.renderer.onResize(R)},M.prototype.setTheme=function(R,O){this.renderer.setTheme(R,O)},M.prototype.getTheme=function(){return this.renderer.getTheme()},M.prototype.setStyle=function(R,O){this.renderer.setStyle(R,O)},M.prototype.unsetStyle=function(R){this.renderer.unsetStyle(R)},M.prototype.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container).fontSize},M.prototype.setFontSize=function(R){this.setOption("fontSize",R)},M.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var R=this;this.$highlightPending=!0,setTimeout(function(){R.$highlightPending=!1;var O=R.session;if(!(!O||O.destroyed)){O.$bracketHighlight&&(O.$bracketHighlight.markerIds.forEach(function(q){O.removeMarker(q)}),O.$bracketHighlight=null);var z=R.getCursorPosition(),B=R.getKeyboardHandler(),P=B&&B.$getDirectionForHighlight&&B.$getDirectionForHighlight(R),U=O.getMatchingBracketRanges(z,P);if(!U){var W=new w(O,z.row,z.column),K=W.getCurrentToken();if(K&&/\b(?:tag-open|tag-name)/.test(K.type)){var Y=O.getMatchingTags(z);Y&&(U=[Y.openTagName.isEmpty()?Y.openTag:Y.openTagName,Y.closeTagName.isEmpty()?Y.closeTag:Y.closeTagName])}}if(!U&&O.$mode.getMatching&&(U=O.$mode.getMatching(R.session)),!U){R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide();return}var X="ace_bracket";Array.isArray(U)?U.length==1&&(X="ace_error_bracket"):U=[U],U.length==2&&(a.comparePoints(U[0].end,U[1].start)==0?U=[a.fromPoints(U[0].start,U[1].end)]:a.comparePoints(U[0].start,U[1].end)==0&&(U=[a.fromPoints(U[1].start,U[0].end)])),O.$bracketHighlight={ranges:U,markerIds:U.map(function(q){return O.addMarker(q,X,"text")})},R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide()}},50)}},M.prototype.focus=function(){this.textInput.focus()},M.prototype.isFocused=function(){return this.textInput.isFocused()},M.prototype.blur=function(){this.textInput.blur()},M.prototype.onFocus=function(R){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",R))},M.prototype.onBlur=function(R){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",R))},M.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},M.prototype.onDocumentChange=function(R){var O=this.session.$useWrapMode,z=R.start.row==R.end.row?R.end.row:1/0;this.renderer.updateLines(R.start.row,z,O),this._signal("change",R),this.$cursorChange()},M.prototype.onTokenizerUpdate=function(R){var O=R.data;this.renderer.updateLines(O.first,O.last)},M.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},M.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},M.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},M.prototype.$updateHighlightActiveLine=function(){var R=this.getSession(),O;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(O=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(O=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(O=!1)),R.$highlightLineMarker&&!O)R.removeMarker(R.$highlightLineMarker.id),R.$highlightLineMarker=null;else if(!R.$highlightLineMarker&&O){var z=new a(O.row,O.column,O.row,1/0);z.id=R.addMarker(z,"ace_active-line","screenLine"),R.$highlightLineMarker=z}else O&&(R.$highlightLineMarker.start.row=O.row,R.$highlightLineMarker.end.row=O.row,R.$highlightLineMarker.start.column=O.column,R._signal("changeBackMarker"))},M.prototype.onSelectionChange=function(R){var O=this.session;if(O.$selectionMarker&&O.removeMarker(O.$selectionMarker),O.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var z=this.selection.getRange(),B=this.getSelectionStyle();O.$selectionMarker=O.addMarker(z,"ace_selection",B)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},M.prototype.$getSelectionHighLightRegexp=function(){var R=this.session,O=this.getSelectionRange();if(!(O.isEmpty()||O.isMultiLine())){var z=O.start.column,B=O.end.column,P=R.getLine(O.start.row),U=P.substring(z,B);if(!(U.length>5e3||!/[\w\d]/.test(U))){var W=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:U}),K=P.substring(z-1,B+1);if(W.test(K))return W}}},M.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},M.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},M.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},M.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},M.prototype.onChangeMode=function(R){this.renderer.updateText(),this._emit("changeMode",R)},M.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},M.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},M.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},M.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},M.prototype.getCopyText=function(){var R=this.getSelectedText(),O=this.session.doc.getNewLineCharacter(),z=!1;if(!R&&this.$copyWithEmptySelection){z=!0;for(var B=this.selection.getAllRanges(),P=0;P<B.length;P++){var U=B[P];P&&B[P-1].start.row==U.start.row||(R+=this.session.getLine(U.start.row)+O)}}var W={text:R};return this._signal("copy",W),A.lineMode=z?W.text:!1,W.text},M.prototype.onCopy=function(){this.commands.exec("copy",this)},M.prototype.onCut=function(){this.commands.exec("cut",this)},M.prototype.onPaste=function(R,O){var z={text:R,event:O};this.commands.exec("paste",this,z)},M.prototype.$handlePaste=function(R){typeof R=="string"&&(R={text:R}),this._signal("paste",R);var O=R.text,z=O===A.lineMode,B=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)z?B.insert({row:this.selection.lead.row,column:0},O):this.insert(O);else if(z)this.selection.rangeList.ranges.forEach(function(X){B.insert({row:X.start.row,column:0},O)});else{var P=O.split(/\r\n|\r|\n/),U=this.selection.rangeList.ranges,W=P.length==2&&(!P[0]||!P[1]);if(P.length!=U.length||W)return this.commands.exec("insertstring",this,O);for(var K=U.length;K--;){var Y=U[K];Y.isEmpty()||B.remove(Y),B.insert(Y.start,P[K])}}},M.prototype.execCommand=function(R,O){return this.commands.exec(R,this,O)},M.prototype.insert=function(R,O){var z=this.session,B=z.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!O){var U=B.transformAction(z.getState(P.row),"insertion",this,z,R);U&&(R!==U.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),R=U.text)}if(R=="	"&&(R=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&R.indexOf(`
`)==-1){var W=a.fromPoints(P,P);W.end.column+=R.length,this.session.remove(W)}}else{var W=this.getSelectionRange();P=this.session.remove(W),this.clearSelection()}if(R==`
`||R==`\r
`){var q=z.getLine(P.row);if(P.column>q.search(/\S|$/)){var K=q.substr(P.column).search(/\S|$/);z.doc.removeInLine(P.row,P.column,P.column+K)}}this.clearSelection();var Y=P.column,X=z.getState(P.row),q=z.getLine(P.row),J=B.checkOutdent(X,q,R);if(z.insert(P,R),U&&U.selection&&(U.selection.length==2?this.selection.setSelectionRange(new a(P.row,Y+U.selection[0],P.row,Y+U.selection[1])):this.selection.setSelectionRange(new a(P.row+U.selection[0],U.selection[1],P.row+U.selection[2],U.selection[3]))),this.$enableAutoIndent){if(z.getDocument().isNewLine(R)){var V=B.getNextLineIndent(X,q.slice(0,P.column),z.getTabString());z.insert({row:P.row+1,column:0},V)}J&&B.autoOutdent(X,z,P.row)}},M.prototype.autoIndent=function(){for(var R=this.session,O=R.getMode(),z=this.selection.isEmpty()?[new a(0,0,R.doc.getLength()-1,0)]:this.selection.getAllRanges(),B="",P="",U="",W=R.getTabString(),K=0;K<z.length;K++)for(var Y=z[K].start.row,X=z[K].end.row,q=Y;q<=X;q++){q>0&&(B=R.getState(q-1),P=R.getLine(q-1),U=O.getNextLineIndent(B,P,W));var J=R.getLine(q),V=O.$getIndent(J);if(U!==V){if(V.length>0){var Q=new a(q,0,q,V.length);R.remove(Q)}U.length>0&&R.insert({row:q,column:0},U)}O.autoOutdent(B,R,q)}},M.prototype.onTextInput=function(R,O){if(!O)return this.keyBinding.onTextInput(R);this.startOperation({command:{name:"insertstring"}});var z=this.applyComposition.bind(this,R,O);this.selection.rangeCount?this.forEachSelection(z):z(),this.endOperation()},M.prototype.applyComposition=function(R,O){if(O.extendLeft||O.extendRight){var z=this.selection.getRange();z.start.column-=O.extendLeft,z.end.column+=O.extendRight,z.start.column<0&&(z.start.row--,z.start.column+=this.session.getLine(z.start.row).length+1),this.selection.setRange(z),!R&&!z.isEmpty()&&this.remove()}if((R||!this.selection.isEmpty())&&this.insert(R,!0),O.restoreStart||O.restoreEnd){var z=this.selection.getRange();z.start.column-=O.restoreStart,z.end.column-=O.restoreEnd,this.selection.setRange(z)}},M.prototype.onCommandKey=function(R,O,z){return this.keyBinding.onCommandKey(R,O,z)},M.prototype.setOverwrite=function(R){this.session.setOverwrite(R)},M.prototype.getOverwrite=function(){return this.session.getOverwrite()},M.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},M.prototype.setScrollSpeed=function(R){this.setOption("scrollSpeed",R)},M.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},M.prototype.setDragDelay=function(R){this.setOption("dragDelay",R)},M.prototype.getDragDelay=function(){return this.getOption("dragDelay")},M.prototype.setSelectionStyle=function(R){this.setOption("selectionStyle",R)},M.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},M.prototype.setHighlightActiveLine=function(R){this.setOption("highlightActiveLine",R)},M.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},M.prototype.setHighlightGutterLine=function(R){this.setOption("highlightGutterLine",R)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.setHighlightSelectedWord=function(R){this.setOption("highlightSelectedWord",R)},M.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},M.prototype.setAnimatedScroll=function(R){this.renderer.setAnimatedScroll(R)},M.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},M.prototype.setShowInvisibles=function(R){this.renderer.setShowInvisibles(R)},M.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},M.prototype.setDisplayIndentGuides=function(R){this.renderer.setDisplayIndentGuides(R)},M.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},M.prototype.setHighlightIndentGuides=function(R){this.renderer.setHighlightIndentGuides(R)},M.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},M.prototype.setShowPrintMargin=function(R){this.renderer.setShowPrintMargin(R)},M.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},M.prototype.setPrintMarginColumn=function(R){this.renderer.setPrintMarginColumn(R)},M.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},M.prototype.setReadOnly=function(R){this.setOption("readOnly",R)},M.prototype.getReadOnly=function(){return this.getOption("readOnly")},M.prototype.setBehavioursEnabled=function(R){this.setOption("behavioursEnabled",R)},M.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},M.prototype.setWrapBehavioursEnabled=function(R){this.setOption("wrapBehavioursEnabled",R)},M.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},M.prototype.setShowFoldWidgets=function(R){this.setOption("showFoldWidgets",R)},M.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},M.prototype.setFadeFoldWidgets=function(R){this.setOption("fadeFoldWidgets",R)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.remove=function(R){this.selection.isEmpty()&&(R=="left"?this.selection.selectLeft():this.selection.selectRight());var O=this.getSelectionRange();if(this.getBehavioursEnabled()){var z=this.session,B=z.getState(O.start.row),P=z.getMode().transformAction(B,"deletion",this,z,O);if(O.end.column===0){var U=z.getTextRange(O);if(U[U.length-1]==`
`){var W=z.getLine(O.end.row);/^\s+$/.test(W)&&(O.end.column=W.length)}}P&&(O=P)}this.session.remove(O),this.clearSelection()},M.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},M.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var R=this.getSelectionRange();R.start.column==R.end.column&&R.start.row==R.end.row&&(R.end.column=0,R.end.row++),this.session.remove(R),this.clearSelection()},M.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var R=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(R)},M.prototype.setGhostText=function(R,O){this.renderer.setGhostText(R,O)},M.prototype.removeGhostText=function(){this.renderer.removeGhostText()},M.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var R=this.getCursorPosition(),O=R.column;if(O!==0){var z=this.session.getLine(R.row),B,P;O<z.length?(B=z.charAt(O)+z.charAt(O-1),P=new a(R.row,O-1,R.row,O+1)):(B=z.charAt(O-1)+z.charAt(O-2),P=new a(R.row,O-2,R.row,O)),this.session.replace(P,B),this.session.selection.moveToPosition(P.end)}}},M.prototype.toLowerCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),z=this.session.getTextRange(O);this.session.replace(O,z.toLowerCase()),this.selection.setSelectionRange(R)},M.prototype.toUpperCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),z=this.session.getTextRange(O);this.session.replace(O,z.toUpperCase()),this.selection.setSelectionRange(R)},M.prototype.indent=function(){var R=this.session,O=this.getSelectionRange();if(O.start.row<O.end.row){var z=this.$getSelectedRows();R.indentRows(z.first,z.last,"	");return}else if(O.start.column<O.end.column){var B=R.getTextRange(O);if(!/^\s+$/.test(B)){var z=this.$getSelectedRows();R.indentRows(z.first,z.last,"	");return}}var P=R.getLine(O.start.row),U=O.start,W=R.getTabSize(),K=R.documentToScreenColumn(U.row,U.column);if(this.session.getUseSoftTabs())var Y=W-K%W,X=o.stringRepeat(" ",Y);else{for(var Y=K%W;P[O.start.column-1]==" "&&Y;)O.start.column--,Y--;this.selection.setSelectionRange(O),X="	"}return this.insert(X)},M.prototype.blockIndent=function(){var R=this.$getSelectedRows();this.session.indentRows(R.first,R.last,"	")},M.prototype.blockOutdent=function(){var R=this.session.getSelection();this.session.outdentRows(R.getRange())},M.prototype.sortLines=function(){for(var R=this.$getSelectedRows(),O=this.session,z=[],B=R.first;B<=R.last;B++)z.push(O.getLine(B));z.sort(function(W,K){return W.toLowerCase()<K.toLowerCase()?-1:W.toLowerCase()>K.toLowerCase()?1:0});for(var P=new a(0,0,0,0),B=R.first;B<=R.last;B++){var U=O.getLine(B);P.start.row=B,P.end.row=B,P.end.column=U.length,O.replace(P,z[B-R.first])}},M.prototype.toggleCommentLines=function(){var R=this.session.getState(this.getCursorPosition().row),O=this.$getSelectedRows();this.session.getMode().toggleCommentLines(R,this.session,O.first,O.last)},M.prototype.toggleBlockComment=function(){var R=this.getCursorPosition(),O=this.session.getState(R.row),z=this.getSelectionRange();this.session.getMode().toggleBlockComment(O,this.session,z,R)},M.prototype.getNumberAt=function(R,O){var z=/[\-]?[0-9]+(?:\.[0-9]+)?/g;z.lastIndex=0;for(var B=this.session.getLine(R);z.lastIndex<O;){var P=z.exec(B);if(P.index<=O&&P.index+P[0].length>=O){var U={value:P[0],start:P.index,end:P.index+P[0].length};return U}}return null},M.prototype.modifyNumber=function(R){var O=this.selection.getCursor().row,z=this.selection.getCursor().column,B=new a(O,z-1,O,z),P=this.session.getTextRange(B);if(!isNaN(parseFloat(P))&&isFinite(P)){var U=this.getNumberAt(O,z);if(U){var W=U.value.indexOf(".")>=0?U.start+U.value.indexOf(".")+1:U.end,K=U.start+U.value.length-W,Y=parseFloat(U.value);Y*=Math.pow(10,K),W!==U.end&&z<W?R*=Math.pow(10,U.end-z-1):R*=Math.pow(10,U.end-z),Y+=R,Y/=Math.pow(10,K);var X=Y.toFixed(K),q=new a(O,U.start,O,U.end);this.session.replace(q,X),this.moveCursorTo(O,Math.max(U.start+1,z+X.length-U.value.length))}}else this.toggleWord()},M.prototype.toggleWord=function(){var R=this.selection.getCursor().row,O=this.selection.getCursor().column;this.selection.selectWord();var z=this.getSelectedText(),B=this.selection.getWordRange().start.column,P=z.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),U=O-B-1;U<0&&(U=0);var W=0,K=0,Y=this;z.match(/[A-Za-z0-9_]+/)&&P.forEach(function(pe,Se){K=W+pe.length,U>=W&&U<=K&&(z=pe,Y.selection.clearSelection(),Y.moveCursorTo(R,W+B),Y.selection.selectTo(R,K+B)),W=K});for(var X=this.$toggleWordPairs,q,J=0;J<X.length;J++)for(var V=X[J],Q=0;Q<=1;Q++){var ne=+!Q,ie=z.match(new RegExp("^\\s?_?("+o.escapeRegExp(V[Q])+")\\s?$","i"));if(ie){var me=z.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(ie[1])+")($|\\s)","g"));me&&(q=z.replace(new RegExp(o.escapeRegExp(V[Q]),"i"),function(pe){var Se=V[ne];return pe.toUpperCase()==pe?Se=Se.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(Se=Se.substr(0,0)+V[ne].charAt(0).toUpperCase()+Se.substr(1)),Se}),this.insert(q),q="")}}},M.prototype.findLinkAt=function(R,O){var z,B,P=this.session.getLine(R),U=P.split(/((?:https?|ftp):\/\/[\S]+)/),W=O;W<0&&(W=0);var K=0,Y=0,X;try{for(var q=S(U),J=q.next();!J.done;J=q.next()){var V=J.value;if(Y=K+V.length,W>=K&&W<=Y&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){X=V.replace(/[\s:.,'";}\]]+$/,"");break}K=Y}}catch(Q){z={error:Q}}finally{try{J&&!J.done&&(B=q.return)&&B.call(q)}finally{if(z)throw z.error}}return X},M.prototype.openLink=function(){var R=this.selection.getCursor(),O=this.findLinkAt(R.row,R.column);return O&&window.open(O,"_blank"),O!=null},M.prototype.removeLines=function(){var R=this.$getSelectedRows();this.session.removeFullLines(R.first,R.last),this.clearSelection()},M.prototype.duplicateSelection=function(){var R=this.selection,O=this.session,z=R.getRange(),B=R.isBackwards();if(z.isEmpty()){var P=z.start.row;O.duplicateLines(P,P)}else{var U=B?z.start:z.end,W=O.insert(U,O.getTextRange(z));z.start=U,z.end=W,R.setSelectionRange(z,B)}},M.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},M.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},M.prototype.moveText=function(R,O,z){return this.session.moveText(R,O,z)},M.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},M.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},M.prototype.$moveLines=function(R,O){var z,B,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var U=P.toOrientedRange();z=this.$getSelectedRows(U),B=this.session.$moveLines(z.first,z.last,O?0:R),O&&R==-1&&(B=0),U.moveBy(B,0),P.fromOrientedRange(U)}else{var W=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var K=0,Y=0,X=W.length,q=0;q<X;q++){var J=q;W[q].moveBy(K,0),z=this.$getSelectedRows(W[q]);for(var V=z.first,Q=z.last;++q<X;){Y&&W[q].moveBy(Y,0);var ne=this.$getSelectedRows(W[q]);if(O&&ne.first!=Q)break;if(!O&&ne.first>Q+1)break;Q=ne.last}for(q--,K=this.session.$moveLines(V,Q,O?0:R),O&&R==-1&&(J=q+1);J<=q;)W[J].moveBy(K,0),J++;O||(K=0),Y+=K}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},M.prototype.$getSelectedRows=function(R){return R=(R||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(R.start.row),last:this.session.getRowFoldEnd(R.end.row)}},M.prototype.onCompositionStart=function(R){this.renderer.showComposition(R)},M.prototype.onCompositionUpdate=function(R){this.renderer.setCompositionText(R)},M.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},M.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},M.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},M.prototype.isRowVisible=function(R){return R>=this.getFirstVisibleRow()&&R<=this.getLastVisibleRow()},M.prototype.isRowFullyVisible=function(R){return R>=this.renderer.getFirstFullyVisibleRow()&&R<=this.renderer.getLastFullyVisibleRow()},M.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},M.prototype.$moveByPage=function(R,O){var z=this.renderer,B=this.renderer.layerConfig,P=R*Math.floor(B.height/B.lineHeight);O===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):O===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var U=z.scrollTop;z.scrollBy(0,P*B.lineHeight),O!=null&&z.scrollCursorIntoView(null,.5),z.animateScrolling(U)},M.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},M.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},M.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},M.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},M.prototype.scrollPageDown=function(){this.$moveByPage(1)},M.prototype.scrollPageUp=function(){this.$moveByPage(-1)},M.prototype.scrollToRow=function(R){this.renderer.scrollToRow(R)},M.prototype.scrollToLine=function(R,O,z,B){this.renderer.scrollToLine(R,O,z,B)},M.prototype.centerSelection=function(){var R=this.getSelectionRange(),O={row:Math.floor(R.start.row+(R.end.row-R.start.row)/2),column:Math.floor(R.start.column+(R.end.column-R.start.column)/2)};this.renderer.alignCursor(O,.5)},M.prototype.getCursorPosition=function(){return this.selection.getCursor()},M.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},M.prototype.getSelectionRange=function(){return this.selection.getRange()},M.prototype.selectAll=function(){this.selection.selectAll()},M.prototype.clearSelection=function(){this.selection.clearSelection()},M.prototype.moveCursorTo=function(R,O){this.selection.moveCursorTo(R,O)},M.prototype.moveCursorToPosition=function(R){this.selection.moveCursorToPosition(R)},M.prototype.jumpToMatching=function(R,O){var z=this.getCursorPosition(),B=new w(this.session,z.row,z.column),P=B.getCurrentToken(),U=0;P&&P.type.indexOf("tag-name")!==-1&&(P=B.stepBackward());var W=P||B.stepForward();if(W){var K,Y=!1,X={},q=z.column-W.start,J,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(W.value.match(/[{}()\[\]]/g)){for(;q<W.value.length&&!Y;q++)if(V[W.value[q]])switch(J=V[W.value[q]]+"."+W.type.replace("rparen","lparen"),isNaN(X[J])&&(X[J]=0),W.value[q]){case"(":case"[":case"{":X[J]++;break;case")":case"]":case"}":X[J]--,X[J]===-1&&(K="bracket",Y=!0);break}}else W.type.indexOf("tag-name")!==-1&&(isNaN(X[W.value])&&(X[W.value]=0),P.value==="<"&&U>1?X[W.value]++:P.value==="</"&&X[W.value]--,X[W.value]===-1&&(K="tag",Y=!0));Y||(P=W,U++,W=B.stepForward(),q=0)}while(W&&!Y);if(K){var Q,ne;if(K==="bracket")Q=this.session.getBracketRange(z),Q||(Q=new a(B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1,B.getCurrentTokenRow(),B.getCurrentTokenColumn()+q-1),ne=Q.start,(O||ne.row===z.row&&Math.abs(ne.column-z.column)<2)&&(Q=this.session.getBracketRange(ne)));else if(K==="tag"){if(!W||W.type.indexOf("tag-name")===-1)return;if(Q=new a(B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2,B.getCurrentTokenRow(),B.getCurrentTokenColumn()-2),Q.compare(z.row,z.column)===0){var ie=this.session.getMatchingTags(z);ie&&(ie.openTag.contains(z.row,z.column)?(Q=ie.closeTag,ne=Q.start):(Q=ie.openTag,ie.closeTag.start.row===z.row&&ie.closeTag.start.column===z.column?ne=Q.end:ne=Q.start))}ne=ne||Q.start}ne=Q&&Q.cursor||ne,ne&&(R?Q&&O?this.selection.setRange(Q):Q&&Q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ne.row,ne.column):this.selection.moveTo(ne.row,ne.column))}}},M.prototype.gotoLine=function(R,O,z){this.selection.clearSelection(),this.session.unfold({row:R-1,column:O||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(R-1,O||0),this.isRowFullyVisible(R-1)||this.scrollToLine(R-1,!0,z)},M.prototype.navigateTo=function(R,O){this.selection.moveTo(R,O)},M.prototype.navigateUp=function(R){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(-R||-1,0)},M.prototype.navigateDown=function(R){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(R||1,0)},M.prototype.navigateLeft=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorLeft();else{var O=this.getSelectionRange().start;this.moveCursorToPosition(O)}this.clearSelection()},M.prototype.navigateRight=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorRight();else{var O=this.getSelectionRange().end;this.moveCursorToPosition(O)}this.clearSelection()},M.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},M.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},M.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},M.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},M.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},M.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},M.prototype.replace=function(R,O){O&&this.$search.set(O);var z=this.$search.find(this.session),B=0;return z&&(this.$tryReplace(z,R)&&(B=1),this.selection.setSelectionRange(z),this.renderer.scrollSelectionIntoView(z.start,z.end)),B},M.prototype.replaceAll=function(R,O){O&&this.$search.set(O);var z=this.$search.findAll(this.session),B=0;if(!z.length)return B;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var U=z.length-1;U>=0;--U)this.$tryReplace(z[U],R)&&B++;return this.selection.setSelectionRange(P),B},M.prototype.$tryReplace=function(R,O){var z=this.session.getTextRange(R);return O=this.$search.replace(z,O),O!==null?(R.end=this.session.replace(R,O),R):null},M.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},M.prototype.find=function(R,O,z){O||(O={}),typeof R=="string"||R instanceof RegExp?O.needle=R:typeof R=="object"&&y.mixin(O,R);var B=this.selection.getRange();O.needle==null&&(R=this.session.getTextRange(B)||this.$search.$options.needle,R||(B=this.session.getWordRange(B.start.row,B.start.column),R=this.session.getTextRange(B)),this.$search.set({needle:R})),this.$search.set(O),O.start||this.$search.set({start:B});var P=this.$search.find(this.session);if(O.preventScroll)return P;if(P)return this.revealRange(P,z),P;O.backwards?B.start=B.end:B.end=B.start,this.selection.setRange(B)},M.prototype.findNext=function(R,O){this.find({skipCurrent:!0,backwards:!1},R,O)},M.prototype.findPrevious=function(R,O){this.find(R,{skipCurrent:!0,backwards:!0},O)},M.prototype.revealRange=function(R,O){this.session.unfold(R),this.selection.setSelectionRange(R);var z=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(R.start,R.end,.5),O!==!1&&this.renderer.animateScrolling(z)},M.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},M.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(R){R.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},M.prototype.setAutoScrollEditorIntoView=function(R){if(R){var O,z=this,B=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var U=this.on("changeSelection",function(){B=!0}),W=this.renderer.on("beforeRender",function(){B&&(O=z.renderer.container.getBoundingClientRect())}),K=this.renderer.on("afterRender",function(){if(B&&O&&(z.isFocused()||z.searchBox&&z.searchBox.isFocused())){var Y=z.renderer,X=Y.$cursorLayer.$pixelPos,q=Y.layerConfig,J=X.top-q.offset;X.top>=0&&J+O.top<0?B=!0:X.top<q.height&&X.top+O.top+q.lineHeight>window.innerHeight?B=!1:B=null,B!=null&&(P.style.top=J+"px",P.style.left=X.left+"px",P.style.height=q.lineHeight+"px",P.scrollIntoView(B)),B=O=null}});this.setAutoScrollEditorIntoView=function(Y){Y||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",U),this.renderer.off("afterRender",K),this.renderer.off("beforeRender",W))}}},M.prototype.$resetCursorStyle=function(){var R=this.$cursorStyle||"ace",O=this.renderer.$cursorLayer;O&&(O.setSmoothBlinking(/smooth/.test(R)),O.isBlinking=!this.$readOnly&&R!="wide",f.setCssClass(O.element,"ace_slim-cursors",/slim/.test(R)))},M.prototype.prompt=function(R,O,z){var B=this;C.loadModule("ace/ext/prompt",function(P){P.prompt(B,R,O,z)})},M})();$.$uid=0,$.prototype.curOp=null,$.prototype.prevOp={},$.prototype.$mergeableCommands=["backspace","del","insertstring"],$.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],y.implement($.prototype,d),C.defineOptions($.prototype,"editor",{selectionStyle:{set:function(M){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:M})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(M){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(M){var R=this;if(this.textInput.setReadOnly(M),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(z){var B=!1;if(z&&z.type=="keydown"){if(z&&z.key&&!z.ctrlKey&&!z.metaKey&&(z.key==" "&&z.preventDefault(),B=z.key.length==1),!B)return}else z&&z.type!=="exec"&&(B=!0);if(B){R.hoverTooltip||(R.hoverTooltip=new F);var P=f.createElement("div");P.textContent=k("editor.tooltip.disable-editing","Editing is disabled"),R.hoverTooltip.isOpen||R.hoverTooltip.showForRange(R,R.getSelectionRange(),P)}else R.hoverTooltip&&R.hoverTooltip.isOpen&&R.hoverTooltip.hide()});var O=this.textInput.getElement();M?(j.addListener(O,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(j.removeListener(O,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(M){this.textInput.setCopyWithEmptySelection(M)},initialValue:!1},cursorStyle:{set:function(M){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(M){this.setAutoScrollEditorIntoView(M)}},keyboardHandler:{set:function(M){this.setKeyboardHandler(M)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(M){this.session.setValue(M)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(M){this.setSession(M)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(M){this.renderer.$gutterLayer.setShowLineNumbers(M),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),M&&this.$relativeLineNumbers?D.attach(this):D.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(M){this.$showLineNumbers&&M?D.attach(this):D.detach(this)}},placeholder:{set:function(M){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var R=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(R&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),f.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!R&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),f.addCssClass(this.container,"ace_hasPlaceholder");var O=f.createElement("div");O.className="ace_placeholder",O.textContent=this.$placeholder||"",this.renderer.placeholderNode=O,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!R&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(M){var R={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(B){B.blur(),B.renderer.scroller.focus()},readOnly:!0},O=function(B){if(B.target==this.renderer.scroller&&B.keyCode===T.enter){B.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},z;M?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",k("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",k("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",O.bind(this)),this.commands.addCommand(R),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",k("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",k("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),z||(z=new _(this)),z.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",O.bind(this)),this.commands.removeCommand(R),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),z&&z.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(M){this.$textInputAriaLabel=M},initialValue:""},enableMobileMenu:{set:function(M){this.$enableMobileMenu=M},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var D={getText:function(M,R){return(Math.abs(M.selection.lead.row-R)||R+1+(R<9?"":""))+""},getWidth:function(M,R,O){return Math.max(R.toString().length,(O.lastRow+1).toString().length,2)*O.characterWidth},update:function(M,R){R.renderer.$loop.schedule(R.renderer.CHANGE_GUTTER)},attach:function(M){M.renderer.$gutterLayer.$renderer=this,M.on("changeSelection",this.update),this.update(null,M)},detach:function(M){M.renderer.$gutterLayer.$renderer==this&&(M.renderer.$gutterLayer.$renderer=null),M.off("changeSelection",this.update),this.update(null,M)}};v.Editor=$}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(g,v,L){var S=g("../lib/dom"),y=(function(){function f(o,h){this.element=o,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return f.prototype.moveContainer=function(o){S.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},f.prototype.pageChanged=function(o,h){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},f.prototype.computeLineTop=function(o,h,r){var n=h.firstRowScreen*h.lineHeight,i=Math.floor(n/this.canvasHeight),s=r.documentToScreenRow(o,0)*h.lineHeight;return s-i*this.canvasHeight},f.prototype.computeLineHeight=function(o,h,r){return h.lineHeight*r.getRowLineCount(o)},f.prototype.getLength=function(){return this.cells.length},f.prototype.get=function(o){return this.cells[o]},f.prototype.shift=function(){this.$cacheCell(this.cells.shift())},f.prototype.pop=function(){this.$cacheCell(this.cells.pop())},f.prototype.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var h=S.createFragment(this.element),r=0;r<o.length;r++)h.appendChild(o[r].element);this.element.appendChild(h)}else this.cells.push(o),this.element.appendChild(o.element)},f.prototype.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var h=S.createFragment(this.element),r=0;r<o.length;r++)h.appendChild(o[r].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},f.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},f.prototype.$cacheCell=function(o){o&&(o.element.remove(),this.cellCache.push(o))},f.prototype.createCell=function(o,h,r,n){var i=this.cellCache.pop();if(!i){var s=S.createElement("div");n&&n(s),this.element.appendChild(s),i={element:s,text:"",row:o}}return i.row=o,i},f})();v.Lines=y}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(g,v,L){var S=g("../lib/dom"),y=g("../lib/oop"),f=g("../lib/lang"),o=g("../lib/event_emitter").EventEmitter,h=g("./lines").Lines,r=g("../config").nls,n=(function(){function s(c){this.$showCursorMarker=null,this.element=S.createElement("div"),this.element.className="ace_layer ace_gutter-layer",c.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return s.prototype.setSession=function(c){this.session&&this.session.off("change",this.$updateAnnotations),this.session=c,c&&c.on("change",this.$updateAnnotations)},s.prototype.addGutterDecoration=function(c,u){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(c,u)},s.prototype.removeGutterDecoration=function(c,u){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(c,u)},s.prototype.setAnnotations=function(c){this.$annotations=[];for(var u=0;u<c.length;u++){var a=c[u],d=a.row,m=this.$annotations[d];m||(m=this.$annotations[d]={text:[],type:[],displayText:[]});var x=a.text,C=a.text,w=a.type;x=x?f.escapeHTML(x):a.html||"",C=C||a.html||"",m.text.indexOf(x)===-1&&(m.text.push(x),m.type.push(w),m.displayText.push(C));var _=a.className;_?m.className=_:w==="error"?m.className=" ace_error":w==="security"&&!/\bace_error\b/.test(m.className)?m.className=" ace_security":w==="warning"&&!/\bace_(error|security)\b/.test(m.className)?m.className=" ace_warning":w==="info"&&!m.className?m.className=" ace_info":w==="hint"&&!m.className&&(m.className=" ace_hint")}},s.prototype.$updateAnnotations=function(c){if(this.$annotations.length){var u=c.start.row,a=c.end.row-u;if(a!==0)if(c.action=="remove")this.$annotations.splice(u,a+1,null);else{var d=new Array(a+1);d.unshift(u,1),this.$annotations.splice.apply(this.$annotations,d)}}},s.prototype.update=function(c){this.config=c;var u=this.session,a=c.firstRow,d=Math.min(c.lastRow+c.gutterOffset,u.getLength()-1);this.oldLastRow=d,this.config=c,this.$lines.moveContainer(c),this.$updateCursorRow();for(var m=u.getNextFoldLine(a),x=m?m.start.row:1/0,C=null,w=-1,_=a;;){if(_>x&&(_=m.end.row+1,m=u.getNextFoldLine(_,m),x=m?m.start.row:1/0),_>d){for(;this.$lines.getLength()>w+1;)this.$lines.pop();break}C=this.$lines.get(++w),C?C.row=_:(C=this.$lines.createCell(_,c,this.session,i),this.$lines.push(C)),this.$renderCell(C,c,m,_),_++}this._signal("afterRender"),this.$updateGutterWidth(c),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},s.prototype.$updateGutterWidth=function(c){var u=this.session,a=u.gutterRenderer||this.$renderer,d=u.$firstLineNumber,m=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||u.$useWrapMode)&&(m=u.getLength()+d-1);var x=a?a.getWidth(u,m,c):m.toString().length*c.characterWidth,C=this.$padding||this.$computePadding();x+=C.left+C.right,x!==this.gutterWidth&&!isNaN(x)&&(this.gutterWidth=x,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",x))},s.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var c=this.session.selection.getCursor();this.$cursorRow!==c.row&&(this.$cursorRow=c.row)}},s.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var c=this.session.selection.cursor.row;if(this.$cursorRow=c,!(this.$cursorCell&&this.$cursorCell.row==c)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var u=this.$lines.cells;this.$cursorCell=null;for(var a=0;a<u.length;a++){var d=u[a];if(d.row>=this.$cursorRow){if(d.row>this.$cursorRow){var m=this.session.getFoldLine(this.$cursorRow);if(a>0&&m&&m.start.row==u[a-1].row)d=u[a-1];else break}d.element.className="ace_gutter-active-line "+d.element.className,this.$cursorCell=d;break}}}}},s.prototype.$updateCursorMarker=function(){if(this.session){var c=this.session;this.$highlightElement||(this.$highlightElement=S.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var u=c.selection.cursor,a=this.config,d=this.$lines,m=a.firstRowScreen*a.lineHeight,x=Math.floor(m/d.canvasHeight),C=c.documentToScreenRow(u)*a.lineHeight,w=C-x*d.canvasHeight;S.setStyle(this.$highlightElement.style,"height",a.lineHeight+"px"),S.setStyle(this.$highlightElement.style,"top",w+"px")}},s.prototype.scrollLines=function(c){var u=this.config;if(this.config=c,this.$updateCursorRow(),this.$lines.pageChanged(u,c))return this.update(c);this.$lines.moveContainer(c);var a=Math.min(c.lastRow+c.gutterOffset,this.session.getLength()-1),d=this.oldLastRow;if(this.oldLastRow=a,!u||d<c.firstRow)return this.update(c);if(a<u.firstRow)return this.update(c);if(u.firstRow<c.firstRow)for(var m=this.session.getFoldedRowCount(u.firstRow,c.firstRow-1);m>0;m--)this.$lines.shift();if(d>a)for(var m=this.session.getFoldedRowCount(a+1,d);m>0;m--)this.$lines.pop();c.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLines(c,c.firstRow,u.firstRow-1)),a>d&&this.$lines.push(this.$renderLines(c,d+1,a)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(c)},s.prototype.$renderLines=function(c,u,a){for(var d=[],m=u,x=this.session.getNextFoldLine(m),C=x?x.start.row:1/0;m>C&&(m=x.end.row+1,x=this.session.getNextFoldLine(m,x),C=x?x.start.row:1/0),!(m>a);){var w=this.$lines.createCell(m,c,this.session,i);this.$renderCell(w,c,x,m),d.push(w),m++}return d},s.prototype.$renderCell=function(c,u,a,d){var m=c.element,x=this.session,C=m.childNodes[0],w=m.childNodes[1],_=m.childNodes[2],k=m.childNodes[3],A=_.firstChild,T=x.$firstLineNumber,j=x.$breakpoints,F=x.$decorations,$=x.gutterRenderer||this.$renderer,D=this.$showFoldWidgets&&x.foldWidgets,M=a?a.start.row:Number.MAX_VALUE,R=u.lineHeight+"px",O=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",z=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",B=($?$.getText(x,d):d+T).toString();if(this.$highlightGutterLine&&(d==this.$cursorRow||a&&d<this.$cursorRow&&d>=M&&this.$cursorRow<=a.end.row)&&(O+="ace_gutter-active-line ",this.$cursorCell!=c&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=c)),j[d]&&(O+=j[d]),F[d]&&(O+=F[d]),this.$annotations[d]&&d!==M&&(O+=this.$annotations[d].className),D){var P=D[d];P==null&&(P=D[d]=x.getFoldWidget(d))}if(P){var U="ace_fold-widget ace_"+P,W=P=="start"&&d==M&&d<a.end.row;if(W){U+=" ace_closed";for(var K="",Y=!1,X=d+1;X<=a.end.row;X++)if(this.$annotations[X]){if(this.$annotations[X].className===" ace_error"){Y=!0,K=" ace_error_fold";break}this.$annotations[X].className===" ace_security"?(Y=!0,K=" ace_security_fold"):this.$annotations[X].className===" ace_warning"&&K!==" ace_security_fold"&&(Y=!0,K=" ace_warning_fold")}O+=K}else U+=" ace_open";w.className!=U&&(w.className=U),S.setStyle(w.style,"height",R),S.setStyle(w.style,"display","inline-block"),w.setAttribute("role","button"),w.setAttribute("tabindex","-1");var q=x.getFoldWidgetRange(d);q?w.setAttribute("aria-label",r("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[q.start.row+1,q.end.row+1])):a?w.setAttribute("aria-label",r("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[a.start.row+1,a.end.row+1])):w.setAttribute("aria-label",r("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[d+1])),W?(w.setAttribute("aria-expanded","false"),w.setAttribute("title",r("gutter.code-folding.closed.title","Unfold code"))):(w.setAttribute("aria-expanded","true"),w.setAttribute("title",r("gutter.code-folding.open.title","Fold code")))}else w&&(S.setStyle(w.style,"display","none"),w.setAttribute("tabindex","0"),w.removeAttribute("role"),w.removeAttribute("aria-label"));var J=this.session.$gutterCustomWidgets[d];if(J?this.$addCustomWidget(d,J,c):k&&this.$removeCustomWidget(d,c),Y&&this.$showFoldedAnnotations){_.className="ace_gutter_annotation",A.className=z,A.className+=K,S.setStyle(A.style,"height",R),S.setStyle(_.style,"display","block"),S.setStyle(_.style,"height",R);var V;switch(K){case" ace_error_fold":V=r("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security_fold":V=r("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning_fold":V=r("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break}_.setAttribute("aria-label",V),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else if(this.$annotations[d]){_.className="ace_gutter_annotation",A.className=z,this.$useSvgGutterIcons?A.className+=this.$annotations[d].className:m.classList.add(this.$annotations[d].className.replace(" ","")),S.setStyle(A.style,"height",R),S.setStyle(_.style,"display","block"),S.setStyle(_.style,"height",R);var V;switch(this.$annotations[d].className){case" ace_error":V=r("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security":V=r("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning":V=r("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break;case" ace_info":V=r("gutter.annotation.aria-label.info","Info, read annotations row $0",[B]);break;case" ace_hint":V=r("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[B]);break}_.setAttribute("aria-label",V),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else S.setStyle(_.style,"display","none"),_.removeAttribute("aria-label"),_.removeAttribute("role"),_.setAttribute("tabindex","0");return B!==C.data&&(C.data=B),m.className!=O&&(m.className=O),S.setStyle(c.element.style,"height",this.$lines.computeLineHeight(d,u,x)+"px"),S.setStyle(c.element.style,"top",this.$lines.computeLineTop(d,u,x)+"px"),c.text=B,_.style.display==="none"&&w.style.display==="none"&&!J?c.element.setAttribute("aria-hidden",!0):c.element.setAttribute("aria-hidden",!1),c},s.prototype.setHighlightGutterLine=function(c){this.$highlightGutterLine=c,!c&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},s.prototype.setShowLineNumbers=function(c){this.$renderer=!c&&{getWidth:function(){return 0},getText:function(){return""}}},s.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},s.prototype.setShowFoldWidgets=function(c){c?S.addCssClass(this.element,"ace_folding-enabled"):S.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=c,this.$padding=null},s.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},s.prototype.$hideFoldWidget=function(c,u){var a=u||this.$getGutterCell(c);if(a&&a.element){var d=a.element.childNodes[1];d&&S.setStyle(d.style,"display","none")}},s.prototype.$showFoldWidget=function(c,u){var a=u||this.$getGutterCell(c);if(a&&a.element){var d=a.element.childNodes[1];d&&this.session.foldWidgets&&this.session.foldWidgets[a.row]&&S.setStyle(d.style,"display","inline-block")}},s.prototype.$getGutterCell=function(c){var u=this.$lines.cells,a=0,d=u.length-1;if(!(c<u[0].row||c>u[d].row)){for(;a<=d;){var m=Math.floor((a+d)/2),x=u[m];if(x.row>c)d=m-1;else if(x.row<c)a=m+1;else return x}return x}},s.prototype.$addCustomWidget=function(c,u,a){var d=u.className,m=u.label,x=u.title,C=u.callbacks;this.session.$gutterCustomWidgets[c]={className:d,label:m,title:x,callbacks:C},this.$hideFoldWidget(c,a);var w=a||this.$getGutterCell(c);if(w&&w.element){var _=w.element.querySelector(".ace_custom-widget");_&&_.remove(),_=S.createElement("span"),_.className="ace_custom-widget ".concat(d),_.setAttribute("tabindex","-1"),_.setAttribute("role","button"),_.setAttribute("aria-label",m),_.setAttribute("title",x),S.setStyle(_.style,"display","inline-block"),S.setStyle(_.style,"height","inherit"),C&&C.onClick&&_.addEventListener("click",function(k){C.onClick(k,c),k.stopPropagation()}),w.element.appendChild(_)}},s.prototype.$removeCustomWidget=function(c,u){delete this.session.$gutterCustomWidgets[c],this.$showFoldWidget(c,u);var a=u||this.$getGutterCell(c);if(a&&a.element){var d=a.element.querySelector(".ace_custom-widget");d&&a.element.removeChild(d)}},s.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var c=S.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(c.borderLeftWidth)||0)+(parseInt(c.paddingLeft)||0)+1,this.$padding.right=(parseInt(c.borderRightWidth)||0)+(parseInt(c.paddingRight)||0),this.$padding},s.prototype.getRegion=function(c){var u=this.$padding||this.$computePadding(),a=this.element.getBoundingClientRect();if(c.x<u.left+a.left)return"markers";if(this.$showFoldWidgets&&c.x>a.right-u.right)return"foldWidgets"},s})();n.prototype.$fixedWidth=!1,n.prototype.$highlightGutterLine=!0,n.prototype.$renderer=void 0,n.prototype.$showLineNumbers=!0,n.prototype.$showFoldWidgets=!0,y.implement(n.prototype,o);function i(s){var c=document.createTextNode("");s.appendChild(c);var u=S.createElement("span");s.appendChild(u);var a=S.createElement("span");s.appendChild(a);var d=S.createElement("span");return a.appendChild(d),s}v.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(g,v,L){var S=g("../range").Range,y=g("../lib/dom"),f=(function(){function h(r){this.element=y.createElement("div"),this.element.className="ace_layer ace_marker-layer",r.appendChild(this.element)}return h.prototype.setPadding=function(r){this.$padding=r},h.prototype.setSession=function(r){this.session=r},h.prototype.setMarkers=function(r){this.markers=r},h.prototype.elt=function(r,n){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=n,i.className=r},h.prototype.update=function(r){if(r){this.config=r,this.i=0;var n;for(var i in this.markers){var s=this.markers[i];if(!s.range){s.update(n,this,this.session,r);continue}var c=s.range.clipRows(r.firstRow,r.lastRow);if(!c.isEmpty())if(c=c.toScreenRange(this.session),s.renderer){var u=this.$getTop(c.start.row,r),a=this.$padding+c.start.column*r.characterWidth;s.renderer(n,c,a,u,r)}else s.type=="fullLine"?this.drawFullLineMarker(n,c,s.clazz,r):s.type=="screenLine"?this.drawScreenLineMarker(n,c,s.clazz,r):c.isMultiLine()?s.type=="text"?this.drawTextMarker(n,c,s.clazz,r):this.drawMultiLineMarker(n,c,s.clazz,r):this.drawSingleLineMarker(n,c,s.clazz+" ace_start ace_br15",r)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},h.prototype.$getTop=function(r,n){return(r-n.firstRowScreen)*n.lineHeight},h.prototype.drawTextMarker=function(r,n,i,s,c){for(var u=this.session,a=n.start.row,d=n.end.row,m=a,x=0,C=0,w=u.getScreenLastRowColumn(m),_=new S(m,n.start.column,m,C);m<=d;m++)_.start.row=_.end.row=m,_.start.column=m==a?n.start.column:u.getRowWrapIndent(m),_.end.column=w,x=C,C=w,w=m+1<d?u.getScreenLastRowColumn(m+1):m==d?0:n.end.column,this.drawSingleLineMarker(r,_,i+(m==a?" ace_start":"")+" ace_br"+o(m==a||m==a+1&&n.start.column,x<C,C>w,m==d),s,m==d?0:1,c)},h.prototype.drawMultiLineMarker=function(r,n,i,s,c){var u=this.$padding,a=s.lineHeight,d=this.$getTop(n.start.row,s),m=u+n.start.column*s.characterWidth;if(c=c||"",this.session.$bidiHandler.isBidiRow(n.start.row)){var x=n.clone();x.end.row=x.start.row,x.end.column=this.session.getLine(x.start.row).length,this.drawBidiSingleLineMarker(r,x,i+" ace_br1 ace_start",s,null,c)}else this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:"+u+"px;top:"+d+"px;left:"+m+"px;"+(c||""));if(this.session.$bidiHandler.isBidiRow(n.end.row)){var x=n.clone();x.start.row=x.end.row,x.start.column=0,this.drawBidiSingleLineMarker(r,x,i+" ace_br12",s,null,c)}else{d=this.$getTop(n.end.row,s);var C=n.end.column*s.characterWidth;this.elt(i+" ace_br12","height:"+a+"px;width:"+C+"px;top:"+d+"px;left:"+u+"px;"+(c||""))}if(a=(n.end.row-n.start.row-1)*s.lineHeight,!(a<=0)){d=this.$getTop(n.start.row+1,s);var w=(n.start.column?1:0)|(n.end.column?0:8);this.elt(i+(w?" ace_br"+w:""),"height:"+a+"px;right:"+u+"px;top:"+d+"px;left:"+u+"px;"+(c||""))}},h.prototype.drawSingleLineMarker=function(r,n,i,s,c,u){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(r,n,i,s,c,u);var a=s.lineHeight,d=(n.end.column+(c||0)-n.start.column)*s.characterWidth,m=this.$getTop(n.start.row,s),x=this.$padding+n.start.column*s.characterWidth;this.elt(i,"height:"+a+"px;width:"+d+"px;top:"+m+"px;left:"+x+"px;"+(u||""))},h.prototype.drawBidiSingleLineMarker=function(r,n,i,s,c,u){var a=s.lineHeight,d=this.$getTop(n.start.row,s),m=this.$padding,x=this.session.$bidiHandler.getSelections(n.start.column,n.end.column);x.forEach(function(C){this.elt(i,"height:"+a+"px;width:"+(C.width+(c||0))+"px;top:"+d+"px;left:"+(m+C.left)+"px;"+(u||""))},this)},h.prototype.drawFullLineMarker=function(r,n,i,s,c){var u=this.$getTop(n.start.row,s),a=s.lineHeight;n.start.row!=n.end.row&&(a+=this.$getTop(n.end.row,s)-u),this.elt(i,"height:"+a+"px;top:"+u+"px;left:0;right:0;"+(c||""))},h.prototype.drawScreenLineMarker=function(r,n,i,s,c){var u=this.$getTop(n.start.row,s),a=s.lineHeight;this.elt(i,"height:"+a+"px;top:"+u+"px;left:0;right:0;"+(c||""))},h})();f.prototype.$padding=0;function o(h,r,n,i){return(h?1:0)|(r?2:0)|(n?4:0)|(i?8:0)}v.Marker=f}),ace.define("ace/layer/text_util",["require","exports","module"],function(g,v,L){var S=new Set(["text","rparen","lparen"]);v.isTextToken=function(y){return S.has(y)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(g,v,L){var S=g("../lib/oop"),y=g("../lib/dom"),f=g("../lib/lang"),o=g("./lines").Lines,h=g("../lib/event_emitter").EventEmitter,r=g("../config").nls,n=g("./text_util").isTextToken,i=(function(){function s(c){this.dom=y,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",c.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return s.prototype.$updateEolChar=function(){var c=this.session.doc,u=c.getNewLineCharacter()==`
`&&c.getNewLineMode()!="windows",a=u?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0},s.prototype.setPadding=function(c){this.$padding=c,this.element.style.margin="0 "+c+"px"},s.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},s.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},s.prototype.$setFontMetrics=function(c){this.$fontMetrics=c,this.$fontMetrics.on("changeCharacterSize",(function(u){this._signal("changeCharacterSize",u)}).bind(this)),this.$pollSizeChanges()},s.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},s.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},s.prototype.setSession=function(c){this.session=c,c&&this.$computeTabString()},s.prototype.setShowInvisibles=function(c){return this.showInvisibles==c?!1:(this.showInvisibles=c,typeof c=="string"?(this.showSpaces=/tab/i.test(c),this.showTabs=/space/i.test(c),this.showEOL=/eol/i.test(c)):this.showSpaces=this.showTabs=this.showEOL=c,this.$computeTabString(),!0)},s.prototype.setDisplayIndentGuides=function(c){return this.displayIndentGuides==c?!1:(this.displayIndentGuides=c,this.$computeTabString(),!0)},s.prototype.setHighlightIndentGuides=function(c){return this.$highlightIndentGuides===c?!1:(this.$highlightIndentGuides=c,c)},s.prototype.$computeTabString=function(){var c=this.session.getTabSize();this.tabSize=c;for(var u=this.$tabStrings=[0],a=1;a<c+1;a++)if(this.showTabs){var d=this.dom.createElement("span");d.className="ace_invisible ace_invisible_tab",d.textContent=f.stringRepeat(this.TAB_CHAR,a),u.push(d)}else u.push(this.dom.createTextNode(f.stringRepeat(" ",a),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var m="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",C=this.showSpaces?f.stringRepeat(this.SPACE_CHAR,this.tabSize):f.stringRepeat(" ",this.tabSize),w=this.showTabs?" ace_invisible ace_invisible_tab":"",_=this.showTabs?f.stringRepeat(this.TAB_CHAR,this.tabSize):C,d=this.dom.createElement("span");d.className=m+x,d.textContent=C,this.$tabStrings[" "]=d;var d=this.dom.createElement("span");d.className=m+w,d.textContent=_,this.$tabStrings["	"]=d}},s.prototype.updateLines=function(c,u,a){if(this.config.lastRow!=c.lastRow||this.config.firstRow!=c.firstRow)return this.update(c);this.config=c;for(var d=Math.max(u,c.firstRow),m=Math.min(a,c.lastRow),x=this.element.childNodes,C=0,_=c.firstRow;_<d;_++){var k=this.session.getFoldLine(_);if(k)if(k.containsRow(d)){d=k.start.row;break}else _=k.end.row;C++}for(var w=!1,_=d,k=this.session.getNextFoldLine(_),A=k?k.start.row:1/0;_>A&&(_=k.end.row+1,k=this.session.getNextFoldLine(_,k),A=k?k.start.row:1/0),!(_>m);){var T=x[C++];if(T){this.dom.removeChildren(T),this.$renderLine(T,_,_==A?k:!1),w&&(T.style.top=this.$lines.computeLineTop(_,c,this.session)+"px");var j=c.lineHeight*this.session.getRowLength(_)+"px";T.style.height!=j&&(w=!0,T.style.height=j)}_++}if(w)for(;C<this.$lines.cells.length;){var F=this.$lines.cells[C++];F.element.style.top=this.$lines.computeLineTop(F.row,c,this.session)+"px"}},s.prototype.scrollLines=function(c){var u=this.config;if(this.config=c,this.$lines.pageChanged(u,c))return this.update(c);this.$lines.moveContainer(c);var a=c.lastRow,d=u?u.lastRow:-1;if(!u||d<c.firstRow)return this.update(c);if(a<u.firstRow)return this.update(c);if(!u||u.lastRow<c.firstRow)return this.update(c);if(c.lastRow<u.firstRow)return this.update(c);if(u.firstRow<c.firstRow)for(var m=this.session.getFoldedRowCount(u.firstRow,c.firstRow-1);m>0;m--)this.$lines.shift();if(u.lastRow>c.lastRow)for(var m=this.session.getFoldedRowCount(c.lastRow+1,u.lastRow);m>0;m--)this.$lines.pop();c.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLinesFragment(c,c.firstRow,u.firstRow-1)),c.lastRow>u.lastRow&&this.$lines.push(this.$renderLinesFragment(c,u.lastRow+1,c.lastRow)),this.$highlightIndentGuide()},s.prototype.$renderLinesFragment=function(c,u,a){for(var d=[],m=u,x=this.session.getNextFoldLine(m),C=x?x.start.row:1/0;m>C&&(m=x.end.row+1,x=this.session.getNextFoldLine(m,x),C=x?x.start.row:1/0),!(m>a);){var w=this.$lines.createCell(m,c,this.session),_=w.element;this.dom.removeChildren(_),y.setStyle(_.style,"height",this.$lines.computeLineHeight(m,c,this.session)+"px"),y.setStyle(_.style,"top",this.$lines.computeLineTop(m,c,this.session)+"px"),this.$renderLine(_,m,m==C?x:!1),this.$useLineGroups()?_.className="ace_line_group":_.className="ace_line",d.push(w),m++}return d},s.prototype.update=function(c){this.$lines.moveContainer(c),this.config=c;for(var u=c.firstRow,a=c.lastRow,d=this.$lines;d.getLength();)d.pop();d.push(this.$renderLinesFragment(c,u,a))},s.prototype.$renderToken=function(c,u,a,d){for(var m=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,C=this.dom.createFragment(this.element),w,_=0;w=x.exec(d);){var k=w[1],A=w[2],T=w[3],j=w[4],F=w[5];if(!(!m.showSpaces&&A)){var $=_!=w.index?d.slice(_,w.index):"";if(_=w.index+w[0].length,$&&C.appendChild(this.dom.createTextNode($,this.element)),k){var D=m.session.getScreenTabSize(u+w.index),M=m.$tabStrings[D].cloneNode(!0);M.charCount=1,C.appendChild(M),u+=D-1}else if(A)if(m.showSpaces){var R=this.dom.createElement("span");R.className="ace_invisible ace_invisible_space",R.textContent=f.stringRepeat(m.SPACE_CHAR,A.length),C.appendChild(R)}else C.appendChild(this.dom.createTextNode(A,this.element));else if(T){var R=this.dom.createElement("span");R.className="ace_invisible ace_invisible_space ace_invalid",R.textContent=f.stringRepeat(m.SPACE_CHAR,T.length),C.appendChild(R)}else if(j){u+=1;var R=this.dom.createElement("span");R.style.width=m.config.characterWidth*2+"px",R.className=m.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",R.textContent=m.showSpaces?m.SPACE_CHAR:j,C.appendChild(R)}else if(F){u+=1;var R=this.dom.createElement("span");R.style.width=m.config.characterWidth*2+"px",R.className="ace_cjk",R.textContent=F,C.appendChild(R)}}}if(C.appendChild(this.dom.createTextNode(_?d.slice(_):d,this.element)),n(a.type))c.appendChild(C);else{var O="ace_"+a.type.replace(/\./g," ace_"),R=this.dom.createElement("span");a.type=="fold"&&(R.style.width=a.value.length*this.config.characterWidth+"px",R.setAttribute("title",r("inline-fold.closed.title","Unfold code"))),R.className=O,R.appendChild(C),c.appendChild(R)}return u+d.length},s.prototype.renderIndentGuide=function(c,u,a){var d=u.search(this.$indentGuideRe);if(d<=0||d>=a)return u;if(u[0]==" "){d-=d%this.tabSize;for(var m=d/this.tabSize,x=0;x<m;x++)c.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(d)}else if(u[0]=="	"){for(var x=0;x<d;x++)c.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),u.substr(d)}return this.$highlightIndentGuide(),u},s.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var c=this.session.doc.$lines;if(c){var u=this.session.selection.getCursor(),a=/^\s*/.exec(this.session.doc.getLine(u.row))[0].length,d=Math.floor(a/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:d,start:u.row};var m=this.session.$bracketHighlight;if(m){for(var x=this.session.$bracketHighlight.ranges,C=0;C<x.length;C++)if(u.row!==x[C].start.row){this.$highlightIndentGuideMarker.end=x[C].start.row+1,u.row>x[C].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&c[u.row]!==""&&u.column===c[u.row].length){this.$highlightIndentGuideMarker.dir=1;for(var C=u.row+1;C<c.length;C++){var w=c[C],_=/^\s*/.exec(w)[0].length;if(w!==""&&(this.$highlightIndentGuideMarker.end=C,_<=a))break}}this.$renderHighlightIndentGuide()}}},s.prototype.$clearActiveIndentGuide=function(){for(var c=this.element.querySelectorAll(".ace_indent-guide-active"),u=0;u<c.length;u++)c[u].classList.remove("ace_indent-guide-active")},s.prototype.$setIndentGuideActive=function(c,u){var a=this.session.doc.getLine(c.row);if(a!==""){var d=c.element;if(c.element.classList&&c.element.classList.contains("ace_line_group"))if(c.element.childNodes.length>0)d=c.element.childNodes[0];else return;var m=d.childNodes;if(m){var x=m[u-1];x&&x.classList&&x.classList.contains("ace_indent-guide")&&x.classList.add("ace_indent-guide-active")}}},s.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var c=this.$lines.cells;this.$clearActiveIndentGuide();var u=this.$highlightIndentGuideMarker.indentLevel;if(u!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var a=0;a<c.length;a++){var d=c[a];if(this.$highlightIndentGuideMarker.end&&d.row>=this.$highlightIndentGuideMarker.start+1){if(d.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,u)}}else for(var a=c.length-1;a>=0;a--){var d=c[a];if(this.$highlightIndentGuideMarker.end&&d.row<this.$highlightIndentGuideMarker.start){if(d.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,u)}}}},s.prototype.$createLineElement=function(c){var u=this.dom.createElement("div");return u.className="ace_line",u.style.height=this.config.lineHeight+"px",u},s.prototype.$renderWrappedLine=function(c,u,a){var d=0,m=0,x=a[0],C=0,w=this.$createLineElement();c.appendChild(w);for(var _=0;_<u.length;_++){var k=u[_],A=k.value;if(_==0&&this.displayIndentGuides){if(d=A.length,A=this.renderIndentGuide(w,A,x),!A)continue;d-=A.length}if(d+A.length<x)C=this.$renderToken(w,C,k,A),d+=A.length;else{for(;d+A.length>=x;){C=this.$renderToken(w,C,k,A.substring(0,x-d)),A=A.substring(x-d),d=x,w=this.$createLineElement(),c.appendChild(w);var T=this.dom.createTextNode(f.stringRepeat("",a.indent),this.element);T.charCount=0,w.appendChild(T),m++,C=0,x=a[m]||Number.MAX_VALUE}A.length!=0&&(d+=A.length,C=this.$renderToken(w,C,k,A))}}a[a.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(w,C,null,"",!0)},s.prototype.$renderSimpleLine=function(c,u){for(var a=0,d=0;d<u.length;d++){var m=u[d],x=m.value;if(!(d==0&&this.displayIndentGuides&&(x=this.renderIndentGuide(c,x),!x))){if(a+x.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(c,a,m,x);a=this.$renderToken(c,a,m,x)}}},s.prototype.$renderOverflowMessage=function(c,u,a,d,m){a&&this.$renderToken(c,u,a,d.slice(0,this.MAX_LINE_LENGTH-u));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=m?"<hide>":"<click to see more...>",c.appendChild(x)},s.prototype.$renderLine=function(c,u,a){if(!a&&a!=!1&&(a=this.session.getFoldLine(u)),a)var d=this.$getFoldLineTokens(u,a);else var d=this.session.getTokens(u);var m=c;if(d.length){var x=this.session.getRowSplitData(u);if(x&&x.length){this.$renderWrappedLine(c,d,x);var m=c.lastChild}else{var m=c;this.$useLineGroups()&&(m=this.$createLineElement(),c.appendChild(m)),this.$renderSimpleLine(m,d)}}else this.$useLineGroups()&&(m=this.$createLineElement(),c.appendChild(m));if(this.showEOL&&m){a&&(u=a.end.row);var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_eol",C.textContent=u==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,m.appendChild(C)}},s.prototype.$getFoldLineTokens=function(c,u){var a=this.session,d=[];function m(C,w,_){for(var k=0,A=0;A+C[k].value.length<w;)if(A+=C[k].value.length,k++,k==C.length)return;if(A!=w){var T=C[k].value.substring(w-A);T.length>_-w&&(T=T.substring(0,_-w)),d.push({type:C[k].type,value:T}),A=w+T.length,k+=1}for(;A<_&&k<C.length;){var T=C[k].value;T.length+A>_?d.push({type:C[k].type,value:T.substring(0,_-A)}):d.push(C[k]),A+=T.length,k+=1}}var x=a.getTokens(c);return u.walk(function(C,w,_,k,A){C!=null?d.push({type:"fold",value:C}):(A&&(x=a.getTokens(w)),x.length&&m(x,k,_))},u.end.row,this.session.getLine(u.end.row).length),d},s.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},s})();i.prototype.EOF_CHAR="",i.prototype.EOL_CHAR_LF="",i.prototype.EOL_CHAR_CRLF="",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="",i.prototype.SPACE_CHAR="",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,S.implement(i.prototype,h),v.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(g,v,L){var S=g("../lib/dom"),y=(function(){function f(o){this.element=S.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),S.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return f.prototype.$updateOpacity=function(o){for(var h=this.cursors,r=h.length;r--;)S.setStyle(h[r].style,"opacity",o?"":"0")},f.prototype.$startCssAnimation=function(){for(var o=this.cursors,h=o.length;h--;)o[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&S.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},f.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,S.removeCssClass(this.element,"ace_animate-blinking")},f.prototype.setPadding=function(o){this.$padding=o},f.prototype.setSession=function(o){this.session=o},f.prototype.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},f.prototype.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},f.prototype.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,S.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},f.prototype.addCursor=function(){var o=S.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},f.prototype.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},f.prototype.hideCursor=function(){this.isVisible=!1,S.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.showCursor=function(){this.isVisible=!0,S.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},f.prototype.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,S.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&S.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),S.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=(function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){o(!0),h()},this.blinkInterval),h()}},f.prototype.getPixelPosition=function(o,h){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var r=this.session.documentToScreenPosition(o),n=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,o.row)?this.session.$bidiHandler.getPosLeft(r.column):r.column*this.config.characterWidth),i=(r.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:i}},f.prototype.isCursorInView=function(o,h){return o.top>=0&&o.top<h.maxHeight},f.prototype.update=function(o){this.config=o;var h=this.session.$selectionMarkers,r=0,n=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var r=0,i=h.length;r<i;r++){var s=this.getPixelPosition(h[r].cursor,!0);if(!((s.top>o.height+o.offset||s.top<0)&&r>1)){var c=this.cursors[n++]||this.addCursor(),u=c.style;this.drawCursor?this.drawCursor(c,s,o,h[r],this.session):this.isCursorInView(s,o)?(S.setStyle(u,"display","block"),S.translate(c,s.left,s.top),S.setStyle(u,"width",Math.round(o.characterWidth)+"px"),S.setStyle(u,"height",o.lineHeight+"px")):S.setStyle(u,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},f.prototype.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?S.addCssClass(this.element,"ace_overwrite-cursors"):S.removeCssClass(this.element,"ace_overwrite-cursors"))},f.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},f})();y.prototype.$padding=0,y.prototype.drawCursor=null,v.Cursor=y}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(g,v,L){var S=this&&this.__extends||(function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},c(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(u,a);function d(){this.constructor=u}u.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}})(),y=g("./lib/oop"),f=g("./lib/dom"),o=g("./lib/event"),h=g("./lib/event_emitter").EventEmitter,r=32768,n=(function(){function c(u,a){this.element=f.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+a,this.inner=f.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),u.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return c.prototype.setVisible=function(u){this.element.style.display=u?"":"none",this.isVisible=u,this.coeff=1},c})();y.implement(n.prototype,h);var i=(function(c){S(u,c);function u(a,d){var m=c.call(this,a,"-v")||this;return m.scrollTop=0,m.scrollHeight=0,d.$scrollbarWidth=m.width=f.scrollbarWidth(a.ownerDocument),m.inner.style.width=m.element.style.width=(m.width||15)+5+"px",m.$minWidth=0,m}return u.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},u.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},u.prototype.setHeight=function(a){this.element.style.height=a+"px"},u.prototype.setScrollHeight=function(a){this.scrollHeight=a,a>r?(this.coeff=r/a,a=r):this.coeff!=1&&(this.coeff=1),this.inner.style.height=a+"px"},u.prototype.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)},u})(n);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var s=(function(c){S(u,c);function u(a,d){var m=c.call(this,a,"-h")||this;return m.scrollLeft=0,m.height=d.$scrollbarWidth,m.inner.style.height=m.element.style.height=(m.height||15)+5+"px",m}return u.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},u.prototype.getHeight=function(){return this.isVisible?this.height:0},u.prototype.setWidth=function(a){this.element.style.width=a+"px"},u.prototype.setInnerWidth=function(a){this.inner.style.width=a+"px"},u.prototype.setScrollWidth=function(a){this.inner.style.width=a+"px"},u.prototype.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)},u})(n);v.ScrollBar=i,v.ScrollBarV=i,v.ScrollBarH=s,v.VScrollBar=i,v.HScrollBar=s}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(g,v,L){var S=this&&this.__extends||(function(){var s=function(c,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])},s(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}})(),y=g("./lib/oop"),f=g("./lib/dom"),o=g("./lib/event"),h=g("./lib/event_emitter").EventEmitter;f.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var r=(function(){function s(c,u){this.element=f.createElement("div"),this.element.className="ace_sb"+u,this.inner=f.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,c.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return s.prototype.setVisible=function(c){this.element.style.display=c?"":"none",this.isVisible=c,this.coeff=1},s})();y.implement(r.prototype,h);var n=(function(s){S(c,s);function c(u,a){var d=s.call(this,u,"-v")||this;return d.scrollTop=0,d.scrollHeight=0,d.parent=u,d.width=d.VScrollWidth,d.renderer=a,d.inner.style.width=d.element.style.width=(d.width||15)+"px",d.$minWidth=0,d}return c.prototype.onMouseDown=function(u,a){if(u==="mousedown"&&!(o.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var d=this,m=a.clientY,x=function(j){m=j.clientY},C=function(){clearInterval(A)},w=a.clientY,_=this.thumbTop,k=function(){if(m!==void 0){var j=d.scrollTopFromThumbTop(_+m-w);j!==d.scrollTop&&d._emit("scroll",{data:j})}};o.capture(this.inner,x,C);var A=setInterval(k,20);return o.preventDefault(a)}var T=a.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),o.preventDefault(a)}},c.prototype.getHeight=function(){return this.height},c.prototype.scrollTopFromThumbTop=function(u){var a=u*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return a=a>>0,a<0?a=0:a>this.pageHeight-this.viewHeight&&(a=this.pageHeight-this.viewHeight),a},c.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},c.prototype.setHeight=function(u){this.height=Math.max(0,u),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},c.prototype.setScrollHeight=function(u,a){this.pageHeight===u&&!a||(this.pageHeight=u,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},c.prototype.setScrollTop=function(u){this.scrollTop=u,u<0&&(u=0),this.thumbTop=u*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},c})(r);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var i=(function(s){S(c,s);function c(u,a){var d=s.call(this,u,"-h")||this;return d.scrollLeft=0,d.scrollWidth=0,d.height=d.HScrollHeight,d.inner.style.height=d.element.style.height=(d.height||12)+"px",d.renderer=a,d}return c.prototype.onMouseDown=function(u,a){if(u==="mousedown"&&!(o.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var d=this,m=a.clientX,x=function(j){m=j.clientX},C=function(){clearInterval(A)},w=a.clientX,_=this.thumbLeft,k=function(){if(m!==void 0){var j=d.scrollLeftFromThumbLeft(_+m-w);j!==d.scrollLeft&&d._emit("scroll",{data:j})}};o.capture(this.inner,x,C);var A=setInterval(k,20);return o.preventDefault(a)}var T=a.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),o.preventDefault(a)}},c.prototype.getHeight=function(){return this.isVisible?this.height:0},c.prototype.scrollLeftFromThumbLeft=function(u){var a=u*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return a=a>>0,a<0?a=0:a>this.pageWidth-this.viewWidth&&(a=this.pageWidth-this.viewWidth),a},c.prototype.setWidth=function(u){this.width=Math.max(0,u),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},c.prototype.setScrollWidth=function(u,a){this.pageWidth===u&&!a||(this.pageWidth=u,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},c.prototype.setScrollLeft=function(u){this.scrollLeft=u,u<0&&(u=0),this.thumbLeft=u*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},c})(r);i.prototype.setInnerWidth=i.prototype.setScrollWidth,v.ScrollBar=n,v.ScrollBarV=n,v.ScrollBarH=i,v.VScrollBar=n,v.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(g,v,L){var S=g("./lib/event"),y=(function(){function f(o,h){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var r=this;this._flush=function(n){r.pending=!1;var i=r.changes;if(i&&(S.blockIdle(100),r.changes=0,r.onRender(i)),r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}return f.prototype.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(S.nextFrame(this._flush),this.pending=!0)},f.prototype.clear=function(o){var h=this.changes;return this.changes=0,h},f})();v.RenderLoop=y}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(g,v,L){var S=g("../lib/oop"),y=g("../lib/dom"),f=g("../lib/lang"),o=g("../lib/event"),h=g("../lib/useragent"),r=g("../lib/event_emitter").EventEmitter,n=512,i=typeof ResizeObserver=="function",s=200,c=(function(){function u(a){this.el=y.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=y.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=y.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=f.stringRepeat("X",n),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return u.prototype.$setMeasureNodeStyles=function(a,d){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",h.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=d?"hidden":"visible"},u.prototype.checkForSizeChanges=function(a){if(a===void 0&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var d=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=d&&d.width===a.width&&d.height===a.height,this._emit("changeCharacterSize",{data:a})}},u.prototype.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(d){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},u.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=o.onIdle(function d(){a.checkForSizeChanges(),o.onIdle(d,500)},500)},u.prototype.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},u.prototype.$measureSizes=function(a){var d={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/n};return d.width===0||d.height===0?null:d},u.prototype.$measureCharWidth=function(a){this.$main.textContent=f.stringRepeat(a,n);var d=this.$main.getBoundingClientRect();return d.width/n},u.prototype.getCharacterWidth=function(a){var d=this.charSizes[a];return d===void 0&&(d=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),d},u.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},u.prototype.$getZoom=function(a){return!a||!a.parentElement?1:(Number(window.getComputedStyle(a).zoom)||1)*this.$getZoom(a.parentElement)},u.prototype.$initTransformMeasureNodes=function(){var a=function(d,m){return["div",{style:"position: absolute;top:"+d+"px;left:"+m+"px;"}]};this.els=y.buildDom([a(0,0),a(s,0),a(0,s),a(s,s)],this.el)},u.prototype.transformCoordinates=function(a,d){if(a){var m=this.$getZoom(this.el);a=_(1/m,a)}function x(U,W,K){var Y=U[1]*W[0]-U[0]*W[1];return[(-W[1]*K[0]+W[0]*K[1])/Y,(+U[1]*K[0]-U[0]*K[1])/Y]}function C(U,W){return[U[0]-W[0],U[1]-W[1]]}function w(U,W){return[U[0]+W[0],U[1]+W[1]]}function _(U,W){return[U*W[0],U*W[1]]}this.els||this.$initTransformMeasureNodes();function k(U){var W=U.getBoundingClientRect();return[W.left,W.top]}var A=k(this.els[0]),T=k(this.els[1]),j=k(this.els[2]),F=k(this.els[3]),$=x(C(F,T),C(F,j),C(w(T,j),w(F,A))),D=_(1+$[0],C(T,A)),M=_(1+$[1],C(j,A));if(d){var R=d,O=$[0]*R[0]/s+$[1]*R[1]/s+1,z=w(_(R[0],D),_(R[1],M));return w(_(1/O/s,z),A)}var B=C(a,A),P=x(C(D,_($[0],B)),C(M,_($[1],B)),B);return _(s,P)},u})();c.prototype.$characterSize={width:0,height:0},S.implement(c.prototype,r),v.FontMetrics=c}),ace.define("ace/css/editor-css",["require","exports","module"],function(g,v,L){L.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(g,v,L){var S=g("../lib/dom"),y=g("../lib/oop"),f=g("../lib/event_emitter").EventEmitter,o=(function(){function h(r,n){this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(r)}return h.prototype.$createCanvas=function(){this.canvas=S.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},h.prototype.setScrollBarV=function(r){this.$createCanvas(),this.scrollbarV=r,r.element.appendChild(this.canvas),this.setDimensions()},h.prototype.$updateDecorators=function(r){if(typeof this.canvas.getContext!="function")return;var n=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(r);var i=this.canvas.getContext("2d");function s(D,M){return D.priority<M.priority?-1:D.priority>M.priority?1:0}var c=this.renderer.session.$annotations;if(i.clearRect(0,0,this.canvas.width,this.canvas.height),c){var u={info:1,warning:2,error:3};c.forEach(function(D){D.priority=u[D.type]||null}),c=c.sort(s);for(var a=0;a<c.length;a++){var d=c[a].row,m=this.getVerticalOffsetForRow(d),x=m+this.lineHeight,C=Math.round(this.heightRatio*m),w=Math.round(this.heightRatio*x),_=Math.round((C+w)/2),k=w-_;k<this.halfMinDecorationHeight&&(k=this.halfMinDecorationHeight),_-k<0&&(_=k),_+k>this.canvasHeight&&(_=this.canvasHeight-k);var A=_-k,T=_+k,j=T-A;i.fillStyle=n[c[a].type]||null,i.fillRect(0,A,Math.round(this.oneZoneWidth-1),j)}}var F=this.renderer.session.selection.getCursor();if(F){var $=Math.round(this.getVerticalOffsetForRow(F.row)*this.heightRatio);i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,$,this.canvasWidth,2)}},h.prototype.getVerticalOffsetForRow=function(r){r=r|0;var n=this.renderer.session.documentToScreenRow(r,0)*this.lineHeight;return n},h.prototype.setDimensions=function(r){r=r||this.renderer.layerConfig,this.maxHeight=r.maxHeight,this.lineHeight=r.lineHeight,this.canvasHeight=r.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},h.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},h.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},h})();y.implement(o.prototype,f),v.Decorator=o}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(g,v,L){var S=g("./lib/oop"),y=g("./lib/dom"),f=g("./lib/lang"),o=g("./config"),h=g("./layer/gutter").Gutter,r=g("./layer/marker").Marker,n=g("./layer/text").Text,i=g("./layer/cursor").Cursor,s=g("./scrollbar").HScrollBar,c=g("./scrollbar").VScrollBar,u=g("./scrollbar_custom").HScrollBar,a=g("./scrollbar_custom").VScrollBar,d=g("./renderloop").RenderLoop,m=g("./layer/font_metrics").FontMetrics,x=g("./lib/event_emitter").EventEmitter,C=g("./css/editor-css"),w=g("./layer/decorators").Decorator,_=g("./lib/useragent"),k=g("./layer/text_util").isTextToken;y.importCssString(C,"ace_editor.css",!1);var A=(function(){function T(j,F){var $=this;this.container=j||y.createElement("div"),y.addCssClass(this.container,"ace_editor"),y.HI_DPI&&y.addCssClass(this.container,"ace_hidpi"),this.setTheme(F),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=y.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=y.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=y.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new r(this.content);var D=this.$textLayer=new n(this.content);this.canvas=D.element,this.$markerFront=new r(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new s(this.container,this),this.scrollBarV.on("scroll",function(M){$.$scrollAnimation||$.session.setScrollTop(M.data-$.scrollMargin.top)}),this.scrollBarH.on("scroll",function(M){$.$scrollAnimation||$.session.setScrollLeft(M.data-$.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(M){$.updateCharacterSize(),$.onResize(!0,$.gutterWidth,$.$size.width,$.$size.height),$._signal("changeCharacterSize",M)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),y.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(j){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=j,j&&this.scrollMargin.top&&j.getScrollTop()<=0&&j.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(j),this.$markerBack.setSession(j),this.$markerFront.setSession(j),this.$gutterLayer.setSession(j),this.$textLayer.setSession(j),j&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(j,F,$){if(F===void 0&&(F=1/0),this.$changedLines?(this.$changedLines.firstRow>j&&(this.$changedLines.firstRow=j),this.$changedLines.lastRow<F&&(this.$changedLines.lastRow=F)):this.$changedLines={firstRow:j,lastRow:F},this.$changedLines.lastRow<this.layerConfig.firstRow)if($)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(j){j?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(j,F,$,D){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=j?1:0;var M=this.container;D||(D=M.clientHeight||M.scrollHeight),!D&&this.$maxLines&&this.lineHeight>1&&(!M.style.height||M.style.height=="0px")&&(M.style.height="1px",D=M.clientHeight||M.scrollHeight),$||($=M.clientWidth||M.scrollWidth);var R=this.$updateCachedSize(j,F,$,D);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!$&&!D)return this.resizing=0;j&&(this.$gutterLayer.$padding=null),j?this.$renderChanges(R|this.$changes,!0):this.$loop.schedule(R|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(j,F,$,D){D-=this.$extraHeight||0;var M=0,R=this.$size,O={width:R.width,height:R.height,scrollerHeight:R.scrollerHeight,scrollerWidth:R.scrollerWidth};if(D&&(j||R.height!=D)&&(R.height=D,M|=this.CHANGE_SIZE,R.scrollerHeight=R.height,this.$horizScroll&&(R.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(R.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",M=M|this.CHANGE_SCROLL),$&&(j||R.width!=$)){M|=this.CHANGE_SIZE,R.width=$,F==null&&(F=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=F,y.setStyle(this.scrollBarH.element.style,"left",F+"px"),y.setStyle(this.scroller.style,"left",F+this.margin.left+"px"),R.scrollerWidth=Math.max(0,$-F-this.scrollBarV.getWidth()-this.margin.h),y.setStyle(this.$gutter.style,"left",this.margin.left+"px");var z=this.scrollBarV.getWidth()+"px";y.setStyle(this.scrollBarH.element.style,"right",z),y.setStyle(this.scroller.style,"right",z),y.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(R.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||j)&&(M|=this.CHANGE_FULL)}return R.$dirty=!$||!D,M&&this._signal("resize",O),M},T.prototype.onGutterResize=function(j){var F=this.$showGutter?j:0;F!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,F,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var j=this.$size.scrollerWidth-this.$padding*2,F=Math.floor(j/this.characterWidth);return this.session.adjustWrapLimit(F,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(j){this.setOption("animatedScroll",j)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(j){this.setOption("showInvisibles",j),this.session.$bidiHandler.setShowInvisibles(j)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(j){this.setOption("displayIndentGuides",j)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(j){this.setOption("highlightIndentGuides",j)},T.prototype.setShowPrintMargin=function(j){this.setOption("showPrintMargin",j)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(j){this.setOption("printMarginColumn",j)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(j){return this.setOption("showGutter",j)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(j){this.setOption("fadeFoldWidgets",j)},T.prototype.setHighlightGutterLine=function(j){this.setOption("highlightGutterLine",j)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var j=y.createElement("div");j.className="ace_layer ace_print-margin-layer",this.$printMarginEl=y.createElement("div"),this.$printMarginEl.className="ace_print-margin",j.appendChild(this.$printMarginEl),this.content.insertBefore(j,this.content.firstChild)}var F=this.$printMarginEl.style;F.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",F.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var j=this.textarea.style,F=this.$composition;if(!this.$keepTextAreaAtCursor&&!F){y.translate(this.textarea,-100,0);return}var $=this.$cursorLayer.$pixelPos;if($){F&&F.markerRange&&($=this.$cursorLayer.getPixelPosition(F.markerRange.start,!0));var D=this.layerConfig,M=$.top,R=$.left;M-=D.offset;var O=F&&F.useTextareaForIME||_.isMobile?this.lineHeight:1;if(M<0||M>D.height-O){y.translate(this.textarea,0,0);return}var z=1,B=this.$size.height-O;if(!F)M+=this.lineHeight;else if(F.useTextareaForIME){var P=this.textarea.value;z=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else M+=this.lineHeight+2;R-=this.scrollLeft,R>this.$size.scrollerWidth-z&&(R=this.$size.scrollerWidth-z),R+=this.gutterWidth+this.margin.left,y.setStyle(j,"height",O+"px"),y.setStyle(j,"width",z+"px"),y.translate(this.textarea,Math.min(R,this.$size.scrollerWidth-z),Math.min(M,B))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var j=this.layerConfig,F=j.lastRow,$=this.session.documentToScreenRow(F,0)*j.lineHeight;return $-this.session.getScrollTop()>j.height-j.lineHeight?F-1:F},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(j){this.$padding=j,this.$textLayer.setPadding(j),this.$cursorLayer.setPadding(j),this.$markerFront.setPadding(j),this.$markerBack.setPadding(j),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(j,F,$,D){var M=this.scrollMargin;M.top=j|0,M.bottom=F|0,M.right=D|0,M.left=$|0,M.v=M.top+M.bottom,M.h=M.left+M.right,M.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-M.top),this.updateFull()},T.prototype.setMargin=function(j,F,$,D){var M=this.margin;M.top=j|0,M.bottom=F|0,M.right=D|0,M.left=$|0,M.v=M.top+M.bottom,M.h=M.left+M.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(j){this.setOption("hScrollBarAlwaysVisible",j)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(j){this.setOption("vScrollBarAlwaysVisible",j)},T.prototype.$updateScrollBarV=function(){var j=this.layerConfig.maxHeight,F=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(j-=(F-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>j-F&&(j=this.scrollTop+F,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(j+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(j,F){if(this.$changes&&(j|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!j&&!F){this.$changes|=j;return}if(this.$size.$dirty)return this.$changes|=j,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",j),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var $=this.layerConfig;if(j&this.CHANGE_FULL||j&this.CHANGE_SIZE||j&this.CHANGE_TEXT||j&this.CHANGE_LINES||j&this.CHANGE_SCROLL||j&this.CHANGE_H_SCROLL){if(j|=this.$computeLayerConfig()|this.$loop.clear(),$.firstRow!=this.layerConfig.firstRow&&$.firstRowScreen==this.layerConfig.firstRowScreen){var D=this.scrollTop+($.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;D>0&&(this.scrollTop=D,j=j|this.CHANGE_SCROLL,j|=this.$computeLayerConfig()|this.$loop.clear())}$=this.layerConfig,this.$updateScrollBarV(),j&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),y.translate(this.content,-this.scrollLeft,-$.offset);var M=$.width+2*this.$padding+"px",R=$.minHeight+"px";y.setStyle(this.content.style,"width",M),y.setStyle(this.content.style,"height",R)}if(j&this.CHANGE_H_SCROLL&&(y.translate(this.content,-this.scrollLeft,-$.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),j&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}if(j&this.CHANGE_SCROLL){this.$changedLines=null,j&this.CHANGE_TEXT||j&this.CHANGE_LINES?this.$textLayer.update($):this.$textLayer.scrollLines($),this.$showGutter&&(j&this.CHANGE_GUTTER||j&this.CHANGE_LINES?this.$gutterLayer.update($):this.$gutterLayer.scrollLines($)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",j);return}j&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_LINES?((this.$updateLines()||j&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_TEXT||j&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):j&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)),j&this.CHANGE_CURSOR&&(this.$cursorLayer.update($),this.$moveTextAreaToCursor()),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update($),j&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update($),this._signal("afterRender",j)},T.prototype.$autosize=function(){var j=this.session.getScreenLength()*this.lineHeight,F=this.$maxLines*this.lineHeight,$=Math.min(F,Math.max((this.$minLines||1)*this.lineHeight,j))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&($+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&$>this.$maxPixelHeight&&($=this.$maxPixelHeight);var D=$<=2*this.lineHeight,M=!D&&j>F;if($!=this.desiredHeight||this.$size.height!=this.desiredHeight||M!=this.$vScroll){M!=this.$vScroll&&(this.$vScroll=M,this.scrollBarV.setVisible(M));var R=this.container.clientWidth;this.container.style.height=$+"px",this.$updateCachedSize(!0,this.$gutterWidth,R,$),this.desiredHeight=$,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var j=this.session,F=this.$size,$=F.height<=2*this.lineHeight,D=this.session.getScreenLength(),M=D*this.lineHeight,R=this.$getLongestLine(),O=!$&&(this.$hScrollBarAlwaysVisible||F.scrollerWidth-R-2*this.$padding<0),z=this.$horizScroll!==O;z&&(this.$horizScroll=O,this.scrollBarH.setVisible(O));var B=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),$=F.height<=2*this.lineHeight);var P=F.scrollerHeight+this.lineHeight,U=!this.$maxLines&&this.$scrollPastEnd?(F.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;M+=U;var W=this.scrollMargin;this.session.setScrollTop(Math.max(-W.top,Math.min(this.scrollTop,M-F.scrollerHeight+W.bottom))),this.session.setScrollLeft(Math.max(-W.left,Math.min(this.scrollLeft,R+2*this.$padding-F.scrollerWidth+W.right)));var K=!$&&(this.$vScrollBarAlwaysVisible||F.scrollerHeight-M+U<0||this.scrollTop>W.top),Y=B!==K;Y&&(this.$vScroll=K,this.scrollBarV.setVisible(K));var X=this.scrollTop%this.lineHeight,q=Math.ceil(P/this.lineHeight)-1,J=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),V=J+q,Q,ne,ie=this.lineHeight;J=j.screenToDocumentRow(J,0);var me=j.getFoldLine(J);me&&(J=me.start.row),Q=j.documentToScreenRow(J,0),ne=j.getRowLength(J)*ie,V=Math.min(j.screenToDocumentRow(V,0),j.getLength()-1),P=F.scrollerHeight+j.getRowLength(V)*ie+ne,X=this.scrollTop-Q*ie,X<0&&Q>0&&(Q=Math.max(0,Q+Math.floor(X/ie)),X=this.scrollTop-Q*ie);var pe=0;return(this.layerConfig.width!=R||z)&&(pe=this.CHANGE_H_SCROLL),(z||Y)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,F.width,F.height),this._signal("scrollbarVisibilityChanged"),Y&&(R=this.$getLongestLine())),this.layerConfig={width:R,padding:this.$padding,firstRow:J,firstRowScreen:Q,lastRow:V,lineHeight:ie,characterWidth:this.characterWidth,minHeight:P,maxHeight:M,offset:X,gutterOffset:ie?Math.max(0,Math.ceil((X+F.height-F.scrollerHeight)/ie)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(R-this.$padding),pe},T.prototype.$updateLines=function(){if(this.$changedLines){var j=this.$changedLines.firstRow,F=this.$changedLines.lastRow;this.$changedLines=null;var $=this.layerConfig;if(!(j>$.lastRow+1)&&!(F<$.firstRow)){if(F===1/0){this.$showGutter&&this.$gutterLayer.update($),this.$textLayer.update($);return}return this.$textLayer.updateLines($,j,F),!0}}},T.prototype.$getLongestLine=function(){var j=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(j+=1),this.$textLayer&&j>this.$textLayer.MAX_LINE_LENGTH&&(j=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(j*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(j,F){this.$gutterLayer.addGutterDecoration(j,F)},T.prototype.removeGutterDecoration=function(j,F){this.$gutterLayer.removeGutterDecoration(j,F)},T.prototype.updateBreakpoints=function(j){this._rows=j,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(j){this.$gutterLayer.setAnnotations(j),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(j,F,$){this.scrollCursorIntoView(j,$),this.scrollCursorIntoView(F,$)},T.prototype.scrollCursorIntoView=function(j,F,$){if(this.$size.scrollerHeight!==0){var D=this.$cursorLayer.getPixelPosition(j),M=D.left,R=D.top,O=$&&$.top||0,z=$&&$.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var B=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;B+O>R?(F&&B+O>R+this.lineHeight&&(R-=F*this.$size.scrollerHeight),R===0&&(R=-this.scrollMargin.top),this.session.setScrollTop(R)):B+this.$size.scrollerHeight-z<R+this.lineHeight&&(F&&B+this.$size.scrollerHeight-z<R-this.lineHeight&&(R+=F*this.$size.scrollerHeight),this.session.setScrollTop(R+this.lineHeight+z-this.$size.scrollerHeight));var P=this.scrollLeft,U=2*this.layerConfig.characterWidth;M-U<P?(M-=U,M<this.$padding+U&&(M=-this.scrollMargin.left),this.session.setScrollLeft(M)):(M+=U,P+this.$size.scrollerWidth<M+this.characterWidth?this.session.setScrollLeft(Math.round(M+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&M-P<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(j){this.session.setScrollTop(j*this.lineHeight)},T.prototype.alignCursor=function(j,F){typeof j=="number"&&(j={row:j,column:0});var $=this.$cursorLayer.getPixelPosition(j),D=this.$size.scrollerHeight-this.lineHeight,M=$.top-D*(F||0);return this.session.setScrollTop(M),M},T.prototype.$calcSteps=function(j,F){var $=0,D=this.STEPS,M=[],R=function(O,z,B){return B*(Math.pow(O-1,3)+1)+z};for($=0;$<D;++$)M.push(R($/this.STEPS,j,F-j));return M},T.prototype.scrollToLine=function(j,F,$,D){var M=this.$cursorLayer.getPixelPosition({row:j,column:0}),R=M.top;F&&(R-=this.$size.scrollerHeight/2);var O=this.scrollTop;this.session.setScrollTop(R),$!==!1&&this.animateScrolling(O,D)},T.prototype.animateScrolling=function(j,F){var $=this.scrollTop;if(!this.$animatedScroll)return;var D=this;if(j==$)return;if(this.$scrollAnimation){var M=this.$scrollAnimation.steps;if(M.length&&(j=M[0],j==$))return}var R=D.$calcSteps(j,$);this.$scrollAnimation={from:j,to:$,steps:R},clearInterval(this.$timer),D.session.setScrollTop(R.shift()),D.session.$scrollTop=$;function O(){D.$timer=clearInterval(D.$timer),D.$scrollAnimation=null,D.$stopAnimation=!1,F&&F()}this.$timer=setInterval(function(){if(D.$stopAnimation){O();return}if(!D.session)return clearInterval(D.$timer);R.length?(D.session.setScrollTop(R.shift()),D.session.$scrollTop=$):$!=null?(D.session.$scrollTop=-1,D.session.setScrollTop($),$=null):O()},10)},T.prototype.scrollToY=function(j){this.scrollTop!==j&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=j)},T.prototype.scrollToX=function(j){this.scrollLeft!==j&&(this.scrollLeft=j),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(j,F){this.session.setScrollTop(F),this.session.setScrollLeft(j)},T.prototype.scrollBy=function(j,F){F&&this.session.setScrollTop(this.session.getScrollTop()+F),j&&this.session.setScrollLeft(this.session.getScrollLeft()+j)},T.prototype.isScrollableBy=function(j,F){if(F<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||F>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||j<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||j>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(j,F){var $;if(this.$hasCssTransforms){$={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([j,F]);j=D[1]-this.gutterWidth-this.margin.left,F=D[0]}else $=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-$.left-this.$padding,R=M/this.characterWidth,O=Math.floor((F+this.scrollTop-$.top)/this.lineHeight),z=this.$blockCursor?Math.floor(R):Math.round(R);return{row:O,column:z,side:R-z>0?1:-1,offsetX:M}},T.prototype.screenToTextCoordinates=function(j,F){var $;if(this.$hasCssTransforms){$={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([j,F]);j=D[1]-this.gutterWidth-this.margin.left,F=D[0]}else $=this.scroller.getBoundingClientRect();var M=j+this.scrollLeft-$.left-this.$padding,R=M/this.characterWidth,O=this.$blockCursor?Math.floor(R):Math.round(R),z=Math.floor((F+this.scrollTop-$.top)/this.lineHeight);return this.session.screenToDocumentPosition(z,Math.max(O,0),M)},T.prototype.textToScreenCoordinates=function(j,F){var $=this.scroller.getBoundingClientRect(),D=this.session.documentToScreenPosition(j,F),M=this.$padding+(this.session.$bidiHandler.isBidiRow(D.row,j)?this.session.$bidiHandler.getPosLeft(D.column):Math.round(D.column*this.characterWidth)),R=D.row*this.lineHeight;return{pageX:$.left+M-this.scrollLeft,pageY:$.top+R-this.scrollTop}},T.prototype.visualizeFocus=function(){y.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){y.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(j){this.$composition=j,j.cssText||(j.cssText=this.textarea.style.cssText),j.useTextareaForIME==null&&(j.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(y.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):j.markerId=this.session.addMarker(j.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(j){var F=this.session.selection.cursor;this.addToken(j,"composition_placeholder",F.row,F.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),y.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var j=this.session.selection.cursor;this.removeExtraToken(j.row,j.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(j,F){var $=this.session.selection.cursor,D=F||{row:$.row,column:$.column};this.removeGhostText();var M=this.$calculateWrappedTextChunks(j,D);this.addToken(M[0].text,"ghost_text",D.row,D.column),this.$ghostText={text:j,position:{row:D.row,column:D.column}};var R=y.createElement("div");if(M.length>1){var O=this.hideTokensAfterPosition(D.row,D.column),z;M.slice(1).forEach(function(Y){var X=y.createElement("div"),q=y.createElement("span");q.className="ace_ghost_text",Y.wrapped&&(X.className="ghost_text_line_wrapped"),Y.text.length===0&&(Y.text=" "),q.appendChild(y.createTextNode(Y.text)),X.appendChild(q),R.appendChild(X),z=X}),O.forEach(function(Y){var X=y.createElement("span");k(Y.type)||(X.className="ace_"+Y.type.replace(/\./g," ace_")),X.appendChild(y.createTextNode(Y.value)),z.appendChild(X)}),this.$ghostTextWidget={el:R,row:D.row,column:D.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var B=this.$cursorLayer.getPixelPosition(D,!0),P=this.container,U=P.getBoundingClientRect().height,W=M.length*this.lineHeight,K=W<U-B.top;if(K)return;W<U?this.scrollBy(0,(M.length-1)*this.lineHeight):this.scrollToRow(D.row)}},T.prototype.$calculateWrappedTextChunks=function(j,F){var $=this.$size.scrollerWidth-this.$padding*2,D=Math.floor($/this.characterWidth)-2;D=D<=0?60:D;for(var M=j.split(/\r?\n/),R=[],O=0;O<M.length;O++){var z=this.session.$getDisplayTokens(M[O],F.column),B=this.session.$computeWrapSplits(z,D,this.session.$tabSize);if(B.length>0){var P=0;B.push(M[O].length);for(var U=0;U<B.length;U++){var W=M[O].slice(P,B[U]);R.push({text:W,wrapped:!0}),P=B[U]}}else R.push({text:M[O],wrapped:!1})}return R},T.prototype.removeGhostText=function(){if(this.$ghostText){var j=this.$ghostText.position;this.removeExtraToken(j.row,j.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(j,F,$,D){var M=this.session;M.bgTokenizer.lines[$]=null;var R={type:F,value:j},O=M.getTokens($);if(D==null||!O.length)O.push(R);else for(var z=0,B=0;B<O.length;B++){var P=O[B];if(z+=P.value.length,D<=z){var U=P.value.length-(z-D),W=P.value.slice(0,U),K=P.value.slice(U);O.splice(B,1,{type:P.type,value:W},R,{type:P.type,value:K});break}}this.updateLines($,$)},T.prototype.hideTokensAfterPosition=function(j,F){for(var $=this.session.getTokens(j),D=0,M=!1,R=[],O=0;O<$.length;O++){var z=$[O];if(D+=z.value.length,z.type!=="ghost_text"){if(M){R.push({type:z.type,value:z.value}),z.type="hidden_token";continue}D===F&&(M=!0)}}return this.updateLines(j,j),R},T.prototype.removeExtraToken=function(j,F){this.session.bgTokenizer.lines[j]=null,this.updateLines(j,j)},T.prototype.setTheme=function(j,F){var $=this;if(this.$themeId=j,$._dispatchEvent("themeChange",{theme:j}),!j||typeof j=="string"){var D=j||this.$options.theme.initialValue;o.loadModule(["theme",D],M)}else M(j);function M(R){if($.$themeId!=j)return F&&F();if(!R||!R.cssClass)throw new Error("couldn't load module "+j+" or it didn't call define");R.$id&&($.$themeId=R.$id),y.importCssString(R.cssText,R.cssClass,$.container),$.theme&&y.removeCssClass($.container,$.theme.cssClass);var O="padding"in R?R.padding:"padding"in($.theme||{})?4:$.$padding;if($.$padding&&O!=$.$padding&&$.setPadding(O),$.$gutterLayer){var z=R.$showGutterCursorMarker;z&&!$.$gutterLayer.$showCursorMarker?$.$gutterLayer.$showCursorMarker="theme":!z&&$.$gutterLayer.$showCursorMarker=="theme"&&($.$gutterLayer.$showCursorMarker=null)}$.$theme=R.cssClass,$.theme=R,y.addCssClass($.container,R.cssClass),y.setCssClass($.container,"ace_dark",R.isDark),$.$size&&($.$size.width=0,$.$updateSizeAsync()),$._dispatchEvent("themeLoaded",{theme:R}),F&&F(),_.isSafari&&$.scroller&&($.scroller.style.background="red",$.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(j,F){y.setCssClass(this.container,j,F!==!1)},T.prototype.unsetStyle=function(j){y.removeCssClass(this.container,j)},T.prototype.setCursorStyle=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.setMouseCursor=function(j){y.setStyle(this.scroller.style,"cursor",j)},T.prototype.attachToShadowRoot=function(){y.importCssString(C,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(j){var F=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),j===!0?(this.scrollBarV=new a(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollTop($.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollLeft($.data-F.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new c(this.container,this),this.scrollBarH=new s(this.container,this),this.scrollBarV.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollTop($.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){F.$scrollAnimation||F.session.setScrollLeft($.data-F.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var j=this;this.$resizeTimer=f.delayedCall(function(){j.destroyed||j.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(F){var $=F[0].contentRect.width,D=F[0].contentRect.height;Math.abs(j.$size.width-$)>1||Math.abs(j.$size.height-D)>1?j.$resizeTimer.delay():j.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T})();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,S.implement(A.prototype,x),o.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){y.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),v.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(g,v,L){var S=g("../lib/oop"),y=g("../lib/net"),f=g("../lib/event_emitter").EventEmitter,o=g("../config");function h(s){var c="importScripts('"+y.qualifyURL(s)+"');";try{return new Blob([c],{type:"application/javascript"})}catch{var u=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,a=new u;return a.append(c),a.getBlob("application/javascript")}}function r(s){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var c=h(s),u=window.URL||window.webkitURL,a=u.createObjectURL(c);return new Worker(a)}return new Worker(s)}var n=function(s){s.postMessage||(s=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=s,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){S.implement(this,f),this.$createWorkerFromOldConfig=function(s,c,u,a,d){if(g.nameToUrl&&!g.toUrl&&(g.toUrl=g.nameToUrl),o.get("packaged")||!g.toUrl)a=a||o.moduleUrl(c,"worker");else{var m=this.$normalizePath;a=a||m(g.toUrl("ace/worker/worker.js",null,"_"));var x={};s.forEach(function(C){x[C]=m(g.toUrl(C,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=r(a),d&&this.send("importScripts",d),this.$worker.postMessage({init:!0,tlns:x,module:c,classname:u}),this.$worker},this.onMessage=function(s){var c=s.data;switch(c.type){case"event":this._signal(c.name,{data:c.data});break;case"call":var u=this.callbacks[c.id];u&&(u(c.data),delete this.callbacks[c.id]);break;case"error":this.reportError(c.data);break;case"log":window.console&&console.log&&console.log.apply(console,c.data);break}},this.reportError=function(s){window.console&&console.error&&console.error(s)},this.$normalizePath=function(s){return y.qualifyURL(s)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(s){s.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(s,c){this.$worker.postMessage({command:s,args:c})},this.call=function(s,c,u){if(u){var a=this.callbackId++;this.callbacks[a]=u,c.push(a)}this.send(s,c)},this.emit=function(s,c){try{c.data&&c.data.err&&(c.data.err={message:c.data.err.message,stack:c.data.err.stack,code:c.data.err.code}),this.$worker&&this.$worker.postMessage({event:s,data:{data:c.data}})}catch(u){console.error(u.stack)}},this.attachToDocument=function(s){this.$doc&&this.terminate(),this.$doc=s,this.call("setValue",[s.getValue()]),s.on("change",this.changeListener,!0)},this.changeListener=function(s){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),s.action=="insert"?this.deltaQueue.push(s.start,s.lines):this.deltaQueue.push(s.start,s.end)},this.$sendDeltaQueue=function(){var s=this.deltaQueue;s&&(this.deltaQueue=null,s.length>50&&s.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:s}))}}).call(n.prototype);var i=function(s,c,u){var a=null,d=!1,m=Object.create(f),x=[],C=new n({messageBuffer:x,terminate:function(){},postMessage:function(_){x.push(_),a&&(d?setTimeout(w):w())}});C.setEmitSync=function(_){d=_};var w=function(){var _=x.shift();_.command?a[_.command].apply(a,_.args):_.event&&m._signal(_.event,_.data)};return m.postMessage=function(_){C.onMessage({data:_})},m.callback=function(_,k){this.postMessage({type:"call",id:k,data:_})},m.emit=function(_,k){this.postMessage({type:"event",name:_,data:k})},o.loadModule(["worker",c],function(_){for(a=new _[u](m);x.length;)w()}),C};v.UIWorkerClient=i,v.WorkerClient=n,v.createWorker=r}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(g,v,L){var S=g("./range").Range,y=g("./lib/event_emitter").EventEmitter,f=g("./lib/oop"),o=(function(){function h(r,n,i,s,c,u){var a=this;this.length=n,this.session=r,this.doc=r.getDocument(),this.mainClass=c,this.othersClass=u,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=s,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=i;var d=r.getUndoManager().$undoStack||r.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=d.length,this.setup(),r.selection.on("changeCursor",this.$onCursorChange)}return h.prototype.setup=function(){var r=this,n=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=i.addMarker(new S(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(c){var u=n.createAnchor(c.row,c.column);u.$insertRight=!0,u.detach(),r.others.push(u)}),i.setUndoSelect(!1)},h.prototype.showOtherMarkers=function(){if(!this.othersActive){var r=this.session,n=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=r.addMarker(new S(i.row,i.column,i.row,i.column+n.length),n.othersClass,null,!1)})}},h.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var r=0;r<this.others.length;r++)this.session.removeMarker(this.others[r].markerId)}},h.prototype.onUpdate=function(r){if(this.$updating)return this.updateAnchors(r);var n=r;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var i=r.action==="insert"?n.end.column-n.start.column:n.start.column-n.end.column,s=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,c=n.start.column-this.pos.column;if(this.updateAnchors(r),s&&(this.length+=i),s&&!this.session.$fromUndo){if(r.action==="insert")for(var u=this.others.length-1;u>=0;u--){var a=this.others[u],d={row:a.row,column:a.column+c};this.doc.insertMergedLines(d,r.lines)}else if(r.action==="remove")for(var u=this.others.length-1;u>=0;u--){var a=this.others[u],d={row:a.row,column:a.column+c};this.doc.remove(new S(d.row,d.column,d.row,d.column-i))}}this.$updating=!1,this.updateMarkers()}},h.prototype.updateAnchors=function(r){this.pos.onChange(r);for(var n=this.others.length;n--;)this.others[n].onChange(r);this.updateMarkers()},h.prototype.updateMarkers=function(){if(!this.$updating){var r=this,n=this.session,i=function(c,u){n.removeMarker(c.markerId),c.markerId=n.addMarker(new S(c.row,c.column,c.row,c.column+r.length),u,null,!1)};i(this.pos,this.mainClass);for(var s=this.others.length;s--;)i(this.others[s],this.othersClass)}},h.prototype.onCursorChange=function(r){if(!(this.$updating||!this.session)){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",r)):(this.hideOtherMarkers(),this._emit("cursorLeave",r))}},h.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},h.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var r=this.session.getUndoManager(),n=(r.$undoStack||r.$undostack).length-this.$undoStackDepth,i=0;i<n;i++)r.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},h})();f.implement(o.prototype,y),v.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(g,v,L){var S=g("../lib/event"),y=g("../lib/useragent");function f(h,r){return h.row==r.row&&h.column==r.column}function o(h){var r=h.domEvent,n=r.altKey,i=r.shiftKey,s=r.ctrlKey,c=h.getAccelKey(),u=h.getButton();if(s&&y.isMac&&(u=r.button),h.editor.inMultiSelectMode&&u==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!s&&!n&&!c){u===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(u===0){var a=h.editor,d=a.selection,m=a.inMultiSelectMode,x=h.getDocumentPosition(),C=d.getCursor(),w=h.inSelection()||d.isEmpty()&&f(x,C),_=h.x,k=h.y,A=function(W){_=W.clientX,k=W.clientY},T=a.session,j=a.renderer.pixelToScreenCoordinates(_,k),F=j,$;if(a.$mouseHandler.$enableJumpToDef)s&&n||c&&n?$=i?"block":"add":n&&a.$blockSelectEnabled&&($="block");else if(c&&!n){if($="add",!m&&i)return}else n&&a.$blockSelectEnabled&&($="block");if($&&y.isMac&&r.ctrlKey&&a.$mouseHandler.cancelContextMenu(),$=="add"){if(!m&&w)return;if(!m){var D=d.toOrientedRange();a.addSelectionMarker(D)}var M=d.rangeList.rangeAtPoint(x);a.inVirtualSelectionMode=!0,i&&(M=null,D=d.ranges[0]||D,a.removeSelectionMarker(D)),a.once("mouseup",function(){var W=d.toOrientedRange();M&&W.isEmpty()&&f(M.cursor,W.cursor)?d.substractPoint(W.cursor):(i?d.substractPoint(D.cursor):D&&(a.removeSelectionMarker(D),d.addRange(D)),d.addRange(W)),a.inVirtualSelectionMode=!1})}else if($=="block"){h.stop(),a.inVirtualSelectionMode=!0;var R,O=[],z=function(){var W=a.renderer.pixelToScreenCoordinates(_,k),K=T.screenToDocumentPosition(W.row,W.column,W.offsetX);f(F,W)&&f(K,d.lead)||(F=W,a.selection.moveToPosition(K),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(O),O=d.rectangularRangeBlock(F,j),a.$mouseHandler.$clickSelection&&O.length==1&&O[0].isEmpty()&&(O[0]=a.$mouseHandler.$clickSelection.clone()),O.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers())};m&&!c?d.toSingleRange():!m&&c&&(R=d.toOrientedRange(),a.addSelectionMarker(R)),i?j=T.documentToScreenPosition(d.lead):d.moveToPosition(x),F={row:-1,column:-1};var B=function(W){z(),clearInterval(U),a.removeSelectionMarkers(O),O.length||(O=[d.toOrientedRange()]),R&&(a.removeSelectionMarker(R),d.toSingleRange(R));for(var K=0;K<O.length;K++)d.addRange(O[K]);a.inVirtualSelectionMode=!1,a.$mouseHandler.$clickSelection=null},P=z;S.capture(a.container,A,B);var U=setInterval(function(){P()},20);return h.preventDefault()}}}v.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(g,v,L){v.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(y){y.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(y){y.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(y){y.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(y){y.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(y){y.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(y){y.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(y){y.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(y){y.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(y){y.multiSelect.rangeCount>1?y.multiSelect.joinSelections():y.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(y){y.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(y){y.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(y){y.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],v.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(y){y.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(y){return y&&y.inMultiSelectMode}}];var S=g("../keyboard/hash_handler").HashHandler;v.keyboardHandler=new S(v.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(g,v,L){var S=g("./range_list").RangeList,y=g("./range").Range,f=g("./selection").Selection,o=g("./mouse/multi_select_handler").onMouseDown,h=g("./lib/event"),r=g("./lib/lang"),n=g("./commands/multi_select_commands");v.commands=n.defaultCommands.concat(n.multiSelectCommands);var i=g("./search").Search,s=new i;function c(C,w,_){return s.$options.wrap=!0,s.$options.needle=w,s.$options.backwards=_==-1,s.find(C)}var u=g("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(C,w){if(C){if(!this.inMultiSelectMode&&this.rangeCount===0){var _=this.toOrientedRange();if(this.rangeList.add(_),this.rangeList.add(C),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),w||this.fromOrientedRange(C);this.rangeList.removeAll(),this.rangeList.add(_),this.$onAddRange(_)}C.cursor||(C.cursor=C.end);var k=this.rangeList.add(C);return this.$onAddRange(C),k.length&&this.$onRemoveRange(k),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(C)}},this.toSingleRange=function(C){C=C||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w),C&&this.fromOrientedRange(C)},this.substractPoint=function(C){var w=this.rangeList.substractPoint(C);if(w)return this.$onRemoveRange(w),w[0]},this.mergeOverlappingRanges=function(){var C=this.rangeList.merge();C.length&&this.$onRemoveRange(C)},this.$onAddRange=function(C){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(C),this._signal("addRange",{range:C})},this.$onRemoveRange=function(C){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();C.push(w),this.rangeCount=0}for(var _=C.length;_--;){var k=this.ranges.indexOf(C[_]);this.ranges.splice(k,1)}this._signal("removeRange",{ranges:C}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),w=w||this.ranges[0],w&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new S,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var C=this.ranges.length?this.ranges:[this.getRange()],w=[],_=0;_<C.length;_++){var k=C[_],A=k.start.row,T=k.end.row;if(A===T)w.push(k.clone());else{for(w.push(new y(A,k.start.column,A,this.session.getLine(A).length));++A<T;)w.push(this.getLineRange(A,!0));w.push(new y(T,0,T,k.end.column))}_==0&&!this.isBackwards()&&(w=w.reverse())}this.toSingleRange();for(var _=w.length;_--;)this.addRange(w[_])},this.joinSelections=function(){var C=this.rangeList.ranges,w=C[C.length-1],_=y.fromPoints(C[0].start,w.end);this.toSingleRange(),this.setSelectionRange(_,w.cursor==w.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var C=this.rangeList.ranges,w=C[C.length-1],_=y.fromPoints(C[0].start,w.end);this.toSingleRange(),this.setSelectionRange(_,w.cursor==w.start)}else{var k=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(k,A);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(C,w,_){var k=[],A=C.column<w.column;if(A)var T=C.column,j=w.column,F=C.offsetX,$=w.offsetX;else var T=w.column,j=C.column,F=w.offsetX,$=C.offsetX;var D=C.row<w.row;if(D)var M=C.row,R=w.row;else var M=w.row,R=C.row;T<0&&(T=0),M<0&&(M=0),M==R&&(_=!0);for(var O,z=M;z<=R;z++){var B=y.fromPoints(this.session.screenToDocumentPosition(z,T,F),this.session.screenToDocumentPosition(z,j,$));if(B.isEmpty()){if(O&&d(B.end,O))break;O=B.end}B.cursor=A?B.start:B.end,k.push(B)}if(D&&k.reverse(),!_){for(var P=k.length-1;k[P].isEmpty()&&P>0;)P--;if(P>0)for(var U=0;k[U].isEmpty();)U++;for(var W=P;W>=U;W--)k[W].isEmpty()&&k.splice(W,1)}return k}}).call(f.prototype);var a=g("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(C){C.cursor||(C.cursor=C.end);var w=this.getSelectionStyle();return C.marker=this.session.addMarker(C,"ace_selection",w),this.session.$selectionMarkers.push(C),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,C},this.removeSelectionMarker=function(C){if(C.marker){this.session.removeMarker(C.marker);var w=this.session.$selectionMarkers.indexOf(C);w!=-1&&this.session.$selectionMarkers.splice(w,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(C){for(var w=this.session.$selectionMarkers,_=C.length;_--;){var k=C[_];if(k.marker){this.session.removeMarker(k.marker);var A=w.indexOf(k);A!=-1&&w.splice(A,1)}}this.session.selectionMarkerCount=w.length},this.$onAddRange=function(C){this.addSelectionMarker(C.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(C){this.removeSelectionMarkers(C.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(C){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(C){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(C){var w=C.command,_=C.editor;if(_.multiSelect){if(w.multiSelectAction)w.multiSelectAction=="forEach"?k=_.forEachSelection(w,C.args):w.multiSelectAction=="forEachLine"?k=_.forEachSelection(w,C.args,!0):w.multiSelectAction=="single"?(_.exitMultiSelectMode(),k=w.exec(_,C.args||{})):k=w.multiSelectAction(_,C.args||{});else{var k=w.exec(_,C.args||{});_.multiSelect.addRange(_.multiSelect.toOrientedRange()),_.multiSelect.mergeOverlappingRanges()}return k}},this.forEachSelection=function(C,w,_){if(!this.inVirtualSelectionMode){var k=_&&_.keepOrder,A=_==!0||_&&_.$byLines,T=this.session,j=this.selection,F=j.rangeList,$=(k?j:F).ranges,D;if(!$.length)return C.exec?C.exec(this,w||{}):C(this,w||{});var M=j._eventRegistry;j._eventRegistry={};var R=new f(T);this.inVirtualSelectionMode=!0;for(var O=$.length;O--;){if(A)for(;O>0&&$[O].start.row==$[O-1].end.row;)O--;R.fromOrientedRange($[O]),R.index=O,this.selection=T.selection=R;var z=C.exec?C.exec(this,w||{}):C(this,w||{});!D&&z!==void 0&&(D=z),R.toOrientedRange($[O])}R.detach(),this.selection=T.selection=j,this.inVirtualSelectionMode=!1,j._eventRegistry=M,j.mergeOverlappingRanges(),j.ranges[0]&&j.fromOrientedRange(j.ranges[0]);var B=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),B&&B.from==B.to&&this.renderer.animateScrolling(B.from),D}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var C="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var w=this.multiSelect.rangeList.ranges,_=[],k=0;k<w.length;k++)_.push(this.session.getTextRange(w[k]));var A=this.session.getDocument().getNewLineCharacter();C=_.join(A),C.length==(_.length-1)*A.length&&(C="")}else this.selection.isEmpty()||(C=this.session.getTextRange(this.getSelectionRange()));return C},this.$checkMultiselectChange=function(C,w){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var _=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&w==this.multiSelect.anchor)return;var k=w==this.multiSelect.anchor?_.cursor==_.start?_.end:_.start:_.cursor;k.row!=w.row||this.session.$clipPositionToDocument(k.row,k.column).column!=w.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(C,w,_){if(w=w||{},w.needle=C||w.needle,w.needle==null){var k=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(k)}this.$search.set(w);var A=this.$search.findAll(this.session);if(!A.length)return 0;var T=this.multiSelect;_||T.toSingleRange(A[0]);for(var j=A.length;j--;)T.addRange(A[j],!0);return k&&T.rangeList.rangeAtPoint(k.start)&&T.addRange(k,!0),A.length},this.selectMoreLines=function(C,w){var _=this.selection.toOrientedRange(),k=_.cursor==_.end,A=this.session.documentToScreenPosition(_.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(A.row+C,A.column);if(_.isEmpty())var F=T;else var j=this.session.documentToScreenPosition(k?_.end:_.start),F=this.session.screenToDocumentPosition(j.row+C,j.column);if(k){var $=y.fromPoints(T,F);$.cursor=$.start}else{var $=y.fromPoints(F,T);$.cursor=$.end}if($.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(_);else if(w)var D=_.cursor;this.selection.addRange($),D&&this.selection.substractPoint(D)},this.transposeSelections=function(C){for(var w=this.session,_=w.multiSelect,k=_.ranges,A=k.length;A--;){var T=k[A];if(T.isEmpty()){var j=w.getWordRange(T.start.row,T.start.column);T.start.row=j.start.row,T.start.column=j.start.column,T.end.row=j.end.row,T.end.column=j.end.column}}_.mergeOverlappingRanges();for(var F=[],A=k.length;A--;){var T=k[A];F.unshift(w.getTextRange(T))}C<0?F.unshift(F.pop()):F.push(F.shift());for(var A=k.length;A--;){var T=k[A],$=T.clone();w.replace(T,F[A]),T.start.row=$.start.row,T.start.column=$.start.column}_.fromOrientedRange(_.ranges[0])},this.selectMore=function(C,w,_){var k=this.session,A=k.multiSelect,T=A.toOrientedRange();if(!(T.isEmpty()&&(T=k.getWordRange(T.start.row,T.start.column),T.cursor=C==-1?T.start:T.end,this.multiSelect.addRange(T),_))){var j=k.getTextRange(T),F=c(k,j,C);F&&(F.cursor=C==-1?F.start:F.end,this.session.unfold(F),this.multiSelect.addRange(F),this.renderer.scrollCursorIntoView(null,.5)),w&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var C=this.session,w=C.multiSelect,_=w.ranges,k=-1,A=_.filter(function(P){if(P.cursor.row==k)return!0;k=P.cursor.row});if(!_.length||A.length==_.length-1){var T=this.selection.getRange(),j=T.start.row,F=T.end.row,$=j==F;if($){var D=this.session.getLength(),M;do M=this.session.getLine(F);while(/[=:]/.test(M)&&++F<D);do M=this.session.getLine(j);while(/[=:]/.test(M)&&--j>0);j<0&&(j=0),F>=D&&(F=D-1)}var R=this.session.removeFullLines(j,F);R=this.$reAlignText(R,$),this.session.insert({row:j,column:0},R.join(`
`)+`
`),$||(T.start.column=0,T.end.column=R[R.length-1].length),this.selection.setRange(T)}else{A.forEach(function(P){w.substractPoint(P.cursor)});var O=0,z=1/0,B=_.map(function(P){var U=P.cursor,W=C.getLine(U.row),K=W.substr(U.column).search(/\S/g);return K==-1&&(K=0),U.column>O&&(O=U.column),K<z&&(z=K),K});_.forEach(function(P,U){var W=P.cursor,K=O-W.column,Y=B[U]-z;K>Y?C.insert(W,r.stringRepeat(" ",K-Y)):C.remove(new y(W.row,W.column,W.row,W.column-K+Y)),P.start.column=P.end.column=O,P.start.row=P.end.row=W.row,P.cursor=P.end}),w.fromOrientedRange(_[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(C,w){var _=!0,k=!0,A,T,j;return C.map(function(R){var O=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return O?A==null?(A=O[1].length,T=O[2].length,j=O[3].length,O):(A+T+j!=O[1].length+O[2].length+O[3].length&&(k=!1),A!=O[1].length&&(_=!1),A>O[1].length&&(A=O[1].length),T<O[2].length&&(T=O[2].length),j>O[3].length&&(j=O[3].length),O):[R]}).map(w?$:_?k?D:$:M);function F(R){return r.stringRepeat(" ",R)}function $(R){return R[2]?F(A)+R[2]+F(T-R[2].length+j)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function D(R){return R[2]?F(A+T-R[2].length)+R[2]+F(j)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function M(R){return R[2]?F(A)+R[2]+F(j)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(a.prototype);function d(C,w){return C.row==w.row&&C.column==w.column}v.onSessionChange=function(C){var w=C.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection),this.multiSelect=w&&w.multiSelect;var _=C.oldSession;_&&(_.multiSelect.off("addRange",this.$onAddRange),_.multiSelect.off("removeRange",this.$onRemoveRange),_.multiSelect.off("multiSelect",this.$onMultiSelect),_.multiSelect.off("singleSelect",this.$onSingleSelect),_.multiSelect.lead.off("change",this.$checkMultiselectChange),_.multiSelect.anchor.off("change",this.$checkMultiselectChange)),w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange)),w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function m(C){C.$multiselectOnSessionChange||(C.$onAddRange=C.$onAddRange.bind(C),C.$onRemoveRange=C.$onRemoveRange.bind(C),C.$onMultiSelect=C.$onMultiSelect.bind(C),C.$onSingleSelect=C.$onSingleSelect.bind(C),C.$multiselectOnSessionChange=v.onSessionChange.bind(C),C.$checkMultiselectChange=C.$checkMultiselectChange.bind(C),C.$multiselectOnSessionChange(C),C.on("changeSession",C.$multiselectOnSessionChange),C.on("mousedown",o),C.commands.addCommands(n.defaultCommands),x(C))}function x(C){if(!C.textInput)return;var w=C.textInput.getElement(),_=!1;h.addListener(w,"keydown",function(A){var T=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);C.$blockSelectEnabled&&T?_||(C.renderer.setMouseCursor("crosshair"),_=!0):_&&k()},C),h.addListener(w,"keyup",k,C),h.addListener(w,"blur",k,C);function k(A){_&&(C.renderer.setMouseCursor(""),_=!1)}}v.MultiSelect=m,g("./config").defineOptions(a.prototype,"editor",{enableMultiselect:{set:function(C){m(this),C?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(C){this.$blockSelectEnabled=C},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(g,v,L){var S=g("../../range").Range,y=v.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(f,o,h){var r=f.getLine(h);return this.foldingStartMarker.test(r)?"start":o=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(f,o,h){return null},this.indentationBlock=function(f,o,h){var r=/\S/,n=f.getLine(o),i=n.search(r);if(i!=-1){for(var s=h||n.length,c=f.getLength(),u=o,a=o;++o<c;){var d=f.getLine(o).search(r);if(d!=-1){if(d<=i){var m=f.getTokenAt(o,0);if(!m||m.type!=="string")break}a=o}}if(a>u){var x=f.getLine(a).length;return new S(u,s,a,x)}}},this.openingBracketBlock=function(f,o,h,r,n){var i={row:h,column:r+1},s=f.$findClosingBracket(o,i,n);if(s){var c=f.foldWidgets[s.row];return c==null&&(c=f.getFoldWidget(s.row)),c=="start"&&s.row>i.row&&(s.row--,s.column=f.getLine(s.row).length),S.fromPoints(i,s)}},this.closingBracketBlock=function(f,o,h,r,n){var i={row:h,column:r},s=f.$findOpeningBracket(o,i);if(s)return s.column++,i.column--,S.fromPoints(s,i)}}).call(y.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(g,v,L){var S=g("../lib/dom"),y=g("../range").Range,f=g("../config").nls;function o(r,n,i){for(var s=0,c=r.length-1;s<=c;){var u=s+c>>1,a=i(n,r[u]);if(a>0)s=u+1;else if(a<0)c=u-1;else return u}return-(s+1)}function h(r,n,i){var s=r.getAnnotations().sort(y.comparePoints);if(s.length){var c=o(s,{row:n,column:-1},y.comparePoints);c<0&&(c=-c-1),c>=s.length?c=i>0?0:s.length-1:c===0&&i<0&&(c=s.length-1);var u=s[c];if(!(!u||!i)){if(u.row===n){do u=s[c+=i];while(u&&u.row===n);if(!u)return s.slice()}var a=[];n=u.row;do a[i<0?"unshift":"push"](u),u=s[c+=i];while(u&&u.row==n);return a.length&&a}}}v.showErrorMarker=function(r,n){var i=r.session,s=r.getCursorPosition(),c=s.row,u=i.widgetManager.getWidgetsAtRow(c).filter(function(A){return A.type=="errorMarker"})[0];u?u.destroy():c-=n;var a=h(i,c,n),d;if(a){var m=a[0];s.column=(m.pos&&typeof m.column!="number"?m.pos.sc:m.column)||0,s.row=m.row,d=r.renderer.$gutterLayer.$annotations[s.row]}else{if(u)return;d={displayText:[f("error-marker.good-state","Looks good!")],className:"ace_ok"}}r.session.unfold(s.row),r.selection.moveToPosition(s);var x={row:s.row,fixedWidth:!0,coverGutter:!0,el:S.createElement("div"),type:"errorMarker"},C=x.el.appendChild(S.createElement("div")),w=x.el.appendChild(S.createElement("div"));w.className="error_widget_arrow "+d.className;var _=r.renderer.$cursorLayer.getPixelPosition(s).left;w.style.left=_+r.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",C.className="error_widget "+d.className,d.displayText.forEach(function(A,T){C.appendChild(S.createTextNode(A)),T<d.displayText.length-1&&C.appendChild(S.createElement("br"))}),C.appendChild(S.createElement("div"));var k=function(A,T,j){if(T===0&&(j==="esc"||j==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){r.$mouseHandler.isMousePressed||(r.keyBinding.removeKeyboardHandler(k),i.widgetManager.removeLineWidget(x),r.off("changeSelection",x.destroy),r.off("changeSession",x.destroy),r.off("mouseup",x.destroy),r.off("change",x.destroy))},r.keyBinding.addKeyboardHandler(k),r.on("changeSelection",x.destroy),r.on("changeSession",x.destroy),r.on("mouseup",x.destroy),r.on("change",x.destroy),r.session.widgetManager.addLineWidget(x),x.el.onmousedown=r.focus.bind(r),r.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},S.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(g,v,L){g("./loader_build")(v);var S=g("./lib/dom"),y=g("./range").Range,f=g("./editor").Editor,o=g("./edit_session").EditSession,h=g("./undomanager").UndoManager,r=g("./virtual_renderer").VirtualRenderer;g("./worker/worker_client"),g("./keyboard/hash_handler"),g("./placeholder"),g("./multi_select"),g("./mode/folding/fold_mode"),g("./theme/textmate"),g("./ext/error_marker"),v.config=g("./config"),v.edit=function(i,s){if(typeof i=="string"){var c=i;if(i=document.getElementById(c),!i)throw new Error("ace.edit can't find div #"+c)}if(i&&i.env&&i.env.editor instanceof f)return i.env.editor;var u="";if(i&&/input|textarea/i.test(i.tagName)){var a=i;u=a.value,i=S.createElement("pre"),a.parentNode.replaceChild(i,a)}else i&&(u=i.textContent,i.innerHTML="");var d=v.createEditSession(u),m=new f(new r(i),d,s),x={document:d,editor:m,onResize:m.resize.bind(m,null)};return a&&(x.textarea=a),m.on("destroy",function(){x.editor.container.env=null}),m.container.env=m.env=x,m},v.createEditSession=function(i,s){var c=new o(i,s);return c.setUndoManager(new h),c},v.Range=y,v.Editor=f,v.EditSession=o,v.UndoManager=h,v.VirtualRenderer=r;var n=v.config.version;v.version=n}),(function(){ace.require(["ace/ace"],function(g){g&&(g.config.init(!0),g.define=ace.define);var v=(function(){return this})();!v&&typeof window<"u"&&(v=window),!v&&typeof self<"u"&&(v=self),v.ace||(v.ace=g);for(var L in g)g.hasOwnProperty(L)&&(v.ace[L]=g[L]);v.ace.default=v.ace,l&&(l.exports=v.ace)})})()})(Uh)),Uh.exports}var Vh={exports:{}},Gh,qm;function aw(){if(qm)return Gh;qm=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gh=l,Gh}var Kh,Zm;function lw(){if(Zm)return Kh;Zm=1;var l=aw();function b(){}function g(){}return g.resetWarningCache=b,Kh=function(){function v(y,f,o,h,r,n){if(n!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}v.isRequired=v;function L(){return v}var S={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:L,element:v,elementType:v,instanceOf:L,node:v,objectOf:L,oneOf:L,oneOfType:L,shape:L,exact:L,checkPropTypes:g,resetWarningCache:b};return S.PropTypes=S,S},Kh}var Qm;function Nd(){return Qm||(Qm=1,Vh.exports=lw()()),Vh.exports}var ka={exports:{}};ka.exports;var Jm;function p0(){return Jm||(Jm=1,(function(l,b){var g=200,v="__lodash_hash_undefined__",L=1,S=2,y=9007199254740991,f="[object Arguments]",o="[object Array]",h="[object AsyncFunction]",r="[object Boolean]",n="[object Date]",i="[object Error]",s="[object Function]",c="[object GeneratorFunction]",u="[object Map]",a="[object Number]",d="[object Null]",m="[object Object]",x="[object Promise]",C="[object Proxy]",w="[object RegExp]",_="[object Set]",k="[object String]",A="[object Symbol]",T="[object Undefined]",j="[object WeakMap]",F="[object ArrayBuffer]",$="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,q={};q[D]=q[M]=q[R]=q[O]=q[z]=q[B]=q[P]=q[U]=q[W]=!0,q[f]=q[o]=q[F]=q[r]=q[$]=q[n]=q[i]=q[s]=q[u]=q[a]=q[m]=q[w]=q[_]=q[k]=q[j]=!1;var J=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,V=typeof self=="object"&&self&&self.Object===Object&&self,Q=J||V||Function("return this")(),ne=b&&!b.nodeType&&b,ie=ne&&!0&&l&&!l.nodeType&&l,me=ie&&ie.exports===ne,pe=me&&J.process,Se=(function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}})(),ke=Se&&Se.isTypedArray;function Ae(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length,Qe=0,je=[];++ye<xe;){var lt=ee[ye];oe(lt,ye,ee)&&(je[Qe++]=lt)}return je}function Ue(ee,oe){for(var ye=-1,xe=oe.length,Qe=ee.length;++ye<xe;)ee[Qe+ye]=oe[ye];return ee}function we(ee,oe){for(var ye=-1,xe=ee==null?0:ee.length;++ye<xe;)if(oe(ee[ye],ye,ee))return!0;return!1}function Ce(ee,oe){for(var ye=-1,xe=Array(ee);++ye<ee;)xe[ye]=oe(ye);return xe}function at(ee){return function(oe){return ee(oe)}}function Dt(ee,oe){return ee.has(oe)}function qt(ee,oe){return ee?.[oe]}function Zt(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe,Qe){ye[++oe]=[Qe,xe]}),ye}function mt(ee,oe){return function(ye){return ee(oe(ye))}}function Ze(ee){var oe=-1,ye=Array(ee.size);return ee.forEach(function(xe){ye[++oe]=xe}),ye}var _t=Array.prototype,Ot=Function.prototype,xt=Object.prototype,pt=Q["__core-js_shared__"],Yt=Ot.toString,it=xt.hasOwnProperty,rt=(function(){var ee=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""})(),He=xt.toString,Tt=RegExp("^"+Yt.call(it).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=me?Q.Buffer:void 0,wt=Q.Symbol,le=Q.Uint8Array,be=xt.propertyIsEnumerable,Me=_t.splice,Pe=wt?wt.toStringTag:void 0,Pt=Object.getOwnPropertySymbols,on=gt?gt.isBuffer:void 0,In=mt(Object.keys,Object),Wt=wn(Q,"DataView"),Bn=wn(Q,"Map"),Jn=wn(Q,"Promise"),Br=wn(Q,"Set"),tr=wn(Q,"WeakMap"),ei=wn(Object,"create"),Mi=ai(Wt),ko=ai(Bn),gs=ai(Jn),ms=ai(Br),vs=ai(tr),nr=wt?wt.prototype:void 0,Li=nr?nr.valueOf:void 0;function Hn(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function ys(){this.__data__=ei?ei(null):{},this.size=0}function zn(ee){var oe=this.has(ee)&&delete this.__data__[ee];return this.size-=oe?1:0,oe}function Mt(ee){var oe=this.__data__;if(ei){var ye=oe[ee];return ye===v?void 0:ye}return it.call(oe,ee)?oe[ee]:void 0}function Ut(ee){var oe=this.__data__;return ei?oe[ee]!==void 0:it.call(oe,ee)}function yi(ee,oe){var ye=this.__data__;return this.size+=this.has(ee)?0:1,ye[ee]=ei&&oe===void 0?v:oe,this}Hn.prototype.clear=ys,Hn.prototype.delete=zn,Hn.prototype.get=Mt,Hn.prototype.has=Ut,Hn.prototype.set=yi;function un(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function To(){this.__data__=[],this.size=0}function Mo(ee){var oe=this.__data__,ye=Qt(oe,ee);if(ye<0)return!1;var xe=oe.length-1;return ye==xe?oe.pop():Me.call(oe,ye,1),--this.size,!0}function bs(ee){var oe=this.__data__,ye=Qt(oe,ee);return ye<0?void 0:oe[ye][1]}function Ri(ee){return Qt(this.__data__,ee)>-1}function Hr(ee,oe){var ye=this.__data__,xe=Qt(ye,ee);return xe<0?(++this.size,ye.push([ee,oe])):ye[xe][1]=oe,this}un.prototype.clear=To,un.prototype.delete=Mo,un.prototype.get=bs,un.prototype.has=Ri,un.prototype.set=Hr;function an(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.clear();++oe<ye;){var xe=ee[oe];this.set(xe[0],xe[1])}}function ti(){this.size=0,this.__data__={hash:new Hn,map:new(Bn||un),string:new Hn}}function Ni(ee){var oe=Pr(this,ee).delete(ee);return this.size-=oe?1:0,oe}function bi(ee){return Pr(this,ee).get(ee)}function St(ee){return Pr(this,ee).has(ee)}function _s(ee,oe){var ye=Pr(this,ee),xe=ye.size;return ye.set(ee,oe),this.size+=ye.size==xe?0:1,this}an.prototype.clear=ti,an.prototype.delete=Ni,an.prototype.get=bi,an.prototype.has=St,an.prototype.set=_s;function $i(ee){var oe=-1,ye=ee==null?0:ee.length;for(this.__data__=new an;++oe<ye;)this.add(ee[oe])}function ni(ee){return this.__data__.set(ee,v),this}function ii(ee){return this.__data__.has(ee)}$i.prototype.add=$i.prototype.push=ni,$i.prototype.has=ii;function Fn(ee){var oe=this.__data__=new un(ee);this.size=oe.size}function xs(){this.__data__=new un,this.size=0}function ws(ee){var oe=this.__data__,ye=oe.delete(ee);return this.size=oe.size,ye}function zr(ee){return this.__data__.get(ee)}function Ss(ee){return this.__data__.has(ee)}function Cs(ee,oe){var ye=this.__data__;if(ye instanceof un){var xe=ye.__data__;if(!Bn||xe.length<g-1)return xe.push([ee,oe]),this.size=++ye.size,this;ye=this.__data__=new an(xe)}return ye.set(ee,oe),this.size=ye.size,this}Fn.prototype.clear=xs,Fn.prototype.delete=ws,Fn.prototype.get=zr,Fn.prototype.has=Ss,Fn.prototype.set=Cs;function ri(ee,oe){var ye=li(ee),xe=!ye&&rr(ee),Qe=!ye&&!xe&&Wr(ee),je=!ye&&!xe&&!Qe&&ui(ee),lt=ye||xe||Qe||je,jt=lt?Ce(ee.length,String):[],Lt=jt.length;for(var dt in ee)it.call(ee,dt)&&!(lt&&(dt=="length"||Qe&&(dt=="offset"||dt=="parent")||je&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||Oo(dt,Lt)))&&jt.push(dt);return jt}function Qt(ee,oe){for(var ye=ee.length;ye--;)if(Ts(ee[ye][0],oe))return ye;return-1}function za(ee,oe,ye){var xe=oe(ee);return li(ee)?xe:Ue(xe,ye(ee))}function Fr(ee){return ee==null?ee===void 0?T:d:Pe&&Pe in Object(ee)?Rc(ee):oi(ee)}function Es(ee){return ci(ee)&&Fr(ee)==f}function Lo(ee,oe,ye,xe,Qe){return ee===oe?!0:ee==null||oe==null||!ci(ee)&&!ci(oe)?ee!==ee&&oe!==oe:As(ee,oe,ye,xe,Lo,Qe)}function As(ee,oe,ye,xe,Qe,je){var lt=li(ee),jt=li(oe),Lt=lt?o:si(ee),dt=jt?o:si(oe);Lt=Lt==f?m:Lt,dt=dt==f?m:dt;var Vt=Lt==m,ln=dt==m,Gt=Lt==dt;if(Gt&&Wr(ee)){if(!Wr(oe))return!1;lt=!0,Vt=!1}if(Gt&&!Vt)return je||(je=new Fn),lt||ui(ee)?No(ee,oe,ye,xe,Qe,je):$o(ee,oe,Lt,ye,xe,Qe,je);if(!(ye&L)){var fn=Vt&&it.call(ee,"__wrapped__"),pn=ln&&it.call(oe,"__wrapped__");if(fn||pn){var _i=fn?ee.value():ee,Sn=pn?oe.value():oe;return je||(je=new Fn),Qe(_i,Sn,ye,xe,je)}}return Gt?(je||(je=new Fn),ir(ee,oe,ye,xe,Qe,je)):!1}function Lc(ee){if(!Ms(ee)||$c(ee))return!1;var oe=sr(ee)?Tt:Y;return oe.test(ai(ee))}function dn(ee){return ci(ee)&&Pn(ee.length)&&!!q[Fr(ee)]}function Ro(ee){if(!ks(ee))return In(ee);var oe=[];for(var ye in Object(ee))it.call(ee,ye)&&ye!="constructor"&&oe.push(ye);return oe}function No(ee,oe,ye,xe,Qe,je){var lt=ye&L,jt=ee.length,Lt=oe.length;if(jt!=Lt&&!(lt&&Lt>jt))return!1;var dt=je.get(ee);if(dt&&je.get(oe))return dt==oe;var Vt=-1,ln=!0,Gt=ye&S?new $i:void 0;for(je.set(ee,oe),je.set(oe,ee);++Vt<jt;){var fn=ee[Vt],pn=oe[Vt];if(xe)var _i=lt?xe(pn,fn,Vt,oe,ee,je):xe(fn,pn,Vt,ee,oe,je);if(_i!==void 0){if(_i)continue;ln=!1;break}if(Gt){if(!we(oe,function(Sn,Di){if(!Dt(Gt,Di)&&(fn===Sn||Qe(fn,Sn,ye,xe,je)))return Gt.push(Di)})){ln=!1;break}}else if(!(fn===pn||Qe(fn,pn,ye,xe,je))){ln=!1;break}}return je.delete(ee),je.delete(oe),ln}function $o(ee,oe,ye,xe,Qe,je,lt){switch(ye){case $:if(ee.byteLength!=oe.byteLength||ee.byteOffset!=oe.byteOffset)return!1;ee=ee.buffer,oe=oe.buffer;case F:return!(ee.byteLength!=oe.byteLength||!je(new le(ee),new le(oe)));case r:case n:case a:return Ts(+ee,+oe);case i:return ee.name==oe.name&&ee.message==oe.message;case w:case k:return ee==oe+"";case u:var jt=Zt;case _:var Lt=xe&L;if(jt||(jt=Ze),ee.size!=oe.size&&!Lt)return!1;var dt=lt.get(ee);if(dt)return dt==oe;xe|=S,lt.set(ee,oe);var Vt=No(jt(ee),jt(oe),xe,Qe,je,lt);return lt.delete(ee),Vt;case A:if(Li)return Li.call(ee)==Li.call(oe)}return!1}function ir(ee,oe,ye,xe,Qe,je){var lt=ye&L,jt=Do(ee),Lt=jt.length,dt=Do(oe),Vt=dt.length;if(Lt!=Vt&&!lt)return!1;for(var ln=Lt;ln--;){var Gt=jt[ln];if(!(lt?Gt in oe:it.call(oe,Gt)))return!1}var fn=je.get(ee);if(fn&&je.get(oe))return fn==oe;var pn=!0;je.set(ee,oe),je.set(oe,ee);for(var _i=lt;++ln<Lt;){Gt=jt[ln];var Sn=ee[Gt],Di=oe[Gt];if(xe)var Va=lt?xe(Di,Sn,Gt,oe,ee,je):xe(Sn,Di,Gt,ee,oe,je);if(!(Va===void 0?Sn===Di||Qe(Sn,Di,ye,xe,je):Va)){pn=!1;break}_i||(_i=Gt=="constructor")}if(pn&&!_i){var Rs=ee.constructor,Ns=oe.constructor;Rs!=Ns&&"constructor"in ee&&"constructor"in oe&&!(typeof Rs=="function"&&Rs instanceof Rs&&typeof Ns=="function"&&Ns instanceof Ns)&&(pn=!1)}return je.delete(ee),je.delete(oe),pn}function Do(ee){return za(ee,jo,Fa)}function Pr(ee,oe){var ye=ee.__data__;return Nc(oe)?ye[typeof oe=="string"?"string":"hash"]:ye.map}function wn(ee,oe){var ye=qt(ee,oe);return Lc(ye)?ye:void 0}function Rc(ee){var oe=it.call(ee,Pe),ye=ee[Pe];try{ee[Pe]=void 0;var xe=!0}catch{}var Qe=He.call(ee);return xe&&(oe?ee[Pe]=ye:delete ee[Pe]),Qe}var Fa=Pt?function(ee){return ee==null?[]:(ee=Object(ee),Ae(Pt(ee),function(oe){return be.call(ee,oe)}))}:Ls,si=Fr;(Wt&&si(new Wt(new ArrayBuffer(1)))!=$||Bn&&si(new Bn)!=u||Jn&&si(Jn.resolve())!=x||Br&&si(new Br)!=_||tr&&si(new tr)!=j)&&(si=function(ee){var oe=Fr(ee),ye=oe==m?ee.constructor:void 0,xe=ye?ai(ye):"";if(xe)switch(xe){case Mi:return $;case ko:return u;case gs:return x;case ms:return _;case vs:return j}return oe});function Oo(ee,oe){return oe=oe??y,!!oe&&(typeof ee=="number"||X.test(ee))&&ee>-1&&ee%1==0&&ee<oe}function Nc(ee){var oe=typeof ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?ee!=="__proto__":ee===null}function $c(ee){return!!rt&&rt in ee}function ks(ee){var oe=ee&&ee.constructor,ye=typeof oe=="function"&&oe.prototype||xt;return ee===ye}function oi(ee){return He.call(ee)}function ai(ee){if(ee!=null){try{return Yt.call(ee)}catch{}try{return ee+""}catch{}}return""}function Ts(ee,oe){return ee===oe||ee!==ee&&oe!==oe}var rr=Es((function(){return arguments})())?Es:function(ee){return ci(ee)&&it.call(ee,"callee")&&!be.call(ee,"callee")},li=Array.isArray;function Pa(ee){return ee!=null&&Pn(ee.length)&&!sr(ee)}var Wr=on||Ua;function Wa(ee,oe){return Lo(ee,oe)}function sr(ee){if(!Ms(ee))return!1;var oe=Fr(ee);return oe==s||oe==c||oe==h||oe==C}function Pn(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=y}function Ms(ee){var oe=typeof ee;return ee!=null&&(oe=="object"||oe=="function")}function ci(ee){return ee!=null&&typeof ee=="object"}var ui=ke?at(ke):dn;function jo(ee){return Pa(ee)?ri(ee):Ro(ee)}function Ls(){return[]}function Ua(){return!1}l.exports=Wa})(ka,ka.exports)),ka.exports}var pi={},ev;function g0(){if(ev)return pi;ev=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.getAceInstance=pi.debounce=pi.editorEvents=pi.editorOptions=void 0;var l=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];pi.editorOptions=l;var b=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];pi.editorEvents=b;var g=function(){var L;return typeof window>"u"?(Ai.window={},L=La(),delete Ai.window):window.ace?(L=window.ace,L.acequire=window.ace.require||window.ace.acequire):L=La(),L};pi.getAceInstance=g;var v=function(L,S){var y=null;return function(){var f=this,o=arguments;clearTimeout(y),y=setTimeout(function(){L.apply(f,o)},S)}};return pi.debounce=v,pi}var tv;function cw(){if(tv)return Mr;tv=1;var l=Mr&&Mr.__extends||(function(){var h=function(r,n){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},h(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");h(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),b=Mr&&Mr.__assign||function(){return b=Object.assign||function(h){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(h[s]=r[s])}return h},b.apply(this,arguments)};Object.defineProperty(Mr,"__esModule",{value:!0});var g=La(),v=Nd(),L=Ir(),S=p0(),y=g0(),f=(0,y.getAceInstance)(),o=(function(h){l(r,h);function r(n){var i=h.call(this,n)||this;return y.editorEvents.forEach(function(s){i[s]=i[s].bind(i)}),i.debounce=y.debounce,i}return r.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},r.prototype.componentDidMount=function(){var n=this,i=this.props,s=i.className,c=i.onBeforeLoad,u=i.onValidate,a=i.mode,d=i.focus,m=i.theme,x=i.fontSize,C=i.lineHeight,w=i.value,_=i.defaultValue,k=i.showGutter,A=i.wrapEnabled,T=i.showPrintMargin,j=i.scrollMargin,F=j===void 0?[0,0,0,0]:j,$=i.keyboardHandler,D=i.onLoad,M=i.commands,R=i.annotations,O=i.markers,z=i.placeholder;this.editor=f.edit(this.refEditor),c&&c(f);for(var B=Object.keys(this.props.editorProps),P=0;P<B.length;P++)this.editor[B[P]]=this.props.editorProps[B[P]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(F[0],F[1],F[2],F[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof a=="string"?"ace/mode/".concat(a):a),m&&m!==""&&this.editor.setTheme("ace/theme/".concat(m)),this.editor.setFontSize(typeof x=="number"?"".concat(x,"px"):x),C&&(this.editor.container.style.lineHeight=typeof C=="number"?"".concat(C,"px"):"".concat(C),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(_||w||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(k),this.editor.getSession().setUseWrapMode(A),this.editor.setShowPrintMargin(T),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),z&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),u&&this.editor.getSession().on("changeAnnotation",function(){var W=n.editor.getSession().getAnnotations();n.props.onValidate(W)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(R||[]),O&&O.length>0&&this.handleMarkers(O);var U=this.editor.$options;y.editorOptions.forEach(function(W){U.hasOwnProperty(W)?n.editor.setOption(W,n.props[W]):n.props[W]&&console.warn("ReactAce: editor option ".concat(W," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(M)&&M.forEach(function(W){typeof W.exec=="string"?n.editor.commands.bindKey(W.bindKey,W.exec):n.editor.commands.addCommand(W)}),$&&this.editor.setKeyboardHandler("ace/keyboard/"+$),s&&(this.refEditor.className+=" "+s),D&&D(this.editor),this.editor.resize(),d&&this.editor.focus()},r.prototype.componentDidUpdate=function(n){for(var i=n,s=this.props,c=0;c<y.editorOptions.length;c++){var u=y.editorOptions[c];s[u]!==i[u]&&this.editor.setOption(u,s[u])}if(s.className!==i.className){var a=this.refEditor.className,d=a.trim().split(" "),m=i.className.trim().split(" ");m.forEach(function(w){var _=d.indexOf(w);d.splice(_,1)}),this.refEditor.className=" "+s.className+" "+d.join(" ")}var x=this.editor&&s.value!=null&&this.editor.getValue()!==s.value;if(x){this.silent=!0;var C=this.editor.session.selection.toJSON();this.editor.setValue(s.value,s.cursorStart),this.editor.session.selection.fromJSON(C),this.silent=!1}s.placeholder!==i.placeholder&&this.updatePlaceholder(),s.mode!==i.mode&&this.editor.getSession().setMode(typeof s.mode=="string"?"ace/mode/".concat(s.mode):s.mode),s.theme!==i.theme&&this.editor.setTheme("ace/theme/"+s.theme),s.keyboardHandler!==i.keyboardHandler&&(s.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+s.keyboardHandler):this.editor.setKeyboardHandler(null)),s.fontSize!==i.fontSize&&this.editor.setFontSize(typeof s.fontSize=="number"?"".concat(s.fontSize,"px"):s.fontSize),s.lineHeight!==i.lineHeight&&(this.editor.container.style.lineHeight=typeof s.lineHeight=="number"?"".concat(s.lineHeight,"px"):s.lineHeight,this.editor.renderer.updateFontSize()),s.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(s.wrapEnabled),s.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(s.showPrintMargin),s.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(s.showGutter),S(s.setOptions,i.setOptions)||this.handleOptions(s),(x||!S(s.annotations,i.annotations))&&this.editor.getSession().setAnnotations(s.annotations||[]),!S(s.markers,i.markers)&&Array.isArray(s.markers)&&this.handleMarkers(s.markers),S(s.scrollMargin,i.scrollMargin)||this.handleScrollMargins(s.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},r.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},r.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},r.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,n)}},r.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,n)}},r.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,n)}},r.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},r.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},r.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},r.prototype.onCopy=function(n){var i=n.text;this.props.onCopy&&this.props.onCopy(i)},r.prototype.onPaste=function(n){var i=n.text;this.props.onPaste&&this.props.onPaste(i)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(n){for(var i=Object.keys(n.setOptions),s=0;s<i.length;s++)this.editor.setOption(i[s],n.setOptions[i[s]])},r.prototype.handleMarkers=function(n){var i=this,s=this.editor.getSession().getMarkers(!0);for(var c in s)s.hasOwnProperty(c)&&this.editor.getSession().removeMarker(s[c].id);s=this.editor.getSession().getMarkers(!1);for(var c in s)s.hasOwnProperty(c)&&s[c].clazz!=="ace_active-line"&&s[c].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(s[c].id);n.forEach(function(u){var a=u.startRow,d=u.startCol,m=u.endRow,x=u.endCol,C=u.className,w=u.type,_=u.inFront,k=_===void 0?!1:_,A=new g.Range(a,d,m,x);i.editor.getSession().addMarker(A,C,w,k)})},r.prototype.updatePlaceholder=function(){var n=this.editor,i=this.props.placeholder,s=!n.session.getValue().length,c=n.renderer.placeholderNode;!s&&c?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):s&&!c?(c=n.renderer.placeholderNode=document.createElement("div"),c.textContent=i||"",c.className="ace_comment ace_placeholder",c.style.padding="0 9px",c.style.position="absolute",c.style.zIndex="3",n.renderer.scroller.appendChild(c)):s&&c&&(c.textContent=i)},r.prototype.updateRef=function(n){this.refEditor=n},r.prototype.render=function(){var n=this.props,i=n.name,s=n.width,c=n.height,u=n.style,a=b({width:s,height:c},u);return L.createElement("div",{ref:this.updateRef,id:i,style:a})},r.propTypes={mode:v.oneOfType([v.string,v.object]),focus:v.bool,theme:v.string,name:v.string,className:v.string,height:v.string,width:v.string,fontSize:v.oneOfType([v.number,v.string]),lineHeight:v.oneOfType([v.number,v.string]),showGutter:v.bool,onChange:v.func,onCopy:v.func,onPaste:v.func,onFocus:v.func,onInput:v.func,onBlur:v.func,onScroll:v.func,value:v.string,defaultValue:v.string,onLoad:v.func,onSelectionChange:v.func,onCursorChange:v.func,onBeforeLoad:v.func,onValidate:v.func,minLines:v.number,maxLines:v.number,readOnly:v.bool,highlightActiveLine:v.bool,tabSize:v.number,showPrintMargin:v.bool,cursorStart:v.number,debounceChangePeriod:v.number,editorProps:v.object,setOptions:v.object,style:v.object,scrollMargin:v.array,annotations:v.array,markers:v.array,keyboardHandler:v.string,wrapEnabled:v.bool,enableSnippets:v.bool,enableBasicAutocompletion:v.oneOfType([v.bool,v.array]),enableLiveAutocompletion:v.oneOfType([v.bool,v.array]),navigateToFileEnd:v.bool,commands:v.array,placeholder:v.string},r.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},r})(L.Component);return Mr.default=o,Mr}var uo={},Lr={},Yh={exports:{}},nv;function uw(){return nv||(nv=1,(function(l,b){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(g,v,L){var S=g("./lib/oop");g("./lib/lang");var y=g("./lib/event_emitter").EventEmitter,f=g("./editor").Editor,o=g("./virtual_renderer").VirtualRenderer,h=g("./edit_session").EditSession,r;r=function(n,i,s){this.BELOW=1,this.BESIDE=0,this.$container=n,this.$theme=i,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(s||1),this.$cEditor=this.$editors[0],this.on("focus",(function(c){this.$cEditor=c}).bind(this))},(function(){S.implement(this,y),this.$createEditor=function(){var n=document.createElement("div");n.className=this.$editorCSS,n.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(n);var i=new f(new o(n,this.$theme));return i.on("focus",(function(){this._emit("focus",i)}).bind(this)),this.$editors.push(i),i.setFontSize(this.$fontSize),i},this.setSplits=function(n){var i;if(n<1)throw"The number of splits have to be > 0!";if(n!=this.$splits){if(n>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<n;)i=this.$editors[this.$splits],this.$container.appendChild(i.container),i.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<n;)this.$createEditor(),this.$splits++}else for(;this.$splits>n;)i=this.$editors[this.$splits-1],this.$container.removeChild(i.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(n){return this.$editors[n]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(n){this.$editors.forEach(function(i){i.setTheme(n)})},this.setKeyboardHandler=function(n){this.$editors.forEach(function(i){i.setKeyboardHandler(n)})},this.forEach=function(n,i){this.$editors.forEach(n,i)},this.$fontSize="",this.setFontSize=function(n){this.$fontSize=n,this.forEach(function(i){i.setFontSize(n)})},this.$cloneSession=function(n){var i=new h(n.getDocument(),n.getMode()),s=n.getUndoManager();return i.setUndoManager(s),i.setTabSize(n.getTabSize()),i.setUseSoftTabs(n.getUseSoftTabs()),i.setOverwrite(n.getOverwrite()),i.setBreakpoints(n.getBreakpoints()),i.setUseWrapMode(n.getUseWrapMode()),i.setUseWorker(n.getUseWorker()),i.setWrapLimitRange(n.$wrapLimitRange.min,n.$wrapLimitRange.max),i.$foldData=n.$cloneFoldData(),i},this.setSession=function(n,i){var s;i==null?s=this.$cEditor:s=this.$editors[i];var c=this.$editors.some(function(u){return u.session===n});return c&&(n=this.$cloneSession(n)),s.setSession(n),n},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(n){this.$orientation!=n&&(this.$orientation=n,this.resize())},this.resize=function(){var n=this.$container.clientWidth,i=this.$container.clientHeight,s;if(this.$orientation==this.BESIDE)for(var c=n/this.$splits,u=0;u<this.$splits;u++)s=this.$editors[u],s.container.style.width=c+"px",s.container.style.top="0px",s.container.style.left=u*c+"px",s.container.style.height=i+"px",s.resize();else for(var a=i/this.$splits,u=0;u<this.$splits;u++)s=this.$editors[u],s.container.style.width=n+"px",s.container.style.top=u*a+"px",s.container.style.left="0px",s.container.style.height=a+"px",s.resize()}}).call(r.prototype),v.Split=r}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(g,v,L){L.exports=g("../split")}),(function(){ace.require(["ace/ext/split"],function(g){l&&(l.exports=g)})})()})(Yh)),Yh.exports}var Xh,iv;function hw(){if(iv)return Xh;iv=1;var l="Expected a function",b="__lodash_hash_undefined__",g="[object Function]",v="[object GeneratorFunction]",L="[object Symbol]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y=/^\w*$/,f=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/[\\^$.*+?()[\]{}|]/g,r=/\\(\\)?/g,n=/^\[object .+?Constructor\]$/,i=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,s=typeof self=="object"&&self&&self.Object===Object&&self,c=i||s||Function("return this")();function u(le,be){return le?.[be]}function a(le){var be=!1;if(le!=null&&typeof le.toString!="function")try{be=!!(le+"")}catch{}return be}var d=Array.prototype,m=Function.prototype,x=Object.prototype,C=c["__core-js_shared__"],w=(function(){var le=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""})(),_=m.toString,k=x.hasOwnProperty,A=x.toString,T=RegExp("^"+_.call(k).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=c.Symbol,F=d.splice,$=Dt(c,"Map"),D=Dt(Object,"create"),M=j?j.prototype:void 0,R=M?M.toString:void 0;function O(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function z(){this.__data__=D?D(null):{}}function B(le){return this.has(le)&&delete this.__data__[le]}function P(le){var be=this.__data__;if(D){var Me=be[le];return Me===b?void 0:Me}return k.call(be,le)?be[le]:void 0}function U(le){var be=this.__data__;return D?be[le]!==void 0:k.call(be,le)}function W(le,be){var Me=this.__data__;return Me[le]=D&&be===void 0?b:be,this}O.prototype.clear=z,O.prototype.delete=B,O.prototype.get=P,O.prototype.has=U,O.prototype.set=W;function K(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function Y(){this.__data__=[]}function X(le){var be=this.__data__,Me=ke(be,le);if(Me<0)return!1;var Pe=be.length-1;return Me==Pe?be.pop():F.call(be,Me,1),!0}function q(le){var be=this.__data__,Me=ke(be,le);return Me<0?void 0:be[Me][1]}function J(le){return ke(this.__data__,le)>-1}function V(le,be){var Me=this.__data__,Pe=ke(Me,le);return Pe<0?Me.push([le,be]):Me[Pe][1]=be,this}K.prototype.clear=Y,K.prototype.delete=X,K.prototype.get=q,K.prototype.has=J,K.prototype.set=V;function Q(le){var be=-1,Me=le?le.length:0;for(this.clear();++be<Me;){var Pe=le[be];this.set(Pe[0],Pe[1])}}function ne(){this.__data__={hash:new O,map:new($||K),string:new O}}function ie(le){return at(this,le).delete(le)}function me(le){return at(this,le).get(le)}function pe(le){return at(this,le).has(le)}function Se(le,be){return at(this,le).set(le,be),this}Q.prototype.clear=ne,Q.prototype.delete=ie,Q.prototype.get=me,Q.prototype.has=pe,Q.prototype.set=Se;function ke(le,be){for(var Me=le.length;Me--;)if(pt(le[Me][0],be))return Me;return-1}function Ae(le,be){be=qt(be,le)?[be]:Ce(be);for(var Me=0,Pe=be.length;le!=null&&Me<Pe;)le=le[_t(be[Me++])];return Me&&Me==Pe?le:void 0}function Ue(le){if(!rt(le)||mt(le))return!1;var be=it(le)||a(le)?T:n;return be.test(Ot(le))}function we(le){if(typeof le=="string")return le;if(Tt(le))return R?R.call(le):"";var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Ce(le){return Yt(le)?le:Ze(le)}function at(le,be){var Me=le.__data__;return Zt(be)?Me[typeof be=="string"?"string":"hash"]:Me.map}function Dt(le,be){var Me=u(le,be);return Ue(Me)?Me:void 0}function qt(le,be){if(Yt(le))return!1;var Me=typeof le;return Me=="number"||Me=="symbol"||Me=="boolean"||le==null||Tt(le)?!0:y.test(le)||!S.test(le)||be!=null&&le in Object(be)}function Zt(le){var be=typeof le;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?le!=="__proto__":le===null}function mt(le){return!!w&&w in le}var Ze=xt(function(le){le=gt(le);var be=[];return f.test(le)&&be.push(""),le.replace(o,function(Me,Pe,Pt,on){be.push(Pt?on.replace(r,"$1"):Pe||Me)}),be});function _t(le){if(typeof le=="string"||Tt(le))return le;var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Ot(le){if(le!=null){try{return _.call(le)}catch{}try{return le+""}catch{}}return""}function xt(le,be){if(typeof le!="function"||be&&typeof be!="function")throw new TypeError(l);var Me=function(){var Pe=arguments,Pt=be?be.apply(this,Pe):Pe[0],on=Me.cache;if(on.has(Pt))return on.get(Pt);var In=le.apply(this,Pe);return Me.cache=on.set(Pt,In),In};return Me.cache=new(xt.Cache||Q),Me}xt.Cache=Q;function pt(le,be){return le===be||le!==le&&be!==be}var Yt=Array.isArray;function it(le){var be=rt(le)?A.call(le):"";return be==g||be==v}function rt(le){var be=typeof le;return!!le&&(be=="object"||be=="function")}function He(le){return!!le&&typeof le=="object"}function Tt(le){return typeof le=="symbol"||He(le)&&A.call(le)==L}function gt(le){return le==null?"":we(le)}function wt(le,be,Me){var Pe=le==null?void 0:Ae(le,be);return Pe===void 0?Me:Pe}return Xh=wt,Xh}var rv;function m0(){if(rv)return Lr;rv=1;var l=Lr&&Lr.__extends||(function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(c[a]=u[a])},n(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}})(),b=Lr&&Lr.__assign||function(){return b=Object.assign||function(n){for(var i,s=1,c=arguments.length;s<c;s++){i=arguments[s];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},b.apply(this,arguments)};Object.defineProperty(Lr,"__esModule",{value:!0});var g=g0(),v=(0,g.getAceInstance)(),L=La(),S=uw(),y=Nd(),f=Ir(),o=p0(),h=hw(),r=(function(n){l(i,n);function i(s){var c=n.call(this,s)||this;return g.editorEvents.forEach(function(u){c[u]=c[u].bind(c)}),c.debounce=g.debounce,c}return i.prototype.isInShadow=function(s){for(var c=s&&s.parentNode;c;){if(c.toString()==="[object ShadowRoot]")return!0;c=c.parentNode}return!1},i.prototype.componentDidMount=function(){var s=this,c=this.props,u=c.className,a=c.onBeforeLoad,d=c.mode,m=c.focus,x=c.theme,C=c.fontSize,w=c.value,_=c.defaultValue,k=c.cursorStart,A=c.showGutter,T=c.wrapEnabled,j=c.showPrintMargin,F=c.scrollMargin,$=F===void 0?[0,0,0,0]:F,D=c.keyboardHandler,M=c.onLoad,R=c.commands,O=c.annotations,z=c.markers,B=c.splits;this.editor=v.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(x)),a&&a(v);var P=Object.keys(this.props.editorProps),U=new S.Split(this.editor.container,"ace/theme/".concat(x),B);this.editor.env.split=U,this.splitEditor=U.getEditor(0),this.split=U,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var W=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),U.forEach(function(Y,X){for(var q=0;q<P.length;q++)Y[P[q]]=s.props.editorProps[P[q]];var J=h(_,X),V=h(w,X,"");Y.session.setUndoManager(new v.UndoManager),Y.setTheme("ace/theme/".concat(x)),Y.renderer.setScrollMargin($[0],$[1],$[2],$[3]),Y.getSession().setMode("ace/mode/".concat(d)),Y.setFontSize(C),Y.renderer.setShowGutter(A),Y.getSession().setUseWrapMode(T),Y.setShowPrintMargin(j),Y.on("focus",s.onFocus),Y.on("blur",s.onBlur),Y.on("input",s.onInput),Y.on("copy",s.onCopy),Y.on("paste",s.onPaste),Y.on("change",s.onChange),Y.getSession().selection.on("changeSelection",s.onSelectionChange),Y.getSession().selection.on("changeCursor",s.onCursorChange),Y.session.on("changeScrollTop",s.onScroll),Y.setValue(J===void 0?V:J,k);var Q=h(O,X,[]),ne=h(z,X,[]);Y.getSession().setAnnotations(Q),ne&&ne.length>0&&s.handleMarkers(ne,Y);for(var q=0;q<g.editorOptions.length;q++){var ie=g.editorOptions[q];W.hasOwnProperty(ie)?Y.setOption(ie,s.props[ie]):s.props[ie]&&console.warn("ReaceAce: editor option ".concat(ie," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}s.handleOptions(s.props,Y),Array.isArray(R)&&R.forEach(function(me){typeof me.exec=="string"?Y.commands.bindKey(me.bindKey,me.exec):Y.commands.addCommand(me)}),D&&Y.setKeyboardHandler("ace/keyboard/"+D)}),u&&(this.refEditor.className+=" "+u),m&&this.splitEditor.focus();var K=this.editor.env.split;K.setOrientation(this.props.orientation==="below"?K.BELOW:K.BESIDE),K.resize(!0),M&&M(K)},i.prototype.componentDidUpdate=function(s){var c=this,u=s,a=this.props,d=this.editor.env.split;if(a.splits!==u.splits&&d.setSplits(a.splits),a.orientation!==u.orientation&&d.setOrientation(a.orientation==="below"?d.BELOW:d.BESIDE),d.forEach(function(w,_){a.mode!==u.mode&&w.getSession().setMode("ace/mode/"+a.mode),a.keyboardHandler!==u.keyboardHandler&&(a.keyboardHandler?w.setKeyboardHandler("ace/keyboard/"+a.keyboardHandler):w.setKeyboardHandler(null)),a.fontSize!==u.fontSize&&w.setFontSize(a.fontSize),a.wrapEnabled!==u.wrapEnabled&&w.getSession().setUseWrapMode(a.wrapEnabled),a.showPrintMargin!==u.showPrintMargin&&w.setShowPrintMargin(a.showPrintMargin),a.showGutter!==u.showGutter&&w.renderer.setShowGutter(a.showGutter);for(var k=0;k<g.editorOptions.length;k++){var A=g.editorOptions[k];a[A]!==u[A]&&w.setOption(A,a[A])}o(a.setOptions,u.setOptions)||c.handleOptions(a,w);var T=h(a.value,_,"");if(w.getValue()!==T){c.silent=!0;var j=w.session.selection.toJSON();w.setValue(T,a.cursorStart),w.session.selection.fromJSON(j),c.silent=!1}var F=h(a.annotations,_,[]),$=h(u.annotations,_,[]);o(F,$)||w.getSession().setAnnotations(F);var D=h(a.markers,_,[]),M=h(u.markers,_,[]);!o(D,M)&&Array.isArray(D)&&c.handleMarkers(D,w)}),a.className!==u.className){var m=this.refEditor.className,x=m.trim().split(" "),C=u.className.trim().split(" ");C.forEach(function(w){var _=x.indexOf(w);x.splice(_,1)}),this.refEditor.className=" "+a.className+" "+x.join(" ")}a.theme!==u.theme&&d.setTheme("ace/theme/"+a.theme),a.focus&&!u.focus&&this.splitEditor.focus(),(a.height!==this.props.height||a.width!==this.props.width)&&this.editor.resize()},i.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},i.prototype.onChange=function(s){if(this.props.onChange&&!this.silent){var c=[];this.editor.env.split.forEach(function(u){c.push(u.getValue())}),this.props.onChange(c,s)}},i.prototype.onSelectionChange=function(s){if(this.props.onSelectionChange){var c=[];this.editor.env.split.forEach(function(u){c.push(u.getSelection())}),this.props.onSelectionChange(c,s)}},i.prototype.onCursorChange=function(s){if(this.props.onCursorChange){var c=[];this.editor.env.split.forEach(function(u){c.push(u.getSelection())}),this.props.onCursorChange(c,s)}},i.prototype.onFocus=function(s){this.props.onFocus&&this.props.onFocus(s)},i.prototype.onInput=function(s){this.props.onInput&&this.props.onInput(s)},i.prototype.onBlur=function(s){this.props.onBlur&&this.props.onBlur(s)},i.prototype.onCopy=function(s){this.props.onCopy&&this.props.onCopy(s)},i.prototype.onPaste=function(s){this.props.onPaste&&this.props.onPaste(s)},i.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},i.prototype.handleOptions=function(s,c){for(var u=Object.keys(s.setOptions),a=0;a<u.length;a++)c.setOption(u[a],s.setOptions[u[a]])},i.prototype.handleMarkers=function(s,c){var u=c.getSession().getMarkers(!0);for(var a in u)u.hasOwnProperty(a)&&c.getSession().removeMarker(u[a].id);u=c.getSession().getMarkers(!1);for(var a in u)u.hasOwnProperty(a)&&c.getSession().removeMarker(u[a].id);s.forEach(function(d){var m=d.startRow,x=d.startCol,C=d.endRow,w=d.endCol,_=d.className,k=d.type,A=d.inFront,T=A===void 0?!1:A,j=new L.Range(m,x,C,w);c.getSession().addMarker(j,_,k,T)})},i.prototype.updateRef=function(s){this.refEditor=s},i.prototype.render=function(){var s=this.props,c=s.name,u=s.width,a=s.height,d=s.style,m=b({width:u,height:a},d);return f.createElement("div",{ref:this.updateRef,id:c,style:m})},i.propTypes={className:y.string,debounceChangePeriod:y.number,defaultValue:y.arrayOf(y.string),focus:y.bool,fontSize:y.oneOfType([y.number,y.string]),height:y.string,mode:y.string,name:y.string,onBlur:y.func,onChange:y.func,onCopy:y.func,onFocus:y.func,onInput:y.func,onLoad:y.func,onPaste:y.func,onScroll:y.func,orientation:y.string,showGutter:y.bool,splits:y.number,theme:y.string,value:y.arrayOf(y.string),width:y.string,onSelectionChange:y.func,onCursorChange:y.func,onBeforeLoad:y.func,minLines:y.number,maxLines:y.number,readOnly:y.bool,highlightActiveLine:y.bool,tabSize:y.number,showPrintMargin:y.bool,cursorStart:y.number,editorProps:y.object,setOptions:y.object,style:y.object,scrollMargin:y.array,annotations:y.array,markers:y.array,keyboardHandler:y.string,wrapEnabled:y.bool,enableBasicAutocompletion:y.oneOfType([y.bool,y.array]),enableLiveAutocompletion:y.oneOfType([y.bool,y.array]),commands:y.array},i.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},i})(f.Component);return Lr.default=r,Lr}var qh={exports:{}},sv;function dw(){return sv||(sv=1,(function(l){var b=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},g=-1,v=1,L=0;b.Diff=function(S,y){return[S,y]},b.prototype.diff_main=function(S,y,f,o){typeof o>"u"&&(this.Diff_Timeout<=0?o=Number.MAX_VALUE:o=new Date().getTime()+this.Diff_Timeout*1e3);var h=o;if(S==null||y==null)throw new Error("Null input. (diff_main)");if(S==y)return S?[new b.Diff(L,S)]:[];typeof f>"u"&&(f=!0);var r=f,n=this.diff_commonPrefix(S,y),i=S.substring(0,n);S=S.substring(n),y=y.substring(n),n=this.diff_commonSuffix(S,y);var s=S.substring(S.length-n);S=S.substring(0,S.length-n),y=y.substring(0,y.length-n);var c=this.diff_compute_(S,y,r,h);return i&&c.unshift(new b.Diff(L,i)),s&&c.push(new b.Diff(L,s)),this.diff_cleanupMerge(c),c},b.prototype.diff_compute_=function(S,y,f,o){var h;if(!S)return[new b.Diff(v,y)];if(!y)return[new b.Diff(g,S)];var r=S.length>y.length?S:y,n=S.length>y.length?y:S,i=r.indexOf(n);if(i!=-1)return h=[new b.Diff(v,r.substring(0,i)),new b.Diff(L,n),new b.Diff(v,r.substring(i+n.length))],S.length>y.length&&(h[0][0]=h[2][0]=g),h;if(n.length==1)return[new b.Diff(g,S),new b.Diff(v,y)];var s=this.diff_halfMatch_(S,y);if(s){var c=s[0],u=s[1],a=s[2],d=s[3],m=s[4],x=this.diff_main(c,a,f,o),C=this.diff_main(u,d,f,o);return x.concat([new b.Diff(L,m)],C)}return f&&S.length>100&&y.length>100?this.diff_lineMode_(S,y,o):this.diff_bisect_(S,y,o)},b.prototype.diff_lineMode_=function(S,y,f){var o=this.diff_linesToChars_(S,y);S=o.chars1,y=o.chars2;var h=o.lineArray,r=this.diff_main(S,y,!1,f);this.diff_charsToLines_(r,h),this.diff_cleanupSemantic(r),r.push(new b.Diff(L,""));for(var n=0,i=0,s=0,c="",u="";n<r.length;){switch(r[n][0]){case v:s++,u+=r[n][1];break;case g:i++,c+=r[n][1];break;case L:if(i>=1&&s>=1){r.splice(n-i-s,i+s),n=n-i-s;for(var a=this.diff_main(c,u,!1,f),d=a.length-1;d>=0;d--)r.splice(n,0,a[d]);n=n+a.length}s=0,i=0,c="",u="";break}n++}return r.pop(),r},b.prototype.diff_bisect_=function(S,y,f){for(var o=S.length,h=y.length,r=Math.ceil((o+h)/2),n=r,i=2*r,s=new Array(i),c=new Array(i),u=0;u<i;u++)s[u]=-1,c[u]=-1;s[n+1]=0,c[n+1]=0;for(var a=o-h,d=a%2!=0,m=0,x=0,C=0,w=0,_=0;_<r&&!(new Date().getTime()>f);_++){for(var k=-_+m;k<=_-x;k+=2){var A=n+k,T;k==-_||k!=_&&s[A-1]<s[A+1]?T=s[A+1]:T=s[A-1]+1;for(var j=T-k;T<o&&j<h&&S.charAt(T)==y.charAt(j);)T++,j++;if(s[A]=T,T>o)x+=2;else if(j>h)m+=2;else if(d){var F=n+a-k;if(F>=0&&F<i&&c[F]!=-1){var $=o-c[F];if(T>=$)return this.diff_bisectSplit_(S,y,T,j,f)}}}for(var D=-_+C;D<=_-w;D+=2){var F=n+D,$;D==-_||D!=_&&c[F-1]<c[F+1]?$=c[F+1]:$=c[F-1]+1;for(var M=$-D;$<o&&M<h&&S.charAt(o-$-1)==y.charAt(h-M-1);)$++,M++;if(c[F]=$,$>o)w+=2;else if(M>h)C+=2;else if(!d){var A=n+a-D;if(A>=0&&A<i&&s[A]!=-1){var T=s[A],j=n+T-A;if($=o-$,T>=$)return this.diff_bisectSplit_(S,y,T,j,f)}}}}return[new b.Diff(g,S),new b.Diff(v,y)]},b.prototype.diff_bisectSplit_=function(S,y,f,o,h){var r=S.substring(0,f),n=y.substring(0,o),i=S.substring(f),s=y.substring(o),c=this.diff_main(r,n,!1,h),u=this.diff_main(i,s,!1,h);return c.concat(u)},b.prototype.diff_linesToChars_=function(S,y){var f=[],o={};f[0]="";function h(s){for(var c="",u=0,a=-1,d=f.length;a<s.length-1;){a=s.indexOf(`
`,u),a==-1&&(a=s.length-1);var m=s.substring(u,a+1);(o.hasOwnProperty?o.hasOwnProperty(m):o[m]!==void 0)?c+=String.fromCharCode(o[m]):(d==r&&(m=s.substring(u),a=s.length),c+=String.fromCharCode(d),o[m]=d,f[d++]=m),u=a+1}return c}var r=4e4,n=h(S);r=65535;var i=h(y);return{chars1:n,chars2:i,lineArray:f}},b.prototype.diff_charsToLines_=function(S,y){for(var f=0;f<S.length;f++){for(var o=S[f][1],h=[],r=0;r<o.length;r++)h[r]=y[o.charCodeAt(r)];S[f][1]=h.join("")}},b.prototype.diff_commonPrefix=function(S,y){if(!S||!y||S.charAt(0)!=y.charAt(0))return 0;for(var f=0,o=Math.min(S.length,y.length),h=o,r=0;f<h;)S.substring(r,h)==y.substring(r,h)?(f=h,r=f):o=h,h=Math.floor((o-f)/2+f);return h},b.prototype.diff_commonSuffix=function(S,y){if(!S||!y||S.charAt(S.length-1)!=y.charAt(y.length-1))return 0;for(var f=0,o=Math.min(S.length,y.length),h=o,r=0;f<h;)S.substring(S.length-h,S.length-r)==y.substring(y.length-h,y.length-r)?(f=h,r=f):o=h,h=Math.floor((o-f)/2+f);return h},b.prototype.diff_commonOverlap_=function(S,y){var f=S.length,o=y.length;if(f==0||o==0)return 0;f>o?S=S.substring(f-o):f<o&&(y=y.substring(0,f));var h=Math.min(f,o);if(S==y)return h;for(var r=0,n=1;;){var i=S.substring(h-n),s=y.indexOf(i);if(s==-1)return r;n+=s,(s==0||S.substring(h-n)==y.substring(0,n))&&(r=n,n++)}},b.prototype.diff_halfMatch_=function(S,y){if(this.Diff_Timeout<=0)return null;var f=S.length>y.length?S:y,o=S.length>y.length?y:S;if(f.length<4||o.length*2<f.length)return null;var h=this;function r(x,C,w){for(var _=x.substring(w,w+Math.floor(x.length/4)),k=-1,A="",T,j,F,$;(k=C.indexOf(_,k+1))!=-1;){var D=h.diff_commonPrefix(x.substring(w),C.substring(k)),M=h.diff_commonSuffix(x.substring(0,w),C.substring(0,k));A.length<M+D&&(A=C.substring(k-M,k)+C.substring(k,k+D),T=x.substring(0,w-M),j=x.substring(w+D),F=C.substring(0,k-M),$=C.substring(k+D))}return A.length*2>=x.length?[T,j,F,$,A]:null}var n=r(f,o,Math.ceil(f.length/4)),i=r(f,o,Math.ceil(f.length/2)),s;if(!n&&!i)return null;i?n?s=n[4].length>i[4].length?n:i:s=i:s=n;var c,u,a,d;S.length>y.length?(c=s[0],u=s[1],a=s[2],d=s[3]):(a=s[0],d=s[1],c=s[2],u=s[3]);var m=s[4];return[c,u,a,d,m]},b.prototype.diff_cleanupSemantic=function(S){for(var y=!1,f=[],o=0,h=null,r=0,n=0,i=0,s=0,c=0;r<S.length;)S[r][0]==L?(f[o++]=r,n=s,i=c,s=0,c=0,h=S[r][1]):(S[r][0]==v?s+=S[r][1].length:c+=S[r][1].length,h&&h.length<=Math.max(n,i)&&h.length<=Math.max(s,c)&&(S.splice(f[o-1],0,new b.Diff(g,h)),S[f[o-1]+1][0]=v,o--,o--,r=o>0?f[o-1]:-1,n=0,i=0,s=0,c=0,h=null,y=!0)),r++;for(y&&this.diff_cleanupMerge(S),this.diff_cleanupSemanticLossless(S),r=1;r<S.length;){if(S[r-1][0]==g&&S[r][0]==v){var u=S[r-1][1],a=S[r][1],d=this.diff_commonOverlap_(u,a),m=this.diff_commonOverlap_(a,u);d>=m?(d>=u.length/2||d>=a.length/2)&&(S.splice(r,0,new b.Diff(L,a.substring(0,d))),S[r-1][1]=u.substring(0,u.length-d),S[r+1][1]=a.substring(d),r++):(m>=u.length/2||m>=a.length/2)&&(S.splice(r,0,new b.Diff(L,u.substring(0,m))),S[r-1][0]=v,S[r-1][1]=a.substring(0,a.length-m),S[r+1][0]=g,S[r+1][1]=u.substring(m),r++),r++}r++}},b.prototype.diff_cleanupSemanticLossless=function(S){function y(m,x){if(!m||!x)return 6;var C=m.charAt(m.length-1),w=x.charAt(0),_=C.match(b.nonAlphaNumericRegex_),k=w.match(b.nonAlphaNumericRegex_),A=_&&C.match(b.whitespaceRegex_),T=k&&w.match(b.whitespaceRegex_),j=A&&C.match(b.linebreakRegex_),F=T&&w.match(b.linebreakRegex_),$=j&&m.match(b.blanklineEndRegex_),D=F&&x.match(b.blanklineStartRegex_);return $||D?5:j||F?4:_&&!A&&T?3:A||T?2:_||k?1:0}for(var f=1;f<S.length-1;){if(S[f-1][0]==L&&S[f+1][0]==L){var o=S[f-1][1],h=S[f][1],r=S[f+1][1],n=this.diff_commonSuffix(o,h);if(n){var i=h.substring(h.length-n);o=o.substring(0,o.length-n),h=i+h.substring(0,h.length-n),r=i+r}for(var s=o,c=h,u=r,a=y(o,h)+y(h,r);h.charAt(0)===r.charAt(0);){o+=h.charAt(0),h=h.substring(1)+r.charAt(0),r=r.substring(1);var d=y(o,h)+y(h,r);d>=a&&(a=d,s=o,c=h,u=r)}S[f-1][1]!=s&&(s?S[f-1][1]=s:(S.splice(f-1,1),f--),S[f][1]=c,u?S[f+1][1]=u:(S.splice(f+1,1),f--))}f++}},b.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,b.whitespaceRegex_=/\s/,b.linebreakRegex_=/[\r\n]/,b.blanklineEndRegex_=/\n\r?\n$/,b.blanklineStartRegex_=/^\r?\n\r?\n/,b.prototype.diff_cleanupEfficiency=function(S){for(var y=!1,f=[],o=0,h=null,r=0,n=!1,i=!1,s=!1,c=!1;r<S.length;)S[r][0]==L?(S[r][1].length<this.Diff_EditCost&&(s||c)?(f[o++]=r,n=s,i=c,h=S[r][1]):(o=0,h=null),s=c=!1):(S[r][0]==g?c=!0:s=!0,h&&(n&&i&&s&&c||h.length<this.Diff_EditCost/2&&n+i+s+c==3)&&(S.splice(f[o-1],0,new b.Diff(g,h)),S[f[o-1]+1][0]=v,o--,h=null,n&&i?(s=c=!0,o=0):(o--,r=o>0?f[o-1]:-1,s=c=!1),y=!0)),r++;y&&this.diff_cleanupMerge(S)},b.prototype.diff_cleanupMerge=function(S){S.push(new b.Diff(L,""));for(var y=0,f=0,o=0,h="",r="",n;y<S.length;)switch(S[y][0]){case v:o++,r+=S[y][1],y++;break;case g:f++,h+=S[y][1],y++;break;case L:f+o>1?(f!==0&&o!==0&&(n=this.diff_commonPrefix(r,h),n!==0&&(y-f-o>0&&S[y-f-o-1][0]==L?S[y-f-o-1][1]+=r.substring(0,n):(S.splice(0,0,new b.Diff(L,r.substring(0,n))),y++),r=r.substring(n),h=h.substring(n)),n=this.diff_commonSuffix(r,h),n!==0&&(S[y][1]=r.substring(r.length-n)+S[y][1],r=r.substring(0,r.length-n),h=h.substring(0,h.length-n))),y-=f+o,S.splice(y,f+o),h.length&&(S.splice(y,0,new b.Diff(g,h)),y++),r.length&&(S.splice(y,0,new b.Diff(v,r)),y++),y++):y!==0&&S[y-1][0]==L?(S[y-1][1]+=S[y][1],S.splice(y,1)):y++,o=0,f=0,h="",r="";break}S[S.length-1][1]===""&&S.pop();var i=!1;for(y=1;y<S.length-1;)S[y-1][0]==L&&S[y+1][0]==L&&(S[y][1].substring(S[y][1].length-S[y-1][1].length)==S[y-1][1]?(S[y][1]=S[y-1][1]+S[y][1].substring(0,S[y][1].length-S[y-1][1].length),S[y+1][1]=S[y-1][1]+S[y+1][1],S.splice(y-1,1),i=!0):S[y][1].substring(0,S[y+1][1].length)==S[y+1][1]&&(S[y-1][1]+=S[y+1][1],S[y][1]=S[y][1].substring(S[y+1][1].length)+S[y+1][1],S.splice(y+1,1),i=!0)),y++;i&&this.diff_cleanupMerge(S)},b.prototype.diff_xIndex=function(S,y){var f=0,o=0,h=0,r=0,n;for(n=0;n<S.length&&(S[n][0]!==v&&(f+=S[n][1].length),S[n][0]!==g&&(o+=S[n][1].length),!(f>y));n++)h=f,r=o;return S.length!=n&&S[n][0]===g?r:r+(y-h)},b.prototype.diff_prettyHtml=function(S){for(var y=[],f=/&/g,o=/</g,h=/>/g,r=/\n/g,n=0;n<S.length;n++){var i=S[n][0],s=S[n][1],c=s.replace(f,"&amp;").replace(o,"&lt;").replace(h,"&gt;").replace(r,"&para;<br>");switch(i){case v:y[n]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case g:y[n]='<del style="background:#ffe6e6;">'+c+"</del>";break;case L:y[n]="<span>"+c+"</span>";break}}return y.join("")},b.prototype.diff_text1=function(S){for(var y=[],f=0;f<S.length;f++)S[f][0]!==v&&(y[f]=S[f][1]);return y.join("")},b.prototype.diff_text2=function(S){for(var y=[],f=0;f<S.length;f++)S[f][0]!==g&&(y[f]=S[f][1]);return y.join("")},b.prototype.diff_levenshtein=function(S){for(var y=0,f=0,o=0,h=0;h<S.length;h++){var r=S[h][0],n=S[h][1];switch(r){case v:f+=n.length;break;case g:o+=n.length;break;case L:y+=Math.max(f,o),f=0,o=0;break}}return y+=Math.max(f,o),y},b.prototype.diff_toDelta=function(S){for(var y=[],f=0;f<S.length;f++)switch(S[f][0]){case v:y[f]="+"+encodeURI(S[f][1]);break;case g:y[f]="-"+S[f][1].length;break;case L:y[f]="="+S[f][1].length;break}return y.join("	").replace(/%20/g," ")},b.prototype.diff_fromDelta=function(S,y){for(var f=[],o=0,h=0,r=y.split(/\t/g),n=0;n<r.length;n++){var i=r[n].substring(1);switch(r[n].charAt(0)){case"+":try{f[o++]=new b.Diff(v,decodeURI(i))}catch{throw new Error("Illegal escape in diff_fromDelta: "+i)}break;case"-":case"=":var s=parseInt(i,10);if(isNaN(s)||s<0)throw new Error("Invalid number in diff_fromDelta: "+i);var c=S.substring(h,h+=s);r[n].charAt(0)=="="?f[o++]=new b.Diff(L,c):f[o++]=new b.Diff(g,c);break;default:if(r[n])throw new Error("Invalid diff operation in diff_fromDelta: "+r[n])}}if(h!=S.length)throw new Error("Delta length ("+h+") does not equal source text length ("+S.length+").");return f},b.prototype.match_main=function(S,y,f){if(S==null||y==null||f==null)throw new Error("Null input. (match_main)");return f=Math.max(0,Math.min(f,S.length)),S==y?0:S.length?S.substring(f,f+y.length)==y?f:this.match_bitap_(S,y,f):-1},b.prototype.match_bitap_=function(S,y,f){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var o=this.match_alphabet_(y),h=this;function r(T,j){var F=T/y.length,$=Math.abs(f-j);return h.Match_Distance?F+$/h.Match_Distance:$?1:F}var n=this.Match_Threshold,i=S.indexOf(y,f);i!=-1&&(n=Math.min(r(0,i),n),i=S.lastIndexOf(y,f+y.length),i!=-1&&(n=Math.min(r(0,i),n)));var s=1<<y.length-1;i=-1;for(var c,u,a=y.length+S.length,d,m=0;m<y.length;m++){for(c=0,u=a;c<u;)r(m,f+u)<=n?c=u:a=u,u=Math.floor((a-c)/2+c);a=u;var x=Math.max(1,f-u+1),C=Math.min(f+u,S.length)+y.length,w=Array(C+2);w[C+1]=(1<<m)-1;for(var _=C;_>=x;_--){var k=o[S.charAt(_-1)];if(m===0?w[_]=(w[_+1]<<1|1)&k:w[_]=(w[_+1]<<1|1)&k|((d[_+1]|d[_])<<1|1)|d[_+1],w[_]&s){var A=r(m,_-1);if(A<=n)if(n=A,i=_-1,i>f)x=Math.max(1,2*f-i);else break}}if(r(m+1,f)>n)break;d=w}return i},b.prototype.match_alphabet_=function(S){for(var y={},f=0;f<S.length;f++)y[S.charAt(f)]=0;for(var f=0;f<S.length;f++)y[S.charAt(f)]|=1<<S.length-f-1;return y},b.prototype.patch_addContext_=function(S,y){if(y.length!=0){if(S.start2===null)throw Error("patch not initialized");for(var f=y.substring(S.start2,S.start2+S.length1),o=0;y.indexOf(f)!=y.lastIndexOf(f)&&f.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,f=y.substring(S.start2-o,S.start2+S.length1+o);o+=this.Patch_Margin;var h=y.substring(S.start2-o,S.start2);h&&S.diffs.unshift(new b.Diff(L,h));var r=y.substring(S.start2+S.length1,S.start2+S.length1+o);r&&S.diffs.push(new b.Diff(L,r)),S.start1-=h.length,S.start2-=h.length,S.length1+=h.length+r.length,S.length2+=h.length+r.length}},b.prototype.patch_make=function(S,y,f){var o,h;if(typeof S=="string"&&typeof y=="string"&&typeof f>"u")o=S,h=this.diff_main(o,y,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(S&&typeof S=="object"&&typeof y>"u"&&typeof f>"u")h=S,o=this.diff_text1(h);else if(typeof S=="string"&&y&&typeof y=="object"&&typeof f>"u")o=S,h=y;else if(typeof S=="string"&&typeof y=="string"&&f&&typeof f=="object")o=S,h=f;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var r=[],n=new b.patch_obj,i=0,s=0,c=0,u=o,a=o,d=0;d<h.length;d++){var m=h[d][0],x=h[d][1];switch(!i&&m!==L&&(n.start1=s,n.start2=c),m){case v:n.diffs[i++]=h[d],n.length2+=x.length,a=a.substring(0,c)+x+a.substring(c);break;case g:n.length1+=x.length,n.diffs[i++]=h[d],a=a.substring(0,c)+a.substring(c+x.length);break;case L:x.length<=2*this.Patch_Margin&&i&&h.length!=d+1?(n.diffs[i++]=h[d],n.length1+=x.length,n.length2+=x.length):x.length>=2*this.Patch_Margin&&i&&(this.patch_addContext_(n,u),r.push(n),n=new b.patch_obj,i=0,u=a,s=c);break}m!==v&&(s+=x.length),m!==g&&(c+=x.length)}return i&&(this.patch_addContext_(n,u),r.push(n)),r},b.prototype.patch_deepCopy=function(S){for(var y=[],f=0;f<S.length;f++){var o=S[f],h=new b.patch_obj;h.diffs=[];for(var r=0;r<o.diffs.length;r++)h.diffs[r]=new b.Diff(o.diffs[r][0],o.diffs[r][1]);h.start1=o.start1,h.start2=o.start2,h.length1=o.length1,h.length2=o.length2,y[f]=h}return y},b.prototype.patch_apply=function(S,y){if(S.length==0)return[y,[]];S=this.patch_deepCopy(S);var f=this.patch_addPadding(S);y=f+y+f,this.patch_splitMax(S);for(var o=0,h=[],r=0;r<S.length;r++){var n=S[r].start2+o,i=this.diff_text1(S[r].diffs),s,c=-1;if(i.length>this.Match_MaxBits?(s=this.match_main(y,i.substring(0,this.Match_MaxBits),n),s!=-1&&(c=this.match_main(y,i.substring(i.length-this.Match_MaxBits),n+i.length-this.Match_MaxBits),(c==-1||s>=c)&&(s=-1))):s=this.match_main(y,i,n),s==-1)h[r]=!1,o-=S[r].length2-S[r].length1;else{h[r]=!0,o=s-n;var u;if(c==-1?u=y.substring(s,s+i.length):u=y.substring(s,c+this.Match_MaxBits),i==u)y=y.substring(0,s)+this.diff_text2(S[r].diffs)+y.substring(s+i.length);else{var a=this.diff_main(i,u,!1);if(i.length>this.Match_MaxBits&&this.diff_levenshtein(a)/i.length>this.Patch_DeleteThreshold)h[r]=!1;else{this.diff_cleanupSemanticLossless(a);for(var d=0,m,x=0;x<S[r].diffs.length;x++){var C=S[r].diffs[x];C[0]!==L&&(m=this.diff_xIndex(a,d)),C[0]===v?y=y.substring(0,s+m)+C[1]+y.substring(s+m):C[0]===g&&(y=y.substring(0,s+m)+y.substring(s+this.diff_xIndex(a,d+C[1].length))),C[0]!==g&&(d+=C[1].length)}}}}}return y=y.substring(f.length,y.length-f.length),[y,h]},b.prototype.patch_addPadding=function(S){for(var y=this.Patch_Margin,f="",o=1;o<=y;o++)f+=String.fromCharCode(o);for(var o=0;o<S.length;o++)S[o].start1+=y,S[o].start2+=y;var h=S[0],r=h.diffs;if(r.length==0||r[0][0]!=L)r.unshift(new b.Diff(L,f)),h.start1-=y,h.start2-=y,h.length1+=y,h.length2+=y;else if(y>r[0][1].length){var n=y-r[0][1].length;r[0][1]=f.substring(r[0][1].length)+r[0][1],h.start1-=n,h.start2-=n,h.length1+=n,h.length2+=n}if(h=S[S.length-1],r=h.diffs,r.length==0||r[r.length-1][0]!=L)r.push(new b.Diff(L,f)),h.length1+=y,h.length2+=y;else if(y>r[r.length-1][1].length){var n=y-r[r.length-1][1].length;r[r.length-1][1]+=f.substring(0,n),h.length1+=n,h.length2+=n}return f},b.prototype.patch_splitMax=function(S){for(var y=this.Match_MaxBits,f=0;f<S.length;f++)if(!(S[f].length1<=y)){var o=S[f];S.splice(f--,1);for(var h=o.start1,r=o.start2,n="";o.diffs.length!==0;){var i=new b.patch_obj,s=!0;for(i.start1=h-n.length,i.start2=r-n.length,n!==""&&(i.length1=i.length2=n.length,i.diffs.push(new b.Diff(L,n)));o.diffs.length!==0&&i.length1<y-this.Patch_Margin;){var c=o.diffs[0][0],u=o.diffs[0][1];c===v?(i.length2+=u.length,r+=u.length,i.diffs.push(o.diffs.shift()),s=!1):c===g&&i.diffs.length==1&&i.diffs[0][0]==L&&u.length>2*y?(i.length1+=u.length,h+=u.length,s=!1,i.diffs.push(new b.Diff(c,u)),o.diffs.shift()):(u=u.substring(0,y-i.length1-this.Patch_Margin),i.length1+=u.length,h+=u.length,c===L?(i.length2+=u.length,r+=u.length):s=!1,i.diffs.push(new b.Diff(c,u)),u==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(u.length))}n=this.diff_text2(i.diffs),n=n.substring(n.length-this.Patch_Margin);var a=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);a!==""&&(i.length1+=a.length,i.length2+=a.length,i.diffs.length!==0&&i.diffs[i.diffs.length-1][0]===L?i.diffs[i.diffs.length-1][1]+=a:i.diffs.push(new b.Diff(L,a))),s||S.splice(++f,0,i)}}},b.prototype.patch_toText=function(S){for(var y=[],f=0;f<S.length;f++)y[f]=S[f];return y.join("")},b.prototype.patch_fromText=function(S){var y=[];if(!S)return y;for(var f=S.split(`
`),o=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<f.length;){var r=f[o].match(h);if(!r)throw new Error("Invalid patch string: "+f[o]);var n=new b.patch_obj;for(y.push(n),n.start1=parseInt(r[1],10),r[2]===""?(n.start1--,n.length1=1):r[2]=="0"?n.length1=0:(n.start1--,n.length1=parseInt(r[2],10)),n.start2=parseInt(r[3],10),r[4]===""?(n.start2--,n.length2=1):r[4]=="0"?n.length2=0:(n.start2--,n.length2=parseInt(r[4],10)),o++;o<f.length;){var i=f[o].charAt(0);try{var s=decodeURI(f[o].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+s)}if(i=="-")n.diffs.push(new b.Diff(g,s));else if(i=="+")n.diffs.push(new b.Diff(v,s));else if(i==" ")n.diffs.push(new b.Diff(L,s));else{if(i=="@")break;if(i!=="")throw new Error('Invalid patch mode "'+i+'" in: '+s)}o++}}return y},b.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},b.patch_obj.prototype.toString=function(){var S,y;this.length1===0?S=this.start1+",0":this.length1==1?S=this.start1+1:S=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var f=["@@ -"+S+" +"+y+` @@
`],o,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case v:o="+";break;case g:o="-";break;case L:o=" ";break}f[h+1]=o+encodeURI(this.diffs[h][1])+`
`}return f.join("").replace(/%20/g," ")},l.exports=b,l.exports.diff_match_patch=b,l.exports.DIFF_DELETE=g,l.exports.DIFF_INSERT=v,l.exports.DIFF_EQUAL=L})(qh)),qh.exports}var ov;function fw(){if(ov)return uo;ov=1;var l=uo&&uo.__extends||(function(){var y=function(f,o){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,r){h.__proto__=r}||function(h,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(h[n]=r[n])},y(f,o)};return function(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");y(f,o);function h(){this.constructor=f}f.prototype=o===null?Object.create(o):(h.prototype=o.prototype,new h)}})();Object.defineProperty(uo,"__esModule",{value:!0});var b=Nd(),g=Ir(),v=m0(),L=dw(),S=(function(y){l(f,y);function f(o){var h=y.call(this,o)||this;return h.state={value:h.props.value},h.onChange=h.onChange.bind(h),h.diff=h.diff.bind(h),h}return f.prototype.componentDidUpdate=function(){var o=this.props.value;o!==this.state.value&&this.setState({value:o})},f.prototype.onChange=function(o){this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},f.prototype.diff=function(){var o=new L,h=this.state.value[0],r=this.state.value[1];if(h.length===0&&r.length===0)return[];var n=o.diff_main(h,r);o.diff_cleanupSemantic(n);var i=this.generateDiffedLines(n),s=this.setCodeMarkers(i);return s},f.prototype.generateDiffedLines=function(o){var h={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},r={left:[],right:[]},n={left:1,right:1};return o.forEach(function(i){var s=i[0],c=i[1],u=c.split(`
`).length-1;if(c.length!==0){var a=c[0],d=c[c.length-1],m=0;switch(s){case h.DIFF_EQUAL:n.left+=u,n.right+=u;break;case h.DIFF_DELETE:a===`
`&&(n.left++,u--),m=u,m===0&&r.right.push({startLine:n.right,endLine:n.right}),d===`
`&&(m-=1),r.left.push({startLine:n.left,endLine:n.left+m}),n.left+=u;break;case h.DIFF_INSERT:a===`
`&&(n.right++,u--),m=u,m===0&&r.left.push({startLine:n.left,endLine:n.left}),d===`
`&&(m-=1),r.right.push({startLine:n.right,endLine:n.right+m}),n.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),r},f.prototype.setCodeMarkers=function(o){o===void 0&&(o={left:[],right:[]});for(var h=[],r={left:[],right:[]},n=0;n<o.left.length;n++){var i={startRow:o.left[n].startLine-1,endRow:o.left[n].endLine,type:"text",className:"codeMarker"};r.left.push(i)}for(var n=0;n<o.right.length;n++){var i={startRow:o.right[n].startLine-1,endRow:o.right[n].endLine,type:"text",className:"codeMarker"};r.right.push(i)}return h[0]=r.left,h[1]=r.right,h},f.prototype.render=function(){var o=this.diff();return g.createElement(v.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:o})},f.propTypes={cursorStart:b.number,editorProps:b.object,enableBasicAutocompletion:b.bool,enableLiveAutocompletion:b.bool,focus:b.bool,fontSize:b.number,height:b.string,highlightActiveLine:b.bool,maxLines:b.number,minLines:b.number,mode:b.string,name:b.string,className:b.string,onLoad:b.func,onPaste:b.func,onScroll:b.func,onChange:b.func,orientation:b.string,readOnly:b.bool,scrollMargin:b.array,setOptions:b.object,showGutter:b.bool,showPrintMargin:b.bool,splits:b.number,style:b.object,tabSize:b.number,theme:b.string,value:b.array,width:b.string,wrapEnabled:b.bool},f.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},f})(g.Component);return uo.default=S,uo}var av;function pw(){if(av)return Tr;av=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.diff=Tr.split=void 0;var l=cw(),b=fw();Tr.diff=b.default;var g=m0();return Tr.split=g.default,Tr.default=l.default,Tr}var gw=pw();const mw=wc(gw);var vw=La();const pd=wc(vw);var Zh={exports:{}},lv;function yw(){return lv||(lv=1,(function(l,b){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};S.inherits(f,y),v.JsonHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(g,v,L){var S=g("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,o){return/^\s+$/.test(f)?/^\s*\}/.test(o):!1},this.autoOutdent=function(f,o){var h=f.getLine(o),r=h.match(/^(\s*\})/);if(!r)return 0;var n=r[1].length,i=f.findMatchingBracket({row:o,column:n});if(!i||i.row==o)return 0;var s=this.$getIndent(f.getLine(i.row));f.replace(new S(o,0,o,n-1),s)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../range").Range,f=g("./fold_mode").FoldMode,o=v.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};S.inherits(o,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,r,n){var i=h.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(h,r,n);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(h,r,n,i){var s=h.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(h,s,n);var a=s.match(this.foldingStartMarker);if(a){var c=a.index;if(a[1])return this.openingBracketBlock(h,a[1],n,c);var u=h.getCommentFoldRange(n,c+a[0].length,1);return u&&!u.isMultiLine()&&(i?u=this.getSectionRange(h,n):r!="all"&&(u=null)),u}if(r!=="markbegin"){var a=s.match(this.foldingStopMarker);if(a){var c=a.index+a[0].length;return a[1]?this.closingBracketBlock(h,a[1],n,c):h.getCommentFoldRange(n,c,-1)}}},this.getSectionRange=function(h,r){var n=h.getLine(r),i=n.search(/\S/),s=r,c=n.length;r=r+1;for(var u=r,a=h.getLength();++r<a;){n=h.getLine(r);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var m=this.getFoldWidgetRange(h,"all",r);if(m){if(m.start.row<=s)break;if(m.isMultiLine())r=m.end.row;else if(i==d)break}u=r}}return new y(s,c,u,h.getLine(u).length)},this.getCommentRegionBlock=function(h,r,n){for(var i=r.search(/\s*$/),s=h.getLength(),c=n,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++n<s;){r=h.getLine(n);var d=u.exec(r);if(d&&(d[1]?a--:a++,!a))break}var m=n;if(m>c)return new y(c,i,m,r.length)}}).call(o.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(g,v,L){var S=g("../lib/oop"),y=g("./text").Mode,f=g("./json_highlight_rules").JsonHighlightRules,o=g("./matching_brace_outdent").MatchingBraceOutdent,h=g("./folding/cstyle").FoldMode,r=g("../worker/worker_client").WorkerClient,n=function(){this.HighlightRules=f,this.$outdent=new o,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new h};S.inherits(n,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(i,s,c){var u=this.$getIndent(s);if(i=="start"){var a=s.match(/^.*[\{\(\[]\s*$/);a&&(u+=c)}return u},this.checkOutdent=function(i,s,c){return this.$outdent.checkOutdent(s,c)},this.autoOutdent=function(i,s,c){this.$outdent.autoOutdent(s,c)},this.createWorker=function(i){var s=new r(["ace"],"ace/mode/json_worker","JsonWorker");return s.attachToDocument(i.getDocument()),s.on("annotate",function(c){i.setAnnotations(c.data)}),s.on("terminate",function(){i.clearAnnotations()}),s},this.$id="ace/mode/json"}).call(n.prototype),v.Mode=n}),(function(){ace.require(["ace/mode/json"],function(g){l&&(l.exports=g)})})()})(Zh)),Zh.exports}yw();var Qh={exports:{}},cv;function bw(){return cv||(cv=1,(function(l,b){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};S.inherits(f,y),f.getTagRule=function(o){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(o){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:o}},f.getEndRule=function(o){return{token:"comment.doc",regex:"\\*\\/",next:o}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=g("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(i){var s={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},c=this.createKeywordMapper(s,"identifier"),u="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",a="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",m={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(s).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),n("no_regex"),m,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+u+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:c,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),n("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[n("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!i||!i.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,C,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",C);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:a},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!i||i.jsx!=!1)&&r.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};S.inherits(h,f);function r(){var i=o.replace("\\d","\\d\\-"),s={onMatch:function(u,a,d){var m=u.charAt(1)=="/"?2:1;return m==1?(a!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):m==2&&a==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(m==1?"":"end-")+"tag-open.xml",value:u.slice(0,m)},{type:"meta.tag.tag-name.xml",value:u.substr(m)}]},regex:"</?(?:"+i+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(s);var c={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[c,s,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(u,a,d){return a==d[0]&&d.shift(),u.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:u}]},nextState:"jsx"},c,n("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:i},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},s],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function n(i){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(g,v,L){var S=g("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,o){return/^\s+$/.test(f)?/^\s*\}/.test(o):!1},this.autoOutdent=function(f,o){var h=f.getLine(o),r=h.match(/^(\s*\})/);if(!r)return 0;var n=r[1].length,i=f.findMatchingBracket({row:o,column:n});if(!i||i.row==o)return 0;var s=this.$getIndent(f.getLine(i.row));f.replace(new S(o,0,o,n-1),s)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(g,v,L){var S=g("../../lib/oop"),y=g("../behaviour").Behaviour,f=g("../../token_iterator").TokenIterator;function o(r,n){return r&&r.type.lastIndexOf(n+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(r,n,i,s,c){if(c=='"'||c=="'"){var u=c,a=s.doc.getTextRange(i.getSelectionRange());if(a!==""&&a!=="'"&&a!='"'&&i.getWrapBehavioursEnabled())return{text:u+a+u,selection:!1};var d=i.getCursorPosition(),m=s.doc.getLine(d.row),x=m.substring(d.column,d.column+1),C=new f(s,d.row,d.column),w=C.getCurrentToken();if(x==u&&(o(w,"attribute-value")||o(w,"string")))return{text:"",selection:[1,1]};if(w||(w=C.stepBackward()),!w)return;for(;o(w,"tag-whitespace")||o(w,"whitespace");)w=C.stepBackward();var _=!x||x.match(/\s/);if(o(w,"attribute-equals")&&(_||x==">")||o(w,"decl-attribute-equals")&&(_||x=="?"))return{text:u+u,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(r,n,i,s,c){var u=s.doc.getTextRange(c);if(!c.isMultiLine()&&(u=='"'||u=="'")){var a=s.doc.getLine(c.start.row),d=a.substring(c.start.column+1,c.start.column+2);if(d==u)return c.end.column++,c}}),this.add("autoclosing","insertion",function(r,n,i,s,c){if(c==">"){var u=i.getSelectionRange().start,a=new f(s,u.row,u.column),d=a.getCurrentToken()||a.stepBackward();if(!d||!(o(d,"tag-name")||o(d,"tag-whitespace")||o(d,"attribute-name")||o(d,"attribute-equals")||o(d,"attribute-value"))||o(d,"reference.attribute-value"))return;if(o(d,"attribute-value")){var m=a.getCurrentTokenColumn()+d.value.length;if(u.column<m)return;if(u.column==m){var x=a.stepForward();if(x&&o(x,"attribute-value"))return;a.stepBackward()}}if(/^\s*>/.test(s.getLine(u.row).slice(u.column)))return;for(;!o(d,"tag-name");)if(d=a.stepBackward(),d.value=="<"){d=a.stepForward();break}var C=a.getCurrentTokenRow(),w=a.getCurrentTokenColumn();if(o(a.stepBackward(),"end-tag-open"))return;var _=d.value;return C==u.row&&(_=_.substring(0,u.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(_.toLowerCase())?void 0:{text:"></"+_+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(r,n,i,s,c){if(c==`
`){var u=i.getCursorPosition(),a=s.getLine(u.row),d=new f(s,u.row,u.column),m=d.getCurrentToken();if(o(m,"")&&m.type.indexOf("tag-close")!==-1){if(m.value=="/>")return;for(;m&&m.type.indexOf("tag-name")===-1;)m=d.stepBackward();if(!m)return;var x=m.value,C=d.getCurrentTokenRow();if(m=d.stepBackward(),!m||m.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=s.getTokenAt(u.row,u.column+1),a=s.getLine(C),_=this.$getIndent(a),k=_+s.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+_,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};S.inherits(h,y),v.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../token_iterator").TokenIterator,f=g("../behaviour/cstyle").CstyleBehaviour,o=g("../behaviour/xml").XmlBehaviour,h=function(){var r=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(r),this.inherit(f),this.add("autoclosing-fragment","insertion",function(n,i,s,c,u){if(u==">"){var a=s.getSelectionRange().start,d=new y(c,a.row,a.column),m=d.getCurrentToken()||d.stepBackward();if(!m)return;if(m.value=="<")return{text:"></>",selection:[1,1]}}})};S.inherits(h,f),v.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../range").Range,f=g("./fold_mode").FoldMode,o=v.FoldMode=function(n,i){f.call(this),this.voidElements=n||{},this.optionalEndTags=S.mixin({},this.voidElements),i&&S.mixin(this.optionalEndTags,i)};S.inherits(o,f);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function r(n,i){return n&&n.type&&n.type.lastIndexOf(i+".xml")>-1}(function(){this.getFoldWidget=function(n,i,s){var c=this._getFirstTagInLine(n,s);return c?c.closing||!c.tagName&&c.selfClosing?i==="markbeginend"?"end":"":!c.tagName||c.selfClosing||this.voidElements.hasOwnProperty(c.tagName.toLowerCase())||this._findEndTagInLine(n,s,c.tagName,c.end.column)?"":"start":this.getCommentFoldWidget(n,s)},this.getCommentFoldWidget=function(n,i){return/comment/.test(n.getState(i))&&/<!-/.test(n.getLine(i))?"start":""},this._getFirstTagInLine=function(n,i){for(var s=n.getTokens(i),c=new h,u=0;u<s.length;u++){var a=s[u];if(r(a,"tag-open")){if(c.end.column=c.start.column+a.value.length,c.closing=r(a,"end-tag-open"),a=s[++u],!a)return null;if(c.tagName=a.value,a.value===""){if(a=s[++u],!a)return null;c.tagName=a.value}for(c.end.column+=a.value.length,u++;u<s.length;u++)if(a=s[u],c.end.column+=a.value.length,r(a,"tag-close")){c.selfClosing=a.value=="/>";break}return c}else if(r(a,"tag-close"))return c.selfClosing=a.value=="/>",c;c.start.column+=a.value.length}return null},this._findEndTagInLine=function(n,i,s,c){for(var u=n.getTokens(i),a=0,d=0;d<u.length;d++){var m=u[d];if(a+=m.value.length,!(a<c-1)&&r(m,"end-tag-open")&&(m=u[d+1],r(m,"tag-name")&&m.value===""&&(m=u[d+2]),m&&m.value==s))return!0}return!1},this.getFoldWidgetRange=function(n,i,s){var c=this._getFirstTagInLine(n,s);if(!c)return this.getCommentFoldWidget(n,s)&&n.getCommentFoldRange(s,n.getLine(s).length);var u=n.getMatchingTags({row:s,column:0});if(u)return new y(u.openTag.end.row,u.openTag.end.column,u.closeTag.start.row,u.closeTag.start.column)}}).call(o.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../range").Range,f=g("./fold_mode").FoldMode,o=v.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};S.inherits(o,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,r,n){var i=h.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(h,r,n);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(h,r,n,i){var s=h.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(h,s,n);var a=s.match(this.foldingStartMarker);if(a){var c=a.index;if(a[1])return this.openingBracketBlock(h,a[1],n,c);var u=h.getCommentFoldRange(n,c+a[0].length,1);return u&&!u.isMultiLine()&&(i?u=this.getSectionRange(h,n):r!="all"&&(u=null)),u}if(r!=="markbegin"){var a=s.match(this.foldingStopMarker);if(a){var c=a.index+a[0].length;return a[1]?this.closingBracketBlock(h,a[1],n,c):h.getCommentFoldRange(n,c,-1)}}},this.getSectionRange=function(h,r){var n=h.getLine(r),i=n.search(/\S/),s=r,c=n.length;r=r+1;for(var u=r,a=h.getLength();++r<a;){n=h.getLine(r);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var m=this.getFoldWidgetRange(h,"all",r);if(m){if(m.start.row<=s)break;if(m.isMultiLine())r=m.end.row;else if(i==d)break}u=r}}return new y(s,c,u,h.getLine(u).length)},this.getCommentRegionBlock=function(h,r,n){for(var i=r.search(/\s*$/),s=h.getLength(),c=n,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++n<s;){r=h.getLine(n);var d=u.exec(r);if(d&&(d[1]?a--:a++,!a))break}var m=n;if(m>c)return new y(c,i,m,r.length)}}).call(o.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(g,v,L){var S=g("../../lib/oop"),y=g("./xml").FoldMode,f=g("./cstyle").FoldMode,o=v.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new y};S.inherits(o,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,r,n){var i=this.getFoldWidgetBase(h,r,n);return i||this.xmlFoldMode.getFoldWidget(h,r,n)},this.getFoldWidgetRange=function(h,r,n,i){var s=this.getFoldWidgetRangeBase(h,r,n,i);return s||this.xmlFoldMode.getFoldWidgetRange(h,r,n)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(g,v,L){var S=g("../lib/oop"),y=g("./text").Mode,f=g("./javascript_highlight_rules").JavaScriptHighlightRules,o=g("./matching_brace_outdent").MatchingBraceOutdent,h=g("../worker/worker_client").WorkerClient,r=g("./behaviour/javascript").JavaScriptBehaviour,n=g("./folding/javascript").FoldMode,i=function(){this.HighlightRules=f,this.$outdent=new o,this.$behaviour=new r,this.foldingRules=new n};S.inherits(i,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(s,c,u){var a=this.$getIndent(c),d=this.getTokenizer().getLineTokens(c,s),m=d.tokens,x=d.state;if(m.length&&m[m.length-1].type=="comment")return a;if(s=="start"||s=="no_regex"){var C=c.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);C&&(a+=u)}else if(s=="doc-start"&&(x=="start"||x=="no_regex"))return"";return a},this.checkOutdent=function(s,c,u){return this.$outdent.checkOutdent(c,u)},this.autoOutdent=function(s,c,u){this.$outdent.autoOutdent(c,u)},this.createWorker=function(s){var c=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return c.attachToDocument(s.getDocument()),c.on("annotate",function(u){s.setAnnotations(u.data)}),c.on("terminate",function(){s.clearAnnotations()}),c},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(i.prototype),v.Mode=i}),(function(){ace.require(["ace/mode/javascript"],function(g){l&&(l.exports=g)})})()})(Qh)),Qh.exports}bw();var Jh={exports:{}},uv;function _w(){return uv||(uv=1,(function(l,b){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},f.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};S.inherits(f,y),f.getTagRule=function(o){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(o){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:o}},f.getEndRule=function(o){return{token:"comment.doc",regex:"\\*\\/",next:o}},v.JsDocCommentHighlightRules=f}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,f=g("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(i){var s={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},c=this.createKeywordMapper(s,"identifier"),u="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",a="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",d="(function)(\\s*)(\\*?)",m={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(s).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[y.getStartRule("doc-start"),n("no_regex"),m,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+d+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+u+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:c,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:d+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),n("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[n("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!i||!i.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,C,w){if(this.next=x=="{"?this.nextState:"",x=="{"&&w.length)w.unshift("start",C);else if(x=="}"&&w.length&&(w.shift(),this.next=w.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:a},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!i||i.jsx!=!1)&&r.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};S.inherits(h,f);function r(){var i=o.replace("\\d","\\d\\-"),s={onMatch:function(u,a,d){var m=u.charAt(1)=="/"?2:1;return m==1?(a!=this.nextState?d.unshift(this.next,this.nextState,0):d.unshift(this.next),d[2]++):m==2&&a==this.nextState&&(d[1]--,(!d[1]||d[1]<0)&&(d.shift(),d.shift())),[{type:"meta.tag.punctuation."+(m==1?"":"end-")+"tag-open.xml",value:u.slice(0,m)},{type:"meta.tag.tag-name.xml",value:u.substr(m)}]},regex:"</?(?:"+i+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(s);var c={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[c,s,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(u,a,d){return a==d[0]&&d.shift(),u.length==2&&(d[0]==this.nextState&&d[1]--,(!d[1]||d[1]<0)&&d.splice(0,2)),this.next=d[0]||"start",[{type:this.token,value:u}]},nextState:"jsx"},c,n("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:i},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},s],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function n(i){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:i||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}v.JavaScriptHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(g,v,L){var S=g("../range").Range,y=function(){};(function(){this.checkOutdent=function(f,o){return/^\s+$/.test(f)?/^\s*\}/.test(o):!1},this.autoOutdent=function(f,o){var h=f.getLine(o),r=h.match(/^(\s*\})/);if(!r)return 0;var n=r[1].length,i=f.findMatchingBracket({row:o,column:n});if(!i||i.row==o)return 0;var s=this.$getIndent(f.getLine(i.row));f.replace(new S(o,0,o,n-1),s)},this.$getIndent=function(f){return f.match(/^\s*/)[0]}}).call(y.prototype),v.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(g,v,L){var S=g("../../lib/oop"),y=g("../behaviour").Behaviour,f=g("../../token_iterator").TokenIterator;function o(r,n){return r&&r.type.lastIndexOf(n+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(r,n,i,s,c){if(c=='"'||c=="'"){var u=c,a=s.doc.getTextRange(i.getSelectionRange());if(a!==""&&a!=="'"&&a!='"'&&i.getWrapBehavioursEnabled())return{text:u+a+u,selection:!1};var d=i.getCursorPosition(),m=s.doc.getLine(d.row),x=m.substring(d.column,d.column+1),C=new f(s,d.row,d.column),w=C.getCurrentToken();if(x==u&&(o(w,"attribute-value")||o(w,"string")))return{text:"",selection:[1,1]};if(w||(w=C.stepBackward()),!w)return;for(;o(w,"tag-whitespace")||o(w,"whitespace");)w=C.stepBackward();var _=!x||x.match(/\s/);if(o(w,"attribute-equals")&&(_||x==">")||o(w,"decl-attribute-equals")&&(_||x=="?"))return{text:u+u,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(r,n,i,s,c){var u=s.doc.getTextRange(c);if(!c.isMultiLine()&&(u=='"'||u=="'")){var a=s.doc.getLine(c.start.row),d=a.substring(c.start.column+1,c.start.column+2);if(d==u)return c.end.column++,c}}),this.add("autoclosing","insertion",function(r,n,i,s,c){if(c==">"){var u=i.getSelectionRange().start,a=new f(s,u.row,u.column),d=a.getCurrentToken()||a.stepBackward();if(!d||!(o(d,"tag-name")||o(d,"tag-whitespace")||o(d,"attribute-name")||o(d,"attribute-equals")||o(d,"attribute-value"))||o(d,"reference.attribute-value"))return;if(o(d,"attribute-value")){var m=a.getCurrentTokenColumn()+d.value.length;if(u.column<m)return;if(u.column==m){var x=a.stepForward();if(x&&o(x,"attribute-value"))return;a.stepBackward()}}if(/^\s*>/.test(s.getLine(u.row).slice(u.column)))return;for(;!o(d,"tag-name");)if(d=a.stepBackward(),d.value=="<"){d=a.stepForward();break}var C=a.getCurrentTokenRow(),w=a.getCurrentTokenColumn();if(o(a.stepBackward(),"end-tag-open"))return;var _=d.value;return C==u.row&&(_=_.substring(0,u.column-w)),this.voidElements&&this.voidElements.hasOwnProperty(_.toLowerCase())?void 0:{text:"></"+_+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(r,n,i,s,c){if(c==`
`){var u=i.getCursorPosition(),a=s.getLine(u.row),d=new f(s,u.row,u.column),m=d.getCurrentToken();if(o(m,"")&&m.type.indexOf("tag-close")!==-1){if(m.value=="/>")return;for(;m&&m.type.indexOf("tag-name")===-1;)m=d.stepBackward();if(!m)return;var x=m.value,C=d.getCurrentTokenRow();if(m=d.stepBackward(),!m||m.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var w=s.getTokenAt(u.row,u.column+1),a=s.getLine(C),_=this.$getIndent(a),k=_+s.getTabString();return w&&w.value==="</"?{text:`
`+k+`
`+_,selection:[1,k.length,1,k.length]}:{text:`
`+k}}}}})};S.inherits(h,y),v.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../token_iterator").TokenIterator,f=g("../behaviour/cstyle").CstyleBehaviour,o=g("../behaviour/xml").XmlBehaviour,h=function(){var r=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(r),this.inherit(f),this.add("autoclosing-fragment","insertion",function(n,i,s,c,u){if(u==">"){var a=s.getSelectionRange().start,d=new y(c,a.row,a.column),m=d.getCurrentToken()||d.stepBackward();if(!m)return;if(m.value=="<")return{text:"></>",selection:[1,1]}}})};S.inherits(h,f),v.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../range").Range,f=g("./fold_mode").FoldMode,o=v.FoldMode=function(n,i){f.call(this),this.voidElements=n||{},this.optionalEndTags=S.mixin({},this.voidElements),i&&S.mixin(this.optionalEndTags,i)};S.inherits(o,f);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function r(n,i){return n&&n.type&&n.type.lastIndexOf(i+".xml")>-1}(function(){this.getFoldWidget=function(n,i,s){var c=this._getFirstTagInLine(n,s);return c?c.closing||!c.tagName&&c.selfClosing?i==="markbeginend"?"end":"":!c.tagName||c.selfClosing||this.voidElements.hasOwnProperty(c.tagName.toLowerCase())||this._findEndTagInLine(n,s,c.tagName,c.end.column)?"":"start":this.getCommentFoldWidget(n,s)},this.getCommentFoldWidget=function(n,i){return/comment/.test(n.getState(i))&&/<!-/.test(n.getLine(i))?"start":""},this._getFirstTagInLine=function(n,i){for(var s=n.getTokens(i),c=new h,u=0;u<s.length;u++){var a=s[u];if(r(a,"tag-open")){if(c.end.column=c.start.column+a.value.length,c.closing=r(a,"end-tag-open"),a=s[++u],!a)return null;if(c.tagName=a.value,a.value===""){if(a=s[++u],!a)return null;c.tagName=a.value}for(c.end.column+=a.value.length,u++;u<s.length;u++)if(a=s[u],c.end.column+=a.value.length,r(a,"tag-close")){c.selfClosing=a.value=="/>";break}return c}else if(r(a,"tag-close"))return c.selfClosing=a.value=="/>",c;c.start.column+=a.value.length}return null},this._findEndTagInLine=function(n,i,s,c){for(var u=n.getTokens(i),a=0,d=0;d<u.length;d++){var m=u[d];if(a+=m.value.length,!(a<c-1)&&r(m,"end-tag-open")&&(m=u[d+1],r(m,"tag-name")&&m.value===""&&(m=u[d+2]),m&&m.value==s))return!0}return!1},this.getFoldWidgetRange=function(n,i,s){var c=this._getFirstTagInLine(n,s);if(!c)return this.getCommentFoldWidget(n,s)&&n.getCommentFoldRange(s,n.getLine(s).length);var u=n.getMatchingTags({row:s,column:0});if(u)return new y(u.openTag.end.row,u.openTag.end.column,u.closeTag.start.row,u.closeTag.start.column)}}).call(o.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(g,v,L){var S=g("../../lib/oop"),y=g("../../range").Range,f=g("./fold_mode").FoldMode,o=v.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};S.inherits(o,f),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,r,n){var i=h.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(h,r,n);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(h,r,n,i){var s=h.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(h,s,n);var a=s.match(this.foldingStartMarker);if(a){var c=a.index;if(a[1])return this.openingBracketBlock(h,a[1],n,c);var u=h.getCommentFoldRange(n,c+a[0].length,1);return u&&!u.isMultiLine()&&(i?u=this.getSectionRange(h,n):r!="all"&&(u=null)),u}if(r!=="markbegin"){var a=s.match(this.foldingStopMarker);if(a){var c=a.index+a[0].length;return a[1]?this.closingBracketBlock(h,a[1],n,c):h.getCommentFoldRange(n,c,-1)}}},this.getSectionRange=function(h,r){var n=h.getLine(r),i=n.search(/\S/),s=r,c=n.length;r=r+1;for(var u=r,a=h.getLength();++r<a;){n=h.getLine(r);var d=n.search(/\S/);if(d!==-1){if(i>d)break;var m=this.getFoldWidgetRange(h,"all",r);if(m){if(m.start.row<=s)break;if(m.isMultiLine())r=m.end.row;else if(i==d)break}u=r}}return new y(s,c,u,h.getLine(u).length)},this.getCommentRegionBlock=function(h,r,n){for(var i=r.search(/\s*$/),s=h.getLength(),c=n,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++n<s;){r=h.getLine(n);var d=u.exec(r);if(d&&(d[1]?a--:a++,!a))break}var m=n;if(m>c)return new y(c,i,m,r.length)}}).call(o.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(g,v,L){var S=g("../../lib/oop"),y=g("./xml").FoldMode,f=g("./cstyle").FoldMode,o=v.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new y};S.inherits(o,f),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,r,n){var i=this.getFoldWidgetBase(h,r,n);return i||this.xmlFoldMode.getFoldWidget(h,r,n)},this.getFoldWidgetRange=function(h,r,n,i){var s=this.getFoldWidgetRangeBase(h,r,n,i);return s||this.xmlFoldMode.getFoldWidgetRange(h,r,n)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(g,v,L){var S=g("../lib/oop"),y=g("./text").Mode,f=g("./javascript_highlight_rules").JavaScriptHighlightRules,o=g("./matching_brace_outdent").MatchingBraceOutdent,h=g("../worker/worker_client").WorkerClient,r=g("./behaviour/javascript").JavaScriptBehaviour,n=g("./folding/javascript").FoldMode,i=function(){this.HighlightRules=f,this.$outdent=new o,this.$behaviour=new r,this.foldingRules=new n};S.inherits(i,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(s,c,u){var a=this.$getIndent(c),d=this.getTokenizer().getLineTokens(c,s),m=d.tokens,x=d.state;if(m.length&&m[m.length-1].type=="comment")return a;if(s=="start"||s=="no_regex"){var C=c.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);C&&(a+=u)}else if(s=="doc-start"&&(x=="start"||x=="no_regex"))return"";return a},this.checkOutdent=function(s,c,u){return this.$outdent.checkOutdent(c,u)},this.autoOutdent=function(s,c,u){this.$outdent.autoOutdent(c,u)},this.createWorker=function(s){var c=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return c.attachToDocument(s.getDocument()),c.on("annotate",function(u){s.setAnnotations(u.data)}),c.on("terminate",function(){s.clearAnnotations()}),c},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(i.prototype),v.Mode=i}),ace.define("ace/mode/typescript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/javascript_highlight_rules"],function(g,v,L){var S=g("../lib/oop"),y=g("./javascript_highlight_rules").JavaScriptHighlightRules,f=function(o){var h=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_-][a-zA-Z0-9d$_-]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}],r=new y({jsx:(o&&o.jsx)==!0}).getRules();r.no_regex=h.concat(r.no_regex),this.$rules=r};S.inherits(f,y),v.TypeScriptHighlightRules=f}),ace.define("ace/mode/typescript",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/typescript_highlight_rules","ace/mode/folding/cstyle","ace/mode/matching_brace_outdent"],function(g,v,L){var S=g("../lib/oop"),y=g("./javascript").Mode,f=g("./typescript_highlight_rules").TypeScriptHighlightRules,o=g("./folding/cstyle").FoldMode,h=g("./matching_brace_outdent").MatchingBraceOutdent,r=function(){this.HighlightRules=f,this.$outdent=new h,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new o};S.inherits(r,y),(function(){this.createWorker=function(n){return null},this.$id="ace/mode/typescript"}).call(r.prototype),v.Mode=r}),(function(){ace.require(["ace/mode/typescript"],function(g){l&&(l.exports=g)})})()})(Jh)),Jh.exports}_w();var ed={exports:{}},hv;function xw(){return hv||(hv=1,(function(l,b){ace.define("ace/theme/monokai-css",["require","exports","module"],function(g,v,L){L.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(g,v,L){v.isDark=!0,v.cssClass="ace-monokai",v.cssText=g("./monokai-css");var S=g("../lib/dom");S.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/monokai"],function(g){l&&(l.exports=g)})})()})(ed)),ed.exports}xw();var td={exports:{}},dv;function ww(){return dv||(dv=1,(function(l,b){ace.define("ace/theme/github-css",["require","exports","module"],function(g,v,L){L.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(g,v,L){v.isDark=!1,v.cssClass="ace-github",v.cssText=g("./github-css");var S=g("../lib/dom");S.importCssString(v.cssText,v.cssClass,!1)}),(function(){ace.require(["ace/theme/github"],function(g){l&&(l.exports=g)})})()})(td)),td.exports}ww();var nd={exports:{}},fv;function Sw(){return fv||(fv=1,(function(l,b){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(g,v,L){var S=g("./lib/dom"),y=g("./lib/oop"),f=g("./lib/event_emitter").EventEmitter,o=g("./lib/lang"),h=g("./range").Range,r=g("./range_list").RangeList,n=g("./keyboard/hash_handler").HashHandler,i=g("./tokenizer").Tokenizer,s=g("./clipboard"),c={CURRENT_WORD:function(_){return _.session.getTextRange(_.session.getWordRange())},SELECTION:function(_,k,A){var T=_.session.getTextRange();return A?T.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):T},CURRENT_LINE:function(_){return _.session.getLine(_.getCursorPosition().row)},PREV_LINE:function(_){return _.session.getLine(_.getCursorPosition().row-1)},LINE_INDEX:function(_){return _.getCursorPosition().row},LINE_NUMBER:function(_){return _.getCursorPosition().row+1},SOFT_TABS:function(_){return _.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(_){return _.session.getTabSize()},CLIPBOARD:function(_){return s.getText&&s.getText()},FILENAME:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0]},FILENAME_BASE:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(_){return this.FILEPATH(_).replace(/[^/\\]*$/,"")},FILEPATH:function(_){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(_){var k=_.session.$mode||{};return k.blockComment&&k.blockComment.start||""},BLOCK_COMMENT_END:function(_){var k=_.session.$mode||{};return k.blockComment&&k.blockComment.end||""},LINE_COMMENT:function(_){var k=_.session.$mode||{};return k.lineCommentStart||""},CURRENT_YEAR:u.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:u.bind(null,{year:"2-digit"}),CURRENT_MONTH:u.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:u.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:u.bind(null,{month:"short"}),CURRENT_DATE:u.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:u.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:u.bind(null,{weekday:"short"}),CURRENT_HOUR:u.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:u.bind(null,{minute:"2-digit"}),CURRENT_SECOND:u.bind(null,{second:"2-digit"})};c.SELECTED_TEXT=c.SELECTION;function u(_){var k=new Date().toLocaleString("en-us",_);return k.length==1?"0"+k:k}var a=(function(){function _(){this.snippetMap={},this.snippetNameMap={},this.variables=c}return _.prototype.getTokenizer=function(){return _.$tokenizer||this.createTokenizer()},_.prototype.createTokenizer=function(){function k(j){return j=j.substr(1),/^\d+$/.test(j)?[{tabstopId:parseInt(j,10)}]:[{text:j}]}function A(j){return"(?:[^\\\\"+j+"]|\\\\.)"}var T={regex:"/("+A("/")+"+)/",onMatch:function(j,F,$){var D=$[0];return D.fmtString=!0,D.guard=j.slice(1,-1),D.flag="",""},next:"formatString"};return _.$tokenizer=new i({start:[{regex:/\\./,onMatch:function(j,F,$){var D=j[1];return(D=="}"&&$.length||"`$\\".indexOf(D)!=-1)&&(j=D),[j]}},{regex:/}/,onMatch:function(j,F,$){return[$.length?$.shift():j]}},{regex:/\$(?:\d+|\w+)/,onMatch:k},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(j,F,$){var D=k(j.substr(1));return $.unshift(D[0]),D},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(j,F,$){var D=j.slice(1,-1).replace(/\\[,|\\]|,/g,function(M){return M.length==2?M[1]:"\0"}).split("\0").map(function(M){return{value:M}});return $[0].choices=D,[D[0]]},next:"start"},T,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(j,F,$){return $.length&&$[0].expectElse?($[0].expectElse=!1,$[0].ifEnd={elseEnd:$[0]},[$[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(j,F,$){var D=j[1];return D=="}"&&$.length||"`$\\".indexOf(D)!=-1?j=D:D=="n"?j=`
`:D=="t"?j="	":"ulULE".indexOf(D)!=-1&&(j={changeCase:D,local:D>"a"}),[j]}},{regex:"/\\w*}",onMatch:function(j,F,$){var D=$.shift();return D&&(D.flag=j.slice(1,-1)),this.next=D&&D.tabstopId?"start":"",[D||j]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(j,F,$){return[{text:j.slice(1)}]}},{regex:/\${\w+/,onMatch:function(j,F,$){var D={text:j.slice(2)};return $.unshift(D),[D]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(j,F,$){var D=$.shift();return this.next=D&&D.tabstopId?"start":"",[D||j]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(j,F,$){var D=$[0];return D.formatFunction=j.slice(2,-1),[$.shift()]},next:"formatString"},T,{regex:/:[\?\-+]?/,onMatch:function(j,F,$){j[1]=="+"&&($[0].ifEnd=$[0]),j[1]=="?"&&($[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),_.$tokenizer},_.prototype.tokenizeTmSnippet=function(k,A){return this.getTokenizer().getLineTokens(k,A).tokens.map(function(T){return T.value||T})},_.prototype.getVariableValue=function(k,A,T){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var j=this.variables[A];return typeof j=="function"&&(j=this.variables[A](k,A,T)),j??""},_.prototype.tmStrFormat=function(k,A,T){if(!A.fmt)return k;var j=A.flag||"",F=A.guard;F=new RegExp(F,j.replace(/[^gim]/g,""));var $=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,D=this,M=k.replace(F,function(){var R=D.variables.__;D.variables.__=[].slice.call(arguments);for(var O=D.resolveVariables($,T),z="E",B=0;B<O.length;B++){var P=O[B];if(typeof P=="object")if(O[B]="",P.changeCase&&P.local){var U=O[B+1];U&&typeof U=="string"&&(P.changeCase=="u"?O[B]=U[0].toUpperCase():O[B]=U[0].toLowerCase(),O[B+1]=U.substr(1))}else P.changeCase&&(z=P.changeCase);else z=="U"?O[B]=P.toUpperCase():z=="L"&&(O[B]=P.toLowerCase())}return D.variables.__=R,O.join("")});return M},_.prototype.tmFormatFunction=function(k,A,T){return A.formatFunction=="upcase"?k.toUpperCase():A.formatFunction=="downcase"?k.toLowerCase():k},_.prototype.resolveVariables=function(k,A){for(var T=[],j="",F=!0,$=0;$<k.length;$++){var D=k[$];if(typeof D=="string"){T.push(D),D==`
`?(F=!0,j=""):F&&(j=/^\t*/.exec(D)[0],F=/\S/.test(D));continue}if(D){if(F=!1,D.fmtString){var M=k.indexOf(D,$+1);M==-1&&(M=k.length),D.fmt=k.slice($+1,M),$=M}if(D.text){var R=this.getVariableValue(A,D.text,j)+"";D.fmtString&&(R=this.tmStrFormat(R,D,A)),D.formatFunction&&(R=this.tmFormatFunction(R,D,A)),R&&!D.ifEnd?(T.push(R),O(D)):!R&&D.ifEnd&&O(D.ifEnd)}else D.elseEnd?O(D.elseEnd):(D.tabstopId!=null||D.changeCase!=null)&&T.push(D)}}function O(z){var B=k.indexOf(z,$+1);B!=-1&&($=B)}return T},_.prototype.getDisplayTextForSnippet=function(k,A){var T=d.call(this,k,A);return T.text},_.prototype.insertSnippetForSelection=function(k,A,T){T===void 0&&(T={});var j=d.call(this,k,A,T),F=k.getSelectionRange(),$=k.session.replace(F,j.text),D=new m(k),M=k.inVirtualSelectionMode&&k.selection.index;D.addTabstops(j.tabstops,F.start,$,M)},_.prototype.insertSnippet=function(k,A,T){T===void 0&&(T={});var j=this;if(k.inVirtualSelectionMode)return j.insertSnippetForSelection(k,A,T);k.forEachSelection(function(){j.insertSnippetForSelection(k,A,T)},null,{keepOrder:!0}),k.tabstopManager&&k.tabstopManager.tabNext()},_.prototype.$getScope=function(k){var A=k.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!k.session.$mode.inlinePhp&&(A="html");var T=k.getCursorPosition(),j=k.session.getState(T.row);typeof j=="object"&&(j=j[0]),j.substring&&(j.substring(0,3)=="js-"?A="javascript":j.substring(0,4)=="css-"?A="css":j.substring(0,4)=="php-"&&(A="php"))}return A},_.prototype.getActiveScopes=function(k){var A=this.$getScope(k),T=[A],j=this.snippetMap;return j[A]&&j[A].includeScopes&&T.push.apply(T,j[A].includeScopes),T.push("_"),T},_.prototype.expandWithTab=function(k,A){var T=this,j=k.forEachSelection(function(){return T.expandSnippetForSelection(k,A)},null,{keepOrder:!0});return j&&k.tabstopManager&&k.tabstopManager.tabNext(),j},_.prototype.expandSnippetForSelection=function(k,A){var T=k.getCursorPosition(),j=k.session.getLine(T.row),F=j.substring(0,T.column),$=j.substr(T.column),D=this.snippetMap,M;return this.getActiveScopes(k).some(function(R){var O=D[R];return O&&(M=this.findMatchingSnippet(O,F,$)),!!M},this),M?(A&&A.dryRun||(k.session.doc.removeInLine(T.row,T.column-M.replaceBefore.length,T.column+M.replaceAfter.length),this.variables.M__=M.matchBefore,this.variables.T__=M.matchAfter,this.insertSnippetForSelection(k,M.content),this.variables.M__=this.variables.T__=null),!0):!1},_.prototype.findMatchingSnippet=function(k,A,T){for(var j=k.length;j--;){var F=k[j];if(!(F.startRe&&!F.startRe.test(A))&&!(F.endRe&&!F.endRe.test(T))&&!(!F.startRe&&!F.endRe))return F.matchBefore=F.startRe?F.startRe.exec(A):[""],F.matchAfter=F.endRe?F.endRe.exec(T):[""],F.replaceBefore=F.triggerRe?F.triggerRe.exec(A)[0]:"",F.replaceAfter=F.endTriggerRe?F.endTriggerRe.exec(T)[0]:"",F}},_.prototype.register=function(k,A){var T=this.snippetMap,j=this.snippetNameMap,F=this;k||(k=[]);function $(R){return R&&!/^\^?\(.*\)\$?$|^\\b$/.test(R)&&(R="(?:"+R+")"),R||""}function D(R,O,z){return R=$(R),O=$(O),R=O+R,R&&R[R.length-1]!="$"&&(R=R+"$"),new RegExp(R)}function M(R){R.scope||(R.scope=A||"_"),A=R.scope,T[A]||(T[A]=[],j[A]={});var O=j[A];if(R.name){var z=O[R.name];z&&F.unregister(z),O[R.name]=R}T[A].push(R),R.prefix&&(R.tabTrigger=R.prefix),!R.content&&R.body&&(R.content=Array.isArray(R.body)?R.body.join(`
`):R.body),R.tabTrigger&&!R.trigger&&(!R.guard&&/^\w/.test(R.tabTrigger)&&(R.guard="\\b"),R.trigger=o.escapeRegExp(R.tabTrigger)),!(!R.trigger&&!R.guard&&!R.endTrigger&&!R.endGuard)&&(R.startRe=D(R.trigger,R.guard),R.triggerRe=new RegExp(R.trigger),R.endRe=D(R.endTrigger,R.endGuard),R.endTriggerRe=new RegExp(R.endTrigger))}Array.isArray(k)?k.forEach(M):Object.keys(k).forEach(function(R){M(k[R])}),this._signal("registerSnippets",{scope:A})},_.prototype.unregister=function(k,A){var T=this.snippetMap,j=this.snippetNameMap;function F($){var D=j[$.scope||A];if(D&&D[$.name]){delete D[$.name];var M=T[$.scope||A],R=M&&M.indexOf($);R>=0&&M.splice(R,1)}}k.content?F(k):Array.isArray(k)&&k.forEach(F)},_.prototype.parseSnippetFile=function(k){k=k.replace(/\r/g,"");for(var A=[],T={},j=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,F;F=j.exec(k);){if(F[1])try{T=JSON.parse(F[1]),A.push(T)}catch{}if(F[4])T.content=F[4].replace(/^\t/gm,""),A.push(T),T={};else{var $=F[2],D=F[3];if($=="regex"){var M=/\/((?:[^\/\\]|\\.)*)|$/g;T.guard=M.exec(D)[1],T.trigger=M.exec(D)[1],T.endTrigger=M.exec(D)[1],T.endGuard=M.exec(D)[1]}else $=="snippet"?(T.tabTrigger=D.match(/^\S*/)[0],T.name||(T.name=D)):$&&(T[$]=D)}}return A},_.prototype.getSnippetByName=function(k,A){var T=this.snippetNameMap,j;return this.getActiveScopes(A).some(function(F){var $=T[F];return $&&(j=$[k]),!!j},this),j},_})();y.implement(a.prototype,f);var d=function(_,k,A){A===void 0&&(A={});var T=_.getCursorPosition(),j=_.session.getLine(T.row),F=_.session.getTabString(),$=j.match(/^\s*/)[0];T.column<$.length&&($=$.slice(0,T.column)),k=k.replace(/\r/g,"");var D=this.tokenizeTmSnippet(k);D=this.resolveVariables(D,_),D=D.map(function(J){return J==`
`&&!A.excludeExtraIndent?J+$:typeof J=="string"?J.replace(/\t/g,F):J});var M=[];D.forEach(function(J,V){if(typeof J=="object"){var Q=J.tabstopId,ne=M[Q];if(ne||(ne=M[Q]=[],ne.index=Q,ne.value="",ne.parents={}),ne.indexOf(J)===-1){J.choices&&!ne.choices&&(ne.choices=J.choices),ne.push(J);var ie=D.indexOf(J,V+1);if(ie!==-1){var me=D.slice(V+1,ie),pe=me.some(function(Se){return typeof Se=="object"});pe&&!ne.value?ne.value=me:me.length&&(!ne.value||typeof ne.value!="string")&&(ne.value=me.join(""))}}}}),M.forEach(function(J){J.length=0});var R={};function O(J){for(var V=[],Q=0;Q<J.length;Q++){var ne=J[Q];if(typeof ne=="object"){if(R[ne.tabstopId])continue;var ie=J.lastIndexOf(ne,Q-1);ne=V[ie]||{tabstopId:ne.tabstopId}}V[Q]=ne}return V}for(var z=0;z<D.length;z++){var B=D[z];if(typeof B=="object"){var P=B.tabstopId,U=M[P],W=D.indexOf(B,z+1);if(R[P]){R[P]===B&&(delete R[P],Object.keys(R).forEach(function(J){U.parents[J]=!0}));continue}R[P]=B;var K=U.value;typeof K!="string"?K=O(K):B.fmt&&(K=this.tmStrFormat(K,B,_)),D.splice.apply(D,[z+1,Math.max(0,W-z)].concat(K,B)),U.indexOf(B)===-1&&U.push(B)}}var Y=0,X=0,q="";return D.forEach(function(J){if(typeof J=="string"){var V=J.split(`
`);V.length>1?(X=V[V.length-1].length,Y+=V.length-1):X+=J.length,q+=J}else J&&(J.start?J.end={row:Y,column:X}:J.start={row:Y,column:X})}),{text:q,tabstops:M,tokens:D}},m=(function(){function _(k){if(this.index=0,this.ranges=[],this.tabstops=[],k.tabstopManager)return k.tabstopManager;k.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=o.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(k)}return _.prototype.attach=function(k){this.$openTabstops=null,this.selectedTabstop=null,this.editor=k,this.session=k.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},_.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},_.prototype.onChange=function(k){for(var A=k.action[0]=="r",T=this.selectedTabstop||{},j=T.parents||{},F=this.tabstops.slice(),$=0;$<F.length;$++){var D=F[$],M=D==T||j[D.index];if(D.rangeList.$bias=M?0:1,k.action=="remove"&&D!==T){var R=D.parents&&D.parents[T.index],O=D.rangeList.pointIndex(k.start,R);O=O<0?-O-1:O+1;var z=D.rangeList.pointIndex(k.end,R);z=z<0?-z-1:z-1;for(var B=D.rangeList.ranges.slice(O,z),P=0;P<B.length;P++)this.removeRange(B[P])}D.rangeList.$onChange(k)}var U=this.session;!this.$inChange&&A&&U.getLength()==1&&!U.getValue()&&this.detach()},_.prototype.updateLinkedFields=function(){var k=this.selectedTabstop;if(!(!k||!k.hasLinkedRanges||!k.firstNonLinked)){this.$inChange=!0;for(var A=this.session,T=A.getTextRange(k.firstNonLinked),j=0;j<k.length;j++){var F=k[j];if(F.linked){var $=F.original,D=v.snippetManager.tmStrFormat(T,$,this.editor);A.replace(F,D)}}this.$inChange=!1}},_.prototype.onAfterExec=function(k){k.command&&!k.command.readOnly&&this.updateLinkedFields()},_.prototype.onChangeSelection=function(){if(this.editor){for(var k=this.editor.selection.lead,A=this.editor.selection.anchor,T=this.editor.selection.isEmpty(),j=0;j<this.ranges.length;j++)if(!this.ranges[j].linked){var F=this.ranges[j].contains(k.row,k.column),$=T||this.ranges[j].contains(A.row,A.column);if(F&&$)return}this.detach()}},_.prototype.onChangeSession=function(){this.detach()},_.prototype.tabNext=function(k){var A=this.tabstops.length,T=this.index+(k||1);T=Math.min(Math.max(T,1),A),T==A&&(T=0),this.selectTabstop(T),this.updateTabstopMarkers(),T===0&&this.detach()},_.prototype.selectTabstop=function(k){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=k,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var T=A.firstNonLinked||A;if(A.choices&&(T.cursor=T.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(T);else{var j=this.editor.multiSelect;j.toSingleRange(T);for(var F=0;F<A.length;F++)A.hasLinkedRanges&&A[F].linked||j.addRange(A[F].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},_.prototype.addTabstops=function(k,A,T){var j=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!k[0]){var F=h.fromPoints(T,T);C(F.start,A),C(F.end,A),k[0]=[F],k[0].index=0}var $=this.index,D=[$+1,0],M=this.ranges,R=this.snippetId=(this.snippetId||0)+1;k.forEach(function(O,z){var B=this.$openTabstops[z]||O;B.snippetId=R;for(var P=0;P<O.length;P++){var U=O[P],W=h.fromPoints(U.start,U.end||U.start);x(W.start,A),x(W.end,A),W.original=U,W.tabstop=B,M.push(W),B!=O?B.unshift(W):B[P]=W,U.fmtString||B.firstNonLinked&&j?(W.linked=!0,B.hasLinkedRanges=!0):B.firstNonLinked||(B.firstNonLinked=W)}B.firstNonLinked||(B.hasLinkedRanges=!1),B===O&&(D.push(B),this.$openTabstops[z]=B),this.addTabstopMarkers(B),B.rangeList=B.rangeList||new r,B.rangeList.$bias=0,B.rangeList.addList(B)},this),D.length>2&&(this.tabstops.length&&D.push(D.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,D))},_.prototype.addTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){T.markerId||(T.markerId=A.addMarker(T,"ace_snippet-marker","text"))})},_.prototype.removeTabstopMarkers=function(k){var A=this.session;k.forEach(function(T){A.removeMarker(T.markerId),T.markerId=null})},_.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var k=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&k--,this.tabstops.forEach(function(A){A.snippetId===k?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},_.prototype.removeRange=function(k){var A=k.tabstop.indexOf(k);A!=-1&&k.tabstop.splice(A,1),A=this.ranges.indexOf(k),A!=-1&&this.ranges.splice(A,1),A=k.tabstop.rangeList.ranges.indexOf(k),A!=-1&&k.tabstop.splice(A,1),this.session.removeMarker(k.markerId),k.tabstop.length||(A=this.tabstops.indexOf(k.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},_})();m.prototype.keyboardHandler=new n,m.prototype.keyboardHandler.bindKeys({Tab:function(_){v.snippetManager&&v.snippetManager.expandWithTab(_)||(_.tabstopManager.tabNext(1),_.renderer.scrollCursorIntoView())},"Shift-Tab":function(_){_.tabstopManager.tabNext(-1),_.renderer.scrollCursorIntoView()},Esc:function(_){_.tabstopManager.detach()}});var x=function(_,k){_.row==0&&(_.column+=k.column),_.row+=k.row},C=function(_,k){_.row==k.row&&(_.column-=k.column),_.row-=k.row};S.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),v.snippetManager=new a;var w=g("./editor").Editor;(function(){this.insertSnippet=function(_,k){return v.snippetManager.insertSnippet(this,_,k)},this.expandSnippet=function(_){return v.snippetManager.expandWithTab(this,_)}}).call(w.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(g,v,L){var S=g("../virtual_renderer").VirtualRenderer,y=g("../editor").Editor,f=g("../range").Range,o=g("../lib/event"),h=g("../lib/lang"),r=g("../lib/dom"),n=g("../config").nls,i=g("./../lib/useragent"),s=function(x){return"suggest-aria-id:".concat(x)},c=i.isSafari?"menu":"listbox",u=i.isSafari?"menuitem":"option",a=i.isSafari?"aria-current":"aria-selected",d=function(x){var C=new S(x);C.$maxLines=4;var w=new y(C);return w.setHighlightActiveLine(!1),w.setShowPrintMargin(!1),w.renderer.setShowGutter(!1),w.renderer.setHighlightGutterLine(!1),w.$mouseHandler.$focusTimeout=0,w.$highlightTagPending=!0,w},m=(function(){function x(C){var w=r.createElement("div"),_=d(w);C&&C.appendChild(w),w.style.display="none",_.renderer.content.style.cursor="default",_.renderer.setStyle("ace_autocomplete"),_.renderer.$textLayer.element.setAttribute("role",c),_.renderer.$textLayer.element.setAttribute("aria-roledescription",n("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),_.renderer.$textLayer.element.setAttribute("aria-label",n("autocomplete.popup.aria-label","Autocomplete suggestions")),_.renderer.textarea.setAttribute("aria-hidden","true"),_.setOption("displayIndentGuides",!1),_.setOption("dragDelay",150);var k=function(){};_.focus=k,_.$isFocused=!0,_.renderer.$cursorLayer.restartTimer=k,_.renderer.$cursorLayer.element.style.opacity="0",_.renderer.$maxLines=8,_.renderer.$keepTextAreaAtCursor=!1,_.setHighlightActiveLine(!1),_.session.highlight(""),_.session.$searchHighlight.clazz="ace_highlight-marker",_.on("mousedown",function(M){var R=M.getDocumentPosition();_.selection.moveToPosition(R),j.start.row=j.end.row=R.row,M.stop()});var A,T=new f(-1,0,-1,1/0),j=new f(-1,0,-1,1/0);j.id=_.session.addMarker(j,"ace_active-line","fullLine"),_.setSelectOnHover=function(M){M?T.id&&(_.session.removeMarker(T.id),T.id=null):T.id=_.session.addMarker(T,"ace_line-hover","fullLine")},_.setSelectOnHover(!1),_.on("mousemove",function(M){if(!A){A=M;return}if(!(A.x==M.x&&A.y==M.y)){A=M,A.scrollTop=_.renderer.scrollTop,_.isMouseOver=!0;var R=A.getDocumentPosition().row;T.start.row!=R&&(T.id||_.setRow(R),$(R))}}),_.renderer.on("beforeRender",function(){if(A&&T.start.row!=-1){A.$pos=null;var M=A.getDocumentPosition().row;T.id||_.setRow(M),$(M,!0)}}),_.renderer.on("afterRender",function(){for(var M=_.renderer.$textLayer,R=M.config.firstRow,O=M.config.lastRow;R<=O;R++){var z=M.element.childNodes[R-M.config.firstRow];z.setAttribute("role",u),z.setAttribute("aria-roledescription",n("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-setsize",_.data.length),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute("aria-posinset",R+1);var B=_.getData(R);if(B){var P="".concat(B.caption||B.value).concat(B.meta?", ".concat(B.meta):"");z.setAttribute("aria-label",P)}var U=z.querySelectorAll(".ace_completion-highlight");U.forEach(function(W){W.setAttribute("role","mark")})}}),_.renderer.on("afterRender",function(){var M=_.getRow(),R=_.renderer.$textLayer,O=R.element.childNodes[M-R.config.firstRow],z=document.activeElement;if(O!==_.selectedNode&&_.selectedNode&&(r.removeCssClass(_.selectedNode,"ace_selected"),_.selectedNode.removeAttribute(a),_.selectedNode.removeAttribute("id")),z.removeAttribute("aria-activedescendant"),_.selectedNode=O,O){var B=s(M);r.addCssClass(O,"ace_selected"),O.id=B,R.element.setAttribute("aria-activedescendant",B),z.setAttribute("aria-activedescendant",B),O.setAttribute(a,"true")}});var F=function(){$(-1)},$=function(M,R){M!==T.start.row&&(T.start.row=T.end.row=M,R||_.session._emit("changeBackMarker"),_._emit("changeHoverMarker"))};_.getHoveredRow=function(){return T.start.row},o.addListener(_.container,"mouseout",function(){_.isMouseOver=!1,F()}),_.on("hide",F),_.on("changeSelection",F),_.session.doc.getLength=function(){return _.data.length},_.session.doc.getLine=function(M){var R=_.data[M];return typeof R=="string"?R:R&&R.value||""};var D=_.session.bgTokenizer;return D.$tokenizeRow=function(M){var R=_.data[M],O=[];if(!R)return O;typeof R=="string"&&(R={value:R});var z=R.caption||R.value||R.name;function B(J,V){J&&O.push({type:(R.className||"")+(V||""),value:J})}for(var P=z.toLowerCase(),U=(_.filterText||"").toLowerCase(),W=0,K=0,Y=0;Y<=U.length;Y++)if(Y!=K&&(R.matchMask&1<<Y||Y==U.length)){var X=U.slice(K,Y);K=Y;var q=P.indexOf(X,W);if(q==-1)continue;B(z.slice(W,q),""),W=q+X.length,B(z.slice(q,W),"completion-highlight")}return B(z.slice(W,z.length),""),O.push({type:"completion-spacer",value:" "}),R.meta&&O.push({type:"completion-meta",value:R.meta}),R.message&&O.push({type:"completion-message",value:R.message}),O},D.$updateOnChange=k,D.start=k,_.session.$computeWidth=function(){return this.screenWidth=0},_.isOpen=!1,_.isTopdown=!1,_.autoSelect=!0,_.filterText="",_.isMouseOver=!1,_.data=[],_.setData=function(M,R){_.filterText=R||"",_.setValue(h.stringRepeat(`
`,M.length),-1),_.data=M||[],_.setRow(0)},_.getData=function(M){return _.data[M]},_.getRow=function(){return j.start.row},_.setRow=function(M){M=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,M)),j.start.row!=M&&(_.selection.clearSelection(),j.start.row=j.end.row=M||0,_.session._emit("changeBackMarker"),_.moveCursorTo(M||0,0),_.isOpen&&_._signal("select"))},_.on("changeSelection",function(){_.isOpen&&_.setRow(_.selection.lead.row),_.renderer.scrollCursorIntoView()}),_.hide=function(){this.container.style.display="none",_.anchorPos=null,_.anchor=null,_.isOpen&&(_.isOpen=!1,this._signal("hide"))},_.tryShow=function(M,R,O,z){if(!z&&_.isOpen&&_.anchorPos&&_.anchor&&_.anchorPos.top===M.top&&_.anchorPos.left===M.left&&_.anchor===O)return!0;var B=this.container,P=this.renderer.scrollBar.width||10,U=window.innerHeight-P,W=window.innerWidth-P,K=this.renderer,Y=K.$maxLines*R*1.4,X={top:0,bottom:0},q=U-M.top-3*this.$borderSize-R,J=M.top-3*this.$borderSize;O||(J<=q||q>=Y?O="bottom":O="top"),O==="top"?(X.bottom=M.top-this.$borderSize,X.top=X.bottom-Y):O==="bottom"&&(X.top=M.top+R+this.$borderSize,X.bottom=X.top+Y);var V=X.top>=0&&X.bottom<=U;if(!z&&!V)return!1;V?K.$maxPixelHeight=null:O==="top"?K.$maxPixelHeight=J:K.$maxPixelHeight=q,O==="top"?(B.style.top="",B.style.bottom=U+P-X.bottom+"px",_.isTopdown=!1):(B.style.top=X.top+"px",B.style.bottom="",_.isTopdown=!0),B.style.display="";var Q=M.left;return Q+B.offsetWidth>W&&(Q=W-B.offsetWidth),B.style.left=Q+"px",B.style.right="",r.$fixPositionBug(B),_.isOpen||(_.isOpen=!0,this._signal("show"),A=null),_.anchorPos=M,_.anchor=O,!0},_.show=function(M,R,O){this.tryShow(M,R,O?"bottom":void 0,!0)},_.goTo=function(M){var R=this.getRow(),O=this.session.getLength()-1;switch(M){case"up":R=R<=0?O:R-1;break;case"down":R=R>=O?-1:R+1;break;case"start":R=0;break;case"end":R=O;break}this.setRow(R)},_.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},_.$imageSize=0,_.$borderSize=1,_}return x})();r.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),v.AcePopup=m,v.$singleLineEditor=d,v.getAriaId=s}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(g,v,L){var S=(function(){function y(f){this.editor=f,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return y.prototype.setScreenReaderContent=function(f){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var h=this.popup.getRow(),r=this.popup.renderer.$textLayer,n=r.element.childNodes[h-r.config.firstRow];if(n){for(var i="doc-tooltip ",s=0;s<this._lines.length;s++)i+="ace-inline-screenreader-line-".concat(s," ");n.setAttribute("aria-describedby",i)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=f.split(/\r\n|\r|\n/);var o=this.createCodeBlock();this.screenReaderDiv.appendChild(o)},y.prototype.destroy=function(){this.screenReaderDiv.remove()},y.prototype.createCodeBlock=function(){var f=document.createElement("pre");f.setAttribute("id","ace-inline-screenreader");for(var o=0;o<this._lines.length;o++){var h=document.createElement("code");h.setAttribute("id","ace-inline-screenreader-line-".concat(o));var r=document.createTextNode(this._lines[o]);h.appendChild(r),f.appendChild(h)}return f},y})();v.AceInlineScreenReader=S}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(g,v,L){var S=g("../snippets").snippetManager,y=g("./inline_screenreader").AceInlineScreenReader,f=(function(){function o(){this.editor=null}return o.prototype.show=function(h,r,n){if(n=n||"",h&&this.editor&&this.editor!==h&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!h||!r)return!1;this.inlineScreenReader||(this.inlineScreenReader=new y(h));var i=r.snippet?S.getDisplayTextForSnippet(h,r.snippet):r.value;return r.hideInlinePreview||!i||!i.startsWith(n)?!1:(this.editor=h,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(n.length),i===""?h.removeGhostText():h.setGhostText(i),!0)},o.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},o.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},o.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},o})();v.AceInline=f}),ace.define("ace/autocomplete/util",["require","exports","module"],function(g,v,L){v.parForEach=function(y,f,o){var h=0,r=y.length;r===0&&o();for(var n=0;n<r;n++)f(y[n],function(i,s){h++,h===r&&o(i,s)})};var S=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;v.retrievePrecedingIdentifier=function(y,f,o){o=o||S;for(var h=[],r=f-1;r>=0&&o.test(y[r]);r--)h.push(y[r]);return h.reverse().join("")},v.retrieveFollowingIdentifier=function(y,f,o){o=o||S;for(var h=[],r=f;r<y.length&&o.test(y[r]);r++)h.push(y[r]);return h},v.getCompletionPrefix=function(y){var f=y.getCursorPosition(),o=y.session.getLine(f.row),h;return y.completers.forEach((function(r){r.identifierRegexps&&r.identifierRegexps.forEach((function(n){!h&&n&&(h=this.retrievePrecedingIdentifier(o,f.column,n))}).bind(this))}).bind(this)),h||this.retrievePrecedingIdentifier(o,f.column)},v.triggerAutocomplete=function(y,o){var o=o??y.session.getPrecedingCharacter();return y.completers.some(function(h){if(h.triggerCharacters&&Array.isArray(h.triggerCharacters))return h.triggerCharacters.includes(o)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(g,v,L){var S=g("./keyboard/hash_handler").HashHandler,y=g("./autocomplete/popup").AcePopup,f=g("./autocomplete/inline").AceInline,o=g("./autocomplete/popup").getAriaId,h=g("./autocomplete/util"),r=g("./lib/lang"),n=g("./lib/dom"),i=g("./snippets").snippetManager,s=g("./config"),c=g("./lib/event"),u=g("./lib/scroll").preventParentScroll,a=function(C,w){w.completer&&w.completer.destroy()},d=(function(){function C(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new S,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=r.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=r.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=r.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=r.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=r.delayedCall((function(){var w=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!w||this.editor.completers.length===0||(this.completions=new x(C.completionsForLoading),this.openPopup(this.editor,w.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(C,"completionsForLoading",{get:function(){return[{caption:s.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),C.prototype.$init=function(){return this.popup=new y(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(w){this.insertMatch(),w.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),c.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},C.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new f,this.inlineRenderer},C.prototype.getPopup=function(){return this.popup||this.$init()},C.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},C.prototype.$seen=function(w){!this.hasSeen.has(w)&&w&&w.completer&&w.completer.onSeen&&typeof w.completer.onSeen=="function"&&(w.completer.onSeen(this.editor,w),this.hasSeen.add(w))},C.prototype.$onPopupChange=function(w){if(this.inlineRenderer&&this.inlineEnabled){var _=w?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(_),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},C.prototype.$updateGhostText=function(w){var _=this.base.row,k=this.base.column,A=this.editor.getCursorPosition().column,T=this.editor.session.getLine(_).slice(k,A);this.inlineRenderer.show(this.editor,w,T)?this.$seen(w):this.inlineRenderer.hide()},C.prototype.$onPopupRender=function(){var w=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var _=this.popup.getFirstVisibleRow();_<=this.popup.getLastVisibleRow();_++){var k=this.popup.getData(_);k&&(!w||k.hideInlinePreview)&&this.$seen(k)}},C.prototype.$onPopupShow=function(w){this.$onPopupChange(w),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},C.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var w=this.editor.container.parentNode,_=[];w;)_.push(w),w.addEventListener("scroll",this.onLayoutChange,{passive:!0}),w=w.parentNode;this.$elements=_}},C.prototype.unObserveLayoutChanges=function(){var w=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(_){_.removeEventListener("scroll",w.onLayoutChange,{passive:!0})}),this.$elements=null},C.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},C.prototype.$updatePopupPosition=function(){var w=this.editor,_=w.renderer,k=_.layerConfig.lineHeight,A=_.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var T=w.container.getBoundingClientRect();A.top+=T.top-_.layerConfig.offset,A.left+=T.left-w.renderer.scrollLeft,A.left+=_.gutterWidth;var j={top:A.top,left:A.left};_.$ghostText&&_.$ghostTextWidget&&this.base.row===_.$ghostText.position.row&&(j.top+=_.$ghostTextWidget.el.offsetHeight);var F=w.container.getBoundingClientRect().bottom-k,$=F<j.top?{top:F,left:j.left}:j;this.popup.tryShow($,k,"bottom")||this.popup.tryShow(A,k,"top")||this.popup.show(A,k)},C.prototype.openPopup=function(w,_,k){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),T=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:o(this.popup.getRow()),inline:this.inlineEnabled}),w.keyBinding.addKeyboardHandler(this.keyboardHandler);var j;this.stickySelection&&(j=this.popup.data.indexOf(T)),(!j||j===-1)&&(j=0),this.popup.setRow(this.autoSelect?j:-1),j===A&&T!==this.completions.filtered[j]&&this.$onPopupChange();var F=this.inlineRenderer&&this.inlineEnabled;if(j===A&&F){var $=this.popup.getData(this.popup.getRow());this.$updateGhostText($)}k||(this.popup.setTheme(w.getTheme()),this.popup.setFontSize(w.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},C.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},C.prototype.changeListener=function(w){var _=this.editor.selection.lead;(_.row!=this.base.row||_.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},C.prototype.blurListener=function(w){var _=document.activeElement,k=this.editor.textInput.getElement(),A=w.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(w.relatedTarget),T=this.popup&&this.popup.container;_!=k&&_.parentNode!=T&&!A&&_!=this.tooltipNode&&w.relatedTarget!=k&&this.detach()},C.prototype.mousedownListener=function(w){this.detach()},C.prototype.mousewheelListener=function(w){this.popup&&!this.popup.isMouseOver&&this.detach()},C.prototype.mouseOutListener=function(w){this.popup.isOpen&&this.$updatePopupPosition()},C.prototype.goTo=function(w){this.popup.goTo(w)},C.prototype.insertMatch=function(w,_){if(w||(w=this.popup.getData(this.popup.getRow())),!w)return!1;if(w.value==="")return this.detach();var k=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,w,k.filterText,_);return this.completions==k&&this.detach(),A},C.prototype.showPopup=function(w,_){this.editor&&this.detach(),this.activated=!0,this.editor=w,w.completer!=this&&(w.completer&&w.completer.detach(),w.completer=this),w.on("changeSelection",this.changeListener),w.on("blur",this.blurListener),w.on("mousedown",this.mousedownListener),w.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,_)},C.prototype.getCompletionProvider=function(w){return this.completionProvider||(this.completionProvider=new m(w)),this.completionProvider},C.prototype.gatherCompletions=function(w,_){return this.getCompletionProvider().gatherCompletions(w,_)},C.prototype.updateCompletions=function(w,_){if(w&&this.base&&this.completions){var A=this.editor.getCursorPosition(),T=this.editor.session.getTextRange({start:this.base,end:A});if(T==this.completions.filterText)return;if(this.completions.setFilter(T),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==T&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,T,w);return}if(_&&_.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new x(_.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",w)}var k=this.editor.getSession(),A=this.editor.getCursorPosition(),T=h.getCompletionPrefix(this.editor);this.base=k.doc.createAnchor(A.row,A.column-T.length),this.base.$insertRight=!0;var j={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:T,pos:A}).provideCompletions(this.editor,j,(function(F,$,D){var M=$.filtered,R=h.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),D){if(!M.length){var O=!this.autoShown&&this.emptyMessage;if(typeof O=="function"&&(O=this.emptyMessage(R)),O){var z=[{caption:O,value:""}];this.completions=new x(z),this.openPopup(this.editor,R,w),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(M.length==1&&M[0].value==R&&!M[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&M.length==1)return this.insertMatch(M[0])}this.completions=!D&&this.showLoadingState?new x(C.completionsForLoading.concat(M),$.filterText):$,this.openPopup(this.editor,R,w),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!D)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},C.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},C.prototype.updateDocTooltip=function(){var w=this.popup,_=this.completions&&this.completions.filtered,k=_&&(_[w.getHoveredRow()]||_[w.getRow()]),A=null;if(!k||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var T=this.editor.completers.length,j=0;j<T;j++){var F=this.editor.completers[j];if(F.getDocTooltip&&k.completerId===F.id){A=F.getDocTooltip(k);break}}if(!A&&typeof k!="string"&&(A=k),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},C.prototype.showDocTooltip=function(w){this.tooltipNode||(this.tooltipNode=n.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",u));var _=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(_.isDark?"ace_dark ":"")+(_.cssClass||"");var k=this.tooltipNode;w.docHTML?k.innerHTML=w.docHTML:w.docText&&(k.textContent=w.docText),k.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,T=A.container.getBoundingClientRect(),j=400,F=300,$=A.renderer.scrollBar.width||10,D=T.left,M=window.innerWidth-T.right-$,R=A.isTopdown?window.innerHeight-$-T.bottom:T.top,O=[Math.min(M/j,1),Math.min(D/j,1),Math.min(R/F,1)*.9],z=Math.max.apply(Math,O),B=k.style;B.display="block",z==O[0]||O[0]>=1?(B.left=T.right+1+"px",B.right="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.top,F)+"px"):z==O[1]||O[1]>=1?(B.right=window.innerWidth-T.left+"px",B.left="",B.maxWidth=j*z+"px",B.top=T.top+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.top,F)+"px"):z==O[2]&&(B.left=T.left+"px",B.right="",B.maxWidth=Math.min(j,window.innerWidth-T.left)+"px",A.isTopdown?(B.top=T.bottom+"px",B.bottom="",B.maxHeight=Math.min(window.innerHeight-$-T.bottom,F)+"px"):(B.top="",B.bottom=window.innerHeight-T.top+"px",B.maxHeight=Math.min(T.top,F)+"px")),n.$fixPositionBug(k)},C.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var w=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==w&&this.editor.focus(),this.tooltipNode=null,w.parentNode&&w.parentNode.removeChild(w)}},C.prototype.onTooltipClick=function(w){for(var _=w.target;_&&_!=this.tooltipNode;){if(_.nodeName=="A"&&_.href){_.rel="noreferrer",_.target="_blank";break}_=_.parentNode}},C.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var w=this.popup.container;w&&w.parentNode&&w.parentNode.removeChild(w)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",a),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},C.for=function(w){return w.completer instanceof C||(w.completer&&(w.completer.destroy(),w.completer=null),s.get("sharedPopups")?(C.$sharedInstance||(C.$sharedInstance=new C),w.completer=C.$sharedInstance):(w.completer=new C,w.once("destroy",a))),w.completer},C})();d.prototype.commands={Up:function(C){C.completer.goTo("up")},Down:function(C){C.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(C){C.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(C){C.completer.goTo("end")},Esc:function(C){C.completer.detach()},Return:function(C){return C.completer.insertMatch()},"Shift-Return":function(C){C.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(C){var w=C.completer.insertMatch();if(!w&&!C.tabstopManager)C.completer.goTo("down");else return w},Backspace:function(C){C.execCommand("backspace");var w=h.getCompletionPrefix(C);!w&&C.completer&&C.completer.detach()},PageUp:function(C){C.completer.popup.gotoPageUp()},PageDown:function(C){C.completer.popup.gotoPageDown()}},d.startCommand={name:"startAutocomplete",exec:function(C,w){var _=d.for(C);_.autoInsert=!1,_.autoSelect=!0,_.autoShown=!1,_.showPopup(C,w),_.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var m=(function(){function C(w){this.initialPosition=w,this.active=!0}return C.prototype.insertByIndex=function(w,_,k){return!this.completions||!this.completions.filtered?!1:this.insertMatch(w,this.completions.filtered[_],k)},C.prototype.insertMatch=function(w,_,k){if(!_)return!1;if(w.startOperation({command:{name:"insertMatch"}}),_.completer&&_.completer.insertMatch)_.completer.insertMatch(w,_);else{if(!this.completions)return!1;var A=this.completions.filterText.length,T=0;if(_.range&&_.range.start.row===_.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-_.range.start.column,T+=_.range.end.column-this.initialPosition.pos.column),A||T){var j;w.selection.getAllRanges?j=w.selection.getAllRanges():j=[w.getSelectionRange()];for(var F=0,$;$=j[F];F++)$.start.column-=A,$.end.column+=T,w.session.remove($)}_.snippet?i.insertSnippet(w,_.snippet):this.$insertString(w,_),_.completer&&_.completer.onInsert&&typeof _.completer.onInsert=="function"&&_.completer.onInsert(w,_),_.command&&_.command==="startAutocomplete"&&w.execCommand(_.command)}return w.endOperation(),!0},C.prototype.$insertString=function(w,_){var k=_.value||_;w.execCommand("insertstring",k)},C.prototype.gatherCompletions=function(w,_){var k=w.getSession(),A=w.getCursorPosition(),T=h.getCompletionPrefix(w),j=[];this.completers=w.completers;var F=w.completers.length;return w.completers.forEach(function($,D){$.getCompletions(w,k,A,T,function(M,R){$.hideInlinePreview&&(R=R.map(function(O){return Object.assign(O,{hideInlinePreview:$.hideInlinePreview})})),!M&&R&&(j=j.concat(R)),_(null,{prefix:h.getCompletionPrefix(w),matches:j,finished:--F===0})})}),!0},C.prototype.provideCompletions=function(w,_,k){var A=(function($){var D=$.prefix,M=$.matches;this.completions=new x(M),_.exactMatch&&(this.completions.exactMatch=!0),_.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(D),($.finished||this.completions.filtered.length)&&k(null,this.completions,$.finished)}).bind(this),T=!0,j=null;if(this.gatherCompletions(w,(function($,D){if(this.active){$&&(k($,[],!0),this.detach());var M=D.prefix;if(M.indexOf(D.prefix)===0){if(T){j=D;return}A(D)}}}).bind(this)),T=!1,j){var F=j;j=null,A(F)}},C.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(w){typeof w.cancel=="function"&&w.cancel()})},C})(),x=(function(){function C(w,_){this.all=w,this.filtered=w,this.filterText=_||"",this.exactMatch=!1,this.ignoreCaption=!1}return C.prototype.setFilter=function(w){if(w.length>this.filterText&&w.lastIndexOf(this.filterText,0)===0)var _=this.filtered;else var _=this.all;this.filterText=w,_=this.filterCompletions(_,this.filterText),_=_.sort(function(A,T){return T.exactMatch-A.exactMatch||T.$score-A.$score||(A.caption||A.value).localeCompare(T.caption||T.value)});var k=null;_=_.filter(function(A){var T=A.snippet||A.caption||A.value;return T===k?!1:(k=T,!0)}),this.filtered=_},C.prototype.filterCompletions=function(w,_){var k=[],A=_.toUpperCase(),T=_.toLowerCase();e:for(var j=0,F;F=w[j];j++){if(F.skipFilter){F.$score=F.score,k.push(F);continue}var $=!this.ignoreCaption&&F.caption||F.value||F.snippet;if($){var D=-1,M=0,R=0,O,z;if(this.exactMatch){if(_!==$.substr(0,_.length))continue e}else{var B=$.toLowerCase().indexOf(T);if(B>-1)R=B;else for(var P=0;P<_.length;P++){var U=$.indexOf(T[P],D+1),W=$.indexOf(A[P],D+1);if(O=U>=0&&(W<0||U<W)?U:W,O<0)continue e;z=O-D-1,z>0&&(D===-1&&(R+=10),R+=z,M=M|1<<P),D=O}}F.matchMask=M,F.exactMatch=R?0:1,F.$score=(F.score||0)-R,k.push(F)}}return k},C})();v.Autocomplete=d,v.CompletionProvider=m,v.FilteredList=x}),ace.define("ace/marker_group",["require","exports","module"],function(g,v,L){var S=(function(){function y(f,o){o&&(this.markerType=o.markerType),this.markers=[],this.session=f,f.addDynamicMarker(this)}return y.prototype.getMarkerAtPosition=function(f){return this.markers.find(function(o){return o.range.contains(f.row,f.column)})},y.prototype.markersComparator=function(f,o){return f.range.start.row-o.range.start.row},y.prototype.setMarkers=function(f){this.markers=f.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},y.prototype.update=function(f,o,h,r){if(!(!this.markers||!this.markers.length))for(var n=r.firstRow,i=r.lastRow,s,c=0,u=0,a=0;a<this.markers.length;a++){var d=this.markers[a];if(!(d.range.end.row<n)&&!(d.range.start.row>i)&&(d.range.start.row===u?c++:(u=d.range.start.row,c=0),!(c>200))){var m=d.range.clipRows(n,i);if(!(m.start.row===m.end.row&&m.start.column===m.end.column)){var x=m.toScreenRange(h);if(x.isEmpty()){s=h.getNextFoldLine(m.end.row,s),s&&s.end.row>m.end.row&&(n=s.end.row);continue}this.markerType==="fullLine"?o.drawFullLineMarker(f,x,d.className,r):x.isMultiLine()?this.markerType==="line"?o.drawMultiLineMarker(f,x,d.className,r):o.drawTextMarker(f,x,d.className,r):o.drawSingleLineMarker(f,x,d.className+" ace_br15",r)}}}},y})();S.prototype.MAX_MARKERS=1e4,v.MarkerGroup=S}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(g,v,L){var S=g("../range").Range,y=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function f(h,r){var n=h.getTextRange(S.fromPoints({row:0,column:0},r));return n.split(y).length-1}function o(h,r){var n=f(h,r),i=h.getValue().split(y),s=Object.create(null),c=i[n];return i.forEach(function(u,a){if(!(!u||u===c)){var d=Math.abs(n-a),m=i.length-d;s[u]?s[u]=Math.max(m,s[u]):s[u]=m}}),s}v.getCompletions=function(h,r,n,i,s){var c=o(r,n),u=Object.keys(c);s(null,u.map(function(a){return{caption:a,value:a,score:c[a],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(g,v,L){var S=g("../snippets").snippetManager,y=g("../autocomplete").Autocomplete,f=g("../config"),o=g("../lib/lang"),h=g("../autocomplete/util"),r=g("../marker_group").MarkerGroup,n=g("../autocomplete/text_completer"),i={getCompletions:function(T,j,F,$,D){if(j.$mode.completer)return j.$mode.completer.getCompletions(T,j,F,$,D);var M=T.session.getState(F.row),R=j.$mode.getCompletions(M,j,F,$);R=R.map(function(O){return O.completerId=i.id,O}),D(null,R)},id:"keywordCompleter"},s=function(T){var j={};return T.replace(/\${(\d+)(:(.*?))?}/g,function(F,$,D,M){return j[$]=M||""}).replace(/\$(\d+?)/g,function(F,$){return j[$]})},c={getCompletions:function(T,j,F,$,D){var M=[],R=j.getTokenAt(F.row,F.column);R&&R.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?M.push("html-tag"):M=S.getActiveScopes(T);var O=S.snippetMap,z=[];M.forEach(function(B){for(var P=O[B]||[],U=P.length;U--;){var W=P[U],K=W.name||W.tabTrigger;K&&z.push({caption:K,snippet:W.content,meta:W.tabTrigger&&!W.name?W.tabTrigger+" ":"snippet",completerId:c.id})}},this),D(null,z)},getDocTooltip:function(T){T.snippet&&!T.docHTML&&(T.docHTML=["<b>",o.escapeHTML(T.caption),"</b>","<hr></hr>",o.escapeHTML(s(T.snippet))].join(""))},id:"snippetCompleter"},u=[c,n,i];v.setCompleters=function(T){u.length=0,T&&u.push.apply(u,T)},v.addCompleter=function(T){u.push(T)},v.textCompleter=n,v.keyWordCompleter=i,v.snippetCompleter=c;var a={name:"expandSnippet",exec:function(T){return S.expandWithTab(T)},bindKey:"Tab"},d=function(T,j){m(j.session.$mode)},m=function(T){typeof T=="string"&&(T=f.$modes[T]),T&&(S.files||(S.files={}),x(T.$id,T.snippetFileId),T.modes&&T.modes.forEach(m))},x=function(T,j){!j||!T||S.files[T]||(S.files[T]={},f.loadModule(j,function(F){F&&(S.files[T]=F,!F.snippets&&F.snippetText&&(F.snippets=S.parseSnippetFile(F.snippetText)),S.register(F.snippets||[],F.scope),F.includeScopes&&(S.snippetMap[F.scope].includeScopes=F.includeScopes,F.includeScopes.forEach(function($){m("ace/mode/"+$)})))}))},C=function(T){var j=T.editor,F=j.completer&&j.completer.activated;if(T.command.name==="backspace")F&&!h.getCompletionPrefix(j)&&j.completer.detach();else if(T.command.name==="insertstring"&&!F){w=T;var $=T.editor.$liveAutocompletionDelay;$?_.delay($):k(T)}},w,_=o.delayedCall(function(){k(w)},0),k=function(T){var j=T.editor,F=h.getCompletionPrefix(j),$=T.args,D=h.triggerAutocomplete(j,$);if(F&&F.length>=j.$liveAutocompletionThreshold||D){var M=y.for(j);M.autoShown=!0,M.showPopup(j)}},A=g("../editor").Editor;g("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(T){T?(y.for(this),this.completers||(this.completers=Array.isArray(T)?T:u),this.commands.addCommand(y.startCommand)):this.commands.removeCommand(y.startCommand)},value:!1},enableLiveAutocompletion:{set:function(T){T?(this.completers||(this.completers=Array.isArray(T)?T:u),this.commands.on("afterExec",C)):this.commands.off("afterExec",C)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(T){T?(this.commands.addCommand(a),this.on("changeMode",d),d(null,this)):(this.commands.removeCommand(a),this.off("changeMode",d))},value:!1}}),v.MarkerGroup=r}),(function(){ace.require(["ace/ext/language_tools"],function(g){l&&(l.exports=g)})})()})(nd)),nd.exports}Sw();pd.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/");function Sc({value:l="",onChange:b,mode:g="json",theme:v="monokai",readOnly:L=!1,height:S="100%",width:y="100%",className:f,wrapperClassName:o,transparent:h=!1,diffMarkers:r,onSave:n,rightClickMenu:i,contextMenuComponent:s}){const[c,u]=te.useState(!1),[a]=te.useState(()=>`ace-editor-${Math.random()}`),d=te.useRef(null),m=te.useRef([]),[x,C]=te.useState(null),w=te.useRef(null);return te.useEffect(()=>{const _=k=>{w.current&&!w.current.contains(k.target)&&C(null)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),te.useEffect(()=>{if(!d.current||!r)return;const k=d.current.editor.getSession();m.current.forEach(A=>{k.removeMarker(A)}),m.current=[],r.added.forEach(A=>{const T=pd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-added","fullLine",!0);m.current.push(F)}),r.modified.forEach(A=>{const T=pd.require("ace/range").Range,j=new T(A-1,0,A-1,1),F=k.addMarker(j,"ace-diff-modified","fullLine",!0);m.current.push(F)})},[r]),te.useEffect(()=>{if(!d.current||!i&&!s)return;const _=d.current.editor,k=_.container,A=T=>{T.preventDefault();const{clientX:j,clientY:F}=T,$=_.renderer.screenToTextCoordinates(j,F);if(i){const D=_.getSelectedText(),M=_.getSelectionRange(),R=D?{startLine:M.start.row+1,endLine:M.end.row+1}:void 0;i($.row+1,$.column,D,R)}s&&C({x:j,y:F})};return k.addEventListener("contextmenu",A),()=>{k.removeEventListener("contextmenu",A)}},[i,s]),N.jsxs("div",{className:`h-full w-full ${o||""}`,children:[N.jsx("style",{children:`
                    .ace-diff-added {
                        position: absolute;
                        background-color: rgba(46, 160, 67, 0.25) !important;
                        border-left: 3px solid #2ea043 !important;
                    }
                    .ace-diff-modified {
                        position: absolute;
                        background-color: rgba(255, 166, 0, 0.2) !important;
                        border-left: 3px solid #ffa600 !important;
                    }
                `}),h&&N.jsx("style",{children:`
                        #${a.replace(/\./g,"\\.")} {
                            background-color: transparent !important;
                        }
                        #${a.replace(/\./g,"\\.")} .ace_gutter {
                            background-color: transparent !important;
                            color: #8F908A; /* Monokai gutter text color preserved, modify if needed */
                        }
                        #${a.replace(/\./g,"\\.")} .ace_scroller {
                            background-color: transparent !important;
                        }
                        #${a.replace(/\./g,"\\.")} .ace_marker-layer .ace_active-line {
                            background-color: transparent !important;
                        }
                        #${a.replace(/\./g,"\\.")} .ace_gutter-active-line {
                            background-color: transparent !important;
                        }
                    `}),s&&x&&N.jsx("div",{ref:w,style:{position:"fixed",top:x.y,left:x.x,zIndex:9999},children:s}),N.jsx(mw,{ref:d,mode:g,theme:v,onChange:b,value:l,name:a,commands:[{name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:()=>{n&&n()}}],editorProps:{$blockScrolling:!0},onFocus:()=>u(!0),onBlur:()=>u(!1),setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,showPrintMargin:!1,tabSize:2,useWorker:!1,fontFamily:"monospace",fontSize:14,highlightActiveLine:c},height:S,width:y,className:f,readOnly:L,style:h?{backgroundColor:"transparent"}:void 0})]})}function pv(){const l=De.use.body(),b=De.use.setBody();return N.jsxs("div",{className:"flex-1 flex flex-col min-h-0 gap-2",children:[N.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Request Body"}),N.jsx("div",{className:"flex-1 min-h-0",children:N.jsx(Sc,{transparent:!0,value:l,onChange:b})})]})}function Cw({onMinimize:l}){const b=De.use.expectedOutput(),g=te.useRef(null),[v,L]=te.useState("");te.useEffect(()=>{S(b)},[b]);const S=y=>{try{let f="";typeof y=="object"?f=JSON.stringify(y,null,2):f=String(y);let o=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");o=o.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),o=o.replace(/([{}\[\],])/g,h=>`<span class="text-gray-500">${h}</span>`),L(o)}catch{L("Invalid output")}};return N.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[N.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[N.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[N.jsx("i",{className:"fa fa-circle-info text-sm"}),"Expected Response"]}),N.jsx("button",{className:"px-2 py-1 bg-gray-700 rounded-md text-gray-300 text-sm",onClick:l,children:N.jsx("i",{className:"fa fa-minus"})})]}),N.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:N.jsx("pre",{ref:g,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",dangerouslySetInnerHTML:{__html:v}})})]})}function Ew({isOpen:l,onClose:b}){const{crudData:g,currentCategoryIndex:v,currentCrudIndex:L,useDevURL:S,params:y,method:f,header:o,body:h}=De();if(!l||v===-1||L===-1)return null;const r=g[v].items[L],i=`${S?g[v].devurl:g[v].produrl}${r.route}${y?`?${y}`:""}`;let s="";if(f==="STREAM")s=`const url = "${i}";

const response = await fetch(url, {
  method: "GET",
  headers: ${o}
});

if (!response.body) throw new Error("No response body");

const reader = response.body.getReader();
const decoder = new TextDecoder("utf-8");

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  const chunk = decoder.decode(value, { stream: true });
  console.log(chunk);
}`;else{const c=f!=="GET";let u=`{
  method: "${f}",
  headers: ${o}`;if(c){let a=h;try{a=JSON.stringify(JSON.parse(h),null,2).replace(/\n/g,`
  `),u+=`,
  body: JSON.stringify(${a})`}catch{u+=`,
  body: ${JSON.stringify(h)}`}}u+=`
}`,s=`const url = "${i}";
        
const response = await fetch(url, ${u});

const data = await response.json();
console.log(data);`}return N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-[#111111] border border-white/10 rounded-xl w-full max-w-3xl flex flex-col h-[70vh]",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[N.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-code text-blue-400"}),"Code Example"]}),N.jsx("button",{onClick:b,className:"text-gray-400 hover:text-white transition-colors",children:N.jsx("i",{className:"fas fa-times"})})]}),N.jsx("div",{className:"flex-1 overflow-hidden p-1 relative",children:N.jsx(Sc,{value:s,mode:"javascript",theme:"monokai",readOnly:!0,transparent:!0})}),N.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>{navigator.clipboard.writeText(s),alert("Code copied to clipboard!")},className:"px-4 py-2 rounded-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20",children:"Copy Code"}),N.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Close"})]})]})})}function gv(){const l=De.use.output(),b=te.useRef(null),[g,v]=te.useState(""),[L,S]=te.useState(!1);te.useEffect(()=>{y(l)},[l]);const y=h=>{try{let r=h;if(typeof h=="string")try{r=JSON.parse(h)}catch{}let n="",i=!1;typeof r=="object"&&r!==null?(n=JSON.stringify(r,null,2),i=!0):n=String(r);let s=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");i&&(s=s.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),s=s.replace(/([{}\[\],])/g,c=>`<span class="text-gray-500">${c}</span>`)),v(s)}catch{v("Invalid output")}},f=()=>{const h=JSON.stringify(l,null,2);localStorage.setItem("crud-output-last",h),alert("Output saved to LocalStorage")},o=()=>{const h=localStorage.getItem("crud-output-last");if(h)try{const r=JSON.parse(h);y(r)}catch{y(h)}else alert("No saved output found")};return N.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-2",children:[N.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[N.jsxs("h2",{className:"text-md font-bold text-gray-200 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-terminal text-sm"}),"Response"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:f,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Save to LocalStorage",children:N.jsx("i",{className:"fas fa-save"})}),N.jsx("button",{onClick:o,className:"p-1 text-md text-gray-500 hover:text-white transition-colors",title:"Load from LocalStorage",children:N.jsx("i",{className:"fas fa-upload"})}),N.jsx("button",{onClick:()=>S(!0),className:"p-1 text-md text-blue-500 hover:text-blue-400 transition-colors flex items-center gap-1",children:N.jsx("i",{className:"fas fa-code"})})]})]}),N.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-1 relative",children:N.jsx("pre",{ref:b,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[14px] font-mono",style:{lineHeight:"1.1"},dangerouslySetInnerHTML:{__html:g}})}),N.jsx(Ew,{isOpen:L,onClose:()=>S(!1)})]})}function mv(){const l=De.use.header(),b=De.use.setHeader();return N.jsxs("div",{className:"h-[30%] flex flex-col overflow-hidden gap-2",children:[N.jsx("h2",{className:"text-md font-bold text-gray-200",children:"Header"}),N.jsx("div",{className:"flex-1 min-h-0",children:N.jsx(Sc,{value:l,onChange:b,transparent:!0})})]})}function Aw(){const l=De.use.useDevURL(),b=De.use.setUseDevURL(),g=De.use.params(),v=De.use.method(),L=De.use.crudData(),S=De.use.currentCategoryIndex(),y=De.use.currentCrudIndex();return N.jsxs("header",{className:"h-16 flex items-center px-4 gap-6 mb-4",children:[N.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1 border border-white/5",children:[N.jsx("button",{onClick:()=>b(!0),className:`${l?"bg-gradient-to-r from-blue-600 to-blue-500":""} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:L[S].devurl,children:"Dev"}),N.jsx("button",{onClick:()=>b(!1),className:`${l?"":"bg-gradient-to-r from-blue-600 to-blue-500"} px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-white`,title:L[S].produrl,children:"Prod"})]}),N.jsx("div",{className:"h-12 w-px bg-white/10"}),N.jsxs("div",{className:" flex flex-col  gap-1",children:[N.jsxs("div",{className:"flex flex-start justify-start gap-2 overflow-hidden",children:[N.jsx("span",{className:"font-mono text-md font-bold text-blue-400 bg-blue-500/10 border border-blue-500/20 px-2 rounded",children:v}),N.jsx("span",{className:"text-gray-500 font-mono text-md",children:`${l?L[S].devurl:L[S].produrl}${L[S].items[y].route}${g?encodeURI(g.startsWith("?")?g:`?${g}`):""}`})]}),N.jsxs("div",{className:"flex items-baseline gap-2 overflow-hidden",children:[N.jsx("span",{className:" text-xs font-bold text-blue-400 ",children:L[S].items[y].label}),N.jsx("span",{className:"text-gray-500 text-sm",children:L[S].items[y].description})]})]})]})}function kw(){const l=De.use.params(),b=De.use.setParams(),g=De.use.sendRequest(),v=De.use.crudData(),L=De.use.currentCategoryIndex(),S=De.use.currentCrudIndex(),y=De.use.setBody(),f=De.use.executionTime(),o=De.use.isFetching(),h=De.use.requestStartTime(),[r,n]=te.useState(0),[i,s]=te.useState(!1),u=(L!==-1&&S!==-1?v[L]?.items[S]:null)?.suggested||[],a=d=>{d.content&&y(d.content),d.urlparams&&b(d.urlparams),s(!1)};return te.useEffect(()=>{let d;const m=()=>{o?(n(Date.now()-h),d=requestAnimationFrame(m)):n(f)};return o?m():n(f),()=>{d&&cancelAnimationFrame(d)}},[o,h,f]),N.jsx("div",{className:"flex flex-col gap-5 px-4",children:N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("button",{className:"group relative px-6 py-2 rounded-xl font-bold text-xs tracking-wide text-white overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-lg shadow-blue-600/20 flex-none h-10 flex items-center gap-2",onClick:g,children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-400"}),N.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),N.jsx("span",{className:"relative z-10",children:"SEND REQUEST"}),N.jsx("i",{className:"fas fa-paper-plane relative z-10"})]}),u.length>0&&N.jsxs("div",{className:"relative",children:[N.jsxs("button",{className:"bg-black/40 border border-white/5 hover:bg-white/5 active:scale-95 transition-all rounded-xl px-4 h-10 flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-white",onClick:()=>s(!i),children:[N.jsx("i",{className:"fas fa-list-ul"}),"Presets",N.jsx("i",{className:`fas fa-chevron-down transition-transform ${i?"rotate-180":""}`})]}),i&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),N.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-fade-in-up",children:N.jsx("div",{className:"py-1",children:u.map((d,m)=>N.jsxs("button",{className:"w-full text-left px-4 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/5 transition-colors flex items-center gap-2",onClick:()=>a(d),children:[N.jsx("i",{className:"fas fa-bolt text-blue-400 text-xs"}),d.name]},m))})})]})]}),N.jsx("div",{className:"flex-none bg-black/40 border border-white/5 rounded-xl px-4 h-10 flex items-center gap-3",children:N.jsxs("span",{className:"text-green-400 font-mono font-bold text-sm",children:[r," ms"]})}),N.jsx("div",{className:"group rounded-lg transition-all duration-300 w-full mr-4 lg:mr-12",children:N.jsx("div",{className:`p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-500/40 
                    group-focus-within:to-blue-400/40
                    transition-colors duration-300`,children:N.jsxs("div",{className:"bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[N.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:N.jsx("i",{className:"fas fa-code-branch text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm"})}),N.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:"Query Params (e.g. ?id=123)",value:l,onChange:d=>{b(d.target.value)}})]})})})]})})}function Tw(){const l=De.use.currentCategoryIndex(),b=De.use.currentCrudIndex(),[g,v]=te.useState(!1);return l===-1||b===-1?N.jsxs("div",{id:"crud-empty-state",className:"relative z-10 flex-1 flex items-center justify-center text-gray-600 flex-col gap-6 opacity-60 select-none animate-pulse",children:[N.jsx("div",{className:"w-32 h-32 rounded-full bg-white/5 flex items-center justify-center",children:N.jsx("i",{className:"fas fa-rocket text-6xl text-gray-700"})}),N.jsx("p",{className:"text-xl font-medium tracking-tight",children:"Select an endpoint to start testing"})]}):N.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[N.jsx(Aw,{}),N.jsx(kw,{}),g?N.jsxs("div",{className:"flex flex-row flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[N.jsxs("div",{className:"w-[32%] flex flex-col gap-4",children:[N.jsx(mv,{}),N.jsx(pv,{})]}),N.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:N.jsx(gv,{})}),N.jsx("div",{className:"w-[32px] flex flex-col",children:N.jsx("button",{onClick:()=>v(!1),className:"w-6 h-6 rounded-md bg-gray-700 text-gray-300 flex items-center justify-center hover:bg-gray-600 transition-colors",children:N.jsx("i",{className:"fa fa-chevron-right"})})})]}):N.jsxs("div",{className:"grid grid-cols-3 flex-1 pt-4 pb-6 gap-4 h-full overflow-hidden transition-all duration-300 ease-in-out",children:[N.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[N.jsx(mv,{}),N.jsx(pv,{})]}),N.jsx("div",{className:"col-span-1 overflow-hidden",children:N.jsx(gv,{})}),N.jsx("div",{className:"col-span-1 overflow-hidden transition-all duration-300 ease-in-out",children:N.jsx(Cw,{onMinimize:()=>v(!0)})})]})]})}function id({label:l,placeholder:b,value:g,onChange:v,rows:L=4}){return N.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[N.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:l}),N.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:N.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-600/20 
                    group-focus-within:to-blue-400/20
                    transition-colors duration-300`,children:N.jsx("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:N.jsx("textarea",{className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none resize-none",rows:L,placeholder:b,value:g,onChange:S=>{v(S)}})})})})]})}function Mw({isOpen:l,onClose:b,categoryIndex:g,itemIndex:v}){const L=De.use.crudData(),S=De.use.setCrudData(),y=De.use.currentCategoryIndex(),f=De.use.currentCrudIndex(),o=De.use.setCurrentCrudIndex(),[h,r]=te.useState(""),[n,i]=te.useState(""),[s,c]=te.useState(""),[u,a]=te.useState(""),[d,m]=te.useState(""),[x,C]=te.useState(""),[w,_]=te.useState([]);te.useEffect(()=>{if(l){if(v===-1)r(""),i(""),c("GET"),a(""),m("{}"),C(""),_([]);else if(L[g]&&L[g].items[v]){const $=L[g].items[v];r($.label),i($.route),c($.methods),a($.description),m($.sampleInput),C($.expectedOutcome),_($.suggested||[])}}},[l,L,g,v]);const k=()=>{const $=[...L],D={label:h,route:n,methods:s,description:u,sampleInput:d,expectedOutcome:x,suggested:w};if(v===-1)$[g].items||($[g].items=[]),$[g].items.push(D);else{const M=$[g].items[v];$[g].items[v]={...M,...D}}S($),b()},A=()=>{const $=[...L];$[g]&&$[g].items&&($[g].items.splice(v,1),g===y&&(v===f?o(-1):v<f&&o(f-1)),S($),b())},T=()=>{_([...w,{name:"New Preset",urlparams:"",content:"{}"}])},j=($,D,M)=>{const R=[...w];R[$]={...R[$],[D]:M},_(R)},F=$=>{const D=[...w];D.splice($,1),_(D)};return l?N.jsxs(On,{width:"800px",children:[N.jsx(jn,{title:v===-1?"Add New Item":"Edit CRUD Item",description:v===-1?"Add a new item":"Edit an existing item",icon:v===-1?"fas fa-plus":"fas fa-edit",close:b}),N.jsxs("div",{className:"p-4 flex-1 flex flex-col gap-3 max-h-[60vh] overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Label",icon:"fas fa-info",placeholder:"Name for the route",value:h,onChange:$=>r($.target.value)}),N.jsx(rn,{label:"Description",icon:"fas fa-info",placeholder:"(optional) Description",value:u,onChange:$=>a($.target.value)})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Route",icon:"fas fa-info",placeholder:"/mytest",value:n,onChange:$=>i($.target.value)}),N.jsx(rn,{label:"Method",icon:"fas fa-info",placeholder:"GET | POST | DELETE | PUT",value:s,onChange:$=>c($.target.value)})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(id,{label:"Sample Input",placeholder:"{}",value:d,onChange:$=>m($.target.value),rows:5}),N.jsx(id,{label:"Expected Outcome",placeholder:"{}",value:x,onChange:$=>C($.target.value),rows:5})]}),N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Suggested Presets"}),N.jsxs("div",{className:"space-y-3",children:[w.map(($,D)=>N.jsxs("div",{className:"flex flex-row gap-3",children:[N.jsxs("div",{className:"w-[50%] flex flex-col gap-2",children:[N.jsxs("div",{className:"flex flex-row gap-2",children:[N.jsx(rn,{label:"Preset Name",icon:"fas fa-info",placeholder:"Preset Name",value:$.name,onChange:M=>j(D,"name",M.target.value)}),N.jsx("button",{onClick:()=>F(D),className:"text-red-400 hover:text-red-300 px-2",children:N.jsx("i",{className:"pt-6 fas fa-trash"})})]}),N.jsx(rn,{label:"URL Params",icon:"fas fa-info",placeholder:"URL Params",value:$.urlparams,onChange:M=>j(D,"urlparams",M.target.value)})]}),N.jsx("div",{className:"w-[50%]",children:N.jsx(id,{label:"Body Content",placeholder:"{}",value:$.content,onChange:M=>j(D,"content",M.target.value),rows:5})})]},D)),N.jsx("button",{onClick:T,className:"w-full py-2 bg-white/5 border border-dashed border-white/20 rounded-lg text-xs text-gray-400 hover:text-white hover:bg-white/10 transition-colors",children:"+ Add Preset"})]})]})]}),N.jsxs("footer",{className:"mt-2 mb-4 flex justify-between px-4",children:[g!==-1?N.jsxs("button",{onClick:A,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):N.jsx("div",{}),N.jsxs("div",{className:"flex gap-6",children:[N.jsxs("button",{onClick:b,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Qi,{onClick:k,text:"Save",icon:"fas fa-save"})]})]})]}):null}function Lw({isOpen:l,onClose:b,categoryIndex:g}){const v=De.use.crudData(),L=De.use.setCrudData(),S=De.use.currentCategoryIndex(),y=De.use.setCurrentCategoryIndex(),f=De.use.setCurrentCrudIndex(),[o,h]=te.useState(""),[r,n]=te.useState("http://localhost:3000"),[i,s]=te.useState("");te.useEffect(()=>{if(l){if(g===-1)h(""),n("http://localhost:3000"),s("");else if(v[g]){const a=v[g];h(a.category),n(a.devurl),s(a.produrl)}}},[l,v,g]);const c=()=>{const a=[...v];if(g===-1){const d={category:o,devurl:r,produrl:i,items:[]};a.push(d)}else a[g]={...a[g],category:o,devurl:r,produrl:i};L(a),b()},u=()=>{const a=[...v];a.splice(g,1),g===S?(y(-1),f(-1)):g<S&&y(S-1),L(a),b()};return l?N.jsxs(On,{children:[N.jsx(jn,{title:g===-1?"Add New Category":"Edit Category",description:g===-1?"Add a new category":"Edit an existing category",icon:g===-1?"fas fa-plus":"fas fa-edit",close:b}),N.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsx(rn,{label:"Category",icon:"fas fa-info",placeholder:"Category Name",value:o,onChange:a=>{h(a.target.value)}}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx(rn,{label:"Dev URL",icon:"fas fa-info",placeholder:"Dev URL",value:r,onChange:a=>n(a.target.value)}),N.jsx(rn,{label:"Prod URL",icon:"fas fa-info",placeholder:"Prod URL",value:i,onChange:a=>s(a.target.value)})]})]}),N.jsxs("footer",{className:"mt-4 flex justify-between px-4",children:[g!==-1?N.jsxs("button",{onClick:u,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-red-400 hover:text-red-600 transition-colors overflow-hidden",children:["Delete",N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}):N.jsx("div",{}),N.jsxs("div",{className:"flex gap-6",children:[N.jsxs("button",{onClick:b,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:"Cancel"}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),N.jsx(Qi,{onClick:c,text:"Save",icon:"fas fa-save"})]})]})]})]}):null}function Rw(){const l=De.use.crudData(),b=De.use.currentCategoryIndex(),g=De.use.currentCrudIndex(),v=De.use.setCurrentCategoryIndex(),L=De.use.setCurrentCrudIndex(),S=De.use.setMethod(),y=De.use.setParams(),f=De.use.setBody(),o=De.use.setExpectedOutput(),[h,r]=te.useState({0:!1}),[n,i]=te.useState({isOpen:!1,categoryIndex:0,itemIndex:0}),[s,c]=te.useState({isOpen:!1,categoryIndex:-1}),u=d=>{r(m=>({...m,[d]:!m[d]}))},a=(d,m,x)=>{v(d),L(m),S(x.methods),y(""),f(x.sampleInput||""),o(x.expectedOutcome||"")};return N.jsxs("div",{className:"w-full flex flex-col pb-12",children:[l.map((d,m)=>N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("button",{onClick:()=>u(m),className:"px-3 flex items-center justify-between py-1 bg-gradient-to-br hover:from-blue-600 hover:to-blue-400 from-blue-600/5 to-blue-400/5 rounded-lg transition-colors group mb-1",children:[N.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider group-hover:text-white transition-colors",children:d.category}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{onClick:x=>{x.stopPropagation(),c({isOpen:!0,categoryIndex:m})},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/10 rounded transition-all text-white",children:N.jsx("i",{className:"fas fa-pen text-[10px]"})}),N.jsx("i",{className:`fas fa-chevron-down text-[10px] text-gray-600 transition-transform duration-200 ${h[m]?"rotate-180":""}`})]})]}),h[m]&&N.jsxs("div",{className:"flex flex-col pl-2",children:[d.items.map((x,C)=>{const w=m===b&&C===g;return N.jsxs("div",{className:`group relative flex items-center justify-between px-2 rounded-lg cursor-pointer transition-all border border-transparent
                                            ${w?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}`,onClick:()=>a(m,C,x),children:[N.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[N.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded shrink-0 ${x.methods==="GET"?"bg-green-500/20 text-green-400":x.methods==="POST"?"bg-blue-500/20 text-blue-400":x.methods==="PUT"?"bg-orange-500/20 text-orange-400":x.methods==="DELETE"?"bg-red-500/20 text-red-400":"bg-purple-500/20 text-purple-400"}`,children:x.methods}),N.jsx("span",{className:`text-sm font-medium truncate transition-colors ${w?"text-white":"text-gray-300 group-hover:text-white"}`,children:x.label})]}),N.jsx("button",{onClick:_=>{_.stopPropagation(),i({isOpen:!0,categoryIndex:m,itemIndex:C})},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-md hover:bg-white/10 text-white hover:text-white transition-all",title:"Edit Item",children:N.jsx("i",{className:"fas fa-pen text-xs"})})]},C)}),N.jsxs("button",{onClick:()=>i({isOpen:!0,categoryIndex:m,itemIndex:-1}),className:"w-full py-1 mt-1 text-xs text-gray-500 hover:text-white transition-all flex gap-2",children:[N.jsx("i",{className:"fas fa-plus"}),"Add Route"]})]})]},m)),N.jsxs("button",{onClick:()=>c({isOpen:!0,categoryIndex:-1}),className:"w-full py-2 hover:border-white/20 text-xs font-bold text-gray-500 hover:text-white transition-all flex gap-2",children:[N.jsx("i",{className:"fas fa-folder-plus group-hover:scale-110 transition-transform"}),"Add Category"]}),N.jsx(Mw,{isOpen:n.isOpen,onClose:()=>i(d=>({...d,isOpen:!1})),categoryIndex:n.categoryIndex,itemIndex:n.itemIndex}),N.jsx(Lw,{isOpen:s.isOpen,onClose:()=>c(d=>({...d,isOpen:!1})),categoryIndex:s.categoryIndex})]})}function Nw(){return N.jsxs("div",{className:"w-[340px] h-full flex-none  flex flex-col z-20",children:[N.jsxs("div",{className:"h-14 px-4 flex-none flex items-center justify-between ",children:[N.jsxs("span",{className:"text-xs font-bold uppercase text-blue-400 tracking-widest flex items-center gap-2",children:[N.jsx("i",{className:"fa-solid fa-circle-nodes"}),"Simple CRUD Test"]}),N.jsx("button",{className:"text-gray-500 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-lg",children:N.jsx("i",{className:"fas fa-sync-alt text-xs"})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto px-3 custom-scrollbar",children:N.jsx(Rw,{})})]})}function $w(){const l=Xe.use.initMonorepoTime(),b=De.use.loadCrudData();return N.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center text-gray-400 gap-8 p-4 animate-fade-in top-20",children:[N.jsx("div",{className:"flex flex-col items-center gap-4 text-center",children:N.jsxs("div",{className:"space-y-2",children:[N.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:"Initialize CRUD Tester"}),N.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["A ",N.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-blue-300 font-mono text-xs",children:"monorepotime.json"})," file is required to start testing and documenting your API routes."]})]})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-4xl",children:[N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400",children:N.jsx("i",{className:"fas fa-user-slash"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"No Sign-up"}),N.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"No accounts or logins needed. Your data stays on your machine."})]})]}),N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center text-purple-400",children:N.jsx("i",{className:"fas fa-save"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"Local Storage"}),N.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Everything is saved locally in ",N.jsx("span",{className:"text-purple-300",children:"monorepotime.json"})," within your project root."]})]})]}),N.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex flex-col items-center text-center gap-3 transition-colors hover:bg-white/10 hover:border-white/10",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center text-green-400",children:N.jsx("i",{className:"fas fa-book-open"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-white font-medium mb-1",children:"Live Documentation"}),N.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Perfect for documenting and sharing API route configurations with your team."})]})]})]}),N.jsx("div",{className:"w-full max-w-sm mt-4",children:N.jsx(ss,{name:"Create Configuration File",description:"Initialize /root/monorepotime.json",icon:"fa-plus",color:"blueIndigo",onClick:async()=>{await l(),await b()},className:""})})]})}function Dw(l){const b=De.use.noData(),g=De.use.loadCrudData();return te.useEffect(()=>{l.isVisible&&g()},[l.isVisible]),b&&l.isVisible?N.jsx($w,{}):N.jsxs("div",{className:`flex h-full w-full ${l.isVisible?"block":"hidden"}`,children:[N.jsx(Nw,{}),N.jsx("div",{id:"crud-main-content",className:"px-2 flex-1 flex flex-col relative overflow-hidden",children:N.jsx(Tw,{})})]})}function Ow({isOpen:l,setIsOpen:b}){return l?N.jsxs("div",{onClick:()=>b(!1),className:"fixed inset-0 z-[999999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:[N.jsxs("div",{onClick:g=>g.stopPropagation(),className:"w-full max-w-4xl bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn relative flex flex-col md:flex-row",children:[N.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center text-center justify-center border-b md:border-b-0 md:border-r border-white/10",children:[N.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-400 rounded-2xl mb-6 shadow-lg shadow-blue-500/20",children:N.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-14 h-14"})}),N.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Monorepo",N.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-200",children:" Time"})]}),N.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed max-w-sm",children:"The ultimate tool for managing your monorepos with speed and style. Streamline your workflow, visualize dependencies, and execute commands effortlessly."}),N.jsxs("a",{href:"https://buymeacoffee.com/angheloamir",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-[#FFDD00] text-black font-bold rounded-full overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-[0_0_20px_rgba(255,221,0,0.4)] hover:bg-[#ffe233]",children:[N.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"}),N.jsx("i",{className:"fas fa-coffee text-xl transition-transform duration-300 group-hover:rotate-12"}),N.jsx("span",{className:"relative",children:"Buy me a coffee"})]})]}),N.jsxs("div",{className:"w-full md:w-80 bg-white/5 p-8 flex flex-col justify-center border-t md:border-t-0 md:border-l border-white/10",children:[N.jsxs("p",{className:"text-sm text-gray-500 mb-6 leading-relaxed",children:[N.jsx("span",{className:"text-white font-medium",children:"Disclaimer:"})," Not affiliated with the projects and templates used in this app. We respect their respective licenses and terms of use. We simply love these tools and provide templates to help you use them."]}),N.jsx("p",{children:"Licensed under MIT"})]})]}),N.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                @keyframes shimmer { from { transform: translateX(-100%); } to { transform: translateX(100%); } }
                .animate-fadeIn { animation: fadeIn 0.2s ease-out forwards; }
                .animate-scaleIn { animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
            `})]}):null}function jw(l){const b=te.useRef(null),g=Xe.use.rootDir(),v=Ft.use.showModal(),[L,S]=te.useState(!1);async function y(){v("prompt","Port to expose","Enter the port number to expose with Cloudflare's tunnel","success",h=>{h&&b.current&&(b.current.clear(),b.current.disconnect(),b.current.onClose(()=>{S(!1)}),b.current.onCrash(()=>{S(!1)}),S(!0),b.current.connect(g,`cloudflared tunnel --url http://localhost:${h}`),b.current.fit())})}function f(){b.current&&(b.current.clear(),b.current.disconnect(),b.current.connect(g,"cloudflared -v"),b.current.fit())}function o(){b.current&&(b.current.disconnect(),S(!1))}return N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${l.isVisible?"flex":"hidden"}`,children:[N.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px]  flex-none h-full flex flex-col overflow-hidden",children:N.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:[N.jsxs(dc,{title:"Tunnel (via Cloudflare)",description:"Commands",contentClassName:"flex flex-col py-2 px-6",children:[N.jsx(hc,{onClick:y,name:"Generate Tunnel",description:"cloudflared tunnel",color:"blueIndigo",icon:"fas fa-cloud",disabled:L}),N.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["* This app support only one tunnel at a time",N.jsx("br",{}),"** Closing the browser, refeshing the page, or starting a new tunnel will close the previous tunnel.",N.jsx("br",{}),"*** ",N.jsx("b",{className:"text-white",children:"Not affiliated with Cloudflare"}),". Use only for ",N.jsx("b",{className:"text-white",children:"testing purposes"}),". I am not responsible for any issues caused by using this feature. It is a bad idea to use this feature in production as Cloudflare can close the tunnel at any time without any warning.",N.jsx("br",{})]})]}),N.jsx(dc,{title:"Setup Cloudflare Tunnel",description:"",contentClassName:"flex py-2 px-6",children:N.jsxs("p",{className:"text-gray-400 text-sm",children:["Before a tunnel service is created, download and install Cloudflare's CLI tool on your machine.",N.jsx("br",{}),N.jsx("br",{}),N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Quick Tunnel"}),N.jsx("br",{}),N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Downloads"}),N.jsx("br",{}),N.jsx("br",{}),"Click the button below to check the version of cloudflare installed on your machine. If the version is not found, it means cloudflare is not installed on your machine.",N.jsx("br",{}),N.jsx("br",{}),N.jsx(hc,{onClick:f,name:"Check Cloudflare Version",description:"cloudflared -v",color:"skyBlue",icon:"fas fa-cloud"})]})})]})}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsxs(Rd,{title:"Terminal Output",description:"Execute commands",icon:"fas fa-terminal",handleStop:o,isRunning:L,children:["Generate tunnel service with",N.jsx("a",{href:"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cloudflare Free Tier"}),"tunnel service"]}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(ps,{ref:b,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{S(!1)},onCrash:()=>{S(!1)}})})]})]})}const Iw=[{title:"Port Management",commands:[{label:"Show Open Ports",displayCmd:"ss -tlnp",cmd:"ss -tlnp",cmdWindow:"netstat -an",cmdMac:"lsof -PiTCP -sTCP:LISTEN",icon:"fa-door-open",color:"emeraldTeal",description:"List all listening TCP ports and processes"},{label:"Close Port",displayCmd:"kill process",cmd:"npx -y kill-port {{input}}",cmdWindow:"npx -y kill-port {{input}}",cmdMac:"npx -y kill-port {{input}}",icon:"fa-skull",color:"red",requiresInput:!0,inputLabel:"Port to Close",inputPlaceholder:"e.g., 8080",confirmMessage:"Are you sure you want to kill the process on this port?"},{label:"Test TCP Port",displayCmd:"nc -zv",cmd:"nc -zv {{input}}",cmdWindow:`powershell -Command "Test-NetConnection -ComputerName ({{input}} -replace ' .*$', '') -Port ({{input}} -replace '^.* ', '')"`,cmdMac:"nc -zv {{input}}",icon:"fa-network-wired",color:"blueIndigo",requiresInput:!0,confirmMessage:"Enter hostname and port (e.g., google.com 80)",inputLabel:"Host Port",inputPlaceholder:"google.com 80"},{label:"Curl w/ Timing",displayCmd:"curl -v",cmd:"curl -v --connect-timeout 5 {{input}}",cmdWindow:"curl -v --connect-timeout 5 {{input}}",cmdMac:"curl -v --connect-timeout 5 {{input}}",icon:"fa-stopwatch",color:"blueIndigo",requiresInput:!0,inputLabel:"URL",inputPlaceholder:"google.com"},{label:"Who Owns Port",displayCmd:"fuser/lsof",cmd:"fuser -n tcp {{input}} -v",cmdWindow:"netstat -ano | findstr :{{input}}",cmdMac:"lsof -i :{{input}}",icon:"fa-user-secret",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Port Number",inputPlaceholder:"8080"}]},{title:"Docker Management",commands:[{label:"Containers",displayCmd:"docker ps",cmd:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdWindow:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',cmdMac:'docker ps --format "table {{.Names}}	{{.Status}}	{{.Ports}}"',icon:"fa-box",color:"cyanBlue"},{label:"Gateway IPs",displayCmd:"docker network gateways",cmd:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,cmdWindow:'docker network inspect $(docker network ls -q) --format "{{printf \\"%-25s\\" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}"',cmdMac:`docker network inspect $(docker network ls -q) --format '{{printf "%-25s" .Name}} {{range .IPAM.Config}}{{.Gateway}}{{end}}'`,icon:"fa-network-wired",color:"emeraldTeal"},{label:"Images",displayCmd:"docker images",cmd:"docker images",cmdWindow:"docker images",cmdMac:"docker images",icon:"fa-compact-disc",color:"indigoFuchsia"},{label:"Prune",displayCmd:"docker system prune",cmd:"docker system prune -f",cmdWindow:"docker system prune -f",cmdMac:"docker system prune -f",icon:"fa-trash-alt",color:"red",description:"Remove unused data (force)"},{label:"Delete Image",displayCmd:"docker rmi",cmd:"docker rmi {{input}}",cmdWindow:"docker rmi {{input}}",cmdMac:"docker rmi {{input}}",icon:"fa-trash-alt",color:"red",requiresInput:!0,inputLabel:"Image ID or Name",inputPlaceholder:"e.g. my-image:latest",confirmMessage:"Are you sure you want to delete this image?"},{label:"Prune Networks",displayCmd:"docker network prune",cmd:"docker network prune -f",cmdWindow:"docker network prune -f",cmdMac:"docker network prune -f",icon:"fa-trash-alt",color:"yellowOrange",confirmMessage:'Remove all unused local networks? This fixes many "network not found" errors.'}]},{title:"Docker Debugging",commands:[{label:"Ping Container",displayCmd:"docker exec ping",cmd:"docker exec {{input}} ping -c 3 8.8.8.8",cmdWindow:"docker exec {{input}} ping -c 3 8.8.8.8",cmdMac:"docker exec {{input}} ping -c 3 8.8.8.8",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Networks",displayCmd:"docker network ls",cmd:"docker network ls",cmdWindow:"docker network ls",cmdMac:"docker network ls",icon:"fa-sitemap",color:"emeraldTeal"},{label:"Log Container",displayCmd:"docker logs",cmd:"docker logs {{input}} --tail 50",cmdWindow:"docker logs {{input}} --tail 50",cmdMac:"docker logs {{input}} --tail 50",icon:"fa-globe",color:"cyanBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Docker Events",displayCmd:"docker events",cmd:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -d @$t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,cmdWindow:'docker events --since 10m --filter "event!=exec_create" --filter "event!=exec_start" --filter "event!=exec_die" --filter "event!=top" --format "table {{.Time}}	{{.Type}}	{{.Action}}	{{.Actor.Attributes.name}}	{{.Actor.Attributes.exitCode}}"',cmdMac:`docker events --since 10m --filter 'event!=exec_create' --filter 'event!=exec_start' --filter 'event!=exec_die' --filter 'event!=top' --format '{{.Time}}|{{.Type}}|{{.Action}}|{{if .Actor.Attributes.name}}{{.Actor.Attributes.name}}{{else}}{{.Actor.ID}}{{end}}|{{.Actor.Attributes.exitCode}}' | while IFS='|' read -r t type action name exitCode; do printf "%-10s %-10s %-25s %-15s %s\\n" "$(date -r $t '+%H:%M:%S')" "$type" "$name" "$action" "\${exitCode:+Exit:$exitCode}"; done`,icon:"fa-history",color:"gray"},{label:"Inspect",displayCmd:"docker network inspect",cmd:"docker network inspect {{input}}",cmdWindow:"docker network inspect {{input}}",cmdMac:"docker network inspect {{input}}",icon:"fa-globe",color:"indigoFuchsia",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Health Check",displayCmd:"docker inspect health",cmd:"docker inspect --format='{{.State.Health.Status}}' {{input}}",cmdWindow:'docker inspect --format="{{.State.Health.Status}}" {{input}}',cmdMac:"docker inspect --format='{{.State.Health.Status}}' {{input}}",icon:"fa-heartbeat",color:"pinkRose",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Container IP",displayCmd:"docker inspect IP",cmd:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",cmdWindow:'docker inspect -f "{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}" {{input}}',cmdMac:"docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' {{input}}",icon:"fa-fingerprint",color:"skyBlue",requiresInput:!0,inputLabel:"Container Name/ID",inputPlaceholder:"container_name"},{label:"Service Connect Test",displayCmd:"docker exec curl",cmd:"docker exec {{input}} curl -I",cmdWindow:"docker exec {{input}} curl -I",cmdMac:"docker exec {{input}} curl -I",icon:"fa-plug",color:"pinkRose",requiresInput:!0,confirmMessage:"Enter container name followed by target URL (e.g. my-app http://db:5432)",inputLabel:"Container + URL",inputPlaceholder:"my-container http://target:80"}]},{title:"Network Troubleshooting",commands:[{label:"Reset DNA",displayCmd:"restart NetworkManager",cmd:"sudo systemctl restart NetworkManager",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo killall -HUP mDNSResponder",icon:"fa-sync",color:"red",description:"Restart Network Manager"},{label:"Flush DNS",displayCmd:"resolvectl/ipconfig",cmd:"sudo resolvectl flush-caches || sudo systemd-resolve --flush-caches",cmdWindow:"ipconfig /flushdns",cmdMac:"sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder",icon:"fa-eraser",color:"red"},{label:"Release/Renew IP",displayCmd:"dhclient -r",cmd:"sudo dhclient -r && sudo dhclient",cmdWindow:"ipconfig /release && ipconfig /renew",cmdMac:"sudo ipconfig set en0 DHCP",icon:"fa-sync-alt",color:"red",confirmMessage:"This will briefly disconnect your internet connection. Continue?"}]}];function Bw(l){const b=te.useRef(null),g=Xe.use.rootDir(),[v,L]=te.useState(!1),S=Ft.use.showModal();te.useEffect(()=>()=>{b.current&&b.current.disconnect()},[]);function y(r){b.current&&(b.current.clear(),b.current.disconnect(),b.current.onClose(()=>L(!1)),b.current.onCrash(()=>L(!1)),L(!0),b.current.connect(g,r),b.current.fit())}function f(r){const n=window.navigator.userAgent.toLowerCase();return n.includes("win")&&r.cmdWindow?r.cmdWindow:n.includes("mac")&&r.cmdMac?r.cmdMac:r.cmd}function o(r){r.requiresInput?S("prompt",r.label,r.confirmMessage??"","warning",n=>{if(n){const i=n.trim();if(!i&&!r.cmd.includes("docker stats")&&!r.inputPlaceholder?.includes("Optional"))return;let s=f(r).replace("{{input}}",i);y(s)}},null,r.inputPlaceholder):y(f(r))}function h(){b.current?.disconnect(),L(!1)}return N.jsx(N.Fragment,{children:N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${l.isVisible?"flex":"hidden"}`,children:[N.jsx("div",{className:"w-[360px] lg:w-[440px] xl:w-[480px] flex-none h-full flex flex-col overflow-hidden",children:N.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:Iw.map(r=>N.jsx(dc,{title:r.title,description:"",children:r.commands.length>0&&r.commands.map(n=>N.jsx(hc,{onClick:()=>o(n),name:n.label,description:n.displayCmd,color:n.color,icon:n.icon,disabled:v},n.label))},r.title))})}),N.jsxs("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded-xl overflow-hidden",children:[N.jsx(Rd,{title:"Terminal Output",description:"Real-time command execution results",icon:"fas fa-terminal",handleStop:h,isRunning:v,children:N.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:N.jsx("span",{children:"Results will appear here automatically"})})}),N.jsx("div",{className:"w-full flex-1 min-h-0 p-2 bg-black/20",children:N.jsx(ps,{ref:b,className:"h-full w-full",socketUrl:Ne.serverPath,onExit:()=>{L(!1)},onCrash:()=>{L(!1)}})})]})]})})}const Hw=$n()((l,b)=>({loading:!1,history:[],branch:"",branches:[],commitMessage:"",selectedCommit:null,commitLoading:!1,setLoading:g=>l({loading:g}),setCommitMessage:g=>l({commitMessage:g}),setSelectedCommit:g=>l({selectedCommit:g}),fetchData:async()=>{l({loading:!0});try{const[g,v,L]=await Promise.all([fetch(`${Ne.serverPath}${Oe.gitControl}/history`),fetch(`${Ne.serverPath}${Oe.gitControl}/branch`),fetch(`${Ne.serverPath}${Oe.gitControl}/branches`)]),S=await g.json(),y=await v.json(),f=await L.json();l({history:S.history||[],branch:y.branch||"",branches:f.branches||[]})}catch(g){console.error("Failed to fetch git data",g)}finally{l({loading:!1})}},checkoutBranch:async g=>{l({loading:!0});try{const L=await(await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:g})})).json();return L.error?(l({loading:!1}),L.error):(await b().fetchData(),l({loading:!1}),null)}catch(v){return l({loading:!1}),v}},createBranch:async g=>{l({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:g})}),await b().fetchData()}catch(v){console.error(v),alert("Failed to create branch")}finally{l({loading:!1})}},deleteBranch:async g=>{l({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:g})}),await b().fetchData()}catch(v){console.error(v),alert("Failed to delete branch")}finally{l({loading:!1})}},mergeBranch:async g=>{l({loading:!0});try{return await fetch(`${Ne.serverPath}${Oe.gitControl}/branch/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch:g})}),await b().fetchData(),l({loading:!1}),!0}catch(v){return console.error(v),alert("Failed to merge branch. "+v),l({loading:!1}),!1}},handleCommit:async g=>{g&&g.preventDefault();const{commitMessage:v}=b();if(v.trim()){l({commitLoading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v})}),l({commitMessage:""}),l({loading:!0}),await b().fetchData()}catch(L){console.error("Failed to commit and push",L),alert("Failed to commit and push")}finally{l({commitLoading:!1}),l({loading:!1})}}},handleRevert:async()=>{const{selectedCommit:g}=b();if(g){l({loading:!0});try{await fetch(`${Ne.serverPath}${Oe.gitControl}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hash:g.hash})}),l({selectedCommit:null}),await b().fetchData()}catch(v){console.error("Failed to revert",v),alert("Failed to revert")}finally{l({loading:!1})}}}})),$t=Dn(Hw);function zw(){const l=$t.use.loading(),b=$t.use.history(),g=$t.use.commitLoading(),v=$t.use.setSelectedCommit();return N.jsx("div",{className:"overflow-y-auto p-2 space-y-2 custom-scrollbar",children:l?N.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[N.jsx("i",{className:"fas fa-circle-notch fa-spin"}),N.jsx("span",{className:"text-xs",children:"Loading history..."})]}):b.map(L=>N.jsxs("button",{disabled:g,onClick:()=>v(L),className:`
                            w-full text-left group flex flex-col gap-1 p-2
                            rounded 
                            bg-gradient-to-r hover:from-blue-500/50 hover:to-blue-300/50
                            transition-all duration-200
                        `,children:[N.jsxs("div",{className:"flex items-start justify-between gap-4",children:[N.jsx("span",{className:"text-sm text-white font-medium ",children:L.message}),N.jsx("span",{className:"text-[12px] font-mono text-white px-1.5 py-0.5 border border-white/7",children:L.hash})]}),N.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[N.jsx("i",{className:"far fa-clock"}),N.jsx("span",{children:L.date})]})]},L.hash))})}function Fw(){const l=$t.use.commitMessage(),b=$t.use.loading(),g=$t.use.commitLoading(),v=$t.use.handleCommit(),L=$t.use.setCommitMessage(),S=Xe.use.setShowGit(),y=te.useRef(null);return te.useEffect(()=>{y.current?.focus()},[]),N.jsx("div",{className:"",children:N.jsxs("form",{onSubmit:async f=>{await v(f),S(!1)},className:"flex gap-2",children:[N.jsx("input",{ref:y,type:"text",value:l,onChange:f=>L(f.target.value),disabled:g,placeholder:"Commit message & push",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),g?N.jsx("button",{type:"button",disabled:!0,className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:N.jsx("i",{className:"fas fa-spinner animate-spin text-xl text-blue-500"})}):N.jsx("button",{type:"submit",disabled:b||g||!l.trim(),className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:N.jsx("i",{className:"fas fa-paper-plane text-xl text-blue-500 "})})]})})}function Pw(){const l=$t.use.commitLoading(),b=$t.use.branches(),g=$t.use.checkoutBranch(),v=$t.use.createBranch(),L=$t.use.deleteBranch(),S=Ft.use.showModal(),y=$t.use.mergeBranch(),[f,o]=te.useState(""),[h,r]=te.useState(!1),n=async()=>{f.trim()&&(await v(f),o(""),r(!1))},i=async u=>{u!="master"?S("prompt","Delete Branch",`Delete this branch ${u} pernamently? Enter the branch name to confirm.`,"warning",a=>{a==u&&L(u)}):S("alert","Error","Master branch cannot be deleted!","error")},s=async u=>{S("confirm",`Move to ${u}`,`Move to branch ${u}?`,"warning",async a=>{if(a){const d=await g(u);d&&S("alert","Error",d,"error")}})},c=async u=>{S("confirm",`Merge to ${u}`,`Merge to branch ${u}? This current branch will have the code from ${u}.`,"warning",async a=>{a&&await y(u)&&S("alert","Error","Failed to merge branch, it could be because of conflicts. Please use a merge tool to resolve conflicts.","error")})};return N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Branches"}),N.jsx("button",{onClick:()=>r(!h),className:"w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add Branch",children:N.jsx("i",{className:"fas fa-plus text-xs"})})]}),h&&N.jsxs("div",{className:"p-2 border-b border-white/10 animate-fadeIn",children:[N.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Create New Branch and then Checkout"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:f,onChange:u=>o(u.target.value),placeholder:"new branch name",className:"w-full bg-black/40 border border-white/10 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-blue-500",onKeyDown:u=>u.key==="Enter"&&n(),autoFocus:!0}),N.jsx("button",{disabled:l,onClick:n,className:"bg-blue-600 text-white px-2 rounded hover:bg-blue-500",children:N.jsx("i",{className:"fas fa-check text-xs"})})]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:[b.map((u,a)=>N.jsxs("div",{className:`
                            group flex items-center justify-between p-2 rounded cursor-pointer transition-colors
                            ${u.isCurrent?"bg-gradient-to-br from-blue-600/50 to-blue-400/50":"bg-gradient-to-br hover:from-blue-600/30 hover:to-blue-400/30"}
                        `,children:[N.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",onClick:()=>!u.isCurrent&&s(u.name),title:u.isCurrent?"Current Branch":"Switch to "+u.name,children:[N.jsx("i",{className:`fas fa-code-branch text-xs ${u.isCurrent?"text-blue-400":"text-gray-500"}`}),N.jsx("span",{className:`text-sm truncate ${u.isCurrent?"text-blue-100 font-medium":"text-gray-400 group-hover:text-gray-200"}`,children:u.name})]}),!u.isCurrent&&N.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[N.jsx("button",{disabled:l,onClick:d=>{d.stopPropagation(),c(u.name)},className:"w-5 h-5 flex items-center justify-center rounded hover:bg-blue-500/20 text-gray-500 hover:text-blue-400",title:"Merge branch",children:N.jsx("i",{className:"fas fa-redo text-[10px]"})}),N.jsx("button",{disabled:l,onClick:d=>{d.stopPropagation(),i(u.name)},className:"w-5 h-5 flex items-center justify-center rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400",title:"Delete branch",children:N.jsx("i",{className:"fas fa-trash text-[10px]"})})]})]},a)),b.length===0&&N.jsx("div",{className:"text-gray-600 text-xs text-center py-4",children:"No branches found"})]})]})}function Ww(){const l=$t.use.selectedCommit(),b=$t.use.setSelectedCommit(),g=$t.use.handleRevert();return N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:N.jsx("div",{className:"w-full max-w-md bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn",children:N.jsxs("div",{className:"p-6",children:[N.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:N.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-xl"})}),N.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Revert Changes?"}),N.jsxs("p",{className:"text-gray-400 text-center text-sm leading-relaxed mb-6",children:["Are you sure you want to revert to commit ",N.jsx("span",{className:"font-mono text-white bg-white/10 px-1 py-0.5 rounded",children:l?.hash}),"?",N.jsx("br",{}),N.jsx("span",{className:"text-red-400 text-xs mt-2 block",children:"Warning: This will discard all current uncommitted changes."})]}),N.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6 border border-white/5",children:N.jsxs("p",{className:"text-gray-300 text-xs font-mono line-clamp-2",children:['"',l?.message,'"']})}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 rounded-lg bg-white/5 text-gray-300 text-sm font-medium hover:bg-white/10 hover:text-white transition-colors",children:"Cancel"}),N.jsx("button",{onClick:g,className:"px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-500 shadow-lg shadow-red-500/20 transition-all",children:"Confirm Revert"})]})]})})})}const Uw=$n()(l=>({showStash:!1,stashList:[],stashCount:0,setShowStash:b=>l({showStash:b}),loadGitStashList:async()=>{const g=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/list`)).json();g.length>0?l({stashCount:g.length}):l({stashCount:0}),l({stashList:g})},addGitStash:async b=>{const v=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:b})})).json();l({stashList:v})},revertGitStash:async b=>{const v=await(await fetch(`${Ne.serverPath}${Oe.gitStash}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stashName:b})})).json();l({stashList:v})},clearGitStash:async()=>{await fetch(`${Ne.serverPath}${Oe.gitStash}/clear`),l({stashList:[]})}})),as=Dn(Uw);function Vw(){const l=Ft.use.showModal(),b=as.use.loadGitStashList(),g=as.use.addGitStash(),v=as.use.revertGitStash(),L=as.use.clearGitStash(),S=as.use.stashList(),[y,f]=te.useState(""),[o,h]=te.useState(!1);async function r(s){l("confirm",`Revert to "${s}"?`,"This will stash your current changes and apply the selected stash. Your current work will be saved as a backup.","warning",async c=>{c&&(h(!0),await v(s),await b(),h(!1))})}async function n(){l("confirm","Clear all stashes?","This will permanently remove all stash entries. This action cannot be undone.","warning",async s=>{s&&(h(!0),await L(),await b(),h(!1))})}async function i(){y.trim()&&(h(!0),await g(y.trim()),await b(),f(""),h(!1))}return N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Git Stash"}),S.length>0&&N.jsxs("button",{onClick:n,disabled:o,className:"text-xs text-red-400/60 hover:text-red-400 transition-colors disabled:opacity-30",title:"Clear all stashes",children:[N.jsx("i",{className:"fa-solid fa-trash-can mr-1"}),"Clear"]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto",children:S.length===0?N.jsxs("div",{className:"px-3 py-5 text-center",children:[N.jsx("i",{className:"fa-regular fa-folder-open text-white text-lg mb-2 block"}),N.jsx("p",{className:"text-xs text-white",children:"No stash entries"})]}):N.jsx("div",{className:"py-1",children:S.map((s,c)=>N.jsxs("button",{onClick:()=>r(s),disabled:o,className:"w-full flex items-center gap-2 px-3 py-1.5 text-left hover:bg-white/5 transition-colors group disabled:opacity-30",children:[N.jsx("i",{className:"fa-solid fa-code-branch text-xs text-blue-400/40 group-hover:text-blue-400 transition-colors"}),N.jsx("span",{className:"flex-1 text-xs text-white transition-colors truncate",children:s}),N.jsx("i",{className:"fa-solid fa-rotate-left text-xs text-white/0 group-hover:text-white transition-colors"})]},c))})}),N.jsxs("div",{className:"mt-auto flex gap-1 p-2",children:[N.jsx("input",{type:"text",value:y,onChange:s=>f(s.target.value),disabled:o,placeholder:"Checkpoint name...",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),N.jsx("button",{onClick:()=>i(),className:"w-8 h-8 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white",title:"Add stash",children:N.jsx("i",{className:"fas fa-plus text-xs"})})]})]})}function Gw(){const l=$t.use.fetchData(),b=$t.use.selectedCommit(),g=Xe.use.showGit(),v=Xe.use.setShowGit(),L=$t.use.commitLoading();return te.useEffect(()=>{g&&l()},[g]),g?N.jsxs(On,{width:"1000px",children:[N.jsx(jn,{title:"Git Panel",description:"Manage your repository, branches, and commits.",close:()=>v(!1)}),N.jsxs("div",{className:"flex h-[500px]","aria-disabled":L,children:[N.jsx("div",{className:"w-[250px] flex-shrink-0",children:N.jsx(Pw,{})}),N.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[N.jsx("div",{className:"h-12 p-3 border-b border-white/10 flex items-center justify-between",children:N.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Your Commit History"})}),N.jsx("div",{className:"flex-1 overflow-y-auto p-0 relative",children:N.jsx(zw,{})}),N.jsx("div",{className:"p-2",children:N.jsx(Fw,{})})]}),N.jsx("div",{className:"w-[300px] flex-shrink-0",children:N.jsx(Vw,{})})]}),b&&N.jsx(Ww,{})]}):null}const Kw=[{type:"agent",label:"Researcher",icon:"",description:"Gathers information and context."},{type:"agent",label:"Coder",icon:"",description:"Writes and modifies code."},{type:"agent",label:"Reviewer",icon:"",description:"Reviews code and suggestions."},{type:"agent",label:"Writer",icon:"",description:"Writes documentation and content."},{type:"agent",label:"Planner",icon:"",description:"Creates plans and steps."}];function Yw(){const l=(b,g)=>{b.dataTransfer.setData("application/reactflow",JSON.stringify(g)),b.dataTransfer.effectAllowed="move"};return N.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 border-r border-zinc-800 p-4",children:[N.jsx("h2",{className:"text-zinc-100 font-bold mb-4 text-sm uppercase tracking-wider",children:"Available Agents"}),N.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto",children:Kw.map(b=>N.jsx("div",{className:"p-3 bg-zinc-800 border border-zinc-700 rounded cursor-grab hover:bg-zinc-700 hover:border-zinc-600 transition-all shadow-sm group",onDragStart:g=>l(g,b),draggable:!0,children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform block",children:b.icon}),N.jsxs("div",{children:[N.jsx("div",{className:"text-zinc-200 font-medium text-sm",children:b.label}),N.jsx("div",{className:"text-zinc-500 text-xs",children:b.description})]})]})},b.label))}),N.jsx("div",{className:"mt-auto pt-4 border-t border-zinc-800 text-xs text-zinc-500",children:"Drag and drop agents onto the workflow canvas."})]})}function Qn(l){if(typeof l=="string"||typeof l=="number")return""+l;let b="";if(Array.isArray(l))for(let g=0,v;g<l.length;g++)(v=Qn(l[g]))!==""&&(b+=(b&&" ")+v);else for(let g in l)l[g]&&(b+=(b&&" ")+g);return b}const{useDebugValue:Xw}=_e,{useSyncExternalStoreWithSelector:qw}=c0,Zw=l=>l;function v0(l,b=Zw,g){const v=qw(l.subscribe,l.getState,l.getServerState||l.getInitialState,b,g);return Xw(v),v}const vv=(l,b)=>{const g=l0(l),v=(L,S=b)=>v0(g,L,S);return Object.assign(v,g),v},Qw=(l,b)=>l?vv(l,b):vv;function xn(l,b){if(Object.is(l,b))return!0;if(typeof l!="object"||l===null||typeof b!="object"||b===null)return!1;if(l instanceof Map&&b instanceof Map){if(l.size!==b.size)return!1;for(const[v,L]of l)if(!Object.is(L,b.get(v)))return!1;return!0}if(l instanceof Set&&b instanceof Set){if(l.size!==b.size)return!1;for(const v of l)if(!b.has(v))return!1;return!0}const g=Object.keys(l);if(g.length!==Object.keys(b).length)return!1;for(const v of g)if(!Object.prototype.hasOwnProperty.call(b,v)||!Object.is(l[v],b[v]))return!1;return!0}var Jw={value:()=>{}};function Cc(){for(var l=0,b=arguments.length,g={},v;l<b;++l){if(!(v=arguments[l]+"")||v in g||/[\s.]/.test(v))throw new Error("illegal type: "+v);g[v]=[]}return new oc(g)}function oc(l){this._=l}function eS(l,b){return l.trim().split(/^|\s+/).map(function(g){var v="",L=g.indexOf(".");if(L>=0&&(v=g.slice(L+1),g=g.slice(0,L)),g&&!b.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:v}})}oc.prototype=Cc.prototype={constructor:oc,on:function(l,b){var g=this._,v=eS(l+"",g),L,S=-1,y=v.length;if(arguments.length<2){for(;++S<y;)if((L=(l=v[S]).type)&&(L=tS(g[L],l.name)))return L;return}if(b!=null&&typeof b!="function")throw new Error("invalid callback: "+b);for(;++S<y;)if(L=(l=v[S]).type)g[L]=yv(g[L],l.name,b);else if(b==null)for(L in g)g[L]=yv(g[L],l.name,null);return this},copy:function(){var l={},b=this._;for(var g in b)l[g]=b[g].slice();return new oc(l)},call:function(l,b){if((L=arguments.length-2)>0)for(var g=new Array(L),v=0,L,S;v<L;++v)g[v]=arguments[v+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(S=this._[l],v=0,L=S.length;v<L;++v)S[v].value.apply(b,g)},apply:function(l,b,g){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var v=this._[l],L=0,S=v.length;L<S;++L)v[L].value.apply(b,g)}};function tS(l,b){for(var g=0,v=l.length,L;g<v;++g)if((L=l[g]).name===b)return L.value}function yv(l,b,g){for(var v=0,L=l.length;v<L;++v)if(l[v].name===b){l[v]=Jw,l=l.slice(0,v).concat(l.slice(v+1));break}return g!=null&&l.push({name:b,value:g}),l}var gd="http://www.w3.org/1999/xhtml";const bv={svg:"http://www.w3.org/2000/svg",xhtml:gd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ec(l){var b=l+="",g=b.indexOf(":");return g>=0&&(b=l.slice(0,g))!=="xmlns"&&(l=l.slice(g+1)),bv.hasOwnProperty(b)?{space:bv[b],local:l}:l}function nS(l){return function(){var b=this.ownerDocument,g=this.namespaceURI;return g===gd&&b.documentElement.namespaceURI===gd?b.createElement(l):b.createElementNS(g,l)}}function iS(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function y0(l){var b=Ec(l);return(b.local?iS:nS)(b)}function rS(){}function $d(l){return l==null?rS:function(){return this.querySelector(l)}}function sS(l){typeof l!="function"&&(l=$d(l));for(var b=this._groups,g=b.length,v=new Array(g),L=0;L<g;++L)for(var S=b[L],y=S.length,f=v[L]=new Array(y),o,h,r=0;r<y;++r)(o=S[r])&&(h=l.call(o,o.__data__,r,S))&&("__data__"in o&&(h.__data__=o.__data__),f[r]=h);return new Nn(v,this._parents)}function oS(l){return l==null?[]:Array.isArray(l)?l:Array.from(l)}function aS(){return[]}function b0(l){return l==null?aS:function(){return this.querySelectorAll(l)}}function lS(l){return function(){return oS(l.apply(this,arguments))}}function cS(l){typeof l=="function"?l=lS(l):l=b0(l);for(var b=this._groups,g=b.length,v=[],L=[],S=0;S<g;++S)for(var y=b[S],f=y.length,o,h=0;h<f;++h)(o=y[h])&&(v.push(l.call(o,o.__data__,h,y)),L.push(o));return new Nn(v,L)}function _0(l){return function(){return this.matches(l)}}function x0(l){return function(b){return b.matches(l)}}var uS=Array.prototype.find;function hS(l){return function(){return uS.call(this.children,l)}}function dS(){return this.firstElementChild}function fS(l){return this.select(l==null?dS:hS(typeof l=="function"?l:x0(l)))}var pS=Array.prototype.filter;function gS(){return Array.from(this.children)}function mS(l){return function(){return pS.call(this.children,l)}}function vS(l){return this.selectAll(l==null?gS:mS(typeof l=="function"?l:x0(l)))}function yS(l){typeof l!="function"&&(l=_0(l));for(var b=this._groups,g=b.length,v=new Array(g),L=0;L<g;++L)for(var S=b[L],y=S.length,f=v[L]=[],o,h=0;h<y;++h)(o=S[h])&&l.call(o,o.__data__,h,S)&&f.push(o);return new Nn(v,this._parents)}function w0(l){return new Array(l.length)}function bS(){return new Nn(this._enter||this._groups.map(w0),this._parents)}function fc(l,b){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=b}fc.prototype={constructor:fc,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,b){return this._parent.insertBefore(l,b)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};function _S(l){return function(){return l}}function xS(l,b,g,v,L,S){for(var y=0,f,o=b.length,h=S.length;y<h;++y)(f=b[y])?(f.__data__=S[y],v[y]=f):g[y]=new fc(l,S[y]);for(;y<o;++y)(f=b[y])&&(L[y]=f)}function wS(l,b,g,v,L,S,y){var f,o,h=new Map,r=b.length,n=S.length,i=new Array(r),s;for(f=0;f<r;++f)(o=b[f])&&(i[f]=s=y.call(o,o.__data__,f,b)+"",h.has(s)?L[f]=o:h.set(s,o));for(f=0;f<n;++f)s=y.call(l,S[f],f,S)+"",(o=h.get(s))?(v[f]=o,o.__data__=S[f],h.delete(s)):g[f]=new fc(l,S[f]);for(f=0;f<r;++f)(o=b[f])&&h.get(i[f])===o&&(L[f]=o)}function SS(l){return l.__data__}function CS(l,b){if(!arguments.length)return Array.from(this,SS);var g=b?wS:xS,v=this._parents,L=this._groups;typeof l!="function"&&(l=_S(l));for(var S=L.length,y=new Array(S),f=new Array(S),o=new Array(S),h=0;h<S;++h){var r=v[h],n=L[h],i=n.length,s=ES(l.call(r,r&&r.__data__,h,v)),c=s.length,u=f[h]=new Array(c),a=y[h]=new Array(c),d=o[h]=new Array(i);g(r,n,u,a,d,s,b);for(var m=0,x=0,C,w;m<c;++m)if(C=u[m]){for(m>=x&&(x=m+1);!(w=a[x])&&++x<c;);C._next=w||null}}return y=new Nn(y,v),y._enter=f,y._exit=o,y}function ES(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function AS(){return new Nn(this._exit||this._groups.map(w0),this._parents)}function kS(l,b,g){var v=this.enter(),L=this,S=this.exit();return typeof l=="function"?(v=l(v),v&&(v=v.selection())):v=v.append(l+""),b!=null&&(L=b(L),L&&(L=L.selection())),g==null?S.remove():g(S),v&&L?v.merge(L).order():L}function TS(l){for(var b=l.selection?l.selection():l,g=this._groups,v=b._groups,L=g.length,S=v.length,y=Math.min(L,S),f=new Array(L),o=0;o<y;++o)for(var h=g[o],r=v[o],n=h.length,i=f[o]=new Array(n),s,c=0;c<n;++c)(s=h[c]||r[c])&&(i[c]=s);for(;o<L;++o)f[o]=g[o];return new Nn(f,this._parents)}function MS(){for(var l=this._groups,b=-1,g=l.length;++b<g;)for(var v=l[b],L=v.length-1,S=v[L],y;--L>=0;)(y=v[L])&&(S&&y.compareDocumentPosition(S)^4&&S.parentNode.insertBefore(y,S),S=y);return this}function LS(l){l||(l=RS);function b(n,i){return n&&i?l(n.__data__,i.__data__):!n-!i}for(var g=this._groups,v=g.length,L=new Array(v),S=0;S<v;++S){for(var y=g[S],f=y.length,o=L[S]=new Array(f),h,r=0;r<f;++r)(h=y[r])&&(o[r]=h);o.sort(b)}return new Nn(L,this._parents).order()}function RS(l,b){return l<b?-1:l>b?1:l>=b?0:NaN}function NS(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this}function $S(){return Array.from(this)}function DS(){for(var l=this._groups,b=0,g=l.length;b<g;++b)for(var v=l[b],L=0,S=v.length;L<S;++L){var y=v[L];if(y)return y}return null}function OS(){let l=0;for(const b of this)++l;return l}function jS(){return!this.node()}function IS(l){for(var b=this._groups,g=0,v=b.length;g<v;++g)for(var L=b[g],S=0,y=L.length,f;S<y;++S)(f=L[S])&&l.call(f,f.__data__,S,L);return this}function BS(l){return function(){this.removeAttribute(l)}}function HS(l){return function(){this.removeAttributeNS(l.space,l.local)}}function zS(l,b){return function(){this.setAttribute(l,b)}}function FS(l,b){return function(){this.setAttributeNS(l.space,l.local,b)}}function PS(l,b){return function(){var g=b.apply(this,arguments);g==null?this.removeAttribute(l):this.setAttribute(l,g)}}function WS(l,b){return function(){var g=b.apply(this,arguments);g==null?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,g)}}function US(l,b){var g=Ec(l);if(arguments.length<2){var v=this.node();return g.local?v.getAttributeNS(g.space,g.local):v.getAttribute(g)}return this.each((b==null?g.local?HS:BS:typeof b=="function"?g.local?WS:PS:g.local?FS:zS)(g,b))}function S0(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function VS(l){return function(){this.style.removeProperty(l)}}function GS(l,b,g){return function(){this.style.setProperty(l,b,g)}}function KS(l,b,g){return function(){var v=b.apply(this,arguments);v==null?this.style.removeProperty(l):this.style.setProperty(l,v,g)}}function YS(l,b,g){return arguments.length>1?this.each((b==null?VS:typeof b=="function"?KS:GS)(l,b,g??"")):wo(this.node(),l)}function wo(l,b){return l.style.getPropertyValue(b)||S0(l).getComputedStyle(l,null).getPropertyValue(b)}function XS(l){return function(){delete this[l]}}function qS(l,b){return function(){this[l]=b}}function ZS(l,b){return function(){var g=b.apply(this,arguments);g==null?delete this[l]:this[l]=g}}function QS(l,b){return arguments.length>1?this.each((b==null?XS:typeof b=="function"?ZS:qS)(l,b)):this.node()[l]}function C0(l){return l.trim().split(/^|\s+/)}function Dd(l){return l.classList||new E0(l)}function E0(l){this._node=l,this._names=C0(l.getAttribute("class")||"")}E0.prototype={add:function(l){var b=this._names.indexOf(l);b<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var b=this._names.indexOf(l);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};function A0(l,b){for(var g=Dd(l),v=-1,L=b.length;++v<L;)g.add(b[v])}function k0(l,b){for(var g=Dd(l),v=-1,L=b.length;++v<L;)g.remove(b[v])}function JS(l){return function(){A0(this,l)}}function eC(l){return function(){k0(this,l)}}function tC(l,b){return function(){(b.apply(this,arguments)?A0:k0)(this,l)}}function nC(l,b){var g=C0(l+"");if(arguments.length<2){for(var v=Dd(this.node()),L=-1,S=g.length;++L<S;)if(!v.contains(g[L]))return!1;return!0}return this.each((typeof b=="function"?tC:b?JS:eC)(g,b))}function iC(){this.textContent=""}function rC(l){return function(){this.textContent=l}}function sC(l){return function(){var b=l.apply(this,arguments);this.textContent=b??""}}function oC(l){return arguments.length?this.each(l==null?iC:(typeof l=="function"?sC:rC)(l)):this.node().textContent}function aC(){this.innerHTML=""}function lC(l){return function(){this.innerHTML=l}}function cC(l){return function(){var b=l.apply(this,arguments);this.innerHTML=b??""}}function uC(l){return arguments.length?this.each(l==null?aC:(typeof l=="function"?cC:lC)(l)):this.node().innerHTML}function hC(){this.nextSibling&&this.parentNode.appendChild(this)}function dC(){return this.each(hC)}function fC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pC(){return this.each(fC)}function gC(l){var b=typeof l=="function"?l:y0(l);return this.select(function(){return this.appendChild(b.apply(this,arguments))})}function mC(){return null}function vC(l,b){var g=typeof l=="function"?l:y0(l),v=b==null?mC:typeof b=="function"?b:$d(b);return this.select(function(){return this.insertBefore(g.apply(this,arguments),v.apply(this,arguments)||null)})}function yC(){var l=this.parentNode;l&&l.removeChild(this)}function bC(){return this.each(yC)}function _C(){var l=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(l,this.nextSibling):l}function xC(){var l=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(l,this.nextSibling):l}function wC(l){return this.select(l?xC:_C)}function SC(l){return arguments.length?this.property("__data__",l):this.node().__data__}function CC(l){return function(b){l.call(this,b,this.__data__)}}function EC(l){return l.trim().split(/^|\s+/).map(function(b){var g="",v=b.indexOf(".");return v>=0&&(g=b.slice(v+1),b=b.slice(0,v)),{type:b,name:g}})}function AC(l){return function(){var b=this.__on;if(b){for(var g=0,v=-1,L=b.length,S;g<L;++g)S=b[g],(!l.type||S.type===l.type)&&S.name===l.name?this.removeEventListener(S.type,S.listener,S.options):b[++v]=S;++v?b.length=v:delete this.__on}}}function kC(l,b,g){return function(){var v=this.__on,L,S=CC(b);if(v){for(var y=0,f=v.length;y<f;++y)if((L=v[y]).type===l.type&&L.name===l.name){this.removeEventListener(L.type,L.listener,L.options),this.addEventListener(L.type,L.listener=S,L.options=g),L.value=b;return}}this.addEventListener(l.type,S,g),L={type:l.type,name:l.name,value:b,listener:S,options:g},v?v.push(L):this.__on=[L]}}function TC(l,b,g){var v=EC(l+""),L,S=v.length,y;if(arguments.length<2){var f=this.node().__on;if(f){for(var o=0,h=f.length,r;o<h;++o)for(L=0,r=f[o];L<S;++L)if((y=v[L]).type===r.type&&y.name===r.name)return r.value}return}for(f=b?kC:AC,L=0;L<S;++L)this.each(f(v[L],b,g));return this}function T0(l,b,g){var v=S0(l),L=v.CustomEvent;typeof L=="function"?L=new L(b,g):(L=v.document.createEvent("Event"),g?(L.initEvent(b,g.bubbles,g.cancelable),L.detail=g.detail):L.initEvent(b,!1,!1)),l.dispatchEvent(L)}function MC(l,b){return function(){return T0(this,l,b)}}function LC(l,b){return function(){return T0(this,l,b.apply(this,arguments))}}function RC(l,b){return this.each((typeof b=="function"?LC:MC)(l,b))}function*NC(){for(var l=this._groups,b=0,g=l.length;b<g;++b)for(var v=l[b],L=0,S=v.length,y;L<S;++L)(y=v[L])&&(yield y)}var M0=[null];function Nn(l,b){this._groups=l,this._parents=b}function Ba(){return new Nn([[document.documentElement]],M0)}function $C(){return this}Nn.prototype=Ba.prototype={constructor:Nn,select:sS,selectAll:cS,selectChild:fS,selectChildren:vS,filter:yS,data:CS,enter:bS,exit:AS,join:kS,merge:TS,selection:$C,order:MS,sort:LS,call:NS,nodes:$S,node:DS,size:OS,empty:jS,each:IS,attr:US,style:YS,property:QS,classed:nC,text:oC,html:uC,raise:dC,lower:pC,append:gC,insert:vC,remove:bC,clone:wC,datum:SC,on:TC,dispatch:RC,[Symbol.iterator]:NC};function gi(l){return typeof l=="string"?new Nn([[document.querySelector(l)]],[document.documentElement]):new Nn([[l]],M0)}function DC(l){let b;for(;b=l.sourceEvent;)l=b;return l}function Ei(l,b){if(l=DC(l),b===void 0&&(b=l.currentTarget),b){var g=b.ownerSVGElement||b;if(g.createSVGPoint){var v=g.createSVGPoint();return v.x=l.clientX,v.y=l.clientY,v=v.matrixTransform(b.getScreenCTM().inverse()),[v.x,v.y]}if(b.getBoundingClientRect){var L=b.getBoundingClientRect();return[l.clientX-L.left-b.clientLeft,l.clientY-L.top-b.clientTop]}}return[l.pageX,l.pageY]}const OC={passive:!1},Ra={capture:!0,passive:!1};function rd(l){l.stopImmediatePropagation()}function yo(l){l.preventDefault(),l.stopImmediatePropagation()}function L0(l){var b=l.document.documentElement,g=gi(l).on("dragstart.drag",yo,Ra);"onselectstart"in b?g.on("selectstart.drag",yo,Ra):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function R0(l,b){var g=l.document.documentElement,v=gi(l).on("dragstart.drag",null);b&&(v.on("click.drag",yo,Ra),setTimeout(function(){v.on("click.drag",null)},0)),"onselectstart"in g?v.on("selectstart.drag",null):(g.style.MozUserSelect=g.__noselect,delete g.__noselect)}const Zl=l=>()=>l;function md(l,{sourceEvent:b,subject:g,target:v,identifier:L,active:S,x:y,y:f,dx:o,dy:h,dispatch:r}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},subject:{value:g,enumerable:!0,configurable:!0},target:{value:v,enumerable:!0,configurable:!0},identifier:{value:L,enumerable:!0,configurable:!0},active:{value:S,enumerable:!0,configurable:!0},x:{value:y,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:r}})}md.prototype.on=function(){var l=this._.on.apply(this._,arguments);return l===this._?this:l};function jC(l){return!l.ctrlKey&&!l.button}function IC(){return this.parentNode}function BC(l,b){return b??{x:l.x,y:l.y}}function HC(){return navigator.maxTouchPoints||"ontouchstart"in this}function zC(){var l=jC,b=IC,g=BC,v=HC,L={},S=Cc("start","drag","end"),y=0,f,o,h,r,n=0;function i(C){C.on("mousedown.drag",s).filter(v).on("touchstart.drag",a).on("touchmove.drag",d,OC).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(C,w){if(!(r||!l.call(this,C,w))){var _=x(this,b.call(this,C,w),C,w,"mouse");_&&(gi(C.view).on("mousemove.drag",c,Ra).on("mouseup.drag",u,Ra),L0(C.view),rd(C),h=!1,f=C.clientX,o=C.clientY,_("start",C))}}function c(C){if(yo(C),!h){var w=C.clientX-f,_=C.clientY-o;h=w*w+_*_>n}L.mouse("drag",C)}function u(C){gi(C.view).on("mousemove.drag mouseup.drag",null),R0(C.view,h),yo(C),L.mouse("end",C)}function a(C,w){if(l.call(this,C,w)){var _=C.changedTouches,k=b.call(this,C,w),A=_.length,T,j;for(T=0;T<A;++T)(j=x(this,k,C,w,_[T].identifier,_[T]))&&(rd(C),j("start",C,_[T]))}}function d(C){var w=C.changedTouches,_=w.length,k,A;for(k=0;k<_;++k)(A=L[w[k].identifier])&&(yo(C),A("drag",C,w[k]))}function m(C){var w=C.changedTouches,_=w.length,k,A;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),k=0;k<_;++k)(A=L[w[k].identifier])&&(rd(C),A("end",C,w[k]))}function x(C,w,_,k,A,T){var j=S.copy(),F=Ei(T||_,w),$,D,M;if((M=g.call(C,new md("beforestart",{sourceEvent:_,target:i,identifier:A,active:y,x:F[0],y:F[1],dx:0,dy:0,dispatch:j}),k))!=null)return $=M.x-F[0]||0,D=M.y-F[1]||0,function R(O,z,B){var P=F,U;switch(O){case"start":L[A]=R,U=y++;break;case"end":delete L[A],--y;case"drag":F=Ei(B||z,w),U=y;break}j.call(O,C,new md(O,{sourceEvent:z,subject:M,target:i,identifier:A,active:U,x:F[0]+$,y:F[1]+D,dx:F[0]-P[0],dy:F[1]-P[1],dispatch:j}),k)}}return i.filter=function(C){return arguments.length?(l=typeof C=="function"?C:Zl(!!C),i):l},i.container=function(C){return arguments.length?(b=typeof C=="function"?C:Zl(C),i):b},i.subject=function(C){return arguments.length?(g=typeof C=="function"?C:Zl(C),i):g},i.touchable=function(C){return arguments.length?(v=typeof C=="function"?C:Zl(!!C),i):v},i.on=function(){var C=S.on.apply(S,arguments);return C===S?i:C},i.clickDistance=function(C){return arguments.length?(n=(C=+C)*C,i):Math.sqrt(n)},i}function Od(l,b,g){l.prototype=b.prototype=g,g.constructor=l}function N0(l,b){var g=Object.create(l.prototype);for(var v in b)g[v]=b[v];return g}function Ha(){}var Na=.7,pc=1/Na,bo="\\s*([+-]?\\d+)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FC=/^#([0-9a-f]{3,8})$/,PC=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),WC=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),UC=new RegExp(`^rgba\\(${bo},${bo},${bo},${$a}\\)$`),VC=new RegExp(`^rgba\\(${ki},${ki},${ki},${$a}\\)$`),GC=new RegExp(`^hsl\\(${$a},${ki},${ki}\\)$`),KC=new RegExp(`^hsla\\(${$a},${ki},${ki},${$a}\\)$`),_v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Od(Ha,Da,{copy(l){return Object.assign(new this.constructor,this,l)},displayable(){return this.rgb().displayable()},hex:xv,formatHex:xv,formatHex8:YC,formatHsl:XC,formatRgb:wv,toString:wv});function xv(){return this.rgb().formatHex()}function YC(){return this.rgb().formatHex8()}function XC(){return $0(this).formatHsl()}function wv(){return this.rgb().formatRgb()}function Da(l){var b,g;return l=(l+"").trim().toLowerCase(),(b=FC.exec(l))?(g=b[1].length,b=parseInt(b[1],16),g===6?Sv(b):g===3?new _n(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):g===8?Ql(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):g===4?Ql(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=PC.exec(l))?new _n(b[1],b[2],b[3],1):(b=WC.exec(l))?new _n(b[1]*255/100,b[2]*255/100,b[3]*255/100,1):(b=UC.exec(l))?Ql(b[1],b[2],b[3],b[4]):(b=VC.exec(l))?Ql(b[1]*255/100,b[2]*255/100,b[3]*255/100,b[4]):(b=GC.exec(l))?Av(b[1],b[2]/100,b[3]/100,1):(b=KC.exec(l))?Av(b[1],b[2]/100,b[3]/100,b[4]):_v.hasOwnProperty(l)?Sv(_v[l]):l==="transparent"?new _n(NaN,NaN,NaN,0):null}function Sv(l){return new _n(l>>16&255,l>>8&255,l&255,1)}function Ql(l,b,g,v){return v<=0&&(l=b=g=NaN),new _n(l,b,g,v)}function qC(l){return l instanceof Ha||(l=Da(l)),l?(l=l.rgb(),new _n(l.r,l.g,l.b,l.opacity)):new _n}function vd(l,b,g,v){return arguments.length===1?qC(l):new _n(l,b,g,v??1)}function _n(l,b,g,v){this.r=+l,this.g=+b,this.b=+g,this.opacity=+v}Od(_n,vd,N0(Ha,{brighter(l){return l=l==null?pc:Math.pow(pc,l),new _n(this.r*l,this.g*l,this.b*l,this.opacity)},darker(l){return l=l==null?Na:Math.pow(Na,l),new _n(this.r*l,this.g*l,this.b*l,this.opacity)},rgb(){return this},clamp(){return new _n(hs(this.r),hs(this.g),hs(this.b),gc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cv,formatHex:Cv,formatHex8:ZC,formatRgb:Ev,toString:Ev}));function Cv(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}`}function ZC(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}${ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ev(){const l=gc(this.opacity);return`${l===1?"rgb(":"rgba("}${hs(this.r)}, ${hs(this.g)}, ${hs(this.b)}${l===1?")":`, ${l})`}`}function gc(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function hs(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function ls(l){return l=hs(l),(l<16?"0":"")+l.toString(16)}function Av(l,b,g,v){return v<=0?l=b=g=NaN:g<=0||g>=1?l=b=NaN:b<=0&&(l=NaN),new mi(l,b,g,v)}function $0(l){if(l instanceof mi)return new mi(l.h,l.s,l.l,l.opacity);if(l instanceof Ha||(l=Da(l)),!l)return new mi;if(l instanceof mi)return l;l=l.rgb();var b=l.r/255,g=l.g/255,v=l.b/255,L=Math.min(b,g,v),S=Math.max(b,g,v),y=NaN,f=S-L,o=(S+L)/2;return f?(b===S?y=(g-v)/f+(g<v)*6:g===S?y=(v-b)/f+2:y=(b-g)/f+4,f/=o<.5?S+L:2-S-L,y*=60):f=o>0&&o<1?0:y,new mi(y,f,o,l.opacity)}function QC(l,b,g,v){return arguments.length===1?$0(l):new mi(l,b,g,v??1)}function mi(l,b,g,v){this.h=+l,this.s=+b,this.l=+g,this.opacity=+v}Od(mi,QC,N0(Ha,{brighter(l){return l=l==null?pc:Math.pow(pc,l),new mi(this.h,this.s,this.l*l,this.opacity)},darker(l){return l=l==null?Na:Math.pow(Na,l),new mi(this.h,this.s,this.l*l,this.opacity)},rgb(){var l=this.h%360+(this.h<0)*360,b=isNaN(l)||isNaN(this.s)?0:this.s,g=this.l,v=g+(g<.5?g:1-g)*b,L=2*g-v;return new _n(sd(l>=240?l-240:l+120,L,v),sd(l,L,v),sd(l<120?l+240:l-120,L,v),this.opacity)},clamp(){return new mi(kv(this.h),Jl(this.s),Jl(this.l),gc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const l=gc(this.opacity);return`${l===1?"hsl(":"hsla("}${kv(this.h)}, ${Jl(this.s)*100}%, ${Jl(this.l)*100}%${l===1?")":`, ${l})`}`}}));function kv(l){return l=(l||0)%360,l<0?l+360:l}function Jl(l){return Math.max(0,Math.min(1,l||0))}function sd(l,b,g){return(l<60?b+(g-b)*l/60:l<180?g:l<240?b+(g-b)*(240-l)/60:b)*255}const D0=l=>()=>l;function JC(l,b){return function(g){return l+g*b}}function e1(l,b,g){return l=Math.pow(l,g),b=Math.pow(b,g)-l,g=1/g,function(v){return Math.pow(l+v*b,g)}}function t1(l){return(l=+l)==1?O0:function(b,g){return g-b?e1(b,g,l):D0(isNaN(b)?g:b)}}function O0(l,b){var g=b-l;return g?JC(l,g):D0(isNaN(l)?b:l)}const Tv=(function l(b){var g=t1(b);function v(L,S){var y=g((L=vd(L)).r,(S=vd(S)).r),f=g(L.g,S.g),o=g(L.b,S.b),h=O0(L.opacity,S.opacity);return function(r){return L.r=y(r),L.g=f(r),L.b=o(r),L.opacity=h(r),L+""}}return v.gamma=l,v})(1);function Nr(l,b){return l=+l,b=+b,function(g){return l*(1-g)+b*g}}var yd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,od=new RegExp(yd.source,"g");function n1(l){return function(){return l}}function i1(l){return function(b){return l(b)+""}}function r1(l,b){var g=yd.lastIndex=od.lastIndex=0,v,L,S,y=-1,f=[],o=[];for(l=l+"",b=b+"";(v=yd.exec(l))&&(L=od.exec(b));)(S=L.index)>g&&(S=b.slice(g,S),f[y]?f[y]+=S:f[++y]=S),(v=v[0])===(L=L[0])?f[y]?f[y]+=L:f[++y]=L:(f[++y]=null,o.push({i:y,x:Nr(v,L)})),g=od.lastIndex;return g<b.length&&(S=b.slice(g),f[y]?f[y]+=S:f[++y]=S),f.length<2?o[0]?i1(o[0].x):n1(b):(b=o.length,function(h){for(var r=0,n;r<b;++r)f[(n=o[r]).i]=n.x(h);return f.join("")})}var Mv=180/Math.PI,bd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function j0(l,b,g,v,L,S){var y,f,o;return(y=Math.sqrt(l*l+b*b))&&(l/=y,b/=y),(o=l*g+b*v)&&(g-=l*o,v-=b*o),(f=Math.sqrt(g*g+v*v))&&(g/=f,v/=f,o/=f),l*v<b*g&&(l=-l,b=-b,o=-o,y=-y),{translateX:L,translateY:S,rotate:Math.atan2(b,l)*Mv,skewX:Math.atan(o)*Mv,scaleX:y,scaleY:f}}var ec;function s1(l){const b=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(l+"");return b.isIdentity?bd:j0(b.a,b.b,b.c,b.d,b.e,b.f)}function o1(l){return l==null||(ec||(ec=document.createElementNS("http://www.w3.org/2000/svg","g")),ec.setAttribute("transform",l),!(l=ec.transform.baseVal.consolidate()))?bd:(l=l.matrix,j0(l.a,l.b,l.c,l.d,l.e,l.f))}function I0(l,b,g,v){function L(h){return h.length?h.pop()+" ":""}function S(h,r,n,i,s,c){if(h!==n||r!==i){var u=s.push("translate(",null,b,null,g);c.push({i:u-4,x:Nr(h,n)},{i:u-2,x:Nr(r,i)})}else(n||i)&&s.push("translate("+n+b+i+g)}function y(h,r,n,i){h!==r?(h-r>180?r+=360:r-h>180&&(h+=360),i.push({i:n.push(L(n)+"rotate(",null,v)-2,x:Nr(h,r)})):r&&n.push(L(n)+"rotate("+r+v)}function f(h,r,n,i){h!==r?i.push({i:n.push(L(n)+"skewX(",null,v)-2,x:Nr(h,r)}):r&&n.push(L(n)+"skewX("+r+v)}function o(h,r,n,i,s,c){if(h!==n||r!==i){var u=s.push(L(s)+"scale(",null,",",null,")");c.push({i:u-4,x:Nr(h,n)},{i:u-2,x:Nr(r,i)})}else(n!==1||i!==1)&&s.push(L(s)+"scale("+n+","+i+")")}return function(h,r){var n=[],i=[];return h=l(h),r=l(r),S(h.translateX,h.translateY,r.translateX,r.translateY,n,i),y(h.rotate,r.rotate,n,i),f(h.skewX,r.skewX,n,i),o(h.scaleX,h.scaleY,r.scaleX,r.scaleY,n,i),h=r=null,function(s){for(var c=-1,u=i.length,a;++c<u;)n[(a=i[c]).i]=a.x(s);return n.join("")}}}var a1=I0(s1,"px, ","px)","deg)"),l1=I0(o1,", ",")",")"),c1=1e-12;function Lv(l){return((l=Math.exp(l))+1/l)/2}function u1(l){return((l=Math.exp(l))-1/l)/2}function h1(l){return((l=Math.exp(2*l))-1)/(l+1)}const d1=(function l(b,g,v){function L(S,y){var f=S[0],o=S[1],h=S[2],r=y[0],n=y[1],i=y[2],s=r-f,c=n-o,u=s*s+c*c,a,d;if(u<c1)d=Math.log(i/h)/b,a=function(k){return[f+k*s,o+k*c,h*Math.exp(b*k*d)]};else{var m=Math.sqrt(u),x=(i*i-h*h+v*u)/(2*h*g*m),C=(i*i-h*h-v*u)/(2*i*g*m),w=Math.log(Math.sqrt(x*x+1)-x),_=Math.log(Math.sqrt(C*C+1)-C);d=(_-w)/b,a=function(k){var A=k*d,T=Lv(w),j=h/(g*m)*(T*h1(b*A+w)-u1(w));return[f+j*s,o+j*c,h*T/Lv(b*A+w)]}}return a.duration=d*1e3*b/Math.SQRT2,a}return L.rho=function(S){var y=Math.max(.001,+S),f=y*y,o=f*f;return l(y,f,o)},L})(Math.SQRT2,2,4);var So=0,Ta=0,wa=0,B0=1e3,mc,Ma,vc=0,ds=0,Ac=0,Oa=typeof performance=="object"&&performance.now?performance:Date,H0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function jd(){return ds||(H0(f1),ds=Oa.now()+Ac)}function f1(){ds=0}function yc(){this._call=this._time=this._next=null}yc.prototype=z0.prototype={constructor:yc,restart:function(l,b,g){if(typeof l!="function")throw new TypeError("callback is not a function");g=(g==null?jd():+g)+(b==null?0:+b),!this._next&&Ma!==this&&(Ma?Ma._next=this:mc=this,Ma=this),this._call=l,this._time=g,_d()},stop:function(){this._call&&(this._call=null,this._time=1/0,_d())}};function z0(l,b,g){var v=new yc;return v.restart(l,b,g),v}function p1(){jd(),++So;for(var l=mc,b;l;)(b=ds-l._time)>=0&&l._call.call(void 0,b),l=l._next;--So}function Rv(){ds=(vc=Oa.now())+Ac,So=Ta=0;try{p1()}finally{So=0,m1(),ds=0}}function g1(){var l=Oa.now(),b=l-vc;b>B0&&(Ac-=b,vc=l)}function m1(){for(var l,b=mc,g,v=1/0;b;)b._call?(v>b._time&&(v=b._time),l=b,b=b._next):(g=b._next,b._next=null,b=l?l._next=g:mc=g);Ma=l,_d(v)}function _d(l){if(!So){Ta&&(Ta=clearTimeout(Ta));var b=l-ds;b>24?(l<1/0&&(Ta=setTimeout(Rv,l-Oa.now()-Ac)),wa&&(wa=clearInterval(wa))):(wa||(vc=Oa.now(),wa=setInterval(g1,B0)),So=1,H0(Rv))}}function Nv(l,b,g){var v=new yc;return b=b==null?0:+b,v.restart(L=>{v.stop(),l(L+b)},b,g),v}var v1=Cc("start","end","cancel","interrupt"),y1=[],F0=0,$v=1,xd=2,ac=3,Dv=4,wd=5,lc=6;function kc(l,b,g,v,L,S){var y=l.__transition;if(!y)l.__transition={};else if(g in y)return;b1(l,g,{name:b,index:v,group:L,on:v1,tween:y1,time:S.time,delay:S.delay,duration:S.duration,ease:S.ease,timer:null,state:F0})}function Id(l,b){var g=vi(l,b);if(g.state>F0)throw new Error("too late; already scheduled");return g}function Ti(l,b){var g=vi(l,b);if(g.state>ac)throw new Error("too late; already running");return g}function vi(l,b){var g=l.__transition;if(!g||!(g=g[b]))throw new Error("transition not found");return g}function b1(l,b,g){var v=l.__transition,L;v[b]=g,g.timer=z0(S,0,g.time);function S(h){g.state=$v,g.timer.restart(y,g.delay,g.time),g.delay<=h&&y(h-g.delay)}function y(h){var r,n,i,s;if(g.state!==$v)return o();for(r in v)if(s=v[r],s.name===g.name){if(s.state===ac)return Nv(y);s.state===Dv?(s.state=lc,s.timer.stop(),s.on.call("interrupt",l,l.__data__,s.index,s.group),delete v[r]):+r<b&&(s.state=lc,s.timer.stop(),s.on.call("cancel",l,l.__data__,s.index,s.group),delete v[r])}if(Nv(function(){g.state===ac&&(g.state=Dv,g.timer.restart(f,g.delay,g.time),f(h))}),g.state=xd,g.on.call("start",l,l.__data__,g.index,g.group),g.state===xd){for(g.state=ac,L=new Array(i=g.tween.length),r=0,n=-1;r<i;++r)(s=g.tween[r].value.call(l,l.__data__,g.index,g.group))&&(L[++n]=s);L.length=n+1}}function f(h){for(var r=h<g.duration?g.ease.call(null,h/g.duration):(g.timer.restart(o),g.state=wd,1),n=-1,i=L.length;++n<i;)L[n].call(l,r);g.state===wd&&(g.on.call("end",l,l.__data__,g.index,g.group),o())}function o(){g.state=lc,g.timer.stop(),delete v[b];for(var h in v)return;delete l.__transition}}function cc(l,b){var g=l.__transition,v,L,S=!0,y;if(g){b=b==null?null:b+"";for(y in g){if((v=g[y]).name!==b){S=!1;continue}L=v.state>xd&&v.state<wd,v.state=lc,v.timer.stop(),v.on.call(L?"interrupt":"cancel",l,l.__data__,v.index,v.group),delete g[y]}S&&delete l.__transition}}function _1(l){return this.each(function(){cc(this,l)})}function x1(l,b){var g,v;return function(){var L=Ti(this,l),S=L.tween;if(S!==g){v=g=S;for(var y=0,f=v.length;y<f;++y)if(v[y].name===b){v=v.slice(),v.splice(y,1);break}}L.tween=v}}function w1(l,b,g){var v,L;if(typeof g!="function")throw new Error;return function(){var S=Ti(this,l),y=S.tween;if(y!==v){L=(v=y).slice();for(var f={name:b,value:g},o=0,h=L.length;o<h;++o)if(L[o].name===b){L[o]=f;break}o===h&&L.push(f)}S.tween=L}}function S1(l,b){var g=this._id;if(l+="",arguments.length<2){for(var v=vi(this.node(),g).tween,L=0,S=v.length,y;L<S;++L)if((y=v[L]).name===l)return y.value;return null}return this.each((b==null?x1:w1)(g,l,b))}function Bd(l,b,g){var v=l._id;return l.each(function(){var L=Ti(this,v);(L.value||(L.value={}))[b]=g.apply(this,arguments)}),function(L){return vi(L,v).value[b]}}function P0(l,b){var g;return(typeof b=="number"?Nr:b instanceof Da?Tv:(g=Da(b))?(b=g,Tv):r1)(l,b)}function C1(l){return function(){this.removeAttribute(l)}}function E1(l){return function(){this.removeAttributeNS(l.space,l.local)}}function A1(l,b,g){var v,L=g+"",S;return function(){var y=this.getAttribute(l);return y===L?null:y===v?S:S=b(v=y,g)}}function k1(l,b,g){var v,L=g+"",S;return function(){var y=this.getAttributeNS(l.space,l.local);return y===L?null:y===v?S:S=b(v=y,g)}}function T1(l,b,g){var v,L,S;return function(){var y,f=g(this),o;return f==null?void this.removeAttribute(l):(y=this.getAttribute(l),o=f+"",y===o?null:y===v&&o===L?S:(L=o,S=b(v=y,f)))}}function M1(l,b,g){var v,L,S;return function(){var y,f=g(this),o;return f==null?void this.removeAttributeNS(l.space,l.local):(y=this.getAttributeNS(l.space,l.local),o=f+"",y===o?null:y===v&&o===L?S:(L=o,S=b(v=y,f)))}}function L1(l,b){var g=Ec(l),v=g==="transform"?l1:P0;return this.attrTween(l,typeof b=="function"?(g.local?M1:T1)(g,v,Bd(this,"attr."+l,b)):b==null?(g.local?E1:C1)(g):(g.local?k1:A1)(g,v,b))}function R1(l,b){return function(g){this.setAttribute(l,b.call(this,g))}}function N1(l,b){return function(g){this.setAttributeNS(l.space,l.local,b.call(this,g))}}function $1(l,b){var g,v;function L(){var S=b.apply(this,arguments);return S!==v&&(g=(v=S)&&N1(l,S)),g}return L._value=b,L}function D1(l,b){var g,v;function L(){var S=b.apply(this,arguments);return S!==v&&(g=(v=S)&&R1(l,S)),g}return L._value=b,L}function O1(l,b){var g="attr."+l;if(arguments.length<2)return(g=this.tween(g))&&g._value;if(b==null)return this.tween(g,null);if(typeof b!="function")throw new Error;var v=Ec(l);return this.tween(g,(v.local?$1:D1)(v,b))}function j1(l,b){return function(){Id(this,l).delay=+b.apply(this,arguments)}}function I1(l,b){return b=+b,function(){Id(this,l).delay=b}}function B1(l){var b=this._id;return arguments.length?this.each((typeof l=="function"?j1:I1)(b,l)):vi(this.node(),b).delay}function H1(l,b){return function(){Ti(this,l).duration=+b.apply(this,arguments)}}function z1(l,b){return b=+b,function(){Ti(this,l).duration=b}}function F1(l){var b=this._id;return arguments.length?this.each((typeof l=="function"?H1:z1)(b,l)):vi(this.node(),b).duration}function P1(l,b){if(typeof b!="function")throw new Error;return function(){Ti(this,l).ease=b}}function W1(l){var b=this._id;return arguments.length?this.each(P1(b,l)):vi(this.node(),b).ease}function U1(l,b){return function(){var g=b.apply(this,arguments);if(typeof g!="function")throw new Error;Ti(this,l).ease=g}}function V1(l){if(typeof l!="function")throw new Error;return this.each(U1(this._id,l))}function G1(l){typeof l!="function"&&(l=_0(l));for(var b=this._groups,g=b.length,v=new Array(g),L=0;L<g;++L)for(var S=b[L],y=S.length,f=v[L]=[],o,h=0;h<y;++h)(o=S[h])&&l.call(o,o.__data__,h,S)&&f.push(o);return new Ji(v,this._parents,this._name,this._id)}function K1(l){if(l._id!==this._id)throw new Error;for(var b=this._groups,g=l._groups,v=b.length,L=g.length,S=Math.min(v,L),y=new Array(v),f=0;f<S;++f)for(var o=b[f],h=g[f],r=o.length,n=y[f]=new Array(r),i,s=0;s<r;++s)(i=o[s]||h[s])&&(n[s]=i);for(;f<v;++f)y[f]=b[f];return new Ji(y,this._parents,this._name,this._id)}function Y1(l){return(l+"").trim().split(/^|\s+/).every(function(b){var g=b.indexOf(".");return g>=0&&(b=b.slice(0,g)),!b||b==="start"})}function X1(l,b,g){var v,L,S=Y1(b)?Id:Ti;return function(){var y=S(this,l),f=y.on;f!==v&&(L=(v=f).copy()).on(b,g),y.on=L}}function q1(l,b){var g=this._id;return arguments.length<2?vi(this.node(),g).on.on(l):this.each(X1(g,l,b))}function Z1(l){return function(){var b=this.parentNode;for(var g in this.__transition)if(+g!==l)return;b&&b.removeChild(this)}}function Q1(){return this.on("end.remove",Z1(this._id))}function J1(l){var b=this._name,g=this._id;typeof l!="function"&&(l=$d(l));for(var v=this._groups,L=v.length,S=new Array(L),y=0;y<L;++y)for(var f=v[y],o=f.length,h=S[y]=new Array(o),r,n,i=0;i<o;++i)(r=f[i])&&(n=l.call(r,r.__data__,i,f))&&("__data__"in r&&(n.__data__=r.__data__),h[i]=n,kc(h[i],b,g,i,h,vi(r,g)));return new Ji(S,this._parents,b,g)}function eE(l){var b=this._name,g=this._id;typeof l!="function"&&(l=b0(l));for(var v=this._groups,L=v.length,S=[],y=[],f=0;f<L;++f)for(var o=v[f],h=o.length,r,n=0;n<h;++n)if(r=o[n]){for(var i=l.call(r,r.__data__,n,o),s,c=vi(r,g),u=0,a=i.length;u<a;++u)(s=i[u])&&kc(s,b,g,u,i,c);S.push(i),y.push(r)}return new Ji(S,y,b,g)}var tE=Ba.prototype.constructor;function nE(){return new tE(this._groups,this._parents)}function iE(l,b){var g,v,L;return function(){var S=wo(this,l),y=(this.style.removeProperty(l),wo(this,l));return S===y?null:S===g&&y===v?L:L=b(g=S,v=y)}}function W0(l){return function(){this.style.removeProperty(l)}}function rE(l,b,g){var v,L=g+"",S;return function(){var y=wo(this,l);return y===L?null:y===v?S:S=b(v=y,g)}}function sE(l,b,g){var v,L,S;return function(){var y=wo(this,l),f=g(this),o=f+"";return f==null&&(o=f=(this.style.removeProperty(l),wo(this,l))),y===o?null:y===v&&o===L?S:(L=o,S=b(v=y,f))}}function oE(l,b){var g,v,L,S="style."+b,y="end."+S,f;return function(){var o=Ti(this,l),h=o.on,r=o.value[S]==null?f||(f=W0(b)):void 0;(h!==g||L!==r)&&(v=(g=h).copy()).on(y,L=r),o.on=v}}function aE(l,b,g){var v=(l+="")=="transform"?a1:P0;return b==null?this.styleTween(l,iE(l,v)).on("end.style."+l,W0(l)):typeof b=="function"?this.styleTween(l,sE(l,v,Bd(this,"style."+l,b))).each(oE(this._id,l)):this.styleTween(l,rE(l,v,b),g).on("end.style."+l,null)}function lE(l,b,g){return function(v){this.style.setProperty(l,b.call(this,v),g)}}function cE(l,b,g){var v,L;function S(){var y=b.apply(this,arguments);return y!==L&&(v=(L=y)&&lE(l,y,g)),v}return S._value=b,S}function uE(l,b,g){var v="style."+(l+="");if(arguments.length<2)return(v=this.tween(v))&&v._value;if(b==null)return this.tween(v,null);if(typeof b!="function")throw new Error;return this.tween(v,cE(l,b,g??""))}function hE(l){return function(){this.textContent=l}}function dE(l){return function(){var b=l(this);this.textContent=b??""}}function fE(l){return this.tween("text",typeof l=="function"?dE(Bd(this,"text",l)):hE(l==null?"":l+""))}function pE(l){return function(b){this.textContent=l.call(this,b)}}function gE(l){var b,g;function v(){var L=l.apply(this,arguments);return L!==g&&(b=(g=L)&&pE(L)),b}return v._value=l,v}function mE(l){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(l==null)return this.tween(b,null);if(typeof l!="function")throw new Error;return this.tween(b,gE(l))}function vE(){for(var l=this._name,b=this._id,g=U0(),v=this._groups,L=v.length,S=0;S<L;++S)for(var y=v[S],f=y.length,o,h=0;h<f;++h)if(o=y[h]){var r=vi(o,b);kc(o,l,g,h,y,{time:r.time+r.delay+r.duration,delay:0,duration:r.duration,ease:r.ease})}return new Ji(v,this._parents,l,g)}function yE(){var l,b,g=this,v=g._id,L=g.size();return new Promise(function(S,y){var f={value:y},o={value:function(){--L===0&&S()}};g.each(function(){var h=Ti(this,v),r=h.on;r!==l&&(b=(l=r).copy(),b._.cancel.push(f),b._.interrupt.push(f),b._.end.push(o)),h.on=b}),L===0&&S()})}var bE=0;function Ji(l,b,g,v){this._groups=l,this._parents=b,this._name=g,this._id=v}function U0(){return++bE}var qi=Ba.prototype;Ji.prototype={constructor:Ji,select:J1,selectAll:eE,selectChild:qi.selectChild,selectChildren:qi.selectChildren,filter:G1,merge:K1,selection:nE,transition:vE,call:qi.call,nodes:qi.nodes,node:qi.node,size:qi.size,empty:qi.empty,each:qi.each,on:q1,attr:L1,attrTween:O1,style:aE,styleTween:uE,text:fE,textTween:mE,remove:Q1,tween:S1,delay:B1,duration:F1,ease:W1,easeVarying:V1,end:yE,[Symbol.iterator]:qi[Symbol.iterator]};function _E(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}var xE={time:null,delay:0,duration:250,ease:_E};function wE(l,b){for(var g;!(g=l.__transition)||!(g=g[b]);)if(!(l=l.parentNode))throw new Error(`transition ${b} not found`);return g}function SE(l){var b,g;l instanceof Ji?(b=l._id,l=l._name):(b=U0(),(g=xE).time=jd(),l=l==null?null:l+"");for(var v=this._groups,L=v.length,S=0;S<L;++S)for(var y=v[S],f=y.length,o,h=0;h<f;++h)(o=y[h])&&kc(o,l,b,h,y,g||wE(o,b));return new Ji(v,this._parents,l,b)}Ba.prototype.interrupt=_1;Ba.prototype.transition=SE;const tc=l=>()=>l;function CE(l,{sourceEvent:b,target:g,transform:v,dispatch:L}){Object.defineProperties(this,{type:{value:l,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:g,enumerable:!0,configurable:!0},transform:{value:v,enumerable:!0,configurable:!0},_:{value:L}})}function Zi(l,b,g){this.k=l,this.x=b,this.y=g}Zi.prototype={constructor:Zi,scale:function(l){return l===1?this:new Zi(this.k*l,this.x,this.y)},translate:function(l,b){return l===0&b===0?this:new Zi(this.k,this.x+this.k*l,this.y+this.k*b)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Or=new Zi(1,0,0);Zi.prototype;function ad(l){l.stopImmediatePropagation()}function Sa(l){l.preventDefault(),l.stopImmediatePropagation()}function EE(l){return(!l.ctrlKey||l.type==="wheel")&&!l.button}function AE(){var l=this;return l instanceof SVGElement?(l=l.ownerSVGElement||l,l.hasAttribute("viewBox")?(l=l.viewBox.baseVal,[[l.x,l.y],[l.x+l.width,l.y+l.height]]):[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]):[[0,0],[l.clientWidth,l.clientHeight]]}function Ov(){return this.__zoom||Or}function kE(l){return-l.deltaY*(l.deltaMode===1?.05:l.deltaMode?1:.002)*(l.ctrlKey?10:1)}function TE(){return navigator.maxTouchPoints||"ontouchstart"in this}function ME(l,b,g){var v=l.invertX(b[0][0])-g[0][0],L=l.invertX(b[1][0])-g[1][0],S=l.invertY(b[0][1])-g[0][1],y=l.invertY(b[1][1])-g[1][1];return l.translate(L>v?(v+L)/2:Math.min(0,v)||Math.max(0,L),y>S?(S+y)/2:Math.min(0,S)||Math.max(0,y))}function LE(){var l=EE,b=AE,g=ME,v=kE,L=TE,S=[0,1/0],y=[[-1/0,-1/0],[1/0,1/0]],f=250,o=d1,h=Cc("start","zoom","end"),r,n,i,s=500,c=150,u=0,a=10;function d(M){M.property("__zoom",Ov).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",j).filter(L).on("touchstart.zoom",F).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(M,R,O,z){var B=M.selection?M.selection():M;B.property("__zoom",Ov),M!==B?w(M,R,O,z):B.interrupt().each(function(){_(this,arguments).event(z).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},d.scaleBy=function(M,R,O,z){d.scaleTo(M,function(){var B=this.__zoom.k,P=typeof R=="function"?R.apply(this,arguments):R;return B*P},O,z)},d.scaleTo=function(M,R,O,z){d.transform(M,function(){var B=b.apply(this,arguments),P=this.__zoom,U=O==null?C(B):typeof O=="function"?O.apply(this,arguments):O,W=P.invert(U),K=typeof R=="function"?R.apply(this,arguments):R;return g(x(m(P,K),U,W),B,y)},O,z)},d.translateBy=function(M,R,O,z){d.transform(M,function(){return g(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof O=="function"?O.apply(this,arguments):O),b.apply(this,arguments),y)},null,z)},d.translateTo=function(M,R,O,z,B){d.transform(M,function(){var P=b.apply(this,arguments),U=this.__zoom,W=z==null?C(P):typeof z=="function"?z.apply(this,arguments):z;return g(Or.translate(W[0],W[1]).scale(U.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof O=="function"?-O.apply(this,arguments):-O),P,y)},z,B)};function m(M,R){return R=Math.max(S[0],Math.min(S[1],R)),R===M.k?M:new Zi(R,M.x,M.y)}function x(M,R,O){var z=R[0]-O[0]*M.k,B=R[1]-O[1]*M.k;return z===M.x&&B===M.y?M:new Zi(M.k,z,B)}function C(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,R,O,z){M.on("start.zoom",function(){_(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(z).end()}).tween("zoom",function(){var B=this,P=arguments,U=_(B,P).event(z),W=b.apply(B,P),K=O==null?C(W):typeof O=="function"?O.apply(B,P):O,Y=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),X=B.__zoom,q=typeof R=="function"?R.apply(B,P):R,J=o(X.invert(K).concat(Y/X.k),q.invert(K).concat(Y/q.k));return function(V){if(V===1)V=q;else{var Q=J(V),ne=Y/Q[2];V=new Zi(ne,K[0]-Q[0]*ne,K[1]-Q[1]*ne)}U.zoom(null,V)}})}function _(M,R,O){return!O&&M.__zooming||new k(M,R)}function k(M,R){this.that=M,this.args=R,this.active=0,this.sourceEvent=null,this.extent=b.apply(M,R),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,R){return this.mouse&&M!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var R=gi(this.that).datum();h.call(M,this.that,new CE(M,{sourceEvent:this.sourceEvent,target:d,transform:this.that.__zoom,dispatch:h}),R)}};function A(M,...R){if(!l.apply(this,arguments))return;var O=_(this,R).event(M),z=this.__zoom,B=Math.max(S[0],Math.min(S[1],z.k*Math.pow(2,v.apply(this,arguments)))),P=Ei(M);if(O.wheel)(O.mouse[0][0]!==P[0]||O.mouse[0][1]!==P[1])&&(O.mouse[1]=z.invert(O.mouse[0]=P)),clearTimeout(O.wheel);else{if(z.k===B)return;O.mouse=[P,z.invert(P)],cc(this),O.start()}Sa(M),O.wheel=setTimeout(U,c),O.zoom("mouse",g(x(m(z,B),O.mouse[0],O.mouse[1]),O.extent,y));function U(){O.wheel=null,O.end()}}function T(M,...R){if(i||!l.apply(this,arguments))return;var O=M.currentTarget,z=_(this,R,!0).event(M),B=gi(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",Y,!0),P=Ei(M,O),U=M.clientX,W=M.clientY;L0(M.view),ad(M),z.mouse=[P,this.__zoom.invert(P)],cc(this),z.start();function K(X){if(Sa(X),!z.moved){var q=X.clientX-U,J=X.clientY-W;z.moved=q*q+J*J>u}z.event(X).zoom("mouse",g(x(z.that.__zoom,z.mouse[0]=Ei(X,O),z.mouse[1]),z.extent,y))}function Y(X){B.on("mousemove.zoom mouseup.zoom",null),R0(X.view,z.moved),Sa(X),z.event(X).end()}}function j(M,...R){if(l.apply(this,arguments)){var O=this.__zoom,z=Ei(M.changedTouches?M.changedTouches[0]:M,this),B=O.invert(z),P=O.k*(M.shiftKey?.5:2),U=g(x(m(O,P),z,B),b.apply(this,R),y);Sa(M),f>0?gi(this).transition().duration(f).call(w,U,z,M):gi(this).call(d.transform,U,z,M)}}function F(M,...R){if(l.apply(this,arguments)){var O=M.touches,z=O.length,B=_(this,R,M.changedTouches.length===z).event(M),P,U,W,K;for(ad(M),U=0;U<z;++U)W=O[U],K=Ei(W,this),K=[K,this.__zoom.invert(K),W.identifier],B.touch0?!B.touch1&&B.touch0[2]!==K[2]&&(B.touch1=K,B.taps=0):(B.touch0=K,P=!0,B.taps=1+!!r);r&&(r=clearTimeout(r)),P&&(B.taps<2&&(n=K[0],r=setTimeout(function(){r=null},s)),cc(this),B.start())}}function $(M,...R){if(this.__zooming){var O=_(this,R).event(M),z=M.changedTouches,B=z.length,P,U,W,K;for(Sa(M),P=0;P<B;++P)U=z[P],W=Ei(U,this),O.touch0&&O.touch0[2]===U.identifier?O.touch0[0]=W:O.touch1&&O.touch1[2]===U.identifier&&(O.touch1[0]=W);if(U=O.that.__zoom,O.touch1){var Y=O.touch0[0],X=O.touch0[1],q=O.touch1[0],J=O.touch1[1],V=(V=q[0]-Y[0])*V+(V=q[1]-Y[1])*V,Q=(Q=J[0]-X[0])*Q+(Q=J[1]-X[1])*Q;U=m(U,Math.sqrt(V/Q)),W=[(Y[0]+q[0])/2,(Y[1]+q[1])/2],K=[(X[0]+J[0])/2,(X[1]+J[1])/2]}else if(O.touch0)W=O.touch0[0],K=O.touch0[1];else return;O.zoom("touch",g(x(U,W,K),O.extent,y))}}function D(M,...R){if(this.__zooming){var O=_(this,R).event(M),z=M.changedTouches,B=z.length,P,U;for(ad(M),i&&clearTimeout(i),i=setTimeout(function(){i=null},s),P=0;P<B;++P)U=z[P],O.touch0&&O.touch0[2]===U.identifier?delete O.touch0:O.touch1&&O.touch1[2]===U.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(U=Ei(U,this),Math.hypot(n[0]-U[0],n[1]-U[1])<a)){var W=gi(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return d.wheelDelta=function(M){return arguments.length?(v=typeof M=="function"?M:tc(+M),d):v},d.filter=function(M){return arguments.length?(l=typeof M=="function"?M:tc(!!M),d):l},d.touchable=function(M){return arguments.length?(L=typeof M=="function"?M:tc(!!M),d):L},d.extent=function(M){return arguments.length?(b=typeof M=="function"?M:tc([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),d):b},d.scaleExtent=function(M){return arguments.length?(S[0]=+M[0],S[1]=+M[1],d):[S[0],S[1]]},d.translateExtent=function(M){return arguments.length?(y[0][0]=+M[0][0],y[1][0]=+M[1][0],y[0][1]=+M[0][1],y[1][1]=+M[1][1],d):[[y[0][0],y[0][1]],[y[1][0],y[1][1]]]},d.constrain=function(M){return arguments.length?(g=M,d):g},d.duration=function(M){return arguments.length?(f=+M,d):f},d.interpolate=function(M){return arguments.length?(o=M,d):o},d.on=function(){var M=h.on.apply(h,arguments);return M===h?d:M},d.clickDistance=function(M){return arguments.length?(u=(M=+M)*M,d):Math.sqrt(u)},d.tapDistance=function(M){return arguments.length?(a=+M,d):a},d}var RE=a0();const Tc=te.createContext(null),NE=Tc.Provider,er={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:l=>`Node type "${l}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:l=>`The old edge with id=${l} does not exist.`,error009:l=>`Marker type "${l}" doesn't exist.`,error008:(l,b)=>`Couldn't create edge for ${l?"target":"source"} handle id: "${l?b.targetHandle:b.sourceHandle}", edge id: ${b.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:l=>`Edge type "${l}" not found. Using fallback type "default".`,error012:l=>`Node with id "${l}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},V0=er.error001();function kt(l,b){const g=te.useContext(Tc);if(g===null)throw new Error(V0);return v0(g,l,b)}const sn=()=>{const l=te.useContext(Tc);if(l===null)throw new Error(V0);return te.useMemo(()=>({getState:l.getState,setState:l.setState,subscribe:l.subscribe,destroy:l.destroy}),[l])},$E=l=>l.userSelectionActive?"none":"all";function DE({position:l,children:b,className:g,style:v,...L}){const S=kt($E),y=`${l}`.split("-");return _e.createElement("div",{className:Qn(["react-flow__panel",g,...y]),style:{...v,pointerEvents:S},...L},b)}function OE({proOptions:l,position:b="bottom-right"}){return l?.hideAttribution?null:_e.createElement(DE,{position:b,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},_e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const jE=({x:l,y:b,label:g,labelStyle:v={},labelShowBg:L=!0,labelBgStyle:S={},labelBgPadding:y=[2,4],labelBgBorderRadius:f=2,children:o,className:h,...r})=>{const n=te.useRef(null),[i,s]=te.useState({x:0,y:0,width:0,height:0}),c=Qn(["react-flow__edge-textwrapper",h]);return te.useEffect(()=>{if(n.current){const u=n.current.getBBox();s({x:u.x,y:u.y,width:u.width,height:u.height})}},[g]),typeof g>"u"||!g?null:_e.createElement("g",{transform:`translate(${l-i.width/2} ${b-i.height/2})`,className:c,visibility:i.width?"visible":"hidden",...r},L&&_e.createElement("rect",{width:i.width+2*y[0],x:-y[0],y:-y[1],height:i.height+2*y[1],className:"react-flow__edge-textbg",style:S,rx:f,ry:f}),_e.createElement("text",{className:"react-flow__edge-text",y:i.height/2,dy:"0.3em",ref:n,style:v},g),o)};var IE=te.memo(jE);const Hd=l=>({width:l.offsetWidth,height:l.offsetHeight}),Co=(l,b=0,g=1)=>Math.min(Math.max(l,b),g),zd=(l={x:0,y:0},b)=>({x:Co(l.x,b[0][0],b[1][0]),y:Co(l.y,b[0][1],b[1][1])}),jv=(l,b,g)=>l<b?Co(Math.abs(l-b),1,50)/50:l>g?-Co(Math.abs(l-g),1,50)/50:0,G0=(l,b)=>{const g=jv(l.x,35,b.width-35)*20,v=jv(l.y,35,b.height-35)*20;return[g,v]},K0=l=>l.getRootNode?.()||window?.document,BE=(l,b)=>({x:Math.min(l.x,b.x),y:Math.min(l.y,b.y),x2:Math.max(l.x2,b.x2),y2:Math.max(l.y2,b.y2)}),Fd=({x:l,y:b,width:g,height:v})=>({x:l,y:b,x2:l+g,y2:b+v}),HE=({x:l,y:b,x2:g,y2:v})=>({x:l,y:b,width:g-l,height:v-b}),Iv=l=>({...l.positionAbsolute||{x:0,y:0},width:l.width||0,height:l.height||0}),Sd=(l,b)=>{const g=Math.max(0,Math.min(l.x+l.width,b.x+b.width)-Math.max(l.x,b.x)),v=Math.max(0,Math.min(l.y+l.height,b.y+b.height)-Math.max(l.y,b.y));return Math.ceil(g*v)},zE=l=>Zn(l.width)&&Zn(l.height)&&Zn(l.x)&&Zn(l.y),Zn=l=>!isNaN(l)&&isFinite(l),At=Symbol.for("internals"),Y0=["Enter"," ","Escape"],FE=(l,b)=>{},PE=l=>"nativeEvent"in l;function Cd(l){const g=(PE(l)?l.nativeEvent:l).composedPath?.()?.[0]||l.target;return["INPUT","SELECT","TEXTAREA"].includes(g?.nodeName)||g?.hasAttribute("contenteditable")||!!g?.closest(".nokey")}const X0=l=>"clientX"in l,jr=(l,b)=>{const g=X0(l),v=g?l.clientX:l.touches?.[0].clientX,L=g?l.clientY:l.touches?.[0].clientY;return{x:v-(b?.left??0),y:L-(b?.top??0)}},bc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ao=({id:l,path:b,labelX:g,labelY:v,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h,style:r,markerEnd:n,markerStart:i,interactionWidth:s=20})=>_e.createElement(_e.Fragment,null,_e.createElement("path",{id:l,style:r,d:b,fill:"none",className:"react-flow__edge-path",markerEnd:n,markerStart:i}),s&&_e.createElement("path",{d:b,fill:"none",strokeOpacity:0,strokeWidth:s,className:"react-flow__edge-interaction"}),L&&Zn(g)&&Zn(v)?_e.createElement(IE,{x:g,y:v,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h}):null);Ao.displayName="BaseEdge";function Ca(l,b,g){return g===void 0?g:v=>{const L=b().edges.find(S=>S.id===l);L&&g(v,{...L})}}function q0({sourceX:l,sourceY:b,targetX:g,targetY:v}){const L=Math.abs(g-l)/2,S=g<l?g+L:g-L,y=Math.abs(v-b)/2,f=v<b?v+y:v-y;return[S,f,L,y]}function Z0({sourceX:l,sourceY:b,targetX:g,targetY:v,sourceControlX:L,sourceControlY:S,targetControlX:y,targetControlY:f}){const o=l*.125+L*.375+y*.375+g*.125,h=b*.125+S*.375+f*.375+v*.125,r=Math.abs(o-l),n=Math.abs(h-b);return[o,h,r,n]}var fs;(function(l){l.Strict="strict",l.Loose="loose"})(fs||(fs={}));var cs;(function(l){l.Free="free",l.Vertical="vertical",l.Horizontal="horizontal"})(cs||(cs={}));var ja;(function(l){l.Partial="partial",l.Full="full"})(ja||(ja={}));var Dr;(function(l){l.Bezier="default",l.Straight="straight",l.Step="step",l.SmoothStep="smoothstep",l.SimpleBezier="simplebezier"})(Dr||(Dr={}));var _c;(function(l){l.Arrow="arrow",l.ArrowClosed="arrowclosed"})(_c||(_c={}));var Le;(function(l){l.Left="left",l.Top="top",l.Right="right",l.Bottom="bottom"})(Le||(Le={}));function Bv({pos:l,x1:b,y1:g,x2:v,y2:L}){return l===Le.Left||l===Le.Right?[.5*(b+v),g]:[b,.5*(g+L)]}function Q0({sourceX:l,sourceY:b,sourcePosition:g=Le.Bottom,targetX:v,targetY:L,targetPosition:S=Le.Top}){const[y,f]=Bv({pos:g,x1:l,y1:b,x2:v,y2:L}),[o,h]=Bv({pos:S,x1:v,y1:L,x2:l,y2:b}),[r,n,i,s]=Z0({sourceX:l,sourceY:b,targetX:v,targetY:L,sourceControlX:y,sourceControlY:f,targetControlX:o,targetControlY:h});return[`M${l},${b} C${y},${f} ${o},${h} ${v},${L}`,r,n,i,s]}const Pd=te.memo(({sourceX:l,sourceY:b,targetX:g,targetY:v,sourcePosition:L=Le.Bottom,targetPosition:S=Le.Top,label:y,labelStyle:f,labelShowBg:o,labelBgStyle:h,labelBgPadding:r,labelBgBorderRadius:n,style:i,markerEnd:s,markerStart:c,interactionWidth:u})=>{const[a,d,m]=Q0({sourceX:l,sourceY:b,sourcePosition:L,targetX:g,targetY:v,targetPosition:S});return _e.createElement(Ao,{path:a,labelX:d,labelY:m,label:y,labelStyle:f,labelShowBg:o,labelBgStyle:h,labelBgPadding:r,labelBgBorderRadius:n,style:i,markerEnd:s,markerStart:c,interactionWidth:u})});Pd.displayName="SimpleBezierEdge";const Hv={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},WE=({source:l,sourcePosition:b=Le.Bottom,target:g})=>b===Le.Left||b===Le.Right?l.x<g.x?{x:1,y:0}:{x:-1,y:0}:l.y<g.y?{x:0,y:1}:{x:0,y:-1},zv=(l,b)=>Math.sqrt(Math.pow(b.x-l.x,2)+Math.pow(b.y-l.y,2));function UE({source:l,sourcePosition:b=Le.Bottom,target:g,targetPosition:v=Le.Top,center:L,offset:S}){const y=Hv[b],f=Hv[v],o={x:l.x+y.x*S,y:l.y+y.y*S},h={x:g.x+f.x*S,y:g.y+f.y*S},r=WE({source:o,sourcePosition:b,target:h}),n=r.x!==0?"x":"y",i=r[n];let s=[],c,u;const a={x:0,y:0},d={x:0,y:0},[m,x,C,w]=q0({sourceX:l.x,sourceY:l.y,targetX:g.x,targetY:g.y});if(y[n]*f[n]===-1){c=L.x??m,u=L.y??x;const k=[{x:c,y:o.y},{x:c,y:h.y}],A=[{x:o.x,y:u},{x:h.x,y:u}];y[n]===i?s=n==="x"?k:A:s=n==="x"?A:k}else{const k=[{x:o.x,y:h.y}],A=[{x:h.x,y:o.y}];if(n==="x"?s=y.x===i?A:k:s=y.y===i?k:A,b===v){const D=Math.abs(l[n]-g[n]);if(D<=S){const M=Math.min(S-1,S-D);y[n]===i?a[n]=(o[n]>l[n]?-1:1)*M:d[n]=(h[n]>g[n]?-1:1)*M}}if(b!==v){const D=n==="x"?"y":"x",M=y[n]===f[D],R=o[D]>h[D],O=o[D]<h[D];(y[n]===1&&(!M&&R||M&&O)||y[n]!==1&&(!M&&O||M&&R))&&(s=n==="x"?k:A)}const T={x:o.x+a.x,y:o.y+a.y},j={x:h.x+d.x,y:h.y+d.y},F=Math.max(Math.abs(T.x-s[0].x),Math.abs(j.x-s[0].x)),$=Math.max(Math.abs(T.y-s[0].y),Math.abs(j.y-s[0].y));F>=$?(c=(T.x+j.x)/2,u=s[0].y):(c=s[0].x,u=(T.y+j.y)/2)}return[[l,{x:o.x+a.x,y:o.y+a.y},...s,{x:h.x+d.x,y:h.y+d.y},g],c,u,C,w]}function VE(l,b,g,v){const L=Math.min(zv(l,b)/2,zv(b,g)/2,v),{x:S,y}=b;if(l.x===S&&S===g.x||l.y===y&&y===g.y)return`L${S} ${y}`;if(l.y===y){const h=l.x<g.x?-1:1,r=l.y<g.y?1:-1;return`L ${S+L*h},${y}Q ${S},${y} ${S},${y+L*r}`}const f=l.x<g.x?1:-1,o=l.y<g.y?-1:1;return`L ${S},${y+L*o}Q ${S},${y} ${S+L*f},${y}`}function Ed({sourceX:l,sourceY:b,sourcePosition:g=Le.Bottom,targetX:v,targetY:L,targetPosition:S=Le.Top,borderRadius:y=5,centerX:f,centerY:o,offset:h=20}){const[r,n,i,s,c]=UE({source:{x:l,y:b},sourcePosition:g,target:{x:v,y:L},targetPosition:S,center:{x:f,y:o},offset:h});return[r.reduce((a,d,m)=>{let x="";return m>0&&m<r.length-1?x=VE(r[m-1],d,r[m+1],y):x=`${m===0?"M":"L"}${d.x} ${d.y}`,a+=x,a},""),n,i,s,c]}const Mc=te.memo(({sourceX:l,sourceY:b,targetX:g,targetY:v,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h,style:r,sourcePosition:n=Le.Bottom,targetPosition:i=Le.Top,markerEnd:s,markerStart:c,pathOptions:u,interactionWidth:a})=>{const[d,m,x]=Ed({sourceX:l,sourceY:b,sourcePosition:n,targetX:g,targetY:v,targetPosition:i,borderRadius:u?.borderRadius,offset:u?.offset});return _e.createElement(Ao,{path:d,labelX:m,labelY:x,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h,style:r,markerEnd:s,markerStart:c,interactionWidth:a})});Mc.displayName="SmoothStepEdge";const Wd=te.memo(l=>_e.createElement(Mc,{...l,pathOptions:te.useMemo(()=>({borderRadius:0,offset:l.pathOptions?.offset}),[l.pathOptions?.offset])}));Wd.displayName="StepEdge";function GE({sourceX:l,sourceY:b,targetX:g,targetY:v}){const[L,S,y,f]=q0({sourceX:l,sourceY:b,targetX:g,targetY:v});return[`M ${l},${b}L ${g},${v}`,L,S,y,f]}const Ud=te.memo(({sourceX:l,sourceY:b,targetX:g,targetY:v,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h,style:r,markerEnd:n,markerStart:i,interactionWidth:s})=>{const[c,u,a]=GE({sourceX:l,sourceY:b,targetX:g,targetY:v});return _e.createElement(Ao,{path:c,labelX:u,labelY:a,label:L,labelStyle:S,labelShowBg:y,labelBgStyle:f,labelBgPadding:o,labelBgBorderRadius:h,style:r,markerEnd:n,markerStart:i,interactionWidth:s})});Ud.displayName="StraightEdge";function nc(l,b){return l>=0?.5*l:b*25*Math.sqrt(-l)}function Fv({pos:l,x1:b,y1:g,x2:v,y2:L,c:S}){switch(l){case Le.Left:return[b-nc(b-v,S),g];case Le.Right:return[b+nc(v-b,S),g];case Le.Top:return[b,g-nc(g-L,S)];case Le.Bottom:return[b,g+nc(L-g,S)]}}function Vd({sourceX:l,sourceY:b,sourcePosition:g=Le.Bottom,targetX:v,targetY:L,targetPosition:S=Le.Top,curvature:y=.25}){const[f,o]=Fv({pos:g,x1:l,y1:b,x2:v,y2:L,c:y}),[h,r]=Fv({pos:S,x1:v,y1:L,x2:l,y2:b,c:y}),[n,i,s,c]=Z0({sourceX:l,sourceY:b,targetX:v,targetY:L,sourceControlX:f,sourceControlY:o,targetControlX:h,targetControlY:r});return[`M${l},${b} C${f},${o} ${h},${r} ${v},${L}`,n,i,s,c]}const xc=te.memo(({sourceX:l,sourceY:b,targetX:g,targetY:v,sourcePosition:L=Le.Bottom,targetPosition:S=Le.Top,label:y,labelStyle:f,labelShowBg:o,labelBgStyle:h,labelBgPadding:r,labelBgBorderRadius:n,style:i,markerEnd:s,markerStart:c,pathOptions:u,interactionWidth:a})=>{const[d,m,x]=Vd({sourceX:l,sourceY:b,sourcePosition:L,targetX:g,targetY:v,targetPosition:S,curvature:u?.curvature});return _e.createElement(Ao,{path:d,labelX:m,labelY:x,label:y,labelStyle:f,labelShowBg:o,labelBgStyle:h,labelBgPadding:r,labelBgBorderRadius:n,style:i,markerEnd:s,markerStart:c,interactionWidth:a})});xc.displayName="BezierEdge";const Gd=te.createContext(null),KE=Gd.Provider;Gd.Consumer;const YE=()=>te.useContext(Gd),XE=l=>"id"in l&&"source"in l&&"target"in l,qE=({source:l,sourceHandle:b,target:g,targetHandle:v})=>`reactflow__edge-${l}${b||""}-${g}${v||""}`,Ad=(l,b)=>typeof l>"u"?"":typeof l=="string"?l:`${b?`${b}__`:""}${Object.keys(l).sort().map(v=>`${v}=${l[v]}`).join("&")}`,ZE=(l,b)=>b.some(g=>g.source===l.source&&g.target===l.target&&(g.sourceHandle===l.sourceHandle||!g.sourceHandle&&!l.sourceHandle)&&(g.targetHandle===l.targetHandle||!g.targetHandle&&!l.targetHandle)),J0=(l,b)=>{if(!l.source||!l.target)return b;let g;return XE(l)?g={...l}:g={...l,id:qE(l)},ZE(g,b)?b:b.concat(g)},kd=({x:l,y:b},[g,v,L],S,[y,f])=>{const o={x:(l-g)/L,y:(b-v)/L};return S?{x:y*Math.round(o.x/y),y:f*Math.round(o.y/f)}:o},ey=({x:l,y:b},[g,v,L])=>({x:l*L+g,y:b*L+v}),_o=(l,b=[0,0])=>{if(!l)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const g=(l.width??0)*b[0],v=(l.height??0)*b[1],L={x:l.position.x-g,y:l.position.y-v};return{...L,positionAbsolute:l.positionAbsolute?{x:l.positionAbsolute.x-g,y:l.positionAbsolute.y-v}:L}},Kd=(l,b=[0,0])=>{if(l.length===0)return{x:0,y:0,width:0,height:0};const g=l.reduce((v,L)=>{const{x:S,y}=_o(L,b).positionAbsolute;return BE(v,Fd({x:S,y,width:L.width||0,height:L.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return HE(g)},ty=(l,b,[g,v,L]=[0,0,1],S=!1,y=!1,f=[0,0])=>{const o={x:(b.x-g)/L,y:(b.y-v)/L,width:b.width/L,height:b.height/L},h=[];return l.forEach(r=>{const{width:n,height:i,selectable:s=!0,hidden:c=!1}=r;if(y&&!s||c)return!1;const{positionAbsolute:u}=_o(r,f),a={x:u.x,y:u.y,width:n||0,height:i||0},d=Sd(o,a),m=typeof n>"u"||typeof i>"u"||n===null||i===null,x=S&&d>0,C=(n||0)*(i||0);(m||x||d>=C||r.dragging)&&h.push(r)}),h},ny=(l,b)=>{const g=l.map(v=>v.id);return b.filter(v=>g.includes(v.source)||g.includes(v.target))},iy=(l,b,g,v,L,S=.1)=>{const y=b/(l.width*(1+S)),f=g/(l.height*(1+S)),o=Math.min(y,f),h=Co(o,v,L),r=l.x+l.width/2,n=l.y+l.height/2,i=b/2-r*h,s=g/2-n*h;return{x:i,y:s,zoom:h}},os=(l,b=0)=>l.transition().duration(b);function Pv(l,b,g,v){return(b[g]||[]).reduce((L,S)=>(`${l.id}-${S.id}-${g}`!==v&&L.push({id:S.id||null,type:g,nodeId:l.id,x:(l.positionAbsolute?.x??0)+S.x+S.width/2,y:(l.positionAbsolute?.y??0)+S.y+S.height/2}),L),[])}function QE(l,b,g,v,L,S){const{x:y,y:f}=jr(l),h=b.elementsFromPoint(y,f).find(c=>c.classList.contains("react-flow__handle"));if(h){const c=h.getAttribute("data-nodeid");if(c){const u=Yd(void 0,h),a=h.getAttribute("data-handleid"),d=S({nodeId:c,id:a,type:u});if(d){const m=L.find(x=>x.nodeId===c&&x.type===u&&x.id===a);return{handle:{id:a,type:u,nodeId:c,x:m?.x||g.x,y:m?.y||g.y},validHandleResult:d}}}}let r=[],n=1/0;if(L.forEach(c=>{const u=Math.sqrt((c.x-g.x)**2+(c.y-g.y)**2);if(u<=v){const a=S(c);u<=n&&(u<n?r=[{handle:c,validHandleResult:a}]:u===n&&r.push({handle:c,validHandleResult:a}),n=u)}}),!r.length)return{handle:null,validHandleResult:ry()};if(r.length===1)return r[0];const i=r.some(({validHandleResult:c})=>c.isValid),s=r.some(({handle:c})=>c.type==="target");return r.find(({handle:c,validHandleResult:u})=>s?c.type==="target":i?u.isValid:!0)||r[0]}const JE={source:null,target:null,sourceHandle:null,targetHandle:null},ry=()=>({handleDomNode:null,isValid:!1,connection:JE,endHandle:null});function sy(l,b,g,v,L,S,y){const f=L==="target",o=y.querySelector(`.react-flow__handle[data-id="${l?.nodeId}-${l?.id}-${l?.type}"]`),h={...ry(),handleDomNode:o};if(o){const r=Yd(void 0,o),n=o.getAttribute("data-nodeid"),i=o.getAttribute("data-handleid"),s=o.classList.contains("connectable"),c=o.classList.contains("connectableend"),u={source:f?n:g,sourceHandle:f?i:v,target:f?g:n,targetHandle:f?v:i};h.connection=u,s&&c&&(b===fs.Strict?f&&r==="source"||!f&&r==="target":n!==g||i!==v)&&(h.endHandle={nodeId:n,handleId:i,type:r},h.isValid=S(u))}return h}function eA({nodes:l,nodeId:b,handleId:g,handleType:v}){return l.reduce((L,S)=>{if(S[At]){const{handleBounds:y}=S[At];let f=[],o=[];y&&(f=Pv(S,y,"source",`${b}-${g}-${v}`),o=Pv(S,y,"target",`${b}-${g}-${v}`)),L.push(...f,...o)}return L},[])}function Yd(l,b){return l||(b?.classList.contains("target")?"target":b?.classList.contains("source")?"source":null)}function ld(l){l?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tA(l,b){let g=null;return b?g="valid":l&&!b&&(g="invalid"),g}function oy({event:l,handleId:b,nodeId:g,onConnect:v,isTarget:L,getState:S,setState:y,isValidConnection:f,edgeUpdaterType:o,onReconnectEnd:h}){const r=K0(l.target),{connectionMode:n,domNode:i,autoPanOnConnect:s,connectionRadius:c,onConnectStart:u,panBy:a,getNodes:d,cancelConnection:m}=S();let x=0,C;const{x:w,y:_}=jr(l),k=r?.elementFromPoint(w,_),A=Yd(o,k),T=i?.getBoundingClientRect();if(!T||!A)return;let j,F=jr(l,T),$=!1,D=null,M=!1,R=null;const O=eA({nodes:d(),nodeId:g,handleId:b,handleType:A}),z=()=>{if(!s)return;const[U,W]=G0(F,T);a({x:U,y:W}),x=requestAnimationFrame(z)};y({connectionPosition:F,connectionStatus:null,connectionNodeId:g,connectionHandleId:b,connectionHandleType:A,connectionStartHandle:{nodeId:g,handleId:b,type:A},connectionEndHandle:null}),u?.(l,{nodeId:g,handleId:b,handleType:A});function B(U){const{transform:W}=S();F=jr(U,T);const{handle:K,validHandleResult:Y}=QE(U,r,kd(F,W,!1,[1,1]),c,O,X=>sy(X,n,g,b,L?"target":"source",f,r));if(C=K,$||(z(),$=!0),R=Y.handleDomNode,D=Y.connection,M=Y.isValid,y({connectionPosition:C&&M?ey({x:C.x,y:C.y},W):F,connectionStatus:tA(!!C,M),connectionEndHandle:Y.endHandle}),!C&&!M&&!R)return ld(j);D.source!==D.target&&R&&(ld(j),j=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",M),R.classList.toggle("react-flow__handle-valid",M))}function P(U){(C||R)&&D&&M&&v?.(D),S().onConnectEnd?.(U),o&&h?.(U),ld(j),m(),cancelAnimationFrame(x),$=!1,M=!1,D=null,R=null,r.removeEventListener("mousemove",B),r.removeEventListener("mouseup",P),r.removeEventListener("touchmove",B),r.removeEventListener("touchend",P)}r.addEventListener("mousemove",B),r.addEventListener("mouseup",P),r.addEventListener("touchmove",B),r.addEventListener("touchend",P)}const Wv=()=>!0,nA=l=>({connectionStartHandle:l.connectionStartHandle,connectOnClick:l.connectOnClick,noPanClassName:l.noPanClassName}),iA=(l,b,g)=>v=>{const{connectionStartHandle:L,connectionEndHandle:S,connectionClickStartHandle:y}=v;return{connecting:L?.nodeId===l&&L?.handleId===b&&L?.type===g||S?.nodeId===l&&S?.handleId===b&&S?.type===g,clickConnecting:y?.nodeId===l&&y?.handleId===b&&y?.type===g}},ay=te.forwardRef(({type:l="source",position:b=Le.Top,isValidConnection:g,isConnectable:v=!0,isConnectableStart:L=!0,isConnectableEnd:S=!0,id:y,onConnect:f,children:o,className:h,onMouseDown:r,onTouchStart:n,...i},s)=>{const c=y||null,u=l==="target",a=sn(),d=YE(),{connectOnClick:m,noPanClassName:x}=kt(nA,xn),{connecting:C,clickConnecting:w}=kt(iA(d,c,l),xn);d||a.getState().onError?.("010",er.error010());const _=T=>{const{defaultEdgeOptions:j,onConnect:F,hasDefaultEdges:$}=a.getState(),D={...j,...T};if($){const{edges:M,setEdges:R}=a.getState();R(J0(D,M))}F?.(D),f?.(D)},k=T=>{if(!d)return;const j=X0(T);L&&(j&&T.button===0||!j)&&oy({event:T,handleId:c,nodeId:d,onConnect:_,isTarget:u,getState:a.getState,setState:a.setState,isValidConnection:g||a.getState().isValidConnection||Wv}),j?r?.(T):n?.(T)},A=T=>{const{onClickConnectStart:j,onClickConnectEnd:F,connectionClickStartHandle:$,connectionMode:D,isValidConnection:M}=a.getState();if(!d||!$&&!L)return;if(!$){j?.(T,{nodeId:d,handleId:c,handleType:l}),a.setState({connectionClickStartHandle:{nodeId:d,type:l,handleId:c}});return}const R=K0(T.target),O=g||M||Wv,{connection:z,isValid:B}=sy({nodeId:d,id:c,type:l},D,$.nodeId,$.handleId||null,$.type,O,R);B&&_(z),F?.(T),a.setState({connectionClickStartHandle:null})};return _e.createElement("div",{"data-handleid":c,"data-nodeid":d,"data-handlepos":b,"data-id":`${d}-${c}-${l}`,className:Qn(["react-flow__handle",`react-flow__handle-${b}`,"nodrag",x,h,{source:!u,target:u,connectable:v,connectablestart:L,connectableend:S,connecting:w,connectionindicator:v&&(L&&!C||S&&C)}]),onMouseDown:k,onTouchStart:k,onClick:m?A:void 0,ref:s,...i},o)});ay.displayName="Handle";var Eo=te.memo(ay);const ly=({data:l,isConnectable:b,targetPosition:g=Le.Top,sourcePosition:v=Le.Bottom})=>_e.createElement(_e.Fragment,null,_e.createElement(Eo,{type:"target",position:g,isConnectable:b}),l?.label,_e.createElement(Eo,{type:"source",position:v,isConnectable:b}));ly.displayName="DefaultNode";var Td=te.memo(ly);const cy=({data:l,isConnectable:b,sourcePosition:g=Le.Bottom})=>_e.createElement(_e.Fragment,null,l?.label,_e.createElement(Eo,{type:"source",position:g,isConnectable:b}));cy.displayName="InputNode";var uy=te.memo(cy);const hy=({data:l,isConnectable:b,targetPosition:g=Le.Top})=>_e.createElement(_e.Fragment,null,_e.createElement(Eo,{type:"target",position:g,isConnectable:b}),l?.label);hy.displayName="OutputNode";var dy=te.memo(hy);const Xd=()=>null;Xd.displayName="GroupNode";const rA=l=>({selectedNodes:l.getNodes().filter(b=>b.selected),selectedEdges:l.edges.filter(b=>b.selected).map(b=>({...b}))}),ic=l=>l.id;function sA(l,b){return xn(l.selectedNodes.map(ic),b.selectedNodes.map(ic))&&xn(l.selectedEdges.map(ic),b.selectedEdges.map(ic))}const fy=te.memo(({onSelectionChange:l})=>{const b=sn(),{selectedNodes:g,selectedEdges:v}=kt(rA,sA);return te.useEffect(()=>{const L={nodes:g,edges:v};l?.(L),b.getState().onSelectionChange.forEach(S=>S(L))},[g,v,l]),null});fy.displayName="SelectionListener";const oA=l=>!!l.onSelectionChange;function aA({onSelectionChange:l}){const b=kt(oA);return l||b?_e.createElement(fy,{onSelectionChange:l}):null}const lA=l=>({setNodes:l.setNodes,setEdges:l.setEdges,setDefaultNodesAndEdges:l.setDefaultNodesAndEdges,setMinZoom:l.setMinZoom,setMaxZoom:l.setMaxZoom,setTranslateExtent:l.setTranslateExtent,setNodeExtent:l.setNodeExtent,reset:l.reset});function ho(l,b){te.useEffect(()=>{typeof l<"u"&&b(l)},[l])}function We(l,b,g){te.useEffect(()=>{typeof b<"u"&&g({[l]:b})},[b])}const cA=({nodes:l,edges:b,defaultNodes:g,defaultEdges:v,onConnect:L,onConnectStart:S,onConnectEnd:y,onClickConnectStart:f,onClickConnectEnd:o,nodesDraggable:h,nodesConnectable:r,nodesFocusable:n,edgesFocusable:i,edgesUpdatable:s,elevateNodesOnSelect:c,minZoom:u,maxZoom:a,nodeExtent:d,onNodesChange:m,onEdgesChange:x,elementsSelectable:C,connectionMode:w,snapGrid:_,snapToGrid:k,translateExtent:A,connectOnClick:T,defaultEdgeOptions:j,fitView:F,fitViewOptions:$,onNodesDelete:D,onEdgesDelete:M,onNodeDrag:R,onNodeDragStart:O,onNodeDragStop:z,onSelectionDrag:B,onSelectionDragStart:P,onSelectionDragStop:U,noPanClassName:W,nodeOrigin:K,rfId:Y,autoPanOnConnect:X,autoPanOnNodeDrag:q,onError:J,connectionRadius:V,isValidConnection:Q,nodeDragThreshold:ne})=>{const{setNodes:ie,setEdges:me,setDefaultNodesAndEdges:pe,setMinZoom:Se,setMaxZoom:ke,setTranslateExtent:Ae,setNodeExtent:Ue,reset:we}=kt(lA,xn),Ce=sn();return te.useEffect(()=>{const at=v?.map(Dt=>({...Dt,...j}));return pe(g,at),()=>{we()}},[]),We("defaultEdgeOptions",j,Ce.setState),We("connectionMode",w,Ce.setState),We("onConnect",L,Ce.setState),We("onConnectStart",S,Ce.setState),We("onConnectEnd",y,Ce.setState),We("onClickConnectStart",f,Ce.setState),We("onClickConnectEnd",o,Ce.setState),We("nodesDraggable",h,Ce.setState),We("nodesConnectable",r,Ce.setState),We("nodesFocusable",n,Ce.setState),We("edgesFocusable",i,Ce.setState),We("edgesUpdatable",s,Ce.setState),We("elementsSelectable",C,Ce.setState),We("elevateNodesOnSelect",c,Ce.setState),We("snapToGrid",k,Ce.setState),We("snapGrid",_,Ce.setState),We("onNodesChange",m,Ce.setState),We("onEdgesChange",x,Ce.setState),We("connectOnClick",T,Ce.setState),We("fitViewOnInit",F,Ce.setState),We("fitViewOnInitOptions",$,Ce.setState),We("onNodesDelete",D,Ce.setState),We("onEdgesDelete",M,Ce.setState),We("onNodeDrag",R,Ce.setState),We("onNodeDragStart",O,Ce.setState),We("onNodeDragStop",z,Ce.setState),We("onSelectionDrag",B,Ce.setState),We("onSelectionDragStart",P,Ce.setState),We("onSelectionDragStop",U,Ce.setState),We("noPanClassName",W,Ce.setState),We("nodeOrigin",K,Ce.setState),We("rfId",Y,Ce.setState),We("autoPanOnConnect",X,Ce.setState),We("autoPanOnNodeDrag",q,Ce.setState),We("onError",J,Ce.setState),We("connectionRadius",V,Ce.setState),We("isValidConnection",Q,Ce.setState),We("nodeDragThreshold",ne,Ce.setState),ho(l,ie),ho(b,me),ho(u,Se),ho(a,ke),ho(A,Ae),ho(d,Ue),null},Uv={display:"none"},uA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},py="react-flow__node-desc",gy="react-flow__edge-desc",hA="react-flow__aria-live",dA=l=>l.ariaLiveMessage;function fA({rfId:l}){const b=kt(dA);return _e.createElement("div",{id:`${hA}-${l}`,"aria-live":"assertive","aria-atomic":"true",style:uA},b)}function pA({rfId:l,disableKeyboardA11y:b}){return _e.createElement(_e.Fragment,null,_e.createElement("div",{id:`${py}-${l}`,style:Uv},"Press enter or space to select a node.",!b&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),_e.createElement("div",{id:`${gy}-${l}`,style:Uv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!b&&_e.createElement(fA,{rfId:l}))}var Ia=(l=null,b={actInsideInputWithModifier:!0})=>{const[g,v]=te.useState(!1),L=te.useRef(!1),S=te.useRef(new Set([])),[y,f]=te.useMemo(()=>{if(l!==null){const h=(Array.isArray(l)?l:[l]).filter(n=>typeof n=="string").map(n=>n.split("+")),r=h.reduce((n,i)=>n.concat(...i),[]);return[h,r]}return[[],[]]},[l]);return te.useEffect(()=>{const o=typeof document<"u"?document:null,h=b?.target||o;if(l!==null){const r=s=>{if(L.current=s.ctrlKey||s.metaKey||s.shiftKey,(!L.current||L.current&&!b.actInsideInputWithModifier)&&Cd(s))return!1;const u=Gv(s.code,f);S.current.add(s[u]),Vv(y,S.current,!1)&&(s.preventDefault(),v(!0))},n=s=>{if((!L.current||L.current&&!b.actInsideInputWithModifier)&&Cd(s))return!1;const u=Gv(s.code,f);Vv(y,S.current,!0)?(v(!1),S.current.clear()):S.current.delete(s[u]),s.key==="Meta"&&S.current.clear(),L.current=!1},i=()=>{S.current.clear(),v(!1)};return h?.addEventListener("keydown",r),h?.addEventListener("keyup",n),window.addEventListener("blur",i),()=>{h?.removeEventListener("keydown",r),h?.removeEventListener("keyup",n),window.removeEventListener("blur",i)}}},[l,v]),g};function Vv(l,b,g){return l.filter(v=>g||v.length===b.size).some(v=>v.every(L=>b.has(L)))}function Gv(l,b){return b.includes(l)?"code":"key"}function my(l,b,g,v){const L=l.parentNode||l.parentId;if(!L)return g;const S=b.get(L),y=_o(S,v);return my(S,b,{x:(g.x??0)+y.x,y:(g.y??0)+y.y,z:(S[At]?.z??0)>(g.z??0)?S[At]?.z??0:g.z??0},v)}function vy(l,b,g){l.forEach(v=>{const L=v.parentNode||v.parentId;if(L&&!l.has(L))throw new Error(`Parent node ${L} not found`);if(L||g?.[v.id]){const{x:S,y,z:f}=my(v,l,{...v.position,z:v[At]?.z??0},b);v.positionAbsolute={x:S,y},v[At].z=f,g?.[v.id]&&(v[At].isParent=!0)}})}function cd(l,b,g,v){const L=new Map,S={},y=v?1e3:0;return l.forEach(f=>{const o=(Zn(f.zIndex)?f.zIndex:0)+(f.selected?y:0),h=b.get(f.id),r={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},n=f.parentNode||f.parentId;n&&(S[n]=!0);const i=h?.type&&h?.type!==f.type;Object.defineProperty(r,At,{enumerable:!1,value:{handleBounds:i?void 0:h?.[At]?.handleBounds,z:o}}),L.set(f.id,r)}),vy(L,g,S),L}function yy(l,b={}){const{getNodes:g,width:v,height:L,minZoom:S,maxZoom:y,d3Zoom:f,d3Selection:o,fitViewOnInitDone:h,fitViewOnInit:r,nodeOrigin:n}=l(),i=b.initial&&!h&&r;if(f&&o&&(i||!b.initial)){const c=g().filter(a=>{const d=b.includeHiddenNodes?a.width&&a.height:!a.hidden;return b.nodes?.length?d&&b.nodes.some(m=>m.id===a.id):d}),u=c.every(a=>a.width&&a.height);if(c.length>0&&u){const a=Kd(c,n),{x:d,y:m,zoom:x}=iy(a,v,L,b.minZoom??S,b.maxZoom??y,b.padding??.1),C=Or.translate(d,m).scale(x);return typeof b.duration=="number"&&b.duration>0?f.transform(os(o,b.duration),C):f.transform(o,C),!0}}return!1}function gA(l,b){return l.forEach(g=>{const v=b.get(g.id);v&&b.set(v.id,{...v,[At]:v[At],selected:g.selected})}),new Map(b)}function mA(l,b){return b.map(g=>{const v=l.find(L=>L.id===g.id);return v&&(g.selected=v.selected),g})}function rc({changedNodes:l,changedEdges:b,get:g,set:v}){const{nodeInternals:L,edges:S,onNodesChange:y,onEdgesChange:f,hasDefaultNodes:o,hasDefaultEdges:h}=g();l?.length&&(o&&v({nodeInternals:gA(l,L)}),y?.(l)),b?.length&&(h&&v({edges:mA(b,S)}),f?.(b))}const fo=()=>{},vA={zoomIn:fo,zoomOut:fo,zoomTo:fo,getZoom:()=>1,setViewport:fo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:fo,fitBounds:fo,project:l=>l,screenToFlowPosition:l=>l,flowToScreenPosition:l=>l,viewportInitialized:!1},yA=l=>({d3Zoom:l.d3Zoom,d3Selection:l.d3Selection}),bA=()=>{const l=sn(),{d3Zoom:b,d3Selection:g}=kt(yA,xn);return te.useMemo(()=>g&&b?{zoomIn:L=>b.scaleBy(os(g,L?.duration),1.2),zoomOut:L=>b.scaleBy(os(g,L?.duration),1/1.2),zoomTo:(L,S)=>b.scaleTo(os(g,S?.duration),L),getZoom:()=>l.getState().transform[2],setViewport:(L,S)=>{const[y,f,o]=l.getState().transform,h=Or.translate(L.x??y,L.y??f).scale(L.zoom??o);b.transform(os(g,S?.duration),h)},getViewport:()=>{const[L,S,y]=l.getState().transform;return{x:L,y:S,zoom:y}},fitView:L=>yy(l.getState,L),setCenter:(L,S,y)=>{const{width:f,height:o,maxZoom:h}=l.getState(),r=typeof y?.zoom<"u"?y.zoom:h,n=f/2-L*r,i=o/2-S*r,s=Or.translate(n,i).scale(r);b.transform(os(g,y?.duration),s)},fitBounds:(L,S)=>{const{width:y,height:f,minZoom:o,maxZoom:h}=l.getState(),{x:r,y:n,zoom:i}=iy(L,y,f,o,h,S?.padding??.1),s=Or.translate(r,n).scale(i);b.transform(os(g,S?.duration),s)},project:L=>{const{transform:S,snapToGrid:y,snapGrid:f}=l.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),kd(L,S,y,f)},screenToFlowPosition:L=>{const{transform:S,snapToGrid:y,snapGrid:f,domNode:o}=l.getState();if(!o)return L;const{x:h,y:r}=o.getBoundingClientRect(),n={x:L.x-h,y:L.y-r};return kd(n,S,y,f)},flowToScreenPosition:L=>{const{transform:S,domNode:y}=l.getState();if(!y)return L;const{x:f,y:o}=y.getBoundingClientRect(),h=ey(L,S);return{x:h.x+f,y:h.y+o}},viewportInitialized:!0}:vA,[b,g])};function by(){const l=bA(),b=sn(),g=te.useCallback(()=>b.getState().getNodes().map(u=>({...u})),[]),v=te.useCallback(u=>b.getState().nodeInternals.get(u),[]),L=te.useCallback(()=>{const{edges:u=[]}=b.getState();return u.map(a=>({...a}))},[]),S=te.useCallback(u=>{const{edges:a=[]}=b.getState();return a.find(d=>d.id===u)},[]),y=te.useCallback(u=>{const{getNodes:a,setNodes:d,hasDefaultNodes:m,onNodesChange:x}=b.getState(),C=a(),w=typeof u=="function"?u(C):u;if(m)d(w);else if(x){const _=w.length===0?C.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));x(_)}},[]),f=te.useCallback(u=>{const{edges:a=[],setEdges:d,hasDefaultEdges:m,onEdgesChange:x}=b.getState(),C=typeof u=="function"?u(a):u;if(m)d(C);else if(x){const w=C.length===0?a.map(_=>({type:"remove",id:_.id})):C.map(_=>({item:_,type:"reset"}));x(w)}},[]),o=te.useCallback(u=>{const a=Array.isArray(u)?u:[u],{getNodes:d,setNodes:m,hasDefaultNodes:x,onNodesChange:C}=b.getState();if(x){const _=[...d(),...a];m(_)}else if(C){const w=a.map(_=>({item:_,type:"add"}));C(w)}},[]),h=te.useCallback(u=>{const a=Array.isArray(u)?u:[u],{edges:d=[],setEdges:m,hasDefaultEdges:x,onEdgesChange:C}=b.getState();if(x)m([...d,...a]);else if(C){const w=a.map(_=>({item:_,type:"add"}));C(w)}},[]),r=te.useCallback(()=>{const{getNodes:u,edges:a=[],transform:d}=b.getState(),[m,x,C]=d;return{nodes:u().map(w=>({...w})),edges:a.map(w=>({...w})),viewport:{x:m,y:x,zoom:C}}},[]),n=te.useCallback(({nodes:u,edges:a})=>{const{nodeInternals:d,getNodes:m,edges:x,hasDefaultNodes:C,hasDefaultEdges:w,onNodesDelete:_,onEdgesDelete:k,onNodesChange:A,onEdgesChange:T}=b.getState(),j=(u||[]).map(R=>R.id),F=(a||[]).map(R=>R.id),$=m().reduce((R,O)=>{const z=O.parentNode||O.parentId,B=!j.includes(O.id)&&z&&R.find(U=>U.id===z);return(typeof O.deletable!="boolean"||O.deletable)&&(j.includes(O.id)||B)&&R.push(O),R},[]),D=x.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),M=D.filter(R=>F.includes(R.id));if($||M){const R=ny($,D),O=[...M,...R],z=O.reduce((B,P)=>(B.includes(P.id)||B.push(P.id),B),[]);if((w||C)&&(w&&b.setState({edges:x.filter(B=>!z.includes(B.id))}),C&&($.forEach(B=>{d.delete(B.id)}),b.setState({nodeInternals:new Map(d)}))),z.length>0&&(k?.(O),T&&T(z.map(B=>({id:B,type:"remove"})))),$.length>0&&(_?.($),A)){const B=$.map(P=>({id:P.id,type:"remove"}));A(B)}}},[]),i=te.useCallback(u=>{const a=zE(u),d=a?null:b.getState().nodeInternals.get(u.id);return!a&&!d?[null,null,a]:[a?u:Iv(d),d,a]},[]),s=te.useCallback((u,a=!0,d)=>{const[m,x,C]=i(u);return m?(d||b.getState().getNodes()).filter(w=>{if(!C&&(w.id===x.id||!w.positionAbsolute))return!1;const _=Iv(w),k=Sd(_,m);return a&&k>0||k>=m.width*m.height}):[]},[]),c=te.useCallback((u,a,d=!0)=>{const[m]=i(u);if(!m)return!1;const x=Sd(m,a);return d&&x>0||x>=m.width*m.height},[]);return te.useMemo(()=>({...l,getNodes:g,getNode:v,getEdges:L,getEdge:S,setNodes:y,setEdges:f,addNodes:o,addEdges:h,toObject:r,deleteElements:n,getIntersectingNodes:s,isNodeIntersecting:c}),[l,g,v,L,S,y,f,o,h,r,n,s,c])}const _A={actInsideInputWithModifier:!1};var xA=({deleteKeyCode:l,multiSelectionKeyCode:b})=>{const g=sn(),{deleteElements:v}=by(),L=Ia(l,_A),S=Ia(b);te.useEffect(()=>{if(L){const{edges:y,getNodes:f}=g.getState(),o=f().filter(r=>r.selected),h=y.filter(r=>r.selected);v({nodes:o,edges:h}),g.setState({nodesSelectionActive:!1})}},[L]),te.useEffect(()=>{g.setState({multiSelectionActive:S})},[S])};function wA(l){const b=sn();te.useEffect(()=>{let g;const v=()=>{if(!l.current)return;const L=Hd(l.current);(L.height===0||L.width===0)&&b.getState().onError?.("004",er.error004()),b.setState({width:L.width||500,height:L.height||500})};return v(),window.addEventListener("resize",v),l.current&&(g=new ResizeObserver(()=>v()),g.observe(l.current)),()=>{window.removeEventListener("resize",v),g&&l.current&&g.unobserve(l.current)}},[])}const qd={position:"absolute",width:"100%",height:"100%",top:0,left:0},SA=(l,b)=>l.x!==b.x||l.y!==b.y||l.zoom!==b.k,sc=l=>({x:l.x,y:l.y,zoom:l.k}),po=(l,b)=>l.target.closest(`.${b}`),Kv=(l,b)=>b===2&&Array.isArray(l)&&l.includes(2),Yv=l=>{const b=l.ctrlKey&&bc()?10:1;return-l.deltaY*(l.deltaMode===1?.05:l.deltaMode?1:.002)*b},CA=l=>({d3Zoom:l.d3Zoom,d3Selection:l.d3Selection,d3ZoomHandler:l.d3ZoomHandler,userSelectionActive:l.userSelectionActive}),EA=({onMove:l,onMoveStart:b,onMoveEnd:g,onPaneContextMenu:v,zoomOnScroll:L=!0,zoomOnPinch:S=!0,panOnScroll:y=!1,panOnScrollSpeed:f=.5,panOnScrollMode:o=cs.Free,zoomOnDoubleClick:h=!0,elementsSelectable:r,panOnDrag:n=!0,defaultViewport:i,translateExtent:s,minZoom:c,maxZoom:u,zoomActivationKeyCode:a,preventScrolling:d=!0,children:m,noWheelClassName:x,noPanClassName:C})=>{const w=te.useRef(),_=sn(),k=te.useRef(!1),A=te.useRef(!1),T=te.useRef(null),j=te.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:$,d3ZoomHandler:D,userSelectionActive:M}=kt(CA,xn),R=Ia(a),O=te.useRef(0),z=te.useRef(!1),B=te.useRef();return wA(T),te.useEffect(()=>{if(T.current){const P=T.current.getBoundingClientRect(),U=LE().scaleExtent([c,u]).translateExtent(s),W=gi(T.current).call(U),K=Or.translate(i.x,i.y).scale(Co(i.zoom,c,u)),Y=[[0,0],[P.width,P.height]],X=U.constrain()(K,Y,s);U.transform(W,X),U.wheelDelta(Yv),_.setState({d3Zoom:U,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:T.current.closest(".react-flow")})}},[]),te.useEffect(()=>{$&&F&&(y&&!R&&!M?$.on("wheel.zoom",P=>{if(po(P,x))return!1;P.preventDefault(),P.stopImmediatePropagation();const U=$.property("__zoom").k||1;if(P.ctrlKey&&S){const Q=Ei(P),ne=Yv(P),ie=U*Math.pow(2,ne);F.scaleTo($,ie,Q,P);return}const W=P.deltaMode===1?20:1;let K=o===cs.Vertical?0:P.deltaX*W,Y=o===cs.Horizontal?0:P.deltaY*W;!bc()&&P.shiftKey&&o!==cs.Vertical&&(K=P.deltaY*W,Y=0),F.translateBy($,-(K/U)*f,-(Y/U)*f,{internal:!0});const X=sc($.property("__zoom")),{onViewportChangeStart:q,onViewportChange:J,onViewportChangeEnd:V}=_.getState();clearTimeout(B.current),z.current||(z.current=!0,b?.(P,X),q?.(X)),z.current&&(l?.(P,X),J?.(X),B.current=setTimeout(()=>{g?.(P,X),V?.(X),z.current=!1},150))},{passive:!1}):typeof D<"u"&&$.on("wheel.zoom",function(P,U){if(!d&&P.type==="wheel"&&!P.ctrlKey||po(P,x))return null;P.preventDefault(),D.call(this,P,U)},{passive:!1}))},[M,y,o,$,F,D,R,S,d,x,b,l,g]),te.useEffect(()=>{F&&F.on("start",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;O.current=P.sourceEvent?.button;const{onViewportChangeStart:U}=_.getState(),W=sc(P.transform);k.current=!0,j.current=W,P.sourceEvent?.type==="mousedown"&&_.setState({paneDragging:!0}),U?.(W),b?.(P.sourceEvent,W)})},[F,b]),te.useEffect(()=>{F&&(M&&!k.current?F.on("zoom",null):M||F.on("zoom",P=>{const{onViewportChange:U}=_.getState();if(_.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),A.current=!!(v&&Kv(n,O.current??0)),(l||U)&&!P.sourceEvent?.internal){const W=sc(P.transform);U?.(W),l?.(P.sourceEvent,W)}}))},[M,F,l,n,v]),te.useEffect(()=>{F&&F.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:U}=_.getState();if(k.current=!1,_.setState({paneDragging:!1}),v&&Kv(n,O.current??0)&&!A.current&&v(P.sourceEvent),A.current=!1,(g||U)&&SA(j.current,P.transform)){const W=sc(P.transform);j.current=W,clearTimeout(w.current),w.current=setTimeout(()=>{U?.(W),g?.(P.sourceEvent,W)},y?150:0)}})},[F,y,n,g,v]),te.useEffect(()=>{F&&F.filter(P=>{const U=R||L,W=S&&P.ctrlKey;if((n===!0||Array.isArray(n)&&n.includes(1))&&P.button===1&&P.type==="mousedown"&&(po(P,"react-flow__node")||po(P,"react-flow__edge")))return!0;if(!n&&!U&&!y&&!h&&!S||M||!h&&P.type==="dblclick"||po(P,x)&&P.type==="wheel"||po(P,C)&&(P.type!=="wheel"||y&&P.type==="wheel"&&!R)||!S&&P.ctrlKey&&P.type==="wheel"||!U&&!y&&!W&&P.type==="wheel"||!n&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(n)&&!n.includes(P.button)&&P.type==="mousedown")return!1;const K=Array.isArray(n)&&n.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&K})},[M,F,L,S,y,h,n,r,R]),_e.createElement("div",{className:"react-flow__renderer",ref:T,style:qd},m)},AA=l=>({userSelectionActive:l.userSelectionActive,userSelectionRect:l.userSelectionRect});function kA(){const{userSelectionActive:l,userSelectionRect:b}=kt(AA,xn);return l&&b?_e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:b.width,height:b.height,transform:`translate(${b.x}px, ${b.y}px)`}}):null}function Xv(l,b){const g=b.parentNode||b.parentId,v=l.find(L=>L.id===g);if(v){const L=b.position.x+b.width-v.width,S=b.position.y+b.height-v.height;if(L>0||S>0||b.position.x<0||b.position.y<0){if(v.style={...v.style},v.style.width=v.style.width??v.width,v.style.height=v.style.height??v.height,L>0&&(v.style.width+=L),S>0&&(v.style.height+=S),b.position.x<0){const y=Math.abs(b.position.x);v.position.x=v.position.x-y,v.style.width+=y,b.position.x=0}if(b.position.y<0){const y=Math.abs(b.position.y);v.position.y=v.position.y-y,v.style.height+=y,b.position.y=0}v.width=v.style.width,v.height=v.style.height}}}function _y(l,b){if(l.some(v=>v.type==="reset"))return l.filter(v=>v.type==="reset").map(v=>v.item);const g=l.filter(v=>v.type==="add").map(v=>v.item);return b.reduce((v,L)=>{const S=l.filter(f=>f.id===L.id);if(S.length===0)return v.push(L),v;const y={...L};for(const f of S)if(f)switch(f.type){case"select":{y.selected=f.selected;break}case"position":{typeof f.position<"u"&&(y.position=f.position),typeof f.positionAbsolute<"u"&&(y.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(y.dragging=f.dragging),y.expandParent&&Xv(v,y);break}case"dimensions":{typeof f.dimensions<"u"&&(y.width=f.dimensions.width,y.height=f.dimensions.height),typeof f.updateStyle<"u"&&(y.style={...y.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(y.resizing=f.resizing),y.expandParent&&Xv(v,y);break}case"remove":return v}return v.push(y),v},g)}function xy(l,b){return _y(l,b)}function TA(l,b){return _y(l,b)}const $r=(l,b)=>({id:l,type:"select",selected:b});function mo(l,b){return l.reduce((g,v)=>{const L=b.includes(v.id);return!v.selected&&L?(v.selected=!0,g.push($r(v.id,!0))):v.selected&&!L&&(v.selected=!1,g.push($r(v.id,!1))),g},[])}const ud=(l,b)=>g=>{g.target===b.current&&l?.(g)},MA=l=>({userSelectionActive:l.userSelectionActive,elementsSelectable:l.elementsSelectable,dragging:l.paneDragging}),wy=te.memo(({isSelecting:l,selectionMode:b=ja.Full,panOnDrag:g,onSelectionStart:v,onSelectionEnd:L,onPaneClick:S,onPaneContextMenu:y,onPaneScroll:f,onPaneMouseEnter:o,onPaneMouseMove:h,onPaneMouseLeave:r,children:n})=>{const i=te.useRef(null),s=sn(),c=te.useRef(0),u=te.useRef(0),a=te.useRef(),{userSelectionActive:d,elementsSelectable:m,dragging:x}=kt(MA,xn),C=()=>{s.setState({userSelectionActive:!1,userSelectionRect:null}),c.current=0,u.current=0},w=D=>{S?.(D),s.getState().resetSelectedElements(),s.setState({nodesSelectionActive:!1})},_=D=>{if(Array.isArray(g)&&g?.includes(2)){D.preventDefault();return}y?.(D)},k=f?D=>f(D):void 0,A=D=>{const{resetSelectedElements:M,domNode:R}=s.getState();if(a.current=R?.getBoundingClientRect(),!m||!l||D.button!==0||D.target!==i.current||!a.current)return;const{x:O,y:z}=jr(D,a.current);M(),s.setState({userSelectionRect:{width:0,height:0,startX:O,startY:z,x:O,y:z}}),v?.(D)},T=D=>{const{userSelectionRect:M,nodeInternals:R,edges:O,transform:z,onNodesChange:B,onEdgesChange:P,nodeOrigin:U,getNodes:W}=s.getState();if(!l||!a.current||!M)return;s.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=jr(D,a.current),Y=M.startX??0,X=M.startY??0,q={...M,x:K.x<Y?K.x:Y,y:K.y<X?K.y:X,width:Math.abs(K.x-Y),height:Math.abs(K.y-X)},J=W(),V=ty(R,q,z,b===ja.Partial,!0,U),Q=ny(V,O).map(ie=>ie.id),ne=V.map(ie=>ie.id);if(c.current!==ne.length){c.current=ne.length;const ie=mo(J,ne);ie.length&&B?.(ie)}if(u.current!==Q.length){u.current=Q.length;const ie=mo(O,Q);ie.length&&P?.(ie)}s.setState({userSelectionRect:q})},j=D=>{if(D.button!==0)return;const{userSelectionRect:M}=s.getState();!d&&M&&D.target===i.current&&w?.(D),s.setState({nodesSelectionActive:c.current>0}),C(),L?.(D)},F=D=>{d&&(s.setState({nodesSelectionActive:c.current>0}),L?.(D)),C()},$=m&&(l||d);return _e.createElement("div",{className:Qn(["react-flow__pane",{dragging:x,selection:l}]),onClick:$?void 0:ud(w,i),onContextMenu:ud(_,i),onWheel:ud(k,i),onMouseEnter:$?void 0:o,onMouseDown:$?A:void 0,onMouseMove:$?T:h,onMouseUp:$?j:void 0,onMouseLeave:$?F:r,ref:i,style:qd},n,_e.createElement(kA,null))});wy.displayName="Pane";function Sy(l,b){const g=l.parentNode||l.parentId;if(!g)return!1;const v=b.get(g);return v?v.selected?!0:Sy(v,b):!1}function qv(l,b,g){let v=l;do{if(v?.matches(b))return!0;if(v===g.current)return!1;v=v.parentElement}while(v);return!1}function LA(l,b,g,v){return Array.from(l.values()).filter(L=>(L.selected||L.id===v)&&(!L.parentNode||L.parentId||!Sy(L,l))&&(L.draggable||b&&typeof L.draggable>"u")).map(L=>({id:L.id,position:L.position||{x:0,y:0},positionAbsolute:L.positionAbsolute||{x:0,y:0},distance:{x:g.x-(L.positionAbsolute?.x??0),y:g.y-(L.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:L.extent,parentNode:L.parentNode||L.parentId,parentId:L.parentNode||L.parentId,width:L.width,height:L.height,expandParent:L.expandParent}))}function RA(l,b){return!b||b==="parent"?b:[b[0],[b[1][0]-(l.width||0),b[1][1]-(l.height||0)]]}function Cy(l,b,g,v,L=[0,0],S){const y=RA(l,l.extent||v);let f=y;const o=l.parentNode||l.parentId;if(l.extent==="parent"&&!l.expandParent)if(o&&l.width&&l.height){const n=g.get(o),{x:i,y:s}=_o(n,L).positionAbsolute;f=n&&Zn(i)&&Zn(s)&&Zn(n.width)&&Zn(n.height)?[[i+l.width*L[0],s+l.height*L[1]],[i+n.width-l.width+l.width*L[0],s+n.height-l.height+l.height*L[1]]]:f}else S?.("005",er.error005()),f=y;else if(l.extent&&o&&l.extent!=="parent"){const n=g.get(o),{x:i,y:s}=_o(n,L).positionAbsolute;f=[[l.extent[0][0]+i,l.extent[0][1]+s],[l.extent[1][0]+i,l.extent[1][1]+s]]}let h={x:0,y:0};if(o){const n=g.get(o);h=_o(n,L).positionAbsolute}const r=f&&f!=="parent"?zd(b,f):b;return{position:{x:r.x-h.x,y:r.y-h.y},positionAbsolute:r}}function hd({nodeId:l,dragItems:b,nodeInternals:g}){const v=b.map(L=>({...g.get(L.id),position:L.position,positionAbsolute:L.positionAbsolute}));return[l?v.find(L=>L.id===l):v[0],v]}const Zv=(l,b,g,v)=>{const L=b.querySelectorAll(l);if(!L||!L.length)return null;const S=Array.from(L),y=b.getBoundingClientRect(),f={x:y.width*v[0],y:y.height*v[1]};return S.map(o=>{const h=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),position:o.getAttribute("data-handlepos"),x:(h.left-y.left-f.x)/g,y:(h.top-y.top-f.y)/g,...Hd(o)}})};function Ea(l,b,g){return g===void 0?g:v=>{const L=b().nodeInternals.get(l);L&&g(v,{...L})}}function Md({id:l,store:b,unselect:g=!1,nodeRef:v}){const{addSelectedNodes:L,unselectNodesAndEdges:S,multiSelectionActive:y,nodeInternals:f,onError:o}=b.getState(),h=f.get(l);if(!h){o?.("012",er.error012(l));return}b.setState({nodesSelectionActive:!1}),h.selected?(g||h.selected&&y)&&(S({nodes:[h],edges:[]}),requestAnimationFrame(()=>v?.current?.blur())):L([l])}function NA(){const l=sn();return te.useCallback(({sourceEvent:g})=>{const{transform:v,snapGrid:L,snapToGrid:S}=l.getState(),y=g.touches?g.touches[0].clientX:g.clientX,f=g.touches?g.touches[0].clientY:g.clientY,o={x:(y-v[0])/v[2],y:(f-v[1])/v[2]};return{xSnapped:S?L[0]*Math.round(o.x/L[0]):o.x,ySnapped:S?L[1]*Math.round(o.y/L[1]):o.y,...o}},[])}function dd(l){return(b,g,v)=>l?.(b,v)}function Ey({nodeRef:l,disabled:b=!1,noDragClassName:g,handleSelector:v,nodeId:L,isSelectable:S,selectNodesOnDrag:y}){const f=sn(),[o,h]=te.useState(!1),r=te.useRef([]),n=te.useRef({x:null,y:null}),i=te.useRef(0),s=te.useRef(null),c=te.useRef({x:0,y:0}),u=te.useRef(null),a=te.useRef(!1),d=te.useRef(!1),m=te.useRef(!1),x=NA();return te.useEffect(()=>{if(l?.current){const C=gi(l.current),w=({x:A,y:T})=>{const{nodeInternals:j,onNodeDrag:F,onSelectionDrag:$,updateNodePositions:D,nodeExtent:M,snapGrid:R,snapToGrid:O,nodeOrigin:z,onError:B}=f.getState();n.current={x:A,y:T};let P=!1,U={x:0,y:0,x2:0,y2:0};if(r.current.length>1&&M){const K=Kd(r.current,z);U=Fd(K)}if(r.current=r.current.map(K=>{const Y={x:A-K.distance.x,y:T-K.distance.y};O&&(Y.x=R[0]*Math.round(Y.x/R[0]),Y.y=R[1]*Math.round(Y.y/R[1]));const X=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];r.current.length>1&&M&&!K.extent&&(X[0][0]=K.positionAbsolute.x-U.x+M[0][0],X[1][0]=K.positionAbsolute.x+(K.width??0)-U.x2+M[1][0],X[0][1]=K.positionAbsolute.y-U.y+M[0][1],X[1][1]=K.positionAbsolute.y+(K.height??0)-U.y2+M[1][1]);const q=Cy(K,Y,j,X,z,B);return P=P||K.position.x!==q.position.x||K.position.y!==q.position.y,K.position=q.position,K.positionAbsolute=q.positionAbsolute,K}),!P)return;D(r.current,!0,!0),h(!0);const W=L?F:dd($);if(W&&u.current){const[K,Y]=hd({nodeId:L,dragItems:r.current,nodeInternals:j});W(u.current,K,Y)}},_=()=>{if(!s.current)return;const[A,T]=G0(c.current,s.current);if(A!==0||T!==0){const{transform:j,panBy:F}=f.getState();n.current.x=(n.current.x??0)-A/j[2],n.current.y=(n.current.y??0)-T/j[2],F({x:A,y:T})&&w(n.current)}i.current=requestAnimationFrame(_)},k=A=>{const{nodeInternals:T,multiSelectionActive:j,nodesDraggable:F,unselectNodesAndEdges:$,onNodeDragStart:D,onSelectionDragStart:M}=f.getState();d.current=!0;const R=L?D:dd(M);(!y||!S)&&!j&&L&&(T.get(L)?.selected||$()),L&&S&&y&&Md({id:L,store:f,nodeRef:l});const O=x(A);if(n.current=O,r.current=LA(T,F,O,L),R&&r.current){const[z,B]=hd({nodeId:L,dragItems:r.current,nodeInternals:T});R(A.sourceEvent,z,B)}};if(b)C.on(".drag",null);else{const A=zC().on("start",T=>{const{domNode:j,nodeDragThreshold:F}=f.getState();F===0&&k(T),m.current=!1;const $=x(T);n.current=$,s.current=j?.getBoundingClientRect()||null,c.current=jr(T.sourceEvent,s.current)}).on("drag",T=>{const j=x(T),{autoPanOnNodeDrag:F,nodeDragThreshold:$}=f.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!a.current&&d.current&&F&&(a.current=!0,_()),!d.current){const D=j.xSnapped-(n?.current?.x??0),M=j.ySnapped-(n?.current?.y??0);Math.sqrt(D*D+M*M)>$&&k(T)}(n.current.x!==j.xSnapped||n.current.y!==j.ySnapped)&&r.current&&d.current&&(u.current=T.sourceEvent,c.current=jr(T.sourceEvent,s.current),w(j))}}).on("end",T=>{if(!(!d.current||m.current)&&(h(!1),a.current=!1,d.current=!1,cancelAnimationFrame(i.current),r.current)){const{updateNodePositions:j,nodeInternals:F,onNodeDragStop:$,onSelectionDragStop:D}=f.getState(),M=L?$:dd(D);if(j(r.current,!1,!1),M){const[R,O]=hd({nodeId:L,dragItems:r.current,nodeInternals:F});M(T.sourceEvent,R,O)}}}).filter(T=>{const j=T.target;return!T.button&&(!g||!qv(j,`.${g}`,l))&&(!v||qv(j,v,l))});return C.call(A),()=>{C.on(".drag",null)}}}},[l,b,g,v,S,f,L,y,x]),o}function Ay(){const l=sn();return te.useCallback(g=>{const{nodeInternals:v,nodeExtent:L,updateNodePositions:S,getNodes:y,snapToGrid:f,snapGrid:o,onError:h,nodesDraggable:r}=l.getState(),n=y().filter(m=>m.selected&&(m.draggable||r&&typeof m.draggable>"u")),i=f?o[0]:5,s=f?o[1]:5,c=g.isShiftPressed?4:1,u=g.x*i*c,a=g.y*s*c,d=n.map(m=>{if(m.positionAbsolute){const x={x:m.positionAbsolute.x+u,y:m.positionAbsolute.y+a};f&&(x.x=o[0]*Math.round(x.x/o[0]),x.y=o[1]*Math.round(x.y/o[1]));const{positionAbsolute:C,position:w}=Cy(m,x,v,L,void 0,h);m.position=w,m.positionAbsolute=C}return m});S(d,!0,!1)},[])}const xo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Aa=l=>{const b=({id:g,type:v,data:L,xPos:S,yPos:y,xPosOrigin:f,yPosOrigin:o,selected:h,onClick:r,onMouseEnter:n,onMouseMove:i,onMouseLeave:s,onContextMenu:c,onDoubleClick:u,style:a,className:d,isDraggable:m,isSelectable:x,isConnectable:C,isFocusable:w,selectNodesOnDrag:_,sourcePosition:k,targetPosition:A,hidden:T,resizeObserver:j,dragHandle:F,zIndex:$,isParent:D,noDragClassName:M,noPanClassName:R,initialized:O,disableKeyboardA11y:z,ariaLabel:B,rfId:P,hasHandleBounds:U})=>{const W=sn(),K=te.useRef(null),Y=te.useRef(null),X=te.useRef(k),q=te.useRef(A),J=te.useRef(v),V=x||m||r||n||i||s,Q=Ay(),ne=Ea(g,W.getState,n),ie=Ea(g,W.getState,i),me=Ea(g,W.getState,s),pe=Ea(g,W.getState,c),Se=Ea(g,W.getState,u),ke=we=>{const{nodeDragThreshold:Ce}=W.getState();if(x&&(!_||!m||Ce>0)&&Md({id:g,store:W,nodeRef:K}),r){const at=W.getState().nodeInternals.get(g);at&&r(we,{...at})}},Ae=we=>{if(!Cd(we)&&!z)if(Y0.includes(we.key)&&x){const Ce=we.key==="Escape";Md({id:g,store:W,unselect:Ce,nodeRef:K})}else m&&h&&Object.prototype.hasOwnProperty.call(xo,we.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${we.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S}, y: ${~~y}`}),Q({x:xo[we.key].x,y:xo[we.key].y,isShiftPressed:we.shiftKey}))};te.useEffect(()=>()=>{Y.current&&(j?.unobserve(Y.current),Y.current=null)},[]),te.useEffect(()=>{if(K.current&&!T){const we=K.current;(!O||!U||Y.current!==we)&&(Y.current&&j?.unobserve(Y.current),j?.observe(we),Y.current=we)}},[T,O,U]),te.useEffect(()=>{const we=J.current!==v,Ce=X.current!==k,at=q.current!==A;K.current&&(we||Ce||at)&&(we&&(J.current=v),Ce&&(X.current=k),at&&(q.current=A),W.getState().updateNodeDimensions([{id:g,nodeElement:K.current,forceUpdate:!0}]))},[g,v,k,A]);const Ue=Ey({nodeRef:K,disabled:T||!m,noDragClassName:M,handleSelector:F,nodeId:g,isSelectable:x,selectNodesOnDrag:_});return T?null:_e.createElement("div",{className:Qn(["react-flow__node",`react-flow__node-${v}`,{[R]:m},d,{selected:h,selectable:x,parent:D,dragging:Ue}]),ref:K,style:{zIndex:$,transform:`translate(${f}px,${o}px)`,pointerEvents:V?"all":"none",visibility:O?"visible":"hidden",...a},"data-id":g,"data-testid":`rf__node-${g}`,onMouseEnter:ne,onMouseMove:ie,onMouseLeave:me,onContextMenu:pe,onClick:ke,onDoubleClick:Se,onKeyDown:w?Ae:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":z?void 0:`${py}-${P}`,"aria-label":B},_e.createElement(KE,{value:g},_e.createElement(l,{id:g,data:L,type:v,xPos:S,yPos:y,selected:h,isConnectable:C,sourcePosition:k,targetPosition:A,dragging:Ue,dragHandle:F,zIndex:$})))};return b.displayName="NodeWrapper",te.memo(b)};const $A=l=>{const b=l.getNodes().filter(g=>g.selected);return{...Kd(b,l.nodeOrigin),transformString:`translate(${l.transform[0]}px,${l.transform[1]}px) scale(${l.transform[2]})`,userSelectionActive:l.userSelectionActive}};function DA({onSelectionContextMenu:l,noPanClassName:b,disableKeyboardA11y:g}){const v=sn(),{width:L,height:S,x:y,y:f,transformString:o,userSelectionActive:h}=kt($A,xn),r=Ay(),n=te.useRef(null);if(te.useEffect(()=>{g||n.current?.focus({preventScroll:!0})},[g]),Ey({nodeRef:n}),h||!L||!S)return null;const i=l?c=>{const u=v.getState().getNodes().filter(a=>a.selected);l(c,u)}:void 0,s=c=>{Object.prototype.hasOwnProperty.call(xo,c.key)&&r({x:xo[c.key].x,y:xo[c.key].y,isShiftPressed:c.shiftKey})};return _e.createElement("div",{className:Qn(["react-flow__nodesselection","react-flow__container",b]),style:{transform:o}},_e.createElement("div",{ref:n,className:"react-flow__nodesselection-rect",onContextMenu:i,tabIndex:g?void 0:-1,onKeyDown:g?void 0:s,style:{width:L,height:S,top:f,left:y}}))}var OA=te.memo(DA);const jA=l=>l.nodesSelectionActive,ky=({children:l,onPaneClick:b,onPaneMouseEnter:g,onPaneMouseMove:v,onPaneMouseLeave:L,onPaneContextMenu:S,onPaneScroll:y,deleteKeyCode:f,onMove:o,onMoveStart:h,onMoveEnd:r,selectionKeyCode:n,selectionOnDrag:i,selectionMode:s,onSelectionStart:c,onSelectionEnd:u,multiSelectionKeyCode:a,panActivationKeyCode:d,zoomActivationKeyCode:m,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:w,panOnScroll:_,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:j,defaultViewport:F,translateExtent:$,minZoom:D,maxZoom:M,preventScrolling:R,onSelectionContextMenu:O,noWheelClassName:z,noPanClassName:B,disableKeyboardA11y:P})=>{const U=kt(jA),W=Ia(n),K=Ia(d),Y=K||j,X=K||_,q=W||i&&Y!==!0;return xA({deleteKeyCode:f,multiSelectionKeyCode:a}),_e.createElement(EA,{onMove:o,onMoveStart:h,onMoveEnd:r,onPaneContextMenu:S,elementsSelectable:x,zoomOnScroll:C,zoomOnPinch:w,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!W&&Y,defaultViewport:F,translateExtent:$,minZoom:D,maxZoom:M,zoomActivationKeyCode:m,preventScrolling:R,noWheelClassName:z,noPanClassName:B},_e.createElement(wy,{onSelectionStart:c,onSelectionEnd:u,onPaneClick:b,onPaneMouseEnter:g,onPaneMouseMove:v,onPaneMouseLeave:L,onPaneContextMenu:S,onPaneScroll:y,panOnDrag:Y,isSelecting:!!q,selectionMode:s},l,U&&_e.createElement(OA,{onSelectionContextMenu:O,noPanClassName:B,disableKeyboardA11y:P})))};ky.displayName="FlowRenderer";var IA=te.memo(ky);function BA(l){return kt(te.useCallback(g=>l?ty(g.nodeInternals,{x:0,y:0,width:g.width,height:g.height},g.transform,!0):g.getNodes(),[l]))}function HA(l){const b={input:Aa(l.input||uy),default:Aa(l.default||Td),output:Aa(l.output||dy),group:Aa(l.group||Xd)},g={},v=Object.keys(l).filter(L=>!["input","default","output","group"].includes(L)).reduce((L,S)=>(L[S]=Aa(l[S]||Td),L),g);return{...b,...v}}const zA=({x:l,y:b,width:g,height:v,origin:L})=>!g||!v?{x:l,y:b}:L[0]<0||L[1]<0||L[0]>1||L[1]>1?{x:l,y:b}:{x:l-g*L[0],y:b-v*L[1]},FA=l=>({nodesDraggable:l.nodesDraggable,nodesConnectable:l.nodesConnectable,nodesFocusable:l.nodesFocusable,elementsSelectable:l.elementsSelectable,updateNodeDimensions:l.updateNodeDimensions,onError:l.onError}),Ty=l=>{const{nodesDraggable:b,nodesConnectable:g,nodesFocusable:v,elementsSelectable:L,updateNodeDimensions:S,onError:y}=kt(FA,xn),f=BA(l.onlyRenderVisibleElements),o=te.useRef(),h=te.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const r=new ResizeObserver(n=>{const i=n.map(s=>({id:s.target.getAttribute("data-id"),nodeElement:s.target,forceUpdate:!0}));S(i)});return o.current=r,r},[]);return te.useEffect(()=>()=>{o?.current?.disconnect()},[]),_e.createElement("div",{className:"react-flow__nodes",style:qd},f.map(r=>{let n=r.type||"default";l.nodeTypes[n]||(y?.("003",er.error003(n)),n="default");const i=l.nodeTypes[n]||l.nodeTypes.default,s=!!(r.draggable||b&&typeof r.draggable>"u"),c=!!(r.selectable||L&&typeof r.selectable>"u"),u=!!(r.connectable||g&&typeof r.connectable>"u"),a=!!(r.focusable||v&&typeof r.focusable>"u"),d=l.nodeExtent?zd(r.positionAbsolute,l.nodeExtent):r.positionAbsolute,m=d?.x??0,x=d?.y??0,C=zA({x:m,y:x,width:r.width??0,height:r.height??0,origin:l.nodeOrigin});return _e.createElement(i,{key:r.id,id:r.id,className:r.className,style:r.style,type:n,data:r.data,sourcePosition:r.sourcePosition||Le.Bottom,targetPosition:r.targetPosition||Le.Top,hidden:r.hidden,xPos:m,yPos:x,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:l.selectNodesOnDrag,onClick:l.onNodeClick,onMouseEnter:l.onNodeMouseEnter,onMouseMove:l.onNodeMouseMove,onMouseLeave:l.onNodeMouseLeave,onContextMenu:l.onNodeContextMenu,onDoubleClick:l.onNodeDoubleClick,selected:!!r.selected,isDraggable:s,isSelectable:c,isConnectable:u,isFocusable:a,resizeObserver:h,dragHandle:r.dragHandle,zIndex:r[At]?.z??0,isParent:!!r[At]?.isParent,noDragClassName:l.noDragClassName,noPanClassName:l.noPanClassName,initialized:!!r.width&&!!r.height,rfId:l.rfId,disableKeyboardA11y:l.disableKeyboardA11y,ariaLabel:r.ariaLabel,hasHandleBounds:!!r[At]?.handleBounds})}))};Ty.displayName="NodeRenderer";var PA=te.memo(Ty);const WA=(l,b,g)=>g===Le.Left?l-b:g===Le.Right?l+b:l,UA=(l,b,g)=>g===Le.Top?l-b:g===Le.Bottom?l+b:l,Qv="react-flow__edgeupdater",Jv=({position:l,centerX:b,centerY:g,radius:v=10,onMouseDown:L,onMouseEnter:S,onMouseOut:y,type:f})=>_e.createElement("circle",{onMouseDown:L,onMouseEnter:S,onMouseOut:y,className:Qn([Qv,`${Qv}-${f}`]),cx:WA(b,v,l),cy:UA(g,v,l),r:v,stroke:"transparent",fill:"transparent"}),VA=()=>!0;var go=l=>{const b=({id:g,className:v,type:L,data:S,onClick:y,onEdgeDoubleClick:f,selected:o,animated:h,label:r,labelStyle:n,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:a,source:d,target:m,sourceX:x,sourceY:C,targetX:w,targetY:_,sourcePosition:k,targetPosition:A,elementsSelectable:T,hidden:j,sourceHandleId:F,targetHandleId:$,onContextMenu:D,onMouseEnter:M,onMouseMove:R,onMouseLeave:O,reconnectRadius:z,onReconnect:B,onReconnectStart:P,onReconnectEnd:U,markerEnd:W,markerStart:K,rfId:Y,ariaLabel:X,isFocusable:q,isReconnectable:J,pathOptions:V,interactionWidth:Q,disableKeyboardA11y:ne})=>{const ie=te.useRef(null),[me,pe]=te.useState(!1),[Se,ke]=te.useState(!1),Ae=sn(),Ue=te.useMemo(()=>`url('#${Ad(K,Y)}')`,[K,Y]),we=te.useMemo(()=>`url('#${Ad(W,Y)}')`,[W,Y]);if(j)return null;const Ce=rt=>{const{edges:He,addSelectedEdges:Tt,unselectNodesAndEdges:gt,multiSelectionActive:wt}=Ae.getState(),le=He.find(be=>be.id===g);le&&(T&&(Ae.setState({nodesSelectionActive:!1}),le.selected&&wt?(gt({nodes:[],edges:[le]}),ie.current?.blur()):Tt([g])),y&&y(rt,le))},at=Ca(g,Ae.getState,f),Dt=Ca(g,Ae.getState,D),qt=Ca(g,Ae.getState,M),Zt=Ca(g,Ae.getState,R),mt=Ca(g,Ae.getState,O),Ze=(rt,He)=>{if(rt.button!==0)return;const{edges:Tt,isValidConnection:gt}=Ae.getState(),wt=He?m:d,le=(He?$:F)||null,be=He?"target":"source",Me=gt||VA,Pe=He,Pt=Tt.find(Wt=>Wt.id===g);ke(!0),P?.(rt,Pt,be);const on=Wt=>{ke(!1),U?.(Wt,Pt,be)};oy({event:rt,handleId:le,nodeId:wt,onConnect:Wt=>B?.(Pt,Wt),isTarget:Pe,getState:Ae.getState,setState:Ae.setState,isValidConnection:Me,edgeUpdaterType:be,onReconnectEnd:on})},_t=rt=>Ze(rt,!0),Ot=rt=>Ze(rt,!1),xt=()=>pe(!0),pt=()=>pe(!1),Yt=!T&&!y,it=rt=>{if(!ne&&Y0.includes(rt.key)&&T){const{unselectNodesAndEdges:He,addSelectedEdges:Tt,edges:gt}=Ae.getState();rt.key==="Escape"?(ie.current?.blur(),He({edges:[gt.find(le=>le.id===g)]})):Tt([g])}};return _e.createElement("g",{className:Qn(["react-flow__edge",`react-flow__edge-${L}`,v,{selected:o,animated:h,inactive:Yt,updating:me}]),onClick:Ce,onDoubleClick:at,onContextMenu:Dt,onMouseEnter:qt,onMouseMove:Zt,onMouseLeave:mt,onKeyDown:q?it:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":`rf__edge-${g}`,"aria-label":X===null?void 0:X||`Edge from ${d} to ${m}`,"aria-describedby":q?`${gy}-${Y}`:void 0,ref:ie},!Se&&_e.createElement(l,{id:g,source:d,target:m,selected:o,animated:h,label:r,labelStyle:n,labelShowBg:i,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,data:S,style:a,sourceX:x,sourceY:C,targetX:w,targetY:_,sourcePosition:k,targetPosition:A,sourceHandleId:F,targetHandleId:$,markerStart:Ue,markerEnd:we,pathOptions:V,interactionWidth:Q}),J&&_e.createElement(_e.Fragment,null,(J==="source"||J===!0)&&_e.createElement(Jv,{position:k,centerX:x,centerY:C,radius:z,onMouseDown:_t,onMouseEnter:xt,onMouseOut:pt,type:"source"}),(J==="target"||J===!0)&&_e.createElement(Jv,{position:A,centerX:w,centerY:_,radius:z,onMouseDown:Ot,onMouseEnter:xt,onMouseOut:pt,type:"target"})))};return b.displayName="EdgeWrapper",te.memo(b)};function GA(l){const b={default:go(l.default||xc),straight:go(l.bezier||Ud),step:go(l.step||Wd),smoothstep:go(l.step||Mc),simplebezier:go(l.simplebezier||Pd)},g={},v=Object.keys(l).filter(L=>!["default","bezier"].includes(L)).reduce((L,S)=>(L[S]=go(l[S]||xc),L),g);return{...b,...v}}function e0(l,b,g=null){const v=(g?.x||0)+b.x,L=(g?.y||0)+b.y,S=g?.width||b.width,y=g?.height||b.height;switch(l){case Le.Top:return{x:v+S/2,y:L};case Le.Right:return{x:v+S,y:L+y/2};case Le.Bottom:return{x:v+S/2,y:L+y};case Le.Left:return{x:v,y:L+y/2}}}function t0(l,b){return l?l.length===1||!b?l[0]:b&&l.find(g=>g.id===b)||null:null}const KA=(l,b,g,v,L,S)=>{const y=e0(g,l,b),f=e0(S,v,L);return{sourceX:y.x,sourceY:y.y,targetX:f.x,targetY:f.y}};function YA({sourcePos:l,targetPos:b,sourceWidth:g,sourceHeight:v,targetWidth:L,targetHeight:S,width:y,height:f,transform:o}){const h={x:Math.min(l.x,b.x),y:Math.min(l.y,b.y),x2:Math.max(l.x+g,b.x+L),y2:Math.max(l.y+v,b.y+S)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);const r=Fd({x:(0-o[0])/o[2],y:(0-o[1])/o[2],width:y/o[2],height:f/o[2]}),n=Math.max(0,Math.min(r.x2,h.x2)-Math.max(r.x,h.x)),i=Math.max(0,Math.min(r.y2,h.y2)-Math.max(r.y,h.y));return Math.ceil(n*i)>0}function n0(l){const b=l?.[At]?.handleBounds||null,g=b&&l?.width&&l?.height&&typeof l?.positionAbsolute?.x<"u"&&typeof l?.positionAbsolute?.y<"u";return[{x:l?.positionAbsolute?.x||0,y:l?.positionAbsolute?.y||0,width:l?.width||0,height:l?.height||0},b,!!g]}const XA=[{level:0,isMaxLevel:!0,edges:[]}];function qA(l,b,g=!1){let v=-1;const L=l.reduce((y,f)=>{const o=Zn(f.zIndex);let h=o?f.zIndex:0;if(g){const r=b.get(f.target),n=b.get(f.source),i=f.selected||r?.selected||n?.selected,s=Math.max(n?.[At]?.z||0,r?.[At]?.z||0,1e3);h=(o?f.zIndex:0)+(i?s:0)}return y[h]?y[h].push(f):y[h]=[f],v=h>v?h:v,y},{}),S=Object.entries(L).map(([y,f])=>{const o=+y;return{edges:f,level:o,isMaxLevel:o===v}});return S.length===0?XA:S}function ZA(l,b,g){const v=kt(te.useCallback(L=>l?L.edges.filter(S=>{const y=b.get(S.source),f=b.get(S.target);return y?.width&&y?.height&&f?.width&&f?.height&&YA({sourcePos:y.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:y.width,sourceHeight:y.height,targetWidth:f.width,targetHeight:f.height,width:L.width,height:L.height,transform:L.transform})}):L.edges,[l,b]));return qA(v,b,g)}const QA=({color:l="none",strokeWidth:b=1})=>_e.createElement("polyline",{style:{stroke:l,strokeWidth:b},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),JA=({color:l="none",strokeWidth:b=1})=>_e.createElement("polyline",{style:{stroke:l,fill:l,strokeWidth:b},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),i0={[_c.Arrow]:QA,[_c.ArrowClosed]:JA};function ek(l){const b=sn();return te.useMemo(()=>Object.prototype.hasOwnProperty.call(i0,l)?i0[l]:(b.getState().onError?.("009",er.error009(l)),null),[l])}const tk=({id:l,type:b,color:g,width:v=12.5,height:L=12.5,markerUnits:S="strokeWidth",strokeWidth:y,orient:f="auto-start-reverse"})=>{const o=ek(b);return o?_e.createElement("marker",{className:"react-flow__arrowhead",id:l,markerWidth:`${v}`,markerHeight:`${L}`,viewBox:"-10 -10 20 20",markerUnits:S,orient:f,refX:"0",refY:"0"},_e.createElement(o,{color:g,strokeWidth:y})):null},nk=({defaultColor:l,rfId:b})=>g=>{const v=[];return g.edges.reduce((L,S)=>([S.markerStart,S.markerEnd].forEach(y=>{if(y&&typeof y=="object"){const f=Ad(y,b);v.includes(f)||(L.push({id:f,color:y.color||l,...y}),v.push(f))}}),L),[]).sort((L,S)=>L.id.localeCompare(S.id))},My=({defaultColor:l,rfId:b})=>{const g=kt(te.useCallback(nk({defaultColor:l,rfId:b}),[l,b]),(v,L)=>!(v.length!==L.length||v.some((S,y)=>S.id!==L[y].id)));return _e.createElement("defs",null,g.map(v=>_e.createElement(tk,{id:v.id,key:v.id,type:v.type,color:v.color,width:v.width,height:v.height,markerUnits:v.markerUnits,strokeWidth:v.strokeWidth,orient:v.orient})))};My.displayName="MarkerDefinitions";var ik=te.memo(My);const rk=l=>({nodesConnectable:l.nodesConnectable,edgesFocusable:l.edgesFocusable,edgesUpdatable:l.edgesUpdatable,elementsSelectable:l.elementsSelectable,width:l.width,height:l.height,connectionMode:l.connectionMode,nodeInternals:l.nodeInternals,onError:l.onError}),Ly=({defaultMarkerColor:l,onlyRenderVisibleElements:b,elevateEdgesOnSelect:g,rfId:v,edgeTypes:L,noPanClassName:S,onEdgeContextMenu:y,onEdgeMouseEnter:f,onEdgeMouseMove:o,onEdgeMouseLeave:h,onEdgeClick:r,onEdgeDoubleClick:n,onReconnect:i,onReconnectStart:s,onReconnectEnd:c,reconnectRadius:u,children:a,disableKeyboardA11y:d})=>{const{edgesFocusable:m,edgesUpdatable:x,elementsSelectable:C,width:w,height:_,connectionMode:k,nodeInternals:A,onError:T}=kt(rk,xn),j=ZA(b,A,g);return w?_e.createElement(_e.Fragment,null,j.map(({level:F,edges:$,isMaxLevel:D})=>_e.createElement("svg",{key:F,style:{zIndex:F},width:w,height:_,className:"react-flow__edges react-flow__container"},D&&_e.createElement(ik,{defaultColor:l,rfId:v}),_e.createElement("g",null,$.map(M=>{const[R,O,z]=n0(A.get(M.source)),[B,P,U]=n0(A.get(M.target));if(!z||!U)return null;let W=M.type||"default";L[W]||(T?.("011",er.error011(W)),W="default");const K=L[W]||L.default,Y=k===fs.Strict?P.target:(P.target??[]).concat(P.source??[]),X=t0(O.source,M.sourceHandle),q=t0(Y,M.targetHandle),J=X?.position||Le.Bottom,V=q?.position||Le.Top,Q=!!(M.focusable||m&&typeof M.focusable>"u"),ne=M.reconnectable||M.updatable,ie=typeof i<"u"&&(ne||x&&typeof ne>"u");if(!X||!q)return T?.("008",er.error008(X,M)),null;const{sourceX:me,sourceY:pe,targetX:Se,targetY:ke}=KA(R,X,J,B,q,V);return _e.createElement(K,{key:M.id,id:M.id,className:Qn([M.className,S]),type:W,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:me,sourceY:pe,targetX:Se,targetY:ke,sourcePosition:J,targetPosition:V,elementsSelectable:C,onContextMenu:y,onMouseEnter:f,onMouseMove:o,onMouseLeave:h,onClick:r,onEdgeDoubleClick:n,onReconnect:i,onReconnectStart:s,onReconnectEnd:c,reconnectRadius:u,rfId:v,ariaLabel:M.ariaLabel,isFocusable:Q,isReconnectable:ie,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth,disableKeyboardA11y:d})})))),a):null};Ly.displayName="EdgeRenderer";var sk=te.memo(Ly);const ok=l=>`translate(${l.transform[0]}px,${l.transform[1]}px) scale(${l.transform[2]})`;function ak({children:l}){const b=kt(ok);return _e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:b}},l)}function lk(l){const b=by(),g=te.useRef(!1);te.useEffect(()=>{!g.current&&b.viewportInitialized&&l&&(setTimeout(()=>l(b),1),g.current=!0)},[l,b.viewportInitialized])}const ck={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top},Ry=({nodeId:l,handleType:b,style:g,type:v=Dr.Bezier,CustomComponent:L,connectionStatus:S})=>{const{fromNode:y,handleId:f,toX:o,toY:h,connectionMode:r}=kt(te.useCallback(_=>({fromNode:_.nodeInternals.get(l),handleId:_.connectionHandleId,toX:(_.connectionPosition.x-_.transform[0])/_.transform[2],toY:(_.connectionPosition.y-_.transform[1])/_.transform[2],connectionMode:_.connectionMode}),[l]),xn),n=y?.[At]?.handleBounds;let i=n?.[b];if(r===fs.Loose&&(i=i||n?.[b==="source"?"target":"source"]),!y||!i)return null;const s=f?i.find(_=>_.id===f):i[0],c=s?s.x+s.width/2:(y.width??0)/2,u=s?s.y+s.height/2:y.height??0,a=(y.positionAbsolute?.x??0)+c,d=(y.positionAbsolute?.y??0)+u,m=s?.position,x=m?ck[m]:null;if(!m||!x)return null;if(L)return _e.createElement(L,{connectionLineType:v,connectionLineStyle:g,fromNode:y,fromHandle:s,fromX:a,fromY:d,toX:o,toY:h,fromPosition:m,toPosition:x,connectionStatus:S});let C="";const w={sourceX:a,sourceY:d,sourcePosition:m,targetX:o,targetY:h,targetPosition:x};return v===Dr.Bezier?[C]=Vd(w):v===Dr.Step?[C]=Ed({...w,borderRadius:0}):v===Dr.SmoothStep?[C]=Ed(w):v===Dr.SimpleBezier?[C]=Q0(w):C=`M${a},${d} ${o},${h}`,_e.createElement("path",{d:C,fill:"none",className:"react-flow__connection-path",style:g})};Ry.displayName="ConnectionLine";const uk=l=>({nodeId:l.connectionNodeId,handleType:l.connectionHandleType,nodesConnectable:l.nodesConnectable,connectionStatus:l.connectionStatus,width:l.width,height:l.height});function hk({containerStyle:l,style:b,type:g,component:v}){const{nodeId:L,handleType:S,nodesConnectable:y,width:f,height:o,connectionStatus:h}=kt(uk,xn);return!(L&&S&&f&&y)?null:_e.createElement("svg",{style:l,width:f,height:o,className:"react-flow__edges react-flow__connectionline react-flow__container"},_e.createElement("g",{className:Qn(["react-flow__connection",h])},_e.createElement(Ry,{nodeId:L,handleType:S,style:b,type:g,CustomComponent:v,connectionStatus:h})))}function r0(l,b){return te.useRef(null),sn(),te.useMemo(()=>b(l),[l])}const Ny=({nodeTypes:l,edgeTypes:b,onMove:g,onMoveStart:v,onMoveEnd:L,onInit:S,onNodeClick:y,onEdgeClick:f,onNodeDoubleClick:o,onEdgeDoubleClick:h,onNodeMouseEnter:r,onNodeMouseMove:n,onNodeMouseLeave:i,onNodeContextMenu:s,onSelectionContextMenu:c,onSelectionStart:u,onSelectionEnd:a,connectionLineType:d,connectionLineStyle:m,connectionLineComponent:x,connectionLineContainerStyle:C,selectionKeyCode:w,selectionOnDrag:_,selectionMode:k,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,deleteKeyCode:F,onlyRenderVisibleElements:$,elementsSelectable:D,selectNodesOnDrag:M,defaultViewport:R,translateExtent:O,minZoom:z,maxZoom:B,preventScrolling:P,defaultMarkerColor:U,zoomOnScroll:W,zoomOnPinch:K,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,zoomOnDoubleClick:J,panOnDrag:V,onPaneClick:Q,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:me,onPaneScroll:pe,onPaneContextMenu:Se,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:Dt,reconnectRadius:qt,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,elevateEdgesOnSelect:_t,disableKeyboardA11y:Ot,nodeOrigin:xt,nodeExtent:pt,rfId:Yt})=>{const it=r0(l,HA),rt=r0(b,GA);return lk(S),_e.createElement(IA,{onPaneClick:Q,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:me,onPaneContextMenu:Se,onPaneScroll:pe,deleteKeyCode:F,selectionKeyCode:w,selectionOnDrag:_,selectionMode:k,onSelectionStart:u,onSelectionEnd:a,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:j,elementsSelectable:D,onMove:g,onMoveStart:v,onMoveEnd:L,zoomOnScroll:W,zoomOnPinch:K,zoomOnDoubleClick:J,panOnScroll:Y,panOnScrollSpeed:X,panOnScrollMode:q,panOnDrag:V,defaultViewport:R,translateExtent:O,minZoom:z,maxZoom:B,onSelectionContextMenu:c,preventScrolling:P,noDragClassName:Zt,noWheelClassName:mt,noPanClassName:Ze,disableKeyboardA11y:Ot},_e.createElement(ak,null,_e.createElement(sk,{edgeTypes:rt,onEdgeClick:f,onEdgeDoubleClick:h,onlyRenderVisibleElements:$,onEdgeContextMenu:ke,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ue,onEdgeMouseLeave:we,onReconnect:Ce,onReconnectStart:at,onReconnectEnd:Dt,reconnectRadius:qt,defaultMarkerColor:U,noPanClassName:Ze,elevateEdgesOnSelect:!!_t,disableKeyboardA11y:Ot,rfId:Yt},_e.createElement(hk,{style:m,type:d,component:x,containerStyle:C})),_e.createElement("div",{className:"react-flow__edgelabel-renderer"}),_e.createElement(PA,{nodeTypes:it,onNodeClick:y,onNodeDoubleClick:o,onNodeMouseEnter:r,onNodeMouseMove:n,onNodeMouseLeave:i,onNodeContextMenu:s,selectNodesOnDrag:M,onlyRenderVisibleElements:$,noPanClassName:Ze,noDragClassName:Zt,disableKeyboardA11y:Ot,nodeOrigin:xt,nodeExtent:pt,rfId:Yt})))};Ny.displayName="GraphView";var dk=te.memo(Ny);const Ld=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Rr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ld,nodeExtent:Ld,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:fs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:FE,isValidConnection:void 0},fk=()=>Qw((l,b)=>({...Rr,setNodes:g=>{const{nodeInternals:v,nodeOrigin:L,elevateNodesOnSelect:S}=b();l({nodeInternals:cd(g,v,L,S)})},getNodes:()=>Array.from(b().nodeInternals.values()),setEdges:g=>{const{defaultEdgeOptions:v={}}=b();l({edges:g.map(L=>({...v,...L}))})},setDefaultNodesAndEdges:(g,v)=>{const L=typeof g<"u",S=typeof v<"u",y=L?cd(g,new Map,b().nodeOrigin,b().elevateNodesOnSelect):new Map;l({nodeInternals:y,edges:S?v:[],hasDefaultNodes:L,hasDefaultEdges:S})},updateNodeDimensions:g=>{const{onNodesChange:v,nodeInternals:L,fitViewOnInit:S,fitViewOnInitDone:y,fitViewOnInitOptions:f,domNode:o,nodeOrigin:h}=b(),r=o?.querySelector(".react-flow__viewport");if(!r)return;const n=window.getComputedStyle(r),{m22:i}=new window.DOMMatrixReadOnly(n.transform),s=g.reduce((u,a)=>{const d=L.get(a.id);if(d?.hidden)L.set(d.id,{...d,[At]:{...d[At],handleBounds:void 0}});else if(d){const m=Hd(a.nodeElement);m.width&&m.height&&(d.width!==m.width||d.height!==m.height||a.forceUpdate)&&(L.set(d.id,{...d,[At]:{...d[At],handleBounds:{source:Zv(".source",a.nodeElement,i,h),target:Zv(".target",a.nodeElement,i,h)}},...m}),u.push({id:d.id,type:"dimensions",dimensions:m}))}return u},[]);vy(L,h);const c=y||S&&!y&&yy(b,{initial:!0,...f});l({nodeInternals:new Map(L),fitViewOnInitDone:c}),s?.length>0&&v?.(s)},updateNodePositions:(g,v=!0,L=!1)=>{const{triggerNodeChanges:S}=b(),y=g.map(f=>{const o={id:f.id,type:"position",dragging:L};return v&&(o.positionAbsolute=f.positionAbsolute,o.position=f.position),o});S(y)},triggerNodeChanges:g=>{const{onNodesChange:v,nodeInternals:L,hasDefaultNodes:S,nodeOrigin:y,getNodes:f,elevateNodesOnSelect:o}=b();if(g?.length){if(S){const h=xy(g,f()),r=cd(h,L,y,o);l({nodeInternals:r})}v?.(g)}},addSelectedNodes:g=>{const{multiSelectionActive:v,edges:L,getNodes:S}=b();let y,f=null;v?y=g.map(o=>$r(o,!0)):(y=mo(S(),g),f=mo(L,[])),rc({changedNodes:y,changedEdges:f,get:b,set:l})},addSelectedEdges:g=>{const{multiSelectionActive:v,edges:L,getNodes:S}=b();let y,f=null;v?y=g.map(o=>$r(o,!0)):(y=mo(L,g),f=mo(S(),[])),rc({changedNodes:f,changedEdges:y,get:b,set:l})},unselectNodesAndEdges:({nodes:g,edges:v}={})=>{const{edges:L,getNodes:S}=b(),y=g||S(),f=v||L,o=y.map(r=>(r.selected=!1,$r(r.id,!1))),h=f.map(r=>$r(r.id,!1));rc({changedNodes:o,changedEdges:h,get:b,set:l})},setMinZoom:g=>{const{d3Zoom:v,maxZoom:L}=b();v?.scaleExtent([g,L]),l({minZoom:g})},setMaxZoom:g=>{const{d3Zoom:v,minZoom:L}=b();v?.scaleExtent([L,g]),l({maxZoom:g})},setTranslateExtent:g=>{b().d3Zoom?.translateExtent(g),l({translateExtent:g})},resetSelectedElements:()=>{const{edges:g,getNodes:v}=b(),S=v().filter(f=>f.selected).map(f=>$r(f.id,!1)),y=g.filter(f=>f.selected).map(f=>$r(f.id,!1));rc({changedNodes:S,changedEdges:y,get:b,set:l})},setNodeExtent:g=>{const{nodeInternals:v}=b();v.forEach(L=>{L.positionAbsolute=zd(L.position,g)}),l({nodeExtent:g,nodeInternals:new Map(v)})},panBy:g=>{const{transform:v,width:L,height:S,d3Zoom:y,d3Selection:f,translateExtent:o}=b();if(!y||!f||!g.x&&!g.y)return!1;const h=Or.translate(v[0]+g.x,v[1]+g.y).scale(v[2]),r=[[0,0],[L,S]],n=y?.constrain()(h,r,o);return y.transform(f,n),v[0]!==n.x||v[1]!==n.y||v[2]!==n.k},cancelConnection:()=>l({connectionNodeId:Rr.connectionNodeId,connectionHandleId:Rr.connectionHandleId,connectionHandleType:Rr.connectionHandleType,connectionStatus:Rr.connectionStatus,connectionStartHandle:Rr.connectionStartHandle,connectionEndHandle:Rr.connectionEndHandle}),reset:()=>l({...Rr})}),Object.is),$y=({children:l})=>{const b=te.useRef(null);return b.current||(b.current=fk()),_e.createElement(NE,{value:b.current},l)};$y.displayName="ReactFlowProvider";const Dy=({children:l})=>te.useContext(Tc)?_e.createElement(_e.Fragment,null,l):_e.createElement($y,null,l);Dy.displayName="ReactFlowWrapper";const pk={input:uy,default:Td,output:dy,group:Xd},gk={default:xc,straight:Ud,step:Wd,smoothstep:Mc,simplebezier:Pd},mk=[0,0],vk=[15,15],yk={x:0,y:0,zoom:1},bk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Oy=te.forwardRef(({nodes:l,edges:b,defaultNodes:g,defaultEdges:v,className:L,nodeTypes:S=pk,edgeTypes:y=gk,onNodeClick:f,onEdgeClick:o,onInit:h,onMove:r,onMoveStart:n,onMoveEnd:i,onConnect:s,onConnectStart:c,onConnectEnd:u,onClickConnectStart:a,onClickConnectEnd:d,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:C,onNodeContextMenu:w,onNodeDoubleClick:_,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onNodesDelete:j,onEdgesDelete:F,onSelectionChange:$,onSelectionDragStart:D,onSelectionDrag:M,onSelectionDragStop:R,onSelectionContextMenu:O,onSelectionStart:z,onSelectionEnd:B,connectionMode:P=fs.Strict,connectionLineType:U=Dr.Bezier,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,deleteKeyCode:X="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:J=!1,selectionMode:V=ja.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:ne=bc()?"Meta":"Control",zoomActivationKeyCode:ie=bc()?"Meta":"Control",snapToGrid:me=!1,snapGrid:pe=vk,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:ke=!0,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,nodeOrigin:Ce=mk,edgesFocusable:at,edgesUpdatable:Dt,elementsSelectable:qt,defaultViewport:Zt=yk,minZoom:mt=.5,maxZoom:Ze=2,translateExtent:_t=Ld,preventScrolling:Ot=!0,nodeExtent:xt,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:Yt=!0,zoomOnPinch:it=!0,panOnScroll:rt=!1,panOnScrollSpeed:He=.5,panOnScrollMode:Tt=cs.Free,zoomOnDoubleClick:gt=!0,panOnDrag:wt=!0,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Pt,onPaneContextMenu:on,children:In,onEdgeContextMenu:Wt,onEdgeDoubleClick:Bn,onEdgeMouseEnter:Jn,onEdgeMouseMove:Br,onEdgeMouseLeave:tr,onEdgeUpdate:ei,onEdgeUpdateStart:Mi,onEdgeUpdateEnd:ko,onReconnect:gs,onReconnectStart:ms,onReconnectEnd:vs,reconnectRadius:nr=10,edgeUpdaterRadius:Li=10,onNodesChange:Hn,onEdgesChange:ys,noDragClassName:zn="nodrag",noWheelClassName:Mt="nowheel",noPanClassName:Ut="nopan",fitView:yi=!1,fitViewOptions:un,connectOnClick:To=!0,attributionPosition:Mo,proOptions:bs,defaultEdgeOptions:Ri,elevateNodesOnSelect:Hr=!0,elevateEdgesOnSelect:an=!1,disableKeyboardA11y:ti=!1,autoPanOnConnect:Ni=!0,autoPanOnNodeDrag:bi=!0,connectionRadius:St=20,isValidConnection:_s,onError:$i,style:ni,id:ii,nodeDragThreshold:Fn,...xs},ws)=>{const zr=ii||"1";return _e.createElement("div",{...xs,style:{...ni,...bk},ref:ws,className:Qn(["react-flow",L]),"data-testid":"rf__wrapper",id:ii},_e.createElement(Dy,null,_e.createElement(dk,{onInit:h,onMove:r,onMoveStart:n,onMoveEnd:i,onNodeClick:f,onEdgeClick:o,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:C,onNodeContextMenu:w,onNodeDoubleClick:_,nodeTypes:S,edgeTypes:y,connectionLineType:U,connectionLineStyle:W,connectionLineComponent:K,connectionLineContainerStyle:Y,selectionKeyCode:q,selectionOnDrag:J,selectionMode:V,deleteKeyCode:X,multiSelectionKeyCode:ne,panActivationKeyCode:Q,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Se,selectNodesOnDrag:ke,defaultViewport:Zt,translateExtent:_t,minZoom:mt,maxZoom:Ze,preventScrolling:Ot,zoomOnScroll:Yt,zoomOnPinch:it,zoomOnDoubleClick:gt,panOnScroll:rt,panOnScrollSpeed:He,panOnScrollMode:Tt,panOnDrag:wt,onPaneClick:le,onPaneMouseEnter:be,onPaneMouseMove:Me,onPaneMouseLeave:Pe,onPaneScroll:Pt,onPaneContextMenu:on,onSelectionContextMenu:O,onSelectionStart:z,onSelectionEnd:B,onEdgeContextMenu:Wt,onEdgeDoubleClick:Bn,onEdgeMouseEnter:Jn,onEdgeMouseMove:Br,onEdgeMouseLeave:tr,onReconnect:gs??ei,onReconnectStart:ms??Mi,onReconnectEnd:vs??ko,reconnectRadius:nr??Li,defaultMarkerColor:pt,noDragClassName:zn,noWheelClassName:Mt,noPanClassName:Ut,elevateEdgesOnSelect:an,rfId:zr,disableKeyboardA11y:ti,nodeOrigin:Ce,nodeExtent:xt}),_e.createElement(cA,{nodes:l,edges:b,defaultNodes:g,defaultEdges:v,onConnect:s,onConnectStart:c,onConnectEnd:u,onClickConnectStart:a,onClickConnectEnd:d,nodesDraggable:Ae,nodesConnectable:Ue,nodesFocusable:we,edgesFocusable:at,edgesUpdatable:Dt,elementsSelectable:qt,elevateNodesOnSelect:Hr,minZoom:mt,maxZoom:Ze,nodeExtent:xt,onNodesChange:Hn,onEdgesChange:ys,snapToGrid:me,snapGrid:pe,connectionMode:P,translateExtent:_t,connectOnClick:To,defaultEdgeOptions:Ri,fitView:yi,fitViewOptions:un,onNodesDelete:j,onEdgesDelete:F,onNodeDragStart:k,onNodeDrag:A,onNodeDragStop:T,onSelectionDrag:M,onSelectionDragStart:D,onSelectionDragStop:R,noPanClassName:Ut,nodeOrigin:Ce,rfId:zr,autoPanOnConnect:Ni,autoPanOnNodeDrag:bi,onError:$i,connectionRadius:St,isValidConnection:_s,nodeDragThreshold:Fn}),_e.createElement(aA,{onSelectionChange:$}),In,_e.createElement(OE,{proOptions:bs,position:Mo}),_e.createElement(pA,{rfId:zr,disableKeyboardA11y:ti})))});Oy.displayName="ReactFlow";const _k=l=>l.domNode?.querySelector(".react-flow__edgelabel-renderer");function xk({children:l}){const b=kt(_k);return b?RE.createPortal(l,b):null}function jy(l){return b=>{const[g,v]=te.useState(b),L=te.useCallback(S=>v(y=>l(S,y)),[]);return[g,v,L]}}const wk=jy(xy),Sk=jy(TA),Ck=({data:l})=>N.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-zinc-900 border-2 border-zinc-700 w-[200px]",children:[N.jsxs("div",{className:"flex items-center",children:[l.icon&&N.jsx("div",{className:"mr-2 text-xl",children:l.icon}),N.jsxs("div",{className:"ml-2",children:[N.jsx("div",{className:"text-lg font-bold text-zinc-100",children:l.label}),l.description&&N.jsx("div",{className:"text-zinc-400 text-xs",children:l.description})]})]}),N.jsx(Eo,{type:"target",position:Le.Left,className:"h-16 !bg-zinc-500 rounded-none w-2 -ml-1"}),N.jsx(Eo,{type:"source",position:Le.Bottom,className:"w-16 !bg-zinc-500 rounded-none h-2 -mb-1"}),l.status&&N.jsxs("div",{className:`mt-2 text-xs font-semibold ${l.status==="running"?"text-blue-400":l.status==="completed"?"text-green-400":l.status==="failed"?"text-red-400":"text-zinc-500"}`,children:["Status: ",l.status]})]}),Ek=te.memo(Ck),Ak=({sourceX:l,sourceY:b,targetX:g,targetY:v,sourcePosition:L,targetPosition:S,style:y={},markerEnd:f,label:o})=>{const[h,r,n]=Vd({sourceX:l,sourceY:b,sourcePosition:L,targetX:g,targetY:v,targetPosition:S});return N.jsxs(N.Fragment,{children:[N.jsx(Ao,{path:h,markerEnd:f,style:y}),o&&N.jsx(xk,{children:N.jsx("div",{className:"absolute pointer-events-auto bg-white px-2 py-1 rounded shadow-sm border border-gray-200 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors",style:{transform:`translate(-50%, -50%) translate(${r}px,${n}px)`},children:o})})]})},kk=te.memo(Ak),Tk={agent:Ek},Mk={workflow:kk},Lk=[{id:"1",type:"agent",position:{x:250,y:5},data:{label:"Start Agent",icon:"",status:"completed"}},{id:"2",type:"agent",position:{x:100,y:100},data:{label:"Researcher",icon:"",status:"running"}}],Rk=[{id:"e1-2",source:"1",target:"2",animated:!0,type:"smoothstep"}],Nk=150,$k=250,Dk=(l,b)=>{if(l.length===0)return{nodes:l,edges:b};const g=new Map,v=new Map;b.forEach(h=>{g.has(h.source)||g.set(h.source,[]),g.get(h.source).push(h.target),v.set(h.target,h.source)});const L=l.filter(h=>!v.has(h.id));L.length===0&&l.length>0&&L.push(l[0]);let S=50;const y=[...l],f=new Set,o=(h,r)=>{if(f.has(h))return;f.add(h);const n=y.findIndex(s=>s.id===h);n!==-1&&(y[n]={...y[n],position:{x:250+r*$k,y:S}},S+=Nk);const i=g.get(h)||[];i.sort((s,c)=>{const u=l.find(d=>d.id===s),a=l.find(d=>d.id===c);return(u?.position.y||0)-(a?.position.y||0)}),i.forEach(s=>o(s,r+1))};return L.sort((h,r)=>h.position.y-r.position.y),L.forEach(h=>o(h.id,0)),l.forEach(h=>{f.has(h.id)||o(h.id,0)}),{nodes:y,edges:b}};function Ok(){const[l,b,g]=wk(Lk),[v,L,S]=Sk(Rk),[y,f]=te.useState(null);te.useEffect(()=>{const{nodes:n}=Dk(l,v);n.some(s=>{const c=l.find(u=>u.id===s.id);return c?Math.abs(c.position.x-s.position.x)>1||Math.abs(c.position.y-s.position.y)>1:!0})&&b([...n])},[l.length,v.length]);const o=te.useCallback(n=>L(i=>J0({...n,type:"smoothstep",animated:!0},i)),[L]),h=te.useCallback(n=>{n.preventDefault(),n.dataTransfer.dropEffect="move"},[]),r=te.useCallback(n=>{n.preventDefault();const i=n.dataTransfer.getData("application/reactflow");if(!i)return;const s=JSON.parse(i);if(typeof s>"u"||!s||!y)return;let c=null;l.length>0&&(c=l.reduce((d,m)=>d.position.y>m.position.y?d:m,l[0]));const u=`${s.label}-${Date.now()}`,a={id:u,type:"agent",position:{x:250,y:0},data:{label:s.label,icon:s.icon,description:s.description,status:"idle"}};if(b(d=>d.concat(a)),c){const d={id:`e${c.id}-${u}`,source:c.id,target:u,type:"smoothstep",animated:!0};L(m=>m.concat(d))}},[y,b,L,l]);return N.jsx("div",{className:"flex-1 h-full w-full bg-zinc-950 relative",children:N.jsx(Oy,{nodes:l,edges:v,onNodesChange:g,onEdgesChange:S,onConnect:o,onInit:f,onDrop:r,onDragOver:h,nodeTypes:Tk,edgeTypes:Mk,fitView:!0,nodesDraggable:!1,nodesConnectable:!1,proOptions:{hideAttribution:!0}})})}function jk(){const l=uc.use.showOrchestrator(),b=uc.use.setShowOrchestrator();return l?N.jsxs(On,{width:"1000px",children:[N.jsx(jn,{close:()=>b(!1),title:"Agent Orchestrator",description:"Design and execute multi-agent workflows."}),N.jsxs("div",{className:"flex h-[500px]",children:[N.jsx("div",{className:"w-[250px] flex-shrink-0",children:N.jsx(Yw,{})}),N.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:N.jsx(Ok,{})})]}),N.jsxs("div",{className:"flex justify-end",children:[N.jsx(Qi,{onClick:()=>b(!1),text:"Cancel"}),N.jsx(Qi,{onClick:()=>b(!1),text:"Run"})]})]}):null}const Ik=$n((l,b)=>({sidebarWidth:285,isResizing:!1,setSidebarWidth:g=>l({sidebarWidth:g}),setIsResizing:g=>l({isResizing:g}),isOpencodeInstalled:!0,checkOpencodeInstalled:async()=>{try{const g=await fetch(`${Ne.serverPath}${Oe.opencode}/check`);if(!g.ok)return;const v=await g.json();v.installed&&v.isInPath&&v.isNpmGlobal?l({isOpencodeInstalled:!0}):l({isOpencodeInstalled:!1})}catch(g){console.error(g)}},isCreatingInstance:!1,opencodeInstances:[],setInstanceActive:g=>{const v=b().opencodeInstances.find(L=>L.instance.id===g);v&&(v.isActive||b().isCreatingInstance||l(L=>({opencodeInstances:L.opencodeInstances.map(S=>S.instance.id===g?{...S,isActive:!0}:{...S,isActive:!1})})))},closeInstance:async g=>{if(!(await fetch(`${Ne.serverPath}${Oe.opencode}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g})})).ok){alert("Failed to close opencode terminal");return}l(L=>({opencodeInstances:L.opencodeInstances.filter(S=>S.instance.id!==g)}))},createInstance:async g=>{l({isCreatingInstance:!0});let v="";for(;;){const o=Math.random().toString(36).substring(6);if(!b().opencodeInstances.find(r=>r.instance.id===o)){v=o;break}}const L=await fetch(`${Ne.serverPath}${Oe.opencodeCreateInstance}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g,id:v})});if(!L.ok){alert("Failed to create new opencode terminal"),l({isCreatingInstance:!1});return}const S=await L.json(),y=[{instance:{id:S.id,name:S.name,url:S.url,port:S.port,createdAt:S.createdAt,lastSessionId:S.id},isActive:!0,conversation:[]}],f=b().opencodeInstances.map(o=>({...o,isActive:!1}));l({opencodeInstances:[...f,...y]}),l({isCreatingInstance:!1})},loadInstances:async()=>{try{const g=await fetch(`${Ne.serverPath}${Oe.opencodeListInstances}`);if(!g.ok)return;const L=(await g.json()).instances.map(S=>{const y=b().opencodeInstances.find(f=>f.instance.id===S.id);return y||{instance:{server:null,url:S.url,port:S.port,id:S.id,name:S.name,createdAt:S.createdAt,pid:S.pid},isActive:!1,conversation:[]}});L.length>0&&(L[0].isActive=!0),l({opencodeInstances:L})}catch(g){console.error(g)}}})),Rn=Dn(Ik);function Bk({setBarWidth:l}){const[b,g]=te.useState(!1),v=te.useRef(null);return te.useEffect(()=>{const L=y=>{if(!b||!v.current)return;const f=v.current.parentElement;if(!f)return;const o=f.clientWidth*.98,h=f.clientWidth*.02,r=y.clientX-f.getBoundingClientRect().left;r>o||r<h||l(r)},S=()=>{g(!1)};return b&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",S)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",S)}},[b]),N.jsx("div",{ref:v,className:"w-1 h-full cursor-col-resize hover:bg-white/20 active:bg-blue-500 transition-colors rounded-full",onMouseDown:()=>g(!0)})}function Hk({isVisible:l}){const b=Rn.use.isOpencodeInstalled(),g=Rn.use.createInstance();function v(){b&&g("Opencode")}return l?N.jsx("div",{className:"h-full w-full flex items-center justify-center p-4",children:N.jsxs("div",{className:"w-full h-full max-w-6xl flex flex-col items-center justify-center text-center relative overflow-hidden",children:[N.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-16 mb-12 w-full",children:[N.jsx("div",{className:"flex-shrink-0",children:N.jsxs("div",{className:"relative w-80 h-48 bg-gray-900/80 overflow-hidden flex  select-none",children:[N.jsx("style",{children:`
                            @keyframes drag-move {
                                0%, 15% { transform: translate(0, 0); }
                                25% { transform: translate(5px, 5px); }
                                60% { transform: translate(140px, 20px); }
                                80% { transform: translate(140px, 20px); opacity: 1; }
                                85% { transform: translate(140px, 20px); opacity: 0; }
                                100% { transform: translate(0, 0); opacity: 0; }
                            }
                            @keyframes cursor-move {
                                0%, 10% { transform: translate(0, 0); }
                                25% { transform: translate(15px, 25px) scale(0.9); }
                                60% { transform: translate(150px, 40px) scale(0.9); }
                                80% { transform: translate(150px, 40px) scale(1); }
                                100% { transform: translate(0, 0); }
                            }
                            @keyframes terminal-glow {
                                    0%, 55% { border-color: transparent; background-color: transparent; }
                                    60%, 80% { border-color: rgba(59, 130, 246, 0.4); background-color: rgba(59, 130, 246, 0.1); }
                                    100% { border-color: transparent; background-color: transparent; }
                            }
                            .animate-drag-file { animation: drag-move 4s ease-in-out infinite; }
                            .animate-drag-cursor { animation: cursor-move 4s ease-in-out infinite; }
                            .animate-terminal-glow { animation: terminal-glow 4s ease-in-out infinite; }
                        `}),N.jsxs("div",{className:"w-1/3 h-full border-r border-white/10 bg-gray-800/30 p-3 flex flex-col gap-2 relative text-left",children:[N.jsx("div",{className:"h-2 w-16 bg-white/10 rounded mb-1"}),N.jsxs("div",{className:"flex items-center gap-2 text-white/20",children:[N.jsx("i",{className:"fas fa-folder text-[10px]"}),N.jsx("div",{className:"h-1.5 w-12 bg-white/10 rounded"})]}),N.jsxs("div",{className:"flex items-center gap-2 text-blue-400/80 bg-blue-500/10 p-1 rounded -ml-1",children:[N.jsx("i",{className:"fas fa-file-code text-xs"}),N.jsx("span",{className:"text-[10px] font-mono",children:"app.ts"})]}),N.jsxs("div",{className:"flex items-center gap-2 text-white/20",children:[N.jsx("i",{className:"fas fa-file text-[10px]"}),N.jsx("div",{className:"h-1.5 w-10 bg-white/10 rounded"})]}),N.jsxs("div",{className:"absolute top-[46px] left-[12px] flex items-center gap-2 text-blue-400 bg-blue-500/20 p-1 rounded border border-blue-500/30 z-20 animate-drag-file shadow-lg pointer-events-none",children:[N.jsx("i",{className:"fas fa-file-code text-xs"}),N.jsx("span",{className:"text-[10px] font-mono",children:"app.ts"})]})]}),N.jsxs("div",{className:"flex-1 font-mono text-[10px] text-gray-400 relative bg-black/20 text-left overflow-hidden",children:[N.jsx("div",{className:"absolute inset-1 border-2 border-dashed rounded-lg animate-terminal-glow z-10"}),N.jsx("img",{src:"/opencode.jpg",className:"w-full h-full object-cover opacity-60 grayscale-[20%]",alt:"Terminal Preview"})]}),N.jsx("div",{className:"absolute top-[50px] left-[20px] z-30 text-white drop-shadow-lg animate-drag-cursor pointer-events-none",children:N.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"filter drop-shadow-md",children:N.jsx("path",{d:"M7 2l12 11.2-5.8.5 3.3 7.3-2.2.9-3.2-7.4-4.4 4.6V2z",fill:"white",stroke:"black",strokeWidth:"1"})})})]})}),N.jsxs("div",{className:"max-w-lg text-left",children:[N.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Opencode Ready"}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("p",{className:"text-neutral-300 text-lg leading-relaxed",children:"OpenCode is opensource terminal based AI coding assistant that helps you write code, debug errors, and understand your project structure directly from the terminal."}),N.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"You can use the file browser on the side to navigate your project. Simply drag and drop files or folders into the terminal to provide context to the AI."})]})]})]}),N.jsx("div",{className:"mb-8 w-full flex flex-col gap-4",children:N.jsx("div",{className:"w-120 mx-auto flex items-center gap-4",children:b?N.jsxs("button",{onClick:v,className:"w-64 mx-auto items-center justify-center py-4 font-semibold text-white transition-all duration-200 bg-blue-600 rounded-lg hover:bg-blue-500 hover:shadow-lg hover:shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 focus:ring-offset-neutral-900  transform hover:-translate-y-1",children:[N.jsx("i",{className:"fas fa-terminal mr-3"}),"Launch"]}):N.jsxs("button",{onClick:v,className:"w-64 mx-auto items-center justify-center py-4 font-semibold text-white transition-all duration-200 bg-blue-600 rounded-lg hover:bg-blue-500 hover:shadow-lg hover:shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 focus:ring-offset-neutral-900  transform hover:-translate-y-1",children:[N.jsx("i",{className:"fas fa-terminal mr-3"}),"Launch"]})})}),N.jsx("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:N.jsxs("p",{className:"text-xs text-neutral-500",children:["Not all features are support in this app, please use",N.jsx("a",{href:"https://opencode.ai/",target:"_blank",rel:"noopener noreferrer",className:"mx-1 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"the terminal, web or desktop version"}),"for the full experience."]})})]})}):null}const zk=$n()((l,b)=>({projectTree:[],root:"",changes:0,openFolders:{},loadProjectTree:async()=>{const v=await(await fetch(`${Ne.serverPath}${Oe.scanProject}`)).json();l({projectTree:v.content,root:v.root,changes:v.changes})},toggleFolder:g=>l(v=>({openFolders:{...v.openFolders,[g]:!v.openFolders[g]}})),setIsPasteProjecTextEnable:g=>l({isPasteProjecTextEnable:g}),isPasteProjecTextEnable:!1,selectedPath:"",selectedFolder:"",setSelectedPath:g=>l(()=>{const v=g.split("/").filter(f=>f!==""),S=(v[v.length-1]||"").includes(".");let y;return S&&v.pop(),y=v.pop()||"/",{selectedPath:g,selectedFolder:y}}),getParentPath:()=>{const{selectedPath:g,root:v}=b();return g?(g.split("/").pop()||"").includes(".")?g.substring(0,g.lastIndexOf("/"))||v:g:v},isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:"",openFileEditor:g=>l({isFileEditorOpen:!0,currentFilePath:g,currentFile:g.split("/").pop()||"",curentFileType:g.split(".").pop()||""}),closeFileEditor:()=>l({isFileEditorOpen:!1,currentFile:"",currentFilePath:"",curentFileType:""}),isEditable:g=>{const v=["png","jpg","jpeg","gif","bmp","webp","ico","svg","tiff","tif","avif","mp4","avi","mkv","mov","wmv","flv","webm","m4v","3gp","mp3","wav","ogg","flac","aac","m4a","wma","pdf","doc","docx","xls","xlsx","ppt","pptx","zip","rar","7z","tar","gz","bz2","xz","ttf","otf","woff","woff2","eot","exe","dll","so","dylib","bin","dat","db","sqlite"],L=g.split(".").pop()?.toLowerCase();return!v.includes(L||"")},loadFile:async g=>{try{const v=await fetch(`${Ne.serverPath}${Oe.textEditor}/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g})});return v.ok?(await v.json()).content:""}catch(v){return console.error(v),""}},saveFile:async(g,v)=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g,content:v})})).json()}catch(L){return console.error(L),{error:"Failed to save"}}},createNewFile:async g=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/newfile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},createNewFolder:async g=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/newfolder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g})})).json()}catch(v){return console.error(v),{error:"Failed to create"}}},delete:async g=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g})})).json()}catch(v){return console.error(v),{error:"Failed to delete"}}},rename:async(g,v)=>{try{return await(await fetch(`${Ne.serverPath}${Oe.textEditor}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g,newname:v})})).json()}catch(L){return console.error(L),{error:"Failed to rename"}}},getFileDiff:async g=>{try{const v=await fetch(`${Ne.serverPath}${Oe.textEditor}/diff`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g})});return v.ok?await v.json():{added:[],modified:[]}}catch(v){return console.error(v),{added:[],modified:[]}}}})),nt=Dn(zk);function Fk({name:l}){const b=l.split(".").pop()?.toLowerCase();let g="fa-solid fa-file text-white/40";switch(b){case"ts":case"tsx":g="fa-solid fa-file-code text-blue-400";break;case"js":case"jsx":g="fa-brands fa-js text-yellow-400";break;case"json":g="fa-solid fa-file-code text-yellow-200";break;case"css":case"scss":g="fa-brands fa-css3 text-blue-300";break;case"html":g="fa-brands fa-html5 text-orange-400";break;case"md":g="fa-brands fa-markdown text-white/60";break;case"png":case"jpg":case"jpeg":case"svg":g="fa-solid fa-image text-purple-400";break}return N.jsx("i",{className:`${g} w-4 text-center`})}function s0({path:l,name:b,onClose:g}){const v=te.useRef(null),L=Ft.use.showModal(),S=nt.use.rename(),y=nt.use.delete(),f=nt.use.loadProjectTree();te.useEffect(()=>{function r(n){v.current&&!v.current.contains(n.target)&&g()}return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[g]);const o=r=>{r.stopPropagation(),g(),L("prompt","Rename",`Enter new name for "${b}"`,"success",async n=>{n&&n!==b&&(await S(l,n),f())},null,"Enter new name",b)},h=r=>{r.stopPropagation(),g(),L("confirm","Delete",`Are you sure you want to delete "${b}"? This can only be undone if the file was previously committed to Git.`,"error",async n=>{n&&(await y(l),f())})};return N.jsxs("div",{ref:v,className:"absolute right-0 top-full mt-1 bg-gray-800 border border-white/10 rounded shadow-xl z-50 overflow-hidden min-w-[120px]",onClick:r=>r.stopPropagation(),children:[N.jsxs("button",{onClick:o,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-edit text-xs text-blue-400"}),"Rename"]}),N.jsxs("button",{onClick:h,className:"w-full px-3 py-2 text-left text-sm text-white/80 hover:bg-white/10 flex items-center gap-2",children:[N.jsx("i",{className:"fas fa-trash text-xs text-red-400"}),"Delete"]})]})}function us({icon:l,onClick:b,title:g,className:v}){return N.jsx("button",{onClick:L=>{L.stopPropagation(),b()},className:`w-6 h-6 bg-gradient-to-br from-blue-600/50 to-blue-400/50 rounded flex items-center justify-center text-white ${v}`,title:g,children:N.jsx("i",{className:l})})}function Iy({item:l,level:b=0}){const g=Xe.use.projectTreeFontSize(),[v,L]=te.useState(!1),S="folder"in l,y=l.path,f=nt(_=>_.openFolders[y]||!1),o=nt.use.toggleFolder(),h=nt.use.openFileEditor(),r=nt.use.isEditable(),n=nt.use.loadFile(),[i,s]=te.useState(null),c=nt.use.setSelectedPath(),u=nt(_=>_.selectedPath),a=b*12+4,d=S?l.folder:l.file,m=l.color,x=nt.use.isPasteProjecTextEnable(),C=m==="yellow"?"text-yellow-400":m==="green"?"text-green-400":"text-white/70";function w(_){n(_).then(k=>{s(k)})}if(S){const _=l;return N.jsxs("div",{children:[N.jsxs("div",{className:`
                        flex  py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                        ${u===y?"bg-blue-400/8":""}
                    `,style:{paddingLeft:`${a}px`},onClick:k=>{k.stopPropagation(),o(y),c(y)},draggable:!0,onDragStart:k=>{k.dataTransfer.setData("text/plain",`@${_.path} 
`),k.dataTransfer.effectAllowed="copy"},children:[N.jsx("i",{className:`fa-solid ${f?"fa-folder-open":"fa-folder"} text-blue-400/80 mr-2 text-[${g}px]`}),N.jsx("span",{className:`text-[${g}px] truncate ${C} group-hover:text-white`,children:d}),u===y&&N.jsxs("div",{className:"flex-end ml-auto relative",children:[N.jsx(us,{onClick:()=>{L(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&N.jsx(s0,{path:y,name:d,onClose:()=>L(!1)})]})]}),f&&N.jsx("div",{children:_.content.map((k,A)=>N.jsx(Iy,{item:k,level:b+1},A))})]})}else{const _=l;return N.jsxs("div",{className:`
                    flex items-center py-0.5 px-2 hover:bg-white/[0.05] cursor-pointer select-none group
                    ${u===_.path?"bg-blue-400/8":""}
                `,style:{paddingLeft:`${a}px`},draggable:!0,onDragStart:k=>{x?(k.dataTransfer.setData("text/plain",`${_.path}
${i}

`),k.dataTransfer.effectAllowed="copy"):(k.dataTransfer.setData("text/plain",`@${_.path} 
`),k.dataTransfer.effectAllowed="copy")},onClick:k=>{k.stopPropagation(),c(_.path),x?w(_.path):s("")},onDoubleClick:k=>{k.preventDefault();const A=_.path.replace("@","");r(A)&&h(A)},children:[N.jsx("div",{className:"w-4"}),N.jsx("span",{className:`mr-2 text-[${g}px]`,children:N.jsx(Fk,{name:d})}),N.jsx("span",{className:`text-[${g}px] truncate ${C} group-hover:text-white`,children:d}),u===y&&N.jsxs("div",{className:"flex-end ml-auto relative",children:[N.jsx(us,{onClick:()=>{L(!v)},title:"Edit",icon:"fas fa-pencil-alt text-xs",className:"!w-5 !h-5"}),v&&N.jsx(s0,{path:y,name:d,onClose:()=>L(!1)})]})]})}}function Pk(){const l=nt.use.changes(),b=nt.use.loadProjectTree(),g=Ft.use.showModal(),v=nt.use.selectedFolder(),L=nt.use.createNewFolder(),S=nt.use.createNewFile(),y=nt.use.getParentPath(),f=as.use.stashCount(),o=nt.use.isPasteProjecTextEnable(),h=nt.use.setIsPasteProjecTextEnable();async function r(){g("prompt","New Folder",`Create a new folder at ${v}`,"success",async i=>{if(i){const c=`${y()}/${i}`;await L(c),b()}})}async function n(){g("prompt","New File",`Create a new file at ${v}`,"success",async i=>{if(i){const c=`${y()}/${i}`;await S(c),b()}})}return N.jsxs("div",{className:"flex items-center justify-between p-2",children:[N.jsxs("div",{className:"text-xs font-medium text-white/40 uppercase tracking-wider pl-1",children:[l," change",l>1?"s":""]}),N.jsxs("div",{className:"flex flex-end gap-2",children:[N.jsxs("div",{className:"relative",children:[N.jsx(us,{onClick:()=>Xe.use.setShowGit()(!0),title:"Git Stash",icon:"fa-solid fa-clock-rotate-left text-xs"}),f>0&&N.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30 pointer-events-none",children:f})]}),N.jsx(us,{onClick:n,title:"New File",icon:"fas fa-file text-xs"}),N.jsx(us,{onClick:r,title:"New Folder",icon:"fas fa-folder text-xs"}),N.jsx(us,{onClick:()=>h(!o),title:o?"Will Paste Project Text":"Paste @<path>",icon:"fas fa-paste text-xs",className:o?"bg-red-600":""})]})]})}function Wk(l){return N.jsxs("button",{onClick:b=>{b.stopPropagation(),l.onClick()},className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[N.jsx("span",{className:"relative z-10",children:l.text}),N.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function Uk(){const l=nt.use.isFileEditorOpen(),b=nt.use.currentFile(),g=nt.use.currentFilePath(),v=nt.use.curentFileType(),L=nt.use.loadProjectTree(),S=nt.use.closeFileEditor(),y=nt.use.loadFile(),f=nt.use.saveFile(),o=nt.use.getFileDiff(),[h,r]=te.useState(""),[n,i]=te.useState(void 0),[s,c]=te.useState(void 0);if(te.useEffect(()=>{l&&g?(y(g).then(u=>{r(typeof u=="string"?u:"")}),o(g).then(u=>{u&&(u.added?.length>0||u.modified?.length>0)?i({added:u.added||[],modified:u.modified||[]}):i(void 0)})):i(void 0)},[l,g]),l)return N.jsxs(On,{width:"1200px",children:[N.jsx(jn,{title:b,description:g,close:()=>S(),icon:"fa-solid fa-file-code"}),N.jsx("div",{className:"p-2 flex-1 text-md h-full",children:N.jsx(Sc,{value:h,transparent:!0,mode:v==="js"||v==="jsx"?"javascript":v==="ts"||v==="tsx"?"typescript":"json",height:"60vh",width:"100%",onChange:u=>{r(u)},diffMarkers:n,onSave:()=>{g&&(f(g,h),S(),L())},rightClickMenu:(u,a,d,m)=>{m&&c({start:m.startLine,end:m.endLine})},contextMenuComponent:N.jsx("div",{className:"bg-gray-800 w-[200px] p-2 rounded-md",children:N.jsxs("button",{className:"flex gap-2 w-full text-left p-2 rounded-md hover:bg-gray-700",onClick:()=>{if(!g)return;const u=new CustomEvent("opencode:terminal:type",{detail:"@"+g+" Lines: "+s?.start+" - "+s?.end+`
`});window.dispatchEvent(u),S()},children:[N.jsx("i",{className:"fa-solid fa-code"}),N.jsx("span",{className:"text-sm",children:"Chat About This"})]})})})}),N.jsxs("div",{className:"flex justify-end gap-2 p-3",children:[N.jsx(Wk,{onClick:()=>S(),text:"Close"}),N.jsx(Qi,{className:"w-[200px]",onClick:()=>{g&&(f(g,h),S(),L())},text:"Save (Ctrl + S)",icon:"fa-solid fa-floppy-disk"})]})]})}function Vk(l){const b=nt.use.projectTree(),g=Xe.use.loadRootDir(),v=as.use.loadGitStashList(),L=nt.use.setSelectedPath(),S=nt.use.loadProjectTree(),[y,f]=te.useState(null);return te.useEffect(()=>{if(l.isVisible){g(),S(),v();const o=setInterval(()=>{S(),v()},5e3);f(o)}else clearInterval(y);return()=>{clearInterval(y)}},[l.isVisible]),N.jsxs("div",{className:`flex flex-col h-full min-h-0 bg-gray-800/20 rounded ${l.className}`,children:[N.jsx(Pk,{}),N.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden min-h-0 py-1",onClick:o=>{o.stopPropagation(),L("")},children:b&&b.length>0?b.map((o,h)=>N.jsx(Iy,{item:o},h)):N.jsx("div",{className:"p-4 text-center text-white/20 text-xs italic",children:"Loading or empty..."})}),N.jsx(Uk,{})]})}function Gk(l){const b=Rn.use.opencodeInstances(),g=Rn.use.setInstanceActive(),v=Rn.use.closeInstance(),L=Ft.use.showModal();function S(y){y.stopPropagation(),L("confirm","Close this Opencode?",`Are you sure you want to close ${l.instance.name}?`,"warning",f=>{f&&v(l.instance.id)})}return N.jsx("div",{className:"flex items-center",children:N.jsxs("div",{onClick:()=>g(l.instance.id),className:`
                        group relative flex items-center justify-between rounded-t-md w-36 px-2 py-0.3
                        cursor-pointer transition-all duration-300 select-none
                        border-r border-white/5
                        ${l.isActive?"bg-gradient-to-br from-blue-600/40 to-blue-400/40 text-white":"bg-[#0b0b0b] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[N.jsx("span",{className:"truncate text-sm flex-1",children:l.instance.name}),b.length>1?N.jsx("button",{onClick:S,className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-0.5 rounded",children:N.jsx("i",{className:"fa-solid fa-times text-xs"})}):N.jsx("div",{className:"opacity-0 p-0.5",children:N.jsx("i",{className:"fa-solid fa-times text-xs"})})]})})}function Kk({instance:l,onSaveLogs:b}){const g=`http://localhost:${l.instance.port}`;return N.jsxs("div",{className:"shrink-0 flex items-center justify-between px-5 py-2.5 border-b border-white/[0.06]",children:[N.jsx("button",{className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors",onClick:()=>{window.open(g,"_blank")},children:"Open Opencode Official Web app"}),b&&N.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1.5 bg-[#1e1e1e] hover:bg-[#2a2a2a] text-xs text-gray-300 rounded-md border border-gray-800 transition-colors",title:"Download Chat Logs",children:[N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[N.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),N.jsx("polyline",{points:"7 10 12 15 17 10"}),N.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Save Logs"]})]})}function Yk(l,b){return{fetchGlobalConfig:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/global/config`);if(!v.ok)return null;const L=await v.json();return l({globalConfig:L}),L}catch(v){return console.error("[opencode] Failed to fetch global config:",v),null}},updateGlobalConfig:async g=>{const{apiBase:v}=b();try{const L=await fetch(`${v}/global/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!L.ok)return null;const S=await L.json();return l({globalConfig:S}),S}catch(L){return console.error("[opencode] Failed to update global config:",L),null}},fetchConfig:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/config`);if(!v.ok)return null;const L=await v.json();if(l({globalConfig:L}),!b().configSynced){const S={configSynced:!0};if(L.model){S.selectedModel=L.model;const f=L.model.includes("/")?L.model.split("/")[0]:"";f&&(S.selectedProvider=f)}L.default_agent&&(S.selectedAgent=L.default_agent);const y=b().selectedAgent;L.agent?.[y]?.model&&(S.selectedModel=L.agent[y].model),l(S)}return L}catch(v){return console.error("[opencode] Failed to fetch config:",v),null}},updateConfig:async g=>{const{apiBase:v}=b();try{const L=await fetch(`${v}/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!L.ok)return null;const S=await L.json();return l({globalConfig:S}),S}catch(L){return console.error("[opencode] Failed to update config:",L),null}}}}function Xk(l,b){return{fetchProviders:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/provider`);if(!v.ok)return;const L=await v.json(),S=[...L.all||[]].sort((f,o)=>f.id==="opencode"?-1:o.id==="opencode"?1:f.name.localeCompare(o.name)),y=[];for(const f of S)if(f.models&&typeof f.models=="object")for(const o of Object.values(f.models))y.push({id:`${f.id}/${o.id}`,name:o.name||o.id,provider:f.id,reasoning:o.reasoning??!1});if(l({providers:S,connectedProviders:L.connected||[],providerDefaults:L.default||{},flatModels:y}),!b().configSynced&&!b().selectedProvider){const f=S.filter(o=>(L.connected||[]).includes(o.id));if(f.length>0){const o=f.find(h=>h.id!=="opencode");l({selectedProvider:(o||f[0]).id})}}}catch(v){console.error("[opencode] Failed to fetch providers:",v)}},fetchAuthMethods:async g=>{const{apiBase:v}=b();try{const L=await fetch(`${v}/provider/auth`);return L.ok?(await L.json())[g]||[]:[]}catch(L){return console.error("[opencode] Failed to fetch auth methods:",L),[]}},setAuthCredentials:async(g,v)=>{const{apiBase:L}=b();try{return(await fetch(`${L}/auth/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok?(await b().fetchProviders(),!0):!1}catch(S){return console.error("[opencode] Failed to set auth:",S),!1}},removeAuthCredentials:async g=>{const{apiBase:v}=b();try{return(await fetch(`${v}/auth/${g}`,{method:"DELETE"})).ok?(await b().fetchProviders(),!0):!1}catch(L){return console.error("[opencode] Failed to remove auth:",L),!1}},setShowAuthModal:g=>l({showAuthModal:g}),setAuthProviderId:g=>l({authProviderId:g}),setAuthApiKey:g=>l({authApiKey:g}),connectProviderWithKey:async()=>{const{authProviderId:g,authApiKey:v}=b();if(!g||!v)return;await b().setAuthCredentials(g,{type:"key",apiKey:v})&&l({showAuthModal:!1,authApiKey:"",authProviderId:""})}}}function qk(l,b){return{createSession:async g=>{const{apiBase:v}=b();try{const L={};g&&(L.title=g);const S=await fetch(`${v}/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!S.ok)return null;const y=await S.json();return l({sessionId:y.id,session:y}),y}catch(L){return console.error("[opencode] Failed to create session:",L),null}},listSessions:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/session`);if(!v.ok)return[];const L=await v.json();return l({sessions:L}),L}catch(v){return console.error("[opencode] Failed to list sessions:",v),[]}},deleteSession:async g=>{const{apiBase:v}=b();try{return(await fetch(`${v}/session/${g}`,{method:"DELETE"})).ok?(b().sessionId===g&&l({sessionId:null,session:null,messages:[]}),l(S=>({sessions:S.sessions.filter(y=>y.id!==g)})),!0):!1}catch(L){return console.error("[opencode] Failed to delete session:",L),!1}},abortSession:async g=>{const{apiBase:v}=b();try{return(await fetch(`${v}/session/${g}/abort`,{method:"POST"})).ok?(l({isStreaming:!1}),!0):!1}catch(L){return console.error("[opencode] Failed to abort session:",L),!1}},fetchMessages:async g=>{const{apiBase:v}=b();try{const L=await fetch(`${v}/session/${g}/message`);if(!L.ok)return;const S=await L.json();l({messages:S})}catch(L){console.error("[opencode] Failed to fetch messages:",L)}}}}function Zk(l,b){return{chat:async(g,v,L)=>{const{apiBase:S,sessionId:y,selectedAgent:f,selectedModel:o}=b();if(!g.trim()||!y){console.warn("[opencode] chat() called without text or session");return}l({isStreaming:!0});const h={parts:[{type:"text",text:g}]};if(f&&(h.agent=f),o){const[s,c]=o.includes("/")?[o.split("/")[0],o.split("/").slice(1).join("/")]:["",o];s&&c&&(h.model={providerID:s,modelID:c})}const r={current:null};let n=!1;const i=new Promise(s=>{const c=new EventSource(`${S}/event`);l({eventSource:c});const u=d=>{try{const m=JSON.parse(d.data),x=Qk(m,y);if(!x)return;if(m.type==="message.part.updated"&&m.properties?.part){const C=m.properties.part;l(w=>({streamingParts:{...w.streamingParts,[C.id]:C}}))}if(v(x),m.type==="message.updated"){const C=m.properties?.info;C?.role==="assistant"&&C?.sessionID===y&&(C?.time?.completed||C?.finish)&&(L(C),n=!0,a(),s())}m.type==="session.idle"&&m.properties?.sessionID===y&&!n&&Jk(S,y).then(C=>{C&&L(C),n=!0,a(),s()}),m.type==="session.error"&&m.properties?.sessionID===y&&(n=!0,a(),s())}catch(m){console.error("[opencode] SSE parse error:",m)}};c.onmessage=u,c.onerror=()=>{console.warn("[opencode] SSE connection error"),n||(n=!0,a(),s())};const a=()=>{c.close(),l({eventSource:null,isStreaming:!1,streamingParts:{}})};r.current=a});try{const s=await fetch(`${S}/session/${y}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!s.ok){const c=await s.text();console.error("[opencode] Failed to send message:",c),v({kind:"error",sessionID:y,error:{name:"APIError",data:{message:c}}}),r.current?.(),l({isStreaming:!1});return}}catch(s){console.error("[opencode] Network error sending message:",s),v({kind:"error",sessionID:y,error:{name:"NetworkError",data:{message:String(s)}}}),r.current?.(),l({isStreaming:!1});return}await Promise.race([i]),y&&await b().fetchMessages(y)},connectSSE:g=>{b().disconnectSSE();const{apiBase:v}=b(),L=new EventSource(`${v}/event`);l({eventSource:L}),L.onmessage=S=>{try{const y=JSON.parse(S.data);if(y.type==="session.status"&&y.properties?.sessionID===g){const f=y.properties.status;l({isStreaming:f?.type==="busy"})}if(y.type==="message.part.updated"){const f=y.properties?.part;f?.sessionID===g&&l(o=>({streamingParts:{...o.streamingParts,[f.id]:f}}))}y.type==="session.idle"&&y.properties?.sessionID===g&&(b().fetchMessages(g),l({isStreaming:!1,streamingParts:{}}))}catch{}},L.onerror=()=>{console.warn("[opencode] Persistent SSE connection lost, reconnecting in 3s..."),setTimeout(()=>{b().sessionId===g&&b().connectSSE(g)},3e3)}},disconnectSSE:()=>{const{eventSource:g}=b();g&&(g.close(),l({eventSource:null}))}}}function Qk(l,b){const g=l.properties;switch(l.type){case"message.part.updated":{const v=g?.part;if(!v||v.sessionID!==b)return null;switch(v.type){case"text":return{kind:"text",partID:v.id,messageID:v.messageID,text:v.text||"",delta:g?.delta};case"reasoning":return{kind:"reasoning",partID:v.id,messageID:v.messageID,text:v.text||""};case"tool":return{kind:"tool",partID:v.id,messageID:v.messageID,tool:v.tool,callID:v.callID,state:v.state};case"step-start":return{kind:"step-start",partID:v.id,messageID:v.messageID};case"step-finish":return{kind:"step-finish",partID:v.id,messageID:v.messageID,reason:v.reason,cost:v.cost,tokens:{input:v.tokens?.input||0,output:v.tokens?.output||0,reasoning:v.tokens?.reasoning||0}};case"subtask":return{kind:"subtask",partID:v.id,messageID:v.messageID,prompt:v.prompt,description:v.description,agent:v.agent};default:return null}}case"session.status":return g?.sessionID!==b?null:{kind:"status",sessionID:g.sessionID,status:g.status?.type||"idle"};case"session.error":return g?.sessionID!==b?null:{kind:"error",sessionID:g.sessionID,error:g.error||{name:"UnknownError",data:{message:"Unknown error"}}};default:return null}}async function Jk(l,b){try{const g=await fetch(`${l}/session/${b}/message`);if(!g.ok)return null;const v=await g.json();for(let L=v.length-1;L>=0;L--)if(v[L].info.role==="assistant")return v[L].info;return null}catch{return null}}function eT(l,b){return{fetchAgents:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/agent`);if(!v.ok)return;const L=await v.json();l({agents:L})}catch(v){console.error("[opencode] Failed to fetch agents:",v)}}}}const tT=$n((l,b)=>({apiBase:"",connected:!1,serverVersion:"",globalConfig:null,configSynced:!1,providers:[],connectedProviders:[],providerDefaults:{},flatModels:[],selectedProvider:"",selectedModel:"",selectedAgent:"build",agents:[],sessionId:null,session:null,sessions:[],messages:[],isStreaming:!1,streamingParts:{},eventSource:null,showAuthModal:!1,authProviderId:"",authApiKey:"",setSelectedProvider:g=>l({selectedProvider:g,selectedModel:""}),setSelectedModel:g=>l({selectedModel:g}),setSelectedAgent:g=>l({selectedAgent:g}),init:async g=>{l({apiBase:g}),await b().checkHealth()&&await b().syncAll()},checkHealth:async()=>{const{apiBase:g}=b();try{const v=await fetch(`${g}/global/health`);if(!v.ok)return!1;const L=await v.json();return l({connected:L.healthy===!0,serverVersion:L.version||""}),L.healthy===!0}catch{return l({connected:!1}),!1}},dispose:()=>{b().disconnectSSE(),l({connected:!1,sessionId:null,session:null,messages:[],isStreaming:!1,streamingParts:{},configSynced:!1})},syncAll:async()=>{l({configSynced:!1}),await b().fetchProviders(),await b().fetchConfig(),await b().fetchAgents()},...Yk(l,b),...Xk(l,b),...qk(l,b),...Zk(l,b),...eT(l,b)})),fd=Dn(tT),o0=({item:l})=>{switch(l.kind){case"user":return N.jsx("div",{className:"flex justify-end mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:N.jsx("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-2xl rounded-tr-sm max-w-[80%] break-words shadow-md",children:l.text})});case"text":return N.jsx("div",{className:"flex justify-start mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:N.jsx("div",{className:"bg-[#1e1e1e] text-gray-200 px-4 py-3 rounded-2xl rounded-tl-sm max-w-[85%] break-words border border-gray-800 shadow-sm leading-relaxed whitespace-pre-wrap",children:l.text})});case"reasoning":return N.jsx("div",{className:"flex justify-start mb-2 px-1 w-full animate-in fade-in duration-300",children:N.jsxs("div",{className:"text-gray-500 text-sm italic border-l-2 border-gray-700 pl-4 py-1 w-full max-w-[90%]",children:[N.jsx("span",{className:"text-xs uppercase font-bold text-gray-600 not-italic block mb-1",children:"Thinking Process"}),N.jsx("div",{className:"whitespace-pre-wrap",children:l.text})]})});case"tool":return N.jsx("div",{className:"flex justify-start mb-4 w-full animate-in fade-in duration-300",children:N.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-lg p-3 max-w-[90%] font-mono text-xs w-full overflow-hidden shadow-inner",children:[N.jsxs("div",{className:"text-emerald-500 mb-2 flex items-center gap-2 font-bold uppercase tracking-wider text-[10px]",children:[N.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),"Tool Execution"]}),N.jsx("div",{className:"text-gray-400 overflow-x-auto whitespace-pre-wrap bg-black/50 p-2 rounded",children:typeof l.tool=="string"?l.tool:JSON.stringify(l.tool,null,2)})]})});case"subtask":return N.jsx("div",{className:"flex justify-center my-4 w-full animate-in fade-in duration-300",children:N.jsxs("div",{className:"bg-gray-900/80 text-gray-400 text-xs px-3 py-1.5 rounded-full border border-gray-800 flex items-center gap-2",children:[N.jsx("span",{children:""}),N.jsx("span",{children:l.description})]})});case"error":return N.jsx("div",{className:"flex justify-start mb-4 w-full animate-in fade-in duration-300",children:N.jsxs("div",{className:"bg-red-950/30 text-red-400 px-4 py-2 rounded-lg border border-red-900/30 text-sm flex items-center gap-2",children:[N.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Error: ",l.text]})});default:return null}};function nT({instance:l}){const b=fd.use.init(),g=fd.use.chat(),v=fd.use.createSession(),[L,S]=te.useState([]),[y,f]=te.useState(""),[o,h]=te.useState(!1),[r,n]=te.useState(""),[i,s]=te.useState(null),c=te.useRef(null),u=()=>{c.current?.scrollIntoView({behavior:"smooth"})};te.useEffect(()=>{(async()=>l?.instance?.url&&(await b(l.instance.url),await v()))()},[]),te.useEffect(()=>{u()},[L,r,i]);async function a(){if(!y.trim()||o)return;const m=y;f(""),h(!0),S(A=>[...A,{kind:"user",text:m}]);let x="",C=null,w=null;const _=new Map,k=()=>{if(x&&C){const A=w&&_.get(w)||0,T=x.slice(A);T&&(S(j=>[...j,{kind:C,text:T}]),w&&_.set(w,x.length))}};await g(m,A=>{if(A.kind==="tool"||A.kind==="subtask"||A.kind==="error"){k(),C=null,w=null,x="",n(""),s(null),A.kind==="tool"?S(T=>[...T,{kind:"tool",tool:A.tool}]):A.kind==="subtask"?S(T=>[...T,{kind:"subtask",description:A.description}]):A.kind==="error"&&S(T=>[...T,{kind:"error",text:A.error?.data?.message||"Unknown error"}]);return}if(!(A.kind==="status"||A.kind==="step-start"||A.kind==="step-finish")&&(A.kind==="text"||A.kind==="reasoning")){const T=C&&C!==A.kind,j=w&&w!==A.partID;(T||j)&&(k(),n("")),C=A.kind,w=A.partID,s(A.kind),x=A.text;const F=w&&_.get(w)||0;n(x.slice(F))}},A=>{k(),n(""),s(null),h(!1)})}async function d(){const m=L.map(_=>{const k=new Date().toISOString();return _.kind==="reasoning"?`[${k}] [THINKING] 
${_.text}
`:_.kind==="tool"?`[${k}] [TOOL] 
${JSON.stringify(_.tool,null,2)}
`:_.kind==="subtask"?`[${k}] [SUBTASK] ${_.description}
`:_.kind==="error"?`[${k}] [ERROR] ${_.text}
`:_.kind==="user"?`[${k}] [USER] 
${_.text}
`:`[${k}] [AI] 
${_.text}
`}).join(`
---
`),x=new Blob([m],{type:"text/plain"}),C=URL.createObjectURL(x),w=document.createElement("a");w.href=C,w.download=`chat-logs-${Date.now()}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(C)}return N.jsxs("div",{className:"flex flex-col h-full w-full bg-[#0a0a0a] text-white",children:[N.jsx(Kk,{instance:l,onSaveLogs:d}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:[L.map((m,x)=>N.jsx(o0,{item:m},x)),o&&i&&r&&N.jsx("div",{className:"opacity-90",children:N.jsx(o0,{item:{kind:i,text:r}})}),o&&!r&&!i&&N.jsx("div",{className:"flex justify-start mb-4",children:N.jsx("div",{className:"bg-[#1e1e1e] p-3 rounded-2xl rounded-tl-sm border border-gray-800",children:N.jsxs("div",{className:"flex space-x-1",children:[N.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-0"}),N.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-150"}),N.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-300"})]})})}),N.jsx("div",{ref:c})]}),N.jsxs("div",{className:"p-4 bg-[#0a0a0a] border-t border-gray-800",children:[N.jsxs("div",{className:"relative max-w-4xl mx-auto w-full",children:[N.jsx("input",{type:"text",value:y,onChange:m=>f(m.target.value),onKeyDown:m=>m.key==="Enter"&&a(),placeholder:"Ask the agent...",className:"w-full bg-[#161616] text-gray-200 border border-gray-800 rounded-xl py-3.5 px-5 pr-12 focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600 transition-all placeholder-gray-600 shadow-sm",disabled:o,autoFocus:!0}),N.jsx("button",{onClick:a,disabled:o||!y.trim(),className:`absolute right-2 top-2 p-1.5 rounded-lg transition-colors duration-200 ${o||!y.trim()?"text-gray-600 cursor-not-allowed opacity-50":"text-blue-500 hover:bg-blue-500/10 hover:scale-105 active:scale-95"}`,title:"Send message",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[N.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),N.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),N.jsx("div",{className:"text-center mt-2",children:N.jsx("p",{className:"text-[10px] text-gray-600",children:"Simulated AI Environment"})})]})]})}function iT(l){return N.jsx("div",{className:`w-full h-full ${l.isActive?"block":"hidden"}`,children:N.jsx(nT,{instance:l})})}function rT(){const l=Rn.use.isCreatingInstance(),b=Rn.use.createInstance(),g=Ft.use.showModal(),v=()=>{l||g("prompt","New Instance","Enter the name of the new instance","success",L=>{L&&L.trim()!==""&&b(L.trim())})};return N.jsx(us,{icon:l?"fa-solid fa-spinner fa-spin":"fa-solid fa-plus",onClick:v,title:"New Terminal",className:`mx-2 px-2 opacity-50 hover:opacity-100 ${l?"animate-pulse":""}`})}function sT(){const l=Rn.use.opencodeInstances();return N.jsxs("div",{className:"w-full h-full",children:[N.jsxs("div",{className:"flex items-center",children:[l.map(b=>N.jsx(Gk,{...b},b.instance.id)),N.jsx(rT,{})]}),N.jsx("div",{className:"w-full h-full",children:l.map(b=>N.jsx(iT,{...b},b.instance.id))})]})}function oT({isVisible:l}){const b=Rn.use.opencodeInstances(),g=Rn.use.sidebarWidth(),v=Rn.use.setSidebarWidth(),L=Rn.use.loadInstances(),[S,y]=te.useState(!1),f=Rn.use.checkOpencodeInstalled();return te.useEffect(()=>{f(),L()},[]),te.useEffect(()=>{l&&L()},[l]),N.jsxs("div",{className:`h-full w-full p-2 gap-2 ${l?"flex":"hidden"} `,children:[N.jsx("div",{className:"flex flex-col gap-3 h-full min-h-0 overflow-y-auto shrink-0",style:{width:g},children:N.jsx(Vk,{isVisible:l})}),N.jsx(Bk,{setBarWidth:v}),N.jsx("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col rounded overflow-hidden",onDragOver:o=>{o.preventDefault(),S||y(!0)},children:b.length===0?N.jsx(Hk,{isVisible:l}):N.jsx(sT,{})})]})}function aT(){const l=Wm.use.currentPage(),b=Wm.use.action(),g=Xe.use.loadRootDir(),v=Xe.use.checkIfFirstTime(),L=Xe.use.showAboutModal(),S=Xe.use.setShowAboutModal(),y=Xe.use.setShowGit(),f=uc.use.setShowOrchestrator(),[o,h]=te.useState(!1),[r,n]=te.useState(!0);return te.useEffect(()=>{const i=s=>{(s.ctrlKey||s.metaKey)&&(s.key.toLowerCase()==="s"&&(s.preventDefault(),y(!0)),s.key.toLowerCase()==="d"&&(s.preventDefault(),f(!0)))};return window.addEventListener("keydown",i,{capture:!0}),()=>window.removeEventListener("keydown",i,{capture:!0})},[]),te.useEffect(()=>{n(!1),setTimeout(async()=>{await v()&&h(!0),await g()},0)},[]),r?N.jsx(tw,{}):o?N.jsx(ew,{onComplete:()=>h(!1)}):N.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-[#090909] relative",children:[N.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[N.jsx("div",{className:"absolute -top-[20%]    -left-[10%]  w-[70%] h-[50%] bg-blue-600/8 rounded-full blur-[160px]"}),N.jsx("div",{className:"absolute -bottom-[35%] -right-[25%]  w-[70%] h-[50%] bg-blue-500/7 rounded-full blur-[160px]"})]}),N.jsx(h0,{}),N.jsxs("div",{className:"flex flex-1 overflow-hidden h-full w-full ",children:[N.jsx(nx,{navs:[{name:"dashboard",label:"Dashboard",icon:"fa fa-solid fa-house",isSelected:l==="dashboard",onClick:()=>b.setCurrentPage("dashboard")},{name:"workspace",label:"Workspace",icon:"fa fa-cube",isSelected:l==="workspace",onClick:()=>b.setCurrentPage("workspace")},{name:"open-code",label:"Opencode",icon:"fa fa-solid fa-terminal",isSelected:l==="open-code",onClick:()=>b.setCurrentPage("open-code")},{name:"turborepo",label:"Turborepo",icon:"fa fa-solid fa-truck-fast",isSelected:l==="turborepo",onClick:()=>b.setCurrentPage("turborepo")},{name:"crud",label:"CRUD Tester",icon:"fa fa-microscope",isSelected:l==="crud",onClick:()=>b.setCurrentPage("crud")}],extraNavs:[{name:"network",label:"Network & Docker",icon:"fa fa-solid fa-network-wired",isSelected:l==="network",onClick:()=>b.setCurrentPage("network")},{name:"cloudflare",label:"Tunnel (via Cloudflare)",icon:"fa fa-solid fa-cloud",isSelected:l==="cloudflare",onClick:()=>b.setCurrentPage("cloudflare")}]}),N.jsx("main",{className:"flex-1 relative overflow-hidden",children:N.jsxs("div",{className:"w-full h-full pb-8",children:[N.jsx(cx,{isVisible:l==="dashboard"}),N.jsx(Zx,{isVisible:l==="workspace"}),N.jsx(oT,{isVisible:l==="open-code"}),N.jsx(sw,{isVisible:l==="turborepo"}),N.jsx(jw,{isVisible:l==="cloudflare"}),N.jsx(Bw,{isVisible:l==="network"}),N.jsx(Dw,{isVisible:l==="crud"})]})})]}),N.jsx(Gw,{}),N.jsx(jk,{}),N.jsx(Jx,{}),N.jsx(Ow,{isOpen:L,setIsOpen:()=>S(!1)}),N.jsx(Qx,{})]})}const lT=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);lT&&document.documentElement.classList.add("is-chrome");window.addEventListener("beforeunload",l=>{l.preventDefault()});z_.createRoot(document.getElementById("root")).render(N.jsx(te.StrictMode,{children:N.jsx(aT,{})}));

(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))v(M);new MutationObserver(M=>{for(const z of M)if(z.type==="childList")for(const B of z.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&v(B)}).observe(document,{childList:!0,subtree:!0});function u(M){const z={};return M.integrity&&(z.integrity=M.integrity),M.referrerPolicy&&(z.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?z.credentials="include":M.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function v(M){if(M.ep)return;M.ep=!0;const z=u(M);fetch(M.href,z)}})();function Jd(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Jo={exports:{}},an={};var Ad;function L_(){if(Ad)return an;Ad=1;var c=Symbol.for("react.transitional.element"),p=Symbol.for("react.fragment");function u(v,M,z){var B=null;if(z!==void 0&&(B=""+z),M.key!==void 0&&(B=""+M.key),"key"in M){z={};for(var d in M)d!=="key"&&(z[d]=M[d])}else z=M;return M=z.ref,{$$typeof:c,type:v,key:B,ref:M!==void 0?M:null,props:z}}return an.Fragment=p,an.jsx=u,an.jsxs=u,an}var Td;function M_(){return Td||(Td=1,Jo.exports=L_()),Jo.exports}var l=M_(),ec={exports:{}},be={};var Rd;function B_(){if(Rd)return be;Rd=1;var c=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),y=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,n={};function _(N,G,ee){this.props=N,this.context=G,this.refs=n,this.updater=ee||T}_.prototype.isReactComponent={},_.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function h(){}h.prototype=_.prototype;function o(N,G,ee){this.props=N,this.context=G,this.refs=n,this.updater=ee||T}var b=o.prototype=new h;b.constructor=o,E(b,_.prototype),b.isPureReactComponent=!0;var C=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(N,G,ee){var oe=ee.ref;return{$$typeof:c,type:N,key:G,ref:oe!==void 0?oe:null,props:ee}}function q(N,G){return D(N.type,G,N.props)}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===c}function U(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return G[ee]})}var W=/\/+/g;function se(N,G){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):G.toString(36)}function re(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function P(N,G,ee,oe,ue){var pe=typeof N;(pe==="undefined"||pe==="boolean")&&(N=null);var O=!1;if(N===null)O=!0;else switch(pe){case"bigint":case"string":case"number":O=!0;break;case"object":switch(N.$$typeof){case c:case p:O=!0;break;case S:return O=N._init,P(O(N._payload),G,ee,oe,ue)}}if(O)return ue=ue(N),O=oe===""?"."+se(N,0):oe,C(ue)?(ee="",O!=null&&(ee=O.replace(W,"$&/")+"/"),P(ue,G,ee,"",function(ae){return ae})):ue!=null&&(F(ue)&&(ue=q(ue,ee+(ue.key==null||N&&N.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+O)),G.push(ue)),1;O=0;var $=oe===""?".":oe+":";if(C(N))for(var ie=0;ie<N.length;ie++)oe=N[ie],pe=$+se(oe,ie),O+=P(oe,G,ee,pe,ue);else if(ie=A(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(oe=N.next()).done;)oe=oe.value,pe=$+se(oe,ie++),O+=P(oe,G,ee,pe,ue);else if(pe==="object"){if(typeof N.then=="function")return P(re(N),G,ee,oe,ue);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return O}function K(N,G,ee){if(N==null)return N;var oe=[],ue=0;return P(N,oe,"","",function(pe){return G.call(ee,pe,ue++)}),oe}function j(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var H=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},I={map:K,forEach:function(N,G,ee){K(N,function(){G.apply(this,arguments)},ee)},count:function(N){var G=0;return K(N,function(){G++}),G},toArray:function(N){return K(N,function(G){return G})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return be.Activity=f,be.Children=I,be.Component=_,be.Fragment=u,be.Profiler=M,be.PureComponent=o,be.StrictMode=v,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,be.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},be.cache=function(N){return function(){return N.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(N,G,ee){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var oe=E({},N.props),ue=N.key;if(G!=null)for(pe in G.key!==void 0&&(ue=""+G.key),G)!x.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(oe[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)oe.children=ee;else if(1<pe){for(var O=Array(pe),$=0;$<pe;$++)O[$]=arguments[$+2];oe.children=O}return D(N.type,ue,oe)},be.createContext=function(N){return N={$$typeof:B,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:z,_context:N},N},be.createElement=function(N,G,ee){var oe,ue={},pe=null;if(G!=null)for(oe in G.key!==void 0&&(pe=""+G.key),G)x.call(G,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=G[oe]);var O=arguments.length-2;if(O===1)ue.children=ee;else if(1<O){for(var $=Array(O),ie=0;ie<O;ie++)$[ie]=arguments[ie+2];ue.children=$}if(N&&N.defaultProps)for(oe in O=N.defaultProps,O)ue[oe]===void 0&&(ue[oe]=O[oe]);return D(N,pe,ue)},be.createRef=function(){return{current:null}},be.forwardRef=function(N){return{$$typeof:d,render:N}},be.isValidElement=F,be.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:j}},be.memo=function(N,G){return{$$typeof:g,type:N,compare:G===void 0?null:G}},be.startTransition=function(N){var G=k.T,ee={};k.T=ee;try{var oe=N(),ue=k.S;ue!==null&&ue(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(R,H)}catch(pe){H(pe)}finally{G!==null&&ee.types!==null&&(G.types=ee.types),k.T=G}},be.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},be.use=function(N){return k.H.use(N)},be.useActionState=function(N,G,ee){return k.H.useActionState(N,G,ee)},be.useCallback=function(N,G){return k.H.useCallback(N,G)},be.useContext=function(N){return k.H.useContext(N)},be.useDebugValue=function(){},be.useDeferredValue=function(N,G){return k.H.useDeferredValue(N,G)},be.useEffect=function(N,G){return k.H.useEffect(N,G)},be.useEffectEvent=function(N){return k.H.useEffectEvent(N)},be.useId=function(){return k.H.useId()},be.useImperativeHandle=function(N,G,ee){return k.H.useImperativeHandle(N,G,ee)},be.useInsertionEffect=function(N,G){return k.H.useInsertionEffect(N,G)},be.useLayoutEffect=function(N,G){return k.H.useLayoutEffect(N,G)},be.useMemo=function(N,G){return k.H.useMemo(N,G)},be.useOptimistic=function(N,G){return k.H.useOptimistic(N,G)},be.useReducer=function(N,G,ee){return k.H.useReducer(N,G,ee)},be.useRef=function(N){return k.H.useRef(N)},be.useState=function(N){return k.H.useState(N)},be.useSyncExternalStore=function(N,G,ee){return k.H.useSyncExternalStore(N,G,ee)},be.useTransition=function(){return k.H.useTransition()},be.version="19.2.3",be}var Dd;function un(){return Dd||(Dd=1,ec.exports=B_()),ec.exports}var he=un();const H_=Jd(he);var tc={exports:{}},ln={},ic={exports:{}},sc={};var kd;function z_(){return kd||(kd=1,(function(c){function p(P,K){var j=P.length;P.push(K);e:for(;0<j;){var H=j-1>>>1,I=P[H];if(0<M(I,K))P[H]=K,P[j]=I,j=H;else break e}}function u(P){return P.length===0?null:P[0]}function v(P){if(P.length===0)return null;var K=P[0],j=P.pop();if(j!==K){P[0]=j;e:for(var H=0,I=P.length,N=I>>>1;H<N;){var G=2*(H+1)-1,ee=P[G],oe=G+1,ue=P[oe];if(0>M(ee,j))oe<I&&0>M(ue,ee)?(P[H]=ue,P[oe]=j,H=oe):(P[H]=ee,P[G]=j,H=G);else if(oe<I&&0>M(ue,j))P[H]=ue,P[oe]=j,H=oe;else break e}}return K}function M(P,K){var j=P.sortIndex-K.sortIndex;return j!==0?j:P.id-K.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;c.unstable_now=function(){return z.now()}}else{var B=Date,d=B.now();c.unstable_now=function(){return B.now()-d}}var m=[],g=[],S=1,f=null,y=3,A=!1,T=!1,E=!1,n=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;function b(P){for(var K=u(g);K!==null;){if(K.callback===null)v(g);else if(K.startTime<=P)v(g),K.sortIndex=K.expirationTime,p(m,K);else break;K=u(g)}}function C(P){if(E=!1,b(P),!T)if(u(m)!==null)T=!0,R||(R=!0,U());else{var K=u(g);K!==null&&re(C,K.startTime-P)}}var R=!1,k=-1,x=5,D=-1;function q(){return n?!0:!(c.unstable_now()-D<x)}function F(){if(n=!1,R){var P=c.unstable_now();D=P;var K=!0;try{e:{T=!1,E&&(E=!1,h(k),k=-1),A=!0;var j=y;try{t:{for(b(P),f=u(m);f!==null&&!(f.expirationTime>P&&q());){var H=f.callback;if(typeof H=="function"){f.callback=null,y=f.priorityLevel;var I=H(f.expirationTime<=P);if(P=c.unstable_now(),typeof I=="function"){f.callback=I,b(P),K=!0;break t}f===u(m)&&v(m),b(P)}else v(m);f=u(m)}if(f!==null)K=!0;else{var N=u(g);N!==null&&re(C,N.startTime-P),K=!1}}break e}finally{f=null,y=j,A=!1}K=void 0}}finally{K?U():R=!1}}}var U;if(typeof o=="function")U=function(){o(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=F,U=function(){se.postMessage(null)}}else U=function(){_(F,0)};function re(P,K){k=_(function(){P(c.unstable_now())},K)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(P){P.callback=null},c.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(P){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var j=y;y=K;try{return P()}finally{y=j}},c.unstable_requestPaint=function(){n=!0},c.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=y;y=P;try{return K()}finally{y=j}},c.unstable_scheduleCallback=function(P,K,j){var H=c.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?H+j:H):j=H,P){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=j+I,P={id:S++,callback:K,priorityLevel:P,startTime:j,expirationTime:I,sortIndex:-1},j>H?(P.sortIndex=j,p(g,P),u(m)===null&&P===u(g)&&(E?(h(k),k=-1):E=!0,re(C,j-H))):(P.sortIndex=I,p(m,P),T||A||(T=!0,R||(R=!0,U()))),P},c.unstable_shouldYield=q,c.unstable_wrapCallback=function(P){var K=y;return function(){var j=y;y=K;try{return P.apply(this,arguments)}finally{y=j}}}})(sc)),sc}var Nd;function U_(){return Nd||(Nd=1,ic.exports=z_()),ic.exports}var rc={exports:{}},dt={};var jd;function q_(){if(jd)return dt;jd=1;var c=un();function p(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var v={d:{f:u,r:function(){throw Error(p(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},M=Symbol.for("react.portal");function z(m,g,S){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:m,containerInfo:g,implementation:S}}var B=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,dt.createPortal=function(m,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(p(299));return z(m,g,null,S)},dt.flushSync=function(m){var g=B.T,S=v.p;try{if(B.T=null,v.p=2,m)return m()}finally{B.T=g,v.p=S,v.d.f()}},dt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,v.d.C(m,g))},dt.prefetchDNS=function(m){typeof m=="string"&&v.d.D(m)},dt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var S=g.as,f=d(S,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?v.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:f,integrity:y,fetchPriority:A}):S==="script"&&v.d.X(m,{crossOrigin:f,integrity:y,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=d(g.as,g.crossOrigin);v.d.M(m,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&v.d.M(m)},dt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,f=d(S,g.crossOrigin);v.d.L(m,S,{crossOrigin:f,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(m,g){if(typeof m=="string")if(g){var S=d(g.as,g.crossOrigin);v.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else v.d.m(m)},dt.requestFormReset=function(m){v.d.r(m)},dt.unstable_batchedUpdates=function(m,g){return m(g)},dt.useFormState=function(m,g,S){return B.H.useFormState(m,g,S)},dt.useFormStatus=function(){return B.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var Od;function I_(){if(Od)return rc.exports;Od=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(p){console.error(p)}}return c(),rc.exports=q_(),rc.exports}var Ld;function P_(){if(Ld)return ln;Ld=1;var c=U_(),p=un(),u=I_();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function M(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function B(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(z(e)!==e)throw Error(v(188))}function g(e){var t=e.alternate;if(!t){if(t=z(e),t===null)throw Error(v(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return m(r),e;if(a===s)return m(r),t;a=a.sibling}throw Error(v(188))}if(i.return!==s.return)i=r,s=a;else{for(var w=!1,L=r.child;L;){if(L===i){w=!0,i=r,s=a;break}if(L===s){w=!0,s=r,i=a;break}L=L.sibling}if(!w){for(L=a.child;L;){if(L===i){w=!0,i=a,s=r;break}if(L===s){w=!0,s=a,i=r;break}L=L.sibling}if(!w)throw Error(v(189))}}if(i.alternate!==s)throw Error(v(190))}if(i.tag!==3)throw Error(v(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),o=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case _:return"Profiler";case n:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case o:return e.displayName||"Context";case h:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var re=Array.isArray,P=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},H=[],I=-1;function N(e){return{current:e}}function G(e){0>I||(e.current=H[I],H[I]=null,I--)}function ee(e,t){I++,H[I]=e.current,e.current=t}var oe=N(null),ue=N(null),pe=N(null),O=N(null);function $(e,t){switch(ee(pe,t),ee(ue,e),ee(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(oe),ee(oe,e)}function ie(){G(oe),G(ue),G(pe)}function ae(e){e.memoizedState!==null&&ee(O,e);var t=oe.current,i=$f(t,e.type);t!==i&&(ee(ue,e),ee(oe,i))}function ve(e){ue.current===e&&(G(oe),G(ue)),O.current===e&&(G(O),tn._currentValue=j)}var fe,ke;function Ie(e){if(fe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);fe=t&&t[1]||"",ke=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+e+ke}var nt=!1;function Zt(e,t){if(!e||nt)return"";nt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var J=te}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(te){J=te}e.call(ce.prototype)}}else{try{throw Error()}catch(te){J=te}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),w=a[0],L=a[1];if(w&&L){var V=w.split(`
`),Z=L.split(`
`);for(r=s=0;s<V.length&&!V[s].includes("DetermineComponentFrameRoot");)s++;for(;r<Z.length&&!Z[r].includes("DetermineComponentFrameRoot");)r++;if(s===V.length||r===Z.length)for(s=V.length-1,r=Z.length-1;1<=s&&0<=r&&V[s]!==Z[r];)r--;for(;1<=s&&0<=r;s--,r--)if(V[s]!==Z[r]){if(s!==1||r!==1)do if(s--,r--,0>r||V[s]!==Z[r]){var ne=`
`+V[s].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=s&&0<=r);break}}}finally{nt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ie(i):""}function Ce(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return Ie("Activity");default:return""}}function wi(e){try{var t="",i=null;do t+=Ce(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var es=Object.prototype.hasOwnProperty,ts=c.unstable_scheduleCallback,is=c.unstable_cancelCallback,Cs=c.unstable_shouldYield,mt=c.unstable_requestPaint,tt=c.unstable_now,Mt=c.unstable_getCurrentPriorityLevel,Ei=c.unstable_ImmediatePriority,ws=c.unstable_UserBlockingPriority,wt=c.unstable_NormalPriority,dr=c.unstable_LowPriority,Yt=c.unstable_IdlePriority,ss=c.log,Pe=c.unstable_setDisableYieldValue,rs=null,Et=null;function Ai(e){if(typeof ss=="function"&&Pe(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(rs,e)}catch{}}var At=Math.clz32?Math.clz32:yp,vp=Math.log,bp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(vp(e)/bp|0)|0}var fn=256,dn=262144,pn=4194304;function ns(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var L=s&134217727;return L!==0?(s=L&~a,s!==0?r=ns(s):(w&=L,w!==0?r=ns(w):i||(i=L&~e,i!==0&&(r=ns(i))))):(L=s&~a,L!==0?r=ns(L):w!==0?r=ns(w):i||(i=s&~e,i!==0&&(r=ns(i)))),r===0?0:t!==0&&t!==r&&(t&a)===0&&(a=r&-r,i=t&-t,a>=i||a===32&&(i&4194048)!==0)?t:r}function pr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var e=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),e}function qa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function _r(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sp(e,t,i,s,r,a){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var L=e.entanglements,V=e.expirationTimes,Z=e.hiddenUpdates;for(i=w&~i;0<i;){var ne=31-At(i),ce=1<<ne;L[ne]=0,V[ne]=-1;var J=Z[ne];if(J!==null)for(Z[ne]=null,ne=0;ne<J.length;ne++){var te=J[ne];te!==null&&(te.lane&=-536870913)}i&=~ce}s!==0&&kc(e,s,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(w&~t))}function kc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Nc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-At(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function jc(e,t){var i=t&-t;return i=(i&42)!==0?1:Ia(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ia(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:bd(e.type))}function Lc(e,t){var i=K.p;try{return K.p=e,t()}finally{K.p=i}}var Ti=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ti,gt="__reactProps$"+Ti,Es="__reactContainer$"+Ti,Fa="__reactEvents$"+Ti,Cp="__reactListeners$"+Ti,wp="__reactHandles$"+Ti,Mc="__reactResources$"+Ti,mr="__reactMarker$"+Ti;function Wa(e){delete e[ot],delete e[gt],delete e[Fa],delete e[Cp],delete e[wp]}function As(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Es]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=sd(e);e!==null;){if(i=e[ot])return i;e=sd(e)}return t}e=i,i=e.parentNode}return null}function Ts(e){if(e=e[ot]||e[Es]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function Rs(e){var t=e[Mc];return t||(t=e[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[mr]=!0}var Bc=new Set,Hc={};function as(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Hc[e]=t,e=0;e<t.length;e++)Bc.add(t[e])}var Ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Uc={};function Ap(e){return es.call(Uc,e)?!0:es.call(zc,e)?!1:Ep.test(e)?Uc[e]=!0:(zc[e]=!0,!1)}function mn(e,t,i){if(Ap(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function gn(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ai(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tp(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(w){i=""+w,a.call(this,w)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){if(!e._valueTracker){var t=qc(e)?"checked":"value";e._valueTracker=Tp(e,t,""+e[t])}}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=qc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rp=/[\n"\\]/g;function Ht(e){return e.replace(Rp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ga(e,t,i,s,r,a,w,L){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?Ya(e,w,Bt(t)):i!=null?Ya(e,w,Bt(i)):s!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Bt(L):e.removeAttribute("name")}function Pc(e,t,i,s,r,a,w,L){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||i!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){Va(e);return}i=i!=null?""+Bt(i):"",t=t!=null?""+Bt(t):i,L||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=L?e.checked:!!s,e.defaultChecked=!!s,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Va(e)}function Ya(e,t,i){t==="number"&&vn(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ks(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Bt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Fc(e,t,i){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Bt(i):""}function Wc(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(v(92));if(re(s)){if(1<s.length)throw Error(v(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Bt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Va(e)}function Ns(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Dp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Dp.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Gc(e,t,i){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Vc(e,r,s)}else for(var a in t)t.hasOwnProperty(a)&&Vc(e,a,t[a])}function Ka(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bn(e){return Np.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var Xa=null;function $a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Os=null;function Yc(e){var t=Ts(e);if(t&&(e=t.stateNode)){var i=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ga(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[gt]||null;if(!r)throw Error(v(90));Ga(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Ic(s)}break e;case"textarea":Fc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ks(e,!!i.multiple,t,!1)}}}var Qa=!1;function Kc(e,t,i){if(Qa)return e(t,i);Qa=!0;try{var s=e(t);return s}finally{if(Qa=!1,(js!==null||Os!==null)&&(aa(),js&&(t=js,e=Os,Os=js=null,Yc(t),e)))for(t=0;t<e.length;t++)Yc(e[t])}}function vr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[gt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(v(231,t,typeof i));return i}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(oi)try{var br={};Object.defineProperty(br,"passive",{get:function(){Za=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Za=!1}var Ri=null,Ja=null,yn=null;function Xc(){if(yn)return yn;var e,t=Ja,i=t.length,s,r="value"in Ri?Ri.value:Ri.textContent,a=r.length;for(e=0;e<i&&t[e]===r[e];e++);var w=i-e;for(s=1;s<=w&&t[i-s]===r[a-s];s++);return yn=r.slice(e,1<s?1-s:void 0)}function xn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sn(){return!0}function $c(){return!1}function vt(e){function t(i,s,r,a,w){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=w,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(i=e[L],this[L]=i?i(a):a[L]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sn:$c,this.isPropagationStopped=$c,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),t}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cn=vt(ls),yr=f({},ls,{view:0,detail:0}),jp=vt(yr),el,tl,xr,wn=f({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(el=e.screenX-xr.screenX,tl=e.screenY-xr.screenY):tl=el=0,xr=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),Qc=vt(wn),Op=f({},wn,{dataTransfer:0}),Lp=vt(Op),Mp=f({},yr,{relatedTarget:0}),il=vt(Mp),Bp=f({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=vt(Bp),zp=f({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Up=vt(zp),qp=f({},ls,{data:0}),Zc=vt(qp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function sl(){return Wp}var Vp=f({},yr,{key:function(e){if(e.key){var t=Ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(e){return e.type==="keypress"?xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gp=vt(Vp),Yp=f({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=vt(Yp),Kp=f({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),Xp=vt(Kp),$p=f({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=vt($p),Zp=f({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=vt(Zp),e0=f({},ls,{newState:0,oldState:0}),t0=vt(e0),i0=[9,13,27,32],rl=oi&&"CompositionEvent"in window,Sr=null;oi&&"documentMode"in document&&(Sr=document.documentMode);var s0=oi&&"TextEvent"in window&&!Sr,eu=oi&&(!rl||Sr&&8<Sr&&11>=Sr),tu=" ",iu=!1;function su(e,t){switch(e){case"keyup":return i0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function r0(e,t){switch(e){case"compositionend":return ru(t);case"keypress":return t.which!==32?null:(iu=!0,tu);case"textInput":return e=t.data,e===tu&&iu?null:e;default:return null}}function n0(e,t){if(Ls)return e==="compositionend"||!rl&&su(e,t)?(e=Xc(),yn=Ja=Ri=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eu&&t.locale!=="ko"?null:t.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a0[e.type]:t==="textarea"}function au(e,t,i,s){js?Os?Os.push(s):Os=[s]:js=s,t=da(t,"onChange"),0<t.length&&(i=new Cn("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Cr=null,wr=null;function l0(e){Ff(e,0)}function En(e){var t=gr(e);if(Ic(t))return e}function lu(e,t){if(e==="change")return t}var ou=!1;if(oi){var nl;if(oi){var al="oninput"in document;if(!al){var cu=document.createElement("div");cu.setAttribute("oninput","return;"),al=typeof cu.oninput=="function"}nl=al}else nl=!1;ou=nl&&(!document.documentMode||9<document.documentMode)}function uu(){Cr&&(Cr.detachEvent("onpropertychange",hu),wr=Cr=null)}function hu(e){if(e.propertyName==="value"&&En(wr)){var t=[];au(t,wr,e,$a(e)),Kc(l0,t)}}function o0(e,t,i){e==="focusin"?(uu(),Cr=t,wr=i,Cr.attachEvent("onpropertychange",hu)):e==="focusout"&&uu()}function c0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return En(wr)}function u0(e,t){if(e==="click")return En(t)}function h0(e,t){if(e==="input"||e==="change")return En(t)}function f0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:f0;function Er(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!es.call(t,r)||!Tt(e[r],t[r]))return!1}return!0}function fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var i=fu(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fu(i)}}function pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _u(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vn(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=vn(e.document)}return t}function ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var d0=oi&&"documentMode"in document&&11>=document.documentMode,Ms=null,ol=null,Ar=null,cl=!1;function mu(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cl||Ms==null||Ms!==vn(s)||(s=Ms,"selectionStart"in s&&ll(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ar&&Er(Ar,s)||(Ar=s,s=da(ol,"onSelect"),0<s.length&&(t=new Cn("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ms)))}function os(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Bs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},ul={},gu={};oi&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function cs(e){if(ul[e])return ul[e];if(!Bs[e])return e;var t=Bs[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in gu)return ul[e]=t[i];return e}var vu=cs("animationend"),bu=cs("animationiteration"),yu=cs("animationstart"),p0=cs("transitionrun"),_0=cs("transitionstart"),m0=cs("transitioncancel"),xu=cs("transitionend"),Su=new Map,hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hl.push("scrollEnd");function Kt(e,t){Su.set(e,t),as(t,[e])}var An=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Hs=0,fl=0;function Tn(){for(var e=Hs,t=fl=Hs=0;t<e;){var i=zt[t];zt[t++]=null;var s=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var a=zt[t];if(zt[t++]=null,s!==null&&r!==null){var w=s.pending;w===null?r.next=r:(r.next=w.next,w.next=r),s.pending=r}a!==0&&Cu(i,r,a)}}function Rn(e,t,i,s){zt[Hs++]=e,zt[Hs++]=t,zt[Hs++]=i,zt[Hs++]=s,fl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function dl(e,t,i,s){return Rn(e,t,i,s),Dn(e)}function us(e,t){return Rn(e,null,null,t),Dn(e)}function Cu(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,a=e.return;a!==null;)a.childLanes|=i,s=a.alternate,s!==null&&(s.childLanes|=i),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-At(i),e=a.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),a):null}function Dn(e){if(50<Kr)throw Kr=0,Co=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zs={};function g0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,s){return new g0(e,t,i,s)}function pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ci(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function wu(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function kn(e,t,i,s,r,a){var w=0;if(s=e,typeof e=="function")pl(e)&&(w=1);else if(typeof e=="string")w=S_(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D:return e=Rt(31,i,t,r),e.elementType=D,e.lanes=a,e;case E:return hs(i.children,r,a,t);case n:w=8,r|=24;break;case _:return e=Rt(12,i,t,r|2),e.elementType=_,e.lanes=a,e;case C:return e=Rt(13,i,t,r),e.elementType=C,e.lanes=a,e;case R:return e=Rt(19,i,t,r),e.elementType=R,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o:w=10;break e;case h:w=9;break e;case b:w=11;break e;case k:w=14;break e;case x:w=16,s=null;break e}w=29,i=Error(v(130,e===null?"null":typeof e,"")),s=null}return t=Rt(w,i,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function hs(e,t,i,s){return e=Rt(7,e,s,t),e.lanes=i,e}function _l(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function Eu(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function ml(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Au=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var i=Au.get(e);return i!==void 0?i:(t={value:e,source:t,stack:wi(t)},Au.set(e,t),t)}return{value:e,source:t,stack:wi(t)}}var Us=[],qs=0,Nn=null,Tr=0,qt=[],It=0,Di=null,Jt=1,ei="";function ui(e,t){Us[qs++]=Tr,Us[qs++]=Nn,Nn=e,Tr=t}function Tu(e,t,i){qt[It++]=Jt,qt[It++]=ei,qt[It++]=Di,Di=e;var s=Jt;e=ei;var r=32-At(s)-1;s&=~(1<<r),i+=1;var a=32-At(t)+r;if(30<a){var w=r-r%5;a=(s&(1<<w)-1).toString(32),s>>=w,r-=w,Jt=1<<32-At(t)+r|i<<r|s,ei=a+e}else Jt=1<<a|i<<r|s,ei=e}function gl(e){e.return!==null&&(ui(e,1),Tu(e,1,0))}function vl(e){for(;e===Nn;)Nn=Us[--qs],Us[qs]=null,Tr=Us[--qs],Us[qs]=null;for(;e===Di;)Di=qt[--It],qt[It]=null,ei=qt[--It],qt[It]=null,Jt=qt[--It],qt[It]=null}function Ru(e,t){qt[It++]=Jt,qt[It++]=ei,qt[It++]=Di,Jt=t.id,ei=t.overflow,Di=e}var ct=null,Fe=null,Re=!1,ki=null,Pt=!1,bl=Error(v(519));function Ni(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rr(Ut(t,e)),bl}function Du(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[gt]=s,i){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(i=0;i<$r.length;i++)Ee($r[i],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Pc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Wc(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Yf(t.textContent,i)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=li),t=!0):t=!1,t||Ni(e,!0)}function ku(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ct=ct.return}}function Is(e){if(e!==ct)return!1;if(!Re)return ku(e),Re=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zo(e.type,e.memoizedProps)),i=!i),i&&Fe&&Ni(e),ku(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));Fe=id(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));Fe=id(e)}else t===27?(t=Fe,Vi(e.type)?(e=Fo,Fo=null,Fe=e):Fe=t):Fe=ct?Wt(e.stateNode.nextSibling):null;return!0}function fs(){Fe=ct=null,Re=!1}function yl(){var e=ki;return e!==null&&(St===null?St=e:St.push.apply(St,e),ki=null),e}function Rr(e){ki===null?ki=[e]:ki.push(e)}var xl=N(null),ds=null,hi=null;function ji(e,t,i){ee(xl,t._currentValue),t._currentValue=i}function fi(e){e._currentValue=xl.current,G(xl)}function Sl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Cl(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var w=r.child;a=a.firstContext;e:for(;a!==null;){var L=a;a=r;for(var V=0;V<t.length;V++)if(L.context===t[V]){a.lanes|=i,L=a.alternate,L!==null&&(L.lanes|=i),Sl(a.return,i,e),s||(w=null);break e}a=L.next}}else if(r.tag===18){if(w=r.return,w===null)throw Error(v(341));w.lanes|=i,a=w.alternate,a!==null&&(a.lanes|=i),Sl(w,i,e),w=null}else w=r.child;if(w!==null)w.return=r;else for(w=r;w!==null;){if(w===e){w=null;break}if(r=w.sibling,r!==null){r.return=w.return,w=r;break}w=w.return}r=w}}function Ps(e,t,i,s){e=null;for(var r=t,a=!1;r!==null;){if(!a){if((r.flags&524288)!==0)a=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var w=r.alternate;if(w===null)throw Error(v(387));if(w=w.memoizedProps,w!==null){var L=r.type;Tt(r.pendingProps.value,w.value)||(e!==null?e.push(L):e=[L])}}else if(r===O.current){if(w=r.alternate,w===null)throw Error(v(387));w.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(tn):e=[tn])}r=r.return}e!==null&&Cl(t,e,i,s),t.flags|=262144}function jn(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){ds=e,hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Nu(ds,e)}function On(e,t){return ds===null&&ps(e),Nu(e,t)}function Nu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},hi===null){if(e===null)throw Error(v(308));hi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hi=hi.next=t;return i}var v0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},b0=c.unstable_scheduleCallback,y0=c.unstable_NormalPriority,$e={$$typeof:o,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wl(){return{controller:new v0,data:new Map,refCount:0}}function Dr(e){e.refCount--,e.refCount===0&&b0(y0,function(){e.controller.abort()})}var kr=null,El=0,Fs=0,Ws=null;function x0(e,t){if(kr===null){var i=kr=[];El=0,Fs=Do(),Ws={status:"pending",value:void 0,then:function(s){i.push(s)}}}return El++,t.then(ju,ju),t}function ju(){if(--El===0&&kr!==null){Ws!==null&&(Ws.status="fulfilled");var e=kr;kr=null,Fs=0,Ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function S0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Ou=P.S;P.S=function(e,t){gf=tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&x0(e,t),Ou!==null&&Ou(e,t)};var _s=N(null);function Al(){var e=_s.current;return e!==null?e:qe.pooledCache}function Ln(e,t){t===null?ee(_s,_s.current):ee(_s,t.pool)}function Lu(){var e=Al();return e===null?null:{parent:$e._currentValue,pool:e}}var Vs=Error(v(460)),Tl=Error(v(474)),Mn=Error(v(542)),Bn={then:function(){}};function Mu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bu(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(li,li),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zu(e),e;default:if(typeof t.status=="string")t.then(li,li);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zu(e),e}throw gs=t,Vs}}function ms(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(gs=i,Vs):i}}var gs=null;function Hu(){if(gs===null)throw Error(v(459));var e=gs;return gs=null,e}function zu(e){if(e===Vs||e===Mn)throw Error(v(483))}var Gs=null,Nr=0;function Hn(e){var t=Nr;return Nr+=1,Gs===null&&(Gs=[]),Bu(Gs,e,t)}function jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zn(e,t){throw t.$$typeof===y?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uu(e){function t(X,Y){if(e){var Q=X.deletions;Q===null?(X.deletions=[Y],X.flags|=16):Q.push(Y)}}function i(X,Y){if(!e)return null;for(;Y!==null;)t(X,Y),Y=Y.sibling;return null}function s(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function r(X,Y){return X=ci(X,Y),X.index=0,X.sibling=null,X}function a(X,Y,Q){return X.index=Q,e?(Q=X.alternate,Q!==null?(Q=Q.index,Q<Y?(X.flags|=67108866,Y):Q):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function w(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function L(X,Y,Q,le){return Y===null||Y.tag!==6?(Y=_l(Q,X.mode,le),Y.return=X,Y):(Y=r(Y,Q),Y.return=X,Y)}function V(X,Y,Q,le){var me=Q.type;return me===E?ne(X,Y,Q.props.children,le,Q.key):Y!==null&&(Y.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ms(me)===Y.type)?(Y=r(Y,Q.props),jr(Y,Q),Y.return=X,Y):(Y=kn(Q.type,Q.key,Q.props,null,X.mode,le),jr(Y,Q),Y.return=X,Y)}function Z(X,Y,Q,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=ml(Q,X.mode,le),Y.return=X,Y):(Y=r(Y,Q.children||[]),Y.return=X,Y)}function ne(X,Y,Q,le,me){return Y===null||Y.tag!==7?(Y=hs(Q,X.mode,le,me),Y.return=X,Y):(Y=r(Y,Q),Y.return=X,Y)}function ce(X,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=_l(""+Y,X.mode,Q),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Q=kn(Y.type,Y.key,Y.props,null,X.mode,Q),jr(Q,Y),Q.return=X,Q;case T:return Y=ml(Y,X.mode,Q),Y.return=X,Y;case x:return Y=ms(Y),ce(X,Y,Q)}if(re(Y)||U(Y))return Y=hs(Y,X.mode,Q,null),Y.return=X,Y;if(typeof Y.then=="function")return ce(X,Hn(Y),Q);if(Y.$$typeof===o)return ce(X,On(X,Y),Q);zn(X,Y)}return null}function J(X,Y,Q,le){var me=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return me!==null?null:L(X,Y,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===me?V(X,Y,Q,le):null;case T:return Q.key===me?Z(X,Y,Q,le):null;case x:return Q=ms(Q),J(X,Y,Q,le)}if(re(Q)||U(Q))return me!==null?null:ne(X,Y,Q,le,null);if(typeof Q.then=="function")return J(X,Y,Hn(Q),le);if(Q.$$typeof===o)return J(X,Y,On(X,Q),le);zn(X,Q)}return null}function te(X,Y,Q,le,me){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return X=X.get(Q)||null,L(Y,X,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return X=X.get(le.key===null?Q:le.key)||null,V(Y,X,le,me);case T:return X=X.get(le.key===null?Q:le.key)||null,Z(Y,X,le,me);case x:return le=ms(le),te(X,Y,Q,le,me)}if(re(le)||U(le))return X=X.get(Q)||null,ne(Y,X,le,me,null);if(typeof le.then=="function")return te(X,Y,Q,Hn(le),me);if(le.$$typeof===o)return te(X,Y,Q,On(Y,le),me);zn(Y,le)}return null}function de(X,Y,Q,le){for(var me=null,Ne=null,_e=Y,xe=Y=0,Te=null;_e!==null&&xe<Q.length;xe++){_e.index>xe?(Te=_e,_e=null):Te=_e.sibling;var je=J(X,_e,Q[xe],le);if(je===null){_e===null&&(_e=Te);break}e&&_e&&je.alternate===null&&t(X,_e),Y=a(je,Y,xe),Ne===null?me=je:Ne.sibling=je,Ne=je,_e=Te}if(xe===Q.length)return i(X,_e),Re&&ui(X,xe),me;if(_e===null){for(;xe<Q.length;xe++)_e=ce(X,Q[xe],le),_e!==null&&(Y=a(_e,Y,xe),Ne===null?me=_e:Ne.sibling=_e,Ne=_e);return Re&&ui(X,xe),me}for(_e=s(_e);xe<Q.length;xe++)Te=te(_e,X,xe,Q[xe],le),Te!==null&&(e&&Te.alternate!==null&&_e.delete(Te.key===null?xe:Te.key),Y=a(Te,Y,xe),Ne===null?me=Te:Ne.sibling=Te,Ne=Te);return e&&_e.forEach(function($i){return t(X,$i)}),Re&&ui(X,xe),me}function ge(X,Y,Q,le){if(Q==null)throw Error(v(151));for(var me=null,Ne=null,_e=Y,xe=Y=0,Te=null,je=Q.next();_e!==null&&!je.done;xe++,je=Q.next()){_e.index>xe?(Te=_e,_e=null):Te=_e.sibling;var $i=J(X,_e,je.value,le);if($i===null){_e===null&&(_e=Te);break}e&&_e&&$i.alternate===null&&t(X,_e),Y=a($i,Y,xe),Ne===null?me=$i:Ne.sibling=$i,Ne=$i,_e=Te}if(je.done)return i(X,_e),Re&&ui(X,xe),me;if(_e===null){for(;!je.done;xe++,je=Q.next())je=ce(X,je.value,le),je!==null&&(Y=a(je,Y,xe),Ne===null?me=je:Ne.sibling=je,Ne=je);return Re&&ui(X,xe),me}for(_e=s(_e);!je.done;xe++,je=Q.next())je=te(_e,X,xe,je.value,le),je!==null&&(e&&je.alternate!==null&&_e.delete(je.key===null?xe:je.key),Y=a(je,Y,xe),Ne===null?me=je:Ne.sibling=je,Ne=je);return e&&_e.forEach(function(O_){return t(X,O_)}),Re&&ui(X,xe),me}function Ue(X,Y,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var me=Q.key;Y!==null;){if(Y.key===me){if(me=Q.type,me===E){if(Y.tag===7){i(X,Y.sibling),le=r(Y,Q.props.children),le.return=X,X=le;break e}}else if(Y.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ms(me)===Y.type){i(X,Y.sibling),le=r(Y,Q.props),jr(le,Q),le.return=X,X=le;break e}i(X,Y);break}else t(X,Y);Y=Y.sibling}Q.type===E?(le=hs(Q.props.children,X.mode,le,Q.key),le.return=X,X=le):(le=kn(Q.type,Q.key,Q.props,null,X.mode,le),jr(le,Q),le.return=X,X=le)}return w(X);case T:e:{for(me=Q.key;Y!==null;){if(Y.key===me)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){i(X,Y.sibling),le=r(Y,Q.children||[]),le.return=X,X=le;break e}else{i(X,Y);break}else t(X,Y);Y=Y.sibling}le=ml(Q,X.mode,le),le.return=X,X=le}return w(X);case x:return Q=ms(Q),Ue(X,Y,Q,le)}if(re(Q))return de(X,Y,Q,le);if(U(Q)){if(me=U(Q),typeof me!="function")throw Error(v(150));return Q=me.call(Q),ge(X,Y,Q,le)}if(typeof Q.then=="function")return Ue(X,Y,Hn(Q),le);if(Q.$$typeof===o)return Ue(X,Y,On(X,Q),le);zn(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(i(X,Y.sibling),le=r(Y,Q),le.return=X,X=le):(i(X,Y),le=_l(Q,X.mode,le),le.return=X,X=le),w(X)):i(X,Y)}return function(X,Y,Q,le){try{Nr=0;var me=Ue(X,Y,Q,le);return Gs=null,me}catch(_e){if(_e===Vs||_e===Mn)throw _e;var Ne=Rt(29,_e,null,X.mode);return Ne.lanes=le,Ne.return=X,Ne}}}var vs=Uu(!0),qu=Uu(!1),Oi=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Oe&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Dn(e),Cu(e,null,i),t}return Rn(e,s,t,i),Dn(e)}function Or(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Nc(e,i)}}function kl(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,a=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};a===null?r=a=w:a=a.next=w,i=i.next}while(i!==null);a===null?r=a=t:a=a.next=t}else r=a=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Nl=!1;function Lr(){if(Nl){var e=Ws;if(e!==null)throw e}}function Mr(e,t,i,s){Nl=!1;var r=e.updateQueue;Oi=!1;var a=r.firstBaseUpdate,w=r.lastBaseUpdate,L=r.shared.pending;if(L!==null){r.shared.pending=null;var V=L,Z=V.next;V.next=null,w===null?a=Z:w.next=Z,w=V;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,L=ne.lastBaseUpdate,L!==w&&(L===null?ne.firstBaseUpdate=Z:L.next=Z,ne.lastBaseUpdate=V))}if(a!==null){var ce=r.baseState;w=0,ne=Z=V=null,L=a;do{var J=L.lane&-536870913,te=J!==L.lane;if(te?(Ae&J)===J:(s&J)===J){J!==0&&J===Fs&&(Nl=!0),ne!==null&&(ne=ne.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var de=e,ge=L;J=t;var Ue=i;switch(ge.tag){case 1:if(de=ge.payload,typeof de=="function"){ce=de.call(Ue,ce,J);break e}ce=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ge.payload,J=typeof de=="function"?de.call(Ue,ce,J):de,J==null)break e;ce=f({},ce,J);break e;case 2:Oi=!0}}J=L.callback,J!==null&&(e.flags|=64,te&&(e.flags|=8192),te=r.callbacks,te===null?r.callbacks=[J]:te.push(J))}else te={lane:J,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ne===null?(Z=ne=te,V=ce):ne=ne.next=te,w|=J;if(L=L.next,L===null){if(L=r.shared.pending,L===null)break;te=L,L=te.next,te.next=null,r.lastBaseUpdate=te,r.shared.pending=null}}while(!0);ne===null&&(V=ce),r.baseState=V,r.firstBaseUpdate=Z,r.lastBaseUpdate=ne,a===null&&(r.shared.lanes=0),qi|=w,e.lanes=w,e.memoizedState=ce}}function Iu(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Pu(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Iu(i[e],t)}var Ys=N(null),Un=N(0);function Fu(e,t){e=xi,ee(Un,e),ee(Ys,t),xi=e|t.baseLanes}function jl(){ee(Un,xi),ee(Ys,Ys.current)}function Ol(){xi=Un.current,G(Ys),G(Un)}var Dt=N(null),Ft=null;function Bi(e){var t=e.alternate;ee(Ke,Ke.current&1),ee(Dt,e),Ft===null&&(t===null||Ys.current!==null||t.memoizedState!==null)&&(Ft=e)}function Ll(e){ee(Ke,Ke.current),ee(Dt,e),Ft===null&&(Ft=e)}function Wu(e){e.tag===22?(ee(Ke,Ke.current),ee(Dt,e),Ft===null&&(Ft=e)):Hi()}function Hi(){ee(Ke,Ke.current),ee(Dt,Dt.current)}function kt(e){G(Dt),Ft===e&&(Ft=null),G(Ke)}var Ke=N(0);function qn(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Io(i)||Po(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=0,ye=null,He=null,Qe=null,In=!1,Ks=!1,bs=!1,Pn=0,Br=0,Xs=null,C0=0;function Ge(){throw Error(v(321))}function Ml(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Tt(e[i],t[i]))return!1;return!0}function Bl(e,t,i,s,r,a){return di=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Th:Ql,bs=!1,a=i(s,r),bs=!1,Ks&&(a=Gu(t,i,s,r)),Vu(e),a}function Vu(e){P.H=Ur;var t=He!==null&&He.next!==null;if(di=0,Qe=He=ye=null,In=!1,Br=0,Xs=null,t)throw Error(v(300));e===null||Ze||(e=e.dependencies,e!==null&&jn(e)&&(Ze=!0))}function Gu(e,t,i,s){ye=e;var r=0;do{if(Ks&&(Xs=null),Br=0,Ks=!1,25<=r)throw Error(v(301));if(r+=1,Qe=He=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}P.H=Rh,a=t(i,s)}while(Ks);return a}function w0(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?Hr(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ye.flags|=1024),t}function Hl(){var e=Pn!==0;return Pn=0,e}function zl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ul(e){if(In){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}In=!1}di=0,Qe=He=ye=null,Ks=!1,Br=Pn=0,Xs=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ye.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(He===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Qe===null?ye.memoizedState:Qe.next;if(t!==null)Qe=t,He=e;else{if(e===null)throw ye.alternate===null?Error(v(467)):Error(v(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?ye.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Fn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hr(e){var t=Br;return Br+=1,Xs===null&&(Xs=[]),e=Bu(Xs,e,t),t=ye,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Th:Ql),e}function Wn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hr(e);if(e.$$typeof===o)return ut(e)}throw Error(v(438,String(e)))}function ql(e){var t=null,i=ye.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Fn(),ye.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=q;return t.index++,i}function pi(e,t){return typeof t=="function"?t(e):t}function Vn(e){var t=Xe();return Il(t,He,e)}function Il(e,t,i){var s=e.queue;if(s===null)throw Error(v(311));s.lastRenderedReducer=i;var r=e.baseQueue,a=s.pending;if(a!==null){if(r!==null){var w=r.next;r.next=a.next,a.next=w}t.baseQueue=r=a,s.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var L=w=null,V=null,Z=t,ne=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Ae&ce)===ce:(di&ce)===ce){var J=Z.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Fs&&(ne=!0);else if((di&J)===J){Z=Z.next,J===Fs&&(ne=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(L=V=ce,w=a):V=V.next=ce,ye.lanes|=J,qi|=J;ce=Z.action,bs&&i(a,ce),a=Z.hasEagerState?Z.eagerState:i(a,ce)}else J={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(L=V=J,w=a):V=V.next=J,ye.lanes|=ce,qi|=ce;Z=Z.next}while(Z!==null&&Z!==t);if(V===null?w=a:V.next=L,!Tt(a,e.memoizedState)&&(Ze=!0,ne&&(i=Ws,i!==null)))throw i;e.memoizedState=a,e.baseState=w,e.baseQueue=V,s.lastRenderedState=a}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Pl(e){var t=Xe(),i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,a=t.memoizedState;if(r!==null){i.pending=null;var w=r=r.next;do a=e(a,w.action),w=w.next;while(w!==r);Tt(a,t.memoizedState)||(Ze=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),i.lastRenderedState=a}return[a,s]}function Yu(e,t,i){var s=ye,r=Xe(),a=Re;if(a){if(i===void 0)throw Error(v(407));i=i()}else i=t();var w=!Tt((He||r).memoizedState,i);if(w&&(r.memoizedState=i,Ze=!0),r=r.queue,Vl($u.bind(null,s,r,e),[e]),r.getSnapshot!==t||w||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,$s(9,{destroy:void 0},Xu.bind(null,s,r,i,t),null),qe===null)throw Error(v(349));a||(di&127)!==0||Ku(s,t,i)}return i}function Ku(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ye.updateQueue,t===null?(t=Fn(),ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Xu(e,t,i,s){t.value=i,t.getSnapshot=s,Qu(t)&&Zu(e)}function $u(e,t,i){return i(function(){Qu(t)&&Zu(e)})}function Qu(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Tt(e,i)}catch{return!0}}function Zu(e){var t=us(e,2);t!==null&&Ct(t,e,2)}function Fl(e){var t=_t();if(typeof e=="function"){var i=e;if(e=i(),bs){Ai(!0);try{i()}finally{Ai(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t}function Ju(e,t,i,s){return e.baseState=i,Il(e,He,typeof s=="function"?s:pi)}function E0(e,t,i,s,r){if(Kn(e))throw Error(v(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){a.listeners.push(w)}};P.T!==null?i(!0):a.isTransition=!1,s(a),i=t.pending,i===null?(a.next=t.pending=a,eh(t,a)):(a.next=i.next,t.pending=i.next=a)}}function eh(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var a=P.T,w={};P.T=w;try{var L=i(r,s),V=P.S;V!==null&&V(w,L),th(e,t,L)}catch(Z){Wl(e,t,Z)}finally{a!==null&&w.types!==null&&(a.types=w.types),P.T=a}}else try{a=i(r,s),th(e,t,a)}catch(Z){Wl(e,t,Z)}}function th(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){ih(e,t,s)},function(s){return Wl(e,t,s)}):ih(e,t,i)}function ih(e,t,i){t.status="fulfilled",t.value=i,sh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,eh(e,i)))}function Wl(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,sh(t),t=t.next;while(t!==s)}e.action=null}function sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rh(e,t){return t}function nh(e,t){if(Re){var i=qe.formState;if(i!==null){e:{var s=ye;if(Re){if(Fe){t:{for(var r=Fe,a=Pt;r.nodeType!==8;){if(!a){r=null;break t}if(r=Wt(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Fe=Wt(r.nextSibling),s=r.data==="F!";break e}}Ni(s)}s=!1}s&&(t=i[0])}}return i=_t(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:t},i.queue=s,i=wh.bind(null,ye,s),s.dispatch=i,s=Fl(!1),a=$l.bind(null,ye,!1,s.queue),s=_t(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=E0.bind(null,ye,r,a,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function ah(e){var t=Xe();return lh(t,He,e)}function lh(e,t,i){if(t=Il(e,t,rh)[0],e=Vn(pi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Hr(t)}catch(w){throw w===Vs?Mn:w}else s=t;t=Xe();var r=t.queue,a=r.dispatch;return i!==t.memoizedState&&(ye.flags|=2048,$s(9,{destroy:void 0},A0.bind(null,r,i),null)),[s,a,e]}function A0(e,t){e.action=t}function oh(e){var t=Xe(),i=He;if(i!==null)return lh(t,i,e);Xe(),t=t.memoizedState,i=Xe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function $s(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Fn(),ye.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function ch(){return Xe().memoizedState}function Gn(e,t,i,s){var r=_t();ye.flags|=e,r.memoizedState=$s(1|t,{destroy:void 0},i,s===void 0?null:s)}function Yn(e,t,i,s){var r=Xe();s=s===void 0?null:s;var a=r.memoizedState.inst;He!==null&&s!==null&&Ml(s,He.memoizedState.deps)?r.memoizedState=$s(t,a,i,s):(ye.flags|=e,r.memoizedState=$s(1|t,a,i,s))}function uh(e,t){Gn(8390656,8,e,t)}function Vl(e,t){Yn(2048,8,e,t)}function T0(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Fn(),ye.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function hh(e){var t=Xe().memoizedState;return T0({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function fh(e,t){return Yn(4,2,e,t)}function dh(e,t){return Yn(4,4,e,t)}function ph(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,i){i=i!=null?i.concat([e]):null,Yn(4,4,ph.bind(null,t,e),i)}function Gl(){}function mh(e,t){var i=Xe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Ml(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function gh(e,t){var i=Xe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Ml(t,s[1]))return s[0];if(s=e(),bs){Ai(!0);try{e()}finally{Ai(!1)}}return i.memoizedState=[s,t],s}function Yl(e,t,i){return i===void 0||(di&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=bf(),ye.lanes|=e,qi|=e,i)}function vh(e,t,i,s){return Tt(i,t)?i:Ys.current!==null?(e=Yl(e,i,s),Tt(e,t)||(Ze=!0),e):(di&42)===0||(di&1073741824)!==0&&(Ae&261930)===0?(Ze=!0,e.memoizedState=i):(e=bf(),ye.lanes|=e,qi|=e,t)}function bh(e,t,i,s,r){var a=K.p;K.p=a!==0&&8>a?a:8;var w=P.T,L={};P.T=L,$l(e,!1,t,i);try{var V=r(),Z=P.S;if(Z!==null&&Z(L,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=S0(V,s);zr(e,t,ne,Ot(e))}else zr(e,t,s,Ot(e))}catch(ce){zr(e,t,{then:function(){},status:"rejected",reason:ce},Ot())}finally{K.p=a,w!==null&&L.types!==null&&(w.types=L.types),P.T=w}}function R0(){}function Kl(e,t,i,s){if(e.tag!==5)throw Error(v(476));var r=yh(e).queue;bh(e,r,t,j,i===null?R0:function(){return xh(e),i(s)})}function yh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:j},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xh(e){var t=yh(e);t.next===null&&(t=e.alternate.memoizedState),zr(e,t.next.queue,{},Ot())}function Xl(){return ut(tn)}function Sh(){return Xe().memoizedState}function Ch(){return Xe().memoizedState}function D0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ot();e=Li(i);var s=Mi(t,e,i);s!==null&&(Ct(s,t,i),Or(s,t,i)),t={cache:wl()},e.payload=t;return}t=t.return}}function k0(e,t,i){var s=Ot();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Kn(e)?Eh(t,i):(i=dl(e,t,i,s),i!==null&&(Ct(i,e,s),Ah(i,t,s)))}function wh(e,t,i){var s=Ot();zr(e,t,i,s)}function zr(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Kn(e))Eh(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var w=t.lastRenderedState,L=a(w,i);if(r.hasEagerState=!0,r.eagerState=L,Tt(L,w))return Rn(e,t,r,0),qe===null&&Tn(),!1}catch{}if(i=dl(e,t,r,s),i!==null)return Ct(i,e,s),Ah(i,t,s),!0}return!1}function $l(e,t,i,s){if(s={lane:2,revertLane:Do(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Kn(e)){if(t)throw Error(v(479))}else t=dl(e,i,s,2),t!==null&&Ct(t,e,2)}function Kn(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Eh(e,t){Ks=In=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ah(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Nc(e,i)}}var Ur={readContext:ut,use:Wn,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Ur.useEffectEvent=Ge;var Th={readContext:ut,use:Wn,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:uh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Gn(4194308,4,ph.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Gn(4194308,4,e,t)},useInsertionEffect:function(e,t){Gn(4,2,e,t)},useMemo:function(e,t){var i=_t();t=t===void 0?null:t;var s=e();if(bs){Ai(!0);try{e()}finally{Ai(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=_t();if(i!==void 0){var r=i(t);if(bs){Ai(!0);try{i(t)}finally{Ai(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=k0.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=Fl(e);var t=e.queue,i=wh.bind(null,ye,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Gl,useDeferredValue:function(e,t){var i=_t();return Yl(i,e,t)},useTransition:function(){var e=Fl(!1);return e=bh.bind(null,ye,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=ye,r=_t();if(Re){if(i===void 0)throw Error(v(407));i=i()}else{if(i=t(),qe===null)throw Error(v(349));(Ae&127)!==0||Ku(s,t,i)}r.memoizedState=i;var a={value:i,getSnapshot:t};return r.queue=a,uh($u.bind(null,s,a,e),[e]),s.flags|=2048,$s(9,{destroy:void 0},Xu.bind(null,s,a,i,t),null),i},useId:function(){var e=_t(),t=qe.identifierPrefix;if(Re){var i=ei,s=Jt;i=(s&~(1<<32-At(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Pn++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=C0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xl,useFormState:nh,useActionState:nh,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=$l.bind(null,ye,!0,i),i.dispatch=t,[e,t]},useMemoCache:ql,useCacheRefresh:function(){return _t().memoizedState=D0.bind(null,ye)},useEffectEvent:function(e){var t=_t(),i={impl:e};return t.memoizedState=i,function(){if((Oe&2)!==0)throw Error(v(440));return i.impl.apply(void 0,arguments)}}},Ql={readContext:ut,use:Wn,useCallback:mh,useContext:ut,useEffect:Vl,useImperativeHandle:_h,useInsertionEffect:fh,useLayoutEffect:dh,useMemo:gh,useReducer:Vn,useRef:ch,useState:function(){return Vn(pi)},useDebugValue:Gl,useDeferredValue:function(e,t){var i=Xe();return vh(i,He.memoizedState,e,t)},useTransition:function(){var e=Vn(pi)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Hr(e),t]},useSyncExternalStore:Yu,useId:Sh,useHostTransitionStatus:Xl,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var i=Xe();return Ju(i,He,e,t)},useMemoCache:ql,useCacheRefresh:Ch};Ql.useEffectEvent=hh;var Rh={readContext:ut,use:Wn,useCallback:mh,useContext:ut,useEffect:Vl,useImperativeHandle:_h,useInsertionEffect:fh,useLayoutEffect:dh,useMemo:gh,useReducer:Pl,useRef:ch,useState:function(){return Pl(pi)},useDebugValue:Gl,useDeferredValue:function(e,t){var i=Xe();return He===null?Yl(i,e,t):vh(i,He.memoizedState,e,t)},useTransition:function(){var e=Pl(pi)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Hr(e),t]},useSyncExternalStore:Yu,useId:Sh,useHostTransitionStatus:Xl,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var i=Xe();return He!==null?Ju(i,He,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ql,useCacheRefresh:Ch};Rh.useEffectEvent=hh;function Zl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:f({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Jl={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ot(),r=Li(s);r.payload=t,i!=null&&(r.callback=i),t=Mi(e,r,s),t!==null&&(Ct(t,e,s),Or(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ot(),r=Li(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Mi(e,r,s),t!==null&&(Ct(t,e,s),Or(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ot(),s=Li(i);s.tag=2,t!=null&&(s.callback=t),t=Mi(e,s,i),t!==null&&(Ct(t,e,i),Or(t,e,i))}};function Dh(e,t,i,s,r,a,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,w):t.prototype&&t.prototype.isPureReactComponent?!Er(i,s)||!Er(r,a):!0}function kh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Jl.enqueueReplaceState(t,t.state,null)}function ys(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=f({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function Nh(e){An(e)}function jh(e){console.error(e)}function Oh(e){An(e)}function Xn(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Lh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function eo(e,t,i){return i=Li(i),i.tag=3,i.payload={element:null},i.callback=function(){Xn(e,t)},i}function Mh(e){return e=Li(e),e.tag=3,e}function Bh(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;e.payload=function(){return r(a)},e.callback=function(){Lh(t,i,s)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Lh(t,i,s),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var L=s.stack;this.componentDidCatch(s.value,{componentStack:L!==null?L:""})})}function N0(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Ps(t,i,r,!0),i=Dt.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?la():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===Bn?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Ao(e,s,r)),!1;case 22:return i.flags|=65536,s===Bn?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Ao(e,s,r)),!1}throw Error(v(435,i.tag))}return Ao(e,s,r),la(),!1}if(Re)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==bl&&(e=Error(v(422),{cause:s}),Rr(Ut(e,i)))):(s!==bl&&(t=Error(v(423),{cause:s}),Rr(Ut(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Ut(s,i),r=eo(e.stateNode,s,r),kl(e,r),Ye!==4&&(Ye=2)),!1;var a=Error(v(520),{cause:s});if(a=Ut(a,i),Yr===null?Yr=[a]:Yr.push(a),Ye!==4&&(Ye=2),t===null)return!0;s=Ut(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=eo(i.stateNode,s,e),kl(i,e),!1;case 1:if(t=i.type,a=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ii===null||!Ii.has(a))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Mh(r),Bh(r,e,i,s),kl(i,r),!1}i=i.return}while(i!==null);return!1}var to=Error(v(461)),Ze=!1;function ht(e,t,i,s){t.child=e===null?qu(t,null,i,s):vs(t,e.child,i,s)}function Hh(e,t,i,s,r){i=i.render;var a=t.ref;if("ref"in s){var w={};for(var L in s)L!=="ref"&&(w[L]=s[L])}else w=s;return ps(t),s=Bl(e,t,i,w,a,r),L=Hl(),e!==null&&!Ze?(zl(e,t,r),_i(e,t,r)):(Re&&L&&gl(t),t.flags|=1,ht(e,t,s,r),t.child)}function zh(e,t,i,s,r){if(e===null){var a=i.type;return typeof a=="function"&&!pl(a)&&a.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=a,Uh(e,t,a,s,r)):(e=kn(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!co(e,r)){var w=a.memoizedProps;if(i=i.compare,i=i!==null?i:Er,i(w,s)&&e.ref===t.ref)return _i(e,t,r)}return t.flags|=1,e=ci(a,s),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,i,s,r){if(e!==null){var a=e.memoizedProps;if(Er(a,s)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=s=a,co(e,r))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,_i(e,t,r)}return io(e,t,i,s,r)}function qh(e,t,i,s){var r=s.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(a=a!==null?a.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~a}else s=0,t.child=null;return Ih(e,t,a,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ln(t,a!==null?a.cachePool:null),a!==null?Fu(t,a):jl(),Wu(t);else return s=t.lanes=536870912,Ih(e,t,a!==null?a.baseLanes|i:i,i,s)}else a!==null?(Ln(t,a.cachePool),Fu(t,a),Hi(),t.memoizedState=null):(e!==null&&Ln(t,null),jl(),Hi());return ht(e,t,r,i),t.child}function qr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ih(e,t,i,s,r){var a=Al();return a=a===null?null:{parent:$e._currentValue,pool:a},t.memoizedState={baseLanes:i,cachePool:a},e!==null&&Ln(t,null),jl(),Wu(t),e!==null&&Ps(e,t,s,!0),t.childLanes=r,null}function $n(e,t){return t=Zn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ph(e,t,i){return vs(t,e.child,null,i),e=$n(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function j0(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=$n(t,s),t.lanes=536870912,qr(null,e);if(Ll(t),(e=Fe)?(e=td(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:Jt,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},i=Eu(e),i.return=t,t.child=i,ct=t,Fe=null)):e=null,e===null)throw Ni(t);return t.lanes=536870912,null}return $n(t,s)}var a=e.memoizedState;if(a!==null){var w=a.dehydrated;if(Ll(t),r)if(t.flags&256)t.flags&=-257,t=Ph(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(Ze||Ps(e,t,i,!1),r=(i&e.childLanes)!==0,Ze||r){if(s=qe,s!==null&&(w=jc(s,i),w!==0&&w!==a.retryLane))throw a.retryLane=w,us(e,w),Ct(s,e,w),to;la(),t=Ph(e,t,i)}else e=a.treeContext,Fe=Wt(w.nextSibling),ct=t,Re=!0,ki=null,Pt=!1,e!==null&&Ru(t,e),t=$n(t,s),t.flags|=4096;return t}return e=ci(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qn(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(v(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function io(e,t,i,s,r){return ps(t),i=Bl(e,t,i,s,void 0,r),s=Hl(),e!==null&&!Ze?(zl(e,t,r),_i(e,t,r)):(Re&&s&&gl(t),t.flags|=1,ht(e,t,i,r),t.child)}function Fh(e,t,i,s,r,a){return ps(t),t.updateQueue=null,i=Gu(t,s,i,r),Vu(e),s=Hl(),e!==null&&!Ze?(zl(e,t,a),_i(e,t,a)):(Re&&s&&gl(t),t.flags|=1,ht(e,t,i,a),t.child)}function Wh(e,t,i,s,r){if(ps(t),t.stateNode===null){var a=zs,w=i.contextType;typeof w=="object"&&w!==null&&(a=ut(w)),a=new i(s,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jl,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=s,a.state=t.memoizedState,a.refs={},Rl(t),w=i.contextType,a.context=typeof w=="object"&&w!==null?ut(w):zs,a.state=t.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Zl(t,i,w,s),a.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(w=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),w!==a.state&&Jl.enqueueReplaceState(a,a.state,null),Mr(t,s,a,r),Lr(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){a=t.stateNode;var L=t.memoizedProps,V=ys(i,L);a.props=V;var Z=a.context,ne=i.contextType;w=zs,typeof ne=="object"&&ne!==null&&(w=ut(ne));var ce=i.getDerivedStateFromProps;ne=typeof ce=="function"||typeof a.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ne||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(L||Z!==w)&&kh(t,a,s,w),Oi=!1;var J=t.memoizedState;a.state=J,Mr(t,s,a,r),Lr(),Z=t.memoizedState,L||J!==Z||Oi?(typeof ce=="function"&&(Zl(t,i,ce,s),Z=t.memoizedState),(V=Oi||Dh(t,i,V,s,J,Z,w))?(ne||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Z),a.props=s,a.state=Z,a.context=w,s=V):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Dl(e,t),w=t.memoizedProps,ne=ys(i,w),a.props=ne,ce=t.pendingProps,J=a.context,Z=i.contextType,V=zs,typeof Z=="object"&&Z!==null&&(V=ut(Z)),L=i.getDerivedStateFromProps,(Z=typeof L=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(w!==ce||J!==V)&&kh(t,a,s,V),Oi=!1,J=t.memoizedState,a.state=J,Mr(t,s,a,r),Lr();var te=t.memoizedState;w!==ce||J!==te||Oi||e!==null&&e.dependencies!==null&&jn(e.dependencies)?(typeof L=="function"&&(Zl(t,i,L,s),te=t.memoizedState),(ne=Oi||Dh(t,i,ne,s,J,te,V)||e!==null&&e.dependencies!==null&&jn(e.dependencies))?(Z||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,te,V),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,te,V)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=te),a.props=s,a.state=te,a.context=V,s=ne):(typeof a.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,Qn(e,t),s=(t.flags&128)!==0,a||s?(a=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&s?(t.child=vs(t,e.child,null,r),t.child=vs(t,null,i,r)):ht(e,t,i,r),t.memoizedState=a.state,e=t.child):e=_i(e,t,r),e}function Vh(e,t,i,s){return fs(),t.flags|=256,ht(e,t,i,s),t.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ro(e){return{baseLanes:e,cachePool:Lu()}}function no(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=jt),e}function Gh(e,t,i){var s=t.pendingProps,r=!1,a=(t.flags&128)!==0,w;if((w=a)||(w=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),w&&(r=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(r?Bi(t):Hi(),(e=Fe)?(e=td(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:Jt,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},i=Eu(e),i.return=t,t.child=i,ct=t,Fe=null)):e=null,e===null)throw Ni(t);return Po(e)?t.lanes=32:t.lanes=536870912,null}var L=s.children;return s=s.fallback,r?(Hi(),r=t.mode,L=Zn({mode:"hidden",children:L},r),s=hs(s,r,i,null),L.return=t,s.return=t,L.sibling=s,t.child=L,s=t.child,s.memoizedState=ro(i),s.childLanes=no(e,w,i),t.memoizedState=so,qr(null,s)):(Bi(t),ao(t,L))}var V=e.memoizedState;if(V!==null&&(L=V.dehydrated,L!==null)){if(a)t.flags&256?(Bi(t),t.flags&=-257,t=lo(e,t,i)):t.memoizedState!==null?(Hi(),t.child=e.child,t.flags|=128,t=null):(Hi(),L=s.fallback,r=t.mode,s=Zn({mode:"visible",children:s.children},r),L=hs(L,r,i,null),L.flags|=2,s.return=t,L.return=t,s.sibling=L,t.child=s,vs(t,e.child,null,i),s=t.child,s.memoizedState=ro(i),s.childLanes=no(e,w,i),t.memoizedState=so,t=qr(null,s));else if(Bi(t),Po(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var Z=w.dgst;w=Z,s=Error(v(419)),s.stack="",s.digest=w,Rr({value:s,source:null,stack:null}),t=lo(e,t,i)}else if(Ze||Ps(e,t,i,!1),w=(i&e.childLanes)!==0,Ze||w){if(w=qe,w!==null&&(s=jc(w,i),s!==0&&s!==V.retryLane))throw V.retryLane=s,us(e,s),Ct(w,e,s),to;Io(L)||la(),t=lo(e,t,i)}else Io(L)?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,Fe=Wt(L.nextSibling),ct=t,Re=!0,ki=null,Pt=!1,e!==null&&Ru(t,e),t=ao(t,s.children),t.flags|=4096);return t}return r?(Hi(),L=s.fallback,r=t.mode,V=e.child,Z=V.sibling,s=ci(V,{mode:"hidden",children:s.children}),s.subtreeFlags=V.subtreeFlags&65011712,Z!==null?L=ci(Z,L):(L=hs(L,r,i,null),L.flags|=2),L.return=t,s.return=t,s.sibling=L,t.child=s,qr(null,s),s=t.child,L=e.child.memoizedState,L===null?L=ro(i):(r=L.cachePool,r!==null?(V=$e._currentValue,r=r.parent!==V?{parent:V,pool:V}:r):r=Lu(),L={baseLanes:L.baseLanes|i,cachePool:r}),s.memoizedState=L,s.childLanes=no(e,w,i),t.memoizedState=so,qr(e.child,s)):(Bi(t),i=e.child,e=i.sibling,i=ci(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=i,t.memoizedState=null,i)}function ao(e,t){return t=Zn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zn(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function lo(e,t,i){return vs(t,e.child,null,i),e=ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Sl(e.return,t,i)}function oo(e,t,i,s,r,a){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:a}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=s,w.tail=i,w.tailMode=r,w.treeForkCount=a)}function Kh(e,t,i){var s=t.pendingProps,r=s.revealOrder,a=s.tail;s=s.children;var w=Ke.current,L=(w&2)!==0;if(L?(w=w&1|2,t.flags|=128):w&=1,ee(Ke,w),ht(e,t,s,i),s=Re?Tr:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,i,t);else if(e.tag===19)Yh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&qn(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),oo(t,!1,r,i,a,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qn(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}oo(t,!0,i,null,a,s);break;case"together":oo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function _i(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ps(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,i=ci(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ci(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jn(e)))}function O0(e,t,i){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),ji(t,$e,e.memoizedState.cache),fs();break;case 27:case 5:ae(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:ji(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ll(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Bi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gh(e,t,i):(Bi(t),e=_i(e,t,i),e!==null?e.sibling:null);Bi(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Ps(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Kh(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ee(Ke,Ke.current),s)break;return null;case 22:return t.lanes=0,qh(e,t,i,t.pendingProps);case 24:ji(t,$e,e.memoizedState.cache)}return _i(e,t,i)}function Xh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!co(e,i)&&(t.flags&128)===0)return Ze=!1,O0(e,t,i);Ze=(e.flags&131072)!==0}else Ze=!1,Re&&(t.flags&1048576)!==0&&Tu(t,Tr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ms(t.elementType),t.type=e,typeof e=="function")pl(e)?(s=ys(e,s),t.tag=1,t=Wh(null,t,e,s,i)):(t.tag=0,t=io(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===b){t.tag=11,t=Hh(null,t,e,s,i);break e}else if(r===k){t.tag=14,t=zh(null,t,e,s,i);break e}}throw t=se(e)||e,Error(v(306,t,""))}}return t;case 0:return io(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=ys(s,t.pendingProps),Wh(e,t,s,r,i);case 3:e:{if($(t,t.stateNode.containerInfo),e===null)throw Error(v(387));s=t.pendingProps;var a=t.memoizedState;r=a.element,Dl(e,t),Mr(t,s,null,i);var w=t.memoizedState;if(s=w.cache,ji(t,$e,s),s!==a.cache&&Cl(t,[$e],i,!0),Lr(),s=w.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Vh(e,t,s,i);break e}else if(s!==r){r=Ut(Error(v(424)),t),Rr(r),t=Vh(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Fe=Wt(e.firstChild),ct=t,Re=!0,ki=null,Pt=!0,i=qu(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(fs(),s===r){t=_i(e,t,i);break e}ht(e,t,s,i)}t=t.child}return t;case 26:return Qn(e,t),e===null?(i=ld(t.type,null,t.pendingProps,null))?t.memoizedState=i:Re||(i=t.type,e=t.pendingProps,s=pa(pe.current).createElement(i),s[ot]=t,s[gt]=e,ft(s,i,e),at(s),t.stateNode=s):t.memoizedState=ld(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ae(t),e===null&&Re&&(s=t.stateNode=rd(t.type,t.pendingProps,pe.current),ct=t,Pt=!0,r=Fe,Vi(t.type)?(Fo=r,Fe=Wt(s.firstChild)):Fe=r),ht(e,t,t.pendingProps.children,i),Qn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((r=s=Fe)&&(s=c_(s,t.type,t.pendingProps,Pt),s!==null?(t.stateNode=s,ct=t,Fe=Wt(s.firstChild),Pt=!1,r=!0):r=!1),r||Ni(t)),ae(t),r=t.type,a=t.pendingProps,w=e!==null?e.memoizedProps:null,s=a.children,zo(r,a)?s=null:w!==null&&zo(r,w)&&(t.flags|=32),t.memoizedState!==null&&(r=Bl(e,t,w0,null,null,i),tn._currentValue=r),Qn(e,t),ht(e,t,s,i),t.child;case 6:return e===null&&Re&&((e=i=Fe)&&(i=u_(i,t.pendingProps,Pt),i!==null?(t.stateNode=i,ct=t,Fe=null,e=!0):e=!1),e||Ni(t)),null;case 13:return Gh(e,t,i);case 4:return $(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=vs(t,null,s,i):ht(e,t,s,i),t.child;case 11:return Hh(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,ji(t,t.type,s.value),ht(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,ps(t),r=ut(r),s=s(r),t.flags|=1,ht(e,t,s,i),t.child;case 14:return zh(e,t,t.type,t.pendingProps,i);case 15:return Uh(e,t,t.type,t.pendingProps,i);case 19:return Kh(e,t,i);case 31:return j0(e,t,i);case 22:return qh(e,t,i,t.pendingProps);case 24:return ps(t),s=ut($e),e===null?(r=Al(),r===null&&(r=qe,a=wl(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=i),r=a),t.memoizedState={parent:s,cache:r},Rl(t),ji(t,$e,r)):((e.lanes&i)!==0&&(Dl(e,t),Mr(t,null,null,i),Lr()),r=e.memoizedState,a=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ji(t,$e,s)):(s=a.cache,ji(t,$e,s),s!==r.cache&&Cl(t,[$e],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function mi(e){e.flags|=4}function uo(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw gs=Bn,Tl}else e.flags&=-16777217}function $h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw gs=Bn,Tl}function Jn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dc():536870912,e.lanes|=t,er|=t)}function Ir(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function L0(e,t,i){var s=t.pendingProps;switch(vl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fi($e),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Is(t)?mi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yl())),We(t),null;case 26:var r=t.type,a=t.memoizedState;return e===null?(mi(t),a!==null?(We(t),$h(t,a)):(We(t),uo(t,r,null,s,i))):a?a!==e.memoizedState?(mi(t),We(t),$h(t,a)):(We(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&mi(t),We(t),uo(t,r,e,s,i)),null;case 27:if(ve(t),i=pe.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mi(t);else{if(!s){if(t.stateNode===null)throw Error(v(166));return We(t),null}e=oe.current,Is(t)?Du(t):(e=rd(r,s,i),t.stateNode=e,mi(t))}return We(t),null;case 5:if(ve(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mi(t);else{if(!s){if(t.stateNode===null)throw Error(v(166));return We(t),null}if(a=oe.current,Is(t))Du(t);else{var w=pa(pe.current);switch(a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof s.is=="string"?w.createElement("select",{is:s.is}):w.createElement("select"),s.multiple?a.multiple=!0:s.size&&(a.size=s.size);break;default:a=typeof s.is=="string"?w.createElement(r,{is:s.is}):w.createElement(r)}}a[ot]=t,a[gt]=s;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=a;e:switch(ft(a,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mi(t)}}return We(t),uo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&mi(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(v(166));if(e=pe.current,Is(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=ct,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Yf(e.nodeValue,i)),e||Ni(t,!0)}else e=pa(e).createTextNode(s),e[ot]=t,t.stateNode=e}return We(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Is(t),i!==null){if(e===null){if(!s)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[ot]=t}else fs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),e=!1}else i=yl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(v(558))}return We(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Is(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(v(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(v(317));r[ot]=t}else fs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),r=!1}else r=yl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Jn(t,t.updateQueue),We(t),null);case 4:return ie(),e===null&&Oo(t.stateNode.containerInfo),We(t),null;case 10:return fi(t.type),We(t),null;case 19:if(G(Ke),s=t.memoizedState,s===null)return We(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Ir(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=qn(e),a!==null){for(t.flags|=128,Ir(s,!1),e=a.updateQueue,t.updateQueue=e,Jn(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)wu(i,e),i=i.sibling;return ee(Ke,Ke.current&1|2),Re&&ui(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&tt()>ra&&(t.flags|=128,r=!0,Ir(s,!1),t.lanes=4194304)}else{if(!r)if(e=qn(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Jn(t,e),Ir(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Re)return We(t),null}else 2*tt()-s.renderingStartTime>ra&&i!==536870912&&(t.flags|=128,r=!0,Ir(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(e=s.last,e!==null?e.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,i=Ke.current,ee(Ke,r?i&1|2:i&1),Re&&ui(t,s.treeForkCount),e):(We(t),null);case 22:case 23:return kt(t),Ol(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),i=t.updateQueue,i!==null&&Jn(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&G(_s),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fi($e),We(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function M0(e,t){switch(vl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi($e),ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ve(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(v(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ke),null;case 4:return ie(),null;case 10:return fi(t.type),null;case 22:case 23:return kt(t),Ol(),e!==null&&G(_s),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fi($e),null;case 25:return null;default:return null}}function Qh(e,t){switch(vl(t),t.tag){case 3:fi($e),ie();break;case 26:case 27:case 5:ve(t);break;case 4:ie();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:G(Ke);break;case 10:fi(t.type);break;case 22:case 23:kt(t),Ol(),e!==null&&G(_s);break;case 24:fi($e)}}function Pr(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var a=i.create,w=i.inst;s=a(),w.destroy=s}i=i.next}while(i!==r)}}catch(L){Be(t,t.return,L)}}function zi(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var a=r.next;s=a;do{if((s.tag&e)===e){var w=s.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,r=t;var V=i,Z=L;try{Z()}catch(ne){Be(r,V,ne)}}}s=s.next}while(s!==a)}}catch(ne){Be(t,t.return,ne)}}function Zh(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Pu(t,i)}catch(s){Be(e,e.return,s)}}}function Jh(e,t,i){i.props=ys(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Be(e,t,s)}}function Fr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Be(e,t,r)}}function ti(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Be(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Be(e,t,r)}else i.current=null}function ef(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Be(e,e.return,r)}}function ho(e,t,i){try{var s=e.stateNode;s_(s,e.type,i,t),s[gt]=t}catch(r){Be(e,e.return,r)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function fo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=li));else if(s!==4&&(s===27&&Vi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(po(e,t,i),e=e.sibling;e!==null;)po(e,t,i),e=e.sibling}function ea(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Vi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ea(e,t,i),e=e.sibling;e!==null;)ea(e,t,i),e=e.sibling}function sf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ft(t,s,i),t[ot]=e,t[gt]=i}catch(a){Be(e,e.return,a)}}var gi=!1,Je=!1,_o=!1,rf=typeof WeakSet=="function"?WeakSet:Set,lt=null;function B0(e,t){if(e=e.containerInfo,Bo=xa,e=_u(e),ll(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{i.nodeType,a.nodeType}catch{i=null;break e}var w=0,L=-1,V=-1,Z=0,ne=0,ce=e,J=null;t:for(;;){for(var te;ce!==i||r!==0&&ce.nodeType!==3||(L=w+r),ce!==a||s!==0&&ce.nodeType!==3||(V=w+s),ce.nodeType===3&&(w+=ce.nodeValue.length),(te=ce.firstChild)!==null;)J=ce,ce=te;for(;;){if(ce===e)break t;if(J===i&&++Z===r&&(L=w),J===a&&++ne===s&&(V=w),(te=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=te}i=L===-1||V===-1?null:{start:L,end:V}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ho={focusedElem:e,selectionRange:i},xa=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,a=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&a!==null){e=void 0,i=t,r=a.memoizedProps,a=a.memoizedState,s=i.stateNode;try{var de=ys(i.type,r);e=s.getSnapshotBeforeUpdate(de,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Be(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)qo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function nf(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:bi(e,i),s&4&&Pr(5,i);break;case 1:if(bi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(w){Be(i,i.return,w)}else{var r=ys(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Be(i,i.return,w)}}s&64&&Zh(i),s&512&&Fr(i,i.return);break;case 3:if(bi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Pu(e,t)}catch(w){Be(i,i.return,w)}}break;case 27:t===null&&s&4&&sf(i);case 26:case 5:bi(e,i),t===null&&s&4&&ef(i),s&512&&Fr(i,i.return);break;case 12:bi(e,i);break;case 31:bi(e,i),s&4&&of(e,i);break;case 13:bi(e,i),s&4&&cf(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=V0.bind(null,i),h_(e,i))));break;case 22:if(s=i.memoizedState!==null||gi,!s){t=t!==null&&t.memoizedState!==null||Je,r=gi;var a=Je;gi=s,(Je=t)&&!a?yi(e,i,(i.subtreeFlags&8772)!==0):bi(e,i),gi=r,Je=a}break;case 30:break;default:bi(e,i)}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,bt=!1;function vi(e,t,i){for(i=i.child;i!==null;)lf(e,t,i),i=i.sibling}function lf(e,t,i){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(rs,i)}catch{}switch(i.tag){case 26:Je||ti(i,t),vi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Je||ti(i,t);var s=Ve,r=bt;Vi(i.type)&&(Ve=i.stateNode,bt=!1),vi(e,t,i),Zr(i.stateNode),Ve=s,bt=r;break;case 5:Je||ti(i,t);case 6:if(s=Ve,r=bt,Ve=null,vi(e,t,i),Ve=s,bt=r,Ve!==null)if(bt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(i.stateNode)}catch(a){Be(i,t,a)}else try{Ve.removeChild(i.stateNode)}catch(a){Be(i,t,a)}break;case 18:Ve!==null&&(bt?(e=Ve,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),or(e)):Jf(Ve,i.stateNode));break;case 4:s=Ve,r=bt,Ve=i.stateNode.containerInfo,bt=!0,vi(e,t,i),Ve=s,bt=r;break;case 0:case 11:case 14:case 15:zi(2,i,t),Je||zi(4,i,t),vi(e,t,i);break;case 1:Je||(ti(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Jh(i,t,s)),vi(e,t,i);break;case 21:vi(e,t,i);break;case 22:Je=(s=Je)||i.memoizedState!==null,vi(e,t,i),Je=s;break;default:vi(e,t,i)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{or(e)}catch(i){Be(t,t.return,i)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{or(e)}catch(i){Be(t,t.return,i)}}function H0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(v(435,e.tag))}}function ta(e,t){var i=H0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=G0.bind(null,e,s);s.then(r,r)}})}function yt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],a=e,w=t,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(Vi(L.type)){Ve=L.stateNode,bt=!1;break e}break;case 5:Ve=L.stateNode,bt=!1;break e;case 3:case 4:Ve=L.stateNode.containerInfo,bt=!0;break e}L=L.return}if(Ve===null)throw Error(v(160));lf(a,w,r),Ve=null,bt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)uf(t,e),t=t.sibling}var Xt=null;function uf(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),xt(e),s&4&&(zi(3,e,e.return),Pr(3,e),zi(5,e,e.return));break;case 1:yt(t,e),xt(e),s&512&&(Je||i===null||ti(i,i.return)),s&64&&gi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=Xt;if(yt(t,e),xt(e),s&512&&(Je||i===null||ti(i,i.return)),s&4){var a=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":a=r.getElementsByTagName("title")[0],(!a||a[mr]||a[ot]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(s),r.head.insertBefore(a,r.querySelector("head > title"))),ft(a,s,i),a[ot]=e,at(a),s=a;break e;case"link":var w=ud("link","href",r).get(s+(i.href||""));if(w){for(var L=0;L<w.length;L++)if(a=w[L],a.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&a.getAttribute("rel")===(i.rel==null?null:i.rel)&&a.getAttribute("title")===(i.title==null?null:i.title)&&a.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(L,1);break t}}a=r.createElement(s),ft(a,s,i),r.head.appendChild(a);break;case"meta":if(w=ud("meta","content",r).get(s+(i.content||""))){for(L=0;L<w.length;L++)if(a=w[L],a.getAttribute("content")===(i.content==null?null:""+i.content)&&a.getAttribute("name")===(i.name==null?null:i.name)&&a.getAttribute("property")===(i.property==null?null:i.property)&&a.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&a.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(L,1);break t}}a=r.createElement(s),ft(a,s,i),r.head.appendChild(a);break;default:throw Error(v(468,s))}a[ot]=e,at(a),s=a}e.stateNode=s}else hd(r,e.type,e.stateNode);else e.stateNode=cd(r,s,e.memoizedProps);else a!==s?(a===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):a.count--,s===null?hd(r,e.type,e.stateNode):cd(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ho(e,e.memoizedProps,i.memoizedProps)}break;case 27:yt(t,e),xt(e),s&512&&(Je||i===null||ti(i,i.return)),i!==null&&s&4&&ho(e,e.memoizedProps,i.memoizedProps);break;case 5:if(yt(t,e),xt(e),s&512&&(Je||i===null||ti(i,i.return)),e.flags&32){r=e.stateNode;try{Ns(r,"")}catch(de){Be(e,e.return,de)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,ho(e,r,i!==null?i.memoizedProps:r)),s&1024&&(_o=!0);break;case 6:if(yt(t,e),xt(e),s&4){if(e.stateNode===null)throw Error(v(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(de){Be(e,e.return,de)}}break;case 3:if(ga=null,r=Xt,Xt=_a(t.containerInfo),yt(t,e),Xt=r,xt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{or(t.containerInfo)}catch(de){Be(e,e.return,de)}_o&&(_o=!1,hf(e));break;case 4:s=Xt,Xt=_a(e.stateNode.containerInfo),yt(t,e),xt(e),Xt=s;break;case 12:yt(t,e),xt(e);break;case 31:yt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 13:yt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sa=tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 22:r=e.memoizedState!==null;var V=i!==null&&i.memoizedState!==null,Z=gi,ne=Je;if(gi=Z||r,Je=ne||V,yt(t,e),Je=ne,gi=Z,xt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||V||gi||Je||xs(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){V=i=t;try{if(a=V.stateNode,r)w=a.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=V.stateNode;var ce=V.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(de){Be(V,V.return,de)}}}else if(t.tag===6){if(i===null){V=t;try{V.stateNode.nodeValue=r?"":V.memoizedProps}catch(de){Be(V,V.return,de)}}}else if(t.tag===18){if(i===null){V=t;try{var te=V.stateNode;r?ed(te,!0):ed(V.stateNode,!1)}catch(de){Be(V,V.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,ta(e,i))));break;case 19:yt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 30:break;case 21:break;default:yt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(tf(s)){i=s;break}s=s.return}if(i==null)throw Error(v(160));switch(i.tag){case 27:var r=i.stateNode,a=fo(e);ea(e,a,r);break;case 5:var w=i.stateNode;i.flags&32&&(Ns(w,""),i.flags&=-33);var L=fo(e);ea(e,L,w);break;case 3:case 4:var V=i.stateNode.containerInfo,Z=fo(e);po(e,Z,V);break;default:throw Error(v(161))}}catch(ne){Be(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nf(e,t.alternate,t),t=t.sibling}function xs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zi(4,t,t.return),xs(t);break;case 1:ti(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Jh(t,t.return,i),xs(t);break;case 27:Zr(t.stateNode);case 26:case 5:ti(t,t.return),xs(t);break;case 22:t.memoizedState===null&&xs(t);break;case 30:xs(t);break;default:xs(t)}e=e.sibling}}function yi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,a=t,w=a.flags;switch(a.tag){case 0:case 11:case 15:yi(r,a,i),Pr(4,a);break;case 1:if(yi(r,a,i),s=a,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(Z){Be(s,s.return,Z)}if(s=a,r=s.updateQueue,r!==null){var L=s.stateNode;try{var V=r.shared.hiddenCallbacks;if(V!==null)for(r.shared.hiddenCallbacks=null,r=0;r<V.length;r++)Iu(V[r],L)}catch(Z){Be(s,s.return,Z)}}i&&w&64&&Zh(a),Fr(a,a.return);break;case 27:sf(a);case 26:case 5:yi(r,a,i),i&&s===null&&w&4&&ef(a),Fr(a,a.return);break;case 12:yi(r,a,i);break;case 31:yi(r,a,i),i&&w&4&&of(r,a);break;case 13:yi(r,a,i),i&&w&4&&cf(r,a);break;case 22:a.memoizedState===null&&yi(r,a,i),Fr(a,a.return);break;case 30:break;default:yi(r,a,i)}t=t.sibling}}function mo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Dr(i))}function go(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dr(e))}function $t(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,i,s),t=t.sibling}function ff(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,s),r&2048&&Pr(9,t);break;case 1:$t(e,t,i,s);break;case 3:$t(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dr(e)));break;case 12:if(r&2048){$t(e,t,i,s),e=t.stateNode;try{var a=t.memoizedProps,w=a.id,L=a.onPostCommit;typeof L=="function"&&L(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Be(t,t.return,V)}}else $t(e,t,i,s);break;case 31:$t(e,t,i,s);break;case 13:$t(e,t,i,s);break;case 23:break;case 22:a=t.stateNode,w=t.alternate,t.memoizedState!==null?a._visibility&2?$t(e,t,i,s):Wr(e,t):a._visibility&2?$t(e,t,i,s):(a._visibility|=2,Qs(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&mo(w,t);break;case 24:$t(e,t,i,s),r&2048&&go(t.alternate,t);break;default:$t(e,t,i,s)}}function Qs(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,w=t,L=i,V=s,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Qs(a,w,L,V,r),Pr(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&2?Qs(a,w,L,V,r):Wr(a,w):(ne._visibility|=2,Qs(a,w,L,V,r)),r&&Z&2048&&mo(w.alternate,w);break;case 24:Qs(a,w,L,V,r),r&&Z&2048&&go(w.alternate,w);break;default:Qs(a,w,L,V,r)}t=t.sibling}}function Wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Wr(i,s),r&2048&&mo(s.alternate,s);break;case 24:Wr(i,s),r&2048&&go(s.alternate,s);break;default:Wr(i,s)}t=t.sibling}}var Vr=8192;function Zs(e,t,i){if(e.subtreeFlags&Vr)for(e=e.child;e!==null;)df(e,t,i),e=e.sibling}function df(e,t,i){switch(e.tag){case 26:Zs(e,t,i),e.flags&Vr&&e.memoizedState!==null&&C_(i,Xt,e.memoizedState,e.memoizedProps);break;case 5:Zs(e,t,i);break;case 3:case 4:var s=Xt;Xt=_a(e.stateNode.containerInfo),Zs(e,t,i),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Vr,Vr=16777216,Zs(e,t,i),Vr=s):Zs(e,t,i));break;default:Zs(e,t,i)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];lt=s,mf(s,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_f(e),e=e.sibling}function _f(e){switch(e.tag){case 0:case 11:case 15:Gr(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Gr(e);break;case 12:Gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ia(e)):Gr(e);break;default:Gr(e)}}function ia(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];lt=s,mf(s,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zi(8,t,t.return),ia(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ia(t));break;default:ia(t)}e=e.sibling}}function mf(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:zi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Dr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,lt=s;else e:for(i=e;lt!==null;){s=lt;var r=s.sibling,a=s.return;if(af(s),s===i){lt=null;break e}if(r!==null){r.return=a,lt=r;break e}lt=a}}}var z0={getCacheForType:function(e){var t=ut($e),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ut($e).controller.signal}},U0=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,we=null,Ae=0,Me=0,Nt=null,Ui=!1,Js=!1,vo=!1,xi=0,Ye=0,qi=0,Ss=0,bo=0,jt=0,er=0,Yr=null,St=null,yo=!1,sa=0,gf=0,ra=1/0,na=null,Ii=null,it=0,Pi=null,tr=null,Si=0,xo=0,So=null,vf=null,Kr=0,Co=null;function Ot(){return(Oe&2)!==0&&Ae!==0?Ae&-Ae:P.T!==null?Do():Oc()}function bf(){if(jt===0)if((Ae&536870912)===0||Re){var e=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),jt=e}else jt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),jt}function Ct(e,t,i){(e===qe&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(ir(e,0),Fi(e,Ae,jt,!1)),_r(e,i),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(Ss|=i),Ye===4&&Fi(e,Ae,jt,!1)),ii(e))}function yf(e,t,i){if((Oe&6)!==0)throw Error(v(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||pr(e,t),r=s?P0(e,t):Eo(e,t,!0),a=s;do{if(r===0){Js&&!s&&Fi(e,t,0,!1);break}else{if(i=e.current.alternate,a&&!q0(i)){r=Eo(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var L=e;r=Yr;var V=L.current.memoizedState.isDehydrated;if(V&&(ir(L,w).flags|=256),w=Eo(L,w,!1),w!==2){if(vo&&!V){L.errorRecoveryDisabledLanes|=a,Ss|=a,r=4;break e}a=St,St=r,a!==null&&(St===null?St=a:St.push.apply(St,a))}r=w}if(a=!1,r!==2)continue}}if(r===1){ir(e,0),Fi(e,t,0,!0);break}e:{switch(s=e,a=r,a){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:Fi(s,t,jt,!Ui);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(r=sa+300-tt(),10<r)){if(Fi(s,t,jt,!Ui),_n(s,0,!0)!==0)break e;Si=t,s.timeoutHandle=Qf(xf.bind(null,s,i,St,na,yo,t,jt,Ss,er,Ui,a,"Throttled",-0,0),r);break e}xf(s,i,St,na,yo,t,jt,Ss,er,Ui,a,null,-0,0)}}break}while(!0);ii(e)}function xf(e,t,i,s,r,a,w,L,V,Z,ne,ce,J,te){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},df(t,a,ce);var de=(a&62914560)===a?sa-tt():(a&4194048)===a?gf-tt():0;if(de=w_(ce,de),de!==null){Si=a,e.cancelPendingCommit=de(Df.bind(null,e,t,a,i,s,r,w,L,V,ne,ce,null,J,te)),Fi(e,a,w,!Z);return}}Df(e,t,a,i,s,r,w,L,V)}function q0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],a=r.getSnapshot;r=r.value;try{if(!Tt(a(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t,i,s){t&=~bo,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var a=31-At(r),w=1<<a;s[a]=-1,r&=~w}i!==0&&kc(e,i,t)}function aa(){return(Oe&6)===0?(Xr(0),!1):!0}function wo(){if(we!==null){if(Me===0)var e=we.return;else e=we,hi=ds=null,Ul(e),Gs=null,Nr=0,e=we;for(;e!==null;)Qh(e.alternate,e),e=e.return;we=null}}function ir(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,a_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Si=0,wo(),qe=e,we=i=ci(e.current,null),Ae=t,Me=0,Nt=null,Ui=!1,Js=pr(e,t),vo=!1,er=jt=bo=Ss=qi=Ye=0,St=Yr=null,yo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-At(s),a=1<<r;t|=e[r],s&=~a}return xi=t,Tn(),i}function Sf(e,t){ye=null,P.H=Ur,t===Vs||t===Mn?(t=Hu(),Me=3):t===Tl?(t=Hu(),Me=4):Me=t===to?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,we===null&&(Ye=1,Xn(e,Ut(t,e.current)))}function Cf(){var e=Dt.current;return e===null?!0:(Ae&4194048)===Ae?Ft===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Ft:!1}function wf(){var e=P.H;return P.H=Ur,e===null?Ur:e}function Ef(){var e=P.A;return P.A=z0,e}function la(){Ye=4,Ui||(Ae&4194048)!==Ae&&Dt.current!==null||(Js=!0),(qi&134217727)===0&&(Ss&134217727)===0||qe===null||Fi(qe,Ae,jt,!1)}function Eo(e,t,i){var s=Oe;Oe|=2;var r=wf(),a=Ef();(qe!==e||Ae!==t)&&(na=null,ir(e,t)),t=!1;var w=Ye;e:do try{if(Me!==0&&we!==null){var L=we,V=Nt;switch(Me){case 8:wo(),w=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var Z=Me;if(Me=0,Nt=null,sr(e,L,V,Z),i&&Js){w=0;break e}break;default:Z=Me,Me=0,Nt=null,sr(e,L,V,Z)}}I0(),w=Ye;break}catch(ne){Sf(e,ne)}while(!0);return t&&e.shellSuspendCounter++,hi=ds=null,Oe=s,P.H=r,P.A=a,we===null&&(qe=null,Ae=0,Tn()),w}function I0(){for(;we!==null;)Af(we)}function P0(e,t){var i=Oe;Oe|=2;var s=wf(),r=Ef();qe!==e||Ae!==t?(na=null,ra=tt()+500,ir(e,t)):Js=pr(e,t);e:do try{if(Me!==0&&we!==null){t=we;var a=Nt;t:switch(Me){case 1:Me=0,Nt=null,sr(e,t,a,1);break;case 2:case 9:if(Mu(a)){Me=0,Nt=null,Tf(t);break}t=function(){Me!==2&&Me!==9||qe!==e||(Me=7),ii(e)},a.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Mu(a)?(Me=0,Nt=null,Tf(t)):(Me=0,Nt=null,sr(e,t,a,7));break;case 5:var w=null;switch(we.tag){case 26:w=we.memoizedState;case 5:case 27:var L=we;if(w?fd(w):L.stateNode.complete){Me=0,Nt=null;var V=L.sibling;if(V!==null)we=V;else{var Z=L.return;Z!==null?(we=Z,oa(Z)):we=null}break t}}Me=0,Nt=null,sr(e,t,a,5);break;case 6:Me=0,Nt=null,sr(e,t,a,6);break;case 8:wo(),Ye=6;break e;default:throw Error(v(462))}}F0();break}catch(ne){Sf(e,ne)}while(!0);return hi=ds=null,P.H=s,P.A=r,Oe=i,we!==null?0:(qe=null,Ae=0,Tn(),Ye)}function F0(){for(;we!==null&&!Cs();)Af(we)}function Af(e){var t=Xh(e.alternate,e,xi);e.memoizedProps=e.pendingProps,t===null?oa(e):we=t}function Tf(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Fh(i,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Fh(i,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Ul(t);default:Qh(i,t),t=we=wu(t,xi),t=Xh(i,t,xi)}e.memoizedProps=e.pendingProps,t===null?oa(e):we=t}function sr(e,t,i,s){hi=ds=null,Ul(t),Gs=null,Nr=0;var r=t.return;try{if(N0(e,r,t,i,Ae)){Ye=1,Xn(e,Ut(i,e.current)),we=null;return}}catch(a){if(r!==null)throw we=r,a;Ye=1,Xn(e,Ut(i,e.current)),we=null;return}t.flags&32768?(Re||s===1?e=!0:Js||(Ae&536870912)!==0?e=!1:(Ui=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Rf(t,e)):oa(t)}function oa(e){var t=e;do{if((t.flags&32768)!==0){Rf(t,Ui);return}e=t.return;var i=L0(t.alternate,t,xi);if(i!==null){we=i;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ye===0&&(Ye=5)}function Rf(e,t){do{var i=M0(e.alternate,e);if(i!==null){i.flags&=32767,we=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=i}while(e!==null);Ye=6,we=null}function Df(e,t,i,s,r,a,w,L,V){e.cancelPendingCommit=null;do ca();while(it!==0);if((Oe&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(a=t.lanes|t.childLanes,a|=fl,Sp(e,i,a,w,L,V),e===qe&&(we=qe=null,Ae=0),tr=t,Pi=e,Si=i,xo=a,So=r,vf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(wt,function(){return Lf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=P.T,P.T=null,r=K.p,K.p=2,w=Oe,Oe|=4;try{B0(e,t,i)}finally{Oe=w,K.p=r,P.T=s}}it=1,kf(),Nf(),jf()}}function kf(){if(it===1){it=0;var e=Pi,t=tr,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=P.T,P.T=null;var s=K.p;K.p=2;var r=Oe;Oe|=4;try{uf(t,e);var a=Ho,w=_u(e.containerInfo),L=a.focusedElem,V=a.selectionRange;if(w!==L&&L&&L.ownerDocument&&pu(L.ownerDocument.documentElement,L)){if(V!==null&&ll(L)){var Z=V.start,ne=V.end;if(ne===void 0&&(ne=Z),"selectionStart"in L)L.selectionStart=Z,L.selectionEnd=Math.min(ne,L.value.length);else{var ce=L.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var te=J.getSelection(),de=L.textContent.length,ge=Math.min(V.start,de),Ue=V.end===void 0?ge:Math.min(V.end,de);!te.extend&&ge>Ue&&(w=Ue,Ue=ge,ge=w);var X=du(L,ge),Y=du(L,Ue);if(X&&Y&&(te.rangeCount!==1||te.anchorNode!==X.node||te.anchorOffset!==X.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var Q=ce.createRange();Q.setStart(X.node,X.offset),te.removeAllRanges(),ge>Ue?(te.addRange(Q),te.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),te.addRange(Q))}}}}for(ce=[],te=L;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var le=ce[L];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}xa=!!Bo,Ho=Bo=null}finally{Oe=r,K.p=s,P.T=i}}e.current=t,it=2}}function Nf(){if(it===2){it=0;var e=Pi,t=tr,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=P.T,P.T=null;var s=K.p;K.p=2;var r=Oe;Oe|=4;try{nf(e,t.alternate,t)}finally{Oe=r,K.p=s,P.T=i}}it=3}}function jf(){if(it===4||it===3){it=0,mt();var e=Pi,t=tr,i=Si,s=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,tr=Pi=null,Of(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ii=null),Pa(i),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=P.T,r=K.p,K.p=2,P.T=null;try{for(var a=e.onRecoverableError,w=0;w<s.length;w++){var L=s[w];a(L.value,{componentStack:L.stack})}}finally{P.T=t,K.p=r}}(Si&3)!==0&&ca(),ii(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Co?Kr++:(Kr=0,Co=e):Kr=0,Xr(0)}}function Of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Dr(t)))}function ca(){return kf(),Nf(),jf(),Lf()}function Lf(){if(it!==5)return!1;var e=Pi,t=xo;xo=0;var i=Pa(Si),s=P.T,r=K.p;try{K.p=32>i?32:i,P.T=null,i=So,So=null;var a=Pi,w=Si;if(it=0,tr=Pi=null,Si=0,(Oe&6)!==0)throw Error(v(331));var L=Oe;if(Oe|=4,_f(a.current),ff(a,a.current,w,i),Oe=L,Xr(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(rs,a)}catch{}return!0}finally{K.p=r,P.T=s,Of(e,t)}}function Mf(e,t,i){t=Ut(i,t),t=eo(e.stateNode,t,2),e=Mi(e,t,2),e!==null&&(_r(e,2),ii(e))}function Be(e,t,i){if(e.tag===3)Mf(e,e,i);else for(;t!==null;){if(t.tag===3){Mf(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ii===null||!Ii.has(s))){e=Ut(i,e),i=Mh(2),s=Mi(t,i,2),s!==null&&(Bh(i,s,t,e),_r(s,2),ii(s));break}}t=t.return}}function Ao(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new U0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(vo=!0,r.add(i),e=W0.bind(null,e,t,i),t.then(e,e))}function W0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,qe===e&&(Ae&i)===i&&(Ye===4||Ye===3&&(Ae&62914560)===Ae&&300>tt()-sa?(Oe&2)===0&&ir(e,0):bo|=i,er===Ae&&(er=0)),ii(e)}function Bf(e,t){t===0&&(t=Dc()),e=us(e,t),e!==null&&(_r(e,t),ii(e))}function V0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bf(e,i)}function G0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(v(314))}s!==null&&s.delete(t),Bf(e,i)}function Y0(e,t){return ts(e,t)}var ua=null,rr=null,To=!1,ha=!1,Ro=!1,Wi=0;function ii(e){e!==rr&&e.next===null&&(rr===null?ua=rr=e:rr=rr.next=e),ha=!0,To||(To=!0,X0())}function Xr(e,t){if(!Ro&&ha){Ro=!0;do for(var i=!1,s=ua;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var a=0;else{var w=s.suspendedLanes,L=s.pingedLanes;a=(1<<31-At(42|e)+1)-1,a&=r&~(w&~L),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(i=!0,qf(s,a))}else a=Ae,a=_n(s,s===qe?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(a&3)===0||pr(s,a)||(i=!0,qf(s,a));s=s.next}while(i);Ro=!1}}function K0(){Hf()}function Hf(){ha=To=!1;var e=0;Wi!==0&&n_()&&(e=Wi);for(var t=tt(),i=null,s=ua;s!==null;){var r=s.next,a=zf(s,t);a===0?(s.next=null,i===null?ua=r:i.next=r,r===null&&(rr=i)):(i=s,(e!==0||(a&3)!==0)&&(ha=!0)),s=r}it!==0&&it!==5||Xr(e),Wi!==0&&(Wi=0)}function zf(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var w=31-At(a),L=1<<w,V=r[w];V===-1?((L&i)===0||(L&s)!==0)&&(r[w]=xp(L,t)):V<=t&&(e.expiredLanes|=L),a&=~L}if(t=qe,i=Ae,i=_n(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&is(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||pr(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&is(s),Pa(i)){case 2:case 8:i=ws;break;case 32:i=wt;break;case 268435456:i=Yt;break;default:i=wt}return s=Uf.bind(null,e),i=ts(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&is(s),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ca()&&e.callbackNode!==i)return null;var s=Ae;return s=_n(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yf(e,s,t),zf(e,tt()),e.callbackNode!=null&&e.callbackNode===i?Uf.bind(null,e):null)}function qf(e,t){if(ca())return null;yf(e,t,!0)}function X0(){l_(function(){(Oe&6)!==0?ts(Ei,K0):Hf()})}function Do(){if(Wi===0){var e=Fs;e===0&&(e=fn,fn<<=1,(fn&261888)===0&&(fn=256)),Wi=e}return Wi}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bn(""+e)}function Pf(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function $0(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var a=If((r[gt]||null).action),w=s.submitter;w&&(t=(t=w[gt]||null)?If(t.formAction):w.getAttribute("formAction"),t!==null&&(a=t,w=null));var L=new Cn("action","action",null,s,r);e.push({event:L,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wi!==0){var V=w?Pf(r,w):new FormData(r);Kl(i,{pending:!0,data:V,method:r.method,action:a},null,V)}}else typeof a=="function"&&(L.preventDefault(),V=w?Pf(r,w):new FormData(r),Kl(i,{pending:!0,data:V,method:r.method,action:a},a,V))},currentTarget:r}]})}}for(var ko=0;ko<hl.length;ko++){var No=hl[ko],Q0=No.toLowerCase(),Z0=No[0].toUpperCase()+No.slice(1);Kt(Q0,"on"+Z0)}Kt(vu,"onAnimationEnd"),Kt(bu,"onAnimationIteration"),Kt(yu,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(p0,"onTransitionRun"),Kt(_0,"onTransitionStart"),Kt(m0,"onTransitionCancel"),Kt(xu,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($r));function Ff(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var w=s.length-1;0<=w;w--){var L=s[w],V=L.instance,Z=L.currentTarget;if(L=L.listener,V!==a&&r.isPropagationStopped())break e;a=L,r.currentTarget=Z;try{a(r)}catch(ne){An(ne)}r.currentTarget=null,a=V}else for(w=0;w<s.length;w++){if(L=s[w],V=L.instance,Z=L.currentTarget,L=L.listener,V!==a&&r.isPropagationStopped())break e;a=L,r.currentTarget=Z;try{a(r)}catch(ne){An(ne)}r.currentTarget=null,a=V}}}}function Ee(e,t){var i=t[Fa];i===void 0&&(i=t[Fa]=new Set);var s=e+"__bubble";i.has(s)||(Wf(t,e,2,!1),i.add(s))}function jo(e,t,i){var s=0;t&&(s|=4),Wf(i,e,s,t)}var fa="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[fa]){e[fa]=!0,Bc.forEach(function(i){i!=="selectionchange"&&(J0.has(i)||jo(i,!1,e),jo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fa]||(t[fa]=!0,jo("selectionchange",!1,t))}}function Wf(e,t,i,s){switch(bd(t)){case 2:var r=T_;break;case 8:r=R_;break;default:r=Ko}i=r.bind(null,t,i,e),r=void 0,!Za||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Lo(e,t,i,s,r){var a=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var L=s.stateNode.containerInfo;if(L===r)break;if(w===4)for(w=s.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===r)return;w=w.return}for(;L!==null;){if(w=As(L),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){s=a=w;continue e}L=L.parentNode}}s=s.return}Kc(function(){var Z=a,ne=$a(i),ce=[];e:{var J=Su.get(e);if(J!==void 0){var te=Cn,de=e;switch(e){case"keypress":if(xn(i)===0)break e;case"keydown":case"keyup":te=Gp;break;case"focusin":de="focus",te=il;break;case"focusout":de="blur",te=il;break;case"beforeblur":case"afterblur":te=il;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Xp;break;case vu:case bu:case yu:te=Hp;break;case xu:te=Qp;break;case"scroll":case"scrollend":te=jp;break;case"wheel":te=Jp;break;case"copy":case"cut":case"paste":te=Up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Jc;break;case"toggle":case"beforetoggle":te=t0}var ge=(t&4)!==0,Ue=!ge&&(e==="scroll"||e==="scrollend"),X=ge?J!==null?J+"Capture":null:J;ge=[];for(var Y=Z,Q;Y!==null;){var le=Y;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||X===null||(le=vr(Y,X),le!=null&&ge.push(Qr(Y,le,Q))),Ue)break;Y=Y.return}0<ge.length&&(J=new te(J,de,null,i,ne),ce.push({event:J,listeners:ge}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",J&&i!==Xa&&(de=i.relatedTarget||i.fromElement)&&(As(de)||de[Es]))break e;if((te||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,te?(de=i.relatedTarget||i.toElement,te=Z,de=de?As(de):null,de!==null&&(Ue=z(de),ge=de.tag,de!==Ue||ge!==5&&ge!==27&&ge!==6)&&(de=null)):(te=null,de=Z),te!==de)){if(ge=Qc,le="onMouseLeave",X="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Jc,le="onPointerLeave",X="onPointerEnter",Y="pointer"),Ue=te==null?J:gr(te),Q=de==null?J:gr(de),J=new ge(le,Y+"leave",te,i,ne),J.target=Ue,J.relatedTarget=Q,le=null,As(ne)===Z&&(ge=new ge(X,Y+"enter",de,i,ne),ge.target=Q,ge.relatedTarget=Ue,le=ge),Ue=le,te&&de)t:{for(ge=e_,X=te,Y=de,Q=0,le=X;le;le=ge(le))Q++;le=0;for(var me=Y;me;me=ge(me))le++;for(;0<Q-le;)X=ge(X),Q--;for(;0<le-Q;)Y=ge(Y),le--;for(;Q--;){if(X===Y||Y!==null&&X===Y.alternate){ge=X;break t}X=ge(X),Y=ge(Y)}ge=null}else ge=null;te!==null&&Vf(ce,J,te,ge,!1),de!==null&&Ue!==null&&Vf(ce,Ue,de,ge,!0)}}e:{if(J=Z?gr(Z):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Ne=lu;else if(nu(J))if(ou)Ne=h0;else{Ne=c0;var _e=o0}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Ka(Z.elementType)&&(Ne=lu):Ne=u0;if(Ne&&(Ne=Ne(e,Z))){au(ce,Ne,i,ne);break e}_e&&_e(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Ya(J,"number",J.value)}switch(_e=Z?gr(Z):window,e){case"focusin":(nu(_e)||_e.contentEditable==="true")&&(Ms=_e,ol=Z,Ar=null);break;case"focusout":Ar=ol=Ms=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,mu(ce,i,ne);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":mu(ce,i,ne)}var xe;if(rl)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ls?su(e,i)&&(Te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(eu&&i.locale!=="ko"&&(Ls||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ls&&(xe=Xc()):(Ri=ne,Ja="value"in Ri?Ri.value:Ri.textContent,Ls=!0)),_e=da(Z,Te),0<_e.length&&(Te=new Zc(Te,e,null,i,ne),ce.push({event:Te,listeners:_e}),xe?Te.data=xe:(xe=ru(i),xe!==null&&(Te.data=xe)))),(xe=s0?r0(e,i):n0(e,i))&&(Te=da(Z,"onBeforeInput"),0<Te.length&&(_e=new Zc("onBeforeInput","beforeinput",null,i,ne),ce.push({event:_e,listeners:Te}),_e.data=xe)),$0(ce,e,Z,i,ne)}Ff(ce,t)})}function Qr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function da(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=vr(e,i),r!=null&&s.unshift(Qr(e,r,a)),r=vr(e,t),r!=null&&s.push(Qr(e,r,a))),e.tag===3)return s;e=e.return}return[]}function e_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,i,s,r){for(var a=t._reactName,w=[];i!==null&&i!==s;){var L=i,V=L.alternate,Z=L.stateNode;if(L=L.tag,V!==null&&V===s)break;L!==5&&L!==26&&L!==27||Z===null||(V=Z,r?(Z=vr(i,a),Z!=null&&w.unshift(Qr(i,Z,V))):r||(Z=vr(i,a),Z!=null&&w.push(Qr(i,Z,V)))),i=i.return}w.length!==0&&e.push({event:t,listeners:w})}var t_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(t_,`
`).replace(i_,"")}function Yf(e,t){return t=Gf(t),Gf(e)===t}function ze(e,t,i,s,r,a){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ns(e,""+s);break;case"className":gn(e,"class",s);break;case"tabIndex":gn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,i,s);break;case"style":Gc(e,s,a);break;case"data":if(t!=="object"){gn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=bn(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(i==="formAction"?(t!=="input"&&ze(e,t,"name",r.name,r,null),ze(e,t,"formEncType",r.formEncType,r,null),ze(e,t,"formMethod",r.formMethod,r,null),ze(e,t,"formTarget",r.formTarget,r,null)):(ze(e,t,"encType",r.encType,r,null),ze(e,t,"method",r.method,r,null),ze(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=bn(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=li);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(v(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=bn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),mn(e,"popover",s);break;case"xlinkActuate":ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ai(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ai(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ai(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ai(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":mn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=kp.get(i)||i,mn(e,i,s))}}function Mo(e,t,i,s,r,a){switch(i){case"style":Gc(e,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(v(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&Ns(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),a=e[gt]||null,a=a!=null?a[i]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof s=="function")){typeof a!="function"&&a!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):mn(e,i,s)}}}function ft(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,r=!1,a;for(a in i)if(i.hasOwnProperty(a)){var w=i[a];if(w!=null)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ze(e,t,a,w,i,null)}}r&&ze(e,t,"srcSet",i.srcSet,i,null),s&&ze(e,t,"src",i.src,i,null);return;case"input":Ee("invalid",e);var L=a=w=r=null,V=null,Z=null;for(s in i)if(i.hasOwnProperty(s)){var ne=i[s];if(ne!=null)switch(s){case"name":r=ne;break;case"type":w=ne;break;case"checked":V=ne;break;case"defaultChecked":Z=ne;break;case"value":a=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(v(137,t));break;default:ze(e,t,s,ne,i,null)}}Pc(e,a,L,V,Z,w,r,!1);return;case"select":Ee("invalid",e),s=w=a=null;for(r in i)if(i.hasOwnProperty(r)&&(L=i[r],L!=null))switch(r){case"value":a=L;break;case"defaultValue":w=L;break;case"multiple":s=L;default:ze(e,t,r,L,i,null)}t=a,i=w,e.multiple=!!s,t!=null?ks(e,!!s,t,!1):i!=null&&ks(e,!!s,i,!0);return;case"textarea":Ee("invalid",e),a=r=s=null;for(w in i)if(i.hasOwnProperty(w)&&(L=i[w],L!=null))switch(w){case"value":s=L;break;case"defaultValue":r=L;break;case"children":a=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(v(91));break;default:ze(e,t,w,L,i,null)}Wc(e,s,r,a);return;case"option":for(V in i)i.hasOwnProperty(V)&&(s=i[V],s!=null)&&(V==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ze(e,t,V,s,i,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<$r.length;s++)Ee($r[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(s=i[Z],s!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ze(e,t,Z,s,i,null)}return;default:if(Ka(t)){for(ne in i)i.hasOwnProperty(ne)&&(s=i[ne],s!==void 0&&Mo(e,t,ne,s,i,void 0));return}}for(L in i)i.hasOwnProperty(L)&&(s=i[L],s!=null&&ze(e,t,L,s,i,null))}function s_(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,w=null,L=null,V=null,Z=null,ne=null;for(te in i){var ce=i[te];if(i.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=ce;default:s.hasOwnProperty(te)||ze(e,t,te,null,s,ce)}}for(var J in s){var te=s[J];if(ce=i[J],s.hasOwnProperty(J)&&(te!=null||ce!=null))switch(J){case"type":a=te;break;case"name":r=te;break;case"checked":Z=te;break;case"defaultChecked":ne=te;break;case"value":w=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(v(137,t));break;default:te!==ce&&ze(e,t,J,te,s,ce)}}Ga(e,w,L,V,Z,ne,a,r);return;case"select":te=w=L=J=null;for(a in i)if(V=i[a],i.hasOwnProperty(a)&&V!=null)switch(a){case"value":break;case"multiple":te=V;default:s.hasOwnProperty(a)||ze(e,t,a,null,s,V)}for(r in s)if(a=s[r],V=i[r],s.hasOwnProperty(r)&&(a!=null||V!=null))switch(r){case"value":J=a;break;case"defaultValue":L=a;break;case"multiple":w=a;default:a!==V&&ze(e,t,r,a,s,V)}t=L,i=w,s=te,J!=null?ks(e,!!i,J,!1):!!s!=!!i&&(t!=null?ks(e,!!i,t,!0):ks(e,!!i,i?[]:"",!1));return;case"textarea":te=J=null;for(L in i)if(r=i[L],i.hasOwnProperty(L)&&r!=null&&!s.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ze(e,t,L,null,s,r)}for(w in s)if(r=s[w],a=i[w],s.hasOwnProperty(w)&&(r!=null||a!=null))switch(w){case"value":J=r;break;case"defaultValue":te=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(v(91));break;default:r!==a&&ze(e,t,w,r,s,a)}Fc(e,J,te);return;case"option":for(var de in i)J=i[de],i.hasOwnProperty(de)&&J!=null&&!s.hasOwnProperty(de)&&(de==="selected"?e.selected=!1:ze(e,t,de,null,s,J));for(V in s)J=s[V],te=i[V],s.hasOwnProperty(V)&&J!==te&&(J!=null||te!=null)&&(V==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":ze(e,t,V,J,s,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)J=i[ge],i.hasOwnProperty(ge)&&J!=null&&!s.hasOwnProperty(ge)&&ze(e,t,ge,null,s,J);for(Z in s)if(J=s[Z],te=i[Z],s.hasOwnProperty(Z)&&J!==te&&(J!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(v(137,t));break;default:ze(e,t,Z,J,s,te)}return;default:if(Ka(t)){for(var Ue in i)J=i[Ue],i.hasOwnProperty(Ue)&&J!==void 0&&!s.hasOwnProperty(Ue)&&Mo(e,t,Ue,void 0,s,J);for(ne in s)J=s[ne],te=i[ne],!s.hasOwnProperty(ne)||J===te||J===void 0&&te===void 0||Mo(e,t,ne,J,s,te);return}}for(var X in i)J=i[X],i.hasOwnProperty(X)&&J!=null&&!s.hasOwnProperty(X)&&ze(e,t,X,null,s,J);for(ce in s)J=s[ce],te=i[ce],!s.hasOwnProperty(ce)||J===te||J==null&&te==null||ze(e,t,ce,J,s,te)}function Kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],a=r.transferSize,w=r.initiatorType,L=r.duration;if(a&&L&&Kf(w)){for(w=0,L=r.responseEnd,s+=1;s<i.length;s++){var V=i[s],Z=V.startTime;if(Z>L)break;var ne=V.transferSize,ce=V.initiatorType;ne&&Kf(ce)&&(V=V.responseEnd,w+=ne*(V<L?1:(L-Z)/(V-Z)))}if(--s,t+=8*(a+w)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bo=null,Ho=null;function pa(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uo=null;function n_(){var e=window.event;return e&&e.type==="popstate"?e===Uo?!1:(Uo=e,!0):(Uo=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,a_=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(e){return Zf.resolve(null).then(e).catch(o_)}:Qf;function o_(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function Jf(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),or(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Zr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Zr(i);for(var a=i.firstChild;a;){var w=a.nextSibling,L=a.nodeName;a[mr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&a.rel.toLowerCase()==="stylesheet"||i.removeChild(a),a=w}}else i==="body"&&Zr(e.ownerDocument.body);i=r}while(i);or(t)}function ed(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function qo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":qo(i),Wa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function c_(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function u_(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Wt(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function Io(e){return e.data==="$?"||e.data==="$~"}function Po(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function h_(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fo=null;function id(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Wt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function rd(e,t,i){switch(t=pa(i),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function Zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wa(e)}var Vt=new Map,nd=new Set;function _a(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ci=K.d;K.d={f:f_,r:d_,D:p_,C:__,L:m_,m:g_,X:b_,S:v_,M:y_};function f_(){var e=Ci.f(),t=aa();return e||t}function d_(e){var t=Ts(e);t!==null&&t.tag===5&&t.type==="form"?xh(t):Ci.r(e)}var nr=typeof document>"u"?null:document;function ad(e,t,i){var s=nr;if(s&&typeof t=="string"&&t){var r=Ht(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),nd.has(r)||(nd.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),ft(t,"link",e),at(t),s.head.appendChild(t)))}}function p_(e){Ci.D(e),ad("dns-prefetch",e,null)}function __(e,t){Ci.C(e,t),ad("preconnect",e,t)}function m_(e,t,i){Ci.L(e,t,i);var s=nr;if(s&&e&&t){var r='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Ht(i.imageSizes)+'"]')):r+='[href="'+Ht(e)+'"]';var a=r;switch(t){case"style":a=ar(e);break;case"script":a=lr(e)}Vt.has(a)||(e=f({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Vt.set(a,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Jr(a))||t==="script"&&s.querySelector(en(a))||(t=s.createElement("link"),ft(t,"link",e),at(t),s.head.appendChild(t)))}}function g_(e,t){Ci.m(e,t);var i=nr;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ht(s)+'"][href="'+Ht(e)+'"]',a=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=lr(e)}if(!Vt.has(a)&&(e=f({rel:"modulepreload",href:e},t),Vt.set(a,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(en(a)))return}s=i.createElement("link"),ft(s,"link",e),at(s),i.head.appendChild(s)}}}function v_(e,t,i){Ci.S(e,t,i);var s=nr;if(s&&e){var r=Rs(s).hoistableStyles,a=ar(e);t=t||"default";var w=r.get(a);if(!w){var L={loading:0,preload:null};if(w=s.querySelector(Jr(a)))L.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Vt.get(a))&&Wo(e,i);var V=w=s.createElement("link");at(V),ft(V,"link",e),V._p=new Promise(function(Z,ne){V.onload=Z,V.onerror=ne}),V.addEventListener("load",function(){L.loading|=1}),V.addEventListener("error",function(){L.loading|=2}),L.loading|=4,ma(w,t,s)}w={type:"stylesheet",instance:w,count:1,state:L},r.set(a,w)}}}function b_(e,t){Ci.X(e,t);var i=nr;if(i&&e){var s=Rs(i).hoistableScripts,r=lr(e),a=s.get(r);a||(a=i.querySelector(en(r)),a||(e=f({src:e,async:!0},t),(t=Vt.get(r))&&Vo(e,t),a=i.createElement("script"),at(a),ft(a,"link",e),i.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function y_(e,t){Ci.M(e,t);var i=nr;if(i&&e){var s=Rs(i).hoistableScripts,r=lr(e),a=s.get(r);a||(a=i.querySelector(en(r)),a||(e=f({src:e,async:!0,type:"module"},t),(t=Vt.get(r))&&Vo(e,t),a=i.createElement("script"),at(a),ft(a,"link",e),i.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function ld(e,t,i,s){var r=(r=pe.current)?_a(r):null;if(!r)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ar(i.href),i=Rs(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ar(i.href);var a=Rs(r).hoistableStyles,w=a.get(e);if(w||(r=r.ownerDocument||r,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,w),(a=r.querySelector(Jr(e)))&&!a._p&&(w.instance=a,w.state.loading=5),Vt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Vt.set(e,i),a||x_(r,e,i,w.state))),t&&s===null)throw Error(v(528,""));return w}if(t&&s!==null)throw Error(v(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=lr(i),i=Rs(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function ar(e){return'href="'+Ht(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function od(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function x_(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ft(t,"link",i),at(t),e.head.appendChild(t))}function lr(e){return'[src="'+Ht(e)+'"]'}function en(e){return"script[async]"+e}function cd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(s)return t.instance=s,at(s),s;var r=f({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),at(s),ft(s,"style",r),ma(s,i.precedence,e),t.instance=s;case"stylesheet":r=ar(i.href);var a=e.querySelector(Jr(r));if(a)return t.state.loading|=4,t.instance=a,at(a),a;s=od(i),(r=Vt.get(r))&&Wo(s,r),a=(e.ownerDocument||e).createElement("link"),at(a);var w=a;return w._p=new Promise(function(L,V){w.onload=L,w.onerror=V}),ft(a,"link",s),t.state.loading|=4,ma(a,i.precedence,e),t.instance=a;case"script":return a=lr(i.src),(r=e.querySelector(en(a)))?(t.instance=r,at(r),r):(s=i,(r=Vt.get(a))&&(s=f({},i),Vo(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),at(r),ft(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ma(s,i.precedence,e));return t.instance}function ma(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,a=r,w=0;w<s.length;w++){var L=s[w];if(L.dataset.precedence===t)a=L;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Wo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ga=null;function ud(e,t,i){if(ga===null){var s=new Map,r=ga=new Map;r.set(i,s)}else r=ga,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var a=i[r];if(!(a[mr]||a[ot]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var w=a.getAttribute(t)||"";w=e+w;var L=s.get(w);L?L.push(a):s.set(w,[a])}}return s}function hd(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function S_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function C_(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=ar(s.href),a=t.querySelector(Jr(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=va.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=a,at(a);return}a=t.ownerDocument||t,s=od(s),(r=Vt.get(r))&&Wo(s,r),a=a.createElement("link"),at(a);var w=a;w._p=new Promise(function(L,V){w.onload=L,w.onerror=V}),ft(a,"link",s),i.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=va.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Go=0;function w_(e,t){return e.stylesheets&&e.count===0&&ya(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Go===0&&(Go=62500*r_());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Go?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function va(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ya(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ba=null;function ya(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ba=new Map,t.forEach(E_,e),ba=null,va.call(e))}function E_(e,t){if(!(t.state.loading&4)){var i=ba.get(e);if(i)var s=i.get(null);else{i=new Map,ba.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var w=r[a];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),s=w)}s&&i.set(null,s)}r=t.instance,w=r.getAttribute("data-precedence"),a=i.get(w)||s,a===s&&i.set(null,r),i.set(w,r),this.count++,s=va.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var tn={$$typeof:o,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function A_(e,t,i,s,r,a,w,L,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function dd(e,t,i,s,r,a,w,L,V,Z,ne,ce){return e=new A_(e,t,i,w,V,Z,ne,ce,L),t=1,a===!0&&(t|=24),a=Rt(3,null,null,t),e.current=a,a.stateNode=e,t=wl(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:i,cache:t},Rl(a),e}function pd(e){return e?(e=zs,e):zs}function _d(e,t,i,s,r,a){r=pd(r),s.context===null?s.context=r:s.pendingContext=r,s=Li(t),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=Mi(e,s,t),i!==null&&(Ct(i,e,t),Or(i,e,t))}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Yo(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=us(e,67108864);t!==null&&Ct(t,e,67108864),Yo(e,67108864)}}function vd(e){if(e.tag===13||e.tag===31){var t=Ot();t=Ia(t);var i=us(e,t);i!==null&&Ct(i,e,t),Yo(e,t)}}var xa=!0;function T_(e,t,i,s){var r=P.T;P.T=null;var a=K.p;try{K.p=2,Ko(e,t,i,s)}finally{K.p=a,P.T=r}}function R_(e,t,i,s){var r=P.T;P.T=null;var a=K.p;try{K.p=8,Ko(e,t,i,s)}finally{K.p=a,P.T=r}}function Ko(e,t,i,s){if(xa){var r=Xo(s);if(r===null)Lo(e,t,s,Sa,i),yd(e,s);else if(k_(r,e,t,i,s))s.stopPropagation();else if(yd(e,s),t&4&&-1<D_.indexOf(e)){for(;r!==null;){var a=Ts(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var w=ns(a.pendingLanes);if(w!==0){var L=a;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var V=1<<31-At(w);L.entanglements[1]|=V,w&=~V}ii(a),(Oe&6)===0&&(ra=tt()+500,Xr(0))}}break;case 31:case 13:L=us(a,2),L!==null&&Ct(L,a,2),aa(),Yo(a,2)}if(a=Xo(s),a===null&&Lo(e,t,s,Sa,i),a===r)break;r=a}r!==null&&s.stopPropagation()}else Lo(e,t,s,null,i)}}function Xo(e){return e=$a(e),$o(e)}var Sa=null;function $o(e){if(Sa=null,e=As(e),e!==null){var t=z(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=B(t),e!==null)return e;e=null}else if(i===31){if(e=d(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sa=e,null}function bd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Ei:return 2;case ws:return 8;case wt:case dr:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var Qo=!1,Gi=null,Yi=null,Ki=null,sn=new Map,rn=new Map,Xi=[],D_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":sn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(t.pointerId)}}function nn(e,t,i,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ts(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function k_(e,t,i,s,r){switch(t){case"focusin":return Gi=nn(Gi,e,t,i,s,r),!0;case"dragenter":return Yi=nn(Yi,e,t,i,s,r),!0;case"mouseover":return Ki=nn(Ki,e,t,i,s,r),!0;case"pointerover":var a=r.pointerId;return sn.set(a,nn(sn.get(a)||null,e,t,i,s,r)),!0;case"gotpointercapture":return a=r.pointerId,rn.set(a,nn(rn.get(a)||null,e,t,i,s,r)),!0}return!1}function xd(e){var t=As(e.target);if(t!==null){var i=z(t);if(i!==null){if(t=i.tag,t===13){if(t=B(i),t!==null){e.blockedOn=t,Lc(e.priority,function(){vd(i)});return}}else if(t===31){if(t=d(i),t!==null){e.blockedOn=t,Lc(e.priority,function(){vd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Xo(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Xa=s,i.target.dispatchEvent(s),Xa=null}else return t=Ts(i),t!==null&&gd(t),e.blockedOn=i,!1;t.shift()}return!0}function Sd(e,t,i){Ca(e)&&i.delete(t)}function N_(){Qo=!1,Gi!==null&&Ca(Gi)&&(Gi=null),Yi!==null&&Ca(Yi)&&(Yi=null),Ki!==null&&Ca(Ki)&&(Ki=null),sn.forEach(Sd),rn.forEach(Sd)}function wa(e,t){e.blockedOn===t&&(e.blockedOn=null,Qo||(Qo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,N_)))}var Ea=null;function Cd(e){Ea!==e&&(Ea=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ea===e&&(Ea=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if($o(s||i)===null)continue;break}var a=Ts(i);a!==null&&(e.splice(t,3),t-=3,Kl(a,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function or(e){function t(V){return wa(V,e)}Gi!==null&&wa(Gi,e),Yi!==null&&wa(Yi,e),Ki!==null&&wa(Ki,e),sn.forEach(t),rn.forEach(t);for(var i=0;i<Xi.length;i++){var s=Xi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xi.length&&(i=Xi[0],i.blockedOn===null);)xd(i),i.blockedOn===null&&Xi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],a=i[s+1],w=r[gt]||null;if(typeof a=="function")w||Cd(i);else if(w){var L=null;if(a&&a.hasAttribute("formAction")){if(r=a,w=a[gt]||null)L=w.formAction;else if($o(r)!==null)continue}else L=w.action;typeof L=="function"?i[s+1]=L:(i.splice(s,3),s-=3),Cd(i)}}}function wd(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(w){return r=w})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Zo(e){this._internalRoot=e}Aa.prototype.render=Zo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var i=t.current,s=Ot();_d(i,s,e,t,null,null)},Aa.prototype.unmount=Zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_d(e.current,2,null,e,null,null),aa(),t[Es]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Xi.length&&t!==0&&t<Xi[i].priority;i++);Xi.splice(i,0,e),i===0&&xd(e)}};var Ed=p.version;if(Ed!=="19.2.3")throw Error(v(527,Ed,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var j_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{rs=Ta.inject(j_),Et=Ta}catch{}}return ln.createRoot=function(e,t){if(!M(e))throw Error(v(299));var i=!1,s="",r=Nh,a=jh,w=Oh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=dd(e,1,!1,null,null,i,s,null,r,a,w,wd),e[Es]=t.current,Oo(e),new Zo(t)},ln.hydrateRoot=function(e,t,i){if(!M(e))throw Error(v(299));var s=!1,r="",a=Nh,w=jh,L=Oh,V=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(a=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.formState!==void 0&&(V=i.formState)),t=dd(e,1,!0,t,i??null,s,r,V,a,w,L,wd),t.context=pd(null),i=t.current,s=Ot(),s=Ia(s),r=Li(s),r.callback=null,Mi(i,r,s),i=s,t.current.lanes=i,_r(t,i),ii(t),e[Es]=t.current,Oo(e),new Aa(t)},ln.version="19.2.3",ln}var Md;function F_(){if(Md)return tc.exports;Md=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(p){console.error(p)}}return c(),tc.exports=P_(),tc.exports}var W_=F_();const ep=({className:c="w-10 h-10"})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:c,children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"logoGradient",x1:"20",y1:"20",x2:"180",y2:"180",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),l.jsx("stop",{offset:"100%",stopColor:"#C084FC"})]}),l.jsxs("filter",{id:"logoGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[l.jsx("feGaussianBlur",{stdDeviation:"5",result:"blur"}),l.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),l.jsx("path",{d:"M100 20 L170 60 V140 L100 180 L30 140 V60 Z",fill:"url(#logoGradient)",fillOpacity:"0.15",stroke:"url(#logoGradient)",strokeWidth:"12",strokeLinejoin:"round",filter:"url(#logoGlow)"}),l.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"55",stroke:"white",strokeWidth:"10",strokeLinecap:"round"}),l.jsx("line",{x1:"100",y1:"100",x2:"140",y2:"100",stroke:"white",strokeWidth:"10",strokeLinecap:"round"}),l.jsx("circle",{cx:"100",cy:"100",r:"12",fill:"white"}),l.jsx("path",{d:"M160 100 A 60 60 0 0 1 40 100",stroke:"url(#logoGradient)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"10 10",opacity:"0.8"})]}),V_={},Bd=c=>{let p;const u=new Set,v=(S,f)=>{const y=typeof S=="function"?S(p):S;if(!Object.is(y,p)){const A=p;p=f??(typeof y!="object"||y===null)?y:Object.assign({},p,y),u.forEach(T=>T(p,A))}},M=()=>p,m={setState:v,getState:M,getInitialState:()=>g,subscribe:S=>(u.add(S),()=>u.delete(S)),destroy:()=>{(V_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),u.clear()}},g=p=c(v,M,m);return m},G_=c=>c?Bd(c):Bd;var nc={exports:{}},ac={},lc={exports:{}},oc={};var Hd;function Y_(){if(Hd)return oc;Hd=1;var c=un();function p(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var u=typeof Object.is=="function"?Object.is:p,v=c.useState,M=c.useEffect,z=c.useLayoutEffect,B=c.useDebugValue;function d(f,y){var A=y(),T=v({inst:{value:A,getSnapshot:y}}),E=T[0].inst,n=T[1];return z(function(){E.value=A,E.getSnapshot=y,m(E)&&n({inst:E})},[f,A,y]),M(function(){return m(E)&&n({inst:E}),f(function(){m(E)&&n({inst:E})})},[f]),B(A),A}function m(f){var y=f.getSnapshot;f=f.value;try{var A=y();return!u(f,A)}catch{return!0}}function g(f,y){return y()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return oc.useSyncExternalStore=c.useSyncExternalStore!==void 0?c.useSyncExternalStore:S,oc}var zd;function K_(){return zd||(zd=1,lc.exports=Y_()),lc.exports}var Ud;function X_(){if(Ud)return ac;Ud=1;var c=un(),p=K_();function u(g,S){return g===S&&(g!==0||1/g===1/S)||g!==g&&S!==S}var v=typeof Object.is=="function"?Object.is:u,M=p.useSyncExternalStore,z=c.useRef,B=c.useEffect,d=c.useMemo,m=c.useDebugValue;return ac.useSyncExternalStoreWithSelector=function(g,S,f,y,A){var T=z(null);if(T.current===null){var E={hasValue:!1,value:null};T.current=E}else E=T.current;T=d(function(){function _(R){if(!h){if(h=!0,o=R,R=y(R),A!==void 0&&E.hasValue){var k=E.value;if(A(k,R))return b=k}return b=R}if(k=b,v(o,R))return k;var x=y(R);return A!==void 0&&A(k,x)?(o=R,k):(o=R,b=x)}var h=!1,o,b,C=f===void 0?null:f;return[function(){return _(S())},C===null?void 0:function(){return _(C())}]},[S,f,y,A]);var n=M(g,T[0],T[1]);return B(function(){E.hasValue=!0,E.value=n},[n]),m(n),n},ac}var qd;function $_(){return qd||(qd=1,nc.exports=X_()),nc.exports}var Q_=$_();const Z_=Jd(Q_),tp={},{useDebugValue:J_}=H_,{useSyncExternalStoreWithSelector:em}=Z_;let Id=!1;const tm=c=>c;function im(c,p=tm,u){(tp?"production":void 0)!=="production"&&u&&!Id&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Id=!0);const v=em(c.subscribe,c.getState,c.getServerState||c.getInitialState,p,u);return J_(v),v}const sm=c=>{(tp?"production":void 0)!=="production"&&typeof c!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const p=typeof c=="function"?G_(c):c,u=(v,M)=>im(p,v,M);return Object.assign(u,p),u},Zi=c=>sm,Ji=c=>{let p=c;p.use={};for(let u of Object.keys(p.getState()))p.use[u]=()=>p(v=>v[u]);return p},st={scanWorkspace:"scanworkspace",runCmdDev:"runcmddev",stopProcess:"stopprocess",listWorkspacesDir:"listworkspacedirs",newWorkspace:"newworkspace",interactvTerminal:"interactvterminal",stopInteractiveTerminal:"stopinteractiveterminal",hideShowFileFolder:"hideshowfilefolder",updateWorkspace:"updateworkspace",getRootPath:"getrootpath",scaffoldRepo:"scaffoldrepo",turborepoExist:"turborepoexist",firstRun:"firstrun",notes:"notes",crudTest:"crudtest",gitControl:"gitcontrol"},rt={apiPort:3e3},rm=Zi()((c,p)=>({showTerminal:!1,setShowTerminal:u=>c({showTerminal:u}),rootDir:"",showAboutModal:!1,setShowAboutModal:u=>c({showAboutModal:u}),loadRootDir:async()=>{if(!(p().rootDir.length>0))try{const u=rt.apiPort||3e3,M=await(await fetch(`http://localhost:${u}/${st.getRootPath}`)).json();c({rootDir:M.path})}catch{}},checkIfFirstTime:async()=>{try{const u=rt.apiPort||3e3;return(await(await fetch(`http://localhost:${u}/${st.firstRun}`)).json()).isFirstTime}catch{return!1}}})),si=Ji(rm);function ip(){const c=si.use.setShowAboutModal();return l.jsx("header",{className:"h-12 w-full px-6 py-2 sticky top-0",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ep,{className:"w-8 h-8"}),l.jsx("div",{children:l.jsxs("h1",{className:"font-bold text-lg tracking-wide text-white",children:["Monorepo",l.jsx("span",{className:"pl-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400",children:"Time"})]})})]}),l.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-all group",children:[l.jsx("i",{className:"fas fa-info-circle text-blue-400 group-hover:text-blue-300"}),l.jsx("span",{children:"About"})]})]})})}const nm=[{name:"dashboard",label:"Dashboard",icon:"fa fa-solid fa-house"},{name:"workspace",label:"Workspace",icon:"fa fa-cube"},{name:"turborepo",label:"Turborepo",icon:"fa fa-solid fa-truck-fast"},{name:"crud",label:"CRUD Tester",icon:"fa fa-microscope"}],am=Zi()(c=>({currentPage:"dashboard",action:{setCurrentPage:p=>c({currentPage:p})}})),gc=Ji(am);function lm(){const c=gc.use.currentPage(),p=gc.use.action();return l.jsx("nav",{id:"main-nav",className:"w-16 h-full flex flex-col items-center py-4",children:l.jsx("div",{className:"flex flex-col gap-2 w-full px-2",children:nm.map(u=>l.jsx(om,{isSelected:u.name===c,icon:u.icon,text:u.label,onClick:()=>p.setCurrentPage(u.name)},u.name))})})}function om(c){const p=c.isSelected?"bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-[0_0_20px_-5px_rgba(124,58,237,0.5)] ring-1 ring-white/20":"text-gray-400 hover:bg-white/5 hover:text-white";return l.jsxs("button",{className:`nav-item group relative flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 outline-none ${p}`,id:c.text,onClick:c.onClick,children:[l.jsx("i",{className:`${c.icon} text-lg transition-transform duration-200 group-hover:scale-110`}),l.jsxs("div",{className:"z-50 absolute bg-black/90 backdrop-blur-md left-14 px-3 py-1.5 text-white text-sm font-medium rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 translate-x-2 group-hover:translate-x-0 shadow-xl border border-white/10 whitespace-nowrap",children:[c.text,l.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/90 border-l border-b border-white/10 rotate-45"})]})]})}function cc({children:c,className:p}){return l.jsx("div",{className:`bg-gray-800/40 backdrop-blur-md border border-gray-700/50 rounded-2xl p-6 flex flex-col ${p}`,children:c})}const cm=Zi()(c=>({dockerprocessInfo:[],loadDockerProcessInfo:async()=>{c({dockerprocessInfo:[{id:"1",image:"image1",status:"running",name:"container1",memoryStr:"128MB",memoryBytes:134217728},{id:"2",image:"image2",status:"stopped",name:"container2",memoryStr:"256MB",memoryBytes:268435456}]})}})),Pd=Ji(cm);function um(){const c=Pd.use.dockerprocessInfo(),p=Pd.use.loadDockerProcessInfo();return he.useEffect(()=>{setTimeout(()=>{p()},5e3)},[]),l.jsxs("div",{className:"h-[420px] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("i",{className:"fab fa-docker text-blue-400"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{id:"docker-stop-all-btn",className:"hidden text-xs px-2 py-0.5 rounded bg-red-900/30 hover:bg-red-800/50 text-red-400 hover:text-red-200 transition-colors border border-red-800/30",title:"Stop All Containers",children:[l.jsx("i",{className:"fas fa-power-off"})," Stop All"]}),l.jsx("span",{id:"docker-mem-total",className:"text-xs text-blue-400 font-mono"}),l.jsx("span",{id:"docker-count",className:"text-xs text-gray-400 font-mono",children:"-- Active"})]})]}),l.jsxs("div",{className:"overflow-y-auto flex-1 space-y-2 pr-1 custom-scrollbar",id:"docker-list-container",children:[l.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"Waiting for data..."}),c.map((u,v)=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 border border-gray-700/30 text-xs",children:[l.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fab fa-docker text-blue-500"}),l.jsx("span",{className:"text-gray-200 font-bold truncate",title:u.name,children:u.name})]}),l.jsx("span",{className:"text-gray-500 text-[10px] truncate",title:u.image,children:u.image})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-none ml-2",children:[l.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[l.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:u.memoryStr}),l.jsx("span",{className:"text-[10px] font-medium",children:u.status})]}),l.jsx("button",{className:"p-1 rounded hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition-colors",title:"Stop Container",children:l.jsx("i",{className:"fas fa-power-off"})})]})]},v))]})]})}const hm=Zi()(c=>({childprocessInfo:[],totalRam:0,peakRam:0,loadChildProcessInfo:async()=>{const p=[{name:"Process 1",pid:666,mem:Math.floor(Math.random()*100)},{name:"Process 2",pid:555,mem:Math.floor(Math.random()*100)},{name:"Process 3",pid:333,mem:Math.floor(Math.random()*100)},{name:"Process 4",pid:111,mem:Math.floor(Math.random()*100)},{name:"Process 5",pid:222,mem:Math.floor(Math.random()*100)}],u=p.reduce((v,M)=>v+M.mem,0);c(v=>(u>v.peakRam&&c({peakRam:u}),{childprocessInfo:p,totalRam:u}))}})),Ra=Ji(hm);function fm(){const c=Ra.use.childprocessInfo(),p=Ra.use.totalRam(),u=Ra.use.peakRam(),v=Ra.use.loadChildProcessInfo();return he.useEffect(()=>{const M=setInterval(async()=>{await v()},5e3);return()=>clearInterval(M)},[]),l.jsxs("div",{className:"h-[420px]",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-chart-line text-blue-500"}),"Processes Memory Usage"]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[l.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Current RAM"}),l.jsxs("div",{className:"text-xl font-bold text-white font-mono",children:[p," MB"]})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/30",children:[l.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Peak RAM"}),l.jsxs("div",{className:"text-xl font-bold text-pink-400 font-mono",children:[u," MB"]})]})]}),l.jsxs("div",{className:"flex-none h-full overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"text-xs text-gray-400 uppercase mb-2 font-bold tracking-wider flex justify-between",children:["Top Processes",l.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:[c.length," Active"]})]}),l.jsxs("div",{className:"overflow-y-auto flex-1 space-y-1 pr-1 custom-scrollbar",children:[c.length===0&&l.jsx("div",{className:"text-center text-xs text-gray-600 py-2",children:"Loading..."}),c.map((M,z)=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-900/40 hover:bg-gray-800/60 border border-transparent hover:border-gray-700 transition-colors text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("i",{className:"fas fa-boxes w-4 text-center"}),l.jsx("span",{className:"text-gray-300 font-mono truncate",children:M.name})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-none",children:[l.jsx("span",{className:"px-1.5 py-0.5 rounded bg-gray-800 text-[10px] text-gray-500",children:M.pid}),l.jsxs("span",{className:"font-mono text-white w-20 text-right",children:[l.jsx("span",{className:"text-orange-500",children:M.mem})," MB"]})]})]},z+M.name))]})]})]})}function dm(){const[c,p]=he.useState(""),[u,v]=he.useState("");he.useEffect(()=>{(async()=>{try{const B=rt.apiPort||3e3,m=await(await fetch(`http://localhost:${B}/${st.notes}`)).json();p(m.notes||"")}catch(B){console.error("Failed to load notes",B)}})()},[]);const M=he.useCallback(async z=>{v("saving");try{const B=rt.apiPort||3e3;await fetch(`http://localhost:${B}/${st.notes}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:z})}),v("saved"),setTimeout(()=>v(""),2e3)}catch(B){console.error(B),v("error")}},[]);return he.useEffect(()=>{const z=setTimeout(()=>{c&&M(c)},1e3);return()=>clearTimeout(z)},[c,M]),l.jsxs("div",{className:"h-[420px] overflow-y-auto flex flex-col",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-sticky-note text-yellow-500"})}),l.jsx("h3",{className:"font-bold text-gray-200",children:"Notes"}),u==="saving"&&l.jsx("span",{className:"text-xs text-blue-400 animate-pulse",children:"Saving..."}),u==="saved"&&l.jsx("span",{className:"text-xs text-green-400",children:"Saved"}),u==="error"&&l.jsx("span",{className:"text-xs text-red-400",children:"Error saving"})]})}),l.jsx("textarea",{value:c,onChange:z=>p(z.target.value),placeholder:"Write your project notes, todos, or ideas here...",className:"flex-1 w-full p-4 bg-transparent border-none outline-none resize-none text-gray-300 placeholder-gray-600 font-mono text-sm leading-relaxed",spellCheck:!1})]})}const pm=Zi()(c=>({modal:null,title:"",message:"",banner:null,data:null,callback:()=>{},showModal:(p,u,v,M,z,B)=>{c({modal:p,title:u,message:v,banner:M,callback:z,data:B})},hideModal:()=>{c({modal:null,title:"",message:"",banner:null,callback:()=>{},data:null})}})),Lt=Ji(pm),_m=[{isRunningAs:null,info:{name:"Demo workspace",path:"/workspace/1",description:"Must run in your system",devCommand:"npm run dev",startCommand:"npm run start",stopCommand:"npm run stop",buildCommand:"npm run build",cleanCommand:"npm run clean",lintCommand:"npm run lint",testCommand:"npm run test",fontawesomeIcon:"fa-brands fa-node-js"}},{isRunningAs:null,info:{name:"Workspace 2",path:"/workspace/2",description:"Description 2",devCommand:"npm run dev",startCommand:"npm run start",stopCommand:"npm run stop",buildCommand:"npm run build",cleanCommand:"npm run clean",lintCommand:"npm run lint",testCommand:"npm run test",fontawesomeIcon:"fa-brands fa-node-js"}}],mm=Zi()((c,p)=>({workspace:[],activeTerminal:"",activeWorkspaceOptionModal:null,loadingWorkspace:null,loading:!1,showWorkspaceNew:!1,showNewTerminalWindow:null,setShowNewTerminalWindow:u=>{c({showNewTerminalWindow:u})},setActiveWorkspaceOptionModal:u=>{c({activeWorkspaceOptionModal:u})},setActiveTerminal:u=>{c({activeTerminal:u})},setShowWorkspaceNew:u=>{c({showWorkspaceNew:u})},setWorkSpaceRunningAs:(u,v)=>{p().workspace.find(z=>z.info.name===u)&&c({workspace:p().workspace.map(z=>z.info.name===u?{...z,isRunningAs:v}:z)})},loadWorkspace:async()=>{if(!p().loading){c({loading:!0});try{const v=await fetch(`http://localhost:${rt.apiPort}/${st.scanWorkspace}`);let M=await v.json();if(!v.ok||M.workspace.length===0)throw new Error("Failed to fetch workspace");const z=[],B=p().workspace;M.workspace.forEach(m=>{B.find(g=>g.info.name===m.name)?z.push({isRunningAs:B.find(g=>g.info.name===m.name)?.isRunningAs??null,info:m}):z.push({isRunningAs:null,info:m})});const d=z.sort((m,g)=>m.info.name<g.info.name?-1:m.info.name>g.info.name?1:0);c({workspace:d})}catch(v){console.error("Error fetching workspace:",v),c({workspace:_m})}c({loading:!1})}},stopProcess:async u=>{if(p().loadingWorkspace!=u){c({loadingWorkspace:u});try{if(!(await fetch(`http://localhost:${rt.apiPort}/${st.stopProcess}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:u}})})).ok)throw new Error("Failed to stop process")}catch(M){console.error("Error stopping process:",M)}c({loadingWorkspace:null})}},stopInteractiveTerminal:async(u,v)=>{if(p().loadingWorkspace!=u){c({loadingWorkspace:u});try{if(!(await fetch(`http://localhost:${rt.apiPort}/${st.stopInteractiveTerminal}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:{name:u}})})).ok)throw new Error("Failed to stop interactive terminal");v||await new Promise(B=>setTimeout(B,1e3))}catch(z){console.error("Error stopping interactive terminal:",z)}c({loadingWorkspace:null})}},listWorkspace:async()=>{try{const u=await fetch(`http://localhost:${rt.apiPort}/${st.listWorkspacesDir}`);if(!u.ok)throw new Error("Failed to list workspace");return await u.json()}catch(u){return console.error("Error listing workspace:",u),[]}},createNewWorkspace:async u=>{try{return await(await fetch(`http://localhost:${rt.apiPort}/${st.newWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json(),!0}catch{return!1}},updateWorkspace:async u=>{try{return await(await fetch(`http://localhost:${rt.apiPort}/${st.updateWorkspace}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json(),!0}catch{return!1}}})),Le=Ji(mm);function gm(c){return he.useEffect(()=>{(async()=>{try{(await(await fetch(`http://localhost:${rt.apiPort}/${st.turborepoExist}`)).json()).exists||Lt.getState().showModal("confirm","Turborepo Missing","Would you like to scaffold this monorepo with turborepo.js?","warning",async M=>{if(M)try{Lt.getState().showModal("alert","Processing","Scaffolding in progress...","success");const B=await(await fetch(`http://localhost:${rt.apiPort}/${st.scaffoldRepo}`)).json();B.success?(Lt.getState().showModal("alert","Success","Scaffolding complete!","success"),Le.getState().loadWorkspace()):Lt.getState().showModal("alert","Error","Failed to scaffold: "+(B.details||B.error),"error")}catch(z){Lt.getState().showModal("alert","Error","Failed to scaffold: "+String(z),"error")}})}catch(u){console.error("Failed to check turborepo existence",u)}})()},[]),l.jsx("div",{className:`h-full w-full ${c.isVisible?"block":"hidden"}`,children:l.jsx("div",{className:"relative px-6 py-8 space-y-8 animate-fade-in max-w-[1600px] mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[l.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6 h-[400px]",children:l.jsx(cc,{children:l.jsx(dm,{})})}),l.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:l.jsx(cc,{children:l.jsx(fm,{})})}),l.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:l.jsx(cc,{children:l.jsx(um,{})})})]})})})}const ni=Object.create(null);ni.open="0";ni.close="1";ni.ping="2";ni.pong="3";ni.message="4";ni.upgrade="5";ni.noop="6";const Na=Object.create(null);Object.keys(ni).forEach(c=>{Na[ni[c]]=c});const vc={type:"error",data:"parser error"},sp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rp=typeof ArrayBuffer=="function",np=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer,wc=({type:c,data:p},u,v)=>sp&&p instanceof Blob?u?v(p):Fd(p,v):rp&&(p instanceof ArrayBuffer||np(p))?u?v(p):Fd(new Blob([p]),v):v(ni[c]+(p||"")),Fd=(c,p)=>{const u=new FileReader;return u.onload=function(){const v=u.result.split(",")[1];p("b"+(v||""))},u.readAsDataURL(c)};function Wd(c){return c instanceof Uint8Array?c:c instanceof ArrayBuffer?new Uint8Array(c):new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}let uc;function vm(c,p){if(sp&&c.data instanceof Blob)return c.data.arrayBuffer().then(Wd).then(p);if(rp&&(c.data instanceof ArrayBuffer||np(c.data)))return p(Wd(c.data));wc(c,!1,u=>{uc||(uc=new TextEncoder),p(uc.encode(u))})}const Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let c=0;c<Vd.length;c++)cn[Vd.charCodeAt(c)]=c;const bm=c=>{let p=c.length*.75,u=c.length,v,M=0,z,B,d,m;c[c.length-1]==="="&&(p--,c[c.length-2]==="="&&p--);const g=new ArrayBuffer(p),S=new Uint8Array(g);for(v=0;v<u;v+=4)z=cn[c.charCodeAt(v)],B=cn[c.charCodeAt(v+1)],d=cn[c.charCodeAt(v+2)],m=cn[c.charCodeAt(v+3)],S[M++]=z<<2|B>>4,S[M++]=(B&15)<<4|d>>2,S[M++]=(d&3)<<6|m&63;return g},ym=typeof ArrayBuffer=="function",Ec=(c,p)=>{if(typeof c!="string")return{type:"message",data:ap(c,p)};const u=c.charAt(0);return u==="b"?{type:"message",data:xm(c.substring(1),p)}:Na[u]?c.length>1?{type:Na[u],data:c.substring(1)}:{type:Na[u]}:vc},xm=(c,p)=>{if(ym){const u=bm(c);return ap(u,p)}else return{base64:!0,data:c}},ap=(c,p)=>p==="blob"?c instanceof Blob?c:new Blob([c]):c instanceof ArrayBuffer?c:c.buffer,lp="",Sm=(c,p)=>{const u=c.length,v=new Array(u);let M=0;c.forEach((z,B)=>{wc(z,!1,d=>{v[B]=d,++M===u&&p(v.join(lp))})})},Cm=(c,p)=>{const u=c.split(lp),v=[];for(let M=0;M<u.length;M++){const z=Ec(u[M],p);if(v.push(z),z.type==="error")break}return v};function wm(){return new TransformStream({transform(c,p){vm(c,u=>{const v=u.length;let M;if(v<126)M=new Uint8Array(1),new DataView(M.buffer).setUint8(0,v);else if(v<65536){M=new Uint8Array(3);const z=new DataView(M.buffer);z.setUint8(0,126),z.setUint16(1,v)}else{M=new Uint8Array(9);const z=new DataView(M.buffer);z.setUint8(0,127),z.setBigUint64(1,BigInt(v))}c.data&&typeof c.data!="string"&&(M[0]|=128),p.enqueue(M),p.enqueue(u)})}})}let hc;function Da(c){return c.reduce((p,u)=>p+u.length,0)}function ka(c,p){if(c[0].length===p)return c.shift();const u=new Uint8Array(p);let v=0;for(let M=0;M<p;M++)u[M]=c[0][v++],v===c[0].length&&(c.shift(),v=0);return c.length&&v<c[0].length&&(c[0]=c[0].slice(v)),u}function Em(c,p){hc||(hc=new TextDecoder);const u=[];let v=0,M=-1,z=!1;return new TransformStream({transform(B,d){for(u.push(B);;){if(v===0){if(Da(u)<1)break;const m=ka(u,1);z=(m[0]&128)===128,M=m[0]&127,M<126?v=3:M===126?v=1:v=2}else if(v===1){if(Da(u)<2)break;const m=ka(u,2);M=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),v=3}else if(v===2){if(Da(u)<8)break;const m=ka(u,8),g=new DataView(m.buffer,m.byteOffset,m.length),S=g.getUint32(0);if(S>Math.pow(2,21)-1){d.enqueue(vc);break}M=S*Math.pow(2,32)+g.getUint32(4),v=3}else{if(Da(u)<M)break;const m=ka(u,M);d.enqueue(Ec(z?m:hc.decode(m),p)),v=0}if(M===0||M>c){d.enqueue(vc);break}}}})}const op=4;function et(c){if(c)return Am(c)}function Am(c){for(var p in et.prototype)c[p]=et.prototype[p];return c}et.prototype.on=et.prototype.addEventListener=function(c,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(p),this};et.prototype.once=function(c,p){function u(){this.off(c,u),p.apply(this,arguments)}return u.fn=p,this.on(c,u),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(c,p){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+c];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+c],this;for(var v,M=0;M<u.length;M++)if(v=u[M],v===p||v.fn===p){u.splice(M,1);break}return u.length===0&&delete this._callbacks["$"+c],this};et.prototype.emit=function(c){this._callbacks=this._callbacks||{};for(var p=new Array(arguments.length-1),u=this._callbacks["$"+c],v=1;v<arguments.length;v++)p[v-1]=arguments[v];if(u){u=u.slice(0);for(var v=0,M=u.length;v<M;++v)u[v].apply(this,p)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks["$"+c]||[]};et.prototype.hasListeners=function(c){return!!this.listeners(c).length};const Ba=typeof Promise=="function"&&typeof Promise.resolve=="function"?p=>Promise.resolve().then(p):(p,u)=>u(p,0),Gt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Tm="arraybuffer";function cp(c,...p){return p.reduce((u,v)=>(c.hasOwnProperty(v)&&(u[v]=c[v]),u),{})}const Rm=Gt.setTimeout,Dm=Gt.clearTimeout;function Ha(c,p){p.useNativeTimers?(c.setTimeoutFn=Rm.bind(Gt),c.clearTimeoutFn=Dm.bind(Gt)):(c.setTimeoutFn=Gt.setTimeout.bind(Gt),c.clearTimeoutFn=Gt.clearTimeout.bind(Gt))}const km=1.33;function Nm(c){return typeof c=="string"?jm(c):Math.ceil((c.byteLength||c.size)*km)}function jm(c){let p=0,u=0;for(let v=0,M=c.length;v<M;v++)p=c.charCodeAt(v),p<128?u+=1:p<2048?u+=2:p<55296||p>=57344?u+=3:(v++,u+=4);return u}function up(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Om(c){let p="";for(let u in c)c.hasOwnProperty(u)&&(p.length&&(p+="&"),p+=encodeURIComponent(u)+"="+encodeURIComponent(c[u]));return p}function Lm(c){let p={},u=c.split("&");for(let v=0,M=u.length;v<M;v++){let z=u[v].split("=");p[decodeURIComponent(z[0])]=decodeURIComponent(z[1])}return p}class Mm extends Error{constructor(p,u,v){super(p),this.description=u,this.context=v,this.type="TransportError"}}class Ac extends et{constructor(p){super(),this.writable=!1,Ha(this,p),this.opts=p,this.query=p.query,this.socket=p.socket,this.supportsBinary=!p.forceBase64}onError(p,u,v){return super.emitReserved("error",new Mm(p,u,v)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(p){this.readyState==="open"&&this.write(p)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(p){const u=Ec(p,this.socket.binaryType);this.onPacket(u)}onPacket(p){super.emitReserved("packet",p)}onClose(p){this.readyState="closed",super.emitReserved("close",p)}pause(p){}createUri(p,u={}){return p+"://"+this._hostname()+this._port()+this.opts.path+this._query(u)}_hostname(){const p=this.opts.hostname;return p.indexOf(":")===-1?p:"["+p+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(p){const u=Om(p);return u.length?"?"+u:""}}class Bm extends Ac{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(p){this.readyState="pausing";const u=()=>{this.readyState="paused",p()};if(this._polling||!this.writable){let v=0;this._polling&&(v++,this.once("pollComplete",function(){--v||u()})),this.writable||(v++,this.once("drain",function(){--v||u()}))}else u()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(p){const u=v=>{if(this.readyState==="opening"&&v.type==="open"&&this.onOpen(),v.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(v)};Cm(p,this.socket.binaryType).forEach(u),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const p=()=>{this.write([{type:"close"}])};this.readyState==="open"?p():this.once("open",p)}write(p){this.writable=!1,Sm(p,u=>{this.doWrite(u,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const p=this.opts.secure?"https":"http",u=this.query||{};return this.opts.timestampRequests!==!1&&(u[this.opts.timestampParam]=up()),!this.supportsBinary&&!u.sid&&(u.b64=1),this.createUri(p,u)}}let hp=!1;try{hp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Hm=hp;function zm(){}class Um extends Bm{constructor(p){if(super(p),typeof location<"u"){const u=location.protocol==="https:";let v=location.port;v||(v=u?"443":"80"),this.xd=typeof location<"u"&&p.hostname!==location.hostname||v!==p.port}}doWrite(p,u){const v=this.request({method:"POST",data:p});v.on("success",u),v.on("error",(M,z)=>{this.onError("xhr post error",M,z)})}doPoll(){const p=this.request();p.on("data",this.onData.bind(this)),p.on("error",(u,v)=>{this.onError("xhr poll error",u,v)}),this.pollXhr=p}}class ri extends et{constructor(p,u,v){super(),this.createRequest=p,Ha(this,v),this._opts=v,this._method=v.method||"GET",this._uri=u,this._data=v.data!==void 0?v.data:null,this._create()}_create(){var p;const u=cp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");u.xdomain=!!this._opts.xd;const v=this._xhr=this.createRequest(u);try{v.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){v.setDisableHeaderCheck&&v.setDisableHeaderCheck(!0);for(let M in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(M)&&v.setRequestHeader(M,this._opts.extraHeaders[M])}}catch{}if(this._method==="POST")try{v.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{v.setRequestHeader("Accept","*/*")}catch{}(p=this._opts.cookieJar)===null||p===void 0||p.addCookies(v),"withCredentials"in v&&(v.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(v.timeout=this._opts.requestTimeout),v.onreadystatechange=()=>{var M;v.readyState===3&&((M=this._opts.cookieJar)===null||M===void 0||M.parseCookies(v.getResponseHeader("set-cookie"))),v.readyState===4&&(v.status===200||v.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof v.status=="number"?v.status:0)},0))},v.send(this._data)}catch(M){this.setTimeoutFn(()=>{this._onError(M)},0);return}typeof document<"u"&&(this._index=ri.requestsCount++,ri.requests[this._index]=this)}_onError(p){this.emitReserved("error",p,this._xhr),this._cleanup(!0)}_cleanup(p){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=zm,p)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ri.requests[this._index],this._xhr=null}}_onLoad(){const p=this._xhr.responseText;p!==null&&(this.emitReserved("data",p),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ri.requestsCount=0;ri.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gd);else if(typeof addEventListener=="function"){const c="onpagehide"in Gt?"pagehide":"unload";addEventListener(c,Gd,!1)}}function Gd(){for(let c in ri.requests)ri.requests.hasOwnProperty(c)&&ri.requests[c].abort()}const qm=(function(){const c=fp({xdomain:!1});return c&&c.responseType!==null})();class Im extends Um{constructor(p){super(p);const u=p&&p.forceBase64;this.supportsBinary=qm&&!u}request(p={}){return Object.assign(p,{xd:this.xd},this.opts),new ri(fp,this.uri(),p)}}function fp(c){const p=c.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!p||Hm))return new XMLHttpRequest}catch{}if(!p)try{return new Gt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Pm extends Ac{get name(){return"websocket"}doOpen(){const p=this.uri(),u=this.opts.protocols,v=dp?{}:cp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(v.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(p,u,v)}catch(M){return this.emitReserved("error",M)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=p=>this.onClose({description:"websocket connection closed",context:p}),this.ws.onmessage=p=>this.onData(p.data),this.ws.onerror=p=>this.onError("websocket error",p)}write(p){this.writable=!1;for(let u=0;u<p.length;u++){const v=p[u],M=u===p.length-1;wc(v,this.supportsBinary,z=>{try{this.doWrite(v,z)}catch{}M&&Ba(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const p=this.opts.secure?"wss":"ws",u=this.query||{};return this.opts.timestampRequests&&(u[this.opts.timestampParam]=up()),this.supportsBinary||(u.b64=1),this.createUri(p,u)}}const fc=Gt.WebSocket||Gt.MozWebSocket;class Fm extends Pm{createSocket(p,u,v){return dp?new fc(p,u,v):u?new fc(p,u):new fc(p)}doWrite(p,u){this.ws.send(u)}}class Wm extends Ac{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(p){return this.emitReserved("error",p)}this._transport.closed.then(()=>{this.onClose()}).catch(p=>{this.onError("webtransport error",p)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(p=>{const u=Em(Number.MAX_SAFE_INTEGER,this.socket.binaryType),v=p.readable.pipeThrough(u).getReader(),M=wm();M.readable.pipeTo(p.writable),this._writer=M.writable.getWriter();const z=()=>{v.read().then(({done:d,value:m})=>{d||(this.onPacket(m),z())}).catch(d=>{})};z();const B={type:"open"};this.query.sid&&(B.data=`{"sid":"${this.query.sid}"}`),this._writer.write(B).then(()=>this.onOpen())})})}write(p){this.writable=!1;for(let u=0;u<p.length;u++){const v=p[u],M=u===p.length-1;this._writer.write(v).then(()=>{M&&Ba(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var p;(p=this._transport)===null||p===void 0||p.close()}}const Vm={websocket:Fm,webtransport:Wm,polling:Im},Gm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ym=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bc(c){if(c.length>8e3)throw"URI too long";const p=c,u=c.indexOf("["),v=c.indexOf("]");u!=-1&&v!=-1&&(c=c.substring(0,u)+c.substring(u,v).replace(/:/g,";")+c.substring(v,c.length));let M=Gm.exec(c||""),z={},B=14;for(;B--;)z[Ym[B]]=M[B]||"";return u!=-1&&v!=-1&&(z.source=p,z.host=z.host.substring(1,z.host.length-1).replace(/;/g,":"),z.authority=z.authority.replace("[","").replace("]","").replace(/;/g,":"),z.ipv6uri=!0),z.pathNames=Km(z,z.path),z.queryKey=Xm(z,z.query),z}function Km(c,p){const u=/\/{2,9}/g,v=p.replace(u,"/").split("/");return(p.slice(0,1)=="/"||p.length===0)&&v.splice(0,1),p.slice(-1)=="/"&&v.splice(v.length-1,1),v}function Xm(c,p){const u={};return p.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(v,M,z){M&&(u[M]=z)}),u}const yc=typeof addEventListener=="function"&&typeof removeEventListener=="function",ja=[];yc&&addEventListener("offline",()=>{ja.forEach(c=>c())},!1);class Qi extends et{constructor(p,u){if(super(),this.binaryType=Tm,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,p&&typeof p=="object"&&(u=p,p=null),p){const v=bc(p);u.hostname=v.host,u.secure=v.protocol==="https"||v.protocol==="wss",u.port=v.port,v.query&&(u.query=v.query)}else u.host&&(u.hostname=bc(u.host).host);Ha(this,u),this.secure=u.secure!=null?u.secure:typeof location<"u"&&location.protocol==="https:",u.hostname&&!u.port&&(u.port=this.secure?"443":"80"),this.hostname=u.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=u.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},u.transports.forEach(v=>{const M=v.prototype.name;this.transports.push(M),this._transportsByName[M]=v}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},u),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Lm(this.opts.query)),yc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ja.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(p){const u=Object.assign({},this.opts.query);u.EIO=op,u.transport=p,this.id&&(u.sid=this.id);const v=Object.assign({},this.opts,{query:u,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[p]);return new this._transportsByName[p](v)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const p=this.opts.rememberUpgrade&&Qi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const u=this.createTransport(p);u.open(),this.setTransport(u)}setTransport(p){this.transport&&this.transport.removeAllListeners(),this.transport=p,p.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",u=>this._onClose("transport close",u))}onOpen(){this.readyState="open",Qi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(p){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",p),this.emitReserved("heartbeat"),p.type){case"open":this.onHandshake(JSON.parse(p.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const u=new Error("server error");u.code=p.data,this._onError(u);break;case"message":this.emitReserved("data",p.data),this.emitReserved("message",p.data);break}}onHandshake(p){this.emitReserved("handshake",p),this.id=p.sid,this.transport.query.sid=p.sid,this._pingInterval=p.pingInterval,this._pingTimeout=p.pingTimeout,this._maxPayload=p.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const p=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+p,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},p),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const p=this._getWritablePackets();this.transport.send(p),this._prevBufferLen=p.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let u=1;for(let v=0;v<this.writeBuffer.length;v++){const M=this.writeBuffer[v].data;if(M&&(u+=Nm(M)),v>0&&u>this._maxPayload)return this.writeBuffer.slice(0,v);u+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const p=Date.now()>this._pingTimeoutTime;return p&&(this._pingTimeoutTime=0,Ba(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),p}write(p,u,v){return this._sendPacket("message",p,u,v),this}send(p,u,v){return this._sendPacket("message",p,u,v),this}_sendPacket(p,u,v,M){if(typeof u=="function"&&(M=u,u=void 0),typeof v=="function"&&(M=v,v=null),this.readyState==="closing"||this.readyState==="closed")return;v=v||{},v.compress=v.compress!==!1;const z={type:p,data:u,options:v};this.emitReserved("packetCreate",z),this.writeBuffer.push(z),M&&this.once("flush",M),this.flush()}close(){const p=()=>{this._onClose("forced close"),this.transport.close()},u=()=>{this.off("upgrade",u),this.off("upgradeError",u),p()},v=()=>{this.once("upgrade",u),this.once("upgradeError",u)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?v():p()}):this.upgrading?v():p()),this}_onError(p){if(Qi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",p),this._onClose("transport error",p)}_onClose(p,u){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const v=ja.indexOf(this._offlineEventListener);v!==-1&&ja.splice(v,1)}this.readyState="closed",this.id=null,this.emitReserved("close",p,u),this.writeBuffer=[],this._prevBufferLen=0}}}Qi.protocol=op;class $m extends Qi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let p=0;p<this._upgrades.length;p++)this._probe(this._upgrades[p])}_probe(p){let u=this.createTransport(p),v=!1;Qi.priorWebsocketSuccess=!1;const M=()=>{v||(u.send([{type:"ping",data:"probe"}]),u.once("packet",f=>{if(!v)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",u),!u)return;Qi.priorWebsocketSuccess=u.name==="websocket",this.transport.pause(()=>{v||this.readyState!=="closed"&&(S(),this.setTransport(u),u.send([{type:"upgrade"}]),this.emitReserved("upgrade",u),u=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=u.name,this.emitReserved("upgradeError",y)}}))};function z(){v||(v=!0,S(),u.close(),u=null)}const B=f=>{const y=new Error("probe error: "+f);y.transport=u.name,z(),this.emitReserved("upgradeError",y)};function d(){B("transport closed")}function m(){B("socket closed")}function g(f){u&&f.name!==u.name&&z()}const S=()=>{u.removeListener("open",M),u.removeListener("error",B),u.removeListener("close",d),this.off("close",m),this.off("upgrading",g)};u.once("open",M),u.once("error",B),u.once("close",d),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&p!=="webtransport"?this.setTimeoutFn(()=>{v||u.open()},200):u.open()}onHandshake(p){this._upgrades=this._filterUpgrades(p.upgrades),super.onHandshake(p)}_filterUpgrades(p){const u=[];for(let v=0;v<p.length;v++)~this.transports.indexOf(p[v])&&u.push(p[v]);return u}}let Qm=class extends $m{constructor(p,u={}){const v=typeof p=="object"?p:u;(!v.transports||v.transports&&typeof v.transports[0]=="string")&&(v.transports=(v.transports||["polling","websocket","webtransport"]).map(M=>Vm[M]).filter(M=>!!M)),super(p,v)}};function Zm(c,p="",u){let v=c;u=u||typeof location<"u"&&location,c==null&&(c=u.protocol+"//"+u.host),typeof c=="string"&&(c.charAt(0)==="/"&&(c.charAt(1)==="/"?c=u.protocol+c:c=u.host+c),/^(https?|wss?):\/\//.test(c)||(typeof u<"u"?c=u.protocol+"//"+c:c="https://"+c),v=bc(c)),v.port||(/^(http|ws)$/.test(v.protocol)?v.port="80":/^(http|ws)s$/.test(v.protocol)&&(v.port="443")),v.path=v.path||"/";const z=v.host.indexOf(":")!==-1?"["+v.host+"]":v.host;return v.id=v.protocol+"://"+z+":"+v.port+p,v.href=v.protocol+"://"+z+(u&&u.port===v.port?"":":"+v.port),v}const Jm=typeof ArrayBuffer=="function",eg=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer,pp=Object.prototype.toString,tg=typeof Blob=="function"||typeof Blob<"u"&&pp.call(Blob)==="[object BlobConstructor]",ig=typeof File=="function"||typeof File<"u"&&pp.call(File)==="[object FileConstructor]";function Tc(c){return Jm&&(c instanceof ArrayBuffer||eg(c))||tg&&c instanceof Blob||ig&&c instanceof File}function Oa(c,p){if(!c||typeof c!="object")return!1;if(Array.isArray(c)){for(let u=0,v=c.length;u<v;u++)if(Oa(c[u]))return!0;return!1}if(Tc(c))return!0;if(c.toJSON&&typeof c.toJSON=="function"&&arguments.length===1)return Oa(c.toJSON(),!0);for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&Oa(c[u]))return!0;return!1}function sg(c){const p=[],u=c.data,v=c;return v.data=xc(u,p),v.attachments=p.length,{packet:v,buffers:p}}function xc(c,p){if(!c)return c;if(Tc(c)){const u={_placeholder:!0,num:p.length};return p.push(c),u}else if(Array.isArray(c)){const u=new Array(c.length);for(let v=0;v<c.length;v++)u[v]=xc(c[v],p);return u}else if(typeof c=="object"&&!(c instanceof Date)){const u={};for(const v in c)Object.prototype.hasOwnProperty.call(c,v)&&(u[v]=xc(c[v],p));return u}return c}function rg(c,p){return c.data=Sc(c.data,p),delete c.attachments,c}function Sc(c,p){if(!c)return c;if(c&&c._placeholder===!0){if(typeof c.num=="number"&&c.num>=0&&c.num<p.length)return p[c.num];throw new Error("illegal attachments")}else if(Array.isArray(c))for(let u=0;u<c.length;u++)c[u]=Sc(c[u],p);else if(typeof c=="object")for(const u in c)Object.prototype.hasOwnProperty.call(c,u)&&(c[u]=Sc(c[u],p));return c}const _p=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ng=5;var Se;(function(c){c[c.CONNECT=0]="CONNECT",c[c.DISCONNECT=1]="DISCONNECT",c[c.EVENT=2]="EVENT",c[c.ACK=3]="ACK",c[c.CONNECT_ERROR=4]="CONNECT_ERROR",c[c.BINARY_EVENT=5]="BINARY_EVENT",c[c.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class ag{constructor(p){this.replacer=p}encode(p){return(p.type===Se.EVENT||p.type===Se.ACK)&&Oa(p)?this.encodeAsBinary({type:p.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:p.nsp,data:p.data,id:p.id}):[this.encodeAsString(p)]}encodeAsString(p){let u=""+p.type;return(p.type===Se.BINARY_EVENT||p.type===Se.BINARY_ACK)&&(u+=p.attachments+"-"),p.nsp&&p.nsp!=="/"&&(u+=p.nsp+","),p.id!=null&&(u+=p.id),p.data!=null&&(u+=JSON.stringify(p.data,this.replacer)),u}encodeAsBinary(p){const u=sg(p),v=this.encodeAsString(u.packet),M=u.buffers;return M.unshift(v),M}}class Rc extends et{constructor(p){super(),this.reviver=p}add(p){let u;if(typeof p=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");u=this.decodeString(p);const v=u.type===Se.BINARY_EVENT;v||u.type===Se.BINARY_ACK?(u.type=v?Se.EVENT:Se.ACK,this.reconstructor=new lg(u),u.attachments===0&&super.emitReserved("decoded",u)):super.emitReserved("decoded",u)}else if(Tc(p)||p.base64)if(this.reconstructor)u=this.reconstructor.takeBinaryData(p),u&&(this.reconstructor=null,super.emitReserved("decoded",u));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+p)}decodeString(p){let u=0;const v={type:Number(p.charAt(0))};if(Se[v.type]===void 0)throw new Error("unknown packet type "+v.type);if(v.type===Se.BINARY_EVENT||v.type===Se.BINARY_ACK){const z=u+1;for(;p.charAt(++u)!=="-"&&u!=p.length;);const B=p.substring(z,u);if(B!=Number(B)||p.charAt(u)!=="-")throw new Error("Illegal attachments");v.attachments=Number(B)}if(p.charAt(u+1)==="/"){const z=u+1;for(;++u&&!(p.charAt(u)===","||u===p.length););v.nsp=p.substring(z,u)}else v.nsp="/";const M=p.charAt(u+1);if(M!==""&&Number(M)==M){const z=u+1;for(;++u;){const B=p.charAt(u);if(B==null||Number(B)!=B){--u;break}if(u===p.length)break}v.id=Number(p.substring(z,u+1))}if(p.charAt(++u)){const z=this.tryParse(p.substr(u));if(Rc.isPayloadValid(v.type,z))v.data=z;else throw new Error("invalid payload")}return v}tryParse(p){try{return JSON.parse(p,this.reviver)}catch{return!1}}static isPayloadValid(p,u){switch(p){case Se.CONNECT:return Ma(u);case Se.DISCONNECT:return u===void 0;case Se.CONNECT_ERROR:return typeof u=="string"||Ma(u);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(u)&&(typeof u[0]=="number"||typeof u[0]=="string"&&_p.indexOf(u[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(u)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class lg{constructor(p){this.packet=p,this.buffers=[],this.reconPack=p}takeBinaryData(p){if(this.buffers.push(p),this.buffers.length===this.reconPack.attachments){const u=rg(this.reconPack,this.buffers);return this.finishedReconstruction(),u}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function og(c){return typeof c=="string"}const cg=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c};function ug(c){return c===void 0||cg(c)}function Ma(c){return Object.prototype.toString.call(c)==="[object Object]"}function hg(c,p){switch(c){case Se.CONNECT:return p===void 0||Ma(p);case Se.DISCONNECT:return p===void 0;case Se.EVENT:return Array.isArray(p)&&(typeof p[0]=="number"||typeof p[0]=="string"&&_p.indexOf(p[0])===-1);case Se.ACK:return Array.isArray(p);case Se.CONNECT_ERROR:return typeof p=="string"||Ma(p);default:return!1}}function fg(c){return og(c.nsp)&&ug(c.id)&&hg(c.type,c.data)}const dg=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Rc,Encoder:ag,get PacketType(){return Se},isPacketValid:fg,protocol:ng},Symbol.toStringTag,{value:"Module"}));function Qt(c,p,u){return c.on(p,u),function(){c.off(p,u)}}const pg=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mp extends et{constructor(p,u,v){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=p,this.nsp=u,v&&v.auth&&(this.auth=v.auth),this._opts=Object.assign({},v),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const p=this.io;this.subs=[Qt(p,"open",this.onopen.bind(this)),Qt(p,"packet",this.onpacket.bind(this)),Qt(p,"error",this.onerror.bind(this)),Qt(p,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...p){return p.unshift("message"),this.emit.apply(this,p),this}emit(p,...u){var v,M,z;if(pg.hasOwnProperty(p))throw new Error('"'+p.toString()+'" is a reserved event name');if(u.unshift(p),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(u),this;const B={type:Se.EVENT,data:u};if(B.options={},B.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){const S=this.ids++,f=u.pop();this._registerAckCallback(S,f),B.id=S}const d=(M=(v=this.io.engine)===null||v===void 0?void 0:v.transport)===null||M===void 0?void 0:M.writable,m=this.connected&&!(!((z=this.io.engine)===null||z===void 0)&&z._hasPingExpired());return this.flags.volatile&&!d||(m?(this.notifyOutgoingListeners(B),this.packet(B)):this.sendBuffer.push(B)),this.flags={},this}_registerAckCallback(p,u){var v;const M=(v=this.flags.timeout)!==null&&v!==void 0?v:this._opts.ackTimeout;if(M===void 0){this.acks[p]=u;return}const z=this.io.setTimeoutFn(()=>{delete this.acks[p];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===p&&this.sendBuffer.splice(d,1);u.call(this,new Error("operation has timed out"))},M),B=(...d)=>{this.io.clearTimeoutFn(z),u.apply(this,d)};B.withError=!0,this.acks[p]=B}emitWithAck(p,...u){return new Promise((v,M)=>{const z=(B,d)=>B?M(B):v(d);z.withError=!0,u.push(z),this.emit(p,...u)})}_addToQueue(p){let u;typeof p[p.length-1]=="function"&&(u=p.pop());const v={id:this._queueSeq++,tryCount:0,pending:!1,args:p,flags:Object.assign({fromQueue:!0},this.flags)};p.push((M,...z)=>(this._queue[0],M!==null?v.tryCount>this._opts.retries&&(this._queue.shift(),u&&u(M)):(this._queue.shift(),u&&u(null,...z)),v.pending=!1,this._drainQueue())),this._queue.push(v),this._drainQueue()}_drainQueue(p=!1){if(!this.connected||this._queue.length===0)return;const u=this._queue[0];u.pending&&!p||(u.pending=!0,u.tryCount++,this.flags=u.flags,this.emit.apply(this,u.args))}packet(p){p.nsp=this.nsp,this.io._packet(p)}onopen(){typeof this.auth=="function"?this.auth(p=>{this._sendConnectPacket(p)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(p){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},p):p})}onerror(p){this.connected||this.emitReserved("connect_error",p)}onclose(p,u){this.connected=!1,delete this.id,this.emitReserved("disconnect",p,u),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(p=>{if(!this.sendBuffer.some(v=>String(v.id)===p)){const v=this.acks[p];delete this.acks[p],v.withError&&v.call(this,new Error("socket has been disconnected"))}})}onpacket(p){if(p.nsp===this.nsp)switch(p.type){case Se.CONNECT:p.data&&p.data.sid?this.onconnect(p.data.sid,p.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(p);break;case Se.ACK:case Se.BINARY_ACK:this.onack(p);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const v=new Error(p.data.message);v.data=p.data.data,this.emitReserved("connect_error",v);break}}onevent(p){const u=p.data||[];p.id!=null&&u.push(this.ack(p.id)),this.connected?this.emitEvent(u):this.receiveBuffer.push(Object.freeze(u))}emitEvent(p){if(this._anyListeners&&this._anyListeners.length){const u=this._anyListeners.slice();for(const v of u)v.apply(this,p)}super.emit.apply(this,p),this._pid&&p.length&&typeof p[p.length-1]=="string"&&(this._lastOffset=p[p.length-1])}ack(p){const u=this;let v=!1;return function(...M){v||(v=!0,u.packet({type:Se.ACK,id:p,data:M}))}}onack(p){const u=this.acks[p.id];typeof u=="function"&&(delete this.acks[p.id],u.withError&&p.data.unshift(null),u.apply(this,p.data))}onconnect(p,u){this.id=p,this.recovered=u&&this._pid===u,this._pid=u,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(p=>this.emitEvent(p)),this.receiveBuffer=[],this.sendBuffer.forEach(p=>{this.notifyOutgoingListeners(p),this.packet(p)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(p=>p()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(p){return this.flags.compress=p,this}get volatile(){return this.flags.volatile=!0,this}timeout(p){return this.flags.timeout=p,this}onAny(p){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(p),this}prependAny(p){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(p),this}offAny(p){if(!this._anyListeners)return this;if(p){const u=this._anyListeners;for(let v=0;v<u.length;v++)if(p===u[v])return u.splice(v,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(p){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(p),this}prependAnyOutgoing(p){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(p),this}offAnyOutgoing(p){if(!this._anyOutgoingListeners)return this;if(p){const u=this._anyOutgoingListeners;for(let v=0;v<u.length;v++)if(p===u[v])return u.splice(v,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(p){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const u=this._anyOutgoingListeners.slice();for(const v of u)v.apply(this,p.data)}}}function fr(c){c=c||{},this.ms=c.min||100,this.max=c.max||1e4,this.factor=c.factor||2,this.jitter=c.jitter>0&&c.jitter<=1?c.jitter:0,this.attempts=0}fr.prototype.duration=function(){var c=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var p=Math.random(),u=Math.floor(p*this.jitter*c);c=(Math.floor(p*10)&1)==0?c-u:c+u}return Math.min(c,this.max)|0};fr.prototype.reset=function(){this.attempts=0};fr.prototype.setMin=function(c){this.ms=c};fr.prototype.setMax=function(c){this.max=c};fr.prototype.setJitter=function(c){this.jitter=c};class Cc extends et{constructor(p,u){var v;super(),this.nsps={},this.subs=[],p&&typeof p=="object"&&(u=p,p=void 0),u=u||{},u.path=u.path||"/socket.io",this.opts=u,Ha(this,u),this.reconnection(u.reconnection!==!1),this.reconnectionAttempts(u.reconnectionAttempts||1/0),this.reconnectionDelay(u.reconnectionDelay||1e3),this.reconnectionDelayMax(u.reconnectionDelayMax||5e3),this.randomizationFactor((v=u.randomizationFactor)!==null&&v!==void 0?v:.5),this.backoff=new fr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(u.timeout==null?2e4:u.timeout),this._readyState="closed",this.uri=p;const M=u.parser||dg;this.encoder=new M.Encoder,this.decoder=new M.Decoder,this._autoConnect=u.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(p){return arguments.length?(this._reconnection=!!p,p||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(p){return p===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=p,this)}reconnectionDelay(p){var u;return p===void 0?this._reconnectionDelay:(this._reconnectionDelay=p,(u=this.backoff)===null||u===void 0||u.setMin(p),this)}randomizationFactor(p){var u;return p===void 0?this._randomizationFactor:(this._randomizationFactor=p,(u=this.backoff)===null||u===void 0||u.setJitter(p),this)}reconnectionDelayMax(p){var u;return p===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=p,(u=this.backoff)===null||u===void 0||u.setMax(p),this)}timeout(p){return arguments.length?(this._timeout=p,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(p){if(~this._readyState.indexOf("open"))return this;this.engine=new Qm(this.uri,this.opts);const u=this.engine,v=this;this._readyState="opening",this.skipReconnect=!1;const M=Qt(u,"open",function(){v.onopen(),p&&p()}),z=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),p?p(d):this.maybeReconnectOnOpen()},B=Qt(u,"error",z);if(this._timeout!==!1){const d=this._timeout,m=this.setTimeoutFn(()=>{M(),z(new Error("timeout")),u.close()},d);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(M),this.subs.push(B),this}connect(p){return this.open(p)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const p=this.engine;this.subs.push(Qt(p,"ping",this.onping.bind(this)),Qt(p,"data",this.ondata.bind(this)),Qt(p,"error",this.onerror.bind(this)),Qt(p,"close",this.onclose.bind(this)),Qt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(p){try{this.decoder.add(p)}catch(u){this.onclose("parse error",u)}}ondecoded(p){Ba(()=>{this.emitReserved("packet",p)},this.setTimeoutFn)}onerror(p){this.emitReserved("error",p)}socket(p,u){let v=this.nsps[p];return v?this._autoConnect&&!v.active&&v.connect():(v=new mp(this,p,u),this.nsps[p]=v),v}_destroy(p){const u=Object.keys(this.nsps);for(const v of u)if(this.nsps[v].active)return;this._close()}_packet(p){const u=this.encoder.encode(p);for(let v=0;v<u.length;v++)this.engine.write(u[v],p.options)}cleanup(){this.subs.forEach(p=>p()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(p,u){var v;this.cleanup(),(v=this.engine)===null||v===void 0||v.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",p,u),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const p=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const u=this.backoff.duration();this._reconnecting=!0;const v=this.setTimeoutFn(()=>{p.skipReconnect||(this.emitReserved("reconnect_attempt",p.backoff.attempts),!p.skipReconnect&&p.open(M=>{M?(p._reconnecting=!1,p.reconnect(),this.emitReserved("reconnect_error",M)):p.onreconnect()}))},u);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}}onreconnect(){const p=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",p)}}const on={};function La(c,p){typeof c=="object"&&(p=c,c=void 0),p=p||{};const u=Zm(c,p.path||"/socket.io"),v=u.source,M=u.id,z=u.path,B=on[M]&&z in on[M].nsps,d=p.forceNew||p["force new connection"]||p.multiplex===!1||B;let m;return d?m=new Cc(v,p):(on[M]||(on[M]=new Cc(v,p)),m=on[M]),u.query&&!p.query&&(p.query=u.queryKey),m.socket(u.path,p)}Object.assign(La,{Manager:Cc,Socket:mp,io:La,connect:La});var dc={exports:{}},Yd;function _g(){return Yd||(Yd=1,(function(c,p){(function(u,v){c.exports=v()})(self,(()=>(()=>{var u={4567:function(B,d,m){var g=this&&this.__decorate||function(o,b,C,R){var k,x=arguments.length,D=x<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(o,b,C,R);else for(var q=o.length-1;q>=0;q--)(k=o[q])&&(D=(x<3?k(D):x>3?k(b,C,D):k(b,C))||D);return x>3&&D&&Object.defineProperty(b,C,D),D},S=this&&this.__param||function(o,b){return function(C,R){b(C,R,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.AccessibilityManager=void 0;const f=m(9042),y=m(6114),A=m(9924),T=m(844),E=m(5596),n=m(4725),_=m(3656);let h=d.AccessibilityManager=class extends T.Disposable{constructor(o,b){super(),this._terminal=o,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new A.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((C=>this._handleResize(C.rows)))),this.register(this._terminal.onRender((C=>this._refreshRows(C.start,C.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((C=>this._handleChar(C)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((C=>this._handleTab(C)))),this.register(this._terminal.onKey((C=>this._handleKey(C.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new E.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,_.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,T.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(o){for(let b=0;b<o;b++)this._handleChar(" ")}_handleChar(o){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==o&&(this._charsToAnnounce+=o):this._charsToAnnounce+=o,o===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),y.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,y.isMac&&this._liveRegion.remove()}_handleKey(o){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(o)||this._charsToConsume.push(o)}_refreshRows(o,b){this._liveRegionDebouncer.refresh(o,b,this._terminal.rows)}_renderRows(o,b){const C=this._terminal.buffer,R=C.lines.length.toString();for(let k=o;k<=b;k++){const x=C.translateBufferLineToString(C.ydisp+k,!0),D=(C.ydisp+k+1).toString(),q=this._rowElements[k];q&&(x.length===0?q.innerText="":q.textContent=x,q.setAttribute("aria-posinset",D),q.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(o,b){const C=o.target,R=this._rowElements[b===0?1:this._rowElements.length-2];if(C.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||o.relatedTarget!==R)return;let k,x;if(b===0?(k=C,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(k=this._rowElements.shift(),x=C,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const D=this._createAccessibilityTreeNode();this._rowElements.unshift(D),this._rowContainer.insertAdjacentElement("afterbegin",D)}else{const D=this._createAccessibilityTreeNode();this._rowElements.push(D),this._rowContainer.appendChild(D)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),o.preventDefault(),o.stopImmediatePropagation()}_handleResize(o){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>o;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const o=document.createElement("div");return o.setAttribute("role","listitem"),o.tabIndex=-1,this._refreshRowDimensions(o),o}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let o=0;o<this._terminal.rows;o++)this._refreshRowDimensions(this._rowElements[o])}}_refreshRowDimensions(o){o.style.height=`${this._renderService.dimensions.css.cell.height}px`}};d.AccessibilityManager=h=g([S(1,n.IRenderService)],h)},3614:(B,d)=>{function m(y){return y.replace(/\r?\n/g,"\r")}function g(y,A){return A?"\x1B[200~"+y+"\x1B[201~":y}function S(y,A,T,E){y=g(y=m(y),T.decPrivateModes.bracketedPasteMode&&E.rawOptions.ignoreBracketedPasteMode!==!0),T.triggerDataEvent(y,!0),A.value=""}function f(y,A,T){const E=T.getBoundingClientRect(),n=y.clientX-E.left-10,_=y.clientY-E.top-10;A.style.width="20px",A.style.height="20px",A.style.left=`${n}px`,A.style.top=`${_}px`,A.style.zIndex="1000",A.focus()}Object.defineProperty(d,"__esModule",{value:!0}),d.rightClickHandler=d.moveTextAreaUnderMouseCursor=d.paste=d.handlePasteEvent=d.copyHandler=d.bracketTextForPaste=d.prepareTextForTerminal=void 0,d.prepareTextForTerminal=m,d.bracketTextForPaste=g,d.copyHandler=function(y,A){y.clipboardData&&y.clipboardData.setData("text/plain",A.selectionText),y.preventDefault()},d.handlePasteEvent=function(y,A,T,E){y.stopPropagation(),y.clipboardData&&S(y.clipboardData.getData("text/plain"),A,T,E)},d.paste=S,d.moveTextAreaUnderMouseCursor=f,d.rightClickHandler=function(y,A,T,E,n){f(y,A,T),n&&E.rightClickSelect(y),A.value=E.selectionText,A.select()}},7239:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorContrastCache=void 0;const g=m(1505);d.ColorContrastCache=class{constructor(){this._color=new g.TwoKeyMap,this._css=new g.TwoKeyMap}setCss(S,f,y){this._css.set(S,f,y)}getCss(S,f){return this._css.get(S,f)}setColor(S,f,y){this._color.set(S,f,y)}getColor(S,f){return this._color.get(S,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.addDisposableDomListener=void 0,d.addDisposableDomListener=function(m,g,S,f){m.addEventListener(g,S,f);let y=!1;return{dispose:()=>{y||(y=!0,m.removeEventListener(g,S,f))}}}},6465:function(B,d,m){var g=this&&this.__decorate||function(n,_,h,o){var b,C=arguments.length,R=C<3?_:o===null?o=Object.getOwnPropertyDescriptor(_,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(n,_,h,o);else for(var k=n.length-1;k>=0;k--)(b=n[k])&&(R=(C<3?b(R):C>3?b(_,h,R):b(_,h))||R);return C>3&&R&&Object.defineProperty(_,h,R),R},S=this&&this.__param||function(n,_){return function(h,o){_(h,o,n)}};Object.defineProperty(d,"__esModule",{value:!0}),d.Linkifier2=void 0;const f=m(3656),y=m(8460),A=m(844),T=m(2585);let E=d.Linkifier2=class extends A.Disposable{get currentLink(){return this._currentLink}constructor(n){super(),this._bufferService=n,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new y.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new y.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,A.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,A.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(n){return this._linkProviders.push(n),{dispose:()=>{const _=this._linkProviders.indexOf(n);_!==-1&&this._linkProviders.splice(_,1)}}}attachToDom(n,_,h){this._element=n,this._mouseService=_,this._renderService=h,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(n){if(this._lastMouseEvent=n,!this._element||!this._mouseService)return;const _=this._positionFromMouseEvent(n,this._element,this._mouseService);if(!_)return;this._isMouseOut=!1;const h=n.composedPath();for(let o=0;o<h.length;o++){const b=h[o];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&_.x===this._lastBufferCell.x&&_.y===this._lastBufferCell.y||(this._handleHover(_),this._lastBufferCell=_)}_handleHover(n){if(this._activeLine!==n.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(n,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,n)||(this._clearCurrentLink(),this._askForLink(n,!0))}_askForLink(n,_){var h,o;this._activeProviderReplies&&_||((h=this._activeProviderReplies)===null||h===void 0||h.forEach((C=>{C?.forEach((R=>{R.link.dispose&&R.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=n.y);let b=!1;for(const[C,R]of this._linkProviders.entries())_?!((o=this._activeProviderReplies)===null||o===void 0)&&o.get(C)&&(b=this._checkLinkProviderResult(C,n,b)):R.provideLinks(n.y,(k=>{var x,D;if(this._isMouseOut)return;const q=k?.map((F=>({link:F})));(x=this._activeProviderReplies)===null||x===void 0||x.set(C,q),b=this._checkLinkProviderResult(C,n,b),((D=this._activeProviderReplies)===null||D===void 0?void 0:D.size)===this._linkProviders.length&&this._removeIntersectingLinks(n.y,this._activeProviderReplies)}))}_removeIntersectingLinks(n,_){const h=new Set;for(let o=0;o<_.size;o++){const b=_.get(o);if(b)for(let C=0;C<b.length;C++){const R=b[C],k=R.link.range.start.y<n?0:R.link.range.start.x,x=R.link.range.end.y>n?this._bufferService.cols:R.link.range.end.x;for(let D=k;D<=x;D++){if(h.has(D)){b.splice(C--,1);break}h.add(D)}}}}_checkLinkProviderResult(n,_,h){var o;if(!this._activeProviderReplies)return h;const b=this._activeProviderReplies.get(n);let C=!1;for(let R=0;R<n;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(C=!0);if(!C&&b){const R=b.find((k=>this._linkAtPosition(k.link,_)));R&&(h=!0,this._handleNewLink(R))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(let R=0;R<this._activeProviderReplies.size;R++){const k=(o=this._activeProviderReplies.get(R))===null||o===void 0?void 0:o.find((x=>this._linkAtPosition(x.link,_)));if(k){h=!0,this._handleNewLink(k);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(n){if(!this._element||!this._mouseService||!this._currentLink)return;const _=this._positionFromMouseEvent(n,this._element,this._mouseService);_&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,_)&&this._currentLink.link.activate(n,this._currentLink.link.text)}_clearCurrentLink(n,_){this._element&&this._currentLink&&this._lastMouseEvent&&(!n||!_||this._currentLink.link.range.start.y>=n&&this._currentLink.link.range.end.y<=_)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,A.disposeArray)(this._linkCacheDisposables))}_handleNewLink(n){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const _=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);_&&this._linkAtPosition(n.link,_)&&(this._currentLink=n,this._currentLink.state={decorations:{underline:n.link.decorations===void 0||n.link.decorations.underline,pointerCursor:n.link.decorations===void 0||n.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,n.link,this._lastMouseEvent),n.link.decorations={},Object.defineProperties(n.link.decorations,{pointerCursor:{get:()=>{var h,o;return(o=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||o===void 0?void 0:o.decorations.pointerCursor},set:h=>{var o,b;!((o=this._currentLink)===null||o===void 0)&&o.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",h)))}},underline:{get:()=>{var h,o;return(o=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||o===void 0?void 0:o.decorations.underline},set:h=>{var o,b,C;!((o=this._currentLink)===null||o===void 0)&&o.state&&((C=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||C===void 0?void 0:C.decorations.underline)!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(n.link,h))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((h=>{if(!this._currentLink)return;const o=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(o,b),this._lastMouseEvent&&this._element)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}}))))}_linkHover(n,_,h){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!0),this._currentLink.state.decorations.pointerCursor&&n.classList.add("xterm-cursor-pointer")),_.hover&&_.hover(h,_.text)}_fireUnderlineEvent(n,_){const h=n.range,o=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-o-1,h.end.x,h.end.y-o-1,void 0);(_?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(n,_,h){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!1),this._currentLink.state.decorations.pointerCursor&&n.classList.remove("xterm-cursor-pointer")),_.leave&&_.leave(h,_.text)}_linkAtPosition(n,_){const h=n.range.start.y*this._bufferService.cols+n.range.start.x,o=n.range.end.y*this._bufferService.cols+n.range.end.x,b=_.y*this._bufferService.cols+_.x;return h<=b&&b<=o}_positionFromMouseEvent(n,_,h){const o=h.getCoords(n,_,this._bufferService.cols,this._bufferService.rows);if(o)return{x:o[0],y:o[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(n,_,h,o,b){return{x1:n,y1:_,x2:h,y2:o,cols:this._bufferService.cols,fg:b}}};d.Linkifier2=E=g([S(0,T.IBufferService)],E)},9042:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.tooMuchOutput=d.promptLabel=void 0,d.promptLabel="Terminal input",d.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(B,d,m){var g=this&&this.__decorate||function(E,n,_,h){var o,b=arguments.length,C=b<3?n:h===null?h=Object.getOwnPropertyDescriptor(n,_):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(E,n,_,h);else for(var R=E.length-1;R>=0;R--)(o=E[R])&&(C=(b<3?o(C):b>3?o(n,_,C):o(n,_))||C);return b>3&&C&&Object.defineProperty(n,_,C),C},S=this&&this.__param||function(E,n){return function(_,h){n(_,h,E)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OscLinkProvider=void 0;const f=m(511),y=m(2585);let A=d.OscLinkProvider=class{constructor(E,n,_){this._bufferService=E,this._optionsService=n,this._oscLinkService=_}provideLinks(E,n){var _;const h=this._bufferService.buffer.lines.get(E-1);if(!h)return void n(void 0);const o=[],b=this._optionsService.rawOptions.linkHandler,C=new f.CellData,R=h.getTrimmedLength();let k=-1,x=-1,D=!1;for(let q=0;q<R;q++)if(x!==-1||h.hasContent(q)){if(h.loadCell(q,C),C.hasExtendedAttrs()&&C.extended.urlId){if(x===-1){x=q,k=C.extended.urlId;continue}D=C.extended.urlId!==k}else x!==-1&&(D=!0);if(D||x!==-1&&q===R-1){const F=(_=this._oscLinkService.getLinkData(k))===null||_===void 0?void 0:_.uri;if(F){const U={start:{x:x+1,y:E},end:{x:q+(D||q!==R-1?0:1),y:E}};let W=!1;if(!b?.allowNonHttpProtocols)try{const se=new URL(F);["http:","https:"].includes(se.protocol)||(W=!0)}catch{W=!0}W||o.push({text:F,range:U,activate:(se,re)=>b?b.activate(se,re,U):T(0,re),hover:(se,re)=>{var P;return(P=b?.hover)===null||P===void 0?void 0:P.call(b,se,re,U)},leave:(se,re)=>{var P;return(P=b?.leave)===null||P===void 0?void 0:P.call(b,se,re,U)}})}D=!1,C.hasExtendedAttrs()&&C.extended.urlId?(x=q,k=C.extended.urlId):(x=-1,k=-1)}}n(o)}};function T(E,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const _=window.open();if(_){try{_.opener=null}catch{}_.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}d.OscLinkProvider=A=g([S(0,y.IBufferService),S(1,y.IOptionsService),S(2,y.IOscLinkService)],A)},6193:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderDebouncer=void 0,d.RenderDebouncer=class{constructor(m,g){this._parentWindow=m,this._renderCallback=g,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(m){return this._refreshCallbacks.push(m),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(m,g,S){this._rowCount=S,m=m!==void 0?m:0,g=g!==void 0?g:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,m):m,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,g):g,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const m=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(m,g),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const m of this._refreshCallbacks)m(0);this._refreshCallbacks=[]}}},5596:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScreenDprMonitor=void 0;const g=m(844);class S extends g.Disposable{constructor(y){super(),this._parentWindow=y,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,g.toDisposable)((()=>{this.clearListener()})))}setListener(y){this._listener&&this.clearListener(),this._listener=y,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var y;this._outerListener&&((y=this._resolutionMediaMatchList)===null||y===void 0||y.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}d.ScreenDprMonitor=S},3236:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Terminal=void 0;const g=m(3614),S=m(3656),f=m(6465),y=m(9042),A=m(3730),T=m(1680),E=m(3107),n=m(5744),_=m(2950),h=m(1296),o=m(428),b=m(4269),C=m(5114),R=m(8934),k=m(3230),x=m(9312),D=m(4725),q=m(6731),F=m(8055),U=m(8969),W=m(8460),se=m(844),re=m(6114),P=m(8437),K=m(2584),j=m(7399),H=m(5941),I=m(9074),N=m(2585),G=m(5435),ee=m(4567),oe=typeof window<"u"?window.document:null;class ue extends U.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(O={}){super(O),this.browser=re,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new se.MutableDisposable),this._onCursorMove=this.register(new W.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new W.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new W.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new W.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new W.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new W.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new W.EventEmitter),this._onBlur=this.register(new W.EventEmitter),this._onA11yCharEmitter=this.register(new W.EventEmitter),this._onA11yTabEmitter=this.register(new W.EventEmitter),this._onWillOpen=this.register(new W.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(A.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(N.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows((($,ie)=>this.refresh($,ie)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport(($=>this._reportWindowsOptions($)))),this.register(this._inputHandler.onColor(($=>this._handleColorEvent($)))),this.register((0,W.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,W.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,W.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,W.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(($=>this._afterResize($.cols,$.rows)))),this.register((0,se.toDisposable)((()=>{var $,ie;this._customKeyEventHandler=void 0,(ie=($=this.element)===null||$===void 0?void 0:$.parentNode)===null||ie===void 0||ie.removeChild(this.element)})))}_handleColorEvent(O){if(this._themeService)for(const $ of O){let ie,ae="";switch($.index){case 256:ie="foreground",ae="10";break;case 257:ie="background",ae="11";break;case 258:ie="cursor",ae="12";break;default:ie="ansi",ae="4;"+$.index}switch($.type){case 0:const ve=F.color.toColorRGB(ie==="ansi"?this._themeService.colors.ansi[$.index]:this._themeService.colors[ie]);this.coreService.triggerDataEvent(`${K.C0.ESC}]${ae};${(0,H.toRgbString)(ve)}${K.C1_ESCAPED.ST}`);break;case 1:if(ie==="ansi")this._themeService.modifyColors((fe=>fe.ansi[$.index]=F.rgba.toColor(...$.color)));else{const fe=ie;this._themeService.modifyColors((ke=>ke[fe]=F.rgba.toColor(...$.color)))}break;case 2:this._themeService.restoreColor($.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(O){O?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(O){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[I"),this.updateCursorStyle(O),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var O;return(O=this.textarea)===null||O===void 0?void 0:O.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const O=this.buffer.ybase+this.buffer.y,$=this.buffer.lines.get(O);if(!$)return;const ie=Math.min(this.buffer.x,this.cols-1),ae=this._renderService.dimensions.css.cell.height,ve=$.getWidth(ie),fe=this._renderService.dimensions.css.cell.width*ve,ke=this.buffer.y*this._renderService.dimensions.css.cell.height,Ie=ie*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ie+"px",this.textarea.style.top=ke+"px",this.textarea.style.width=fe+"px",this.textarea.style.height=ae+"px",this.textarea.style.lineHeight=ae+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,S.addDisposableDomListener)(this.element,"copy",($=>{this.hasSelection()&&(0,g.copyHandler)($,this._selectionService)})));const O=$=>(0,g.handlePasteEvent)($,this.textarea,this.coreService,this.optionsService);this.register((0,S.addDisposableDomListener)(this.textarea,"paste",O)),this.register((0,S.addDisposableDomListener)(this.element,"paste",O)),re.isFirefox?this.register((0,S.addDisposableDomListener)(this.element,"mousedown",($=>{$.button===2&&(0,g.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,S.addDisposableDomListener)(this.element,"contextmenu",($=>{(0,g.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),re.isLinux&&this.register((0,S.addDisposableDomListener)(this.element,"auxclick",($=>{$.button===1&&(0,g.moveTextAreaUnderMouseCursor)($,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,S.addDisposableDomListener)(this.textarea,"keyup",(O=>this._keyUp(O)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"keydown",(O=>this._keyDown(O)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"keypress",(O=>this._keyPress(O)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionupdate",(O=>this._compositionHelper.compositionupdate(O)))),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,S.addDisposableDomListener)(this.textarea,"input",(O=>this._inputEvent(O)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(O){var $;if(!O)throw new Error("Terminal requires a parent element.");O.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=O.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),O.appendChild(this.element);const ie=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ie.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ie.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),re.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,($=this._document.defaultView)!==null&&$!==void 0?$:window),this._instantiationService.setService(D.ICoreBrowserService,this._coreBrowserService),this.register((0,S.addDisposableDomListener)(this.textarea,"focus",(ae=>this._handleTextAreaFocus(ae)))),this.register((0,S.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(o.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(D.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(q.ThemeService),this._instantiationService.setService(D.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(D.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(D.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ae=>this._onRender.fire(ae)))),this.onResize((ae=>this._renderService.resize(ae.cols,ae.rows))),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(_.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ie);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(D.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(T.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ae=>this.scrollLines(ae.amount,ae.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(D.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ae=>this.scrollLines(ae.amount,ae.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ae=>this._renderService.handleSelectionChanged(ae.start,ae.end,ae.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ae=>{this.textarea.value=ae,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ae=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,S.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(E.BufferDecorationRenderer,this.screenElement)),this.register((0,S.addDisposableDomListener)(this.element,"mousedown",(ae=>this._selectionService.handleMouseDown(ae)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ae=>this._handleScreenReaderModeOptionChange(ae)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ae=>{!this._overviewRulerRenderer&&ae&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(h.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const O=this,$=this.element;function ie(fe){const ke=O._mouseService.getMouseReportCoords(fe,O.screenElement);if(!ke)return!1;let Ie,nt;switch(fe.overrideType||fe.type){case"mousemove":nt=32,fe.buttons===void 0?(Ie=3,fe.button!==void 0&&(Ie=fe.button<3?fe.button:3)):Ie=1&fe.buttons?0:4&fe.buttons?1:2&fe.buttons?2:3;break;case"mouseup":nt=0,Ie=fe.button<3?fe.button:3;break;case"mousedown":nt=1,Ie=fe.button<3?fe.button:3;break;case"wheel":if(O.viewport.getLinesScrolled(fe)===0)return!1;nt=fe.deltaY<0?0:1,Ie=4;break;default:return!1}return!(nt===void 0||Ie===void 0||Ie>4)&&O.coreMouseService.triggerMouseEvent({col:ke.col,row:ke.row,x:ke.x,y:ke.y,button:Ie,action:nt,ctrl:fe.ctrlKey,alt:fe.altKey,shift:fe.shiftKey})}const ae={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ve={mouseup:fe=>(ie(fe),fe.buttons||(this._document.removeEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.removeEventListener("mousemove",ae.mousedrag)),this.cancel(fe)),wheel:fe=>(ie(fe),this.cancel(fe,!0)),mousedrag:fe=>{fe.buttons&&ie(fe)},mousemove:fe=>{fe.buttons||ie(fe)}};this.register(this.coreMouseService.onProtocolChange((fe=>{fe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(fe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&fe?ae.mousemove||($.addEventListener("mousemove",ve.mousemove),ae.mousemove=ve.mousemove):($.removeEventListener("mousemove",ae.mousemove),ae.mousemove=null),16&fe?ae.wheel||($.addEventListener("wheel",ve.wheel,{passive:!1}),ae.wheel=ve.wheel):($.removeEventListener("wheel",ae.wheel),ae.wheel=null),2&fe?ae.mouseup||($.addEventListener("mouseup",ve.mouseup),ae.mouseup=ve.mouseup):(this._document.removeEventListener("mouseup",ae.mouseup),$.removeEventListener("mouseup",ae.mouseup),ae.mouseup=null),4&fe?ae.mousedrag||(ae.mousedrag=ve.mousedrag):(this._document.removeEventListener("mousemove",ae.mousedrag),ae.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,S.addDisposableDomListener)($,"mousedown",(fe=>{if(fe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(fe))return ie(fe),ae.mouseup&&this._document.addEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.addEventListener("mousemove",ae.mousedrag),this.cancel(fe)}))),this.register((0,S.addDisposableDomListener)($,"wheel",(fe=>{if(!ae.wheel){if(!this.buffer.hasScrollback){const ke=this.viewport.getLinesScrolled(fe);if(ke===0)return;const Ie=K.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(fe.deltaY<0?"A":"B");let nt="";for(let Zt=0;Zt<Math.abs(ke);Zt++)nt+=Ie;return this.coreService.triggerDataEvent(nt,!0),this.cancel(fe,!0)}return this.viewport.handleWheel(fe)?this.cancel(fe):void 0}}),{passive:!1})),this.register((0,S.addDisposableDomListener)($,"touchstart",(fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(fe),this.cancel(fe)}),{passive:!0})),this.register((0,S.addDisposableDomListener)($,"touchmove",(fe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(fe)?void 0:this.cancel(fe)}),{passive:!1}))}refresh(O,$){var ie;(ie=this._renderService)===null||ie===void 0||ie.refreshRows(O,$)}updateCursorStyle(O){var $;!(($=this._selectionService)===null||$===void 0)&&$.shouldColumnSelect(O)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(O,$,ie=0){var ae;ie===1?(super.scrollLines(O,$,ie),this.refresh(0,this.rows-1)):(ae=this.viewport)===null||ae===void 0||ae.scrollLines(O)}paste(O){(0,g.paste)(O,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(O){this._customKeyEventHandler=O}registerLinkProvider(O){return this.linkifier2.registerLinkProvider(O)}registerCharacterJoiner(O){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const $=this._characterJoinerService.register(O);return this.refresh(0,this.rows-1),$}deregisterCharacterJoiner(O){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(O)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(O){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+O)}registerDecoration(O){return this._decorationService.registerDecoration(O)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(O,$,ie){this._selectionService.setSelection(O,$,ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var O;(O=this._selectionService)===null||O===void 0||O.clearSelection()}selectAll(){var O;(O=this._selectionService)===null||O===void 0||O.selectAll()}selectLines(O,$){var ie;(ie=this._selectionService)===null||ie===void 0||ie.selectLines(O,$)}_keyDown(O){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1)return!1;const $=this.browser.isMac&&this.options.macOptionIsMeta&&O.altKey;if(!$&&!this._compositionHelper.keydown(O))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;$||O.key!=="Dead"&&O.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ie=(0,j.evaluateKeyboardEvent)(O,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(O),ie.type===3||ie.type===2){const ae=this.rows-1;return this.scrollLines(ie.type===2?-ae:ae),this.cancel(O,!0)}return ie.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,O)||(ie.cancel&&this.cancel(O,!0),!ie.key||!!(O.key&&!O.ctrlKey&&!O.altKey&&!O.metaKey&&O.key.length===1&&O.key.charCodeAt(0)>=65&&O.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ie.key!==K.C0.ETX&&ie.key!==K.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ie.key,domEvent:O}),this._showCursor(),this.coreService.triggerDataEvent(ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||O.altKey||O.ctrlKey?this.cancel(O,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(O,$){const ie=O.isMac&&!this.options.macOptionIsMeta&&$.altKey&&!$.ctrlKey&&!$.metaKey||O.isWindows&&$.altKey&&$.ctrlKey&&!$.metaKey||O.isWindows&&$.getModifierState("AltGraph");return $.type==="keypress"?ie:ie&&(!$.keyCode||$.keyCode>47)}_keyUp(O){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1||((function($){return $.keyCode===16||$.keyCode===17||$.keyCode===18})(O)||this.focus(),this.updateCursorStyle(O),this._keyPressHandled=!1)}_keyPress(O){let $;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1)return!1;if(this.cancel(O),O.charCode)$=O.charCode;else if(O.which===null||O.which===void 0)$=O.keyCode;else{if(O.which===0||O.charCode===0)return!1;$=O.which}return!(!$||(O.altKey||O.ctrlKey||O.metaKey)&&!this._isThirdLevelShift(this.browser,O)||($=String.fromCharCode($),this._onKey.fire({key:$,domEvent:O}),this._showCursor(),this.coreService.triggerDataEvent($,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(O){if(O.data&&O.inputType==="insertText"&&(!O.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const $=O.data;return this.coreService.triggerDataEvent($,!0),this.cancel(O),!0}return!1}resize(O,$){O!==this.cols||$!==this.rows?super.resize(O,$):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(O,$){var ie,ae;(ie=this._charSizeService)===null||ie===void 0||ie.measure(),(ae=this.viewport)===null||ae===void 0||ae.syncScrollArea(!0)}clear(){var O;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let $=1;$<this.rows;$++)this.buffer.lines.push(this.buffer.getBlankLine(P.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(O=this.viewport)===null||O===void 0||O.reset(),this.refresh(0,this.rows-1)}}reset(){var O,$;this.options.rows=this.rows,this.options.cols=this.cols;const ie=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)===null||O===void 0||O.reset(),this._decorationService.reset(),($=this.viewport)===null||$===void 0||$.reset(),this._customKeyEventHandler=ie,this.refresh(0,this.rows-1)}clearTextureAtlas(){var O;(O=this._renderService)===null||O===void 0||O.clearTextureAtlas()}_reportFocus(){var O;!((O=this.element)===null||O===void 0)&&O.classList.contains("focus")?this.coreService.triggerDataEvent(K.C0.ESC+"[I"):this.coreService.triggerDataEvent(K.C0.ESC+"[O")}_reportWindowsOptions(O){if(this._renderService)switch(O){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const $=this._renderService.dimensions.css.canvas.width.toFixed(0),ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${K.C0.ESC}[4;${ie};${$}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ae=this._renderService.dimensions.css.cell.width.toFixed(0),ve=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${K.C0.ESC}[6;${ve};${ae}t`)}}cancel(O,$){if(this.options.cancelEvents||$)return O.preventDefault(),O.stopPropagation(),!1}}d.Terminal=ue},9924:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TimeBasedDebouncer=void 0,d.TimeBasedDebouncer=class{constructor(m,g=1e3){this._renderCallback=m,this._debounceThresholdMS=g,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(m,g,S){this._rowCount=S,m=m!==void 0?m:0,g=g!==void 0?g:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,m):m,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,g):g;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const y=f-this._lastRefreshMs,A=this._debounceThresholdMS-y;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),A)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const m=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(m,g)}}},1680:function(B,d,m){var g=this&&this.__decorate||function(_,h,o,b){var C,R=arguments.length,k=R<3?h:b===null?b=Object.getOwnPropertyDescriptor(h,o):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,h,o,b);else for(var x=_.length-1;x>=0;x--)(C=_[x])&&(k=(R<3?C(k):R>3?C(h,o,k):C(h,o))||k);return R>3&&k&&Object.defineProperty(h,o,k),k},S=this&&this.__param||function(_,h){return function(o,b){h(o,b,_)}};Object.defineProperty(d,"__esModule",{value:!0}),d.Viewport=void 0;const f=m(3656),y=m(4725),A=m(8460),T=m(844),E=m(2585);let n=d.Viewport=class extends T.Disposable{constructor(_,h,o,b,C,R,k,x){super(),this._viewportElement=_,this._scrollArea=h,this._bufferService=o,this._optionsService=b,this._charSizeService=C,this._renderService=R,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new A.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((D=>this._activeBuffer=D.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((D=>this._renderDimensions=D))),this._handleThemeChange(x.colors),this.register(x.onChangeColors((D=>this._handleThemeChange(D)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(_){this._viewportElement.style.backgroundColor=_.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(_){if(_)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const h=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==h&&(this._lastRecordedBufferHeight=h,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const _=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==_&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=_),this._refreshAnimationFrame=null}syncScrollArea(_=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(_);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(_)}_handleScroll(_){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const h=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:h,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const _=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(_*(this._smoothScrollState.target-this._smoothScrollState.origin)),_<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(_,h){const o=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(h<0&&this._viewportElement.scrollTop!==0||h>0&&o<this._lastRecordedBufferHeight)||(_.cancelable&&_.preventDefault(),!1)}handleWheel(_){const h=this._getPixelsScrolled(_);return h!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+h:this._smoothScrollState.target+=h,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=h,this._bubbleScroll(_,h))}scrollLines(_){if(_!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const h=_*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+h,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:_,suppressScrollEvent:!1})}_getPixelsScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let h=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_LINE?h*=this._currentRowHeight:_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(h*=this._currentRowHeight*this._bufferService.rows),h}getBufferElements(_,h){var o;let b,C="";const R=[],k=h??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let D=_;D<k;D++){const q=x.get(D);if(!q)continue;const F=(o=x.get(D+1))===null||o===void 0?void 0:o.isWrapped;if(C+=q.translateToString(!F),!F||D===x.length-1){const U=document.createElement("div");U.textContent=C,R.push(U),C.length>0&&(b=U),C=""}}return{bufferElements:R,cursorElement:b}}getLinesScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let h=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(h/=this._currentRowHeight+0,this._wheelPartialScroll+=h,h=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(h*=this._bufferService.rows),h}_applyScrollModifier(_,h){const o=this._optionsService.rawOptions.fastScrollModifier;return o==="alt"&&h.altKey||o==="ctrl"&&h.ctrlKey||o==="shift"&&h.shiftKey?_*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:_*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(_){this._lastTouchY=_.touches[0].pageY}handleTouchMove(_){const h=this._lastTouchY-_.touches[0].pageY;return this._lastTouchY=_.touches[0].pageY,h!==0&&(this._viewportElement.scrollTop+=h,this._bubbleScroll(_,h))}};d.Viewport=n=g([S(2,E.IBufferService),S(3,E.IOptionsService),S(4,y.ICharSizeService),S(5,y.IRenderService),S(6,y.ICoreBrowserService),S(7,y.IThemeService)],n)},3107:function(B,d,m){var g=this&&this.__decorate||function(n,_,h,o){var b,C=arguments.length,R=C<3?_:o===null?o=Object.getOwnPropertyDescriptor(_,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(n,_,h,o);else for(var k=n.length-1;k>=0;k--)(b=n[k])&&(R=(C<3?b(R):C>3?b(_,h,R):b(_,h))||R);return C>3&&R&&Object.defineProperty(_,h,R),R},S=this&&this.__param||function(n,_){return function(h,o){_(h,o,n)}};Object.defineProperty(d,"__esModule",{value:!0}),d.BufferDecorationRenderer=void 0;const f=m(3656),y=m(4725),A=m(844),T=m(2585);let E=d.BufferDecorationRenderer=class extends A.Disposable{constructor(n,_,h,o){super(),this._screenElement=n,this._bufferService=_,this._decorationService=h,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,f.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((b=>this._removeDecoration(b)))),this.register((0,A.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const n of this._decorationService.decorations)this._renderDecoration(n);this._dimensionsChanged=!1}_renderDecoration(n){this._refreshStyle(n),this._dimensionsChanged&&this._refreshXPosition(n)}_createElement(n){var _,h;const o=document.createElement("div");o.classList.add("xterm-decoration"),o.classList.toggle("xterm-decoration-top-layer",((_=n?.options)===null||_===void 0?void 0:_.layer)==="top"),o.style.width=`${Math.round((n.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,o.style.height=(n.options.height||1)*this._renderService.dimensions.css.cell.height+"px",o.style.top=(n.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",o.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(h=n.options.x)!==null&&h!==void 0?h:0;return b&&b>this._bufferService.cols&&(o.style.display="none"),this._refreshXPosition(n,o),o}_refreshStyle(n){const _=n.marker.line-this._bufferService.buffers.active.ydisp;if(_<0||_>=this._bufferService.rows)n.element&&(n.element.style.display="none",n.onRenderEmitter.fire(n.element));else{let h=this._decorationElements.get(n);h||(h=this._createElement(n),n.element=h,this._decorationElements.set(n,h),this._container.appendChild(h),n.onDispose((()=>{this._decorationElements.delete(n),h.remove()}))),h.style.top=_*this._renderService.dimensions.css.cell.height+"px",h.style.display=this._altBufferIsActive?"none":"block",n.onRenderEmitter.fire(h)}}_refreshXPosition(n,_=n.element){var h;if(!_)return;const o=(h=n.options.x)!==null&&h!==void 0?h:0;(n.options.anchor||"left")==="right"?_.style.right=o?o*this._renderService.dimensions.css.cell.width+"px":"":_.style.left=o?o*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(n){var _;(_=this._decorationElements.get(n))===null||_===void 0||_.remove(),this._decorationElements.delete(n),n.dispose()}};d.BufferDecorationRenderer=E=g([S(1,T.IBufferService),S(2,T.IDecorationService),S(3,y.IRenderService)],E)},5871:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorZoneStore=void 0,d.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(m){if(m.options.overviewRulerOptions){for(const g of this._zones)if(g.color===m.options.overviewRulerOptions.color&&g.position===m.options.overviewRulerOptions.position){if(this._lineIntersectsZone(g,m.marker.line))return;if(this._lineAdjacentToZone(g,m.marker.line,m.options.overviewRulerOptions.position))return void this._addLineToZone(g,m.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=m.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=m.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=m.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=m.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:m.options.overviewRulerOptions.color,position:m.options.overviewRulerOptions.position,startBufferLine:m.marker.line,endBufferLine:m.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(m){this._linePadding=m}_lineIntersectsZone(m,g){return g>=m.startBufferLine&&g<=m.endBufferLine}_lineAdjacentToZone(m,g,S){return g>=m.startBufferLine-this._linePadding[S||"full"]&&g<=m.endBufferLine+this._linePadding[S||"full"]}_addLineToZone(m,g){m.startBufferLine=Math.min(m.startBufferLine,g),m.endBufferLine=Math.max(m.endBufferLine,g)}}},5744:function(B,d,m){var g=this&&this.__decorate||function(b,C,R,k){var x,D=arguments.length,q=D<3?C:k===null?k=Object.getOwnPropertyDescriptor(C,R):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(b,C,R,k);else for(var F=b.length-1;F>=0;F--)(x=b[F])&&(q=(D<3?x(q):D>3?x(C,R,q):x(C,R))||q);return D>3&&q&&Object.defineProperty(C,R,q),q},S=this&&this.__param||function(b,C){return function(R,k){C(R,k,b)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OverviewRulerRenderer=void 0;const f=m(5871),y=m(3656),A=m(4725),T=m(844),E=m(2585),n={full:0,left:0,center:0,right:0},_={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let o=d.OverviewRulerRenderer=class extends T.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,C,R,k,x,D,q){var F;super(),this._viewportElement=b,this._screenElement=C,this._bufferService=R,this._decorationService=k,this._renderService=x,this._optionsService=D,this._coreBrowseService=q,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(F=this._viewportElement.parentElement)===null||F===void 0||F.insertBefore(this._canvas,this._viewportElement);const U=this._canvas.getContext("2d");if(!U)throw new Error("Ctx cannot be null");this._ctx=U,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,T.toDisposable)((()=>{var W;(W=this._canvas)===null||W===void 0||W.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,y.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);_.full=this._canvas.width,_.left=b,_.center=C,_.right=b,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=_.left,h.right=_.left+_.center}_refreshDrawHeightConstants(){n.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,C=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);n.left=C,n.center=C,n.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const C of b)C.position!=="full"&&this._renderColorZone(C);for(const C of b)C.position==="full"&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(h[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-n[b.position||"full"]/2),_[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+n[b.position||"full"]))}_queueRefresh(b,C){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};d.OverviewRulerRenderer=o=g([S(2,E.IBufferService),S(3,E.IDecorationService),S(4,A.IRenderService),S(5,E.IOptionsService),S(6,A.ICoreBrowserService)],o)},2950:function(B,d,m){var g=this&&this.__decorate||function(E,n,_,h){var o,b=arguments.length,C=b<3?n:h===null?h=Object.getOwnPropertyDescriptor(n,_):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(E,n,_,h);else for(var R=E.length-1;R>=0;R--)(o=E[R])&&(C=(b<3?o(C):b>3?o(n,_,C):o(n,_))||C);return b>3&&C&&Object.defineProperty(n,_,C),C},S=this&&this.__param||function(E,n){return function(_,h){n(_,h,E)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CompositionHelper=void 0;const f=m(4725),y=m(2585),A=m(2584);let T=d.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(E,n,_,h,o,b){this._textarea=E,this._compositionView=n,this._bufferService=_,this._optionsService=h,this._coreService=o,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(E){this._compositionView.textContent=E.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(E){if(this._isComposing||this._isSendingComposition){if(E.keyCode===229||E.keyCode===16||E.keyCode===17||E.keyCode===18)return!1;this._finalizeComposition(!1)}return E.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(E){if(this._compositionView.classList.remove("active"),this._isComposing=!1,E){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let _;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,_=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),_.length>0&&this._coreService.triggerDataEvent(_,!0)}}),0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const E=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const n=this._textarea.value,_=n.replace(E,"");this._dataAlreadySent=_,n.length>E.length?this._coreService.triggerDataEvent(_,!0):n.length<E.length?this._coreService.triggerDataEvent(`${A.C0.DEL}`,!0):n.length===E.length&&n!==E&&this._coreService.triggerDataEvent(n,!0)}}),0)}updateCompositionElements(E){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),_=this._renderService.dimensions.css.cell.height,h=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=_+"px",this._compositionView.style.lineHeight=_+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}E||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};d.CompositionHelper=T=g([S(2,y.IBufferService),S(3,y.IOptionsService),S(4,y.ICoreService),S(5,f.IRenderService)],T)},9806:(B,d)=>{function m(g,S,f){const y=f.getBoundingClientRect(),A=g.getComputedStyle(f),T=parseInt(A.getPropertyValue("padding-left")),E=parseInt(A.getPropertyValue("padding-top"));return[S.clientX-y.left-T,S.clientY-y.top-E]}Object.defineProperty(d,"__esModule",{value:!0}),d.getCoords=d.getCoordsRelativeToElement=void 0,d.getCoordsRelativeToElement=m,d.getCoords=function(g,S,f,y,A,T,E,n,_){if(!T)return;const h=m(g,S,f);return h?(h[0]=Math.ceil((h[0]+(_?E/2:0))/E),h[1]=Math.ceil(h[1]/n),h[0]=Math.min(Math.max(h[0],1),y+(_?1:0)),h[1]=Math.min(Math.max(h[1],1),A),h):void 0}},9504:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.moveToCellSequence=void 0;const g=m(2584);function S(n,_,h,o){const b=n-f(n,h),C=_-f(_,h),R=Math.abs(b-C)-(function(k,x,D){let q=0;const F=k-f(k,D),U=x-f(x,D);for(let W=0;W<Math.abs(F-U);W++){const se=y(k,x)==="A"?-1:1,re=D.buffer.lines.get(F+se*W);re?.isWrapped&&q++}return q})(n,_,h);return E(R,T(y(n,_),o))}function f(n,_){let h=0,o=_.buffer.lines.get(n),b=o?.isWrapped;for(;b&&n>=0&&n<_.rows;)h++,o=_.buffer.lines.get(--n),b=o?.isWrapped;return h}function y(n,_){return n>_?"A":"B"}function A(n,_,h,o,b,C){let R=n,k=_,x="";for(;R!==h||k!==o;)R+=b?1:-1,b&&R>C.cols-1?(x+=C.buffer.translateBufferLineToString(k,!1,n,R),R=0,n=0,k++):!b&&R<0&&(x+=C.buffer.translateBufferLineToString(k,!1,0,n+1),R=C.cols-1,n=R,k--);return x+C.buffer.translateBufferLineToString(k,!1,n,R)}function T(n,_){const h=_?"O":"[";return g.C0.ESC+h+n}function E(n,_){n=Math.floor(n);let h="";for(let o=0;o<n;o++)h+=_;return h}d.moveToCellSequence=function(n,_,h,o){const b=h.buffer.x,C=h.buffer.y;if(!h.buffer.hasScrollback)return(function(x,D,q,F,U,W){return S(D,F,U,W).length===0?"":E(A(x,D,x,D-f(D,U),!1,U).length,T("D",W))})(b,C,0,_,h,o)+S(C,_,h,o)+(function(x,D,q,F,U,W){let se;se=S(D,F,U,W).length>0?F-f(F,U):D;const re=F,P=(function(K,j,H,I,N,G){let ee;return ee=S(H,I,N,G).length>0?I-f(I,N):j,K<H&&ee<=I||K>=H&&ee<I?"C":"D"})(x,D,q,F,U,W);return E(A(x,se,q,re,P==="C",U).length,T(P,W))})(b,C,n,_,h,o);let R;if(C===_)return R=b>n?"D":"C",E(Math.abs(b-n),T(R,o));R=C>_?"D":"C";const k=Math.abs(C-_);return E((function(x,D){return D.cols-x})(C>_?n:b,h)+(k-1)*h.cols+1+((C>_?b:n)-1),T(R,o))}},1296:function(B,d,m){var g=this&&this.__decorate||function(U,W,se,re){var P,K=arguments.length,j=K<3?W:re===null?re=Object.getOwnPropertyDescriptor(W,se):re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(U,W,se,re);else for(var H=U.length-1;H>=0;H--)(P=U[H])&&(j=(K<3?P(j):K>3?P(W,se,j):P(W,se))||j);return K>3&&j&&Object.defineProperty(W,se,j),j},S=this&&this.__param||function(U,W){return function(se,re){W(se,re,U)}};Object.defineProperty(d,"__esModule",{value:!0}),d.DomRenderer=void 0;const f=m(3787),y=m(2550),A=m(2223),T=m(6171),E=m(4725),n=m(8055),_=m(8460),h=m(844),o=m(2585),b="xterm-dom-renderer-owner-",C="xterm-rows",R="xterm-fg-",k="xterm-bg-",x="xterm-focus",D="xterm-selection";let q=1,F=d.DomRenderer=class extends h.Disposable{constructor(U,W,se,re,P,K,j,H,I,N){super(),this._element=U,this._screenElement=W,this._viewportElement=se,this._linkifier2=re,this._charSizeService=K,this._optionsService=j,this._bufferService=H,this._coreBrowserService=I,this._themeService=N,this._terminalClass=q++,this._rowElements=[],this.onRequestRedraw=this.register(new _.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(D),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,T.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((G=>this._injectCss(G)))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((G=>this._handleLinkHover(G)))),this.register(this._linkifier2.onHideLinkUnderline((G=>this._handleLinkLeave(G)))),this.register((0,h.toDisposable)((()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new y.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const U=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*U,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*U),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/U),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/U),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const se of this._rowElements)se.style.width=`${this.dimensions.css.canvas.width}px`,se.style.height=`${this.dimensions.css.cell.height}px`,se.style.lineHeight=`${this.dimensions.css.cell.height}px`,se.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const W=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=W,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(U){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let W=`${this._terminalSelector} .${C} { color: ${U.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;W+=`${this._terminalSelector} .${C} .xterm-dim { color: ${n.color.multiplyOpacity(U.foreground,.5).css};}`,W+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,W+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",W+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${U.cursor.css};  color: ${U.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${U.cursor.css}; }}`,W+=`${this._terminalSelector} .${C}.${x} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${U.cursor.css}; color: ${U.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${U.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${U.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${U.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,W+=`${this._terminalSelector} .${D} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${D} div { position: absolute; background-color: ${U.selectionBackgroundOpaque.css};}${this._terminalSelector} .${D} div { position: absolute; background-color: ${U.selectionInactiveBackgroundOpaque.css};}`;for(const[se,re]of U.ansi.entries())W+=`${this._terminalSelector} .${R}${se} { color: ${re.css}; }${this._terminalSelector} .${R}${se}.xterm-dim { color: ${n.color.multiplyOpacity(re,.5).css}; }${this._terminalSelector} .${k}${se} { background-color: ${re.css}; }`;W+=`${this._terminalSelector} .${R}${A.INVERTED_DEFAULT_COLOR} { color: ${n.color.opaque(U.background).css}; }${this._terminalSelector} .${R}${A.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${n.color.multiplyOpacity(n.color.opaque(U.background),.5).css}; }${this._terminalSelector} .${k}${A.INVERTED_DEFAULT_COLOR} { background-color: ${U.foreground.css}; }`,this._themeStyleElement.textContent=W}_setDefaultSpacing(){const U=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${U}px`,this._rowFactory.defaultSpacing=U}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(U,W){for(let se=this._rowElements.length;se<=W;se++){const re=document.createElement("div");this._rowContainer.appendChild(re),this._rowElements.push(re)}for(;this._rowElements.length>W;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(U,W){this._refreshRowElements(U,W),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(U,W,se){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(U,W,se),this.renderRows(0,this._bufferService.rows-1),!U||!W)return;const re=U[1]-this._bufferService.buffer.ydisp,P=W[1]-this._bufferService.buffer.ydisp,K=Math.max(re,0),j=Math.min(P,this._bufferService.rows-1);if(K>=this._bufferService.rows||j<0)return;const H=document.createDocumentFragment();if(se){const I=U[0]>W[0];H.appendChild(this._createSelectionElement(K,I?W[0]:U[0],I?U[0]:W[0],j-K+1))}else{const I=re===K?U[0]:0,N=K===P?W[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(K,I,N));const G=j-K-1;if(H.appendChild(this._createSelectionElement(K+1,0,this._bufferService.cols,G)),K!==j){const ee=P===j?W[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(j,0,ee))}}this._selectionContainer.appendChild(H)}_createSelectionElement(U,W,se,re=1){const P=document.createElement("div");return P.style.height=re*this.dimensions.css.cell.height+"px",P.style.top=U*this.dimensions.css.cell.height+"px",P.style.left=W*this.dimensions.css.cell.width+"px",P.style.width=this.dimensions.css.cell.width*(se-W)+"px",P}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const U of this._rowElements)U.replaceChildren()}renderRows(U,W){const se=this._bufferService.buffer,re=se.ybase+se.y,P=Math.min(se.x,this._bufferService.cols-1),K=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,H=this._optionsService.rawOptions.cursorInactiveStyle;for(let I=U;I<=W;I++){const N=I+se.ydisp,G=this._rowElements[I],ee=se.lines.get(N);if(!G||!ee)break;G.replaceChildren(...this._rowFactory.createRow(ee,N,N===re,j,H,P,K,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!0)}_handleLinkLeave(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!1)}_setCellUnderline(U,W,se,re,P,K){se<0&&(U=0),re<0&&(W=0);const j=this._bufferService.rows-1;se=Math.max(Math.min(se,j),0),re=Math.max(Math.min(re,j),0),P=Math.min(P,this._bufferService.cols);const H=this._bufferService.buffer,I=H.ybase+H.y,N=Math.min(H.x,P-1),G=this._optionsService.rawOptions.cursorBlink,ee=this._optionsService.rawOptions.cursorStyle,oe=this._optionsService.rawOptions.cursorInactiveStyle;for(let ue=se;ue<=re;++ue){const pe=ue+H.ydisp,O=this._rowElements[ue],$=H.lines.get(pe);if(!O||!$)break;O.replaceChildren(...this._rowFactory.createRow($,pe,pe===I,ee,oe,N,G,this.dimensions.css.cell.width,this._widthCache,K?ue===se?U:0:-1,K?(ue===re?W:P)-1:-1))}}};d.DomRenderer=F=g([S(4,o.IInstantiationService),S(5,E.ICharSizeService),S(6,o.IOptionsService),S(7,o.IBufferService),S(8,E.ICoreBrowserService),S(9,E.IThemeService)],F)},3787:function(B,d,m){var g=this&&this.__decorate||function(R,k,x,D){var q,F=arguments.length,U=F<3?k:D===null?D=Object.getOwnPropertyDescriptor(k,x):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(R,k,x,D);else for(var W=R.length-1;W>=0;W--)(q=R[W])&&(U=(F<3?q(U):F>3?q(k,x,U):q(k,x))||U);return F>3&&U&&Object.defineProperty(k,x,U),U},S=this&&this.__param||function(R,k){return function(x,D){k(x,D,R)}};Object.defineProperty(d,"__esModule",{value:!0}),d.DomRendererRowFactory=void 0;const f=m(2223),y=m(643),A=m(511),T=m(2585),E=m(8055),n=m(4725),_=m(4269),h=m(6171),o=m(3734);let b=d.DomRendererRowFactory=class{constructor(R,k,x,D,q,F,U){this._document=R,this._characterJoinerService=k,this._optionsService=x,this._coreBrowserService=D,this._coreService=q,this._decorationService=F,this._themeService=U,this._workCell=new A.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(R,k,x){this._selectionStart=R,this._selectionEnd=k,this._columnSelectMode=x}createRow(R,k,x,D,q,F,U,W,se,re,P){const K=[],j=this._characterJoinerService.getJoinedCharacters(k),H=this._themeService.colors;let I,N=R.getNoBgTrimmedLength();x&&N<F+1&&(N=F+1);let G=0,ee="",oe=0,ue=0,pe=0,O=!1,$=0,ie=!1,ae=0;const ve=[],fe=re!==-1&&P!==-1;for(let ke=0;ke<N;ke++){R.loadCell(ke,this._workCell);let Ie=this._workCell.getWidth();if(Ie===0)continue;let nt=!1,Zt=ke,Ce=this._workCell;if(j.length>0&&ke===j[0][0]){nt=!0;const Pe=j.shift();Ce=new _.JoinedCellData(this._workCell,R.translateToString(!0,Pe[0],Pe[1]),Pe[1]-Pe[0]),Zt=Pe[1]-1,Ie=Ce.getWidth()}const wi=this._isCellInSelection(ke,k),es=x&&ke===F,ts=fe&&ke>=re&&ke<=P;let is=!1;this._decorationService.forEachDecorationAtCell(ke,k,void 0,(Pe=>{is=!0}));let Cs=Ce.getChars()||y.WHITESPACE_CELL_CHAR;if(Cs===" "&&(Ce.isUnderline()||Ce.isOverline())&&(Cs=""),ae=Ie*W-se.get(Cs,Ce.isBold(),Ce.isItalic()),I){if(G&&(wi&&ie||!wi&&!ie&&Ce.bg===oe)&&(wi&&ie&&H.selectionForeground||Ce.fg===ue)&&Ce.extended.ext===pe&&ts===O&&ae===$&&!es&&!nt&&!is){ee+=Cs,G++;continue}G&&(I.textContent=ee),I=this._document.createElement("span"),G=0,ee=""}else I=this._document.createElement("span");if(oe=Ce.bg,ue=Ce.fg,pe=Ce.extended.ext,O=ts,$=ae,ie=wi,nt&&F>=ke&&F<=Zt&&(F=ke),!this._coreService.isCursorHidden&&es){if(ve.push("xterm-cursor"),this._coreBrowserService.isFocused)U&&ve.push("xterm-cursor-blink"),ve.push(D==="bar"?"xterm-cursor-bar":D==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(q)switch(q){case"outline":ve.push("xterm-cursor-outline");break;case"block":ve.push("xterm-cursor-block");break;case"bar":ve.push("xterm-cursor-bar");break;case"underline":ve.push("xterm-cursor-underline")}}if(Ce.isBold()&&ve.push("xterm-bold"),Ce.isItalic()&&ve.push("xterm-italic"),Ce.isDim()&&ve.push("xterm-dim"),ee=Ce.isInvisible()?y.WHITESPACE_CELL_CHAR:Ce.getChars()||y.WHITESPACE_CELL_CHAR,Ce.isUnderline()&&(ve.push(`xterm-underline-${Ce.extended.underlineStyle}`),ee===" "&&(ee=""),!Ce.isUnderlineColorDefault()))if(Ce.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${o.AttributeData.toColorRGB(Ce.getUnderlineColor()).join(",")})`;else{let Pe=Ce.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ce.isBold()&&Pe<8&&(Pe+=8),I.style.textDecorationColor=H.ansi[Pe].css}Ce.isOverline()&&(ve.push("xterm-overline"),ee===" "&&(ee="")),Ce.isStrikethrough()&&ve.push("xterm-strikethrough"),ts&&(I.style.textDecoration="underline");let mt=Ce.getFgColor(),tt=Ce.getFgColorMode(),Mt=Ce.getBgColor(),Ei=Ce.getBgColorMode();const ws=!!Ce.isInverse();if(ws){const Pe=mt;mt=Mt,Mt=Pe;const rs=tt;tt=Ei,Ei=rs}let wt,dr,Yt,ss=!1;switch(this._decorationService.forEachDecorationAtCell(ke,k,void 0,(Pe=>{Pe.options.layer!=="top"&&ss||(Pe.backgroundColorRGB&&(Ei=50331648,Mt=Pe.backgroundColorRGB.rgba>>8&16777215,wt=Pe.backgroundColorRGB),Pe.foregroundColorRGB&&(tt=50331648,mt=Pe.foregroundColorRGB.rgba>>8&16777215,dr=Pe.foregroundColorRGB),ss=Pe.options.layer==="top")})),!ss&&wi&&(wt=this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque,Mt=wt.rgba>>8&16777215,Ei=50331648,ss=!0,H.selectionForeground&&(tt=50331648,mt=H.selectionForeground.rgba>>8&16777215,dr=H.selectionForeground)),ss&&ve.push("xterm-decoration-top"),Ei){case 16777216:case 33554432:Yt=H.ansi[Mt],ve.push(`xterm-bg-${Mt}`);break;case 50331648:Yt=E.rgba.toColor(Mt>>16,Mt>>8&255,255&Mt),this._addStyle(I,`background-color:#${C((Mt>>>0).toString(16),"0",6)}`);break;default:ws?(Yt=H.foreground,ve.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Yt=H.background}switch(wt||Ce.isDim()&&(wt=E.color.multiplyOpacity(Yt,.5)),tt){case 16777216:case 33554432:Ce.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(I,Yt,H.ansi[mt],Ce,wt,void 0)||ve.push(`xterm-fg-${mt}`);break;case 50331648:const Pe=E.rgba.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(I,Yt,Pe,Ce,wt,dr)||this._addStyle(I,`color:#${C(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,Yt,H.foreground,Ce,wt,void 0)||ws&&ve.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}ve.length&&(I.className=ve.join(" "),ve.length=0),es||nt||is?I.textContent=ee:G++,ae!==this.defaultSpacing&&(I.style.letterSpacing=`${ae}px`),K.push(I),ke=Zt}return I&&G&&(I.textContent=ee),K}_applyMinimumContrast(R,k,x,D,q,F){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,h.excludeFromContrastRatioDemands)(D.getCode()))return!1;const U=this._getContrastCache(D);let W;if(q||F||(W=U.getColor(k.rgba,x.rgba)),W===void 0){const se=this._optionsService.rawOptions.minimumContrastRatio/(D.isDim()?2:1);W=E.color.ensureContrastRatio(q||k,F||x,se),U.setColor((q||k).rgba,(F||x).rgba,W??null)}return!!W&&(this._addStyle(R,`color:${W.css}`),!0)}_getContrastCache(R){return R.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(R,k){R.setAttribute("style",`${R.getAttribute("style")||""}${k};`)}_isCellInSelection(R,k){const x=this._selectionStart,D=this._selectionEnd;return!(!x||!D)&&(this._columnSelectMode?x[0]<=D[0]?R>=x[0]&&k>=x[1]&&R<D[0]&&k<=D[1]:R<x[0]&&k>=x[1]&&R>=D[0]&&k<=D[1]:k>x[1]&&k<D[1]||x[1]===D[1]&&k===x[1]&&R>=x[0]&&R<D[0]||x[1]<D[1]&&k===D[1]&&R<D[0]||x[1]<D[1]&&k===x[1]&&R>=x[0])}};function C(R,k,x){for(;R.length<x;)R=k+R;return R}d.DomRendererRowFactory=b=g([S(1,n.ICharacterJoinerService),S(2,T.IOptionsService),S(3,n.ICoreBrowserService),S(4,T.ICoreService),S(5,T.IDecorationService),S(6,n.IThemeService)],b)},2550:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WidthCache=void 0,d.WidthCache=class{constructor(m){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=m.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const g=m.createElement("span"),S=m.createElement("span");S.style.fontWeight="bold";const f=m.createElement("span");f.style.fontStyle="italic";const y=m.createElement("span");y.style.fontWeight="bold",y.style.fontStyle="italic",this._measureElements=[g,S,f,y],this._container.appendChild(g),this._container.appendChild(S),this._container.appendChild(f),this._container.appendChild(y),m.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(m,g,S,f){m===this._font&&g===this._fontSize&&S===this._weight&&f===this._weightBold||(this._font=m,this._fontSize=g,this._weight=S,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${S}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${S}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(m,g,S){let f=0;if(!g&&!S&&m.length===1&&(f=m.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(m,0);let y=m;g&&(y+="B"),S&&(y+="I");let A=this._holey.get(y);if(A===void 0){let T=0;g&&(T|=1),S&&(T|=2),A=this._measure(m,T),this._holey.set(y,A)}return A}_measure(m,g){const S=this._measureElements[g];return S.textContent=m.repeat(32),S.offsetWidth/32}}},2223:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TEXT_BASELINE=d.DIM_OPACITY=d.INVERTED_DEFAULT_COLOR=void 0;const g=m(6114);d.INVERTED_DEFAULT_COLOR=257,d.DIM_OPACITY=.5,d.TEXT_BASELINE=g.isFirefox||g.isLegacyEdge?"bottom":"ideographic"},6171:(B,d)=>{function m(g){return 57508<=g&&g<=57558}Object.defineProperty(d,"__esModule",{value:!0}),d.createRenderDimensions=d.excludeFromContrastRatioDemands=d.isRestrictedPowerlineGlyph=d.isPowerlineGlyph=d.throwIfFalsy=void 0,d.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},d.isPowerlineGlyph=m,d.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},d.excludeFromContrastRatioDemands=function(g){return m(g)||(function(S){return 9472<=S&&S<=9631})(g)},d.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SelectionModel=void 0,d.SelectionModel=class{constructor(m){this._bufferService=m,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const m=this.selectionStart[0]+this.selectionStartLength;return m>this._bufferService.cols?m%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)-1]:[m%this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)]:[m,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const m=this.selectionStart[0]+this.selectionStartLength;return m>this._bufferService.cols?[m%this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)]:[Math.max(m,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const m=this.selectionStart,g=this.selectionEnd;return!(!m||!g)&&(m[1]>g[1]||m[1]===g[1]&&m[0]>g[0])}handleTrim(m){return this.selectionStart&&(this.selectionStart[1]-=m),this.selectionEnd&&(this.selectionEnd[1]-=m),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(B,d,m){var g=this&&this.__decorate||function(n,_,h,o){var b,C=arguments.length,R=C<3?_:o===null?o=Object.getOwnPropertyDescriptor(_,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(n,_,h,o);else for(var k=n.length-1;k>=0;k--)(b=n[k])&&(R=(C<3?b(R):C>3?b(_,h,R):b(_,h))||R);return C>3&&R&&Object.defineProperty(_,h,R),R},S=this&&this.__param||function(n,_){return function(h,o){_(h,o,n)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CharSizeService=void 0;const f=m(2585),y=m(8460),A=m(844);let T=d.CharSizeService=class extends A.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(n,_,h){super(),this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=this.register(new y.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new E(n,_,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const n=this._measureStrategy.measure();n.width===this.width&&n.height===this.height||(this.width=n.width,this.height=n.height,this._onCharSizeChange.fire())}};d.CharSizeService=T=g([S(2,f.IOptionsService)],T);class E{constructor(_,h,o){this._document=_,this._parentElement=h,this._optionsService=o,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const _={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return _.width!==0&&_.height!==0&&(this._result.width=_.width/32,this._result.height=Math.ceil(_.height)),this._result}}},4269:function(B,d,m){var g=this&&this.__decorate||function(_,h,o,b){var C,R=arguments.length,k=R<3?h:b===null?b=Object.getOwnPropertyDescriptor(h,o):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,h,o,b);else for(var x=_.length-1;x>=0;x--)(C=_[x])&&(k=(R<3?C(k):R>3?C(h,o,k):C(h,o))||k);return R>3&&k&&Object.defineProperty(h,o,k),k},S=this&&this.__param||function(_,h){return function(o,b){h(o,b,_)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterJoinerService=d.JoinedCellData=void 0;const f=m(3734),y=m(643),A=m(511),T=m(2585);class E extends f.AttributeData{constructor(h,o,b){super(),this.content=0,this.combinedData="",this.fg=h.fg,this.bg=h.bg,this.combinedData=o,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(h){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}d.JoinedCellData=E;let n=d.CharacterJoinerService=class gp{constructor(h){this._bufferService=h,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new A.CellData}register(h){const o={id:this._nextCharacterJoinerId++,handler:h};return this._characterJoiners.push(o),o.id}deregister(h){for(let o=0;o<this._characterJoiners.length;o++)if(this._characterJoiners[o].id===h)return this._characterJoiners.splice(o,1),!0;return!1}getJoinedCharacters(h){if(this._characterJoiners.length===0)return[];const o=this._bufferService.buffer.lines.get(h);if(!o||o.length===0)return[];const b=[],C=o.translateToString(!0);let R=0,k=0,x=0,D=o.getFg(0),q=o.getBg(0);for(let F=0;F<o.getTrimmedLength();F++)if(o.loadCell(F,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==D||this._workCell.bg!==q){if(F-R>1){const U=this._getJoinedRanges(C,x,k,o,R);for(let W=0;W<U.length;W++)b.push(U[W])}R=F,x=k,D=this._workCell.fg,q=this._workCell.bg}k+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-R>1){const F=this._getJoinedRanges(C,x,k,o,R);for(let U=0;U<F.length;U++)b.push(F[U])}return b}_getJoinedRanges(h,o,b,C,R){const k=h.substring(o,b);let x=[];try{x=this._characterJoiners[0].handler(k)}catch(D){console.error(D)}for(let D=1;D<this._characterJoiners.length;D++)try{const q=this._characterJoiners[D].handler(k);for(let F=0;F<q.length;F++)gp._mergeRanges(x,q[F])}catch(q){console.error(q)}return this._stringRangesToCellRanges(x,C,R),x}_stringRangesToCellRanges(h,o,b){let C=0,R=!1,k=0,x=h[C];if(x){for(let D=b;D<this._bufferService.cols;D++){const q=o.getWidth(D),F=o.getString(D).length||y.WHITESPACE_CELL_CHAR.length;if(q!==0){if(!R&&x[0]<=k&&(x[0]=D,R=!0),x[1]<=k){if(x[1]=D,x=h[++C],!x)break;x[0]<=k?(x[0]=D,R=!0):R=!1}k+=F}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(h,o){let b=!1;for(let C=0;C<h.length;C++){const R=h[C];if(b){if(o[1]<=R[0])return h[C-1][1]=o[1],h;if(o[1]<=R[1])return h[C-1][1]=Math.max(o[1],R[1]),h.splice(C,1),h;h.splice(C,1),C--}else{if(o[1]<=R[0])return h.splice(C,0,o),h;if(o[1]<=R[1])return R[0]=Math.min(o[0],R[0]),h;o[0]<R[1]&&(R[0]=Math.min(o[0],R[0]),b=!0)}}return b?h[h.length-1][1]=o[1]:h.push(o),h}};d.CharacterJoinerService=n=g([S(0,T.IBufferService)],n)},5114:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CoreBrowserService=void 0,d.CoreBrowserService=class{constructor(m,g){this._textarea=m,this.window=g,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(B,d,m){var g=this&&this.__decorate||function(T,E,n,_){var h,o=arguments.length,b=o<3?E:_===null?_=Object.getOwnPropertyDescriptor(E,n):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(T,E,n,_);else for(var C=T.length-1;C>=0;C--)(h=T[C])&&(b=(o<3?h(b):o>3?h(E,n,b):h(E,n))||b);return o>3&&b&&Object.defineProperty(E,n,b),b},S=this&&this.__param||function(T,E){return function(n,_){E(n,_,T)}};Object.defineProperty(d,"__esModule",{value:!0}),d.MouseService=void 0;const f=m(4725),y=m(9806);let A=d.MouseService=class{constructor(T,E){this._renderService=T,this._charSizeService=E}getCoords(T,E,n,_,h){return(0,y.getCoords)(window,T,E,n,_,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,h)}getMouseReportCoords(T,E){const n=(0,y.getCoordsRelativeToElement)(window,T,E);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};d.MouseService=A=g([S(0,f.IRenderService),S(1,f.ICharSizeService)],A)},3230:function(B,d,m){var g=this&&this.__decorate||function(b,C,R,k){var x,D=arguments.length,q=D<3?C:k===null?k=Object.getOwnPropertyDescriptor(C,R):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(b,C,R,k);else for(var F=b.length-1;F>=0;F--)(x=b[F])&&(q=(D<3?x(q):D>3?x(C,R,q):x(C,R))||q);return D>3&&q&&Object.defineProperty(C,R,q),q},S=this&&this.__param||function(b,C){return function(R,k){C(R,k,b)}};Object.defineProperty(d,"__esModule",{value:!0}),d.RenderService=void 0;const f=m(3656),y=m(6193),A=m(5596),T=m(4725),E=m(8460),n=m(844),_=m(7226),h=m(2585);let o=d.RenderService=class extends n.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,C,R,k,x,D,q,F){if(super(),this._rowCount=b,this._charSizeService=k,this._renderer=this.register(new n.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new E.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new E.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new E.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new E.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new y.RenderDebouncer(q.window,((U,W)=>this._renderRows(U,W))),this.register(this._renderDebouncer),this._screenDprMonitor=new A.ScreenDprMonitor(q.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(D.onResize((()=>this._fullRefresh()))),this.register(D.buffers.onBufferActivate((()=>{var U;return(U=this._renderer.value)===null||U===void 0?void 0:U.clear()}))),this.register(R.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(x.onDecorationRegistered((()=>this._fullRefresh()))),this.register(x.onDecorationRemoved((()=>this._fullRefresh()))),this.register(R.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(D.cols,D.rows),this._fullRefresh()}))),this.register(R.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(D.buffer.y,D.buffer.y,!0)))),this.register((0,f.addDisposableDomListener)(q.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(F.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in q.window){const U=new q.window.IntersectionObserver((W=>this._handleIntersectionChange(W[W.length-1])),{threshold:0});U.observe(C),this.register({dispose:()=>U.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,C,R=!1){this._isPaused?this._needsFullRefresh=!0:(R||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,C,this._rowCount))}_renderRows(b,C){this._renderer.value&&(b=Math.min(b,this._rowCount-1),C=Math.min(C,this._rowCount-1),this._renderer.value.renderRows(b,C),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:C}),this._onRender.fire({start:b,end:C}),this._isNextRenderRedrawOnly=!0)}resize(b,C){this._rowCount=C,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw((C=>this.refreshRows(C.start,C.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,C;this._renderer.value&&((C=(b=this._renderer.value).clearTextureAtlas)===null||C===void 0||C.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,C){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(b,C))):this._renderer.value.handleResize(b,C),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,C,R){var k;this._selectionState.start=b,this._selectionState.end=C,this._selectionState.columnSelectMode=R,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(b,C,R)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};d.RenderService=o=g([S(2,h.IOptionsService),S(3,T.ICharSizeService),S(4,h.IDecorationService),S(5,h.IBufferService),S(6,T.ICoreBrowserService),S(7,T.IThemeService)],o)},9312:function(B,d,m){var g=this&&this.__decorate||function(x,D,q,F){var U,W=arguments.length,se=W<3?D:F===null?F=Object.getOwnPropertyDescriptor(D,q):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(x,D,q,F);else for(var re=x.length-1;re>=0;re--)(U=x[re])&&(se=(W<3?U(se):W>3?U(D,q,se):U(D,q))||se);return W>3&&se&&Object.defineProperty(D,q,se),se},S=this&&this.__param||function(x,D){return function(q,F){D(q,F,x)}};Object.defineProperty(d,"__esModule",{value:!0}),d.SelectionService=void 0;const f=m(9806),y=m(9504),A=m(456),T=m(4725),E=m(8460),n=m(844),_=m(6114),h=m(4841),o=m(511),b=m(2585),C="",R=new RegExp(C,"g");let k=d.SelectionService=class extends n.Disposable{constructor(x,D,q,F,U,W,se,re,P){super(),this._element=x,this._screenElement=D,this._linkifier=q,this._bufferService=F,this._coreService=U,this._mouseService=W,this._optionsService=se,this._renderService=re,this._coreBrowserService=P,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new o.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new E.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new E.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new E.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new E.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=K=>this._handleMouseMove(K),this._mouseUpListener=K=>this._handleMouseUp(K),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((K=>this._handleTrim(K))),this.register(this._bufferService.buffers.onBufferActivate((K=>this._handleBufferActivate(K)))),this.enable(),this._model=new A.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,n.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!x||!D||x[0]===D[0]&&x[1]===D[1])}get selectionText(){const x=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;if(!x||!D)return"";const q=this._bufferService.buffer,F=[];if(this._activeSelectionMode===3){if(x[0]===D[0])return"";const U=x[0]<D[0]?x[0]:D[0],W=x[0]<D[0]?D[0]:x[0];for(let se=x[1];se<=D[1];se++){const re=q.translateBufferLineToString(se,!0,U,W);F.push(re)}}else{const U=x[1]===D[1]?D[0]:void 0;F.push(q.translateBufferLineToString(x[1],!0,x[0],U));for(let W=x[1]+1;W<=D[1]-1;W++){const se=q.lines.get(W),re=q.translateBufferLineToString(W,!0);se?.isWrapped?F[F.length-1]+=re:F.push(re)}if(x[1]!==D[1]){const W=q.lines.get(D[1]),se=q.translateBufferLineToString(D[1],!0,0,D[0]);W&&W.isWrapped?F[F.length-1]+=se:F.push(se)}}return F.map((U=>U.replace(R," "))).join(_.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),_.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const D=this._getMouseBufferCoords(x),q=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(q&&F&&D)&&this._areCoordsInSelection(D,q,F)}isCellInSelection(x,D){const q=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!q||!F)&&this._areCoordsInSelection([x,D],q,F)}_areCoordsInSelection(x,D,q){return x[1]>D[1]&&x[1]<q[1]||D[1]===q[1]&&x[1]===D[1]&&x[0]>=D[0]&&x[0]<q[0]||D[1]<q[1]&&x[1]===q[1]&&x[0]<q[0]||D[1]<q[1]&&x[1]===D[1]&&x[0]>=D[0]}_selectWordAtCursor(x,D){var q,F;const U=(F=(q=this._linkifier.currentLink)===null||q===void 0?void 0:q.link)===null||F===void 0?void 0:F.range;if(U)return this._model.selectionStart=[U.start.x-1,U.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(U,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const W=this._getMouseBufferCoords(x);return!!W&&(this._selectWordAt(W,D),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,D){this._model.clearSelection(),x=Math.max(x,0),D=Math.min(D,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,D],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const D=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(D)return D[0]--,D[1]--,D[1]+=this._bufferService.buffer.ydisp,D}_getMouseEventScrollAmount(x){let D=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const q=this._renderService.dimensions.css.canvas.height;return D>=0&&D<=q?0:(D>q&&(D-=q),D=Math.min(Math.max(D,-50),50),D/=50,D/Math.abs(D)+Math.round(14*D))}shouldForceSelection(x){return _.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const D=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);D&&D.length!==this._model.selectionStart[0]&&D.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const D=this._getMouseBufferCoords(x);D&&(this._activeSelectionMode=2,this._selectLineAt(D[1]))}shouldColumnSelect(x){return x.altKey&&!(_.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const D=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const q=this._bufferService.buffer;if(this._model.selectionEnd[1]<q.lines.length){const F=q.lines.get(this._model.selectionEnd[1]);F&&F.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}D&&D[0]===this._model.selectionEnd[0]&&D[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const D=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&D<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const q=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(q&&q[0]!==void 0&&q[1]!==void 0){const F=(0,y.moveToCellSequence)(q[0]-1,q[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,D=this._model.finalSelectionEnd,q=!(!x||!D||x[0]===D[0]&&x[1]===D[1]);q?x&&D&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&D[0]===this._oldSelectionEnd[0]&&D[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,D,q)):this._oldHasSelection&&this._fireOnSelectionChange(x,D,q)}_fireOnSelectionChange(x,D,q){this._oldSelectionStart=x,this._oldSelectionEnd=D,this._oldHasSelection=q,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim((D=>this._handleTrim(D)))}_convertViewportColToCharacterIndex(x,D){let q=D;for(let F=0;D>=F;F++){const U=x.loadCell(F,this._workCell).getChars().length;this._workCell.getWidth()===0?q--:U>1&&D!==F&&(q+=U-1)}return q}setSelection(x,D,q){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,D],this._model.selectionStartLength=q,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,D,q=!0,F=!0){if(x[0]>=this._bufferService.cols)return;const U=this._bufferService.buffer,W=U.lines.get(x[1]);if(!W)return;const se=U.translateBufferLineToString(x[1],!1);let re=this._convertViewportColToCharacterIndex(W,x[0]),P=re;const K=x[0]-re;let j=0,H=0,I=0,N=0;if(se.charAt(re)===" "){for(;re>0&&se.charAt(re-1)===" ";)re--;for(;P<se.length&&se.charAt(P+1)===" ";)P++}else{let oe=x[0],ue=x[0];W.getWidth(oe)===0&&(j++,oe--),W.getWidth(ue)===2&&(H++,ue++);const pe=W.getString(ue).length;for(pe>1&&(N+=pe-1,P+=pe-1);oe>0&&re>0&&!this._isCharWordSeparator(W.loadCell(oe-1,this._workCell));){W.loadCell(oe-1,this._workCell);const O=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,oe--):O>1&&(I+=O-1,re-=O-1),re--,oe--}for(;ue<W.length&&P+1<se.length&&!this._isCharWordSeparator(W.loadCell(ue+1,this._workCell));){W.loadCell(ue+1,this._workCell);const O=this._workCell.getChars().length;this._workCell.getWidth()===2?(H++,ue++):O>1&&(N+=O-1,P+=O-1),P++,ue++}}P++;let G=re+K-j+I,ee=Math.min(this._bufferService.cols,P-re+j+H-I-N);if(D||se.slice(re,P).trim()!==""){if(q&&G===0&&W.getCodePoint(0)!==32){const oe=U.lines.get(x[1]-1);if(oe&&W.isWrapped&&oe.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(ue){const pe=this._bufferService.cols-ue.start;G-=pe,ee+=pe}}}if(F&&G+ee===this._bufferService.cols&&W.getCodePoint(this._bufferService.cols-1)!==32){const oe=U.lines.get(x[1]+1);if(oe?.isWrapped&&oe.getCodePoint(0)!==32){const ue=this._getWordAt([0,x[1]+1],!1,!1,!0);ue&&(ee+=ue.length)}}return{start:G,length:ee}}}_selectWordAt(x,D){const q=this._getWordAt(x,D);if(q){for(;q.start<0;)q.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[q.start,x[1]],this._model.selectionStartLength=q.length}}_selectToWordAt(x){const D=this._getWordAt(x,!0);if(D){let q=x[1];for(;D.start<0;)D.start+=this._bufferService.cols,q--;if(!this._model.areSelectionValuesReversed())for(;D.start+D.length>this._bufferService.cols;)D.length-=this._bufferService.cols,q++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?D.start:D.start+D.length,q]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const D=this._bufferService.buffer.getWrappedRangeForLine(x),q={start:{x:0,y:D.first},end:{x:this._bufferService.cols-1,y:D.last}};this._model.selectionStart=[0,D.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,h.getRangeLength)(q,this._bufferService.cols)}};d.SelectionService=k=g([S(3,b.IBufferService),S(4,b.ICoreService),S(5,T.IMouseService),S(6,b.IOptionsService),S(7,T.IRenderService),S(8,T.ICoreBrowserService)],k)},4725:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.IThemeService=d.ICharacterJoinerService=d.ISelectionService=d.IRenderService=d.IMouseService=d.ICoreBrowserService=d.ICharSizeService=void 0;const g=m(8343);d.ICharSizeService=(0,g.createDecorator)("CharSizeService"),d.ICoreBrowserService=(0,g.createDecorator)("CoreBrowserService"),d.IMouseService=(0,g.createDecorator)("MouseService"),d.IRenderService=(0,g.createDecorator)("RenderService"),d.ISelectionService=(0,g.createDecorator)("SelectionService"),d.ICharacterJoinerService=(0,g.createDecorator)("CharacterJoinerService"),d.IThemeService=(0,g.createDecorator)("ThemeService")},6731:function(B,d,m){var g=this&&this.__decorate||function(k,x,D,q){var F,U=arguments.length,W=U<3?x:q===null?q=Object.getOwnPropertyDescriptor(x,D):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(k,x,D,q);else for(var se=k.length-1;se>=0;se--)(F=k[se])&&(W=(U<3?F(W):U>3?F(x,D,W):F(x,D))||W);return U>3&&W&&Object.defineProperty(x,D,W),W},S=this&&this.__param||function(k,x){return function(D,q){x(D,q,k)}};Object.defineProperty(d,"__esModule",{value:!0}),d.ThemeService=d.DEFAULT_ANSI_COLORS=void 0;const f=m(7239),y=m(8055),A=m(8460),T=m(844),E=m(2585),n=y.css.toColor("#ffffff"),_=y.css.toColor("#000000"),h=y.css.toColor("#ffffff"),o=y.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};d.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let D=0;D<216;D++){const q=x[D/36%6|0],F=x[D/6%6|0],U=x[D%6];k.push({css:y.channels.toCss(q,F,U),rgba:y.channels.toRgba(q,F,U)})}for(let D=0;D<24;D++){const q=8+10*D;k.push({css:y.channels.toCss(q,q,q),rgba:y.channels.toRgba(q,q,q)})}return k})());let C=d.ThemeService=class extends T.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new A.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:n,background:_,cursor:h,cursorAccent:o,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:y.color.blend(_,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:y.color.blend(_,b),ansi:d.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(k={}){const x=this._colors;if(x.foreground=R(k.foreground,n),x.background=R(k.background,_),x.cursor=R(k.cursor,h),x.cursorAccent=R(k.cursorAccent,o),x.selectionBackgroundTransparent=R(k.selectionBackground,b),x.selectionBackgroundOpaque=y.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=R(k.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=y.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=k.selectionForeground?R(k.selectionForeground,y.NULL_COLOR):void 0,x.selectionForeground===y.NULL_COLOR&&(x.selectionForeground=void 0),y.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=y.color.opacity(x.selectionBackgroundTransparent,.3)),y.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=y.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=d.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=R(k.black,d.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=R(k.red,d.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=R(k.green,d.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=R(k.yellow,d.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=R(k.blue,d.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=R(k.magenta,d.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=R(k.cyan,d.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=R(k.white,d.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=R(k.brightBlack,d.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=R(k.brightRed,d.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=R(k.brightGreen,d.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=R(k.brightYellow,d.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=R(k.brightBlue,d.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=R(k.brightMagenta,d.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=R(k.brightCyan,d.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=R(k.brightWhite,d.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const D=Math.min(x.ansi.length-16,k.extendedAnsi.length);for(let q=0;q<D;q++)x.ansi[q+16]=R(k.extendedAnsi[q],d.DEFAULT_ANSI_COLORS[q+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function R(k,x){if(k!==void 0)try{return y.css.toColor(k)}catch{}return x}d.ThemeService=C=g([S(0,E.IOptionsService)],C)},6349:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CircularList=void 0;const g=m(8460),S=m(844);class f extends S.Disposable{constructor(A){super(),this._maxLength=A,this.onDeleteEmitter=this.register(new g.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new g.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new g.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(A){if(this._maxLength===A)return;const T=new Array(A);for(let E=0;E<Math.min(A,this.length);E++)T[E]=this._array[this._getCyclicIndex(E)];this._array=T,this._maxLength=A,this._startIndex=0}get length(){return this._length}set length(A){if(A>this._length)for(let T=this._length;T<A;T++)this._array[T]=void 0;this._length=A}get(A){return this._array[this._getCyclicIndex(A)]}set(A,T){this._array[this._getCyclicIndex(A)]=T}push(A){this._array[this._getCyclicIndex(this._length)]=A,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(A,T,...E){if(T){for(let n=A;n<this._length-T;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+T)];this._length-=T,this.onDeleteEmitter.fire({index:A,amount:T})}for(let n=this._length-1;n>=A;n--)this._array[this._getCyclicIndex(n+E.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<E.length;n++)this._array[this._getCyclicIndex(A+n)]=E[n];if(E.length&&this.onInsertEmitter.fire({index:A,amount:E.length}),this._length+E.length>this._maxLength){const n=this._length+E.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=E.length}trimStart(A){A>this._length&&(A=this._length),this._startIndex+=A,this._length-=A,this.onTrimEmitter.fire(A)}shiftElements(A,T,E){if(!(T<=0)){if(A<0||A>=this._length)throw new Error("start argument out of range");if(A+E<0)throw new Error("Cannot shift elements in list beyond index 0");if(E>0){for(let _=T-1;_>=0;_--)this.set(A+_+E,this.get(A+_));const n=A+T+E-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<T;n++)this.set(A+n+E,this.get(A+n))}}_getCyclicIndex(A){return(this._startIndex+A)%this._maxLength}}d.CircularList=f},1439:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.clone=void 0,d.clone=function m(g,S=5){if(typeof g!="object")return g;const f=Array.isArray(g)?[]:{};for(const y in g)f[y]=S<=1?g[y]:g[y]&&m(g[y],S-1);return f}},8055:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.contrastRatio=d.toPaddedHex=d.rgba=d.rgb=d.css=d.color=d.channels=d.NULL_COLOR=void 0;const g=m(6114);let S=0,f=0,y=0,A=0;var T,E,n,_,h;function o(C){const R=C.toString(16);return R.length<2?"0"+R:R}function b(C,R){return C<R?(R+.05)/(C+.05):(C+.05)/(R+.05)}d.NULL_COLOR={css:"#00000000",rgba:0},(function(C){C.toCss=function(R,k,x,D){return D!==void 0?`#${o(R)}${o(k)}${o(x)}${o(D)}`:`#${o(R)}${o(k)}${o(x)}`},C.toRgba=function(R,k,x,D=255){return(R<<24|k<<16|x<<8|D)>>>0}})(T||(d.channels=T={})),(function(C){function R(k,x){return A=Math.round(255*x),[S,f,y]=h.toChannels(k.rgba),{css:T.toCss(S,f,y,A),rgba:T.toRgba(S,f,y,A)}}C.blend=function(k,x){if(A=(255&x.rgba)/255,A===1)return{css:x.css,rgba:x.rgba};const D=x.rgba>>24&255,q=x.rgba>>16&255,F=x.rgba>>8&255,U=k.rgba>>24&255,W=k.rgba>>16&255,se=k.rgba>>8&255;return S=U+Math.round((D-U)*A),f=W+Math.round((q-W)*A),y=se+Math.round((F-se)*A),{css:T.toCss(S,f,y),rgba:T.toRgba(S,f,y)}},C.isOpaque=function(k){return(255&k.rgba)==255},C.ensureContrastRatio=function(k,x,D){const q=h.ensureContrastRatio(k.rgba,x.rgba,D);if(q)return h.toColor(q>>24&255,q>>16&255,q>>8&255)},C.opaque=function(k){const x=(255|k.rgba)>>>0;return[S,f,y]=h.toChannels(x),{css:T.toCss(S,f,y),rgba:x}},C.opacity=R,C.multiplyOpacity=function(k,x){return A=255&k.rgba,R(k,A*x/255)},C.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}})(E||(d.color=E={})),(function(C){let R,k;if(!g.isNode){const x=document.createElement("canvas");x.width=1,x.height=1;const D=x.getContext("2d",{willReadFrequently:!0});D&&(R=D,R.globalCompositeOperation="copy",k=R.createLinearGradient(0,0,1,1))}C.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return S=parseInt(x.slice(1,2).repeat(2),16),f=parseInt(x.slice(2,3).repeat(2),16),y=parseInt(x.slice(3,4).repeat(2),16),h.toColor(S,f,y);case 5:return S=parseInt(x.slice(1,2).repeat(2),16),f=parseInt(x.slice(2,3).repeat(2),16),y=parseInt(x.slice(3,4).repeat(2),16),A=parseInt(x.slice(4,5).repeat(2),16),h.toColor(S,f,y,A);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const D=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(D)return S=parseInt(D[1]),f=parseInt(D[2]),y=parseInt(D[3]),A=Math.round(255*(D[5]===void 0?1:parseFloat(D[5]))),h.toColor(S,f,y,A);if(!R||!k)throw new Error("css.toColor: Unsupported css format");if(R.fillStyle=k,R.fillStyle=x,typeof R.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(R.fillRect(0,0,1,1),[S,f,y,A]=R.getImageData(0,0,1,1).data,A!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:T.toRgba(S,f,y,A),css:x}}})(n||(d.css=n={})),(function(C){function R(k,x,D){const q=k/255,F=x/255,U=D/255;return .2126*(q<=.03928?q/12.92:Math.pow((q+.055)/1.055,2.4))+.7152*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))}C.relativeLuminance=function(k){return R(k>>16&255,k>>8&255,255&k)},C.relativeLuminance2=R})(_||(d.rgb=_={})),(function(C){function R(x,D,q){const F=x>>24&255,U=x>>16&255,W=x>>8&255;let se=D>>24&255,re=D>>16&255,P=D>>8&255,K=b(_.relativeLuminance2(se,re,P),_.relativeLuminance2(F,U,W));for(;K<q&&(se>0||re>0||P>0);)se-=Math.max(0,Math.ceil(.1*se)),re-=Math.max(0,Math.ceil(.1*re)),P-=Math.max(0,Math.ceil(.1*P)),K=b(_.relativeLuminance2(se,re,P),_.relativeLuminance2(F,U,W));return(se<<24|re<<16|P<<8|255)>>>0}function k(x,D,q){const F=x>>24&255,U=x>>16&255,W=x>>8&255;let se=D>>24&255,re=D>>16&255,P=D>>8&255,K=b(_.relativeLuminance2(se,re,P),_.relativeLuminance2(F,U,W));for(;K<q&&(se<255||re<255||P<255);)se=Math.min(255,se+Math.ceil(.1*(255-se))),re=Math.min(255,re+Math.ceil(.1*(255-re))),P=Math.min(255,P+Math.ceil(.1*(255-P))),K=b(_.relativeLuminance2(se,re,P),_.relativeLuminance2(F,U,W));return(se<<24|re<<16|P<<8|255)>>>0}C.ensureContrastRatio=function(x,D,q){const F=_.relativeLuminance(x>>8),U=_.relativeLuminance(D>>8);if(b(F,U)<q){if(U<F){const re=R(x,D,q),P=b(F,_.relativeLuminance(re>>8));if(P<q){const K=k(x,D,q);return P>b(F,_.relativeLuminance(K>>8))?re:K}return re}const W=k(x,D,q),se=b(F,_.relativeLuminance(W>>8));if(se<q){const re=R(x,D,q);return se>b(F,_.relativeLuminance(re>>8))?W:re}return W}},C.reduceLuminance=R,C.increaseLuminance=k,C.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},C.toColor=function(x,D,q,F){return{css:T.toCss(x,D,q,F),rgba:T.toRgba(x,D,q,F)}}})(h||(d.rgba=h={})),d.toPaddedHex=o,d.contrastRatio=b},8969:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CoreTerminal=void 0;const g=m(844),S=m(2585),f=m(4348),y=m(7866),A=m(744),T=m(7302),E=m(6975),n=m(8460),_=m(1753),h=m(1480),o=m(7994),b=m(9282),C=m(5435),R=m(5981),k=m(2660);let x=!1;class D extends g.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event((F=>{var U;(U=this._onScrollApi)===null||U===void 0||U.fire(F.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const U in F)this.optionsService.options[U]=F[U]}constructor(F){super(),this._windowsWrappingHeuristics=this.register(new g.MutableDisposable),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new T.OptionsService(F)),this._instantiationService.setService(S.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(A.BufferService)),this._instantiationService.setService(S.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(y.LogService)),this._instantiationService.setService(S.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(E.CoreService)),this._instantiationService.setService(S.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(_.CoreMouseService)),this._instantiationService.setService(S.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(S.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(o.CharsetService),this._instantiationService.setService(S.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(S.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((U=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((U=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new R.WriteBuffer(((U,W)=>this._inputHandler.parse(U,W)))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(F,U){this._writeBuffer.write(F,U)}writeSync(F,U){this._logService.logLevel<=S.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(F,U)}resize(F,U){isNaN(F)||isNaN(U)||(F=Math.max(F,A.MINIMUM_COLS),U=Math.max(U,A.MINIMUM_ROWS),this._bufferService.resize(F,U))}scroll(F,U=!1){this._bufferService.scroll(F,U)}scrollLines(F,U,W){this._bufferService.scrollLines(F,U,W)}scrollPages(F){this.scrollLines(F*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(F){const U=F-this._bufferService.buffer.ydisp;U!==0&&this.scrollLines(U)}registerEscHandler(F,U){return this._inputHandler.registerEscHandler(F,U)}registerDcsHandler(F,U){return this._inputHandler.registerDcsHandler(F,U)}registerCsiHandler(F,U){return this._inputHandler.registerCsiHandler(F,U)}registerOscHandler(F,U){return this._inputHandler.registerOscHandler(F,U)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let F=!1;const U=this.optionsService.rawOptions.windowsPty;U&&U.buildNumber!==void 0&&U.buildNumber!==void 0?F=U.backend==="conpty"&&U.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(F=!0),F?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const F=[];F.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},(()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,g.toDisposable)((()=>{for(const U of F)U.dispose()}))}}}d.CoreTerminal=D},8460:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.forwardEvent=d.EventEmitter=void 0,d.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=m=>(this._listeners.push(m),{dispose:()=>{if(!this._disposed){for(let g=0;g<this._listeners.length;g++)if(this._listeners[g]===m)return void this._listeners.splice(g,1)}}})),this._event}fire(m,g){const S=[];for(let f=0;f<this._listeners.length;f++)S.push(this._listeners[f]);for(let f=0;f<S.length;f++)S[f].call(void 0,m,g)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},d.forwardEvent=function(m,g){return m((S=>g.fire(S)))}},5435:function(B,d,m){var g=this&&this.__decorate||function(K,j,H,I){var N,G=arguments.length,ee=G<3?j:I===null?I=Object.getOwnPropertyDescriptor(j,H):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(K,j,H,I);else for(var oe=K.length-1;oe>=0;oe--)(N=K[oe])&&(ee=(G<3?N(ee):G>3?N(j,H,ee):N(j,H))||ee);return G>3&&ee&&Object.defineProperty(j,H,ee),ee},S=this&&this.__param||function(K,j){return function(H,I){j(H,I,K)}};Object.defineProperty(d,"__esModule",{value:!0}),d.InputHandler=d.WindowsOptionsReportType=void 0;const f=m(2584),y=m(7116),A=m(2015),T=m(844),E=m(482),n=m(8437),_=m(8460),h=m(643),o=m(511),b=m(3734),C=m(2585),R=m(6242),k=m(6351),x=m(5941),D={"(":0,")":1,"*":2,"+":3,"-":1,".":2},q=131072;function F(K,j){if(K>24)return j.setWinLines||!1;switch(K){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var U;(function(K){K[K.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",K[K.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(U||(d.WindowsOptionsReportType=U={}));let W=0;class se extends T.Disposable{getAttrData(){return this._curAttrData}constructor(j,H,I,N,G,ee,oe,ue,pe=new A.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=H,this._coreService=I,this._logService=N,this._optionsService=G,this._oscLinkService=ee,this._coreMouseService=oe,this._unicodeService=ue,this._parser=pe,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new E.StringToUtf32,this._utf8Decoder=new E.Utf8ToUtf32,this._workCell=new o.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new _.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new _.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new _.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new _.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new _.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new _.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new _.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new _.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new _.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new _.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new _.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new _.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new _.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new re(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((O=>this._activeBuffer=O.activeBuffer))),this._parser.setCsiHandlerFallback(((O,$)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(O),params:$.toArray()})})),this._parser.setEscHandlerFallback((O=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(O)})})),this._parser.setExecuteHandlerFallback((O=>{this._logService.debug("Unknown EXECUTE code: ",{code:O})})),this._parser.setOscHandlerFallback(((O,$,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:O,action:$,data:ie})})),this._parser.setDcsHandlerFallback(((O,$,ie)=>{$==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(O),action:$,payload:ie})})),this._parser.setPrintHandler(((O,$,ie)=>this.print(O,$,ie))),this._parser.registerCsiHandler({final:"@"},(O=>this.insertChars(O))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(O=>this.scrollLeft(O))),this._parser.registerCsiHandler({final:"A"},(O=>this.cursorUp(O))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(O=>this.scrollRight(O))),this._parser.registerCsiHandler({final:"B"},(O=>this.cursorDown(O))),this._parser.registerCsiHandler({final:"C"},(O=>this.cursorForward(O))),this._parser.registerCsiHandler({final:"D"},(O=>this.cursorBackward(O))),this._parser.registerCsiHandler({final:"E"},(O=>this.cursorNextLine(O))),this._parser.registerCsiHandler({final:"F"},(O=>this.cursorPrecedingLine(O))),this._parser.registerCsiHandler({final:"G"},(O=>this.cursorCharAbsolute(O))),this._parser.registerCsiHandler({final:"H"},(O=>this.cursorPosition(O))),this._parser.registerCsiHandler({final:"I"},(O=>this.cursorForwardTab(O))),this._parser.registerCsiHandler({final:"J"},(O=>this.eraseInDisplay(O,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(O=>this.eraseInDisplay(O,!0))),this._parser.registerCsiHandler({final:"K"},(O=>this.eraseInLine(O,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(O=>this.eraseInLine(O,!0))),this._parser.registerCsiHandler({final:"L"},(O=>this.insertLines(O))),this._parser.registerCsiHandler({final:"M"},(O=>this.deleteLines(O))),this._parser.registerCsiHandler({final:"P"},(O=>this.deleteChars(O))),this._parser.registerCsiHandler({final:"S"},(O=>this.scrollUp(O))),this._parser.registerCsiHandler({final:"T"},(O=>this.scrollDown(O))),this._parser.registerCsiHandler({final:"X"},(O=>this.eraseChars(O))),this._parser.registerCsiHandler({final:"Z"},(O=>this.cursorBackwardTab(O))),this._parser.registerCsiHandler({final:"`"},(O=>this.charPosAbsolute(O))),this._parser.registerCsiHandler({final:"a"},(O=>this.hPositionRelative(O))),this._parser.registerCsiHandler({final:"b"},(O=>this.repeatPrecedingCharacter(O))),this._parser.registerCsiHandler({final:"c"},(O=>this.sendDeviceAttributesPrimary(O))),this._parser.registerCsiHandler({prefix:">",final:"c"},(O=>this.sendDeviceAttributesSecondary(O))),this._parser.registerCsiHandler({final:"d"},(O=>this.linePosAbsolute(O))),this._parser.registerCsiHandler({final:"e"},(O=>this.vPositionRelative(O))),this._parser.registerCsiHandler({final:"f"},(O=>this.hVPosition(O))),this._parser.registerCsiHandler({final:"g"},(O=>this.tabClear(O))),this._parser.registerCsiHandler({final:"h"},(O=>this.setMode(O))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(O=>this.setModePrivate(O))),this._parser.registerCsiHandler({final:"l"},(O=>this.resetMode(O))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(O=>this.resetModePrivate(O))),this._parser.registerCsiHandler({final:"m"},(O=>this.charAttributes(O))),this._parser.registerCsiHandler({final:"n"},(O=>this.deviceStatus(O))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(O=>this.deviceStatusPrivate(O))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(O=>this.softReset(O))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(O=>this.setCursorStyle(O))),this._parser.registerCsiHandler({final:"r"},(O=>this.setScrollRegion(O))),this._parser.registerCsiHandler({final:"s"},(O=>this.saveCursor(O))),this._parser.registerCsiHandler({final:"t"},(O=>this.windowOptions(O))),this._parser.registerCsiHandler({final:"u"},(O=>this.restoreCursor(O))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(O=>this.insertColumns(O))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(O=>this.deleteColumns(O))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(O=>this.selectProtected(O))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(O=>this.requestMode(O,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(O=>this.requestMode(O,!1))),this._parser.setExecuteHandler(f.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(f.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(f.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(f.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(f.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(f.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(f.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(f.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(f.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new R.OscHandler((O=>(this.setTitle(O),this.setIconName(O),!0)))),this._parser.registerOscHandler(1,new R.OscHandler((O=>this.setIconName(O)))),this._parser.registerOscHandler(2,new R.OscHandler((O=>this.setTitle(O)))),this._parser.registerOscHandler(4,new R.OscHandler((O=>this.setOrReportIndexedColor(O)))),this._parser.registerOscHandler(8,new R.OscHandler((O=>this.setHyperlink(O)))),this._parser.registerOscHandler(10,new R.OscHandler((O=>this.setOrReportFgColor(O)))),this._parser.registerOscHandler(11,new R.OscHandler((O=>this.setOrReportBgColor(O)))),this._parser.registerOscHandler(12,new R.OscHandler((O=>this.setOrReportCursorColor(O)))),this._parser.registerOscHandler(104,new R.OscHandler((O=>this.restoreIndexedColor(O)))),this._parser.registerOscHandler(110,new R.OscHandler((O=>this.restoreFgColor(O)))),this._parser.registerOscHandler(111,new R.OscHandler((O=>this.restoreBgColor(O)))),this._parser.registerOscHandler(112,new R.OscHandler((O=>this.restoreCursorColor(O)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const O in y.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:O},(()=>this.selectCharset("("+O))),this._parser.registerEscHandler({intermediates:")",final:O},(()=>this.selectCharset(")"+O))),this._parser.registerEscHandler({intermediates:"*",final:O},(()=>this.selectCharset("*"+O))),this._parser.registerEscHandler({intermediates:"+",final:O},(()=>this.selectCharset("+"+O))),this._parser.registerEscHandler({intermediates:"-",final:O},(()=>this.selectCharset("-"+O))),this._parser.registerEscHandler({intermediates:".",final:O},(()=>this.selectCharset("."+O))),this._parser.registerEscHandler({intermediates:"/",final:O},(()=>this.selectCharset("/"+O)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((O=>(this._logService.error("Parsing error: ",O),O))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler(((O,$)=>this.requestStatusString(O,$))))}_preserveStack(j,H,I,N){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=H,this._parseStack.decodedLength=I,this._parseStack.position=N}_logSlowResolvingAsync(j){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([j,new Promise(((H,I)=>setTimeout((()=>I("#SLOW_TIMEOUT")),5e3)))]).catch((H=>{if(H!=="#SLOW_TIMEOUT")throw H;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,H){let I,N=this._activeBuffer.x,G=this._activeBuffer.y,ee=0;const oe=this._parseStack.paused;if(oe){if(I=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,H))return this._logSlowResolvingAsync(I),I;N=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>q&&(ee=this._parseStack.position+q)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,(ue=>String.fromCharCode(ue))).join("")}"`),typeof j=="string"?j.split("").map((ue=>ue.charCodeAt(0))):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<q&&(this._parseBuffer=new Uint32Array(Math.min(j.length,q))),oe||this._dirtyRowTracker.clearRange(),j.length>q)for(let ue=ee;ue<j.length;ue+=q){const pe=ue+q<j.length?ue+q:j.length,O=typeof j=="string"?this._stringDecoder.decode(j.substring(ue,pe),this._parseBuffer):this._utf8Decoder.decode(j.subarray(ue,pe),this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,O))return this._preserveStack(N,G,O,ue),this._logSlowResolvingAsync(I),I}else if(!oe){const ue=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,ue))return this._preserveStack(N,G,ue,0),this._logSlowResolvingAsync(I),I}this._activeBuffer.x===N&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,H,I){let N,G;const ee=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,ue=this._bufferService.cols,pe=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,$=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&I-H>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodePoint(this._activeBuffer.x-1,0,1,$.fg,$.bg,$.extended);for(let ae=H;ae<I;++ae){if(N=j[ae],G=this._unicodeService.wcwidth(N),N<127&&ee){const ve=ee[String.fromCharCode(N)];ve&&(N=ve.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,E.stringFromCodePoint)(N)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=ue){if(pe){for(;this._activeBuffer.x<ue;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,1,$.fg,$.bg,$.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ue-1,G===2)continue}if(O&&(ie.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell($),$),ie.getWidth(ue-1)===2&&ie.setCellFromCodePoint(ue-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,$.fg,$.bg,$.extended)),ie.setCellFromCodePoint(this._activeBuffer.x++,N,G,$.fg,$.bg,$.extended),G>0)for(;--G;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,0,$.fg,$.bg,$.extended)}else ie.getWidth(this._activeBuffer.x-1)?ie.addCodepointToCell(this._activeBuffer.x-1,N):ie.addCodepointToCell(this._activeBuffer.x-2,N)}I-H>0&&(ie.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ue&&I-H>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodePoint(this._activeBuffer.x,0,1,$.fg,$.bg,$.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,H){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,H):this._parser.registerCsiHandler(j,(I=>!F(I.params[0],this._optionsService.rawOptions.windowOptions)||H(I)))}registerDcsHandler(j,H){return this._parser.registerDcsHandler(j,new k.DcsHandler(H))}registerEscHandler(j,H){return this._parser.registerEscHandler(j,H)}registerOscHandler(j,H){return this._parser.registerOscHandler(j,new R.OscHandler(H))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);H.hasWidth(this._activeBuffer.x)&&!H.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,H){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+H):(this._activeBuffer.x=j,this._activeBuffer.y=H),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,H){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+H)}cursorUp(j){const H=this._activeBuffer.y-this._activeBuffer.scrollTop;return H>=0?this._moveCursor(0,-Math.min(H,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const H=this._activeBuffer.scrollBottom-this._activeBuffer.y;return H>=0?this._moveCursor(0,Math.min(H,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const H=j.params[0];return H===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:H===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=j.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=j.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const H=j.params[0];return H===1&&(this._curAttrData.bg|=536870912),H!==2&&H!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,H,I,N=!1,G=!1){const ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);ee.replaceCells(H,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),N&&(ee.isWrapped=!1)}_resetBufferLine(j,H=!1){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);I&&(I.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),H),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),I.isWrapped=!1)}eraseInDisplay(j,H=!1){let I;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);I<this._bufferService.rows;I++)this._resetBufferLine(I,H);this._dirtyRowTracker.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0,H),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I,H);this._dirtyRowTracker.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowTracker.markDirty(I-1);I--;)this._resetBufferLine(I,H);this._dirtyRowTracker.markDirty(0);break;case 3:const N=this._activeBuffer.lines.length-this._bufferService.rows;N>0&&(this._activeBuffer.lines.trimStart(N),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-N,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-N,0),this._onScroll.fire(0))}return!0}eraseInLine(j,H=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,H);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,H)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let H=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y,N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-N+1;for(;H--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let H=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y;let N;for(N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-N;H--;)this._activeBuffer.lines.splice(I,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let H=j.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let H=j.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);N.deleteCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);N.insertCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);N.insertCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=j.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);N.deleteCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const H=j.params[0]||1,I=new Uint32Array(H);for(let N=0;N<H;++N)I[N]=this._parser.precedingCodepoint;return this.print(I,0,I.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let H=0;H<j.length;H++)switch(j.params[H]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let H=0;H<j.length;H++)switch(j.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),this._charsetService.setgCharset(1,y.DEFAULT_CHARSET),this._charsetService.setgCharset(2,y.DEFAULT_CHARSET),this._charsetService.setgCharset(3,y.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let H=0;H<j.length;H++)switch(j.params[H]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let H=0;H<j.length;H++)switch(j.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[H]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,H){const I=this._coreService.decPrivateModes,{activeProtocol:N,activeEncoding:G}=this._coreMouseService,ee=this._coreService,{buffers:oe,cols:ue}=this._bufferService,{active:pe,alt:O}=oe,$=this._optionsService.rawOptions,ie=ke=>ke?1:2,ae=j.params[0];return ve=ae,fe=H?ae===2?4:ae===4?ie(ee.modes.insertMode):ae===12?3:ae===20?ie($.convertEol):0:ae===1?ie(I.applicationCursorKeys):ae===3?$.windowOptions.setWinLines?ue===80?2:ue===132?1:0:0:ae===6?ie(I.origin):ae===7?ie(I.wraparound):ae===8?3:ae===9?ie(N==="X10"):ae===12?ie($.cursorBlink):ae===25?ie(!ee.isCursorHidden):ae===45?ie(I.reverseWraparound):ae===66?ie(I.applicationKeypad):ae===67?4:ae===1e3?ie(N==="VT200"):ae===1002?ie(N==="DRAG"):ae===1003?ie(N==="ANY"):ae===1004?ie(I.sendFocus):ae===1005?4:ae===1006?ie(G==="SGR"):ae===1015?4:ae===1016?ie(G==="SGR_PIXELS"):ae===1048?1:ae===47||ae===1047||ae===1049?ie(pe===O):ae===2004?ie(I.bracketedPasteMode):0,ee.triggerDataEvent(`${f.C0.ESC}[${H?"":"?"}${ve};${fe}$y`),!0;var ve,fe}_updateAttrColor(j,H,I,N,G){return H===2?(j|=50331648,j&=-16777216,j|=b.AttributeData.fromColorRGB([I,N,G])):H===5&&(j&=-50331904,j|=33554432|255&I),j}_extractColor(j,H,I){const N=[0,0,-1,0,0,0];let G=0,ee=0;do{if(N[ee+G]=j.params[H+ee],j.hasSubParams(H+ee)){const oe=j.getSubParams(H+ee);let ue=0;do N[1]===5&&(G=1),N[ee+ue+1+G]=oe[ue];while(++ue<oe.length&&ue+ee+1+G<N.length);break}if(N[1]===5&&ee+G>=2||N[1]===2&&ee+G>=5)break;N[1]&&(G=1)}while(++ee+H<j.length&&ee+G<N.length);for(let oe=2;oe<N.length;++oe)N[oe]===-1&&(N[oe]=0);switch(N[0]){case 38:I.fg=this._updateAttrColor(I.fg,N[1],N[3],N[4],N[5]);break;case 48:I.bg=this._updateAttrColor(I.bg,N[1],N[3],N[4],N[5]);break;case 58:I.extended=I.extended.clone(),I.extended.underlineColor=this._updateAttrColor(I.extended.underlineColor,N[1],N[3],N[4],N[5])}return ee}_processUnderline(j,H){H.extended=H.extended.clone(),(!~j||j>5)&&(j=1),H.extended.underlineStyle=j,H.fg|=268435456,j===0&&(H.fg&=-268435457),H.updateExtended()}_processSGR0(j){j.fg=n.DEFAULT_ATTR_DATA.fg,j.bg=n.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const H=j.length;let I;const N=this._curAttrData;for(let G=0;G<H;G++)I=j.params[G],I>=30&&I<=37?(N.fg&=-50331904,N.fg|=16777216|I-30):I>=40&&I<=47?(N.bg&=-50331904,N.bg|=16777216|I-40):I>=90&&I<=97?(N.fg&=-50331904,N.fg|=16777224|I-90):I>=100&&I<=107?(N.bg&=-50331904,N.bg|=16777224|I-100):I===0?this._processSGR0(N):I===1?N.fg|=134217728:I===3?N.bg|=67108864:I===4?(N.fg|=268435456,this._processUnderline(j.hasSubParams(G)?j.getSubParams(G)[0]:1,N)):I===5?N.fg|=536870912:I===7?N.fg|=67108864:I===8?N.fg|=1073741824:I===9?N.fg|=2147483648:I===2?N.bg|=134217728:I===21?this._processUnderline(2,N):I===22?(N.fg&=-134217729,N.bg&=-134217729):I===23?N.bg&=-67108865:I===24?(N.fg&=-268435457,this._processUnderline(0,N)):I===25?N.fg&=-536870913:I===27?N.fg&=-67108865:I===28?N.fg&=-1073741825:I===29?N.fg&=2147483647:I===39?(N.fg&=-67108864,N.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):I===49?(N.bg&=-67108864,N.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?G+=this._extractColor(j,G,N):I===53?N.bg|=1073741824:I===55?N.bg&=-1073741825:I===59?(N.extended=N.extended.clone(),N.extended.underlineColor=-1,N.updateExtended()):I===100?(N.fg&=-67108864,N.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,N.bg&=-67108864,N.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const H=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${H};${I}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const H=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${H};${I}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const H=j.params[0]||1;switch(H){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const I=H%2==1;return this._optionsService.options.cursorBlink=I,!0}setScrollRegion(j){const H=j.params[0]||1;let I;return(j.length<2||(I=j.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>H&&(this._activeBuffer.scrollTop=H-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0}windowOptions(j){if(!F(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const H=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:H!==2&&this._onRequestWindowsOptionsReport.fire(U.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(U.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:H!==0&&H!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),H!==0&&H!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:H!==0&&H!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),H!==0&&H!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const H=[],I=j.split(";");for(;I.length>1;){const N=I.shift(),G=I.shift();if(/^\d+$/.exec(N)){const ee=parseInt(N);if(P(ee))if(G==="?")H.push({type:0,index:ee});else{const oe=(0,x.parseColor)(G);oe&&H.push({type:1,index:ee,color:oe})}}}return H.length&&this._onColor.fire(H),!0}setHyperlink(j){const H=j.split(";");return!(H.length<2)&&(H[1]?this._createHyperlink(H[0],H[1]):!H[0]&&this._finishHyperlink())}_createHyperlink(j,H){this._getCurrentLinkId()&&this._finishHyperlink();const I=j.split(":");let N;const G=I.findIndex((ee=>ee.startsWith("id=")));return G!==-1&&(N=I[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:N,uri:H}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,H){const I=j.split(";");for(let N=0;N<I.length&&!(H>=this._specialColors.length);++N,++H)if(I[N]==="?")this._onColor.fire([{type:0,index:this._specialColors[H]}]);else{const G=(0,x.parseColor)(I[N]);G&&this._onColor.fire([{type:1,index:this._specialColors[H],color:G}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const H=[],I=j.split(";");for(let N=0;N<I.length;++N)if(/^\d+$/.exec(I[N])){const G=parseInt(I[N]);P(G)&&H.push({type:2,index:G})}return H.length&&this._onColor.fire(H),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(D[j[0]],y.CHARSETS[j[1]]||y.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new o.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let H=0;H<this._bufferService.rows;++H){const I=this._activeBuffer.ybase+this._activeBuffer.y+H,N=this._activeBuffer.lines.get(I);N&&(N.fill(j),N.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,H){const I=this._bufferService.buffer,N=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${G}${f.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${I.scrollTop+1};${I.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[N.cursorStyle]-(N.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,H){this._dirtyRowTracker.markRangeDirty(j,H)}}d.InputHandler=se;let re=class{constructor(K){this._bufferService=K,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(K){K<this.start?this.start=K:K>this.end&&(this.end=K)}markRangeDirty(K,j){K>j&&(W=K,K=j,j=W),K<this.start&&(this.start=K),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function P(K){return 0<=K&&K<256}re=g([S(0,C.IBufferService)],re)},844:(B,d)=>{function m(g){for(const S of g)S.dispose();g.length=0}Object.defineProperty(d,"__esModule",{value:!0}),d.getDisposeArrayDisposable=d.disposeArray=d.toDisposable=d.MutableDisposable=d.Disposable=void 0,d.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const g of this._disposables)g.dispose();this._disposables.length=0}register(g){return this._disposables.push(g),g}unregister(g){const S=this._disposables.indexOf(g);S!==-1&&this._disposables.splice(S,1)}},d.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(g){var S;this._isDisposed||g===this._value||((S=this._value)===null||S===void 0||S.dispose(),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}},d.toDisposable=function(g){return{dispose:g}},d.disposeArray=m,d.getDisposeArrayDisposable=function(g){return{dispose:()=>m(g)}}},1505:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FourKeyMap=d.TwoKeyMap=void 0;class m{constructor(){this._data={}}set(S,f,y){this._data[S]||(this._data[S]={}),this._data[S][f]=y}get(S,f){return this._data[S]?this._data[S][f]:void 0}clear(){this._data={}}}d.TwoKeyMap=m,d.FourKeyMap=class{constructor(){this._data=new m}set(g,S,f,y,A){this._data.get(g,S)||this._data.set(g,S,new m),this._data.get(g,S).set(f,y,A)}get(g,S,f,y){var A;return(A=this._data.get(g,S))===null||A===void 0?void 0:A.get(f,y)}clear(){this._data.clear()}}},6114:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.isChromeOS=d.isLinux=d.isWindows=d.isIphone=d.isIpad=d.isMac=d.getSafariVersion=d.isSafari=d.isLegacyEdge=d.isFirefox=d.isNode=void 0,d.isNode=typeof navigator>"u";const m=d.isNode?"node":navigator.userAgent,g=d.isNode?"node":navigator.platform;d.isFirefox=m.includes("Firefox"),d.isLegacyEdge=m.includes("Edge"),d.isSafari=/^((?!chrome|android).)*safari/i.test(m),d.getSafariVersion=function(){if(!d.isSafari)return 0;const S=m.match(/Version\/(\d+)/);return S===null||S.length<2?0:parseInt(S[1])},d.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(g),d.isIpad=g==="iPad",d.isIphone=g==="iPhone",d.isWindows=["Windows","Win16","Win32","WinCE"].includes(g),d.isLinux=g.indexOf("Linux")>=0,d.isChromeOS=/\bCrOS\b/.test(m)},6106:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SortedList=void 0;let m=0;d.SortedList=class{constructor(g){this._getKey=g,this._array=[]}clear(){this._array.length=0}insert(g){this._array.length!==0?(m=this._search(this._getKey(g)),this._array.splice(m,0,g)):this._array.push(g)}delete(g){if(this._array.length===0)return!1;const S=this._getKey(g);if(S===void 0||(m=this._search(S),m===-1)||this._getKey(this._array[m])!==S)return!1;do if(this._array[m]===g)return this._array.splice(m,1),!0;while(++m<this._array.length&&this._getKey(this._array[m])===S);return!1}*getKeyIterator(g){if(this._array.length!==0&&(m=this._search(g),!(m<0||m>=this._array.length)&&this._getKey(this._array[m])===g))do yield this._array[m];while(++m<this._array.length&&this._getKey(this._array[m])===g)}forEachByKey(g,S){if(this._array.length!==0&&(m=this._search(g),!(m<0||m>=this._array.length)&&this._getKey(this._array[m])===g))do S(this._array[m]);while(++m<this._array.length&&this._getKey(this._array[m])===g)}values(){return[...this._array].values()}_search(g){let S=0,f=this._array.length-1;for(;f>=S;){let y=S+f>>1;const A=this._getKey(this._array[y]);if(A>g)f=y-1;else{if(!(A<g)){for(;y>0&&this._getKey(this._array[y-1])===g;)y--;return y}S=y+1}}return S}}},7226:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DebouncedIdleTask=d.IdleTaskQueue=d.PriorityTaskQueue=void 0;const g=m(6114);class S{constructor(){this._tasks=[],this._i=0}enqueue(A){this._tasks.push(A),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(A){this._idleCallback=void 0;let T=0,E=0,n=A.timeRemaining(),_=0;for(;this._i<this._tasks.length;){if(T=Date.now(),this._tasks[this._i]()||this._i++,T=Math.max(1,Date.now()-T),E=Math.max(T,E),_=A.timeRemaining(),1.5*E>_)return n-T<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-T))}ms`),void this._start();n=_}this.clear()}}class f extends S{_requestCallback(A){return setTimeout((()=>A(this._createDeadline(16))))}_cancelCallback(A){clearTimeout(A)}_createDeadline(A){const T=Date.now()+A;return{timeRemaining:()=>Math.max(0,T-Date.now())}}}d.PriorityTaskQueue=f,d.IdleTaskQueue=!g.isNode&&"requestIdleCallback"in window?class extends S{_requestCallback(y){return requestIdleCallback(y)}_cancelCallback(y){cancelIdleCallback(y)}}:f,d.DebouncedIdleTask=class{constructor(){this._queue=new d.IdleTaskQueue}set(y){this._queue.clear(),this._queue.enqueue(y)}flush(){this._queue.flush()}}},9282:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.updateWindowsModeWrappedState=void 0;const g=m(643);d.updateWindowsModeWrappedState=function(S){const f=S.buffer.lines.get(S.buffer.ybase+S.buffer.y-1),y=f?.get(S.cols-1),A=S.buffer.lines.get(S.buffer.ybase+S.buffer.y);A&&y&&(A.isWrapped=y[g.CHAR_DATA_CODE_INDEX]!==g.NULL_CELL_CODE&&y[g.CHAR_DATA_CODE_INDEX]!==g.WHITESPACE_CELL_CODE)}},3734:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExtendedAttrs=d.AttributeData=void 0;class m{constructor(){this.fg=0,this.bg=0,this.extended=new g}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new m;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}d.AttributeData=m;class g{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,y=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=y}clone(){return new g(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}d.ExtendedAttrs=g},9092:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Buffer=d.MAX_BUFFER_SIZE=void 0;const g=m(6349),S=m(7226),f=m(3734),y=m(8437),A=m(4634),T=m(511),E=m(643),n=m(4863),_=m(7116);d.MAX_BUFFER_SIZE=4294967295,d.Buffer=class{constructor(h,o,b){this._hasScrollback=h,this._optionsService=o,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=T.CellData.fromCharData([0,E.NULL_CELL_CHAR,E.NULL_CELL_WIDTH,E.NULL_CELL_CODE]),this._whitespaceCell=T.CellData.fromCharData([0,E.WHITESPACE_CELL_CHAR,E.WHITESPACE_CELL_WIDTH,E.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new S.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(h){return h?(this._nullCell.fg=h.fg,this._nullCell.bg=h.bg,this._nullCell.extended=h.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(h){return h?(this._whitespaceCell.fg=h.fg,this._whitespaceCell.bg=h.bg,this._whitespaceCell.extended=h.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(h,o){return new y.BufferLine(this._bufferService.cols,this.getNullCell(h),o)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const h=this.ybase+this.y-this.ydisp;return h>=0&&h<this._rows}_getCorrectBufferLength(h){if(!this._hasScrollback)return h;const o=h+this._optionsService.rawOptions.scrollback;return o>d.MAX_BUFFER_SIZE?d.MAX_BUFFER_SIZE:o}fillViewportRows(h){if(this.lines.length===0){h===void 0&&(h=y.DEFAULT_ATTR_DATA);let o=this._rows;for(;o--;)this.lines.push(this.getBlankLine(h))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(h,o){const b=this.getNullCell(y.DEFAULT_ATTR_DATA);let C=0;const R=this._getCorrectBufferLength(o);if(R>this.lines.maxLength&&(this.lines.maxLength=R),this.lines.length>0){if(this._cols<h)for(let x=0;x<this.lines.length;x++)C+=+this.lines.get(x).resize(h,b);let k=0;if(this._rows<o)for(let x=this._rows;x<o;x++)this.lines.length<o+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new y.BufferLine(h,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(h,b)));else for(let x=this._rows;x>o;x--)this.lines.length>o+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(R<this.lines.maxLength){const x=this.lines.length-R;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=R}this.x=Math.min(this.x,h-1),this.y=Math.min(this.y,o-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,h-1),this.scrollTop=0}if(this.scrollBottom=o-1,this._isReflowEnabled&&(this._reflow(h,o),this._cols>h))for(let k=0;k<this.lines.length;k++)C+=+this.lines.get(k).resize(h,b);this._cols=h,this._rows=o,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let h=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,h=!1);let o=0;for(;this._memoryCleanupPosition<this.lines.length;)if(o+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),o>100)return!0;return h}get _isReflowEnabled(){const h=this._optionsService.rawOptions.windowsPty;return h&&h.buildNumber?this._hasScrollback&&h.backend==="conpty"&&h.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(h,o){this._cols!==h&&(h>this._cols?this._reflowLarger(h,o):this._reflowSmaller(h,o))}_reflowLarger(h,o){const b=(0,A.reflowLargerGetLinesToRemove)(this.lines,this._cols,h,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(b.length>0){const C=(0,A.reflowLargerCreateNewLayout)(this.lines,b);(0,A.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(h,o,C.countRemoved)}}_reflowLargerAdjustViewport(h,o,b){const C=this.getNullCell(y.DEFAULT_ATTR_DATA);let R=b;for(;R-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<o&&this.lines.push(new y.BufferLine(h,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(h,o){const b=this.getNullCell(y.DEFAULT_ATTR_DATA),C=[];let R=0;for(let k=this.lines.length-1;k>=0;k--){let x=this.lines.get(k);if(!x||!x.isWrapped&&x.getTrimmedLength()<=h)continue;const D=[x];for(;x.isWrapped&&k>0;)x=this.lines.get(--k),D.unshift(x);const q=this.ybase+this.y;if(q>=k&&q<k+D.length)continue;const F=D[D.length-1].getTrimmedLength(),U=(0,A.reflowSmallerGetNewLineLengths)(D,this._cols,h),W=U.length-D.length;let se;se=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+W):Math.max(0,this.lines.length-this.lines.maxLength+W);const re=[];for(let N=0;N<W;N++){const G=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);re.push(G)}re.length>0&&(C.push({start:k+D.length+R,newLines:re}),R+=re.length),D.push(...re);let P=U.length-1,K=U[P];K===0&&(P--,K=U[P]);let j=D.length-W-1,H=F;for(;j>=0;){const N=Math.min(H,K);if(D[P]===void 0)break;if(D[P].copyCellsFrom(D[j],H-N,K-N,N,!0),K-=N,K===0&&(P--,K=U[P]),H-=N,H===0){j--;const G=Math.max(j,0);H=(0,A.getWrappedLineTrimmedLength)(D,G,this._cols)}}for(let N=0;N<D.length;N++)U[N]<h&&D[N].setCell(U[N],b);let I=W-se;for(;I-- >0;)this.ybase===0?this.y<o-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+R)-o&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+W,this.ybase+o-1)}if(C.length>0){const k=[],x=[];for(let P=0;P<this.lines.length;P++)x.push(this.lines.get(P));const D=this.lines.length;let q=D-1,F=0,U=C[F];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+R);let W=0;for(let P=Math.min(this.lines.maxLength-1,D+R-1);P>=0;P--)if(U&&U.start>q+W){for(let K=U.newLines.length-1;K>=0;K--)this.lines.set(P--,U.newLines[K]);P++,k.push({index:q+1,amount:U.newLines.length}),W+=U.newLines.length,U=C[++F]}else this.lines.set(P,x[q--]);let se=0;for(let P=k.length-1;P>=0;P--)k[P].index+=se,this.lines.onInsertEmitter.fire(k[P]),se+=k[P].amount;const re=Math.max(0,D+R-this.lines.maxLength);re>0&&this.lines.onTrimEmitter.fire(re)}}translateBufferLineToString(h,o,b=0,C){const R=this.lines.get(h);return R?R.translateToString(o,b,C):""}getWrappedRangeForLine(h){let o=h,b=h;for(;o>0&&this.lines.get(o).isWrapped;)o--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:o,last:b}}setupTabStops(h){for(h!=null?this.tabs[h]||(h=this.prevStop(h)):(this.tabs={},h=0);h<this._cols;h+=this._optionsService.rawOptions.tabStopWidth)this.tabs[h]=!0}prevStop(h){for(h==null&&(h=this.x);!this.tabs[--h]&&h>0;);return h>=this._cols?this._cols-1:h<0?0:h}nextStop(h){for(h==null&&(h=this.x);!this.tabs[++h]&&h<this._cols;);return h>=this._cols?this._cols-1:h<0?0:h}clearMarkers(h){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].line===h&&(this.markers[o].dispose(),this.markers.splice(o--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].dispose(),this.markers.splice(h--,1);this._isClearing=!1}addMarker(h){const o=new n.Marker(h);return this.markers.push(o),o.register(this.lines.onTrim((b=>{o.line-=b,o.line<0&&o.dispose()}))),o.register(this.lines.onInsert((b=>{o.line>=b.index&&(o.line+=b.amount)}))),o.register(this.lines.onDelete((b=>{o.line>=b.index&&o.line<b.index+b.amount&&o.dispose(),o.line>b.index&&(o.line-=b.amount)}))),o.register(o.onDispose((()=>this._removeMarker(o)))),o}_removeMarker(h){this._isClearing||this.markers.splice(this.markers.indexOf(h),1)}}},8437:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferLine=d.DEFAULT_ATTR_DATA=void 0;const g=m(3734),S=m(511),f=m(643),y=m(482);d.DEFAULT_ATTR_DATA=Object.freeze(new g.AttributeData);let A=0;class T{constructor(n,_,h=!1){this.isWrapped=h,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const o=_||S.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let b=0;b<n;++b)this.setCell(b,o);this.length=n}get(n){const _=this._data[3*n+0],h=2097151&_;return[this._data[3*n+1],2097152&_?this._combined[n]:h?(0,y.stringFromCodePoint)(h):"",_>>22,2097152&_?this._combined[n].charCodeAt(this._combined[n].length-1):h]}set(n,_){this._data[3*n+1]=_[f.CHAR_DATA_ATTR_INDEX],_[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=_[1],this._data[3*n+0]=2097152|n|_[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=_[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const _=this._data[3*n+0];return 2097152&_?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&_}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const _=this._data[3*n+0];return 2097152&_?this._combined[n]:2097151&_?(0,y.stringFromCodePoint)(2097151&_):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,_){return A=3*n,_.content=this._data[A+0],_.fg=this._data[A+1],_.bg=this._data[A+2],2097152&_.content&&(_.combinedData=this._combined[n]),268435456&_.bg&&(_.extended=this._extendedAttrs[n]),_}setCell(n,_){2097152&_.content&&(this._combined[n]=_.combinedData),268435456&_.bg&&(this._extendedAttrs[n]=_.extended),this._data[3*n+0]=_.content,this._data[3*n+1]=_.fg,this._data[3*n+2]=_.bg}setCellFromCodePoint(n,_,h,o,b,C){268435456&b&&(this._extendedAttrs[n]=C),this._data[3*n+0]=_|h<<22,this._data[3*n+1]=o,this._data[3*n+2]=b}addCodepointToCell(n,_){let h=this._data[3*n+0];2097152&h?this._combined[n]+=(0,y.stringFromCodePoint)(_):(2097151&h?(this._combined[n]=(0,y.stringFromCodePoint)(2097151&h)+(0,y.stringFromCodePoint)(_),h&=-2097152,h|=2097152):h=_|4194304,this._data[3*n+0]=h)}insertCells(n,_,h,o){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs),_<this.length-n){const b=new S.CellData;for(let C=this.length-n-_-1;C>=0;--C)this.setCell(n+_+C,this.loadCell(n+C,b));for(let C=0;C<_;++C)this.setCell(n+C,h)}else for(let b=n;b<this.length;++b)this.setCell(b,h);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs)}deleteCells(n,_,h,o){if(n%=this.length,_<this.length-n){const b=new S.CellData;for(let C=0;C<this.length-n-_;++C)this.setCell(n+C,this.loadCell(n+_+C,b));for(let C=this.length-_;C<this.length;++C)this.setCell(C,h)}else for(let b=n;b<this.length;++b)this.setCell(b,h);n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodePoint(n,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs)}replaceCells(n,_,h,o,b=!1){if(b)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodePoint(n-1,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&!this.isProtected(_)&&this.setCellFromCodePoint(_,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs);n<_&&n<this.length;)this.isProtected(n)||this.setCell(n,h),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_,0,1,o?.fg||0,o?.bg||0,o?.extended||new g.ExtendedAttrs);n<_&&n<this.length;)this.setCell(n++,h)}resize(n,_){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const h=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*h)this._data=new Uint32Array(this._data.buffer,0,h);else{const o=new Uint32Array(h);o.set(this._data),this._data=o}for(let o=this.length;o<n;++o)this.setCell(o,_)}else{this._data=this._data.subarray(0,h);const o=Object.keys(this._combined);for(let C=0;C<o.length;C++){const R=parseInt(o[C],10);R>=n&&delete this._combined[R]}const b=Object.keys(this._extendedAttrs);for(let C=0;C<b.length;C++){const R=parseInt(b[C],10);R>=n&&delete this._extendedAttrs[R]}}return this.length=n,4*h*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,_=!1){if(_)for(let h=0;h<this.length;++h)this.isProtected(h)||this.setCell(h,n);else{this._combined={},this._extendedAttrs={};for(let h=0;h<this.length;++h)this.setCell(h,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const _ in n._combined)this._combined[_]=n._combined[_];this._extendedAttrs={};for(const _ in n._extendedAttrs)this._extendedAttrs[_]=n._extendedAttrs[_];this.isWrapped=n.isWrapped}clone(){const n=new T(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const _ in this._combined)n._combined[_]=this._combined[_];for(const _ in this._extendedAttrs)n._extendedAttrs[_]=this._extendedAttrs[_];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}getNoBgTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0]||50331648&this._data[3*n+2])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,_,h,o,b){const C=n._data;if(b)for(let k=o-1;k>=0;k--){for(let x=0;x<3;x++)this._data[3*(h+k)+x]=C[3*(_+k)+x];268435456&C[3*(_+k)+2]&&(this._extendedAttrs[h+k]=n._extendedAttrs[_+k])}else for(let k=0;k<o;k++){for(let x=0;x<3;x++)this._data[3*(h+k)+x]=C[3*(_+k)+x];268435456&C[3*(_+k)+2]&&(this._extendedAttrs[h+k]=n._extendedAttrs[_+k])}const R=Object.keys(n._combined);for(let k=0;k<R.length;k++){const x=parseInt(R[k],10);x>=_&&(this._combined[x-_+h]=n._combined[x])}}translateToString(n=!1,_=0,h=this.length){n&&(h=Math.min(h,this.getTrimmedLength()));let o="";for(;_<h;){const b=this._data[3*_+0],C=2097151&b;o+=2097152&b?this._combined[_]:C?(0,y.stringFromCodePoint)(C):f.WHITESPACE_CELL_CHAR,_+=b>>22||1}return o}}d.BufferLine=T},4841:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getRangeLength=void 0,d.getRangeLength=function(m,g){if(m.start.y>m.end.y)throw new Error(`Buffer range end (${m.end.x}, ${m.end.y}) cannot be before start (${m.start.x}, ${m.start.y})`);return g*(m.end.y-m.start.y)+(m.end.x-m.start.x+1)}},4634:(B,d)=>{function m(g,S,f){if(S===g.length-1)return g[S].getTrimmedLength();const y=!g[S].hasContent(f-1)&&g[S].getWidth(f-1)===1,A=g[S+1].getWidth(0)===2;return y&&A?f-1:f}Object.defineProperty(d,"__esModule",{value:!0}),d.getWrappedLineTrimmedLength=d.reflowSmallerGetNewLineLengths=d.reflowLargerApplyNewLayout=d.reflowLargerCreateNewLayout=d.reflowLargerGetLinesToRemove=void 0,d.reflowLargerGetLinesToRemove=function(g,S,f,y,A){const T=[];for(let E=0;E<g.length-1;E++){let n=E,_=g.get(++n);if(!_.isWrapped)continue;const h=[g.get(E)];for(;n<g.length&&_.isWrapped;)h.push(_),_=g.get(++n);if(y>=E&&y<n){E+=h.length-1;continue}let o=0,b=m(h,o,S),C=1,R=0;for(;C<h.length;){const x=m(h,C,S),D=x-R,q=f-b,F=Math.min(D,q);h[o].copyCellsFrom(h[C],R,b,F,!1),b+=F,b===f&&(o++,b=0),R+=F,R===x&&(C++,R=0),b===0&&o!==0&&h[o-1].getWidth(f-1)===2&&(h[o].copyCellsFrom(h[o-1],f-1,b++,1,!1),h[o-1].setCell(f-1,A))}h[o].replaceCells(b,f,A);let k=0;for(let x=h.length-1;x>0&&(x>o||h[x].getTrimmedLength()===0);x--)k++;k>0&&(T.push(E+h.length-k),T.push(k)),E+=h.length-1}return T},d.reflowLargerCreateNewLayout=function(g,S){const f=[];let y=0,A=S[y],T=0;for(let E=0;E<g.length;E++)if(A===E){const n=S[++y];g.onDeleteEmitter.fire({index:E-T,amount:n}),E+=n-1,T+=n,A=S[++y]}else f.push(E);return{layout:f,countRemoved:T}},d.reflowLargerApplyNewLayout=function(g,S){const f=[];for(let y=0;y<S.length;y++)f.push(g.get(S[y]));for(let y=0;y<f.length;y++)g.set(y,f[y]);g.length=S.length},d.reflowSmallerGetNewLineLengths=function(g,S,f){const y=[],A=g.map(((_,h)=>m(g,h,S))).reduce(((_,h)=>_+h));let T=0,E=0,n=0;for(;n<A;){if(A-n<f){y.push(A-n);break}T+=f;const _=m(g,E,S);T>_&&(T-=_,E++);const h=g[E].getWidth(T-1)===2;h&&T--;const o=h?f-1:f;y.push(o),n+=o}return y},d.getWrappedLineTrimmedLength=m},5295:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferSet=void 0;const g=m(8460),S=m(844),f=m(9092);class y extends S.Disposable{constructor(T,E){super(),this._optionsService=T,this._bufferService=E,this._onBufferActivate=this.register(new g.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(T){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(T),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(T,E){this._normal.resize(T,E),this._alt.resize(T,E),this.setupTabStops(T)}setupTabStops(T){this._normal.setupTabStops(T),this._alt.setupTabStops(T)}}d.BufferSet=y},511:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CellData=void 0;const g=m(482),S=m(643),f=m(3734);class y extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(T){const E=new y;return E.setFromCharData(T),E}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,g.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(T){this.fg=T[S.CHAR_DATA_ATTR_INDEX],this.bg=0;let E=!1;if(T[S.CHAR_DATA_CHAR_INDEX].length>2)E=!0;else if(T[S.CHAR_DATA_CHAR_INDEX].length===2){const n=T[S.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const _=T[S.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=_&&_<=57343?this.content=1024*(n-55296)+_-56320+65536|T[S.CHAR_DATA_WIDTH_INDEX]<<22:E=!0}else E=!0}else this.content=T[S.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|T[S.CHAR_DATA_WIDTH_INDEX]<<22;E&&(this.combinedData=T[S.CHAR_DATA_CHAR_INDEX],this.content=2097152|T[S.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}d.CellData=y},643:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WHITESPACE_CELL_CODE=d.WHITESPACE_CELL_WIDTH=d.WHITESPACE_CELL_CHAR=d.NULL_CELL_CODE=d.NULL_CELL_WIDTH=d.NULL_CELL_CHAR=d.CHAR_DATA_CODE_INDEX=d.CHAR_DATA_WIDTH_INDEX=d.CHAR_DATA_CHAR_INDEX=d.CHAR_DATA_ATTR_INDEX=d.DEFAULT_EXT=d.DEFAULT_ATTR=d.DEFAULT_COLOR=void 0,d.DEFAULT_COLOR=0,d.DEFAULT_ATTR=256|d.DEFAULT_COLOR<<9,d.DEFAULT_EXT=0,d.CHAR_DATA_ATTR_INDEX=0,d.CHAR_DATA_CHAR_INDEX=1,d.CHAR_DATA_WIDTH_INDEX=2,d.CHAR_DATA_CODE_INDEX=3,d.NULL_CELL_CHAR="",d.NULL_CELL_WIDTH=1,d.NULL_CELL_CODE=0,d.WHITESPACE_CELL_CHAR=" ",d.WHITESPACE_CELL_WIDTH=1,d.WHITESPACE_CELL_CODE=32},4863:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Marker=void 0;const g=m(8460),S=m(844);class f{get id(){return this._id}constructor(A){this.line=A,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,S.disposeArray)(this._disposables),this._disposables.length=0)}register(A){return this._disposables.push(A),A}}d.Marker=f,f._nextId=1},7116:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_CHARSET=d.CHARSETS=void 0,d.CHARSETS={},d.DEFAULT_CHARSET=d.CHARSETS.B,d.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},d.CHARSETS.A={"#":""},d.CHARSETS.B=void 0,d.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},d.CHARSETS.C=d.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},d.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},d.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},d.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},d.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},d.CHARSETS.E=d.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},d.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},d.CHARSETS.H=d.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},d.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(B,d)=>{var m,g,S;Object.defineProperty(d,"__esModule",{value:!0}),d.C1_ESCAPED=d.C1=d.C0=void 0,(function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""})(m||(d.C0=m={})),(function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""})(g||(d.C1=g={})),(function(f){f.ST=`${m.ESC}\\`})(S||(d.C1_ESCAPED=S={}))},7399:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.evaluateKeyboardEvent=void 0;const g=m(2584),S={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};d.evaluateKeyboardEvent=function(f,y,A,T){const E={type:0,cancel:!1,key:void 0},n=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?E.key=y?g.C0.ESC+"OA":g.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?E.key=y?g.C0.ESC+"OD":g.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?E.key=y?g.C0.ESC+"OC":g.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(E.key=y?g.C0.ESC+"OB":g.C0.ESC+"[B");break;case 8:if(f.altKey){E.key=g.C0.ESC+g.C0.DEL;break}E.key=g.C0.DEL;break;case 9:if(f.shiftKey){E.key=g.C0.ESC+"[Z";break}E.key=g.C0.HT,E.cancel=!0;break;case 13:E.key=f.altKey?g.C0.ESC+g.C0.CR:g.C0.CR,E.cancel=!0;break;case 27:E.key=g.C0.ESC,f.altKey&&(E.key=g.C0.ESC+g.C0.ESC),E.cancel=!0;break;case 37:if(f.metaKey)break;n?(E.key=g.C0.ESC+"[1;"+(n+1)+"D",E.key===g.C0.ESC+"[1;3D"&&(E.key=g.C0.ESC+(A?"b":"[1;5D"))):E.key=y?g.C0.ESC+"OD":g.C0.ESC+"[D";break;case 39:if(f.metaKey)break;n?(E.key=g.C0.ESC+"[1;"+(n+1)+"C",E.key===g.C0.ESC+"[1;3C"&&(E.key=g.C0.ESC+(A?"f":"[1;5C"))):E.key=y?g.C0.ESC+"OC":g.C0.ESC+"[C";break;case 38:if(f.metaKey)break;n?(E.key=g.C0.ESC+"[1;"+(n+1)+"A",A||E.key!==g.C0.ESC+"[1;3A"||(E.key=g.C0.ESC+"[1;5A")):E.key=y?g.C0.ESC+"OA":g.C0.ESC+"[A";break;case 40:if(f.metaKey)break;n?(E.key=g.C0.ESC+"[1;"+(n+1)+"B",A||E.key!==g.C0.ESC+"[1;3B"||(E.key=g.C0.ESC+"[1;5B")):E.key=y?g.C0.ESC+"OB":g.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(E.key=g.C0.ESC+"[2~");break;case 46:E.key=n?g.C0.ESC+"[3;"+(n+1)+"~":g.C0.ESC+"[3~";break;case 36:E.key=n?g.C0.ESC+"[1;"+(n+1)+"H":y?g.C0.ESC+"OH":g.C0.ESC+"[H";break;case 35:E.key=n?g.C0.ESC+"[1;"+(n+1)+"F":y?g.C0.ESC+"OF":g.C0.ESC+"[F";break;case 33:f.shiftKey?E.type=2:f.ctrlKey?E.key=g.C0.ESC+"[5;"+(n+1)+"~":E.key=g.C0.ESC+"[5~";break;case 34:f.shiftKey?E.type=3:f.ctrlKey?E.key=g.C0.ESC+"[6;"+(n+1)+"~":E.key=g.C0.ESC+"[6~";break;case 112:E.key=n?g.C0.ESC+"[1;"+(n+1)+"P":g.C0.ESC+"OP";break;case 113:E.key=n?g.C0.ESC+"[1;"+(n+1)+"Q":g.C0.ESC+"OQ";break;case 114:E.key=n?g.C0.ESC+"[1;"+(n+1)+"R":g.C0.ESC+"OR";break;case 115:E.key=n?g.C0.ESC+"[1;"+(n+1)+"S":g.C0.ESC+"OS";break;case 116:E.key=n?g.C0.ESC+"[15;"+(n+1)+"~":g.C0.ESC+"[15~";break;case 117:E.key=n?g.C0.ESC+"[17;"+(n+1)+"~":g.C0.ESC+"[17~";break;case 118:E.key=n?g.C0.ESC+"[18;"+(n+1)+"~":g.C0.ESC+"[18~";break;case 119:E.key=n?g.C0.ESC+"[19;"+(n+1)+"~":g.C0.ESC+"[19~";break;case 120:E.key=n?g.C0.ESC+"[20;"+(n+1)+"~":g.C0.ESC+"[20~";break;case 121:E.key=n?g.C0.ESC+"[21;"+(n+1)+"~":g.C0.ESC+"[21~";break;case 122:E.key=n?g.C0.ESC+"[23;"+(n+1)+"~":g.C0.ESC+"[23~";break;case 123:E.key=n?g.C0.ESC+"[24;"+(n+1)+"~":g.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(A&&!T||!f.altKey||f.metaKey)!A||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?E.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(E.key=g.C0.US),f.key==="@"&&(E.key=g.C0.NUL)):f.keyCode===65&&(E.type=1);else{const _=S[f.keyCode],h=_?.[f.shiftKey?1:0];if(h)E.key=g.C0.ESC+h;else if(f.keyCode>=65&&f.keyCode<=90){const o=f.ctrlKey?f.keyCode-64:f.keyCode+32;let b=String.fromCharCode(o);f.shiftKey&&(b=b.toUpperCase()),E.key=g.C0.ESC+b}else if(f.keyCode===32)E.key=g.C0.ESC+(f.ctrlKey?g.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let o=f.code.slice(3,4);f.shiftKey||(o=o.toLowerCase()),E.key=g.C0.ESC+o,E.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?E.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?E.key=g.C0.NUL:f.keyCode>=51&&f.keyCode<=55?E.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?E.key=g.C0.DEL:f.keyCode===219?E.key=g.C0.ESC:f.keyCode===220?E.key=g.C0.FS:f.keyCode===221&&(E.key=g.C0.GS)}return E}},482:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Utf8ToUtf32=d.StringToUtf32=d.utf32ToString=d.stringFromCodePoint=void 0,d.stringFromCodePoint=function(m){return m>65535?(m-=65536,String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):String.fromCharCode(m)},d.utf32ToString=function(m,g=0,S=m.length){let f="";for(let y=g;y<S;++y){let A=m[y];A>65535?(A-=65536,f+=String.fromCharCode(55296+(A>>10))+String.fromCharCode(A%1024+56320)):f+=String.fromCharCode(A)}return f},d.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(m,g){const S=m.length;if(!S)return 0;let f=0,y=0;if(this._interim){const A=m.charCodeAt(y++);56320<=A&&A<=57343?g[f++]=1024*(this._interim-55296)+A-56320+65536:(g[f++]=this._interim,g[f++]=A),this._interim=0}for(let A=y;A<S;++A){const T=m.charCodeAt(A);if(55296<=T&&T<=56319){if(++A>=S)return this._interim=T,f;const E=m.charCodeAt(A);56320<=E&&E<=57343?g[f++]=1024*(T-55296)+E-56320+65536:(g[f++]=T,g[f++]=E)}else T!==65279&&(g[f++]=T)}return f}},d.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(m,g){const S=m.length;if(!S)return 0;let f,y,A,T,E=0,n=0,_=0;if(this.interim[0]){let b=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let R,k=0;for(;(R=63&this.interim[++k])&&k<4;)C<<=6,C|=R;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,D=x-k;for(;_<D;){if(_>=S)return 0;if(R=m[_++],(192&R)!=128){_--,b=!0;break}this.interim[k++]=R,C<<=6,C|=63&R}b||(x===2?C<128?_--:g[E++]=C:x===3?C<2048||C>=55296&&C<=57343||C===65279||(g[E++]=C):C<65536||C>1114111||(g[E++]=C)),this.interim.fill(0)}const h=S-4;let o=_;for(;o<S;){for(;!(!(o<h)||128&(f=m[o])||128&(y=m[o+1])||128&(A=m[o+2])||128&(T=m[o+3]));)g[E++]=f,g[E++]=y,g[E++]=A,g[E++]=T,o+=4;if(f=m[o++],f<128)g[E++]=f;else if((224&f)==192){if(o>=S)return this.interim[0]=f,E;if(y=m[o++],(192&y)!=128){o--;continue}if(n=(31&f)<<6|63&y,n<128){o--;continue}g[E++]=n}else if((240&f)==224){if(o>=S)return this.interim[0]=f,E;if(y=m[o++],(192&y)!=128){o--;continue}if(o>=S)return this.interim[0]=f,this.interim[1]=y,E;if(A=m[o++],(192&A)!=128){o--;continue}if(n=(15&f)<<12|(63&y)<<6|63&A,n<2048||n>=55296&&n<=57343||n===65279)continue;g[E++]=n}else if((248&f)==240){if(o>=S)return this.interim[0]=f,E;if(y=m[o++],(192&y)!=128){o--;continue}if(o>=S)return this.interim[0]=f,this.interim[1]=y,E;if(A=m[o++],(192&A)!=128){o--;continue}if(o>=S)return this.interim[0]=f,this.interim[1]=y,this.interim[2]=A,E;if(T=m[o++],(192&T)!=128){o--;continue}if(n=(7&f)<<18|(63&y)<<12|(63&A)<<6|63&T,n<65536||n>1114111)continue;g[E++]=n}}return E}}},225:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeV6=void 0;const m=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],g=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let S;d.UnicodeV6=class{constructor(){if(this.version="6",!S){S=new Uint8Array(65536),S.fill(1),S[0]=0,S.fill(0,1,32),S.fill(0,127,160),S.fill(2,4352,4448),S[9001]=2,S[9002]=2,S.fill(2,11904,42192),S[12351]=1,S.fill(2,44032,55204),S.fill(2,63744,64256),S.fill(2,65040,65050),S.fill(2,65072,65136),S.fill(2,65280,65377),S.fill(2,65504,65511);for(let f=0;f<m.length;++f)S.fill(0,m[f][0],m[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?S[f]:(function(y,A){let T,E=0,n=A.length-1;if(y<A[0][0]||y>A[n][1])return!1;for(;n>=E;)if(T=E+n>>1,y>A[T][1])E=T+1;else{if(!(y<A[T][0]))return!0;n=T-1}return!1})(f,g)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WriteBuffer=void 0;const g=m(8460),S=m(844);class f extends S.Disposable{constructor(A){super(),this._action=A,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new g.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(A,T){if(T!==void 0&&this._syncCalls>T)return void(this._syncCalls=0);if(this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let E;for(this._isSyncWriting=!0;E=this._writeBuffer.shift();){this._action(E);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(A,T){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(T),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(T)}_innerWrite(A=0,T=!0){const E=A||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],_=this._action(n,T);if(_){const o=b=>Date.now()-E>=12?setTimeout((()=>this._innerWrite(0,b))):this._innerWrite(E,b);return void _.catch((b=>(queueMicrotask((()=>{throw b})),Promise.resolve(!1)))).then(o)}const h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-E>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}d.WriteBuffer=f},5941:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.toRgbString=d.parseColor=void 0;const m=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,g=/^[\da-f]+$/;function S(f,y){const A=f.toString(16),T=A.length<2?"0"+A:A;switch(y){case 4:return A[0];case 8:return T;case 12:return(T+T).slice(0,3);default:return T+T}}d.parseColor=function(f){if(!f)return;let y=f.toLowerCase();if(y.indexOf("rgb:")===0){y=y.slice(4);const A=m.exec(y);if(A){const T=A[1]?15:A[4]?255:A[7]?4095:65535;return[Math.round(parseInt(A[1]||A[4]||A[7]||A[10],16)/T*255),Math.round(parseInt(A[2]||A[5]||A[8]||A[11],16)/T*255),Math.round(parseInt(A[3]||A[6]||A[9]||A[12],16)/T*255)]}}else if(y.indexOf("#")===0&&(y=y.slice(1),g.exec(y)&&[3,6,9,12].includes(y.length))){const A=y.length/3,T=[0,0,0];for(let E=0;E<3;++E){const n=parseInt(y.slice(A*E,A*E+A),16);T[E]=A===1?n<<4:A===2?n:A===3?n>>4:n>>8}return T}},d.toRgbString=function(f,y=16){const[A,T,E]=f;return`rgb:${S(A,y)}/${S(T,y)}/${S(E,y)}`}},5770:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PAYLOAD_LIMIT=void 0,d.PAYLOAD_LIMIT=1e7},6351:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DcsHandler=d.DcsParser=void 0;const g=m(482),S=m(8742),f=m(5770),y=[];d.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=y,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}registerHandler(T,E){this._handlers[T]===void 0&&(this._handlers[T]=[]);const n=this._handlers[T];return n.push(E),{dispose:()=>{const _=n.indexOf(E);_!==-1&&n.splice(_,1)}}}clearHandler(T){this._handlers[T]&&delete this._handlers[T]}setHandlerFallback(T){this._handlerFb=T}reset(){if(this._active.length)for(let T=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;T>=0;--T)this._active[T].unhook(!1);this._stack.paused=!1,this._active=y,this._ident=0}hook(T,E){if(this.reset(),this._ident=T,this._active=this._handlers[T]||y,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(E);else this._handlerFb(this._ident,"HOOK",E)}put(T,E,n){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(T,E,n);else this._handlerFb(this._ident,"PUT",(0,g.utf32ToString)(T,E,n))}unhook(T,E=!0){if(this._active.length){let n=!1,_=this._active.length-1,h=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,n=E,h=this._stack.fallThrough,this._stack.paused=!1),!h&&n===!1){for(;_>=0&&(n=this._active[_].unhook(T),n!==!0);_--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,n;_--}for(;_>=0;_--)if(n=this._active[_].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",T);this._active=y,this._ident=0}};const A=new S.Params;A.addParam(0),d.DcsHandler=class{constructor(T){this._handler=T,this._data="",this._params=A,this._hitLimit=!1}hook(T){this._params=T.length>1||T.params[0]?T.clone():A,this._data="",this._hitLimit=!1}put(T,E,n){this._hitLimit||(this._data+=(0,g.utf32ToString)(T,E,n),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(T){let E=!1;if(this._hitLimit)E=!1;else if(T&&(E=this._handler(this._data,this._params),E instanceof Promise))return E.then((n=>(this._params=A,this._data="",this._hitLimit=!1,n)));return this._params=A,this._data="",this._hitLimit=!1,E}}},2015:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EscapeSequenceParser=d.VT500_TRANSITION_TABLE=d.TransitionTable=void 0;const g=m(844),S=m(8742),f=m(6242),y=m(6351);class A{constructor(_){this.table=new Uint8Array(_)}setDefault(_,h){this.table.fill(_<<4|h)}add(_,h,o,b){this.table[h<<8|_]=o<<4|b}addMany(_,h,o,b){for(let C=0;C<_.length;C++)this.table[h<<8|_[C]]=o<<4|b}}d.TransitionTable=A;const T=160;d.VT500_TRANSITION_TABLE=(function(){const n=new A(4095),_=Array.apply(null,Array(256)).map(((k,x)=>x)),h=(k,x)=>_.slice(k,x),o=h(32,127),b=h(0,24);b.push(25),b.push.apply(b,h(28,32));const C=h(0,14);let R;for(R in n.setDefault(1,0),n.addMany(o,0,2,0),C)n.addMany([24,26,153,154],R,3,0),n.addMany(h(128,144),R,3,0),n.addMany(h(144,152),R,3,0),n.add(156,R,0,0),n.add(27,R,11,1),n.add(157,R,4,8),n.addMany([152,158,159],R,0,7),n.add(155,R,11,3),n.add(144,R,11,9);return n.addMany(b,0,3,0),n.addMany(b,1,3,1),n.add(127,1,0,1),n.addMany(b,8,0,8),n.addMany(b,3,3,3),n.add(127,3,0,3),n.addMany(b,4,3,4),n.add(127,4,0,4),n.addMany(b,6,3,6),n.addMany(b,5,3,5),n.add(127,5,0,5),n.addMany(b,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(o,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(h(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(o,7,0,7),n.addMany(b,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(h(64,127),3,7,0),n.addMany(h(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(h(48,60),4,8,4),n.addMany(h(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(h(32,64),6,0,6),n.add(127,6,0,6),n.addMany(h(64,127),6,0,0),n.addMany(h(32,48),3,9,5),n.addMany(h(32,48),5,9,5),n.addMany(h(48,64),5,0,6),n.addMany(h(64,127),5,7,0),n.addMany(h(32,48),4,9,5),n.addMany(h(32,48),1,9,2),n.addMany(h(32,48),2,9,2),n.addMany(h(48,127),2,10,0),n.addMany(h(48,80),1,10,0),n.addMany(h(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(h(96,127),1,10,0),n.add(80,1,11,9),n.addMany(b,9,0,9),n.add(127,9,0,9),n.addMany(h(28,32),9,0,9),n.addMany(h(32,48),9,9,12),n.addMany(h(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(b,11,0,11),n.addMany(h(32,128),11,0,11),n.addMany(h(28,32),11,0,11),n.addMany(b,10,0,10),n.add(127,10,0,10),n.addMany(h(28,32),10,0,10),n.addMany(h(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(h(32,48),10,9,12),n.addMany(b,12,0,12),n.add(127,12,0,12),n.addMany(h(28,32),12,0,12),n.addMany(h(32,48),12,9,12),n.addMany(h(48,64),12,0,11),n.addMany(h(64,127),12,12,13),n.addMany(h(64,127),10,12,13),n.addMany(h(64,127),9,12,13),n.addMany(b,13,13,13),n.addMany(o,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(T,0,2,0),n.add(T,8,5,8),n.add(T,6,0,6),n.add(T,11,0,11),n.add(T,13,13,13),n})();class E extends g.Disposable{constructor(_=d.VT500_TRANSITION_TABLE){super(),this._transitions=_,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new S.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(h,o,b)=>{},this._executeHandlerFb=h=>{},this._csiHandlerFb=(h,o)=>{},this._escHandlerFb=h=>{},this._errorHandlerFb=h=>h,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,g.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new y.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(_,h=[64,126]){let o=0;if(_.prefix){if(_.prefix.length>1)throw new Error("only one byte as prefix supported");if(o=_.prefix.charCodeAt(0),o&&60>o||o>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(_.intermediates){if(_.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<_.intermediates.length;++C){const R=_.intermediates.charCodeAt(C);if(32>R||R>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");o<<=8,o|=R}}if(_.final.length!==1)throw new Error("final must be a single byte");const b=_.final.charCodeAt(0);if(h[0]>b||b>h[1])throw new Error(`final must be in range ${h[0]} .. ${h[1]}`);return o<<=8,o|=b,o}identToString(_){const h=[];for(;_;)h.push(String.fromCharCode(255&_)),_>>=8;return h.reverse().join("")}setPrintHandler(_){this._printHandler=_}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(_,h){const o=this._identifier(_,[48,126]);this._escHandlers[o]===void 0&&(this._escHandlers[o]=[]);const b=this._escHandlers[o];return b.push(h),{dispose:()=>{const C=b.indexOf(h);C!==-1&&b.splice(C,1)}}}clearEscHandler(_){this._escHandlers[this._identifier(_,[48,126])]&&delete this._escHandlers[this._identifier(_,[48,126])]}setEscHandlerFallback(_){this._escHandlerFb=_}setExecuteHandler(_,h){this._executeHandlers[_.charCodeAt(0)]=h}clearExecuteHandler(_){this._executeHandlers[_.charCodeAt(0)]&&delete this._executeHandlers[_.charCodeAt(0)]}setExecuteHandlerFallback(_){this._executeHandlerFb=_}registerCsiHandler(_,h){const o=this._identifier(_);this._csiHandlers[o]===void 0&&(this._csiHandlers[o]=[]);const b=this._csiHandlers[o];return b.push(h),{dispose:()=>{const C=b.indexOf(h);C!==-1&&b.splice(C,1)}}}clearCsiHandler(_){this._csiHandlers[this._identifier(_)]&&delete this._csiHandlers[this._identifier(_)]}setCsiHandlerFallback(_){this._csiHandlerFb=_}registerDcsHandler(_,h){return this._dcsParser.registerHandler(this._identifier(_),h)}clearDcsHandler(_){this._dcsParser.clearHandler(this._identifier(_))}setDcsHandlerFallback(_){this._dcsParser.setHandlerFallback(_)}registerOscHandler(_,h){return this._oscParser.registerHandler(_,h)}clearOscHandler(_){this._oscParser.clearHandler(_)}setOscHandlerFallback(_){this._oscParser.setHandlerFallback(_)}setErrorHandler(_){this._errorHandler=_}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(_,h,o,b,C){this._parseStack.state=_,this._parseStack.handlers=h,this._parseStack.handlerPos=o,this._parseStack.transition=b,this._parseStack.chunkPos=C}parse(_,h,o){let b,C=0,R=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(o===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(o===!1&&D>-1){for(;D>=0&&(b=x[D](this._params),b!==!0);D--)if(b instanceof Promise)return this._parseStack.handlerPos=D,b}this._parseStack.handlers=[];break;case 4:if(o===!1&&D>-1){for(;D>=0&&(b=x[D](),b!==!0);D--)if(b instanceof Promise)return this._parseStack.handlerPos=D,b}this._parseStack.handlers=[];break;case 6:if(C=_[this._parseStack.chunkPos],b=this._dcsParser.unhook(C!==24&&C!==26,o),b)return b;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=_[this._parseStack.chunkPos],b=this._oscParser.end(C!==24&&C!==26,o),b)return b;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let x=k;x<h;++x){switch(C=_[x],R=this._transitions.table[this.currentState<<8|(C<160?C:T)],R>>4){case 2:for(let W=x+1;;++W){if(W>=h||(C=_[W])<32||C>126&&C<T){this._printHandler(_,x,W),x=W-1;break}if(++W>=h||(C=_[W])<32||C>126&&C<T){this._printHandler(_,x,W),x=W-1;break}if(++W>=h||(C=_[W])<32||C>126&&C<T){this._printHandler(_,x,W),x=W-1;break}if(++W>=h||(C=_[W])<32||C>126&&C<T){this._printHandler(_,x,W),x=W-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const D=this._csiHandlers[this._collect<<8|C];let q=D?D.length-1:-1;for(;q>=0&&(b=D[q](this._params),b!==!0);q--)if(b instanceof Promise)return this._preserveStack(3,D,q,R,x),b;q<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++x<h&&(C=_[x])>47&&C<60);x--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const F=this._escHandlers[this._collect<<8|C];let U=F?F.length-1:-1;for(;U>=0&&(b=F[U](),b!==!0);U--)if(b instanceof Promise)return this._preserveStack(4,F,U,R,x),b;U<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let W=x+1;;++W)if(W>=h||(C=_[W])===24||C===26||C===27||C>127&&C<T){this._dcsParser.put(_,x,W),x=W-1;break}break;case 14:if(b=this._dcsParser.unhook(C!==24&&C!==26),b)return this._preserveStack(6,[],0,R,x),b;C===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let W=x+1;;W++)if(W>=h||(C=_[W])<32||C>127&&C<T){this._oscParser.put(_,x,W),x=W-1;break}break;case 6:if(b=this._oscParser.end(C!==24&&C!==26),b)return this._preserveStack(5,[],0,R,x),b;C===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&R}}}d.EscapeSequenceParser=E},6242:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OscHandler=d.OscParser=void 0;const g=m(5770),S=m(482),f=[];d.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(y,A){this._handlers[y]===void 0&&(this._handlers[y]=[]);const T=this._handlers[y];return T.push(A),{dispose:()=>{const E=T.indexOf(A);E!==-1&&T.splice(E,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].start();else this._handlerFb(this._id,"START")}_put(y,A,T){if(this._active.length)for(let E=this._active.length-1;E>=0;E--)this._active[E].put(y,A,T);else this._handlerFb(this._id,"PUT",(0,S.utf32ToString)(y,A,T))}start(){this.reset(),this._state=1}put(y,A,T){if(this._state!==3){if(this._state===1)for(;A<T;){const E=y[A++];if(E===59){this._state=2,this._start();break}if(E<48||57<E)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+E-48}this._state===2&&T-A>0&&this._put(y,A,T)}}end(y,A=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let T=!1,E=this._active.length-1,n=!1;if(this._stack.paused&&(E=this._stack.loopPosition-1,T=A,n=this._stack.fallThrough,this._stack.paused=!1),!n&&T===!1){for(;E>=0&&(T=this._active[E].end(y),T!==!0);E--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=E,this._stack.fallThrough=!1,T;E--}for(;E>=0;E--)if(T=this._active[E].end(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=E,this._stack.fallThrough=!0,T}else this._handlerFb(this._id,"END",y);this._active=f,this._id=-1,this._state=0}}},d.OscHandler=class{constructor(y){this._handler=y,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(y,A,T){this._hitLimit||(this._data+=(0,S.utf32ToString)(y,A,T),this._data.length>g.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(y){let A=!1;if(this._hitLimit)A=!1;else if(y&&(A=this._handler(this._data),A instanceof Promise))return A.then((T=>(this._data="",this._hitLimit=!1,T)));return this._data="",this._hitLimit=!1,A}}},8742:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Params=void 0;const m=2147483647;class g{static fromArray(f){const y=new g;if(!f.length)return y;for(let A=Array.isArray(f[0])?1:0;A<f.length;++A){const T=f[A];if(Array.isArray(T))for(let E=0;E<T.length;++E)y.addSubParam(T[E]);else y.addParam(T)}return y}constructor(f=32,y=32){if(this.maxLength=f,this.maxSubParamsLength=y,y>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(y),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new g(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let y=0;y<this.length;++y){f.push(this.params[y]);const A=this._subParamsIdx[y]>>8,T=255&this._subParamsIdx[y];T-A>0&&f.push(Array.prototype.slice.call(this._subParams,A,T))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>m?m:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>m?m:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const y=this._subParamsIdx[f]>>8,A=255&this._subParamsIdx[f];return A-y>0?this._subParams.subarray(y,A):null}getSubParamsAll(){const f={};for(let y=0;y<this.length;++y){const A=this._subParamsIdx[y]>>8,T=255&this._subParamsIdx[y];T-A>0&&(f[y]=this._subParams.slice(A,T))}return f}addDigit(f){let y;if(this._rejectDigits||!(y=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const A=this._digitIsSub?this._subParams:this.params,T=A[y-1];A[y-1]=~T?Math.min(10*T+f,m):f}}d.Params=g},5741:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AddonManager=void 0,d.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let m=this._addons.length-1;m>=0;m--)this._addons[m].instance.dispose()}loadAddon(m,g){const S={instance:g,dispose:g.dispose,isDisposed:!1};this._addons.push(S),g.dispose=()=>this._wrappedAddonDispose(S),g.activate(m)}_wrappedAddonDispose(m){if(m.isDisposed)return;let g=-1;for(let S=0;S<this._addons.length;S++)if(this._addons[S]===m){g=S;break}if(g===-1)throw new Error("Could not dispose an addon that has not been loaded");m.isDisposed=!0,m.dispose.apply(m.instance),this._addons.splice(g,1)}}},8771:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferApiView=void 0;const g=m(3785),S=m(511);d.BufferApiView=class{constructor(f,y){this._buffer=f,this.type=y}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const y=this._buffer.lines.get(f);if(y)return new g.BufferLineApiView(y)}getNullCell(){return new S.CellData}}},3785:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferLineApiView=void 0;const g=m(511);d.BufferLineApiView=class{constructor(S){this._line=S}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(S,f){if(!(S<0||S>=this._line.length))return f?(this._line.loadCell(S,f),f):this._line.loadCell(S,new g.CellData)}translateToString(S,f,y){return this._line.translateToString(S,f,y)}}},8285:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferNamespaceApi=void 0;const g=m(8771),S=m(8460),f=m(844);class y extends f.Disposable{constructor(T){super(),this._core=T,this._onBufferChange=this.register(new S.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new g.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new g.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}d.BufferNamespaceApi=y},7975:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ParserApi=void 0,d.ParserApi=class{constructor(m){this._core=m}registerCsiHandler(m,g){return this._core.registerCsiHandler(m,(S=>g(S.toArray())))}addCsiHandler(m,g){return this.registerCsiHandler(m,g)}registerDcsHandler(m,g){return this._core.registerDcsHandler(m,((S,f)=>g(S,f.toArray())))}addDcsHandler(m,g){return this.registerDcsHandler(m,g)}registerEscHandler(m,g){return this._core.registerEscHandler(m,g)}addEscHandler(m,g){return this.registerEscHandler(m,g)}registerOscHandler(m,g){return this._core.registerOscHandler(m,g)}addOscHandler(m,g){return this.registerOscHandler(m,g)}}},7090:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeApi=void 0,d.UnicodeApi=class{constructor(m){this._core=m}register(m){this._core.unicodeService.register(m)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(m){this._core.unicodeService.activeVersion=m}}},744:function(B,d,m){var g=this&&this.__decorate||function(n,_,h,o){var b,C=arguments.length,R=C<3?_:o===null?o=Object.getOwnPropertyDescriptor(_,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(n,_,h,o);else for(var k=n.length-1;k>=0;k--)(b=n[k])&&(R=(C<3?b(R):C>3?b(_,h,R):b(_,h))||R);return C>3&&R&&Object.defineProperty(_,h,R),R},S=this&&this.__param||function(n,_){return function(h,o){_(h,o,n)}};Object.defineProperty(d,"__esModule",{value:!0}),d.BufferService=d.MINIMUM_ROWS=d.MINIMUM_COLS=void 0;const f=m(8460),y=m(844),A=m(5295),T=m(2585);d.MINIMUM_COLS=2,d.MINIMUM_ROWS=1;let E=d.BufferService=class extends y.Disposable{get buffer(){return this.buffers.active}constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,d.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,d.MINIMUM_ROWS),this.buffers=this.register(new A.BufferSet(n,this))}resize(n,_){this.cols=n,this.rows=_,this.buffers.resize(n,_),this._onResize.fire({cols:n,rows:_})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,_=!1){const h=this.buffer;let o;o=this._cachedBlankLine,o&&o.length===this.cols&&o.getFg(0)===n.fg&&o.getBg(0)===n.bg||(o=h.getBlankLine(n,_),this._cachedBlankLine=o),o.isWrapped=_;const b=h.ybase+h.scrollTop,C=h.ybase+h.scrollBottom;if(h.scrollTop===0){const R=h.lines.isFull;C===h.lines.length-1?R?h.lines.recycle().copyFrom(o):h.lines.push(o.clone()):h.lines.splice(C+1,0,o.clone()),R?this.isUserScrolling&&(h.ydisp=Math.max(h.ydisp-1,0)):(h.ybase++,this.isUserScrolling||h.ydisp++)}else{const R=C-b+1;h.lines.shiftElements(b+1,R-1,-1),h.lines.set(C,o.clone())}this.isUserScrolling||(h.ydisp=h.ybase),this._onScroll.fire(h.ydisp)}scrollLines(n,_,h){const o=this.buffer;if(n<0){if(o.ydisp===0)return;this.isUserScrolling=!0}else n+o.ydisp>=o.ybase&&(this.isUserScrolling=!1);const b=o.ydisp;o.ydisp=Math.max(Math.min(o.ydisp+n,o.ybase),0),b!==o.ydisp&&(_||this._onScroll.fire(o.ydisp))}};d.BufferService=E=g([S(0,T.IOptionsService)],E)},7994:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharsetService=void 0,d.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(m){this.glevel=m,this.charset=this._charsets[m]}setgCharset(m,g){this._charsets[m]=g,this.glevel===m&&(this.charset=g)}}},1753:function(B,d,m){var g=this&&this.__decorate||function(o,b,C,R){var k,x=arguments.length,D=x<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(o,b,C,R);else for(var q=o.length-1;q>=0;q--)(k=o[q])&&(D=(x<3?k(D):x>3?k(b,C,D):k(b,C))||D);return x>3&&D&&Object.defineProperty(b,C,D),D},S=this&&this.__param||function(o,b){return function(C,R){b(C,R,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CoreMouseService=void 0;const f=m(2585),y=m(8460),A=m(844),T={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:o=>o.button!==4&&o.action===1&&(o.ctrl=!1,o.alt=!1,o.shift=!1,!0)},VT200:{events:19,restrict:o=>o.action!==32},DRAG:{events:23,restrict:o=>o.action!==32||o.button!==3},ANY:{events:31,restrict:o=>!0}};function E(o,b){let C=(o.ctrl?16:0)|(o.shift?4:0)|(o.alt?8:0);return o.button===4?(C|=64,C|=o.action):(C|=3&o.button,4&o.button&&(C|=64),8&o.button&&(C|=128),o.action===32?C|=32:o.action!==0||b||(C|=3)),C}const n=String.fromCharCode,_={DEFAULT:o=>{const b=[E(o,!1)+32,o.col+32,o.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${n(b[0])}${n(b[1])}${n(b[2])}`},SGR:o=>{const b=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${E(o,!0)};${o.col};${o.row}${b}`},SGR_PIXELS:o=>{const b=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${E(o,!0)};${o.x};${o.y}${b}`}};let h=d.CoreMouseService=class extends A.Disposable{constructor(o,b){super(),this._bufferService=o,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new y.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(T))this.addProtocol(C,T[C]);for(const C of Object.keys(_))this.addEncoding(C,_[C]);this.reset()}addProtocol(o,b){this._protocols[o]=b}addEncoding(o,b){this._encodings[o]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(o){if(!this._protocols[o])throw new Error(`unknown protocol "${o}"`);this._activeProtocol=o,this._onProtocolChange.fire(this._protocols[o].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(o){if(!this._encodings[o])throw new Error(`unknown encoding "${o}"`);this._activeEncoding=o}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(o){if(o.col<0||o.col>=this._bufferService.cols||o.row<0||o.row>=this._bufferService.rows||o.button===4&&o.action===32||o.button===3&&o.action!==32||o.button!==4&&(o.action===2||o.action===3)||(o.col++,o.row++,o.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,o,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(o))return!1;const b=this._encodings[this._activeEncoding](o);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=o,!0}explainEvents(o){return{down:!!(1&o),up:!!(2&o),drag:!!(4&o),move:!!(8&o),wheel:!!(16&o)}}_equalEvents(o,b,C){if(C){if(o.x!==b.x||o.y!==b.y)return!1}else if(o.col!==b.col||o.row!==b.row)return!1;return o.button===b.button&&o.action===b.action&&o.ctrl===b.ctrl&&o.alt===b.alt&&o.shift===b.shift}};d.CoreMouseService=h=g([S(0,f.IBufferService),S(1,f.ICoreService)],h)},6975:function(B,d,m){var g=this&&this.__decorate||function(h,o,b,C){var R,k=arguments.length,x=k<3?o:C===null?C=Object.getOwnPropertyDescriptor(o,b):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,o,b,C);else for(var D=h.length-1;D>=0;D--)(R=h[D])&&(x=(k<3?R(x):k>3?R(o,b,x):R(o,b))||x);return k>3&&x&&Object.defineProperty(o,b,x),x},S=this&&this.__param||function(h,o){return function(b,C){o(b,C,h)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CoreService=void 0;const f=m(1439),y=m(8460),A=m(844),T=m(2585),E=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let _=d.CoreService=class extends A.Disposable{constructor(h,o,b){super(),this._bufferService=h,this._logService=o,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new y.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new y.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(E),this.decPrivateModes=(0,f.clone)(n)}reset(){this.modes=(0,f.clone)(E),this.decPrivateModes=(0,f.clone)(n)}triggerDataEvent(h,o=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;o&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),o&&this._onUserInput.fire(),this._logService.debug(`sending data "${h}"`,(()=>h.split("").map((C=>C.charCodeAt(0))))),this._onData.fire(h)}triggerBinaryEvent(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${h}"`,(()=>h.split("").map((o=>o.charCodeAt(0))))),this._onBinary.fire(h))}};d.CoreService=_=g([S(0,T.IBufferService),S(1,T.ILogService),S(2,T.IOptionsService)],_)},9074:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DecorationService=void 0;const g=m(8055),S=m(8460),f=m(844),y=m(6106);let A=0,T=0;class E extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new y.SortedList((h=>h?.marker.line)),this._onDecorationRegistered=this.register(new S.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new S.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)((()=>this.reset())))}registerDecoration(h){if(h.marker.isDisposed)return;const o=new n(h);if(o){const b=o.marker.onDispose((()=>o.dispose()));o.onDispose((()=>{o&&(this._decorations.delete(o)&&this._onDecorationRemoved.fire(o),b.dispose())})),this._decorations.insert(o),this._onDecorationRegistered.fire(o)}return o}reset(){for(const h of this._decorations.values())h.dispose();this._decorations.clear()}*getDecorationsAtCell(h,o,b){var C,R,k;let x=0,D=0;for(const q of this._decorations.getKeyIterator(o))x=(C=q.options.x)!==null&&C!==void 0?C:0,D=x+((R=q.options.width)!==null&&R!==void 0?R:1),h>=x&&h<D&&(!b||((k=q.options.layer)!==null&&k!==void 0?k:"bottom")===b)&&(yield q)}forEachDecorationAtCell(h,o,b,C){this._decorations.forEachByKey(o,(R=>{var k,x,D;A=(k=R.options.x)!==null&&k!==void 0?k:0,T=A+((x=R.options.width)!==null&&x!==void 0?x:1),h>=A&&h<T&&(!b||((D=R.options.layer)!==null&&D!==void 0?D:"bottom")===b)&&C(R)}))}}d.DecorationService=E;class n extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=g.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=g.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(h){super(),this.options=h,this.onRenderEmitter=this.register(new S.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new S.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=h.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InstantiationService=d.ServiceCollection=void 0;const g=m(2585),S=m(8343);class f{constructor(...A){this._entries=new Map;for(const[T,E]of A)this.set(T,E)}set(A,T){const E=this._entries.get(A);return this._entries.set(A,T),E}forEach(A){for(const[T,E]of this._entries.entries())A(T,E)}has(A){return this._entries.has(A)}get(A){return this._entries.get(A)}}d.ServiceCollection=f,d.InstantiationService=class{constructor(){this._services=new f,this._services.set(g.IInstantiationService,this)}setService(y,A){this._services.set(y,A)}getService(y){return this._services.get(y)}createInstance(y,...A){const T=(0,S.getServiceDependencies)(y).sort(((_,h)=>_.index-h.index)),E=[];for(const _ of T){const h=this._services.get(_.id);if(!h)throw new Error(`[createInstance] ${y.name} depends on UNKNOWN service ${_.id}.`);E.push(h)}const n=T.length>0?T[0].index:A.length;if(A.length!==n)throw new Error(`[createInstance] First service dependency of ${y.name} at position ${n+1} conflicts with ${A.length} static arguments`);return new y(...A,...E)}}},7866:function(B,d,m){var g=this&&this.__decorate||function(n,_,h,o){var b,C=arguments.length,R=C<3?_:o===null?o=Object.getOwnPropertyDescriptor(_,h):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(n,_,h,o);else for(var k=n.length-1;k>=0;k--)(b=n[k])&&(R=(C<3?b(R):C>3?b(_,h,R):b(_,h))||R);return C>3&&R&&Object.defineProperty(_,h,R),R},S=this&&this.__param||function(n,_){return function(h,o){_(h,o,n)}};Object.defineProperty(d,"__esModule",{value:!0}),d.traceCall=d.setTraceLogger=d.LogService=void 0;const f=m(844),y=m(2585),A={trace:y.LogLevelEnum.TRACE,debug:y.LogLevelEnum.DEBUG,info:y.LogLevelEnum.INFO,warn:y.LogLevelEnum.WARN,error:y.LogLevelEnum.ERROR,off:y.LogLevelEnum.OFF};let T,E=d.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(n){super(),this._optionsService=n,this._logLevel=y.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),T=this}_updateLogLevel(){this._logLevel=A[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(n){for(let _=0;_<n.length;_++)typeof n[_]=="function"&&(n[_]=n[_]())}_log(n,_,h){this._evalLazyOptionalParams(h),n.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+_,...h)}trace(n,..._){var h,o;this._logLevel<=y.LogLevelEnum.TRACE&&this._log((o=(h=this._optionsService.options.logger)===null||h===void 0?void 0:h.trace.bind(this._optionsService.options.logger))!==null&&o!==void 0?o:console.log,n,_)}debug(n,..._){var h,o;this._logLevel<=y.LogLevelEnum.DEBUG&&this._log((o=(h=this._optionsService.options.logger)===null||h===void 0?void 0:h.debug.bind(this._optionsService.options.logger))!==null&&o!==void 0?o:console.log,n,_)}info(n,..._){var h,o;this._logLevel<=y.LogLevelEnum.INFO&&this._log((o=(h=this._optionsService.options.logger)===null||h===void 0?void 0:h.info.bind(this._optionsService.options.logger))!==null&&o!==void 0?o:console.info,n,_)}warn(n,..._){var h,o;this._logLevel<=y.LogLevelEnum.WARN&&this._log((o=(h=this._optionsService.options.logger)===null||h===void 0?void 0:h.warn.bind(this._optionsService.options.logger))!==null&&o!==void 0?o:console.warn,n,_)}error(n,..._){var h,o;this._logLevel<=y.LogLevelEnum.ERROR&&this._log((o=(h=this._optionsService.options.logger)===null||h===void 0?void 0:h.error.bind(this._optionsService.options.logger))!==null&&o!==void 0?o:console.error,n,_)}};d.LogService=E=g([S(0,y.IOptionsService)],E),d.setTraceLogger=function(n){T=n},d.traceCall=function(n,_,h){if(typeof h.value!="function")throw new Error("not supported");const o=h.value;h.value=function(...b){if(T.logLevel!==y.LogLevelEnum.TRACE)return o.apply(this,b);T.trace(`GlyphRenderer#${o.name}(${b.map((R=>JSON.stringify(R))).join(", ")})`);const C=o.apply(this,b);return T.trace(`GlyphRenderer#${o.name} return`,C),C}}},7302:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionsService=d.DEFAULT_OPTIONS=void 0;const g=m(8460),S=m(844),f=m(6114);d.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const y=["normal","bold","100","200","300","400","500","600","700","800","900"];class A extends S.Disposable{constructor(E){super(),this._onOptionChange=this.register(new g.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n=Object.assign({},d.DEFAULT_OPTIONS);for(const _ in E)if(_ in n)try{const h=E[_];n[_]=this._sanitizeAndValidateOption(_,h)}catch(h){console.error(h)}this.rawOptions=n,this.options=Object.assign({},n),this._setupOptions()}onSpecificOptionChange(E,n){return this.onOptionChange((_=>{_===E&&n(this.rawOptions[E])}))}onMultipleOptionChange(E,n){return this.onOptionChange((_=>{E.indexOf(_)!==-1&&n()}))}_setupOptions(){const E=_=>{if(!(_ in d.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);return this.rawOptions[_]},n=(_,h)=>{if(!(_ in d.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);h=this._sanitizeAndValidateOption(_,h),this.rawOptions[_]!==h&&(this.rawOptions[_]=h,this._onOptionChange.fire(_))};for(const _ in this.rawOptions){const h={get:E.bind(this,_),set:n.bind(this,_)};Object.defineProperty(this.options,_,h)}}_sanitizeAndValidateOption(E,n){switch(E){case"cursorStyle":if(n||(n=d.DEFAULT_OPTIONS[E]),!(function(_){return _==="block"||_==="underline"||_==="bar"})(n))throw new Error(`"${n}" is not a valid value for ${E}`);break;case"wordSeparator":n||(n=d.DEFAULT_OPTIONS[E]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=y.includes(n)?n:d.DEFAULT_OPTIONS[E];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${E} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${E} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${E} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&n!==0)throw new Error(`${E} must be numeric, value: ${n}`);break;case"windowsPty":n=n??{}}return n}}d.OptionsService=A},2660:function(B,d,m){var g=this&&this.__decorate||function(A,T,E,n){var _,h=arguments.length,o=h<3?T:n===null?n=Object.getOwnPropertyDescriptor(T,E):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(A,T,E,n);else for(var b=A.length-1;b>=0;b--)(_=A[b])&&(o=(h<3?_(o):h>3?_(T,E,o):_(T,E))||o);return h>3&&o&&Object.defineProperty(T,E,o),o},S=this&&this.__param||function(A,T){return function(E,n){T(E,n,A)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OscLinkService=void 0;const f=m(2585);let y=d.OscLinkService=class{constructor(A){this._bufferService=A,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(A){const T=this._bufferService.buffer;if(A.id===void 0){const b=T.addMarker(T.ybase+T.y),C={data:A,id:this._nextId++,lines:[b]};return b.onDispose((()=>this._removeMarkerFromLink(C,b))),this._dataByLinkId.set(C.id,C),C.id}const E=A,n=this._getEntryIdKey(E),_=this._entriesWithId.get(n);if(_)return this.addLineToLink(_.id,T.ybase+T.y),_.id;const h=T.addMarker(T.ybase+T.y),o={id:this._nextId++,key:this._getEntryIdKey(E),data:E,lines:[h]};return h.onDispose((()=>this._removeMarkerFromLink(o,h))),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(A,T){const E=this._dataByLinkId.get(A);if(E&&E.lines.every((n=>n.line!==T))){const n=this._bufferService.buffer.addMarker(T);E.lines.push(n),n.onDispose((()=>this._removeMarkerFromLink(E,n)))}}getLinkData(A){var T;return(T=this._dataByLinkId.get(A))===null||T===void 0?void 0:T.data}_getEntryIdKey(A){return`${A.id};;${A.uri}`}_removeMarkerFromLink(A,T){const E=A.lines.indexOf(T);E!==-1&&(A.lines.splice(E,1),A.lines.length===0&&(A.data.id!==void 0&&this._entriesWithId.delete(A.key),this._dataByLinkId.delete(A.id)))}};d.OscLinkService=y=g([S(0,f.IBufferService)],y)},8343:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createDecorator=d.getServiceDependencies=d.serviceRegistry=void 0;const m="di$target",g="di$dependencies";d.serviceRegistry=new Map,d.getServiceDependencies=function(S){return S[g]||[]},d.createDecorator=function(S){if(d.serviceRegistry.has(S))return d.serviceRegistry.get(S);const f=function(y,A,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(E,n,_){n[m]===n?n[g].push({id:E,index:_}):(n[g]=[{id:E,index:_}],n[m]=n)})(f,y,T)};return f.toString=()=>S,d.serviceRegistry.set(S,f),f}},2585:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.IDecorationService=d.IUnicodeService=d.IOscLinkService=d.IOptionsService=d.ILogService=d.LogLevelEnum=d.IInstantiationService=d.ICharsetService=d.ICoreService=d.ICoreMouseService=d.IBufferService=void 0;const g=m(8343);var S;d.IBufferService=(0,g.createDecorator)("BufferService"),d.ICoreMouseService=(0,g.createDecorator)("CoreMouseService"),d.ICoreService=(0,g.createDecorator)("CoreService"),d.ICharsetService=(0,g.createDecorator)("CharsetService"),d.IInstantiationService=(0,g.createDecorator)("InstantiationService"),(function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"})(S||(d.LogLevelEnum=S={})),d.ILogService=(0,g.createDecorator)("LogService"),d.IOptionsService=(0,g.createDecorator)("OptionsService"),d.IOscLinkService=(0,g.createDecorator)("OscLinkService"),d.IUnicodeService=(0,g.createDecorator)("UnicodeService"),d.IDecorationService=(0,g.createDecorator)("DecorationService")},1480:(B,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeService=void 0;const g=m(8460),S=m(225);d.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new g.EventEmitter,this.onChange=this._onChange.event;const f=new S.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let y=0;const A=f.length;for(let T=0;T<A;++T){let E=f.charCodeAt(T);if(55296<=E&&E<=56319){if(++T>=A)return y+this.wcwidth(E);const n=f.charCodeAt(T);56320<=n&&n<=57343?E=1024*(E-55296)+n-56320+65536:y+=this.wcwidth(n)}y+=this.wcwidth(E)}return y}}}},v={};function M(B){var d=v[B];if(d!==void 0)return d.exports;var m=v[B]={exports:{}};return u[B].call(m.exports,m,m.exports,M),m.exports}var z={};return(()=>{var B=z;Object.defineProperty(B,"__esModule",{value:!0}),B.Terminal=void 0;const d=M(9042),m=M(3236),g=M(844),S=M(5741),f=M(8285),y=M(7975),A=M(7090),T=["cols","rows"];class E extends g.Disposable{constructor(_){super(),this._core=this.register(new m.Terminal(_)),this._addonManager=this.register(new S.AddonManager),this._publicOptions=Object.assign({},this._core.options);const h=b=>this._core.options[b],o=(b,C)=>{this._checkReadonlyOptions(b),this._core.options[b]=C};for(const b in this._core.options){const C={get:h.bind(this,b),set:o.bind(this,b)};Object.defineProperty(this._publicOptions,b,C)}}_checkReadonlyOptions(_){if(T.includes(_))throw new Error(`Option "${_}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new A.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const _=this._core.coreService.decPrivateModes;let h="none";switch(this._core.coreMouseService.activeProtocol){case"X10":h="x10";break;case"VT200":h="vt200";break;case"DRAG":h="drag";break;case"ANY":h="any"}return{applicationCursorKeysMode:_.applicationCursorKeys,applicationKeypadMode:_.applicationKeypad,bracketedPasteMode:_.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:h,originMode:_.origin,reverseWraparoundMode:_.reverseWraparound,sendFocusMode:_.sendFocus,wraparoundMode:_.wraparound}}get options(){return this._publicOptions}set options(_){for(const h in _)this._publicOptions[h]=_[h]}blur(){this._core.blur()}focus(){this._core.focus()}resize(_,h){this._verifyIntegers(_,h),this._core.resize(_,h)}open(_){this._core.open(_)}attachCustomKeyEventHandler(_){this._core.attachCustomKeyEventHandler(_)}registerLinkProvider(_){return this._core.registerLinkProvider(_)}registerCharacterJoiner(_){return this._checkProposedApi(),this._core.registerCharacterJoiner(_)}deregisterCharacterJoiner(_){this._checkProposedApi(),this._core.deregisterCharacterJoiner(_)}registerMarker(_=0){return this._verifyIntegers(_),this._core.registerMarker(_)}registerDecoration(_){var h,o,b;return this._checkProposedApi(),this._verifyPositiveIntegers((h=_.x)!==null&&h!==void 0?h:0,(o=_.width)!==null&&o!==void 0?o:0,(b=_.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(_)}hasSelection(){return this._core.hasSelection()}select(_,h,o){this._verifyIntegers(_,h,o),this._core.select(_,h,o)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(_,h){this._verifyIntegers(_,h),this._core.selectLines(_,h)}dispose(){super.dispose()}scrollLines(_){this._verifyIntegers(_),this._core.scrollLines(_)}scrollPages(_){this._verifyIntegers(_),this._core.scrollPages(_)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(_){this._verifyIntegers(_),this._core.scrollToLine(_)}clear(){this._core.clear()}write(_,h){this._core.write(_,h)}writeln(_,h){this._core.write(_),this._core.write(`\r
`,h)}paste(_){this._core.paste(_)}refresh(_,h){this._verifyIntegers(_,h),this._core.refresh(_,h)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(_){this._addonManager.loadAddon(this,_)}static get strings(){return d}_verifyIntegers(..._){for(const h of _)if(h===1/0||isNaN(h)||h%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(..._){for(const h of _)if(h&&(h===1/0||isNaN(h)||h%1!=0||h<0))throw new Error("This API only accepts positive integers")}}B.Terminal=E})(),z})()))})(dc)),dc.exports}var mg=_g(),pc={exports:{}},Kd;function gg(){return Kd||(Kd=1,(function(c,p){(function(u,v){c.exports=v()})(self,(()=>(()=>{var u={};return(()=>{var v=u;Object.defineProperty(v,"__esModule",{value:!0}),v.FitAddon=void 0,v.FitAddon=class{activate(M){this._terminal=M}dispose(){}fit(){const M=this.proposeDimensions();if(!M||!this._terminal||isNaN(M.cols)||isNaN(M.rows))return;const z=this._terminal._core;this._terminal.rows===M.rows&&this._terminal.cols===M.cols||(z._renderService.clear(),this._terminal.resize(M.cols,M.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const M=this._terminal._core,z=M._renderService.dimensions;if(z.css.cell.width===0||z.css.cell.height===0)return;const B=this._terminal.options.scrollback===0?0:M.viewport.scrollBarWidth,d=window.getComputedStyle(this._terminal.element.parentElement),m=parseInt(d.getPropertyValue("height")),g=Math.max(0,parseInt(d.getPropertyValue("width"))),S=window.getComputedStyle(this._terminal.element),f=m-(parseInt(S.getPropertyValue("padding-top"))+parseInt(S.getPropertyValue("padding-bottom"))),y=g-(parseInt(S.getPropertyValue("padding-right"))+parseInt(S.getPropertyValue("padding-left")))-B;return{cols:Math.max(2,Math.floor(y/z.css.cell.width)),rows:Math.max(1,Math.floor(f/z.css.cell.height))}}}})(),u})()))})(pc)),pc.exports}var vg=gg(),_c={exports:{}},Xd;function bg(){return Xd||(Xd=1,(function(c,p){(function(u,v){c.exports=v()})(self,(()=>(()=>{var u={6:(B,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.LinkComputer=d.WebLinkProvider=void 0,d.WebLinkProvider=class{constructor(g,S,f,y={}){this._terminal=g,this._regex=S,this._handler=f,this._options=y}provideLinks(g,S){const f=m.computeLink(g,this._regex,this._terminal,this._handler);S(this._addCallbacks(f))}_addCallbacks(g){return g.map((S=>(S.leave=this._options.leave,S.hover=(f,y)=>{if(this._options.hover){const{range:A}=S;this._options.hover(f,y,A)}},S)))}};class m{static computeLink(S,f,y,A){const T=new RegExp(f.source,(f.flags||"")+"g"),[E,n]=m._getWindowedLineStrings(S-1,y),_=E.join("");let h;const o=[];for(;h=T.exec(_);){const b=h[0];try{const q=new URL(b),F=decodeURI(q.toString());if(b!==F&&b+"/"!==F)continue}catch{continue}const[C,R]=m._mapStrIdx(y,n,0,h.index),[k,x]=m._mapStrIdx(y,C,R,b.length);if(C===-1||R===-1||k===-1||x===-1)continue;const D={start:{x:R+1,y:C+1},end:{x,y:k+1}};o.push({range:D,text:b,activate:A})}return o}static _getWindowedLineStrings(S,f){let y,A=S,T=S,E=0,n="";const _=[];if(y=f.buffer.active.getLine(S)){const h=y.translateToString(!0);if(y.isWrapped&&h[0]!==" "){for(E=0;(y=f.buffer.active.getLine(--A))&&E<2048&&(n=y.translateToString(!0),E+=n.length,_.push(n),y.isWrapped&&n.indexOf(" ")===-1););_.reverse()}for(_.push(h),E=0;(y=f.buffer.active.getLine(++T))&&y.isWrapped&&E<2048&&(n=y.translateToString(!0),E+=n.length,_.push(n),n.indexOf(" ")===-1););}return[_,A]}static _mapStrIdx(S,f,y,A){const T=S.buffer.active,E=T.getNullCell();let n=y;for(;A;){const _=T.getLine(f);if(!_)return[-1,-1];for(let h=n;h<_.length;++h){_.getCell(h,E);const o=E.getChars();if(E.getWidth()&&(A-=o.length||1,h===_.length-1&&o==="")){const b=T.getLine(f+1);b&&b.isWrapped&&(b.getCell(0,E),E.getWidth()===2&&(A+=1))}if(A<0)return[f,h]}f++,n=0}return[f,n]}}d.LinkComputer=m}},v={};function M(B){var d=v[B];if(d!==void 0)return d.exports;var m=v[B]={exports:{}};return u[B](m,m.exports,M),m.exports}var z={};return(()=>{var B=z;Object.defineProperty(B,"__esModule",{value:!0}),B.WebLinksAddon=void 0;const d=M(6),m=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function g(S,f){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=f}else console.warn("Opening link blocked as opener could not be cleared")}B.WebLinksAddon=class{constructor(S=g,f={}){this._handler=S,this._options=f}activate(S){this._terminal=S;const f=this._options,y=f.urlRegex||m;this._linkProvider=this._terminal.registerLinkProvider(new d.WebLinkProvider(this._terminal,y,this._handler,f))}dispose(){var S;(S=this._linkProvider)===null||S===void 0||S.dispose()}}})(),z})()))})(_c)),_c.exports}var yg=bg();const hn=he.forwardRef((c,p)=>{const u=he.useRef(null),v=he.useRef(null),M=he.useRef(null),z=he.useRef(null),B=he.useRef(null),d=he.useRef(null),m=()=>{M.current&&(M.current.disconnect(),M.current=null)},g=(f,y="bash",A)=>{m();const T=c.socketUrl||"http://localhost:3000",E=La(T,{transports:["websocket"],forceNew:!0,reconnection:!1});M.current=E,E.on("connect",()=>{u.current?.clear(),y!="bash"&&u.current?.write(`\x1B[34m${f}\x1B[0m: ${y}\r
`),E.emit("terminal:start",{path:f,command:y,workspaceName:A}),u.current?.focus(),setTimeout(()=>{v.current?.fit()},100)}),E.on("terminal:log",n=>{u.current?.write(n)}),E.on("terminal:error",n=>{u.current?.write(`\x1B[31m${n}\x1B[0m`)}),E.on("terminal:exit",n=>{u.current?.write(`\r
\x1B[33mProcess exited with code ${n}\x1B[0m\r
`),n!==0&&(d.current&&d.current(n),c.onCrash&&c.onCrash(n)),B.current&&B.current(),c.onExit&&c.onExit()})};he.useImperativeHandle(p,()=>({write:f=>{u.current?.write(f)},input:f=>{if(M.current&&M.current.connected){const y=f.endsWith("\r")?f:f+"\r";M.current.emit("terminal:input",y)}else z.current&&z.current(f+"\r")},onData:f=>{z.current=f},onClose:f=>{B.current=f},onCrash:f=>{d.current=f},fit:()=>{v.current?.fit()},clear:()=>{u.current?.clear()},focus:()=>{u.current?.focus()},connect:(f,y="bash",A)=>{g(f,y,A)},disconnect:()=>{m()}})),he.useEffect(()=>{c.startingText&&u.current&&u.current.write(c.startingText)},[c.startingText]),he.useEffect(()=>()=>{m()},[]),he.useEffect(()=>{const f=u.current;if(!f)return;const y=c.isInteractive??!0;f.options.disableStdin=!y,f.options.cursorBlink=y,f.options.cursorStyle=y?"block":"underline",y?f.options.theme={...f.options.theme,cursor:"#ffffff"}:f.options.theme={...f.options.theme,cursor:"transparent"}},[c.isInteractive]);const S=f=>{M.current&&M.current.connected&&M.current.emit("terminal:input",f),z.current&&z.current(f)};return l.jsx("div",{className:`h-full w-full ${c.className||""}`,children:l.jsx(xg,{ref:v,terminalRef:u,onData:S})})});hn.displayName="InteractiveTerminal";const xg=he.forwardRef((c,p)=>{const u=he.useRef(null),v=he.useRef(null),M=he.useRef(null),z=he.useRef(c.onData);return he.useImperativeHandle(p,()=>({fit:()=>{try{M.current?.fit()}catch{}}})),he.useEffect(()=>{z.current=c.onData},[c.onData]),he.useEffect(()=>{if(!u.current)return;const B=new mg.Terminal({cursorBlink:!0,allowTransparency:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:15,theme:{background:"#00000000",foreground:"#f3f4f6",cursor:"#ffffff",selectionBackground:"#374151"},convertEol:!0}),d=new vg.FitAddon,m=new yg.WebLinksAddon;B.loadAddon(d),B.loadAddon(m);const g=setTimeout(()=>{if(u.current){B.open(u.current);try{d.fit()}catch(f){console.warn("Fit failed on init:",f)}}},0);v.current=B,M.current=d,c.terminalRef&&(c.terminalRef.current=B),B.onData(f=>{z.current&&z.current(f)});const S=new ResizeObserver(()=>{try{d.fit()}catch{}});return S.observe(u.current),()=>{clearTimeout(g),S.disconnect(),B.dispose()}},[]),l.jsx("div",{className:"h-full w-full overflow-hidden bg-transparent p-1",ref:u})});function Sg(c){const p=Le.use.setWorkSpaceRunningAs(),u=he.useRef(null);return he.useEffect(()=>()=>{u.current&&u.current.disconnect()},[]),he.useEffect(()=>{const v=c.workspace.isRunningAs;v==="dev"||v==="start"?u.current&&(u.current.connect(c.workspace.info.path,`npm run ${v}`,c.workspace.info.name),u.current.onCrash(()=>{p(c.workspace.info.name,"crashed")})):v=="crashed"?u.current&&u.current.disconnect():u.current&&(u.current.disconnect(),u.current.clear())},[c.workspace.isRunningAs]),l.jsx("div",{className:`w-full h-full ${c.visible?"block":"hidden"}`,children:l.jsx(hn,{ref:u,isInteractive:!1})})}function Cg(c){const p=Le.use.setActiveTerminal(),u=Le.use.stopProcess(),v=Le.use.setWorkSpaceRunningAs(),[M,z]=he.useState(!1),B=Le.use.activeTerminal(),d=B===c.workspace.info.name;async function m(){if(!(M||!B))try{z(!0),await u(B),v(B,null),z(!1),p("")}catch(g){console.error(g),z(!1)}}return l.jsxs("div",{onClick:()=>p(c.workspace.info.name),className:`
                group relative flex items-center justify-between w-48 w-7 px-3 
                cursor-pointer transition-all duration-300 select-none
                rounded-t-md
                ${d?"bg-gray-900 text-white":"bg-[#0a0a0a] text-gray-500 hover:bg-[#121212] hover:text-gray-300"}
            `,children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[l.jsx("div",{className:`
                    flex-none w-6 h-6 flex items-center justify-center rounded-md
                    transition-colors duration-300
                    ${d?"bg-blue-500/10 text-blue-400":"bg-transparent text-gray-600 group-hover:text-gray-400"}
                `,children:l.jsx("i",{className:`${c.workspace.info.fontawesomeIcon??"fas fa-terminal"} text-xs`})}),l.jsx("span",{className:"truncate text-xs font-semibold tracking-wide",children:c.workspace.info.name})]}),l.jsx("button",{onClick:g=>{g.stopPropagation(),m()},disabled:M,className:`
                    w-6 h-6 flex-none flex items-center justify-center rounded-md 
                    transition-all duration-200
                    ${d?"opacity-0 group-hover:opacity-100":"hidden"}
                    ${M?"text-blue-400 cursor-wait":"text-gray-500 hover:bg-red-500/20 hover:text-red-400"}
                `,title:"Stop Process",children:l.jsx("i",{className:`fas ${M?"fa-circle-notch animate-spin":"fa-times"} text-xs`})})]})}function wg(){const c=Le.use.workspace(),p=Le.use.activeTerminal();return l.jsxs("div",{className:"w-full h-full flex flex-col",children:[l.jsx("header",{className:"flex-none w-full pt-1 flex h-9 flex-wrap select-none",children:c.map(u=>{if(u.isRunningAs!=null)return l.jsx(Cg,{workspace:u},u.info.name)})}),l.jsxs("div",{className:"flex-1 overflow-hidden px-4 py-1 border-t border-gray-900/80 relative",children:[(!p||!c.some(u=>u.info.name===p&&(u.isRunningAs==="dev"||u.isRunningAs==="start")))&&l.jsxs("div",{className:"absolute inset-0 flex flex-col gap-4 items-center justify-center opacity-40 select-none pointer-events-none",children:[l.jsx("div",{className:"w-16 h-16  rounded-full flex items-center justify-center shadow-inner",children:l.jsx("i",{className:"fas fa-terminal text-2xl text-gray-600"})}),l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Select a running workspace to view terminal"})]}),c.map(u=>l.jsx(Sg,{workspace:u,visible:p==u.info.name&&u.isRunningAs!=null},u.info.name))]})]})}function Eg({children:c}){return l.jsx("div",{className:"bg-gradient-to-b from-[#050505] to-[#191919]",children:c})}const ur={blueIndigo:"from-blue-500 to-indigo-600",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function cr(c){return c.isNotRendered||c.render!=null&&c.render==!1?null:l.jsx(Ag,{...c})}function Ag(c){const p=ur.blueIndigo,u=c.color&&ur[c.color]?ur[c.color]:c.color||p;return l.jsxs("button",{disabled:c.disabled,onClick:c.disabled?void 0:()=>c.onClick(),className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${c.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg"}
            `,children:[!c.disabled&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${u} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),l.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${u} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),l.jsxs("div",{className:`
                relative h-full w-full rounded bg-[#212121] p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
                ${!c.disabled&&!c.bg?"group-hover:bg-[#212121]/70":""}
            `,children:[c.bg&&l.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${u} opacity-20`}),l.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${u} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:l.jsx("i",{className:`fas ${c.icon||"fa-circle"} text-sm`})}),l.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[l.jsx("span",{className:`
                        font-bold text-md truncate transition-colors duration-300
                        ${c.disabled?"text-gray-500":c.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:c.name}),l.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${c.disabled?"text-gray-600":c.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:c.description})]})]})]},c.name)}function Tg(c){const p=Le.use.loadingWorkspace(),u=Le.use.setWorkSpaceRunningAs(),v=Le.use.setActiveTerminal(),M=Le.use.stopInteractiveTerminal(),[z,B]=he.useState(!1);return he.useEffect(()=>{p==c.info.name?B(!0):B(!1)},[p]),l.jsxs("div",{className:"flex-1 flex gap-2",children:[l.jsx(cr,{onClick:()=>{},name:"Loading",description:"...",color:"blueIndigo",icon:"fas fa-spinner animate-spin",disabled:!0,render:z}),l.jsx(cr,{onClick:async()=>{await M(c.info.name),u(c.info.name,null)},name:"App is Running",description:"Click to stop",color:"orangePurple",icon:"fas fa-check-circle",disabled:!1,render:!z&&c.isRunningAs=="start"}),l.jsx(cr,{onClick:async()=>{await M(c.info.name),u(c.info.name,null)},name:"Development Server",description:"Click to stop",color:"emeraldTeal",icon:"fas fa-check-circle",disabled:!1,render:!z&&c.isRunningAs=="dev",bg:c.isRunningAs=="dev"}),l.jsx(cr,{onClick:()=>{B(!0),u(c.info.name,"start"),v(c.info.name),setTimeout(()=>B(!1),1e3)},name:"Start",description:"npm run start",color:"orangePurple",icon:"fas fa-play",disabled:!1,render:!!(!z&&c.isRunningAs!="dev"&&c.isRunningAs!="start"&&c.isRunningAs!="crashed"&&c.info.startCommand)}),l.jsx(cr,{onClick:()=>{B(!0),u(c.info.name,"dev"),v(c.info.name),setTimeout(()=>B(!1),1e3)},name:"Dev",description:"npm run dev",color:"blueIndigo",icon:"fas fa-code",disabled:!1,render:!!(!z&&c.isRunningAs!="dev"&&c.isRunningAs!="start"&&c.isRunningAs!="crashed"&&c.info.devCommand)}),l.jsx(cr,{onClick:async()=>{M(c.info.name,!0),u(c.info.name,null)},name:"Crashed",description:"Crashed",color:"red",icon:"fas fa-code",disabled:!1,render:!z&&c.isRunningAs=="crashed",bg:!0})]})}function Rg(c){const p=Le.use.setActiveWorkspaceOptionModal(),u=Le.use.setShowNewTerminalWindow();return l.jsxs(Eg,{children:[l.jsxs("header",{className:"p-3 flex items-start gap-4 bg-gradient-to-b from-white/5 to-transparent",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center border border-white/10 group-hover:border-blue-500/50 transition-colors",children:l.jsx("i",{className:`${c.info.fontawesomeIcon??"fa fa-cube"} text-gray-400 group-hover:text-blue-400 text-xl transition-colors`})}),l.jsxs("div",{className:"flex flex-col h-12 overflow-hidden flex-1",children:[l.jsx("h3",{className:"text-base font-bold text-gray-200 group-hover:text-white leading-tight mb-1 transition-colors",children:c.info.name}),l.jsx("p",{className:"text-gray-500 group-hover:text-gray-400 text-xs truncate transition-colors",children:c.info.description})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>u(c.info),className:"w-8 h-8 rounded-lg bg-gray-800/50 hover:bg-blue-600 hover:text-white text-gray-500 flex items-center justify-center transition-colors",children:l.jsx("i",{className:"fas fa-terminal text-xs"})}),l.jsx("button",{onClick:()=>p(c.info),className:"group/btn flex-none w-8 h-8 rounded-lg border border-white/10 hover:border-white/30 text-gray-500 hover:text-white hover:bg-white/5 transition-all flex items-center justify-center p-0",title:"Options",children:l.jsx("i",{className:"fas fa-cog group-hover/btn:rotate-90 transition-transform duration-300 text-xs"})})]})]}),l.jsx("div",{className:"mt-auto p-3 bg-black/20 border-t border-white/5 flex gap-2 relative",children:l.jsx(Tg,{...c})})]})}function hr({label:c,icon:p,placeholder:u,value:v,onChange:M}){return l.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[l.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:c}),l.jsx("div",{className:"relative group rounded-lg transition-all duration-300",children:l.jsx("div",{className:`relative p-[1px] rounded-lg bg-gradient-to-r 
                    from-gray-700/40 to-gray-800/40 
                    group-focus-within:from-blue-500/40 
                    group-focus-within:to-purple-600/40
                    transition-colors duration-300`,children:l.jsxs("div",{className:"relative bg-gray/[0.1] rounded flex items-center overflow-hidden",children:[l.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:l.jsx("i",{className:`${p} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),l.jsx("input",{type:"text",className:"pl-3 pr-4 py-2.5 text-sm w-full text-white placeholder-gray-600 focus:outline-none",placeholder:u,value:v,onChange:z=>{M(z)}})]})})})]})}function za({close:c,title:p,description:u,icon:v}){return l.jsxs("header",{className:"px-5 py-2 flex justify-between items-center bg-white/[0.05]",children:[l.jsxs("div",{className:"text-md font-bold text-white flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-blue-500/20",children:l.jsx("i",{className:v||"fas fa-cube text-white text-lg"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-lg font-bold bg-clip-text text-white",children:p}),l.jsx("span",{className:"text-gray-500 font-medium text-xs",children:u})]})]}),l.jsx("button",{onClick:c,className:"w-8 h-8 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all flex items-center justify-center",children:l.jsx("i",{className:"fas fa-times text-sm"})})]})}function Ua(c){const{children:p,height:u,width:v}=c,M=v||"650px",z=u||"80vh";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/40 backdrop-blur-sm","aria-hidden":"true"}),l.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 pointer-events-none",children:l.jsxs("div",{onClick:B=>B.stopPropagation(),className:`
                        pointer-events-auto
                        relative flex flex-col
                        w-[95%] md:w-[${M}]
                        h-[${z}]
                        rounded-2xl overflow-hidden 
                        shadow-2xl shadow-blue-900/20 
                        animate-fade-in-up
                    `,style:{width:M},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/40 via-purple-500/40 to-pink-500/40 pointer-events-none"}),l.jsx("div",{className:"absolute inset-[2px] bg-[#0A0A0A] rounded-[15px] pointer-events-none"}),l.jsx("div",{className:"relative flex flex-col h-full bg-transparent z-10",children:p})]})})]})}function Dg(){const c=Le.use.activeWorkspaceOptionModal(),p=Le.use.setActiveWorkspaceOptionModal(),u=Le.use.updateWorkspace(),v=Le.use.loadWorkspace(),[M,z]=he.useState(null),[B,d]=he.useState(""),[m,g]=he.useState("");he.useEffect(()=>{c&&(z(c),d(c.name))},[c]);function S(){p(null),d(".")}async function f(){if(!M)return;if(M.name.length<1){g("Package name cannot be empty");return}if(!await u(M)){g("Failed to update workspace");return}await v(),S()}return c?l.jsxs(Ua,{children:[l.jsx(za,{close:S,title:B,description:M?.path??""}),l.jsxs("div",{className:"p-4 flex-1 overflow-y-auto text-md",children:[m&&l.jsx("p",{className:"text-red-500 mb-2",children:m}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[{pkg:"name",label:"Package Name",icon:"fas fa-cube",placeholder:"Workspace Name"},{pkg:"fontawesomeIcon",label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon"}].map(y=>l.jsx(hr,{label:y.label,icon:y.icon,placeholder:y.placeholder,value:M?.[y.pkg]||"",onChange:A=>{M&&z({...M,[y.pkg]:A.target.value})}},y.pkg))}),l.jsx(hr,{label:"Description",icon:"fas fa-info",placeholder:"(optional) Description",value:M?.description||"",onChange:y=>{M&&z({...M,description:y.target.value})}},"description"),l.jsx("h4",{className:"my-4 w-full font-semibold text-gray-500 uppercase tracking-wider flex items-center",children:l.jsxs("p",{className:"flex-1 text-sm",children:[l.jsx("i",{className:"fas fa-terminal mr-2"}),l.jsx("span",{children:"Scripts & Commands"})]})}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{pkg:"devCommand",label:"Dev Command",icon:"fas fa-code",placeholder:"ex: nodemon index.js"},{pkg:"startCommand",label:"Start Command",icon:"fas fa-code",placeholder:"ex: node index.js"},{pkg:"stopCommand",label:"Stop Command",icon:"fas fa-code",placeholder:"ex: npx -y kill-port 3000"},{pkg:"buildCommand",label:"Build Command",icon:"fas fa-code",placeholder:"ex: tsc"},{pkg:"cleanCommand",label:"Clean Command",icon:"fas fa-code",placeholder:"ex: rm -rf dist"},{pkg:"lintCommand",label:"Lint Command",icon:"fas fa-code",placeholder:"ex: lint ."},{pkg:"testCommand",label:"Test Command",icon:"fas fa-code",placeholder:"ex: jest"}].map(y=>l.jsx(hr,{label:y.label,icon:y.icon,placeholder:y.placeholder,value:M?.[y.pkg]||"",onChange:A=>{M&&z({...M,[y.pkg]:A.target.value})}},y.pkg))})]}),l.jsxs("footer",{className:"p-2 px-6 flex justify-end gap-4",children:[l.jsxs("button",{onClick:S,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[l.jsx("span",{className:"relative z-10",children:"Cancel"}),l.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsxs("button",{onClick:f,className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-save"}),"Save"]})]})]})]}):null}function kg({label:c,icon:p,value:u,onChange:v,options:M,placeholder:z="Select an option"}){return l.jsxs("div",{className:"flex flex-col gap-2 w-full m-0 p-0 group/input",children:[l.jsx("label",{className:"text-xs font-bold tracking-wider text-gray-400 group-focus-within/input:text-blue-400 transition-colors uppercase",children:c}),l.jsxs("div",{className:"relative group rounded-lg transition-all duration-300",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg opacity-0 group-focus-within:opacity-100 blur transition-opacity duration-300 -z-10"}),l.jsx("div",{className:"relative p-[1px] rounded-lg bg-gradient-to-r from-gray-700 to-gray-800 group-focus-within:from-blue-500 group-focus-within:to-purple-600 transition-colors duration-300",children:l.jsxs("div",{className:"relative bg-[#0A0A0A] rounded-[7px] flex items-center overflow-hidden",children:[l.jsx("div",{className:"pl-3 flex items-center pointer-events-none",children:l.jsx("i",{className:`${p} text-gray-500 group-focus-within:text-blue-400 transition-colors text-sm`})}),l.jsxs("select",{value:u,onChange:v,className:"appearance-none pl-3 pr-10 py-2.5 text-sm w-full bg-transparent text-gray-200 placeholder-gray-600 focus:outline-none cursor-pointer",children:[l.jsx("option",{value:"",disabled:!0,className:"bg-gray-900 text-gray-500",children:z}),M.map((B,d)=>{const m=typeof B=="string"?B:B.label,g=typeof B=="string"?B:B.value||B.path||"";return l.jsx("option",{value:g,className:"bg-[#0A0A0A] text-gray-300",children:m},d)})]}),l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:l.jsx("i",{className:"fas fa-chevron-down text-gray-500 group-focus-within:text-blue-400 text-xs transition-colors"})})]})})]})]})}const $d={name:"",path:"",fontawesomeIcon:"",description:"",devCommand:"",startCommand:"",stopCommand:"",buildCommand:"",cleanCommand:"",lintCommand:"",testCommand:""};function Ng(){const[c,p]=he.useState($d),[u,v]=he.useState([]),[M,z]=he.useState(""),B=Le.use.showWorkspaceNew(),d=Le.use.workspace(),m=Le.use.createNewWorkspace(),g=Le.use.setShowWorkspaceNew(),S=Le.use.setShowNewTerminalWindow(),f=Le.use.loadWorkspace();he.useEffect(()=>{B&&(p($d),(async()=>{const n=await(await fetch(`http://localhost:${rt.apiPort}/${st.listWorkspacesDir}`)).json();v(n)})())},[B]);function y(){z(""),g(!1)}async function A(){if(c.name===""||c.path===""){z("Package name and path is required");return}if(d.find(n=>n.info.name===c.name)){z("Package name already exist");return}const E={name:c.name,path:c.path+"/"+c.name,devCommand:c.devCommand,fontawesomeIcon:c.fontawesomeIcon||void 0,description:c.description||void 0,startCommand:c.startCommand||void 0,stopCommand:c.stopCommand||void 0,buildCommand:c.buildCommand||void 0,cleanCommand:c.cleanCommand||void 0,lintCommand:c.lintCommand||void 0,testCommand:c.testCommand||void 0};try{await m(E)&&(f(),S(E),y())}catch{z("Failed to create workspace")}}return B?l.jsxs(Ua,{children:[l.jsx(za,{close:y,title:"New Workspace",description:"Create a new workspace"}),l.jsxs("div",{className:"p-3 flex-1 overflow-y-auto text-md",children:[M&&l.jsx("p",{className:"text-red-500",children:M}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[l.jsx(hr,{label:"Package Name",icon:"fa fa-cube",placeholder:"Package and Folder Name",value:c?.name||"",onChange:T=>{c&&p({...c,name:T.target.value})}}),l.jsx(kg,{label:"Path",icon:"fas fa-folder",placeholder:"Select a path",value:c?.path||"",onChange:T=>{c&&p({...c,path:T.target.value})},options:u})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[{pkg:"fontawesomeIcon",label:"Icon",icon:"fas fa-icons",placeholder:"(optional) fontawesome icon"},{pkg:"description",label:"Description",icon:"fas fa-info",placeholder:"(optional) description"}].map(T=>l.jsx(hr,{label:T.label,icon:T.icon,placeholder:T.placeholder,value:c?.[T.pkg]||"",onChange:E=>{c&&p({...c,[T.pkg]:E.target.value})}},T.pkg))}),l.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[{pkg:"devCommand",label:"Dev Command",icon:"fas fa-code",placeholder:"ex: nodemon index.js"},{pkg:"startCommand",label:"Start Command",icon:"fas fa-code",placeholder:"ex: node index.js"},{pkg:"stopCommand",label:"Stop Command",icon:"fas fa-code",placeholder:"ex: npx -y kill-port 3000"},{pkg:"buildCommand",label:"Build Command",icon:"fas fa-code",placeholder:"ex: tsc"},{pkg:"cleanCommand",label:"Clean Command",icon:"fas fa-code",placeholder:"ex: rm -rf dist"},{pkg:"lintCommand",label:"Lint Command",icon:"fas fa-code",placeholder:"ex: lint ."},{pkg:"testCommand",label:"Test Command",icon:"fas fa-code",placeholder:"ex: jest"}].map(T=>l.jsx(hr,{label:T.label,icon:T.icon,placeholder:T.placeholder,value:c?.[T.pkg]||"",onChange:E=>{c&&p({...c,[T.pkg]:E.target.value})}},T.pkg))})]}),l.jsxs("footer",{className:"p-2 px-6 flex justify-end gap-4",children:[l.jsxs("button",{onClick:y,className:"group relative px-6 py-2 rounded-lg font-medium text-sm text-gray-400 hover:text-white transition-colors overflow-hidden",children:[l.jsx("span",{className:"relative z-10",children:"Cancel"}),l.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsxs("button",{onClick:A,className:"group relative px-6 py-2 rounded-lg font-bold text-sm text-white transition-all hover:shadow-[0_0_20px_-5px_rgba(59,130,246,0.5)]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-plus"}),"New Workspace"]})]})]})]}):null}function jg(){const c=Le.use.showNewTerminalWindow(),p=Le.use.setShowNewTerminalWindow(),u=he.useRef(null),v=()=>{u.current&&u.current.disconnect(),p(null)};return he.useEffect(()=>{if(c&&u.current){const M=setTimeout(()=>{u.current?.connect(c.path,"bash",c.name),u.current?.focus()},50);return()=>clearTimeout(M)}},[c]),c?l.jsxs(Ua,{children:[l.jsx(za,{close:v,title:c.name||"",description:c.description||"",icon:"fas fa-terminal text-blue-500 text-xl"}),l.jsx("div",{className:"flex-1 overflow-hidden p-2",children:l.jsx(hn,{ref:u,isInteractive:!0,className:"h-full"})})]}):null}const Qd={default:"from-blue-600/50 to-purple-600/50",blueIndigo:"from-blue-500 to-indigo-600",emeraldTeal:"from-emerald-500 to-teal-600",yellowOrange:"from-yellow-500 to-orange-600",pinkRose:"from-pink-500 to-rose-600",gray:"from-gray-500 to-gray-600",red:"from-red-500 to-red-600",skyBlue:"from-blue-400 to-blue-500",cyanBlue:"from-cyan-500 to-blue-600",darkRed:"from-red-600 to-red-700",orangePurple:"from-orange-500 to-purple-600",purplePink:"from-purple-500 to-pink-500",indigoFuchsia:"from-indigo-500 to-fuchsia-500",tealLime:"from-teal-500 to-lime-500",bluePurple:"from-blue-500 to-purple-600"};function mc(c){const p=c.spanTo??"toLeft",u=Qd[c.color]??c.color??Qd.default,v={toLeft:{btnFlex:"flex-row justify-end",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toRight:{btnFlex:"flex-row justify-start",contentFlex:"flex-row",textAnim:"w-0 group-hover:w-auto ml-0 group-hover:ml-3"},toTop:{btnFlex:"flex-col justify-end",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"},toBottom:{btnFlex:"flex-col justify-start",contentFlex:"flex-col",textAnim:"h-0 group-hover:h-auto mt-0 group-hover:mt-3"}},M=v[p]||v.toLeft;return l.jsx("button",{onClick:c.onClick,className:`group fixed z-50 flex items-center ${M.btnFlex}`,style:{top:c.top,right:c.right,bottom:c.bottom,left:c.left},children:l.jsx("div",{className:`relative flex items-center ${M.contentFlex} p-[1px] rounded-xl bg-gradient-to-r ${u} transition-transform duration-300 group-hover:scale-105`,children:l.jsxs("div",{className:`relative flex items-center ${M.contentFlex} bg-[#0A0A0A] rounded-xl px-4 py-3 transition-colors duration-300 group-hover:bg-[#0A0A0A]/80`,children:[l.jsx("i",{className:c.icon+" w-6 h-6 text-xl bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400"}),l.jsx("span",{className:`font-bold overflow-hidden transition-all duration-300 whitespace-nowrap text-white ${M.textAnim}`,children:c.text})]})})})}function Og(){const c=Le.use.workspace(),p=Le.use.setShowWorkspaceNew(),u=si.use.setShowTerminal(),[v,M]=he.useState(!0);async function z(){try{let B=[];c.filter(f=>f.isRunningAs!=null).length>0&&(B=c.filter(f=>f.isRunningAs==null).map(f=>f.info.path)),(await(await fetch(`http://localhost:${rt.apiPort}/${st.hideShowFileFolder}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hide:v,pathInclude:B})})).json()).isHidden?M(!1):M(!0)}catch(B){console.error("Error toggling files visibility:",B)}}return l.jsxs(l.Fragment,{children:[l.jsx(mc,{onClick:()=>u(!0),bottom:156,right:16,icon:"fa-solid fa-terminal",text:"Root Terminal"}),l.jsx(mc,{onClick:()=>z(),bottom:82,right:16,icon:v?"fa-solid fa-eye-slash":"fa-solid fa-eye",text:v?"Hide Files":"Show Files"}),l.jsx(mc,{onClick:()=>p(!0),bottom:8,right:16,icon:"fa-solid fa-plus",text:"Add Workspace"})]})}const Lg=Zi()((c,p)=>({loading:!1,history:[],branch:"",commitMessage:"",selectedCommit:null,commitLoading:!1,setLoading:u=>c({loading:u}),setCommitMessage:u=>c({commitMessage:u}),setSelectedCommit:u=>c({selectedCommit:u}),fetchData:async()=>{c({loading:!0});try{const[u,v]=await Promise.all([fetch(`http://localhost:${rt.apiPort}/${st.gitControl}/history`),fetch(`http://localhost:${rt.apiPort}/${st.gitControl}/branch`)]),M=await u.json(),z=await v.json();c({history:M.history||[],branch:z.branch||""})}catch(u){console.error("Failed to fetch git data",u)}finally{c({loading:!1})}},handleCommit:async u=>{u&&u.preventDefault();const{commitMessage:v}=p();if(v.trim()){c({commitLoading:!0});try{await fetch(`http://localhost:${rt.apiPort}/${st.gitControl}/push`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v})}),c({commitMessage:""}),c({loading:!0}),await p().fetchData()}catch(M){console.error("Failed to commit and push",M),alert("Failed to commit and push")}finally{c({commitLoading:!1}),c({loading:!1})}}},handleRevert:async()=>{const{selectedCommit:u}=p();if(u){c({loading:!0});try{await fetch(`http://localhost:${rt.apiPort}/${st.gitControl}/revert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hash:u.hash})}),c({selectedCommit:null}),await p().fetchData()}catch(v){console.error("Failed to revert",v),alert("Failed to revert")}finally{c({loading:!1})}}}})),pt=Ji(Lg);function Mg(){const c=pt.use.loading(),p=pt.use.history(),u=pt.use.setSelectedCommit();return l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 custom-scrollbar",children:c?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[l.jsx("i",{className:"fas fa-circle-notch fa-spin"}),l.jsx("span",{className:"text-xs",children:"Loading history..."})]}):p.map(v=>l.jsxs("button",{onClick:()=>u(v),className:`
                            w-full text-left group flex flex-col gap-1 p-2
                            rounded border border-white/5 opacity-70
                            hover:opacity-100 bg-gradient-to-r hover:from-blue-500/50 hover:to-indigo-600/50
                            transition-all duration-200
                        `,children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-white font-medium ",children:v.message}),l.jsx("span",{className:"text-[12px] font-mono text-white px-1.5 py-0.5 border border-white/5",children:v.hash})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[l.jsx("i",{className:"far fa-clock"}),l.jsx("span",{children:v.date})]})]},v.hash))})}function Bg(){const c=pt.use.loading(),p=pt.use.fetchData();return l.jsxs("header",{className:"flex items-center justify-between py-1 px-4 ",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg shadow-orange-500/20",children:l.jsx("i",{className:"fab fa-git-alt text-white text-sm"})}),l.jsx("h2",{className:"font-bold tracking-tight opacity-80",children:"Git Workflow Helper"})]}),l.jsx("button",{onClick:p,className:`w-6 h-6 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-all ${c?"animate-spin":""}`,title:"Refresh",children:l.jsx("i",{className:"fas fa-sync-alt text-xs"})})]})}function Hg(){const c=pt.use.branch(),p=pt.use.commitMessage(),u=pt.use.loading(),v=pt.use.commitLoading(),M=pt.use.handleCommit(),z=pt.use.setCommitMessage();return l.jsxs("div",{className:"",children:[l.jsx("div",{className:"flex items-center gap-2 my-1 px-1",children:l.jsxs("span",{className:"text-xs font-mono text-purple-300 bg-purple-500/10 px-2 py-0.5 rounded border border-purple-500/20",children:["Commiting to branch:",l.jsx("span",{className:"mx-1 text-blue-500",children:c||"..."})]})}),l.jsxs("form",{onSubmit:M,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:B=>z(B.target.value),disabled:v,placeholder:"Commit message & push",className:"flex-1 border border-white/10 rounded px-2 py-1 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all"}),v?l.jsx("button",{type:"button",disabled:!0,className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:l.jsx("i",{className:"fas fa-spinner animate-spin text-xl text-blue-500"})}):l.jsx("button",{type:"submit",disabled:u||v||!p.trim(),className:"px-4 py-2 hover:bg-white/10 rounded opacity-60 hover:opacity-100 transition-all",children:l.jsx("i",{className:"fas fa-paper-plane text-xl text-blue-500 "})})]})]})}function zg(){const c=pt.use.selectedCommit(),p=pt.use.setSelectedCommit(),u=pt.use.handleRevert();return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:l.jsx("div",{className:"w-full max-w-md bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn",children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:l.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-xl"})}),l.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Revert Changes?"}),l.jsxs("p",{className:"text-gray-400 text-center text-sm leading-relaxed mb-6",children:["Are you sure you want to revert to commit ",l.jsx("span",{className:"font-mono text-white bg-white/10 px-1 py-0.5 rounded",children:c?.hash}),"?",l.jsx("br",{}),l.jsx("span",{className:"text-red-400 text-xs mt-2 block",children:"Warning: This will discard all current uncommitted changes."})]}),l.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6 border border-white/5",children:l.jsxs("p",{className:"text-gray-300 text-xs font-mono line-clamp-2",children:['"',c?.message,'"']})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 rounded-lg bg-white/5 text-gray-300 text-sm font-medium hover:bg-white/10 hover:text-white transition-colors",children:"Cancel"}),l.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-500 shadow-lg shadow-red-500/20 transition-all",children:"Confirm Revert"})]})]})})})}function Ug(){const c=pt.use.fetchData(),p=pt.use.selectedCommit();return he.useEffect(()=>{c()},[]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-full h-full",children:l.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[l.jsx(Bg,{}),l.jsx(Mg,{}),l.jsx(Hg,{})]})}),p&&l.jsx(zg,{}),l.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                .animate-fadeIn { animation: fadeIn 0.2s ease-out forwards; }
                .animate-scaleIn { animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { bg: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #444; }
            `})]})}function qg(c){const p=Le.use.workspace(),u=Le.use.loadWorkspace();return he.useEffect(()=>{window.isWorkSpaceLoaded||(window.isWorkSpaceLoaded=!0,u())},[]),l.jsxs("div",{className:`relative flex flex-col w-full h-[calc(100vh-54px)] ${c.isVisible?"":"hidden"}`,children:[l.jsxs("div",{className:"grid grid-rows-5 h-full min-h-0 gap-2",children:[l.jsxs("div",{className:"row-span-3 min-h-0 grid grid-cols-4 gap-2 overflow-hidden p-2",children:[l.jsx("div",{className:"col-span-3 h-full overflow-y-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2 p-2",children:p.map(v=>l.jsx("div",{children:l.jsx(Rg,{...v})},v.info.name))}),l.jsx("div",{className:"col-span-1 h-full overflow-hidden",children:l.jsx(Ug,{})})]}),l.jsx("div",{className:"row-span-2",children:l.jsx(wg,{})})]}),l.jsx(Og,{}),l.jsx(Dg,{}),l.jsx(Ng,{}),l.jsx(jg,{})]})}function Ig(){const c=Lt.use.modal(),p=Lt.use.title(),u=Lt.use.message(),v=Lt.use.callback(),M=Lt.use.hideModal(),z=Lt.use.banner(),B=Lt.use.data();let d="fa fa-info-circle text-blue-500",m="bg-blue-600 hover:bg-blue-500 shadow-blue-500/20";return z==="warning"?(d="fa fa-exclamation-triangle text-yellow-500",m="bg-yellow-600 hover:bg-yellow-500 shadow-yellow-500/20"):z==="error"?(d="fa fa-times-circle text-red-500",m="bg-red-600 hover:bg-red-500 shadow-red-500/20"):z==="success"&&(d="fa fa-check-circle text-green-500",m="bg-green-600 hover:bg-green-500 shadow-green-500/20"),l.jsx("div",{children:c&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative w-[500px] min-h-[200px] max-h-[500px] flex flex-col rounded-xl overflow-hidden shadow-2xl shadow-blue-900/20",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 via-purple-500/20 to-pink-500/20 pointer-events-none"}),l.jsx("div",{className:"absolute inset-[1px] bg-[#0A0A0A] rounded-[10px] pointer-events-none"}),l.jsxs("div",{className:"relative z-10 p-6 flex flex-col h-full",children:[l.jsxs("div",{className:"flex-1  ",children:[l.jsxs("div",{className:"mb-2 flex gap-4",children:[l.jsx("i",{className:`${d} text-3xl`}),l.jsx("h2",{className:"text-xl font-bold mb-2 text-white",children:p})]}),l.jsx("p",{className:"text-gray-300",children:u})]}),c==="alert"&&l.jsx("button",{onClick:()=>{v&&v(void 0),M()},autoFocus:!0,className:`w-[80%] mx-auto py-2 rounded-xl text-white shadow-lg font-bold ${m}`,children:"OK"}),c==="selection"&&l.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-y-auto pr-1",children:[B?.map((g,S)=>l.jsxs("button",{onClick:()=>{v&&v(g),M()},className:"flex items-center gap-3 w-full p-2 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-colors text-left group",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-gray-600 flex items-center justify-center text-gray-400 group-hover:text-white transition-colors",children:l.jsx("i",{className:`fas ${g.info.fontawesomeIcon||"fa-box"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-white font-medium truncate",children:g.info.name}),l.jsx("div",{className:"text-gray-400 text-xs truncate",children:g.info.path})]}),l.jsx("i",{className:"fas fa-chevron-right text-gray-500 group-hover:text-white"})]},S)),l.jsx("button",{onClick:()=>M(),className:"mt-4 w-full py-2 rounded-xl text-white bg-gray-600 hover:bg-gray-500 font-bold",children:"Cancel"})]}),c==="confirm"&&l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsx("button",{onClick:()=>{v&&v(!1),M()},className:"px-4 py-2 rounded-xl text-white bg-gray-600 hover:bg-gray-500 font-bold",children:"Cancel"}),l.jsx("button",{onClick:()=>{v&&v(!0),M()},className:`px-4 py-2 rounded-xl text-white shadow-lg font-bold ${m}`,children:"OK"})]})]})]})})})}function Pg(){const c=si.use.showTerminal(),p=si.use.rootDir(),u=si.use.setShowTerminal(),v=he.useRef(null),M=()=>{v.current&&v.current.disconnect(),u(!1)};return he.useEffect(()=>{if(c&&p&&v.current){const z=setTimeout(()=>{v.current?.connect(p),v.current?.focus()},50);return()=>clearTimeout(z)}},[c,p]),c?l.jsxs(Ua,{children:[l.jsx(za,{close:M,title:"Root Terminal",description:"Execute commands in the project root",icon:"fas fa-terminal text-blue-500 text-xl"}),l.jsx("div",{className:"flex-1 overflow-hidden p-2",children:l.jsx(hn,{ref:v,isInteractive:!0,className:"h-full"})})]}):null}function Fg({onComplete:c}){const[p,u]=he.useState("intro"),[v,M]=he.useState(""),z=async()=>{u("scaffolding"),M("Scaffolding directories and files...");try{const B=rt.apiPort||3e3,m=await(await fetch(`http://localhost:${B}/${st.scaffoldRepo}`)).json();m.success?(M("Scaffolding complete! Installing dependencies..."),setTimeout(()=>{u("success")},1e3)):(M(`Error: ${m.error}`),setTimeout(()=>c&&c(),3e3))}catch(B){console.error(B),M("Failed to connect to backend."),setTimeout(()=>c&&c(),3e3)}};return l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/90 backdrop-blur-xl overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[450px] bg-blue-600/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-purple-600/10 rounded-full blur-[80px] translate-y-1/2 -translate-x-1/2 pointer-events-none"}),l.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 w-full max-w-4xl p-6",children:[p==="intro"&&l.jsxs("div",{className:"space-y-12 animate-fade-in relative",children:[l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"inline-block p-1 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/5 mb-4",children:l.jsx("div",{className:"px-4 py-1 rounded-xl bg-black/50 backdrop-blur-md",children:l.jsx("span",{className:"text-sm font-medium text-blue-300",children:"v1.0.0 Alpha"})})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight",children:["Welcome to ",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]",children:"Monorepo TIME!"})]}),l.jsxs("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto font-light leading-relaxed",children:["The ultimate dashboard for managing your ",l.jsx("span",{className:"text-white font-medium",children:"modern monorepo architectures"})," with speed and elegance."]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:"fa-project-diagram",title:"Unified Management",desc:"Control all your packages and apps from a single view."},{icon:"fa-terminal",title:"Web Terminal",desc:"Run commands directly in your browser without leaving the UI."},{icon:"fa-bolt",title:"Turbocharged",desc:"Built-in support for Turborepo to speed up your workflows."}].map((B,d)=>l.jsxs("div",{className:"group relative p-[1px] rounded-2xl transition-all duration-300 hover:-translate-y-1",children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 group-hover:from-blue-600 group-hover:to-purple-600 transition-colors duration-300"}),l.jsxs("div",{className:"relative h-full bg-[#0A0A0A] p-6 rounded-[15px] overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-transparent rounded-bl-full -mr-10 -mt-10"}),l.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-xl border border-white/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-blue-500/10",children:l.jsx("i",{className:`fas ${B.icon} text-2xl text-transparent bg-clip-text bg-gradient-to-br from-blue-400 to-purple-400`})}),l.jsx("h3",{className:"text-xl font-bold mb-2 text-white group-hover:text-blue-200 transition-colors",children:B.title}),l.jsx("p",{className:"text-sm text-gray-500 leading-relaxed group-hover:text-gray-400 transition-colors",children:B.desc})]})]},d))}),l.jsx("div",{className:"flex justify-center pt-8",children:l.jsxs("button",{onClick:()=>u("prompt"),className:"group relative px-10 py-4 rounded-xl font-bold text-lg text-white shadow-2xl shadow-blue-600/20 overflow-hidden transition-all hover:scale-105",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),l.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:["Get Started",l.jsx("i",{className:"fas fa-arrow-right group-hover:translate-x-1 transition-transform"})]})]})})]}),p==="prompt"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in-up",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"text-left space-y-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-3xl flex items-center justify-center rotate-3 shadow-[0_0_30px_-5px_rgba(59,130,246,0.3)]",children:l.jsx("i",{className:"fas fa-hammer text-4xl text-transparent bg-clip-text bg-gradient-to-br from-blue-400 to-purple-400"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400",children:"Recommended Setup"}),l.jsxs("p",{className:"text-gray-400 text-lg leading-relaxed font-light",children:["We detected that this might be a new project. We can scaffold a folder structure recommended by",l.jsx("a",{href:"https://turborepo.org/",target:"_blank",rel:"noopener noreferrer",className:"mx-1.5 px-2 py-0.5 rounded bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",children:"Turborepo.js"}),"for you to get up and running instantly."]})]}),l.jsxs("div",{className:"p-5 rounded-xl bg-blue-500/5 border border-blue-500/20 text-blue-200 text-sm flex gap-4 items-start",children:[l.jsx("i",{className:"fas fa-info-circle mt-0.5 text-blue-400 text-lg"}),l.jsxs("p",{children:["This will create a ",l.jsx("strong",{className:"text-white",children:"packages/types"})," folder and configure ",l.jsx("strong",{className:"text-white",children:"Turborepo"})," for build orchestration."]})]})]}),l.jsxs("div",{className:"bg-[#0A0A0A] rounded-2xl border border-white/5 p-8 shadow-2xl font-mono text-sm text-gray-400 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none group-hover:opacity-20 transition-opacity duration-500",children:l.jsx("i",{className:"fas fa-folder-tree text-9xl text-white"})}),l.jsxs("div",{className:"space-y-3 relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("i",{className:"fas fa-folder text-blue-500"}),l.jsx("span",{className:"text-gray-200",children:"root"})]}),l.jsxs("div",{className:"pl-6 flex items-center gap-3 pb-1 relative",children:[l.jsx("div",{className:"absolute left-[11px] top-0 bottom-1/2 w-px bg-gray-800"}),l.jsx("div",{className:"absolute left-[11px] top-1/2 w-4 h-px bg-gray-800"}),l.jsx("i",{className:"fas fa-folder text-yellow-500"}),l.jsx("span",{children:"apps"})]}),l.jsxs("div",{className:"pl-6 flex items-center gap-3 pb-1 relative",children:[l.jsx("div",{className:"absolute left-[11px] top-0 bottom-0 w-px bg-gray-800"}),l.jsx("div",{className:"absolute left-[11px] top-1/2 w-4 h-px bg-gray-800"}),l.jsx("i",{className:"fas fa-folder text-green-500"}),l.jsx("span",{className:"text-green-400 font-bold bg-green-500/10 px-2 py-0.5 rounded border border-green-500/20",children:"packages"}),l.jsx("span",{className:"text-[10px] ml-1 bg-blue-600 text-white px-1.5 py-0.5 rounded-full font-bold shadow-lg shadow-blue-500/50",children:"NEW"})]}),l.jsxs("div",{className:"pl-12 flex items-center gap-3 pb-1 relative",children:[l.jsx("div",{className:"absolute left-[35px] top-0 bottom-1/2 w-px bg-gray-800"}),l.jsx("div",{className:"absolute left-[35px] top-1/2 w-4 h-px bg-gray-800"}),l.jsx("i",{className:"fas fa-folder text-green-500"}),l.jsx("span",{className:"text-green-400 bg-green-500/5 px-2 py-0.5 rounded",children:"types"})]}),l.jsxs("div",{className:"pl-6 flex items-center gap-3 pb-1 relative",children:[l.jsx("div",{className:"absolute left-[11px] top-0 bottom-0 w-px bg-gray-800"}),l.jsx("div",{className:"absolute left-[11px] top-1/2 w-4 h-px bg-gray-800"}),l.jsx("i",{className:"fas fa-file-code text-red-400"}),l.jsx("span",{children:"package.json"})]}),l.jsxs("div",{className:"pl-6 flex items-center gap-3 relative",children:[l.jsx("div",{className:"absolute left-[11px] top-0 bottom-1/2 w-px bg-gray-800"}),l.jsx("div",{className:"absolute left-[11px] top-1/2 w-4 h-px bg-gray-800"}),l.jsx("i",{className:"fas fa-file-code text-purple-400"}),l.jsx("span",{className:"text-purple-400 font-bold bg-purple-500/10 px-2 py-0.5 rounded border border-purple-500/20",children:"turbo.json"}),l.jsx("span",{className:"text-[10px] ml-1 bg-blue-600 text-white px-1.5 py-0.5 rounded-full font-bold shadow-lg shadow-blue-500/50",children:"NEW"})]})]})]})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center pt-8",children:[l.jsxs("button",{onClick:z,className:"group relative px-8 py-3 rounded-xl font-bold text-white shadow-xl shadow-blue-600/20 overflow-hidden transition-all hover:scale-105",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),l.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-magic"}),"Yes, Scaffold & Install"]})]}),l.jsx("button",{onClick:c,className:"px-8 py-3 rounded-xl font-semibold text-gray-400 hover:text-white hover:bg-white/5 border border-white/5 hover:border-white/10 transition-all",children:"Skip for now"})]})]}),p==="scaffolding"&&l.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-12 animate-fade-in py-12",children:[l.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-blue-500/20 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-cog text-3xl text-blue-500 animate-pulse"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-white",children:"Setting things up..."}),l.jsx("p",{className:"text-gray-400 text-lg animate-pulse",children:v})]})]}),p==="success"&&l.jsxs("div",{className:"max-w-xl mx-auto text-center space-y-8 animate-bounce-in py-12",children:[l.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_50px_-10px_rgba(16,185,129,0.3)] ring-1 ring-green-500/30",children:l.jsx("i",{className:"fas fa-check text-5xl text-green-400 drop-shadow-md"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-4xl font-bold text-white",children:"All Set!"}),l.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Your workspace has been successfully scaffolded and is now ready for action."})]}),l.jsx("div",{className:"pt-8",children:l.jsxs("button",{onClick:c,className:"group relative px-10 py-4 rounded-xl font-bold text-lg text-white shadow-xl shadow-green-600/20 overflow-hidden transition-all hover:scale-105",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),l.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:["Enter Dashboard",l.jsx("i",{className:"fas fa-arrow-right group-hover:translate-x-1 transition-transform"})]})]})})]})]})]})}function Wg(){return l.jsxs("div",{className:"w-screen h-screen overflow-hidden",children:[l.jsx(ip,{}),l.jsx("div",{className:"flex flex-1 overflow-hidden ",children:l.jsx("main",{className:"flex-1 relative overflow-hidden bg-gray-900",children:l.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]})})})]})}function Vg(c){return c.isNotRendered||c.render!=null&&c.render==!1?null:l.jsx(Gg,{...c})}function Gg(c){const p=ur.blueIndigo,u=c.color&&ur[c.color]?ur[c.color]:c.color||p;return l.jsxs("button",{disabled:c.disabled,onClick:c.disabled?void 0:()=>c.onClick(),className:`
                group relative w-full rounded p-[1px] transition-all duration-300
                ${c.disabled?"opacity-70 cursor-not-allowed":"cursor-pointer hover:-translate-y-1 hover:shadow-lg"}
            `,children:[!c.disabled&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${u} opacity-0 group-hover:opacity-50 blur-lg transition-opacity duration-500`}),l.jsx("div",{className:`absolute inset-0 rounded bg-gradient-to-r ${u} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]}),l.jsxs("div",{className:`
                relative h-full w-full rounded bg-[#0A0A0A]/80 p-2 flex items-center gap-3 overflow-hidden
                transition-colors duration-300
                ${!c.disabled&&!c.bg?"group-hover:bg-[#212121]/70":""}
            `,children:[c.bg&&l.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${u} opacity-20`}),l.jsx("div",{className:`
                    relative z-10
                    w-9 h-9 rounded-lg flex items-center justify-center shrink-0
                    bg-gradient-to-br ${u} text-white shadow-lg
                    opacity-90 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300
                `,children:l.jsx("i",{className:`fas ${c.icon||"fa-circle"} text-sm`})}),l.jsxs("div",{className:"relative z-10 flex flex-col min-w-0 text-left",children:[l.jsx("span",{className:`
                        font-bold text-md truncate transition-colors duration-300
                        ${c.disabled?"text-gray-500":c.bg?"text-white":"text-gray-300 group-hover:text-white"}
                    `,children:c.name}),l.jsx("span",{className:`
                        text-[12px] font-mono truncate block w-full transition-opacity duration-300
                        ${c.disabled?"text-gray-600":c.bg?"text-white/70":"text-gray-500 group-hover:text-gray-400"}
                    `,style:{lineHeight:1},children:c.description})]})]})]},c.name)}const Yg=[{label:"Install",cmd:"npm install",icon:"fa-download",color:"blueIndigo"},{label:"Build",cmd:"turbo build",icon:"fa-hammer",color:"emeraldTeal"},{label:"Lint",cmd:"turbo lint",icon:"fa-check-double",color:"yellowOrange"},{label:"Test",cmd:"turbo test",icon:"fa-vial",color:"pinkRose"},{label:"Clean",cmd:"turbo clean",icon:"fa-broom",color:"gray"},{label:"Summary",cmd:"turbo run build --dry-run",icon:"fa-list-alt"},{label:"Prune",cmd:"turbo prune",icon:"fa-scissors",color:"red"},{label:"Docker",cmd:"turbo prune --docker",icon:"fa-docker",color:"skyBlue"},{label:"Remote",cmd:"npx turbo link",icon:"fa-cloud",color:"cyanBlue"},{label:"Cache",cmd:"rm -rf node_modules/.cache/turbo .turbo",icon:"fa-trash-alt",color:"darkRed"}];function Kg(c){const p=he.useRef(null),u=si.use.rootDir(),[v,M]=he.useState(!1);he.useEffect(()=>()=>{p.current&&p.current.disconnect()},[]);const z=Lt.use.showModal(),B=Le.use.workspace();function d(S){p.current&&(p.current.clear(),p.current.disconnect(),p.current.connect(u,S),p.current.fit(),p.current.onClose(()=>{M(!1)}),p.current.onCrash(()=>{M(!1)}),M(!0))}function m(S){if(S==="turbo prune"||S==="turbo prune --docker"){z("selection","Select Workspace","Choose a workspace to prune / dockerize",null,f=>{if(f){const y=S.includes("--docker"),A=`turbo prune ${f.info.name}${y?" --docker":""}`;d(A)}},B);return}d(S)}function g(){p.current&&(p.current.disconnect(),M(!1))}return l.jsxs("div",{className:`h-[92%] w-full p-4 gap-4 ${c.isVisible?"flex":"hidden"}`,children:[l.jsx("div",{className:"w-[500px] flex-none h-full flex flex-col align-center mt-8",children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Yg.map(S=>l.jsx(Vg,{onClick:()=>m(S.cmd),name:S.label,description:S.cmd,color:S.color,icon:S.icon,disabled:v},S.label))})}),l.jsx("div",{className:"relative flex-1 h-full min-h-0 min-w-0 flex flex-col p-[1px] rounded overflow-hidden shadow-[0_0_100px_-20px_rgba(168,85,247,0.3)]",children:l.jsxs("div",{className:"relative flex-1 h-full flex flex-col rounded-xl overflow-hidden",children:[l.jsxs("header",{className:"px-4 py-2 border-b border-white/10 flex justify-between items-center bg-black/20 flex-none backdrop-blur-sm",children:[l.jsxs("div",{className:"text-md font-bold text-white flex items-center gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/20",children:l.jsx("i",{className:"fas fa-rocket text-white text-sm"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xl bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400 font-bold",children:"Non Interactive Terminal"}),l.jsxs("span",{className:"text-gray-400 font-normal text-sm truncate w-full text-xs",children:["Execute",l.jsx("a",{href:"https://turborepo.org/",target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-500 hover:underline",children:"Turborepo.js"}),"commands"]})]})]}),l.jsxs("button",{onClick:g,className:`text-gray-400 transition-colors flex items-center gap-2 ${v?"text-red-500":"text-gray-400"}`,children:[l.jsx("li",{className:"fas fa-stop text-lg"}),"STOP"]})]}),l.jsx("div",{className:"w-full flex-1 min-h-0 p-1",children:l.jsx(hn,{ref:p,isInteractive:!1,className:"h-full w-full",onExit:()=>{M(!1)},onCrash:()=>{M(!1)}})})]})})]})}const Xg=[{category:"Internal CRUD Test",devurl:"http://localhost:3200",produrl:"",items:[{label:"Ping the Tool Server",route:"/pingme",methods:"GET",description:"Ping the tool server to check if it is running.",sampleInput:"{}",suggested:[],expectedOutcome:`# You should see the word "pong" as a message 

{
  "message": "pong"
}`,availableFor:"public"},{label:"Check Post",route:"/pingpost",methods:"POST",description:"Send a POST request to check if it sending correctly",sampleInput:`{
   "data": "test",
   "message": "test"
}`,suggested:[{name:"Customer Data",urlparams:"",content:`{
    "name": "Demo Customer",
    "email": "demo@test.com",
    "phone": "123456789",
    "icon": "test icon"
}`}],expectedOutcome:`# Note 
You should see the mirror of your inputs`,availableFor:"public"},{label:"Check Stream",route:"/pingstream",methods:"STREAM",description:"Send a stream request to check if it sending correctly",sampleInput:"{ }",suggested:[{name:"I Wandered Lonely as a Cloud",urlparams:"?poem=I%20Wandered%20Lonely%20as%20a%20Cloud",content:"{}"},{name:"The Sun Has Long Been Set",urlparams:"?poem=The%20Sun%20Has%20Long%20Been%20Set",content:"{}"}],expectedOutcome:`# Note 
You should see the stream of words`,availableFor:"public"}]}],$g={isOpen:!1,catIndex:-1,itemIndex:-1},Qg=Zi()((c,p)=>({crudData:Xg,selectedRoute:null,viewMode:"tester",editorState:$g,isPresetsOpen:!1,isCodePreviewOpen:!1,activeBody:"",activeParams:"",activeHeaders:"{}",useProd:!1,setCrudData:u=>c({crudData:u}),setSelectedRoute:u=>c({selectedRoute:u}),setViewMode:u=>c({viewMode:u}),setEditorState:u=>c({editorState:u}),setIsPresetsOpen:u=>c({isPresetsOpen:u}),setIsCodePreviewOpen:u=>c({isCodePreviewOpen:u}),setActiveBody:u=>c({activeBody:u}),setActiveParams:u=>c({activeParams:u}),setActiveHeaders:u=>c({activeHeaders:u}),setUseProd:u=>c({useProd:u}),handleSelectRoute:(u,v)=>{const{crudData:M}=p(),z=M[u]?.items[v];c({selectedRoute:{catIndex:u,itemIndex:v},viewMode:"tester",activeBody:z?.sampleInput||"{}",activeParams:"",isPresetsOpen:!1,activeHeaders:"{}"})},handleManageCategories:()=>c({viewMode:"manage"}),handleAddRoute:u=>c({editorState:{isOpen:!0,catIndex:u,itemIndex:-1}}),handleEditRoute:(u,v)=>c({editorState:{isOpen:!0,catIndex:u,itemIndex:v}}),handlePresetSelect:u=>c({activeBody:u.content,activeParams:u.urlparams,isPresetsOpen:!1}),handleSaveRoute:(u,v,M,z)=>{const{crudData:B}=p(),d=B.map((g,S)=>{if(S!==v)return g;const f=[...g.items];return z==="add"?f.push(u):f[M]=u,{...g,items:f}});let m=p().selectedRoute;z==="add"&&(m={catIndex:v,itemIndex:d[v].items.length-1}),c({crudData:d,viewMode:"tester",selectedRoute:m,activeBody:u.sampleInput||"{}",activeParams:"",isPresetsOpen:!1})},handleDeleteRoute:(u,v)=>{const{crudData:M,selectedRoute:z}=p(),B=M.map((m,g)=>{if(g!==u)return m;const S=[...m.items];return S.splice(v,1),{...m,items:S}});let d=z;z&&z.catIndex===u&&z.itemIndex===v&&(d=null),c({crudData:B,selectedRoute:d})},handleUpdateCategory:(u,v)=>{const{crudData:M}=p(),z=[...M];z[u]={...z[u],...v},c({crudData:z})},handleDeleteCategory:u=>{const{crudData:v,selectedRoute:M}=p(),z=[...v];z.splice(u,1);let B=M;M&&M.catIndex===u&&(B=null),c({crudData:z,selectedRoute:B})},handleAddCategory:u=>{const{crudData:v}=p(),M={...u,items:[]};c({crudData:[...v,M]})}})),De=Ji(Qg);function Zg(){const c=De.use.crudData(),p=De.use.selectedRoute(),u=De.use.handleSelectRoute(),v=De.use.handleAddRoute(),M=De.use.handleEditRoute(),z=De.use.handleManageCategories(),B=p?.catIndex??null,d=p?.itemIndex??null,[m,g]=he.useState(new Set([0])),S=y=>{const A=new Set(m);A.has(y)?A.delete(y):A.add(y),g(A)},f=y=>{switch(y.toUpperCase()){case"GET":return"text-green-400";case"POST":return"text-blue-400";case"PUT":return"text-violet-400";case"DELETE":return"text-red-400";case"PATCH":return"text-purple-400";case"STREAM":return"text-orange-400";default:return"text-gray-400"}};return l.jsxs("div",{className:"w-full flex flex-col gap-3",children:[c.map((y,A)=>l.jsxs("div",{className:"accordion-category flex flex-col",children:[l.jsxs("div",{className:"accordion-header flex items-center gap-2 px-3 py-2.5 hover:bg-white/5 rounded-xl cursor-pointer transition-all select-none group border border-transparent hover:border-white/5",onClick:()=>S(A),children:[l.jsx("i",{className:`fas fa-chevron-right text-[10px] text-gray-600 transition-transform duration-300 ${m.has(A)?"rotate-90 text-blue-500":""}`}),l.jsx("i",{className:`fas fa-folder text-sm transition-colors duration-300 ${m.has(A)?"text-blue-400 opacity-100":"text-gray-600 group-hover:text-gray-400"}`}),l.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide group-hover:text-white transition-colors category-title",children:y.category}),l.jsx("span",{className:"ml-auto text-[10px] font-mono text-gray-700 bg-gray-900 px-1.5 rounded",children:y.items.length})]}),l.jsxs("div",{className:`accordion-content flex flex-col gap-1 pl-3 mt-1 relative overflow-hidden transition-all duration-300 ${m.has(A)?"opacity-100 max-h-[5000px]":"opacity-0 max-h-0"}`,children:[l.jsx("div",{className:"absolute left-[13px] top-0 bottom-0 w-px bg-gradient-to-b from-gray-800 to-transparent"}),l.jsxs("div",{className:"pl-4 flex flex-col gap-1",children:[y.items.map((T,E)=>{const n=B===A&&d===E;return l.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg group cursor-pointer transition-all duration-200 nav-item-row border ${n?"bg-gradient-to-r from-blue-600/10 to-purple-600/10 border-blue-500/30":"border-transparent hover:bg-white/5 hover:border-white/5"}`,onClick:()=>u(A,E),children:[l.jsx("span",{className:`font-black font-mono w-10 flex-none text-[10px] opacity-90 ${f(T.methods)} bg-gray-900/50 px-1 rounded text-center`,children:T.methods.toUpperCase().slice(0,4)}),l.jsx("span",{className:`flex-1 truncate text-[13px] ${n?"text-white font-medium":"text-gray-400 group-hover:text-gray-200"} transition-colors`,title:T.label,children:T.label}),l.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-blue-600 hover:text-white text-gray-500 rounded transition-all transform hover:scale-110",title:"Edit",onClick:_=>{_.stopPropagation(),M(A,E)},children:l.jsx("i",{className:"fas fa-pen text-[10px]"})})]},E)}),l.jsxs("button",{className:"mt-1 flex items-center justify-start gap-2 px-3 py-2 text-gray-500 hover:text-blue-400 hover:bg-blue-500/5 rounded-lg transition-all group border border-transparent hover:border-blue-500/20",onClick:T=>{T.stopPropagation(),v(A)},children:[l.jsx("div",{className:"w-5 h-5 rounded bg-gray-800 flex items-center justify-center group-hover:bg-blue-500 group-hover:text-white transition-colors",children:l.jsx("i",{className:"fas fa-plus text-[10px]"})}),l.jsx("span",{className:"text-[12px] font-medium",children:"Add Route"})]})]})]})]},A)),l.jsx("div",{className:"mt-4 px-2 mb-8",children:l.jsxs("button",{className:"w-full bg-gradient-to-r from-gray-800 to-gray-900 hover:from-blue-600/20 hover:to-purple-600/20 border border-gray-700 hover:border-blue-500/30 text-gray-400 hover:text-white py-2.5 rounded-xl text-xs font-bold uppercase tracking-wider transition-all duration-300 flex items-center justify-center gap-2 group shadow-lg",onClick:z,children:[l.jsx("i",{className:"fas fa-cog group-hover:rotate-90 transition-transform duration-500"}),"Manage Categories"]})})]})}function Jg(){const c=De.use.editorState(),p=De.use.crudData(),u=De.use.setEditorState(),v=De.use.handleSaveRoute(),M=De.use.handleDeleteRoute(),{isOpen:z,catIndex:B,itemIndex:d}=c,m=B!==-1&&d!==-1?p[B]?.items[d]:void 0,g=()=>u({...c,isOpen:!1}),S={label:"",route:"",methods:"GET",description:"",sampleInput:"{}",suggested:[],expectedOutcome:"",availableFor:"public"},[f,y]=he.useState(S);he.useEffect(()=>{z&&y(m||S)},[z,m]);const A=(o,b)=>{y(C=>({...C,[o]:b}))},T=(o,b,C)=>{const R=[...f.suggested];R[o]={...R[o],[b]:C},y(k=>({...k,suggested:R}))},E=()=>{y(o=>({...o,suggested:[...o.suggested,{name:"New Suggestion",urlparams:"",content:"{}"}]}))},n=o=>{y(b=>({...b,suggested:b.suggested.filter((C,R)=>R!==o)}))},_=async()=>{v(f,B,d,d===-1?"add":"update"),g()},h=async()=>{window.confirm("Delete method can only be reversed by GIT, continue?")&&(M(B,d),g())};return z?l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-transparent pointer-events-none"}),l.jsxs("div",{className:"relative bg-[#0A0A0A] border border-gray-800 rounded-2xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500/5 pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-800 bg-[#0A0A0A] relative z-10",children:[l.jsxs("h3",{className:"font-bold text-white text-xl flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:l.jsx("i",{className:`fas ${m?"fa-edit":"fa-plus"}`})}),m?"Edit Route":"Create New Route"]}),l.jsx("button",{onClick:g,className:"text-gray-500 hover:text-white transition-colors w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/5",children:l.jsx("i",{className:"fas fa-times text-lg"})})]}),l.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar relative z-10",children:l.jsxs("form",{className:"flex flex-col gap-6",onSubmit:o=>o.preventDefault(),children:[l.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[l.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Method"}),l.jsxs("select",{className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 focus:border-blue-500 outline-none text-white text-sm appearance-none cursor-pointer hover:border-gray-600 transition-colors",value:f.methods,onChange:o=>A("methods",o.target.value),children:[l.jsx("option",{value:"GET",children:"GET"}),l.jsx("option",{value:"POST",children:"POST"}),l.jsx("option",{value:"PUT",children:"PUT"}),l.jsx("option",{value:"DELETE",children:"DELETE"}),l.jsx("option",{value:"PATCH",children:"PATCH"}),l.jsx("option",{value:"STREAM",children:"STREAM"})]})]}),l.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Availability"}),l.jsxs("select",{className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 focus:border-blue-500 outline-none text-white text-sm appearance-none cursor-pointer hover:border-gray-600 transition-colors",value:f.availableFor,onChange:o=>A("availableFor",o.target.value),children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"}),l.jsx("option",{value:"authenticated",children:"Authenticated"})]})]}),l.jsxs("div",{className:"col-span-6 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Route"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm font-mono",children:"/"}),l.jsx("input",{type:"text",className:"w-full bg-gray-900 border border-gray-700 rounded-xl pl-8 pr-4 py-3 focus:border-blue-500 outline-none text-blue-400 font-mono text-sm placeholder-gray-700 transition-all focus:ring-1 focus:ring-blue-500/20",placeholder:"api/v1/resource",value:f.route.startsWith("/")?f.route.substring(1):f.route,onChange:o=>A("route","/"+o.target.value)})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Label"}),l.jsx("input",{type:"text",className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 focus:border-blue-500 outline-none text-white text-sm transition-all focus:ring-1 focus:ring-blue-500/20",value:f.label,onChange:o=>A("label",o.target.value),placeholder:"e.g. Fetch Users"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsx("input",{type:"text",className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-3 focus:border-blue-500 outline-none text-white text-sm transition-all focus:ring-1 focus:ring-blue-500/20",value:f.description,onChange:o=>A("description",o.target.value),placeholder:"Brief description of what this endpoint does..."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-[280px]",children:[l.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Sample Input (JSON)"}),l.jsx("div",{className:"flex-1 bg-gray-900 border border-gray-700 rounded-xl overflow-hidden focus-within:border-blue-500 transition-colors",children:l.jsx("textarea",{className:"w-full h-full bg-transparent p-4 resize-none outline-none text-gray-300 font-mono text-sm custom-scrollbar leading-relaxed",value:f.sampleInput,onChange:o=>A("sampleInput",o.target.value)})})]}),l.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Expected Outcome"}),l.jsx("div",{className:"flex-1 bg-gray-900 border border-gray-700 rounded-xl overflow-hidden focus-within:border-blue-500 transition-colors",children:l.jsx("textarea",{className:"w-full h-full bg-transparent p-4 resize-none outline-none text-gray-300 font-mono text-sm custom-scrollbar leading-relaxed",value:f.expectedOutcome,onChange:o=>A("expectedOutcome",o.target.value)})})]})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wider",children:"Suggested Presets"}),l.jsxs("button",{type:"button",onClick:E,className:"text-xs bg-gray-800 hover:bg-blue-600 hover:text-white text-blue-400 px-3 py-1.5 rounded-lg border border-gray-700 hover:border-blue-500 transition-all font-bold",children:[l.jsx("i",{className:"fas fa-plus mr-1"})," Add Preset"]})]}),l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-2 min-h-[120px] max-h-[350px] overflow-y-auto custom-scrollbar flex flex-col gap-2",children:f.suggested.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600 gap-2 opacity-50",children:[l.jsx("i",{className:"fas fa-box-open text-2xl"}),l.jsx("span",{className:"text-sm font-medium",children:"No presets added yet."})]}):f.suggested.map((o,b)=>l.jsxs("div",{className:"bg-[#0F0F0F] border border-gray-700 rounded-lg p-3 flex flex-col gap-3 group hover:border-gray-600 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-md bg-gray-800 flex items-center justify-center text-gray-500 text-xs font-mono",children:b+1}),l.jsx("input",{type:"text",className:"bg-transparent border-b border-gray-700 text-sm text-white flex-1 focus:border-blue-500 outline-none pb-1 transition-colors font-bold",placeholder:"Preset Name",value:o.name,onChange:C=>T(b,"name",C.target.value)}),l.jsx("input",{type:"text",className:"bg-transparent border-b border-gray-700 text-sm text-blue-400 font-mono flex-1 focus:border-blue-500 outline-none pb-1 transition-colors",placeholder:"?url=params",value:o.urlparams,onChange:C=>T(b,"urlparams",C.target.value)}),l.jsx("button",{type:"button",className:"text-gray-600 hover:text-red-500 p-2 transition-colors rounded-lg hover:bg-white/5",title:"Remove",onClick:()=>n(b),children:l.jsx("i",{className:"fas fa-trash"})})]}),l.jsx("textarea",{className:"bg-gray-900 border border-gray-800 rounded-lg p-3 text-xs font-mono text-gray-300 h-24 w-full resize-y focus:border-blue-500 outline-none leading-relaxed",placeholder:"{ JSON Content }",value:o.content,onChange:C=>T(b,"content",C.target.value)})]},b))})]})]})}),l.jsxs("div",{className:"px-8 py-5 border-t border-gray-800 bg-[#0A0A0A] flex items-center relative z-10",children:[d!==-1&&l.jsxs("button",{type:"button",onClick:h,className:"mr-auto px-4 py-2.5 rounded-xl text-sm text-red-500 hover:text-white hover:bg-red-600 transition-colors font-bold flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-trash"})," Delete"]}),l.jsxs("div",{className:"flex gap-4 ml-auto",children:[l.jsx("button",{onClick:g,className:"px-6 py-2.5 rounded-xl text-sm font-bold text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:_,className:"group relative px-8 py-2.5 rounded-xl text-sm font-bold text-white overflow-hidden transition-all hover:scale-105 shadow-lg shadow-blue-600/25",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx("span",{className:"relative z-10",children:"Save Route"})]})]})]})]})]}):null}function Zd({title:c,initialValue:p="{}",onChange:u,readOnly:v=!1}){const[M,z]=he.useState(p);he.useEffect(()=>{z(p)},[p]);const B=d=>{const m=d.target.value;z(m),u&&u(m)};return l.jsxs("div",{className:"flex flex-col h-full bg-[#0F0F0F] overflow-hidden shadow-sm transition-all hover:border-gray-700 group",children:[l.jsx("div",{className:"px-4 h-10 flex items-center flex-none bg-gray-900/50 border-b border-gray-800 group-hover:bg-gray-900 transition-colors",children:l.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest text-[10px] group-hover:text-gray-300 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-code text-[10px]"}),c]})}),l.jsx("div",{className:"flex-1 relative",children:l.jsx("textarea",{className:"absolute inset-0 w-full h-full bg-transparent text-gray-300 p-3 resize-none outline-none font-mono text-[12px] leading-relaxed custom-scrollbar selection:bg-blue-500/30",value:M,onChange:B,spellCheck:!1,readOnly:v,placeholder:"{ ... }"})})]})}function ev({output:c,onShowCode:p}){const[u,v]=he.useState(""),M=he.useRef(null);he.useEffect(()=>{z(c)},[c]);const z=m=>{let g="";typeof m=="object"?g=JSON.stringify(m,null,2):g=String(m);let S=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");S=S.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),S=S.replace(/([{}\[\],])/g,f=>`<span class="text-gray-500">${f}</span>`),v(S)},B=()=>{const m=JSON.stringify(c,null,2);localStorage.setItem("crud-output-last",m),alert("Output saved to LocalStorage")},d=()=>{const m=localStorage.getItem("crud-output-last");if(m)try{const g=JSON.parse(m);z(g)}catch{z(m)}else alert("No saved output found")};return l.jsxs("div",{className:"flex flex-col h-full bg-[#0F0F0F] overflow-hidden shadow-sm transition-all hover:border-gray-700 group",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 h-10 flex-none bg-gray-900/50 border-b border-gray-800 group-hover:bg-gray-900 transition-colors",children:[l.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest text-[10px] group-hover:text-gray-300 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-terminal text-[10px]"}),"Output"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:B,className:"p-1 text-[10px] text-gray-500 hover:text-white transition-colors",title:"Save to LocalStorage",children:l.jsx("i",{className:"fas fa-save"})}),l.jsx("button",{onClick:d,className:"p-1 text-[10px] text-gray-500 hover:text-white transition-colors",title:"Load from LocalStorage",children:l.jsx("i",{className:"fas fa-upload"})}),l.jsx("button",{onClick:p,className:"p-1 text-[10px] text-blue-500 hover:text-blue-400 transition-colors flex items-center gap-1",children:l.jsx("i",{className:"fas fa-code"})})]})]}),l.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-3 group relative",children:l.jsx("pre",{ref:M,className:"w-full text-gray-300 whitespace-pre-wrap leading-relaxed text-[12px] font-mono",dangerouslySetInnerHTML:{__html:u}})})]})}function tv({value:c,onToggleSize:p,isMinimized:u=!1}){const[v,M]=he.useState("");return he.useEffect(()=>{let z="";typeof c=="object"?z=JSON.stringify(c,null,2):z=String(c);const d=z.split(`
`).map(m=>{const g=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(g.trim().startsWith("#"))return`<span class="text-blue-400 font-bold opacity-80">${g}</span>`;{let S=g;return S=S.replace(/"([^"]+)":/g,'<span class="text-green-400">"$1"</span>:'),S=S.replace(/([{}\[\],])/g,'<span class="text-gray-500">$1</span>'),S}}).join(`
`);M(d)},[c]),l.jsxs("div",{className:"flex flex-col h-full bg-[#0F0F0F] overflow-hidden shadow-sm transition-all hover:border-gray-700 group",children:[l.jsxs("div",{className:`flex items-center ${u?"justify-center px-0":"justify-between px-4"} h-10 flex-none border-b border-gray-800 bg-gray-900/50 group-hover:bg-gray-900 transition-colors`,children:[!u&&l.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest text-[10px] group-hover:text-gray-300 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-lightbulb text-[10px]"}),"Expected Outcome"]}),l.jsx("div",{className:"flex gap-1",children:l.jsx("button",{onClick:p,className:"text-gray-600 hover:text-white transition-colors w-6 h-6 flex items-center justify-center",title:"Toggle Size",children:l.jsx("i",{className:`fas ${u?"fa-chevron-left":"fa-expand-alt"} text-[10px]`})})})]}),!u&&l.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-3",children:l.jsx("pre",{className:"w-full text-gray-400 whitespace-pre-wrap leading-relaxed text-[12px] font-mono",dangerouslySetInnerHTML:{__html:v}})})]})}function iv(){const c=De.use.crudData(),p=De.use.handleAddCategory(),u=De.use.setViewMode(),v=()=>u("tester"),M=!0,[z,B]=he.useState({category:"",devurl:"",produrl:""});he.useEffect(()=>{B({category:"",devurl:"",produrl:""})},[M]);const d=async()=>{z.category.trim()&&(p({category:z.category.trim(),devurl:z.devurl.trim()||"http://localhost:3200",produrl:z.produrl.trim()||"http://localhost:3200"}),B({category:"",devurl:"",produrl:""}))};return l.jsxs("div",{className:"absolute inset-0 z-[50] flex items-center justify-center animate-fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0A0A0A] bg-opacity-90 backdrop-blur-sm",onClick:v}),l.jsxs("div",{className:"relative bg-[#0F0F0F] border border-gray-800 rounded-2xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col overflow-hidden z-[60]",children:[l.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-b border-gray-800 bg-[#0A0A0A]",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center border border-gray-700",children:l.jsx("i",{className:"fas fa-folder-open text-gray-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-white text-xl tracking-tight",children:"Manage Categories"}),l.jsx("p",{className:"text-gray-500 text-xs",children:"Organize your API routes into folders"})]})]}),l.jsx("button",{onClick:v,className:"text-gray-500 hover:text-white transition-colors w-10 h-10 flex items-center justify-center rounded-xl hover:bg-white/5",children:l.jsx("i",{className:"fas fa-times text-lg"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 flex flex-col gap-8 bg-[#0F0F0F]",children:[l.jsxs("div",{className:"bg-blue-900/5 border border-blue-500/10 rounded-2xl p-6 flex flex-col gap-4 relative overflow-hidden group hover:border-blue-500/20 transition-colors",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),l.jsxs("div",{className:"text-xs font-bold text-blue-400 uppercase tracking-widest flex items-center gap-2 relative z-10",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),"Add New Category"]}),l.jsxs("div",{className:"flex gap-4 relative z-10",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Category Name"}),l.jsx("input",{type:"text",placeholder:"e.g. User Management",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-xl px-4 py-3 text-sm text-white focus:border-blue-500 outline-none transition-all shadow-sm",value:z.category,onChange:m=>B({...z,category:m.target.value})})]}),l.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Dev URL"}),l.jsx("input",{type:"text",placeholder:"http://localhost:3200",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-300 font-mono focus:border-blue-500 outline-none transition-all shadow-sm",value:z.devurl,onChange:m=>B({...z,devurl:m.target.value})})]}),l.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Prod URL"}),l.jsx("input",{type:"text",placeholder:"https://api.myapp.com",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-300 font-mono focus:border-blue-500 outline-none transition-all shadow-sm",value:z.produrl,onChange:m=>B({...z,produrl:m.target.value})})]}),l.jsx("div",{className:"flex flex-col gap-2 justify-end",children:l.jsxs("button",{onClick:d,disabled:!z.category.trim(),className:"bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-blue-600/20 transition-all flex-none flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-plus"})," Add"]})})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest px-1",children:"Active Categories"}),c.map((m,g)=>l.jsx(sv,{category:m,index:g},g)),c.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600 gap-2 border-2 border-dashed border-gray-800 rounded-2xl",children:[l.jsx("i",{className:"fas fa-folder-open text-3xl opacity-50"}),l.jsx("span",{className:"text-sm font-medium",children:"No categories found. Add one above."})]})]})]}),l.jsx("div",{className:"px-8 py-5 border-t border-gray-800 bg-[#0A0A0A] flex justify-end",children:l.jsx("button",{onClick:v,className:"px-8 py-2.5 rounded-xl text-sm font-bold bg-white text-black hover:bg-gray-200 transition-colors shadow-lg shadow-white/10",children:"Done"})})]})]})}function sv({category:c,index:p}){const u=De.use.handleUpdateCategory(),v=De.use.handleDeleteCategory(),[M,z]=he.useState(!1),[B,d]=he.useState({category:c.category,devurl:c.devurl,produrl:c.produrl});he.useEffect(()=>{d({category:c.category,devurl:c.devurl,produrl:c.produrl})},[c]);const m=async()=>{B.category.trim()&&(u(p,{category:B.category.trim(),devurl:B.devurl.trim(),produrl:B.produrl.trim()}),z(!1))},g=async()=>{window.confirm("The delete method can only be reversed by GIT, continue?")&&v(p)};return M?l.jsxs("div",{className:"bg-[#111] border border-blue-500/30 rounded-2xl p-4 flex flex-col gap-4 animate-fade-in shadow-lg shadow-blue-900/10",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[l.jsxs("div",{className:"col-span-4 flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase",children:"Name"}),l.jsx("input",{type:"text",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:B.category,onChange:S=>d({...B,category:S.target.value})})]}),l.jsxs("div",{className:"col-span-4 flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Dev URL"}),l.jsx("input",{type:"text",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-300 font-mono focus:border-blue-500 outline-none",value:B.devurl,onChange:S=>d({...B,devurl:S.target.value})})]}),l.jsxs("div",{className:"col-span-4 flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Prod URL"}),l.jsx("input",{type:"text",className:"w-full bg-[#0A0A0A] border border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-300 font-mono focus:border-blue-500 outline-none",value:B.produrl,onChange:S=>d({...B,produrl:S.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-1",children:[l.jsx("button",{onClick:()=>z(!1),className:"text-xs font-bold text-gray-400 hover:text-white px-4 py-2 rounded-lg hover:bg-white/5 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:m,className:"bg-green-600 hover:bg-green-500 text-white px-5 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg shadow-green-900/20",children:"Save Changes"})]})]}):l.jsxs("div",{className:"bg-[#0A0A0A] border border-gray-800 rounded-2xl p-5 flex items-center justify-between group hover:border-gray-600 transition-all hover:shadow-lg hover:shadow-black/50",children:[l.jsxs("div",{className:"flex flex-col gap-2 overflow-hidden",children:[l.jsx("div",{className:"font-bold text-white text-lg truncate pr-4 group-hover:text-blue-400 transition-colors",children:c.category}),l.jsxs("div",{className:"flex items-center gap-6 text-xs font-mono text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-2 bg-gray-900 px-2 py-1 rounded border border-gray-800",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),l.jsx("span",{className:"truncate max-w-[250px]",title:c.devurl,children:c.devurl||"http://localhost:3200"})]}),l.jsxs("span",{className:"flex items-center gap-2 bg-gray-900 px-2 py-1 rounded border border-gray-800",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),l.jsx("span",{className:"truncate max-w-[250px]",title:c.produrl,children:c.produrl||"http://localhost:3200"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>z(!0),className:"p-3 text-gray-400 hover:text-white hover:bg-blue-600 rounded-xl transition-all",title:"Edit",children:l.jsx("i",{className:"fas fa-pen"})}),l.jsx("button",{onClick:g,className:"p-3 text-gray-400 hover:text-white hover:bg-red-600 rounded-xl transition-all",title:"Delete",children:l.jsx("i",{className:"fas fa-trash"})})]})]})}function rv(){const c=De.use.isCodePreviewOpen(),p=De.use.setIsCodePreviewOpen(),u=De.use.crudData(),v=De.use.selectedRoute(),M=De.use.activeParams(),z=De.use.activeHeaders(),B=De.use.activeBody(),d=De.use.useProd(),m=v&&u[v.catIndex]?.items[v.itemIndex],g=v&&u[v.catIndex],S=m||null,f=M,y=z,A=B,T=g?.devurl||"",E=g?.produrl||"",[n,_]=he.useState("");he.useEffect(()=>{c&&S&&h()},[c,S,f,y,A,d]);const h=()=>{if(!S)return;const o=d?E:T,b=f||"",C=`${o}${S.route}${b}`,R=S.methods||"GET",k=R==="STREAM",x=k?"GET":R,D=y||"{}",q=A||"{}",F=K=>`<span class="text-pink-400 font-bold">${K}</span>`,U=K=>`<span class="text-yellow-300">"${K}"</span>`,W=K=>`<span class="text-green-400">${K}</span>`,se=K=>`<span class="text-gray-500 italic">${K}</span>`,re="    ";let P="";if(k)P+=`${F("const")} response = ${F("await")} ${W("fetch")}(${U(C)}, {
`,P+=`${re}method: ${U(x)},
`,P+=`${re}headers: ${D.replace(/\n/g,`
`+re)},
`,P+=`});

`,P+=`${se("// Handle Stream")}
`,P+=`${F("const")} reader = response.body.${W("getReader")}();
`,P+=`${F("const")} decoder = ${F("new")} ${W("TextDecoder")}(${U("utf-8")});

`,P+=`${F("while")} (${F("true")}) {
`,P+=`${re}${F("const")} { done, value } = ${F("await")} reader.${W("read")}();
`,P+=`${re}${F("if")} (done) ${F("break")};
`,P+=`${re}${F("const")} chunk = decoder.${W("decode")}(value, { stream: ${F("true")} });
`,P+=`${re}${W("console")}.${W("log")}(chunk);
`,P+="}";else{P+=`${F("const")} response = ${F("await")} ${W("fetch")}(${U(C)}, {
`,P+=`${re}method: ${U(x)},
`;let K=D.trim();if(K.includes(`
`)&&(K=K.split(`
`).map((j,H)=>H===0?j:re+j).join(`
`)),P+=`${re}headers: ${K},
`,x!=="GET"&&x!=="HEAD"){let j=q.trim();try{const H=JSON.parse(j);j=JSON.stringify(H,null,4),j=j.split(`
`).map((I,N)=>N===0?I:re+I).join(`
`)}catch{}P+=`${re}body: ${W("JSON")}.${W("stringify")}(${j})
`}P+=`});

`,P+=`${F("const")} data = ${F("await")} response.${W("json")}();
`,P+=`${W("console")}.${W("log")}(data);`}_(P)};return c?l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-transparent pointer-events-none"}),l.jsxs("div",{className:"relative bg-[#0A0A0A] border border-gray-800 rounded-2xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500/5 pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-800 bg-[#0A0A0A] relative z-10",children:[l.jsxs("h3",{className:"font-bold text-white text-xl flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:l.jsx("i",{className:"fas fa-code"})}),"Code Preview"]}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-white transition-colors w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/5",children:l.jsx("i",{className:"fas fa-times text-lg"})})]}),l.jsx("div",{className:"flex-1 p-0 overflow-hidden relative z-10 bg-[#050505]",children:l.jsx("div",{className:"h-full overflow-auto custom-scrollbar p-6",children:l.jsx("pre",{className:"font-mono text-sm text-gray-300 whitespace-pre leading-relaxed",dangerouslySetInnerHTML:{__html:n}})})}),l.jsx("div",{className:"px-8 py-5 border-t border-gray-800 bg-[#0A0A0A] flex justify-end items-center relative z-10 box-border",children:l.jsxs("button",{onClick:()=>{const o=document.createElement("div");o.innerHTML=n;const b=o.textContent||o.innerText||"";navigator.clipboard.writeText(b)},className:"group relative px-6 py-2.5 rounded-xl text-sm font-bold text-white overflow-hidden transition-all hover:scale-105 shadow-lg shadow-blue-600/25",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-copy"}),"Copy to Clipboard"]})]})})]})]}):null}function nv(c){const p=De.use.crudData(),u=De.use.selectedRoute(),v=De.use.viewMode(),M=De.use.isPresetsOpen(),z=De.use.activeBody(),B=De.use.activeParams(),d=De.use.setIsPresetsOpen(),m=De.use.setActiveBody(),g=De.use.setActiveParams(),S=De.use.handlePresetSelect(),f=u&&p[u.catIndex]?.items[u.itemIndex],y=u&&p[u.catIndex];return l.jsxs("div",{className:`flex h-full w-full opacity-0 animate-fade-in ${c.isVisible?"opacity-100":""}`,children:[l.jsxs("div",{className:"w-[340px] h-full flex-none  flex flex-col z-20",children:[l.jsxs("div",{className:"h-14 px-4 flex-none flex items-center justify-between border-b border-white/5 bg-gradient-to-r from-blue-900/10 to-transparent",children:[l.jsxs("span",{className:"text-xs font-bold uppercase text-blue-400 tracking-widest flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-database"}),"CRUD Explorer"]}),l.jsx("button",{className:"text-gray-500 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-lg",children:l.jsx("i",{className:"fas fa-sync-alt text-xs"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",id:"crud-nav-container",children:l.jsx(Zg,{})})]}),l.jsx("div",{id:"crud-main-content",className:"flex-1 flex flex-col relative overflow-hidden",children:v==="manage"?l.jsx(iv,{}):l.jsx(l.Fragment,{children:f&&y?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"h-16 flex items-center px-6 gap-6 z-20",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1 border border-white/5",children:[l.jsx("button",{id:"crud-btn-dev",className:"px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/20",title:y.devurl,children:"Dev"}),l.jsx("button",{id:"crud-btn-prod",className:"px-4 py-1.5 text-[10px] font-bold uppercase rounded-lg transition-all text-gray-500 hover:text-gray-300 hover:bg-white/5",title:y.produrl,children:"Prod"})]}),l.jsx("div",{className:"h-8 w-px bg-white/10"}),l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("span",{id:"crud-info-avail",className:"px-2.5 py-1 rounded-md text-[10px] uppercase font-bold tracking-wider bg-gray-800 text-gray-400 border border-white/5",children:f.availableFor}),l.jsxs("div",{className:"flex items-baseline gap-2 overflow-hidden",children:[l.jsx("span",{className:"text-gray-500 font-mono text-sm",children:"LOCALHOST://"}),l.jsx("span",{id:"crud-info-route",className:"font-bold text-gray-200 text-lg sm:text-lg truncate",children:f.route})]}),l.jsx("span",{id:"crud-info-method",className:"ml-auto font-mono text-xs font-bold text-blue-400 bg-blue-500/10 border border-blue-500/20 px-3 py-1 rounded-lg",children:f.methods})]})]}),l.jsxs("div",{className:"py-4 px-6 flex flex-col gap-5 relative z-20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h1",{id:"crud-info-label",className:"text-xl font-bold text-white tracking-tight flex-none",children:f.label}),l.jsx("div",{className:"h-5 w-px bg-white/10"}),l.jsx("p",{id:"crud-info-desc",className:"text-sm text-gray-400 truncate flex-1 font-light",children:f.description||"No description provided."})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{className:"group relative px-6 py-2 rounded-xl font-bold text-xs tracking-wide text-white overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-lg shadow-blue-600/20 flex-none h-10 flex items-center gap-2",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600"}),l.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx("span",{className:"relative z-10",children:"SEND REQUEST"}),l.jsx("i",{className:"fas fa-paper-plane relative z-10"})]}),l.jsxs("div",{className:"relative flex-none",id:"crud-presets-container",children:[l.jsxs("button",{id:"crud-presets-btn",className:"flex items-center justify-between gap-3 bg-white/5 hover:bg-white/10 text-gray-300 text-xs font-medium px-4 h-10 rounded-xl border border-white/10 transition-all w-48 group",onClick:()=>d(!M),disabled:!f.suggested||f.suggested.length===0,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-list-ul text-[10px] text-gray-500 group-hover:text-blue-400 transition-colors"}),l.jsx("span",{id:"crud-presets-label",children:"Presets"})]}),l.jsx("i",{className:`fas fa-chevron-down text-[10px] opacity-50 transition-transform ${M?"rotate-180":""}`})]}),M&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>d(!1)}),l.jsx("div",{id:"crud-presets-menu",className:"absolute top-full left-0 mt-2 w-64 bg-[#0A0A0A] border border-gray-700 rounded-xl shadow-2xl z-[100] overflow-hidden flex flex-col py-2 animate-fade-in-down",children:f.suggested.map((A,T)=>l.jsxs("button",{className:"flex items-center gap-3 px-4 py-2.5 hover:bg-white/5 text-left transition-colors group border-l-2 border-transparent hover:border-blue-500 mx-1 rounded-r-lg",onClick:()=>S(A),children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-900 border border-gray-800 flex items-center justify-center group-hover:border-blue-500/30 transition-colors",children:l.jsx("i",{className:"fas fa-file-code text-gray-500 group-hover:text-blue-400 text-xs transition-colors"})}),l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("span",{className:"font-medium text-gray-200 text-xs truncate group-hover:text-white transition-colors",children:A.name}),A.urlparams&&l.jsx("span",{className:"text-[10px] text-gray-600 font-mono truncate group-hover:text-gray-500",children:A.urlparams})]})]},T))})]})]}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 bg-black/40 border border-white/5 rounded-xl px-4 h-10 focus-within:border-blue-500/50 focus-within:ring-1 focus-within:ring-blue-500/20 transition-all group hover:border-white/10",children:[l.jsx("i",{className:"fas fa-code-branch text-gray-600 text-xs group-focus-within:text-blue-500 transition-colors"}),l.jsx("input",{type:"text",id:"crud-param-input",placeholder:"Query Params (e.g. ?id=123)",className:"bg-transparent border-none text-xs text-gray-300 w-full focus:outline-none placeholder-gray-700 font-mono h-full",value:B,onChange:A=>g(A.target.value)})]}),l.jsxs("div",{className:"flex-none bg-black/40 border border-white/5 rounded-xl px-4 h-10 flex items-center gap-3",children:[l.jsx("span",{className:"text-[10px] text-gray-600 uppercase font-bold tracking-wider",children:"Latency"}),l.jsx("span",{id:"crud-timer",className:"text-green-400 font-mono font-bold text-sm",children:"0 ms"})]})]})]}),l.jsxs("div",{id:"crud-grid-layout",className:"flex-1 grid grid-cols-3 gap-0 min-h-0 transition-all duration-300",children:[l.jsxs("div",{className:"grid grid-rows-12 grid-cols-1 h-full p-0 gap-0 min-h-0 ",children:[l.jsx("div",{id:"input-header-container",className:"row-span-4 min-h-0 ",children:l.jsx("div",{className:"h-full p-3",children:l.jsx(Zd,{title:"Request Headers",initialValue:"{}"})})}),l.jsx("div",{id:"input-body-container",className:"row-span-8 min-h-0",children:l.jsx("div",{className:"h-full p-3",children:l.jsx(Zd,{title:"Request Body",initialValue:z,onChange:A=>m(A)})})})]}),l.jsx("div",{className:"flex flex-col h-full min-h-0 ",children:l.jsx("div",{id:"output-container",className:"h-full p-3",children:l.jsx(ev,{output:{status:200,statusText:"OK",data:f.expectedOutcome,headers:{"content-type":"application/json"}},onShowCode:()=>De.getState().setIsCodePreviewOpen(!0)})})}),l.jsx("div",{className:"flex flex-col h-full min-h-0",children:l.jsx("div",{id:"suggest-container-wrapper",className:"h-full p-3",children:l.jsx(tv,{value:f.suggested})})})]})]}):l.jsxs("div",{id:"crud-empty-state",className:"relative z-10 flex-1 flex items-center justify-center text-gray-600 flex-col gap-6 opacity-60 select-none animate-pulse",children:[l.jsx("div",{className:"w-32 h-32 rounded-full bg-white/5 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-rocket text-6xl text-gray-700"})}),l.jsx("p",{className:"text-xl font-medium tracking-tight",children:"Select an endpoint to start testing"})]})})}),l.jsx(Jg,{}),l.jsx(rv,{})]})}function av({isOpen:c,setIsOpen:p}){return c?l.jsxs("div",{onClick:()=>p(!1),className:"fixed inset-0 z-[999999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:[l.jsx("div",{className:"w-full max-w-lg bg-[#111] border border-white/10 rounded-xl shadow-2xl overflow-hidden scale-100 animate-scaleIn relative",children:l.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-20 h-20 mb-6 rounded-2xl bg-gradient-to-br from-blue-600 to-purple-600 p-[1px] shadow-lg shadow-purple-500/20",children:l.jsx("div",{className:"w-full h-full bg-black rounded-2xl flex items-center justify-center overflow-hidden",children:l.jsx(ep,{className:"w-12 h-12"})})}),l.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Monorepo",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:" Time"})]}),l.jsx("span",{className:"px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400 font-mono mb-6",children:"v1.0.0"}),l.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed max-w-sm",children:"The ultimate tool for managing your monorepos with speed and style. Streamline your workflow, visualize dependencies, and execute commands effortlessly."}),l.jsx("div",{className:"flex gap-4 text-sm",children:l.jsxs("a",{href:"https://github.com/AngheloAmir/Monorepo-Time",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fab fa-github"})," Repository"]})})]})}),l.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
                .animate-fadeIn { animation: fadeIn 0.2s ease-out forwards; }
                .animate-scaleIn { animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
            `})]}):null}function lv(){const c=gc.use.currentPage(),p=si.use.loadRootDir(),u=si.use.checkIfFirstTime(),v=si.use.showAboutModal(),M=si.use.setShowAboutModal(),[z,B]=he.useState(!1),[d,m]=he.useState(!0);return he.useEffect(()=>{setTimeout(async()=>{await u()&&B(!0),await p(),m(!1)},0)},[]),d?l.jsx(Wg,{}):z?l.jsx(Fg,{onComplete:()=>B(!1)}):l.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-black relative",children:[l.jsx(ip,{}),l.jsxs("div",{className:"flex flex-1 overflow-hidden h-full w-full ",children:[l.jsx(lm,{}),l.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[l.jsx("div",{className:"absolute -top-[25%] -left-[10%] w-[50%] h-[50%] bg-blue-600/20 rounded-full blur-[128px]"}),l.jsx("div",{className:"absolute top-[20%] right-[10%] w-[40%] h-[40%] bg-purple-600/20 rounded-full blur-[128px]"}),l.jsx("div",{className:"absolute -bottom-[25%] -right-[10%] w-[50%] h-[50%] bg-fuchsia-600/20 rounded-full blur-[128px]"})]}),l.jsxs("div",{id:"app-content",className:"w-full max-w-[2100px] mx-auto h-full relative z-10",children:[l.jsx(gm,{isVisible:c==="dashboard"}),l.jsx(qg,{isVisible:c==="workspace"}),l.jsx(Kg,{isVisible:c==="turborepo"}),l.jsx(nv,{isVisible:c==="crud"})]})]})]}),l.jsx(Ig,{}),l.jsx(Pg,{}),l.jsx(av,{isOpen:v,setIsOpen:()=>M(!1)})]})}W_.createRoot(document.getElementById("root")).render(l.jsx(he.StrictMode,{children:l.jsx(lv,{})}));
